var e={82142:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(18566),r(67294),r(56537),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=h();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let y=function(e){u(r,e);var t=l(r);function r(e){var i;o(this,r);i=t.call(this,e);v(d(i),"destroy",false);v(d(i),"_btnOnClick",(e=>{(0,n.reactStopPropagation)(e);const{onClick:t,disabled:r,loading:o}=i.props;const{ing:a}=i.state;if(t&&!(r||o||a)){i.setState({ing:true},(()=>{const e=t();if(e&&e.then){e.then((()=>{i._setIng(false)}))}else{i._setIng(false)}}))}}));v(d(i),"_setIng",(e=>{if(i.destroy){return}i.setState({ing:e})}));i.state={ing:false};i.destroy=false;return i}s(r,[{key:"componentWillUnmount",value:function e(){this.destroy=true}},{key:"render",value:function e(){const{type:t,color:r,size:n,title:o,disabled:a,children:s,loading:u,className:c,dataTestid:l,style:f,dataFunc:d}=this.props;let h=`meta-button ${t} ${r} ${n} ${t} ${c}`;const{ing:p}=this.state;if(u){h+=" loading"}if(p||a){h+=" disabled"}return(0,i.jsx)("div",{className:h,onClick:this._btnOnClick,"data-function":d,title:o,"data-testid":l,style:f,children:(0,i.jsx)("div",{className:"btn-text ",children:s})})}}]);return r}(r.Component);v(y,"defaultProps",{type:t.typeMap.FILL,color:t.colorMap.BLUE,size:t.sizeMap.NORMAL,title:"",className:"",loading:false,disabled:false});v(y,"typeMap",t.typeMap);v(y,"sizeMap",t.sizeMap);v(y,"colorMap",t.colorMap);var _=e.default=y}))},18566:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.typeMap=e.sizeMap=e.colorMap=void 0;const t=e.typeMap={STROKE:"stroke",FILL:"fill"};const r=e.colorMap={BLUE:"blue",WHITE:"white",GRAY:"gray",RED:"red",GREEN:"green"};const n=e.sizeMap={NORMAL:"normal",SMALL:"small",LARGE:"large",X_LANGE:"x-large"}}))},14197:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(18566),r(82142)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"colorMap",{enumerable:true,get:function(){return t.colorMap}});e.default=void 0;Object.defineProperty(e,"sizeMap",{enumerable:true,get:function(){return t.sizeMap}});Object.defineProperty(e,"typeMap",{enumerable:true,get:function(){return t.typeMap}});r=n(r);function n(e){return e&&e.__esModule?e:{default:e}}var i=e.default=r.default}))},41175:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(14197),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.DefaultFooter=void 0;t=i(t);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==typeof t?t:t+""}function c(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const l=({cancelText:e,cancelButtonProps:n={},cancelClick:i=()=>{},okText:o,okButtonProps:s={},okClick:u})=>(0,r.jsxs)(r.Fragment,{children:[e&&(0,r.jsx)(t.default,a(a({className:"meta-modal-footer-button",type:t.typeMap.STROKE,size:t.sizeMap.SMALL,title:e,onClick:i,color:t.colorMap.BLUE},n),{},{dataTestid:"confirmButtonCancel0123",children:e})),o&&(0,r.jsx)(t.default,a(a({className:"meta-modal-footer-button",type:t.typeMap.FILL,size:t.sizeMap.SMALL,title:o,onClick:u,color:t.colorMap.BLUE},s),{},{style:{marginLeft:"10px"},dataTestid:"confirmButtonOk0123",children:o}))]});e.DefaultFooter=l}))},20685:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(61431),r(56537),r(73935),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;r=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=v();return function(){var r,n=g(e);if(t){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=_(e,"string");return"symbol"==typeof t?t:t+""}function _(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let b=e.default=function(e){l(a,e);var t=d(a);function a(){s(this,a);return t.apply(this,arguments)}c(a,[{key:"render",value:function e(){let{title:t,content:a,footer:s,getContainer:u,visible:c,transitionName:l,width:f,maskTransitionName:d,mask:h,zIndex:p,maskClosable:v,keyboard:g,onClose:m}=this.props;if(!c){return null}let y="meta-modal";if((0,n.formatType)(a)===n.formatType.STRING){y+="-text"}return(0,i.createPortal)((0,o.jsx)("div",{children:(0,o.jsx)(r.default,{transitionName:l||"zoom",closable:false,title:t,getContainer:u||false,footer:s,visible:c,closeIcon:null,width:f,maskTransitionName:d||"fade",mask:h,zIndex:p,maskClosable:v,prefixCls:y,keyboard:g,onClose:m,children:(0,n.formatType)(a)===n.formatType.STRING?(0,o.jsx)("span",{className:"meta-modal-body-content",title:a===null||a===void 0?void 0:a.toString(),children:a}):a})}),document.body)}}]);return a}(t.Component);m(b,"defaultProps",{getContainer:()=>document.body,mask:true,maskClosable:false,maskStyle:null,title:"",keyboard:false,visible:false});m(b,"alert",void 0);m(b,"confirm",void 0);m(b,"destroyAll",void 0);m(b,"showModalView",void 0);m(b,"destroyById",void 0)}))},26491:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(8219),r(20745),r(20685),r(41175),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=s;n=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function s({keyboard:e,okText:a="确定",okButtonProps:s,content:u="",zIndex:c,dialogId:l}){const f=document.createElement("div");document.body.appendChild(f);const d=(0,r.createRoot)(f);return new Promise((r=>{const h=({isClickClose:e=false}={})=>{const n=(0,t.getDialogCloseFuncList)();requestAnimationFrame((()=>{var e;d.unmount();f===null||f===void 0?void 0:(e=f.parentNode)===null||e===void 0?void 0:e.removeChild(f)}));const i=n.findIndex((e=>e.onClose===h));if(i>-1){n.splice(i,1)}r({isClickClose:e})};const p=()=>{h({isClickClose:true})};d.render((0,o.jsx)(n.default,{visible:true,width:280,maskClosable:false,onOk:p,content:u,keyboard:e,zIndex:c,footer:(0,o.jsx)(i.DefaultFooter,{cancelText:"",okButtonProps:s,okClick:p,okText:a})}));(0,t.setDialogCloseFunc)({onClose:h,keyboard:e,dialogId:l})}))}}))},42839:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(8219),r(20745),r(20685),r(41175),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=s;n=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function s({keyboard:e,okText:a="确定",okButtonProps:s,cancelText:u="取消",cancelButtonProps:c,content:l="",zIndex:f,dialogId:d}){const h=document.createElement("div");document.body.appendChild(h);const p=(0,r.createRoot)(h);return new Promise((r=>{const v=({ret:e=false,isClickClose:n=false}={})=>{const i=(0,t.getDialogCloseFuncList)();requestAnimationFrame((()=>{var e;p.unmount();h===null||h===void 0?void 0:(e=h.parentNode)===null||e===void 0?void 0:e.removeChild(h)}));const o=i.findIndex((e=>e.onClose===v));if(o>-1){i.splice(o,1)}r({ret:e,isClickClose:n})};const g=()=>{v({ret:true})};p.render((0,o.jsx)(n.default,{visible:true,width:280,maskClosable:false,onOk:g,content:l,keyboard:e,zIndex:f,footer:(0,o.jsx)(i.DefaultFooter,{cancelButtonProps:c,cancelClick:()=>v({}),cancelText:u,okButtonProps:s,okClick:g,okText:a})}));(0,t.setDialogCloseFunc)({onClose:v,keyboard:e,dialogId:d})}))}}))},8219:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.setDialogCloseFunc=e.getDialogCloseFuncList=void 0;const t=[];const r=e=>{t.push(e)};e.setDialogCloseFunc=r;const n=()=>t;e.getDialogCloseFuncList=n}))},85807:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(20685),r(42839),r(26491),r(8219),r(20745),r(74751),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;e.showModalView=f;t=u(t);r=u(r);n=u(n);function u(e){return e&&e.__esModule?e:{default:e}}const c=()=>{const e=(0,i.getDialogCloseFuncList)();[...e].forEach((e=>{e.onClose({ret:false,isClickClose:true})}))};const l=e=>{const t=(0,i.getDialogCloseFuncList)();if(e){var r;(r=t.find((t=>t.dialogId===e)))===null||r===void 0?void 0:r.onClose({ret:false,isClickClose:false})}};function f({content:e,zIndex:r,maskClosable:n}){const i=document.createElement("div");document.body.appendChild(i);const u=(0,o.createRoot)(i);const c=()=>{(0,a.getPLogger)().info("closeModal");requestAnimationFrame((()=>{var e;u.unmount();i===null||i===void 0?void 0:(e=i.parentNode)===null||e===void 0?void 0:e.removeChild(i)}))};u.render((0,s.jsx)(t.default,{visible:true,maskClosable:n,content:e,zIndex:r,onClose:c}));return c}t.default.alert=n.default;t.default.confirm=r.default;t.default.showModalView=f;t.default.destroyAll=c;t.default.destroyById=l;document.addEventListener("keydown",(e=>{const t=(0,i.getDialogCloseFuncList)();if(t.length>0){const r=t[t.length-1];if(r.keyboard){if(e.code==="Enter"||e.code==="NumpadEnter"){r.onClose({ret:true})}}}}));var d=e.default=t.default}))},74991:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(93967),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=n(t);function n(e){return e&&e.__esModule?e:{default:e}}var i=({className:e="",progress:n=0,color:i,backColor:o})=>{e=(0,t.default)("meta-line-progress",e);return(0,r.jsx)("div",{className:e,style:{background:o},children:(0,r.jsx)("div",{className:"progress-content",style:{transform:`translateX(-${100-n}%)`,background:i}})})};e.default=i}))},35520:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(50680),r(14197),r(85807),r(74991)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"Button",{enumerable:true,get:function(){return r.default}});Object.defineProperty(e,"Checkbox",{enumerable:true,get:function(){return t.Checkbox}});Object.defineProperty(e,"ErrorBoundary",{enumerable:true,get:function(){return t.ErrorBoundary}});Object.defineProperty(e,"LineProgress",{enumerable:true,get:function(){return i.default}});Object.defineProperty(e,"Modal",{enumerable:true,get:function(){return n.default}});Object.defineProperty(e,"Option",{enumerable:true,get:function(){return t.Option}});Object.defineProperty(e,"QrCode",{enumerable:true,get:function(){return t.QrCode}});Object.defineProperty(e,"Scroller",{enumerable:true,get:function(){return t.Scroller}});Object.defineProperty(e,"Select",{enumerable:true,get:function(){return t.Select}});Object.defineProperty(e,"SequenceFrames",{enumerable:true,get:function(){return t.SequenceFrames}});Object.defineProperty(e,"SoundColumn",{enumerable:true,get:function(){return t.SoundColumn}});Object.defineProperty(e,"SvgIcon",{enumerable:true,get:function(){return t.SvgIcon}});Object.defineProperty(e,"SwitchBtn",{enumerable:true,get:function(){return t.SwitchBtn}});Object.defineProperty(e,"TextArea",{enumerable:true,get:function(){return t.TextArea}});Object.defineProperty(e,"TextInput",{enumerable:true,get:function(){return t.TextInput}});Object.defineProperty(e,"Toast",{enumerable:true,get:function(){return t.Toast}});Object.defineProperty(e,"toast",{enumerable:true,get:function(){return t.toast}});r=o(r);n=o(n);i=o(i);function o(e){return e&&e.__esModule?e:{default:e}}}))},7780:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.AutoQueryData=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(){"use strict";c=function e(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),s=new M(n||[]);return o(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==n&&i.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function e(r,i){function o(){return new t((function(e,t){n(r,i,e,t)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=E,o(C,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function o(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=_(e,"string");return"symbol"==r(t)?t:t+""}function _(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b=e.AutoQueryData=function(){function e(t){p(this,e);m(this,"_opts",void 0);m(this,"_data",void 0);m(this,"_timer",void 0);m(this,"_count",0);m(this,"_firstProm",void 0);this._opts=this._getOpts(t);this._dealGetDataFunc("constructor")}return g(e,[{key:"_getOpts",value:function e(r){if((0,t.formatType)(r)!==t.formatType.OBJECT){throw new Error("opts must a object")}(0,t.getPLogger)().debug("_getOpts",(0,t.formatType)(r.getDataFunc),(0,t.formatType)(r.args));if((0,t.formatType)(r.getDataFunc)!==t.formatType.FUNCTION&&(0,t.formatType)(r.getDataFunc)!==t.formatType.ASYNCFUNCTION){throw new Error("opts.getDataFunc must a function")}if((0,t.formatType)(r.args)!==t.formatType.ARRAY&&(0,t.formatType)(r.args)!==t.formatType.UNDEFINED){throw new Error("opts.args must a array or undefined")}var n=h({},r);if((0,t.formatType)(n.delay)!==t.formatType.NUMBER){n.delay=3e4}return n}},{key:"getSyncData",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";r+=",getSyncData";if(!this._timer){this._dealGetDataFunc(r)}(0,t.getPLogger)().debug(r,this._data);return this._data}},{key:"getData",value:function(){var e=f(c().mark((function e(){var r,n=arguments;return c().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r=n.length>0&&n[0]!==undefined?n[0]:"";r+=",getData";if(this._timer){i.next=5;break}i.next=5;return this._dealGetDataFunc(r);case 5:if(!this._firstProm){i.next=8;break}i.next=8;return this._firstProm;case 8:(0,t.getPLogger)().debug(r,this._data);return i.abrupt("return",this._data);case 10:case"end":return i.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()},{key:"stop",value:function e(){(0,t.getPLogger)().debug("stop",this._data);if(this._timer){clearInterval(this._timer)}delete this._timer;delete this._data;delete this._firstProm;this._count=0}},{key:"_dealGetDataFunc",value:function(){var e=f(c().mark((function e(r){var i=this,o;return c().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r+=",_dealGetDataFunc";this._timer=setInterval(f(c().mark((function e(){var o;return c().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return(o=i._opts).getDataFunc.apply(o,n(i._opts.args||[]));case 2:i._data=a.sent;i._count++;(0,t.getPLogger)().debug(r,i._count,i._data);case 5:case"end":return a.stop()}}),e)}))),this._opts.delay);this._count++;this._firstProm=(o=this._opts).getDataFunc.apply(o,n(this._opts.args||[]));a.next=6;return this._firstProm;case 6:this._data=a.sent;(0,t.getPLogger)().debug(r,this._count,this._data);case 8:case"end":return a.stop()}}),e,this)})));function r(t){return e.apply(this,arguments)}return r}()}])}()}))},19110:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LazyLoad=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u={};var c=e.LazyLoad=function(){function e(){n(this,e)}return o(e,null,[{key:"getRealLazyApi",value:function r(n,i,o){(0,t.getPLogger)().debug("getRealLazyApi",n,i,o);if((0,t.formatType)(n)!==t.formatType.STRING||(0,t.formatType)(i)!==t.formatType.STRING||(0,t.formatType)(o)!==t.formatType.OBJECT||n===""||i===""){return{}}var a=o;var s=Object.keys(o);var u=Object.getOwnPropertyNames(Object.getPrototypeOf(o));if(u.includes("constructor")){u.splice(u.indexOf("constructor"),1)}var c=s.concat(u);(0,t.getPLogger)().info("getRealLazyApi loadScript, "+n);c.forEach((function(r){if((0,t.formatType)(a[r])===t.formatType.FUNCTION){a[r]=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++){s[u]=arguments[u]}return e.loadScript(n,i).then((function(){var e;(0,t.getPLogger)().info("getRealLazyApi loadScript, real do "+n+"."+r);if(((e=window)===null||e===void 0?void 0:e[n][r])===a[r]){(0,t.getPLogger)().error("getRealLazyApi loadScript, script is error,"+n+"."+r)}else{var i,o;return(i=window)===null||i===void 0||(i=i[n])===null||i===void 0||(i=i[r])===null||i===void 0?void 0:i.apply((o=window)===null||o===void 0?void 0:o[n],s)}return undefined}))["catch"]((function(e){(0,t.getPLogger)().error("getRealLazyApi loadScript,lazy load "+n,e)}))}}}));return a}},{key:"loadScript",value:function e(r,n){(0,t.getPLogger)().debug("loadScript",r,n);if((0,t.formatType)(r)!==t.formatType.STRING||(0,t.formatType)(n)!==t.formatType.STRING||r===""||n===""){return Promise.resolve(undefined)}if(!u[r]){var i=document.createElement("script");i.async=true;u[r]=new Promise((function(e,n){i.onload=function(){var n;(0,t.getPLogger)().info("loadScript, load "+r+" success");e((n=window)===null||n===void 0?void 0:n[r])};i.onerror=function(){(0,t.getPLogger)().error("loadScript, load "+r+" error");n(new Error("load resource error"))}}));i.src=n;document.head.appendChild(i)}else{(0,t.getPLogger)().info("loadScript, not load "+r+" again")}return u[r]}},{key:"loadCss",value:function e(r){(0,t.getPLogger)().info("loadCss",r);if((0,t.formatType)(r)!==t.formatType.STRING||r===""){return Promise.resolve(undefined)}return new Promise((function(e){var n=document.createElement("link");n.rel="stylesheet";n.href=r;n.onload=function(){(0,t.getPLogger)().info("loadCss, load "+r+" success");e(true)};n.onerror=function(){(0,t.getPLogger)().info("loadCss, load "+r+" error");e(false)};document.head.appendChild(n)}))}}])}()}))},5154:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.ReactUtil=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==r(t)?t:t+""}function h(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=e.ReactUtil=function(){function e(){c(this,e)}return f(e,null,[{key:"showDifferentProperty",value:function e(t,r,n){var i=[];if(false){}return i}},{key:"reactStopPropagation",value:function e(t){var r,n,i,o,a;t===null||t===void 0||(r=t.stopPropagation)===null||r===void 0||r.call(t);t===null||t===void 0||(n=t.nativeEvent)===null||n===void 0||(i=n.stopPropagation)===null||i===void 0||i.call(n);t===null||t===void 0||(o=t.nativeEvent)===null||o===void 0||(a=o.stopImmediatePropagation)===null||a===void 0||a.call(o)}}])}()}))},67264:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RequestTasksQueue=void 0;function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(){"use strict";r=function e(){return n};var e,n={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==i&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,r){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==t(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):r.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(t,o){function a(){return new r((function(e,r){n(t,o,e,r)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function t(){for(;++i<r.length;)if(o.call(r,i))return t.value=r[i],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(r)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),n.AsyncIterator=R,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new R(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},n.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},n}function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e){return c(e)||u(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var r=g(e,"string");return"symbol"==t(r)?r:r+""}function g(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var m=e.RequestTasksQueue=d((function e(t){var n=this;var a=t.taskFunc,s=t.logger,u=t.timeout,c=u===void 0?5e4:u;h(this,e);p(this,"_queueData",void 0);p(this,"_taskFunc",void 0);p(this,"logger",void 0);p(this,"_timeout",void 0);p(this,"_isRunning",void 0);p(this,"dealTask",(function(e){var t,r;var i=e.args,o=e.timeout;var a="dealTask";var s=Date.now();(t=n.logger)===null||t===void 0||(r=t.debug)===null||r===void 0||r.call(t,a,"start");return new Promise((function(e){o=o||n._timeout;var t=setTimeout((function(){var t,r;(t=(r=n.logger).info)===null||t===void 0||t.call(r,a,"timeout",Date.now()-s);e({reason:"timeout,"+o});n._isRunning=false}),o);n._queueData.push([i,function(r){var i,o;(i=n.logger)===null||i===void 0||(o=i.debug)===null||o===void 0||o.call(i,a,"over,use time",Date.now()-s);clearTimeout(t);e(r)}]);if(!n._isTaskRunning()){n._dealTask()}}))}));p(this,"_dealTask",(function(){if(n._getNoDealDataSize()>0){var e=n._getWillDealData();n._isRunning=true;n._dealTaskFunc.apply(n,o(e[0])).then((function(t){e[1](t);n._dealTask()}))["catch"]((function(t){var r,i;(r=n.logger)===null||r===void 0||(i=r.error)===null||i===void 0||i.call(r,"_dealTask error",t);e[1]({reason:"catch error",error:t});n._dealTask()}))}else{n._isRunning=false}}));p(this,"_dealTaskFunc",i(r().mark((function e(){var t=arguments;return r().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",n._taskFunc.apply(n,t));case 1:case"end":return r.stop()}}),e)}))));p(this,"_getNoDealDataSize",(function(){return n._queueData.length}));p(this,"_isTaskRunning",(function(){return n._isRunning}));p(this,"_getWillDealData",(function(){return n._queueData.shift()}));this.logger=s||{info:function e(){}};this._queueData=[];this._taskFunc=a;this._isRunning=false;this._timeout=c}))}))},71119:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(32747),r(74751),r(83132),r(84065),r(79272)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Timer=void 0;var s,u,c,l,f,d,h,p,v;function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function y(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=E(e,"string");return"symbol"==a(t)?t:t+""}function E(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function S(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var w=(0,r.getPLogger)();var T=function e(r,n){var i;return(r===null||r===void 0||(i=r.constructor)===null||i===void 0?void 0:i.name)===t.TimerTask.name&&n>0};var C=e.Timer=(s=(0,i.printfDecorator)(w),u=(0,i.printfDecorator)(w),c=(0,i.printfDecorator)(w),l=(0,i.customDecorator)({preMethodDeal:T}),f=(0,i.printfDecorator)(w),d=(0,i.customDecorator)({preMethodDeal:T}),h=(0,i.printfDecorator)(w),p=(v=function(){function e(t){var r=this;g(this,e);_(this,"_timerHandlers",[]);_(this,"_cancelTaskIdList",[]);_(this,"userWebWorker",false);_(this,"setTimeout",(function(e,t){if(r.userWebWorker){return o.WebWorkerUtil.setWorkerTimeout(e,t)}return setTimeout(e,t)}));_(this,"clearTimeout",(function(e){if(r.userWebWorker){return o.WebWorkerUtil.clearWorkerTimeout(e)}return clearTimeout(e)}));if(t!==null&&t!==void 0&&t.userWebWorker){this.userWebWorker=true}this.schedule=this.schedule.bind(this);this.scheduleFixedInterval=this.scheduleFixedInterval.bind(this);this.cancel=this.cancel.bind(this);w.debug("Timer.constructor",t)}return y(e,[{key:"cancel",value:function e(){var t=this;w.debug("Timer.cancel");this._timerHandlers.forEach((function(e){return t._cancelTask(e)}));this._timerHandlers=[];return this}},{key:"purge",value:function e(){w.debug("Timer.purge");var t;var r;for(var n=this._timerHandlers.length-1;n>-1;n--){t=this._timerHandlers[n].task;if(t.isCancel()){r=this._timerHandlers.splice(n,1);w.debug("Timer.purge",t,r[0]);this._cancelTask(r[0])}}return this}},{key:"schedule",value:function e(t,r){var i=this;w.debug("Timer.schedule",r);var o=Date.now();(0,n.updateArrayItemByKeys)(this._timerHandlers,["id"],{id:t.id,task:t,time:r,handle:this.setTimeout((function(){return t.run()["catch"]((function(e){return w.error("schedule",e)}))["finally"]((function(){var e=Date.now();w.debug("Timer.schedule run",e-o);if(i._cancelTaskIdList.includes(t.id)){w.warn("schedule, this task has already canceled",t.id)}else{i.schedule(t,r)}}))}),r)});return this}},{key:"scheduleFixedInterval",value:function e(t,r){var i=this;w.debug("Timer.scheduleFixedInterval",r);var o=Date.now();(0,n.updateArrayItemByKeys)(this._timerHandlers,["id"],{id:t.id,task:t,time:r,handle:this.setTimeout((function(){var e=Date.now();w.debug("Timer.scheduleFixedInterval run",e-o);t.run()["catch"]((function(e){return w.error("scheduleFixedInterval",e)}));i.scheduleFixedInterval(t,r)}),r)});return this}},{key:"_cancelTask",value:function e(t){w.debug("Timer._cancelTask");this.clearTimeout(t.handle);if(this._cancelTaskIdList.includes(t.id)){w.warn("_cancelTask, this task has already canceled",t.id)}else{this._cancelTaskIdList.push(t.id)}return this}}])}(),_(v,"TimerTask",t.TimerTask),v),S(p.prototype,"cancel",[s],Object.getOwnPropertyDescriptor(p.prototype,"cancel"),p.prototype),S(p.prototype,"purge",[u],Object.getOwnPropertyDescriptor(p.prototype,"purge"),p.prototype),S(p.prototype,"schedule",[c,l],Object.getOwnPropertyDescriptor(p.prototype,"schedule"),p.prototype),S(p.prototype,"scheduleFixedInterval",[f,d],Object.getOwnPropertyDescriptor(p.prototype,"scheduleFixedInterval"),p.prototype),S(p.prototype,"_cancelTask",[h],Object.getOwnPropertyDescriptor(p.prototype,"_cancelTask"),p.prototype),p)}))},32747:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(74751),r(84065)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.TimerTask=void 0;var n,i,o,s,u;function c(){"use strict";c=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=m(e,"string");return"symbol"==a(t)?t:t+""}function m(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function y(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var _=(0,t.getPLogger)();var b=e.TimerTask=(n=(0,r.printfDecorator)(_),i=(0,r.printfDecorator)(_),o=(0,r.printfDecorator)(_),s=(0,r.printfDecorator)(_),u=function(){function e(r){d(this,e);v(this,"id",(0,t.getClientId)());v(this,"_isCancel",false);v(this,"_task",void 0);v(this,"_runCount",0);v(this,"_lastRuntime",0);_.info("TimerTask,".concat(this.id),"constructor",(0,t.formatType)(r));if((0,t.formatType)(r)!==t.formatType.FUNCTION&&(0,t.formatType)(r)!==t.formatType.ASYNCFUNCTION){throw new Error("task is not a function,"+r)}this._task=r}return p(e,[{key:"cancel",value:function e(){_.info("TimerTask,".concat(this.id),"cancel");this._isCancel=true;return this}},{key:"isCancel",value:function e(){return this._isCancel}},{key:"run",value:function(){var e=f(c().mark((function e(){var t;return c().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:_.info("TimerTask,".concat(this.id),"run",this._isCancel,this._runCount);if(!(!this._isCancel&&this._task)){r.next=6;break}this._runCount++;this._lastRuntime=Date.now();r.next=6;return(t=this._task)===null||t===void 0?void 0:t.call(this,this._runCount);case 6:return r.abrupt("return",this);case 7:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"scheduledExecutionTime",value:function e(){return this._lastRuntime}}])}(),y(u.prototype,"cancel",[n],Object.getOwnPropertyDescriptor(u.prototype,"cancel"),u.prototype),y(u.prototype,"isCancel",[i],Object.getOwnPropertyDescriptor(u.prototype,"isCancel"),u.prototype),y(u.prototype,"run",[o],Object.getOwnPropertyDescriptor(u.prototype,"run"),u.prototype),y(u.prototype,"scheduledExecutionTime",[s],Object.getOwnPropertyDescriptor(u.prototype,"scheduledExecutionTime"),u.prototype),u)}))},62203:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751),r(23751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.UrlUtil=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){return c(e)||u(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw i}}return s}}function c(e){if(Array.isArray(e))return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=v(e,"string");return"symbol"==n(t)?t:t+""}function v(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g=e.UrlUtil=function(){function e(){l(this,e)}return d(e,null,[{key:"addQuery",value:function r(n,i,o){if((0,t.isNullOrEmpty)(n)||(0,t.isNullOrEmpty)(i)){return n}var a=/\?/.test(n)?"&":"?";var s=(0,t.formatType)(i)===t.formatType.OBJECT?i:e.parseQuery(i);return"".concat(n).concat(a).concat(e.stringfyQuery(s,o))}},{key:"parseQuery",value:function e(r,n){if(!r||(0,t.formatType)(r)!==t.formatType.STRING){return{}}var o=n!==null&&n!==void 0?n:{},a=o.decode,s=a===void 0?true:a;var u=r[0]==="?"?r.slice(1):r;return u.split("&").reduce((function(e,t){var r=t.split("=")||[],n=i(r,2),o=n[0],a=n[1];if(s){o=decodeURIComponent(o);a=decodeURIComponent(a)}e[o]=a;return e}),{})}},{key:"stringfyQuery",value:function e(r,n){if((0,t.isNullOrEmpty)(r)||(0,t.formatType)(r)!==t.formatType.OBJECT||(0,t.formatType)(r)===t.formatType.ARRAY){return""}var o=n!==null&&n!==void 0?n:{},a=o.encode,s=a===void 0?true:a,u=o.addQueryPrefix,c=u===void 0?false:u;var l=Object.entries(r).reduce((function(e,t){var r=i(t,2),n=r[0],o=r[1];var a=s?"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(o)):"".concat(n,"=").concat(o);e.push(a);return e}),[]).join("&");return c?"?".concat(l):l}},{key:"getAllUrlSearch",value:function e(r){if((0,t.formatType)(r)!==t.formatType.STRING||r===""){return{}}try{var n=new URL(r);var i=n.searchParams.entries();var o=i.next();var a={};while(!o.done){a[o.value[0]]=decodeURIComponent(o.value[1]);o=i.next()}return a}catch(e){return{}}}},{key:"getSearchValue",value:function e(r,n){if((0,t.formatType)(r)!==t.formatType.STRING||(0,t.formatType)(n)!==t.formatType.STRING||r===""||n===""){return null}try{var i=new URL(r);return i.searchParams.get(n)}catch(e){return null}}}])}();h(g,"checkHttpsUrl",(0,r.startsWith)("https://"));h(g,"checkHttpUrl",(0,r.startsWith)("http://"));h(g,"isInHttpsWhiteList",(0,r.getIsInWhiteListFn)((0,r.startsWith)("https:")));h(g,"isInHttpWhiteList",(0,r.getIsInWhiteListFn)((0,r.startsWith)("http:")))}))},23751:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.startsWith=e.getIsInWhiteListFn=void 0;function r(){return/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/gi}function n(e){var t=e.url,n=e.whiterList,i=e.ignoreIp;var o=new URL(t);var a=r();if(i&&a.test(o.hostname)){return true}n=n.filter((function(e){return!!e}));for(var s=0;s<n.length;s++){if(o.hostname.endsWith(n[s])){return true}}return false}var i=e.startsWith=function e(t){return function(e){return e.toLowerCase().startsWith(t)}};var o=e.getIsInWhiteListFn=function e(r){return function(e){var i=e.url,o=e.whiterList,a=e.ignoreIp,s=a===void 0?true:a;try{if((0,t.isNullOrEmpty)(i)){return false}if(r(i)){return n({url:i,whiterList:o,ignoreIp:s})}return false}catch(e){return false}}}}))},79272:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(22775),r(74751),r(87992)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.WebWorkerUtil=void 0;function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){"use strict";o=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=h(e,"string");return"symbol"==i(t)?t:t+""}function h(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=function(e){e["CLEAR"]="clear";e["SET"]="set";return e}(p||{});var v=e.WebWorkerUtil=function(){function e(){u(this,e)}return l(e,null,[{key:"getManagerInstance",value:function r(){if(!e.timeoutWorker){e.timeoutWorker=new t.WorkerManager({url:(0,n.getTimeWorkerUrl)(),enablePromiseMethod:true});e.timeoutWorker.setOnMessage(e.dealTimeoutMessage)}return e.timeoutWorker}},{key:"setWorkerTimeout",value:function t(n,i){var o=(0,r.getClientId)();(0,r.getPLogger)().debug("setWorkerTimeout",o);e.timeoutCallbackMap.set(o,n);e.getManagerInstance().postMessage({timerId:o,method:p.SET,delay:i});return o}},{key:"workerSleep",value:function(){var t=s(o().mark((function t(n){var i;return o().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:i=(0,r.getClientId)();return o.abrupt("return",e.getManagerInstance().promisePostMessage({timerId:i,method:p.SET,delay:n}));case 2:case"end":return o.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"clearWorkerTimeout",value:function(){var t=s(o().mark((function t(r){return o().wrap((function t(n){while(1)switch(n.prev=n.next){case 0:e.timeoutCallbackMap["delete"](r);return n.abrupt("return",e.getManagerInstance().promisePostMessage({timerId:r,method:p.CLEAR}));case 2:case"end":return n.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"dealTimeoutMessage",value:function(){var t=s(o().mark((function t(n){var i;return o().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:(0,r.getPLogger)().debug("dealTimeoutMessage",n);if(n.timerId){o.next=3;break}return o.abrupt("return");case 3:i=e.timeoutCallbackMap.get(n.timerId);i===null||i===void 0||i();e.timeoutCallbackMap["delete"](n.timerId);case 6:case"end":return o.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()}])}();f(v,"timeoutWorker",void 0);f(v,"timeoutCallbackMap",new Map)}))},22775:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.WorkerManager=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=l(e,"string");return"symbol"==r(t)?t:t+""}function l(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=e.WorkerManager=function(){function e(r){var n=this;o(this,e);u(this,"worker",void 0);u(this,"messageMap",new Map);u(this,"opts",{url:"",enablePromiseMethod:true});u(this,"customOnMessage",void 0);u(this,"createWorker",(function(){(0,t.getPLogger)().debug("createWorker");if(n.worker){return}n.worker=new Worker(n.opts.url);n.worker.onmessage=n.onMessage.bind(n);n.worker.onerror=n.dealError.bind(n)}));(0,t.getPLogger)().debug("WorkerManager.constructor",r);this.opts=i(i({},this.opts),r||{})}return s(e,[{key:"promisePostMessage",value:function e(r){var n=this;this.createWorker();(0,t.getPLogger)().debug("WorkerManager.promisePostMessage",r);return new Promise((function(e){var o;r=i({},r);if(!r.sno){r.sno=(0,t.getClientId)()}if(!r.now){r.now=Date.now()}(o=n.worker)===null||o===void 0||o.postMessage(r);if(!n.opts.enablePromiseMethod){e({result:true});return}n.messageMap.set(r.sno,e)}))}},{key:"postMessage",value:function e(r){var n;this.createWorker();(0,t.getPLogger)().debug("WorkerManager.postMessage",r);r=i({},r);if(!r.sno){r.sno=(0,t.getClientId)()}if(!r.now){r.now=Date.now()}(n=this.worker)===null||n===void 0||n.postMessage(r)}},{key:"setOnMessage",value:function e(r){(0,t.getPLogger)().debug("WorkerManager.setOnMessage");this.customOnMessage=r}},{key:"onMessage",value:function e(r){var n,i;(0,t.getPLogger)().debug("WorkerManager.onMessage",r);if((n=r.data)!==null&&n!==void 0&&n.sno&&this.opts.enablePromiseMethod){var o=this.messageMap.get(r.data.sno);if(o){(0,t.getPLogger)().debug("WorkerManager.promisePostMessage over",r.data.sno);o===null||o===void 0||o(r.data);this.messageMap["delete"](r.data.sno);return}}(i=this.customOnMessage)===null||i===void 0||i.call(this,r.data)}},{key:"dealError",value:function e(r){(0,t.getPLogger)().error("WorkerManager.dealError",r);delete this.worker}}])}()}))},87992:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.timeWorkerScript=e.getTimeWorkerUrl=void 0;var t=e.timeWorkerScript="\nclass TimerWorker {\n  static timeoutMap = new Map();\n\n  static eventListener(e) {\n    const { data } = e;\n    switch (data.method) {\n      case 'clear':\n        TimerWorker.clearTimer(data);\n        break;\n      case 'set':\n        TimerWorker.setTimer(data);\n        break;\n      default:\n        break;\n    }\n  }\n\n  static deleteTimerByKey(key) {\n    const timer = TimerWorker.timeoutMap.get(key);\n    if (timer) {\n      clearInterval(timer);\n      TimerWorker.timeoutMap.delete(key);\n      return true;\n    }\n    return false;\n  }\n\n  static clearTimer(data) {\n    const { sno, timerId } = data;\n    TimerWorker.sendToMain({ sno, timerId, result: TimerWorker.deleteTimerByKey(timerId) });\n  }\n\n  static setTimer(data) {\n    const { now = 0, sno, timerId, delay = 0 } = data;\n    const remainingDelay = TimerWorker.getRealTimeInterval(delay, now);\n    TimerWorker.timeoutMap.set(timerId, setTimeout(TimerWorker.dealTimer, remainingDelay, { sno, timerId }));\n  }\n\n  static getRealTimeInterval(delay, now) {\n    const workerNow = performance.now();\n    return delay + now - workerNow - performance.timeOrigin;\n  }\n\n  static dealTimer({ timerId, sno }) {\n    TimerWorker.timeoutMap.delete(timerId);\n    TimerWorker.sendToMain({ result: true, timerId, sno });\n  }\n\n  static sendToMain(data) {\n    postMessage(data);\n  }\n}\n\naddEventListener('message', TimerWorker.eventListener);\n";var r=e.getTimeWorkerUrl=function e(){return URL.createObjectURL(new Blob([t]))}}))},83132:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.updateArrayItemByKeys=e.splitArrayByNum=e.queryItemByKeys=e.hasOneInArray=e.deleteItemByKeys=void 0;function r(e){return a(e)||o(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=e.splitArrayByNum=function e(n,i){if((0,t.formatType)(n)!==t.formatType.ARRAY){return n}if((0,t.formatType)(i)!==t.formatType.NUMBER){return n}if(i<0){return[n]}var o=[];var a=r(n);while(a.length>i){o.push(a.splice(0,i))}o.push(a);return o};var c=e.updateArrayItemByKeys=function e(r,n,i){if((0,t.formatType)(r)!==t.formatType.ARRAY){return r}if((0,t.formatType)(n)!==t.formatType.ARRAY){return r}if((0,t.isNullOrEmpty)(i)){return r}if((0,t.formatType)(i)===t.formatType.ARRAY){i.forEach((function(e){c(r,n,e)}));return r}else if((0,t.formatType)(i)!==t.formatType.OBJECT){return r}var o=r.findIndex((function(e){var r=true;n.forEach((function(n){if((0,t.isNullOrEmpty)(e[n])||(0,t.isNullOrEmpty)(i[n])){r=false}if(e[n]!==i[n]){r=false}}));return r}));if(o===-1){r.push(i);return r}r[o]=i;return r};var l=e.queryItemByKeys=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return undefined}if((0,t.formatType)(n)!==t.formatType.OBJECT){return undefined}return r===null||r===void 0?void 0:r.find((function(e){var t=Object.keys(n);for(var r=0;r<t.length;r++){if(e[t[r]]!==n[t[r]]){return false}}return true}))};var f=e.hasOneInArray=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return false}if((0,t.formatType)(n)!==t.formatType.ARRAY){return false}for(var i=0;i<n.length;i++){if(r.includes(n[i])){return true}}return false};var d=e.deleteItemByKeys=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return r}if((0,t.formatType)(n)!==t.formatType.OBJECT){return r}var i=r.findIndex((function(e){var t=Object.keys(n);for(var r=0;r<t.length;r++){if(e[t[r]]!==n[t[r]]){return false}}return true}));if(i!==-1){r.splice(i,1)}return r}}))},28241:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.mergeByDay=void 0;var t=e.mergeByDay=function e(t,r){if(t<0||r<0){return false}if(!Number.isInteger(t)||!Number.isInteger(r)){return false}var n=new Date(t);var i=new Date(r);return!(n.getFullYear()!==i.getFullYear()||n.getMonth()!==i.getMonth()||n.getDate()!==i.getDate())}}))},84065:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751),r(5154)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.printfDecorator=e.frequentTasksDecoratorFactory=e.customDecorator=e.componentDecorator=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){return u(e)||s(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=p(e,"string");return"symbol"==n(t)?t:t+""}function p(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v=e.printfDecorator=function e(t){return function(e,r,n){var i;function o(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++){n[o]=arguments[o]}var a=Date.now();var s=i.apply(this,n);if(s!==null&&s!==void 0&&s.then){return s.then((function(e){t.debug.apply(t,["printfDecorator async over",r,"use time ".concat(Date.now()-a,"ms")].concat(n,[e]));return e}))}t.debug.apply(t,["printfDecorator over",r,"use time ".concat(Date.now()-a,"ms")].concat(n,[s]));return s}if(n!==null&&n!==void 0&&n.initializer){return f(f({},n),{},{writable:true,initializer:function e(){i=n.initializer.call(this);return o}})}i=n===null||n===void 0?void 0:n.value;return f(f({},n),{},{writable:true,value:o})}};var g=e.componentDecorator=function e(t){return function(e){var r=e.prototype.render;if(r){e.prototype.render=function(){try{return r.call(this)}catch(r){t.error("".concat(e.name," render error"),r);return null}}}if(false){var n,i,o}}};var m=function e(t){var r=t.currResult,n=t.aftMethodDeal,i=t.name;if(typeof n!=="function"){return r}var o=n(r);if(o!==null&&o!==void 0&&o.then){return o.then((function(e){if(e){return r}return Promise.reject(new Error("".concat(i,", aftMethodDeal check failed")))}))}if(o){return r}throw new Error("".concat(i,", aftMethodDeal check failed"))};var y=function e(t){var r=t.preMethodDeal,n=t.aftMethodDeal,o=t.fn,a=t.self,s=t.args,u=t.name;var c=function e(){var t=o.apply(a,s);if(t!==null&&t!==void 0&&t.then){return t.then((function(e){return m({currResult:e,aftMethodDeal:n,name:u})}))}return m({currResult:t,aftMethodDeal:n,name:u})};if(typeof r!=="function"){return c()}var l=r.apply(void 0,i(s));if(l!==null&&l!==void 0&&l.then){return l.then((function(e){if(e){return c()}return Promise.reject(new Error("".concat(u,", preMethodDeal check reject error,")+e))}))}if(l){return c()}throw new Error("".concat(u,", preMethodDeal check throw error,")+l)};var _=e.customDecorator=function e(t){var r=t.preMethodDeal,n=t.aftMethodDeal;return function(e,t,i){var o;function a(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++){i[a]=arguments[a]}return y({preMethodDeal:r,aftMethodDeal:n,fn:o,self:this,args:i,name:t})}if(i!==null&&i!==void 0&&i.initializer){return f(f({},i),{},{writable:true,initializer:function e(){o=i.initializer.call(this);return a}})}o=i===null||i===void 0?void 0:i.value;return f(f({},i),{},{writable:true,value:a})}};var b=e.frequentTasksDecoratorFactory=function e(t){var r=new Map;return function(e){return function(n,i,o){var a;var s;function u(){if(r.get(e)){t.debug("frequentTasksDecorator waitting last call:",e);return r.get(e)}for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}var a=s.apply(this,i);if(a!==null&&a!==void 0&&a.then){r.set(e,a);return a.then((function(t){r["delete"](e);return t}))}r["delete"](e);return a}t.debug("frequentTasksDecorator","".concat(n===null||n===void 0||(a=n.constructor)===null||a===void 0?void 0:a.name,".prototype.").concat(i),o);if(o!==null&&o!==void 0&&o.initializer){return f(f({},o),{},{writable:true,initializer:function e(){s=o.initializer.call(this);return u}})}s=o===null||o===void 0?void 0:o.value;return f(f({},o),{},{writable:true,value:u})}}}}))},97284:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getElementScreenPosition=void 0;var t=e.getElementScreenPosition=function e(t){if(!t){return{left:0,top:0}}var r=t;var n=0;var i=0;while(r){n+=r.offsetLeft-r.scrollLeft;i+=r.offsetTop-r.scrollTop;r=r.offsetParent}return{left:n,top:i}}}))},28645:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getSuffix=e.getFileName=e.formatFileSize=void 0;var r=function e(t){var r=[];for(var n=0;n<(t===null||t===void 0?void 0:t.length);n++){if(t[n]!==""){r.push(t[n])}}return r};var n=e.getFileName=function e(t){var n;var i=t.split("/");i=r(i);i=(n=i[i.length-1])===null||n===void 0?void 0:n.split("\\");i=r(i);return i[i.length-1]||t};var i=e.getSuffix=function e(r){if((0,t.isNullOrEmpty)(r)){r=""}return r.slice((r.lastIndexOf(".")-1>>>0)+2).toLowerCase()};var o=e.formatFileSize=function e(t){if(t<1e3){return t+"B"}else if(t>=1e3&&t<1e6){return Math.round(t*100/1024)/100+"KB"}else if(t>=1e6&&t<1e9){return Math.round(t*100/1024/1024)/100+"MB"}return Math.round(t*100/1024/1024/1024)/100+"GB"}}))},30129:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.checkBase64Image=void 0;var t=e.checkBase64Image=function e(t){return t.startsWith("data:image/png;base64,")||t.startsWith("data:image/jpeg;base64,")}}))},56537:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(5154),r(62203),r(74751),r(30129),r(28645),r(77194),r(97284),r(67264),r(17075),r(28241),r(83132),r(84065),r(15158),r(19110),r(81496),r(71119),r(7780),r(45735),r(79272)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l,f,d,h,p,v,g,m,y,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"AutoQueryData",{enumerable:true,get:function e(){return m.AutoQueryData}});Object.defineProperty(e,"LazyLoad",{enumerable:true,get:function e(){return p.LazyLoad}});Object.defineProperty(e,"RequestTasksQueue",{enumerable:true,get:function e(){return u.RequestTasksQueue}});Object.defineProperty(e,"Timer",{enumerable:true,get:function e(){return g.Timer}});Object.defineProperty(e,"UrlUtil",{enumerable:true,get:function e(){return r.UrlUtil}});Object.defineProperty(e,"WebWorkerUtil",{enumerable:true,get:function e(){return _.WebWorkerUtil}});Object.defineProperty(e,"beforeJsonParse",{enumerable:true,get:function e(){return v.beforeJsonParse}});Object.defineProperty(e,"checkBase64Image",{enumerable:true,get:function e(){return i.checkBase64Image}});e.checkHttpsUrl=e.checkHttpUrl=void 0;Object.defineProperty(e,"checkIPV4",{enumerable:true,get:function e(){return h.checkIPV4}});Object.defineProperty(e,"componentDecorator",{enumerable:true,get:function e(){return d.componentDecorator}});Object.defineProperty(e,"createEntry",{enumerable:true,get:function e(){return n.createEntry}});Object.defineProperty(e,"customDecorator",{enumerable:true,get:function e(){return d.customDecorator}});Object.defineProperty(e,"debounce",{enumerable:true,get:function e(){return n.debounce}});Object.defineProperty(e,"deepCopy",{enumerable:true,get:function e(){return n.deepCopy}});Object.defineProperty(e,"deleteItemByKeys",{enumerable:true,get:function e(){return f.deleteItemByKeys}});Object.defineProperty(e,"escapeRegExp",{enumerable:true,get:function e(){return c.escapeRegExp}});Object.defineProperty(e,"formatDate",{enumerable:true,get:function e(){return n.formatDate}});Object.defineProperty(e,"formatFileSize",{enumerable:true,get:function e(){return o.formatFileSize}});Object.defineProperty(e,"formatString",{enumerable:true,get:function e(){return v.formatString}});Object.defineProperty(e,"formatType",{enumerable:true,get:function e(){return n.formatType}});Object.defineProperty(e,"frequentTasksDecoratorFactory",{enumerable:true,get:function e(){return d.frequentTasksDecoratorFactory}});Object.defineProperty(e,"getClientId",{enumerable:true,get:function e(){return n.getClientId}});Object.defineProperty(e,"getElementScreenPosition",{enumerable:true,get:function e(){return s.getElementScreenPosition}});Object.defineProperty(e,"getEmailReg",{enumerable:true,get:function e(){return c.getEmailReg}});Object.defineProperty(e,"getFileName",{enumerable:true,get:function e(){return o.getFileName}});Object.defineProperty(e,"getMobilePhoneReg",{enumerable:true,get:function e(){return c.getMobilePhoneReg}});Object.defineProperty(e,"getNumberReg",{enumerable:true,get:function e(){return c.getNumberReg}});Object.defineProperty(e,"getSipNumberReg",{enumerable:true,get:function e(){return c.getSipNumberReg}});Object.defineProperty(e,"getSuffix",{enumerable:true,get:function e(){return o.getSuffix}});Object.defineProperty(e,"handleAccountPrint",{enumerable:true,get:function e(){return a.handleAccountPrint}});Object.defineProperty(e,"handleIpPrint",{enumerable:true,get:function e(){return a.handleIpPrint}});Object.defineProperty(e,"handlePhoneNumberPrint",{enumerable:true,get:function e(){return a.handlePhoneNumberPrint}});Object.defineProperty(e,"handleTokenPrint",{enumerable:true,get:function e(){return a.handleTokenPrint}});Object.defineProperty(e,"handleUrlPrint",{enumerable:true,get:function e(){return a.handleUrlPrint}});Object.defineProperty(e,"hasOneInArray",{enumerable:true,get:function e(){return f.hasOneInArray}});e.isInHttpsWhiteList=e.isInHttpWhiteList=void 0;Object.defineProperty(e,"isNullOrEmpty",{enumerable:true,get:function e(){return n.isNullOrEmpty}});Object.defineProperty(e,"mergeByDay",{enumerable:true,get:function e(){return l.mergeByDay}});Object.defineProperty(e,"printfDecorator",{enumerable:true,get:function e(){return d.printfDecorator}});Object.defineProperty(e,"queryItemByKeys",{enumerable:true,get:function e(){return f.queryItemByKeys}});e.reactStopPropagation=void 0;Object.defineProperty(e,"replaceStringPlaceholder",{enumerable:true,get:function e(){return v.replaceStringPlaceholder}});Object.defineProperty(e,"setLocalStorageItem",{enumerable:true,get:function e(){return y.setLocalStorageItem}});Object.defineProperty(e,"setPLogger",{enumerable:true,get:function e(){return n.setPLogger}});Object.defineProperty(e,"setSessionStorageItem",{enumerable:true,get:function e(){return y.setSessionStorageItem}});e.showDifferentProperty=void 0;Object.defineProperty(e,"sleep",{enumerable:true,get:function e(){return n.sleep}});Object.defineProperty(e,"splitArrayByNum",{enumerable:true,get:function e(){return f.splitArrayByNum}});Object.defineProperty(e,"splitStringByChar",{enumerable:true,get:function e(){return v.splitStringByChar}});Object.defineProperty(e,"throttle",{enumerable:true,get:function e(){return n.throttle}});Object.defineProperty(e,"updateArrayItemByKeys",{enumerable:true,get:function e(){return f.updateArrayItemByKeys}});var b=e.reactStopPropagation=t.ReactUtil.reactStopPropagation;var E=e.showDifferentProperty=t.ReactUtil.showDifferentProperty;var S=e.checkHttpsUrl=r.UrlUtil.checkHttpsUrl;var w=e.checkHttpUrl=r.UrlUtil.checkHttpUrl;var T=e.isInHttpWhiteList=r.UrlUtil.isInHttpWhiteList;var C=e.isInHttpsWhiteList=r.UrlUtil.isInHttpWhiteList}))},15158:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.checkIPV4=void 0;var r=e.checkIPV4=function e(r){if((0,t.formatType)(r)!==t.formatType.STRING){return false}var n=r.split(".").filter((function(e){return!!e.trim()}));if(n.length!==4){return false}for(var i=0;i<n.length;i++){var o=parseInt(n[i]);if(isNaN(o)){return false}if(o<0||o>255){return false}}return true}}))},74751:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.throttle=e.sleep=e.setPLogger=e.isNullOrEmpty=e.getPLogger=e.getClientId=e.formatType=e.formatDate=e.deepCopy=e.debounce=e.createEntry=e.Noop=void 0;var t=e.Noop=function e(t){return t};var r={debug:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},info:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},warn:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},error:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)}};var n=e.getPLogger=function e(){return r};var i=e.formatType=function e(t){return Object.prototype.toString.apply(t).match(/\[object\s(.*)]/)[1].toLowerCase()};i.STRING="string";i.OBJECT="object";i.PROXYOBJECT="proxyobject";i.FUNCTION="function";i.ARRAY="array";i.BOOLEAN="boolean";i.NUMBER="number";i.PROMISE="promise";i.NULL="null";i.UNDEFINED="undefined";i.NODELIST="nodelist";i.HTMLCOLLECTION="htmlcollection";i.EVENT="event";i.XMLDOCUMENT="xmldocument";i.DOCUMENT="document";i.ASYNCFUNCTION="asyncfunction";var o=e.setPLogger=function e(t){if(i(t===null||t===void 0?void 0:t.debug)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.info)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.warn)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.error)===i.FUNCTION){r=t}};var a=e.isNullOrEmpty=function e(t){var r=i(t);if(r===i.OBJECT){return Object.keys(t).length===0}return t===undefined||t===null||t.toString()==="NaN"||t===""||t.length===0};var s=e.deepCopy=function e(t){if(a(t)){return t}if(i(t)===i.STRING||i(t)===i.NUMBER||i(t)===i.BOOLEAN){return t}return JSON.parse(JSON.stringify(t))};var u=e.formatDate=function e(t,r){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:(t.getMilliseconds()/1e3).toFixed(3).substr(2)};if(/(y+)/.test(r)){r=r.replace(RegExp.$1,String(t.getFullYear()).substr(4-RegExp.$1.length))}for(var i in n){if(new RegExp("("+i+")").test(r)){r=r.replace(RegExp.$1,RegExp.$1.length===1?n[i]:("00"+n[i]).substr(String(n[i]).length))}}return r};var c=e.getClientId=function(){var e=0;var t=(new Date).getTime();return function(){var r=(new Date).getTime();if(r===t){e++;if(e>999){e=1}}else{t=r;e=0}return t*1e3+e}}();var l=e.createEntry=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return"".concat(t," ").concat(c())};var f=e.sleep=function e(t){return new Promise((function(e){return setTimeout(e,t)}))};var d=e.debounce=function e(t,r){var n=0;return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++){i[o]=arguments[o]}if(n){clearTimeout(n)}n=setTimeout((function(){t.apply(void 0,i)}),r)}};var h=e.throttle=function e(t,r){var n;return function(){if(!n){t.apply(void 0,arguments);n=setTimeout((function(){n=null}),r)}}}}))},17075:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getSipNumberReg=e.getNumberReg=e.getMobilePhoneReg=e.getEmailReg=e.getChineseWordReg=e.getChinesePunctuationReg=e.escapeRegExp=void 0;var t=e.escapeRegExp=function e(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")};var r=e.getNumberReg=function e(){return/^([+*#]\d+|\d{4,})$/};var n=e.getMobilePhoneReg=function e(){return/^(1|\+861|0\d{2,3}1)[3456789]\d{9}$/};var i=e.getEmailReg=function e(){return/^[a-z\dA-Z]+[-a-z\dA-Z._]+@([a-z\dA-Z]+(-[a-z\dA-Z]+)?\.)+[a-z]+$/};var o=e.getSipNumberReg=function e(){return/^\+99111\d+/};var a=e.getChineseWordReg=function e(){return/[\u4E00-\u9FFF]/};var s=e.getChinesePunctuationReg=function e(){return/[\u4E00-\u9FFF]/}}))},77194:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.handleUrlPrint=e.handleTokenPrint=e.handlePhoneNumberPrint=e.handleIpPrint=e.handleAccountPrint=void 0;var r=e.handlePhoneNumberPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}var n=r.toString();var i=/^1[3456789]\d{9}$/g;var o=n.length;var a=Math.floor((o-3)/2);if(o<3){return n}else if(o<5){return n.substr(0,1)+"***"}else if(o>11){return n.substr(0,2)+"*****"+n.substr(-3)}return i.test(n)?n.substr(0,3)+"****"+n.substr(7):n.substr(0,a)+"***"+n.substr(a+3)};var n=e.handleAccountPrint=function e(n){if((0,t.isNullOrEmpty)(n)){return""}n=n.toString();if(n.length<3){var i=n.toString();return i[0]+"*"}var o=/^1[3456789]\d{9}$/g;if(o.test(n)){return r(n)}var a=/^\+99|\+8657\d+/g;if(a.test(n)){return n.substr(0,2)+"*****"+n.substr(-3)}var s=Math.floor(n.length/2);var u=Math.floor((n.length-s)/2);var c=n.length-s-u;var l=new Array(n.length-u-c+1).join("*");return n.substr(0,u)+l+n.substr(n.length-c)};var i=e.handleIpPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}r=r.toString();return r.replace(/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/gi,(function(e){return e.replace(/(\d{1,3})$/gi,(function(e,t){return t.replace(/\d/gi,"*")}))}))};var o=e.handleUrlPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}r=r.toString();return r.split("?")[0]};var a=e.handleTokenPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}r=r.toString();return r.substr(0,2)+"***"+r.substr(-3)}}))},45735:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.setSessionStorageItem=e.setLocalStorageItem=void 0;var r=function e(r){return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{key:"",value:""};if(!e){return false}var n=e.key,i=e.value,o=e.isForce;var a=r?window.localStorage:window.sessionStorage;if(!a){(0,t.getPLogger)().warn("setStorageItem no Storage",{isLocalStorage:r,key:n});return false}if(!n){(0,t.getPLogger)().warn("setStorageItem no key",{isLocalStorage:r,key:n});return false}if((0,t.formatType)(i)!==t.formatType.STRING){(0,t.getPLogger)().warn("setStorageItem value not string",{isLocalStorage:r,key:n});return false}try{(0,t.getPLogger)().info("setStorageItem",{isLocalStorage:r,key:n});a.setItem(n,i===null||i===void 0?void 0:i.toString());return true}catch(e){(0,t.getPLogger)().error("setStorageItem",{isLocalStorage:r,key:n,isForce:o,e});if(!o){return false}a.clear();a.setItem(n,i===null||i===void 0?void 0:i.toString());return true}}};var n=e.setLocalStorageItem=r(true);var i=e.setSessionStorageItem=r(false)}))},81496:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(74751)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.splitStringByChar=e.replaceStringPlaceholder=e.formatString=e.beforeJsonParse=void 0;var r=e.splitStringByChar=function e(r,n,i){if((0,t.formatType)(r)!==t.formatType.STRING){return r}if((0,t.formatType)(n)!==t.formatType.NUMBER||n<0){return r}if((0,t.formatType)(i)!==t.formatType.STRING){return r}var o="";r.split("").forEach((function(e,t){o+=e;if(t<r.length-1&&(t+1)%n===0){o+=i}}));return o};var n=e.formatString=function e(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}if((0,t.formatType)(r)!==t.formatType.STRING){return r}return r.replace(/\{([^{}]+)}/g,(function(e,r){return(0,t.formatType)(i[r])===t.formatType.STRING||!(0,t.isNullOrEmpty)(i[r])?i[r]:e}))};var i=e.replaceStringPlaceholder=function e(r,n,i){if((0,t.formatType)(r)!==t.formatType.STRING){return r}var o=r.split(n.toString());var a="";o.forEach((function(e,t){a+=e;if(t<o.length-1&&i[t]){a+=i[t]}}));return a};var o=e.beforeJsonParse=function e(t){return t.replace("","")}}))},41850:e=>{(function t(r,n){if(true)e.exports=n();else{var i,o}})(self,(()=>(()=>{var e={897:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.AutoQueryData=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(){"use strict";c=function e(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),s=new M(n||[]);return o(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==n&&i.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function e(r,i){function o(){return new t((function(e,t){n(r,i,e,t)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=E,o(C,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function o(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=_(e,"string");return"symbol"==r(t)?t:t+""}function _(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b=e.AutoQueryData=function(){function e(t){p(this,e);m(this,"_opts",void 0);m(this,"_data",void 0);m(this,"_timer",void 0);m(this,"_count",0);m(this,"_firstProm",void 0);this._opts=this._getOpts(t);this._dealGetDataFunc("constructor")}return g(e,[{key:"_getOpts",value:function e(r){if((0,t.formatType)(r)!==t.formatType.OBJECT){throw new Error("opts must a object")}(0,t.getPLogger)().debug("_getOpts",(0,t.formatType)(r.getDataFunc),(0,t.formatType)(r.args));if((0,t.formatType)(r.getDataFunc)!==t.formatType.FUNCTION&&(0,t.formatType)(r.getDataFunc)!==t.formatType.ASYNCFUNCTION){throw new Error("opts.getDataFunc must a function")}if((0,t.formatType)(r.args)!==t.formatType.ARRAY&&(0,t.formatType)(r.args)!==t.formatType.UNDEFINED){throw new Error("opts.args must a array or undefined")}var n=h({},r);if((0,t.formatType)(n.delay)!==t.formatType.NUMBER){n.delay=3e4}return n}},{key:"getSyncData",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";r+=",getSyncData";if(!this._timer){this._dealGetDataFunc(r)}(0,t.getPLogger)().debug(r,this._data);return this._data}},{key:"getData",value:function(){var e=f(c().mark((function e(){var r,n=arguments;return c().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r=n.length>0&&n[0]!==undefined?n[0]:"";r+=",getData";if(this._timer){i.next=5;break}i.next=5;return this._dealGetDataFunc(r);case 5:if(!this._firstProm){i.next=8;break}i.next=8;return this._firstProm;case 8:(0,t.getPLogger)().debug(r,this._data);return i.abrupt("return",this._data);case 10:case"end":return i.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()},{key:"stop",value:function e(){(0,t.getPLogger)().debug("stop",this._data);if(this._timer){clearInterval(this._timer)}delete this._timer;delete this._data;delete this._firstProm;this._count=0}},{key:"_dealGetDataFunc",value:function(){var e=f(c().mark((function e(r){var i=this,o;return c().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r+=",_dealGetDataFunc";this._timer=setInterval(f(c().mark((function e(){var o;return c().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return(o=i._opts).getDataFunc.apply(o,n(i._opts.args||[]));case 2:i._data=a.sent;i._count++;(0,t.getPLogger)().debug(r,i._count,i._data);case 5:case"end":return a.stop()}}),e)}))),this._opts.delay);this._count++;this._firstProm=(o=this._opts).getDataFunc.apply(o,n(this._opts.args||[]));a.next=6;return this._firstProm;case 6:this._data=a.sent;(0,t.getPLogger)().debug(r,this._count,this._data);case 8:case"end":return a.stop()}}),e,this)})));function r(t){return e.apply(this,arguments)}return r}()}])}()}))},360:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LazyLoad=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u={};var c=e.LazyLoad=function(){function e(){n(this,e)}return o(e,null,[{key:"getRealLazyApi",value:function r(n,i,o){(0,t.getPLogger)().debug("getRealLazyApi",n,i,o);if((0,t.formatType)(n)!==t.formatType.STRING||(0,t.formatType)(i)!==t.formatType.STRING||(0,t.formatType)(o)!==t.formatType.OBJECT||n===""||i===""){return{}}var a=o;var s=Object.keys(o);var u=Object.getOwnPropertyNames(Object.getPrototypeOf(o));if(u.includes("constructor")){u.splice(u.indexOf("constructor"),1)}var c=s.concat(u);(0,t.getPLogger)().info("getRealLazyApi loadScript, "+n);c.forEach((function(r){if((0,t.formatType)(a[r])===t.formatType.FUNCTION){a[r]=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++){s[u]=arguments[u]}return e.loadScript(n,i).then((function(){var e;(0,t.getPLogger)().info("getRealLazyApi loadScript, real do "+n+"."+r);if(((e=window[n])===null||e===void 0?void 0:e[r])===a[r]){(0,t.getPLogger)().error("getRealLazyApi loadScript, script is error,"+n+"."+r)}else{var i;return(i=window[n])===null||i===void 0||(i=i[r])===null||i===void 0?void 0:i.apply(window[n],s)}return undefined}))["catch"]((function(e){(0,t.getPLogger)().error("getRealLazyApi loadScript,lazy load "+n,e)}))}}}));return a}},{key:"loadScript",value:function e(r,n){(0,t.getPLogger)().debug("loadScript",r,n);if((0,t.formatType)(r)!==t.formatType.STRING||(0,t.formatType)(n)!==t.formatType.STRING||r===""||n===""){return Promise.resolve(undefined)}if(!u[r]){var i=document.createElement("script");i.async=true;u[r]=new Promise((function(e,n){i.onload=function(){(0,t.getPLogger)().info("loadScript, load "+r+" success");e(window[r])};i.onerror=function(){(0,t.getPLogger)().error("loadScript, load "+r+" error");n(new Error("load resource error"))}}));i.src=n;document.head.appendChild(i)}else{(0,t.getPLogger)().info("loadScript, not load "+r+" again")}return u[r]}},{key:"loadCss",value:function e(r){(0,t.getPLogger)().info("loadCss",r);if((0,t.formatType)(r)!==t.formatType.STRING||r===""){return Promise.resolve(undefined)}return new Promise((function(e){var n=document.createElement("link");n.rel="stylesheet";n.href=r;n.onload=function(){(0,t.getPLogger)().info("loadCss, load "+r+" success");e(true)};n.onerror=function(){(0,t.getPLogger)().info("loadCss, load "+r+" error");e(false)};document.head.appendChild(n)}))}}])}()}))},303:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.createChromakey=void 0;function r(){"use strict";r=function e(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),s=new M(n||[]);return o(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==n&&i.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(n,o,s,u){var c=h(e[n],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var n;o(this,"_invoke",{value:function e(i,o){function a(){return new t((function(e,t){r(i,o,e,t)}))}return n=n?n.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){for(;++n<t.length;)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,o(C,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function o(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=u(e,"string");return"symbol"==a(t)?t:t+""}function u(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){return g(e)||v(e,t)||h(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw i}}return s}}function g(e){if(Array.isArray(e))return e}var m="#version 300 es\nprecision mediump float;\nout vec4 FragColor;\nin vec2 v_texCoord;\nuniform sampler2D frameTexture;\nuniform vec3 keyColor;\n\nvec2 RGBtoUV(vec3 rgb) {\n  return vec2(\n    rgb.r * -0.169 + rgb.g * -0.331 + rgb.b *  0.5    + 0.5,\n    rgb.r *  0.5   + rgb.g * -0.419 + rgb.b * -0.081  + 0.5\n  );\n}\n\nuniform float similarity;\nuniform float smoothness;\nuniform float spill;\n\nvoid main() {\n  vec4 rgba = texture(frameTexture, v_texCoord);\n  vec2 chromaVec = RGBtoUV(rgba.rgb) - RGBtoUV(keyColor);\n  float chromaDist = sqrt(dot(chromaVec, chromaVec));\n  float baseMask = chromaDist - similarity;\n  float fullMask = pow(clamp(baseMask / smoothness, 0., 1.), 1.5);\n  rgba.a = fullMask;\n  float spillVal = pow(clamp(baseMask / spill, 0., 1.), 1.5);\n  float desat = clamp(rgba.r * 0.2126 + rgba.g * 0.7152 + rgba.b * 0.0722, 0., 1.);\n  rgba.rgb = mix(vec3(desat, desat, desat), rgba.rgb, spillVal);\n  FragColor = rgba;\n}\n";var y="#version 300 es\n  layout (location = 0) in vec4 a_position;\n  layout (location = 1) in vec2 a_texCoord;\n  out vec2 v_texCoord;\n  void main () {\n    gl_Position = a_position;\n    v_texCoord = a_texCoord;\n  }\n";function _(e,t,r){var n=e.createShader(t);e.shaderSource(n,r);e.compileShader(n);if(!e.getShaderParameter(n,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(n);e.deleteShader(n);throw Error(i!==null&&i!==void 0?i:"An error occurred compiling the shaders")}return n}function b(e,t,r){var n=_(e,e.VERTEX_SHADER,t);var i=_(e,e.FRAGMENT_SHADER,r);var o=e.createProgram();e.attachShader(o,n);e.attachShader(o,i);e.linkProgram(o);if(!e.getProgramParameter(o,e.LINK_STATUS)){var a;throw Error((a=e.getProgramInfoLog(o))!==null&&a!==void 0?a:"Unable to initialize the shader program")}return o}function E(e,t,r){e.bindTexture(e.TEXTURE_2D,r);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);e.drawArrays(e.TRIANGLES,0,6)}function S(e){var t=e.createTexture();if(!t){throw Error("Create WebGL texture error")}e.bindTexture(e.TEXTURE_2D,t);var r=0;var n=e.RGBA;var i=1;var o=1;var a=0;var s=e.RGBA;var u=e.UNSIGNED_BYTE;var c=new Uint8Array([0,0,255,255]);e.texImage2D(e.TEXTURE_2D,r,n,i,o,a,s,u,c);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);return t}function w(e){var t="document"in window?document.createElement("canvas"):new OffscreenCanvas(e.width,e.height);t.width=e.width;t.height=e.height;var r=t.getContext("webgl2",{premultipliedAlpha:false,alpha:true});if(!r){throw Error("Cant create gl context")}var n=b(r,y,m);r.useProgram(n);r.uniform3fv(r.getUniformLocation(n,"keyColor"),e.keyColor.map((function(e){return e/255})));r.uniform1f(r.getUniformLocation(n,"similarity"),e.similarity);r.uniform1f(r.getUniformLocation(n,"smoothness"),e.smoothness);r.uniform1f(r.getUniformLocation(n,"spill"),e.spill);var i=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,i);var o=[-1,1,-1,-1,1,-1,1,-1,1,1,-1,1];r.bufferData(r.ARRAY_BUFFER,new Float32Array(o),r.STATIC_DRAW);var a=r.getAttribLocation(n,"a_position");r.vertexAttribPointer(a,2,r.FLOAT,false,Float32Array.BYTES_PER_ELEMENT*2,0);r.enableVertexAttribArray(a);var s=[0,1,0,0,1,0,1,0,1,1,0,1];var u=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,u);r.bufferData(r.ARRAY_BUFFER,new Float32Array(s),r.STATIC_DRAW);var c=r.getAttribLocation(n,"a_texCoord");r.vertexAttribPointer(c,2,r.FLOAT,false,Float32Array.BYTES_PER_ELEMENT*2,0);r.enableVertexAttribArray(c);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,1);return{cvs:t,gl:r}}function T(e){if(e instanceof HTMLVideoElement){return{width:e.videoWidth,height:e.videoHeight}}return e instanceof VideoFrame?{width:e.codedWidth,height:e.codedHeight}:{width:e.width,height:e.height}}function C(e){var r=new OffscreenCanvas(1,1);var n=r.getContext("2d");n.drawImage(e,0,0);var i=n.getImageData(0,0,1,1),o=f(i.data,3),a=o[0],s=o[1],u=o[2];(0,t.getPLogger)().info("handleGetKeyColor: ",[a,s,u]);return[a,s,u]}var A=e.createChromakey=function e(t){var n=null;var o=null;var a=t.keyColor;var s=null;return function(){var e=l(r().mark((function e(u){var c,l,f;return r().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!n||!o||!s){if(!a){a=C(u)}c=w(i(i({},T(u)),{},{keyColor:a},t));n=c.cvs;o=c.gl;s=S(o)}E(o,u,s);if(!(VideoFrame!==null&&u instanceof VideoFrame)){r.next=6;break}f=new VideoFrame(n,{alpha:"keep",timestamp:u.timestamp,duration:(l=u.duration)!==null&&l!==void 0?l:undefined});u.close();return r.abrupt("return",f);case 6:return r.abrupt("return",createImageBitmap(n,{imageOrientation:u instanceof ImageBitmap?"flipY":"none"}));case 7:case"end":return r.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))},362:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(303),r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LocalTransparentVideoBg=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){"use strict";i=function e(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(n,o){function a(){return new t((function(e,t){r(n,o,e,t)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=d(e,"string");return"symbol"==n(t)?t:t+""}function d(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=e.LocalTransparentVideoBg=function(){function e(n){var o=this;s(this,e);l(this,"transparentCanvasElem",void 0);l(this,"videoElem",void 0);l(this,"chromakey",void 0);l(this,"similarity",void 0);l(this,"smoothness",void 0);l(this,"spill",void 0);l(this,"ctx",void 0);l(this,"render",a(i().mark((function e(){var t,r;var n;return i().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(o.transparentCanvasElem){i.next=2;break}return i.abrupt("return");case 2:i.next=4;return o.chromakey(o.videoElem);case 4:n=i.sent;(t=o.ctx)===null||t===void 0||t.clearRect(0,0,o.transparentCanvasElem.width,o.transparentCanvasElem.height);(r=o.ctx)===null||r===void 0||r.drawImage(n,0,0,o.transparentCanvasElem.width,o.transparentCanvasElem.height);o.videoElem.requestVideoFrameCallback(o.render);case 8:case"end":return i.stop()}}),e)}))));this.videoElem=n.videoElem;this.similarity=n.similarity||.03;this.smoothness=n.smoothness||.22;this.spill=n.spill||.1;this.transparentCanvasElem=document.createElement("canvas");this.transparentCanvasElem.setAttribute("id","transparentCanvasElem");this.transparentCanvasElem.width=this.videoElem.videoWidth;this.transparentCanvasElem.height=this.videoElem.videoHeight;this.ctx=this.transparentCanvasElem.getContext("2d",{alpha:true});this.chromakey=(0,t.createChromakey)({similarity:this.similarity,smoothness:this.smoothness,spill:this.spill});if(!n.rootElem){return}n.rootElem.append(this.transparentCanvasElem);(0,r.getPLogger)().info("LocalTransparentVideoBg","start render transparent background");this.render()}return c(e,[{key:"destroy",value:function e(){(0,r.getPLogger)().info("destroy");if(this.transparentCanvasElem){this.transparentCanvasElem.remove();this.transparentCanvasElem=null}}}])}()}))},347:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(258),r(969)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n,i,o,s,u,c;function l(){"use strict";l=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,c,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){f(o,n,i,a,s,"next",e)}function s(e){f(o,n,i,a,s,"throw",e)}a(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=y(e,"string");return"symbol"==a(t)?t:t+""}function y(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var b=e["default"]=(n=(0,r.printfDecorator)((0,t.getPLogger)()),i=(0,r.printfDecorator)((0,t.getPLogger)()),o=(0,r.printfDecorator)((0,t.getPLogger)()),s=(0,r.printfDecorator)((0,t.getPLogger)()),u=(c=function(){function e(r){var n=this;h(this,e);g(this,"audioContext",void 0);g(this,"url",void 0);g(this,"processorName",void 0);g(this,"audioCallback",void 0);g(this,"input",void 0);g(this,"processorOptions",void 0);g(this,"stream",void 0);g(this,"startProm",void 0);g(this,"audioWorkletNode",void 0);g(this,"onMessage",(function(e){var t;(t=n.audioCallback)===null||t===void 0||t.call(n,e.data)}));g(this,"dealStart",function(){var r=d(l().mark((function r(i){var o,a,s;return l().wrap((function r(u){while(1)switch(u.prev=u.next){case 0:u.prev=0;u.next=3;return n.stop();case 3:n.audioContext=new AudioContext({sampleRate:e.sampleRate});if(!(i!==null&&i!==void 0&&i.stream)){u.next=8;break}n.stream=i.stream;u.next=12;break;case 8:s=i!==null&&i!==void 0&&i.deviceId?{deviceId:{exact:i.deviceId}}:true;u.next=11;return navigator.mediaDevices.getUserMedia({audio:s});case 11:n.stream=u.sent;case 12:(o=n.input)===null||o===void 0||o.disconnect();n.input=n.audioContext.createMediaStreamSource(n.stream);u.next=16;return n.audioContext.audioWorklet.addModule(n.url);case 16:if(n.audioWorkletNode){n.audioWorkletNode.port.onmessage=null}(a=n.audioWorkletNode)===null||a===void 0||a.disconnect();n.audioWorkletNode=new AudioWorkletNode(n.audioContext,n.processorName,{processorOptions:n.processorOptions});n.input.connect(n.audioWorkletNode).connect(n.audioContext.destination);n.audioWorkletNode.port.onmessage=n.onMessage;u.next=26;break;case 23:u.prev=23;u.t0=u["catch"](0);(0,t.getPLogger)().error("dealStart",u.t0);case 26:delete n.startProm;case 27:case"end":return u.stop()}}),r,null,[[0,23]])})));return function(e){return r.apply(this,arguments)}}());(0,t.getPLogger)().debug("constructor",r.processorName);this.url=r.url;this.processorName=r.processorName;this.audioCallback=r.audioCallback;this.processorOptions=r.processorOptions}return v(e,[{key:"start",value:function(){var e=d(l().mark((function e(t){return l().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!this.startProm){this.startProm=this.dealStart(t)}return r.abrupt("return",this.startProm);case 2:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stop",value:function(){var e=d(l().mark((function e(){var r,n,i;return l().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.prev=0;(r=this.input)===null||r===void 0||r.disconnect();delete this.input;(n=this.audioWorkletNode)===null||n===void 0||n.disconnect();delete this.audioWorkletNode;o.next=7;return(i=this.audioContext)===null||i===void 0?void 0:i.close();case 7:delete this.audioContext;o.next=13;break;case 10:o.prev=10;o.t0=o["catch"](0);(0,t.getPLogger)().error("stop",o.t0);case 13:case"end":return o.stop()}}),e,this,[[0,10]])})));function r(){return e.apply(this,arguments)}return r}()},{key:"mute",value:function(){var e=d(l().mark((function e(){var t;var r;return l().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:r=(t=this.stream)===null||t===void 0?void 0:t.getAudioTracks()[0];if(r){n.next=3;break}return n.abrupt("return");case 3:r.enabled=false;case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"unmute",value:function(){var e=d(l().mark((function e(){var t;var r;return l().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:r=(t=this.stream)===null||t===void 0?void 0:t.getAudioTracks()[0];if(r){n.next=3;break}return n.abrupt("return");case 3:r.enabled=true;case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}(),g(c,"sampleRate",16e3),c),_(u.prototype,"start",[n],Object.getOwnPropertyDescriptor(u.prototype,"start"),u.prototype),_(u.prototype,"stop",[i],Object.getOwnPropertyDescriptor(u.prototype,"stop"),u.prototype),_(u.prototype,"mute",[o],Object.getOwnPropertyDescriptor(u.prototype,"mute"),u.prototype),_(u.prototype,"unmute",[s],Object.getOwnPropertyDescriptor(u.prototype,"unmute"),u.prototype),u)}))},162:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getLocalRecorderUrl=void 0;var t="class LocalRecorder extends AudioWorkletProcessor {\n  constructor(e) {\n    super(e);\n    const bufferSize = e.processorOptions.bufferSize;\n    this.bufferSize = bufferSize;\n    this.buffer = new Float32Array(bufferSize * 2);\n    this.pos = 0;\n    this.total = 0;\n    this.id = Date.now();\n    this.port.onmessage = function (e) {\n      if (e.data.kill) {\n        this.kill = true;\n      }\n    };\n  }\n\n  process(inputs) {\n    const input = (inputs[0] || [])[0] || [];\n    if (input.length) {\n      this.buffer.set(input, this.pos);\n      this.pos += input.length;\n      const offset = ~~(this.pos / this.bufferSize) * this.bufferSize;\n      if (offset) {\n        this.port.postMessage(this.formatData(this.buffer.slice(0, offset)));\n        const nextBuffer = this.buffer.subarray(offset, this.pos);\n        this.buffer = new Float32Array(this.bufferSize * 2);\n        this.buffer.set(nextBuffer);\n        this.pos = nextBuffer.length;\n      }\n    }\n    return !this.kill;\n  }\n\n  formatData(float32Arr) {\n    const size = float32Arr.length;\n    const pcm = new Int16Array(size);\n    let sum = 0;\n    for (let j = 0; j < size; j++) { // floatTo16BitPCM\n      let s = Math.max(-1, Math.min(1, float32Arr[j]));\n      s = s < 0 ? s * 0x8000 : s * 0x7FFF;\n      pcm[j] = s;\n      sum += Math.abs(s);\n    }\n    this.total+=pcm.byteLength;\n    return { pcm, sum, total: this.total, recordId: this.id };\n  }\n}\nregisterProcessor('LocalRecorderProcessor', LocalRecorder);";var r=e.getLocalRecorderUrl=function e(){return"data:text/javascript;base64,".concat(btoa(t))}}))},57:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(347)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;t=r(t);function r(e){return e&&e.__esModule?e:{default:e}}var n=e["default"]=t["default"]}))},771:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.ReactUtil=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==r(t)?t:t+""}function h(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=e.ReactUtil=function(){function e(){c(this,e)}return f(e,null,[{key:"showDifferentProperty",value:function e(t,r,n){var i=[];if(false){}return i}},{key:"reactStopPropagation",value:function e(t){var r,n,i,o,a,s;t===null||t===void 0||(r=(n=t).stopPropagation)===null||r===void 0||r.call(n);t===null||t===void 0||(i=t.nativeEvent)===null||i===void 0||(o=i.stopPropagation)===null||o===void 0||o.call(i);t===null||t===void 0||(a=t.nativeEvent)===null||a===void 0||(s=a.stopImmediatePropagation)===null||s===void 0||s.call(a)}}])}()}))},220:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RequestTasksQueue=void 0;function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(){"use strict";r=function e(){return n};var e,n={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==i&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,r){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==t(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):r.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(t,o){function a(){return new r((function(e,r){n(t,o,e,r)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function t(){for(;++i<r.length;)if(o.call(r,i))return t.value=r[i],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(r)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),n.AsyncIterator=R,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new R(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},n.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},n}function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e){return c(e)||u(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var r=g(e,"string");return"symbol"==t(r)?r:r+""}function g(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var m=e.RequestTasksQueue=d((function e(t){var n=this;var a=t.taskFunc,s=t.logger,u=t.timeout,c=u===void 0?5e4:u;h(this,e);p(this,"_queueData",void 0);p(this,"_taskFunc",void 0);p(this,"logger",void 0);p(this,"_timeout",void 0);p(this,"_isRunning",void 0);p(this,"dealTask",(function(e){var t,r;var i=e.args,o=e.timeout;var a="dealTask";var s=Date.now();(t=n.logger)===null||t===void 0||(r=t.debug)===null||r===void 0||r.call(t,a,"start");return new Promise((function(e){o=o||n._timeout;var t=setTimeout((function(){var t,r;(t=(r=n.logger).info)===null||t===void 0||t.call(r,a,"timeout",Date.now()-s);e({reason:"timeout,"+o});n._isRunning=false}),o);n._queueData.push([i,function(r){var i,o;(i=n.logger)===null||i===void 0||(o=i.debug)===null||o===void 0||o.call(i,a,"over,use time",Date.now()-s);clearTimeout(t);e(r)}]);if(!n._isTaskRunning()){n._dealTask()}}))}));p(this,"_dealTask",(function(){if(n._getNoDealDataSize()>0){var e=n._getWillDealData();n._isRunning=true;n._dealTaskFunc.apply(n,o(e[0])).then((function(t){e[1](t);n._dealTask()}))["catch"]((function(t){var r,i;(r=n.logger)===null||r===void 0||(i=r.error)===null||i===void 0||i.call(r,"_dealTask error",t);e[1]({reason:"catch error",error:t});n._dealTask()}))}else{n._isRunning=false}}));p(this,"_dealTaskFunc",i(r().mark((function e(){var t=arguments;return r().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",n._taskFunc.apply(n,t));case 1:case"end":return r.stop()}}),e)}))));p(this,"_getNoDealDataSize",(function(){return n._queueData.length}));p(this,"_isTaskRunning",(function(){return n._isRunning}));p(this,"_getWillDealData",(function(){return n._queueData.shift()}));this.logger=s||{info:function e(){}};this._queueData=[];this._taskFunc=a;this._isRunning=false;this._timeout=c}))}))},399:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(830),r(258),r(521),r(969),r(615)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Timer=void 0;var s,u,c,l,f,d,h,p,v;function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function y(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=E(e,"string");return"symbol"==a(t)?t:t+""}function E(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function S(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var w=(0,r.getPLogger)();var T=function e(r,n){var i;return(r===null||r===void 0||(i=r.constructor)===null||i===void 0?void 0:i.name)===t.TimerTask.name&&n>0};var C=e.Timer=(s=(0,i.printfDecorator)(w),u=(0,i.printfDecorator)(w),c=(0,i.printfDecorator)(w),l=(0,i.customDecorator)({preMethodDeal:T}),f=(0,i.printfDecorator)(w),d=(0,i.customDecorator)({preMethodDeal:T}),h=(0,i.printfDecorator)(w),p=(v=function(){function e(t){var r=this;g(this,e);_(this,"_timerHandlers",[]);_(this,"_cancelTaskIdList",[]);_(this,"userWebWorker",false);_(this,"setTimeout",(function(e,t){if(r.userWebWorker){return o.WebWorkerUtil.setWorkerTimeout(e,t)}return setTimeout(e,t)}));_(this,"clearTimeout",(function(e){if(r.userWebWorker){return o.WebWorkerUtil.clearWorkerTimeout(e)}return clearTimeout(e)}));if(t!==null&&t!==void 0&&t.userWebWorker){this.userWebWorker=true}this.schedule=this.schedule.bind(this);this.scheduleFixedInterval=this.scheduleFixedInterval.bind(this);this.cancel=this.cancel.bind(this);w.debug("Timer.constructor",t)}return y(e,[{key:"cancel",value:function e(){var t=this;w.debug("Timer.cancel");this._timerHandlers.forEach((function(e){return t._cancelTask(e)}));this._timerHandlers=[];return this}},{key:"purge",value:function e(){w.debug("Timer.purge");var t;var r;for(var n=this._timerHandlers.length-1;n>-1;n--){t=this._timerHandlers[n].task;if(t.isCancel()){r=this._timerHandlers.splice(n,1);w.debug("Timer.purge",t,r[0]);this._cancelTask(r[0])}}return this}},{key:"schedule",value:function e(t,r){var i=this;w.debug("Timer.schedule",r);var o=Date.now();(0,n.updateArrayItemByKeys)(this._timerHandlers,["id"],{id:t.id,task:t,time:r,handle:this.setTimeout((function(){return t.run()["catch"]((function(e){return w.error("schedule",e)}))["finally"]((function(){var e=Date.now();w.debug("Timer.schedule run",e-o);if(i._cancelTaskIdList.includes(t.id)){w.warn("schedule, this task has already canceled",t.id)}else{i.schedule(t,r)}}))}),r)});return this}},{key:"scheduleFixedInterval",value:function e(t,r){var i=this;w.debug("Timer.scheduleFixedInterval",r);var o=Date.now();(0,n.updateArrayItemByKeys)(this._timerHandlers,["id"],{id:t.id,task:t,time:r,handle:this.setTimeout((function(){var e=Date.now();w.debug("Timer.scheduleFixedInterval run",e-o);t.run()["catch"]((function(e){return w.error("scheduleFixedInterval",e)}));i.scheduleFixedInterval(t,r)}),r)});return this}},{key:"_cancelTask",value:function e(t){w.debug("Timer._cancelTask");this.clearTimeout(t.handle);if(this._cancelTaskIdList.includes(t.id)){w.warn("_cancelTask, this task has already canceled",t.id)}else{this._cancelTaskIdList.push(t.id)}return this}}])}(),_(v,"TimerTask",t.TimerTask),v),S(p.prototype,"cancel",[s],Object.getOwnPropertyDescriptor(p.prototype,"cancel"),p.prototype),S(p.prototype,"purge",[u],Object.getOwnPropertyDescriptor(p.prototype,"purge"),p.prototype),S(p.prototype,"schedule",[c,l],Object.getOwnPropertyDescriptor(p.prototype,"schedule"),p.prototype),S(p.prototype,"scheduleFixedInterval",[f,d],Object.getOwnPropertyDescriptor(p.prototype,"scheduleFixedInterval"),p.prototype),S(p.prototype,"_cancelTask",[h],Object.getOwnPropertyDescriptor(p.prototype,"_cancelTask"),p.prototype),p)}))},830:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(258),r(969)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.TimerTask=void 0;var n,i,o,s,u;function c(){"use strict";c=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=m(e,"string");return"symbol"==a(t)?t:t+""}function m(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function y(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var _=(0,t.getPLogger)();var b=e.TimerTask=(n=(0,r.printfDecorator)(_),i=(0,r.printfDecorator)(_),o=(0,r.printfDecorator)(_),s=(0,r.printfDecorator)(_),u=function(){function e(r){d(this,e);v(this,"id",(0,t.getClientId)());v(this,"_isCancel",false);v(this,"_task",void 0);v(this,"_runCount",0);v(this,"_lastRuntime",0);_.info("TimerTask,".concat(this.id),"constructor",(0,t.formatType)(r));if((0,t.formatType)(r)!==t.formatType.FUNCTION&&(0,t.formatType)(r)!==t.formatType.ASYNCFUNCTION){throw new Error("task is not a function,"+r)}this._task=r}return p(e,[{key:"cancel",value:function e(){_.info("TimerTask,".concat(this.id),"cancel");this._isCancel=true;this._lastRuntime=0;this._runCount=0;return this}},{key:"isCancel",value:function e(){return this._isCancel}},{key:"run",value:function(){var e=f(c().mark((function e(){var t;return c().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:_.info("TimerTask,".concat(this.id),"run",this._isCancel,this._runCount);if(!(!this._isCancel&&this._task)){r.next=6;break}this._runCount++;this._lastRuntime=Date.now();r.next=6;return(t=this._task)===null||t===void 0?void 0:t.call(this,this._runCount);case 6:return r.abrupt("return",this);case 7:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"scheduledExecutionTime",value:function e(){return this._lastRuntime}}])}(),y(u.prototype,"cancel",[n],Object.getOwnPropertyDescriptor(u.prototype,"cancel"),u.prototype),y(u.prototype,"isCancel",[i],Object.getOwnPropertyDescriptor(u.prototype,"isCancel"),u.prototype),y(u.prototype,"run",[o],Object.getOwnPropertyDescriptor(u.prototype,"run"),u.prototype),y(u.prototype,"scheduledExecutionTime",[s],Object.getOwnPropertyDescriptor(u.prototype,"scheduledExecutionTime"),u.prototype),u)}))},898:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258),r(491),r(707)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.UrlUtil=void 0;function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){return l(e)||c(e,t)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw i}}return s}}function l(e){if(Array.isArray(e))return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=g(e,"string");return"symbol"==i(t)?t:t+""}function g(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var m=e.UrlUtil=function(){function e(){f(this,e)}return h(e,null,[{key:"addQuery",value:function r(n,i,o){if((0,t.isNullOrEmpty)(n)||(0,t.isNullOrEmpty)(i)){return n}var a=/\?/.test(n)?"&":"?";var s=(0,t.formatType)(i)===t.formatType.OBJECT?i:e.parseQuery(i);return"".concat(n).concat(a).concat(e.stringfyQuery(s,o))}},{key:"parseQuery",value:function e(r,n){if(!r||(0,t.formatType)(r)!==t.formatType.STRING){return{}}var i=n!==null&&n!==void 0?n:{},a=i.decode,s=a===void 0?true:a;var u=r[0]==="?"?r.slice(1):r;return u.split("&").reduce((function(e,t){var r=t.split("=")||[],n=o(r,2),i=n[0],a=n[1];if(s){i=decodeURIComponent(i);a=decodeURIComponent(a)}e[i]=a;return e}),{})}},{key:"stringfyQuery",value:function e(r,n){if((0,t.isNullOrEmpty)(r)||(0,t.formatType)(r)!==t.formatType.OBJECT||(0,t.formatType)(r)===t.formatType.ARRAY){return""}var i=n!==null&&n!==void 0?n:{},a=i.encode,s=a===void 0?true:a,u=i.addQueryPrefix,c=u===void 0?false:u;var l=Object.entries(r).reduce((function(e,t){var r=o(t,2),n=r[0],i=r[1];var a=s?"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(i)):"".concat(n,"=").concat(i);e.push(a);return e}),[]).join("&");return c?"?".concat(l):l}},{key:"getAllUrlSearch",value:function e(r){if((0,t.formatType)(r)!==t.formatType.STRING||r===""){return{}}try{var n=new URL(r);var i=n.searchParams.entries();var o=i.next();var a={};while(!o.done){a[o.value[0]]=decodeURIComponent(o.value[1]);o=i.next()}return a}catch(e){return{}}}},{key:"getSearchValue",value:function e(r,n){if((0,t.formatType)(r)!==t.formatType.STRING||(0,t.formatType)(n)!==t.formatType.STRING||r===""||n===""){return null}try{var i=new URL(r);return i.searchParams.get(n)}catch(e){return null}}}])}();p(m,"checkHttpsUrl",(0,r.startsWith)("https://"));p(m,"checkHttpUrl",(0,r.startsWith)("http://"));p(m,"isInHttpsWhiteList",(0,r.getIsInWhiteListFn)((0,r.startsWith)("https:")));p(m,"isInHttpWhiteList",(0,r.getIsInWhiteListFn)((0,r.startsWith)("http:")));p(m,"checkIPV4Url",(function(e){try{if(e.hostname){return(0,n.checkIPV4)(e.hostname)}var t=new URL(e);return(0,n.checkIPV4)(t.hostname)}catch(e){return false}}))}))},491:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.startsWith=e.getIsInWhiteListFn=void 0;function r(){return/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/gi}function n(e){var t=e.url,n=e.whiterList,i=e.ignoreIp;var o=new URL(t);var a=r();if(i&&a.test(o.hostname)){return true}n=n.filter((function(e){return!!e}));for(var s=0;s<n.length;s++){if(o.hostname.endsWith(n[s])){return true}}return false}var i=e.startsWith=function e(t){return function(e){return e.toLowerCase().startsWith(t)}};var o=e.getIsInWhiteListFn=function e(r){return function(e){var i=e.url,o=e.whiterList,a=e.ignoreIp,s=a===void 0?true:a;try{if((0,t.isNullOrEmpty)(i)){return false}if(r(i)){return n({url:i,whiterList:o,ignoreIp:s})}return false}catch(e){return false}}}}))},615:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(583),r(258),r(706)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.WebWorkerUtil=void 0;function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){"use strict";o=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=h(e,"string");return"symbol"==i(t)?t:t+""}function h(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=function(e){e["CLEAR"]="clear";e["SET"]="set";return e}(p||{});var v=e.WebWorkerUtil=function(){function e(){u(this,e)}return l(e,null,[{key:"getManagerInstance",value:function r(){if(!e.timeoutWorker){e.timeoutWorker=new t.WorkerManager({url:(0,n.getTimeWorkerUrl)(),enablePromiseMethod:true});e.timeoutWorker.setOnMessage(e.dealTimeoutMessage)}return e.timeoutWorker}},{key:"setWorkerTimeout",value:function t(n,i){var o=(0,r.getClientId)();(0,r.getPLogger)().debug("setWorkerTimeout",o);e.timeoutCallbackMap.set(o,n);e.getManagerInstance().postMessage({timerId:o,method:p.SET,delay:i});return o}},{key:"workerSleep",value:function(){var t=s(o().mark((function t(n){var i;return o().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:i=(0,r.getClientId)();return o.abrupt("return",e.getManagerInstance().promisePostMessage({timerId:i,method:p.SET,delay:n}));case 2:case"end":return o.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"clearWorkerTimeout",value:function(){var t=s(o().mark((function t(r){return o().wrap((function t(n){while(1)switch(n.prev=n.next){case 0:e.timeoutCallbackMap["delete"](r);return n.abrupt("return",e.getManagerInstance().promisePostMessage({timerId:r,method:p.CLEAR}));case 2:case"end":return n.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"dealTimeoutMessage",value:function(){var t=s(o().mark((function t(n){var i;return o().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:(0,r.getPLogger)().debug("dealTimeoutMessage",n);if(n.timerId){o.next=3;break}return o.abrupt("return");case 3:i=e.timeoutCallbackMap.get(n.timerId);i===null||i===void 0||i();e.timeoutCallbackMap["delete"](n.timerId);case 6:case"end":return o.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()}])}();f(v,"timeoutWorker",void 0);f(v,"timeoutCallbackMap",new Map)}))},583:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.WorkerManager=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=l(e,"string");return"symbol"==r(t)?t:t+""}function l(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=e.WorkerManager=function(){function e(r){var n=this;o(this,e);u(this,"worker",void 0);u(this,"messageMap",new Map);u(this,"opts",{url:"",enablePromiseMethod:true});u(this,"customOnMessage",void 0);u(this,"createWorker",(function(){(0,t.getPLogger)().debug("createWorker");if(n.worker){return}n.worker=new Worker(n.opts.url);n.worker.onmessage=n.onMessage.bind(n);n.worker.onerror=n.dealError.bind(n)}));(0,t.getPLogger)().debug("WorkerManager.constructor",r);this.opts=i(i({},this.opts),r||{})}return s(e,[{key:"promisePostMessage",value:function e(r){var n=this;this.createWorker();(0,t.getPLogger)().debug("WorkerManager.promisePostMessage",r);return new Promise((function(e){var o;r=i({},r);if(!r.sno){r.sno=(0,t.getClientId)()}if(!r.now){r.now=Date.now()}(o=n.worker)===null||o===void 0||o.postMessage(r);if(!n.opts.enablePromiseMethod){e({result:true});return}n.messageMap.set(r.sno,e)}))}},{key:"postMessage",value:function e(r){var n;this.createWorker();(0,t.getPLogger)().debug("WorkerManager.postMessage",r);r=i({},r);if(!r.sno){r.sno=(0,t.getClientId)()}if(!r.now){r.now=Date.now()}(n=this.worker)===null||n===void 0||n.postMessage(r)}},{key:"setOnMessage",value:function e(r){(0,t.getPLogger)().debug("WorkerManager.setOnMessage");this.customOnMessage=r}},{key:"onMessage",value:function e(r){var n,i;(0,t.getPLogger)().debug("WorkerManager.onMessage",r);if((n=r.data)!==null&&n!==void 0&&n.sno&&this.opts.enablePromiseMethod){var o=this.messageMap.get(r.data.sno);if(o){(0,t.getPLogger)().debug("WorkerManager.promisePostMessage over",r.data.sno);o===null||o===void 0||o(r.data);this.messageMap["delete"](r.data.sno);return}}(i=this.customOnMessage)===null||i===void 0||i.call(this,r.data)}},{key:"dealError",value:function e(r){(0,t.getPLogger)().error("WorkerManager.dealError",r);delete this.worker}}])}()}))},706:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.timeWorkerScript=e.getTimeWorkerUrl=void 0;var t=e.timeWorkerScript="\nclass TimerWorker {\n  static timeoutMap = new Map();\n\n  static eventListener(e) {\n    const { data } = e;\n    switch (data.method) {\n      case 'clear':\n        TimerWorker.clearTimer(data);\n        break;\n      case 'set':\n        TimerWorker.setTimer(data);\n        break;\n      default:\n        break;\n    }\n  }\n\n  static deleteTimerByKey(key) {\n    const timer = TimerWorker.timeoutMap.get(key);\n    if (timer) {\n      clearInterval(timer);\n      TimerWorker.timeoutMap.delete(key);\n      return true;\n    }\n    return false;\n  }\n\n  static clearTimer(data) {\n    const { sno, timerId } = data;\n    TimerWorker.sendToMain({ sno, timerId, result: TimerWorker.deleteTimerByKey(timerId) });\n  }\n\n  static setTimer(data) {\n    const { now = 0, sno, timerId, delay = 0 } = data;\n    const remainingDelay = TimerWorker.getRealTimeInterval(delay, now);\n    TimerWorker.timeoutMap.set(timerId, setTimeout(TimerWorker.dealTimer, remainingDelay, { sno, timerId }));\n  }\n\n  static getRealTimeInterval(delay, now) {\n    const workerNow = performance.now();\n    return delay + now - workerNow - performance.timeOrigin;\n  }\n\n  static dealTimer({ timerId, sno }) {\n    TimerWorker.timeoutMap.delete(timerId);\n    TimerWorker.sendToMain({ result: true, timerId, sno });\n  }\n\n  static sendToMain(data) {\n    postMessage(data);\n  }\n}\n\naddEventListener('message', TimerWorker.eventListener);\n";var r=e.getTimeWorkerUrl=function e(){return URL.createObjectURL(new Blob([t]))}}))},521:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.updateArrayItemByKeys=e.splitArrayByNum=e.queryItemByKeys=e.hasOneInArray=e.deleteItemByKeys=void 0;function r(e){return a(e)||o(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=e.splitArrayByNum=function e(n,i){if((0,t.formatType)(n)!==t.formatType.ARRAY){return n}if((0,t.formatType)(i)!==t.formatType.NUMBER){return n}if(i<0){return[n]}var o=[];var a=r(n);while(a.length>i){o.push(a.splice(0,i))}o.push(a);return o};var c=e.updateArrayItemByKeys=function e(r,n,i){if((0,t.formatType)(r)!==t.formatType.ARRAY){return r}if((0,t.formatType)(n)!==t.formatType.ARRAY){return r}if((0,t.isNullOrEmpty)(i)){return r}if((0,t.formatType)(i)===t.formatType.ARRAY){i.forEach((function(e){c(r,n,e)}));return r}else if((0,t.formatType)(i)!==t.formatType.OBJECT){return r}var o=r.findIndex((function(e){var r=true;n.forEach((function(n){if((0,t.isNullOrEmpty)(e[n])||(0,t.isNullOrEmpty)(i[n])){r=false}if(e[n]!==i[n]){r=false}}));return r}));if(o===-1){r.push(i);return r}r[o]=i;return r};var l=e.queryItemByKeys=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return undefined}if((0,t.formatType)(n)!==t.formatType.OBJECT){return undefined}return r===null||r===void 0?void 0:r.find((function(e){var t=Object.keys(n);for(var r=0;r<t.length;r++){if(e[t[r]]!==n[t[r]]){return false}}return true}))};var f=e.hasOneInArray=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return false}if((0,t.formatType)(n)!==t.formatType.ARRAY){return false}for(var i=0;i<n.length;i++){if(r.includes(n[i])){return true}}return false};var d=e.deleteItemByKeys=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return r}if((0,t.formatType)(n)!==t.formatType.OBJECT){return r}var i=r.findIndex((function(e){var t=Object.keys(n);for(var r=0;r<t.length;r++){if(e[t[r]]!==n[t[r]]){return false}}return true}));if(i!==-1){r.splice(i,1)}return r}}))},867:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(57),r(162),r(969),r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.AudioWorkletNodeRecord=void 0;t=c(t);var o,s,u;function c(e){return e&&e.__esModule?e:{default:e}}function l(){"use strict";l=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,c,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){f(o,n,i,a,s,"next",e)}function s(e){f(o,n,i,a,s,"throw",e)}a(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=y(e,"string");return"symbol"==a(t)?t:t+""}function y(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var b=e.AudioWorkletNodeRecord=(o=(0,n.printfDecorator)((0,i.getPLogger)()),s=(0,n.printfDecorator)((0,i.getPLogger)()),u=function(){function e(n){h(this,e);g(this,"audioContext",void 0);this.audioContext=new t["default"]({url:(0,r.getLocalRecorderUrl)(),processorName:"LocalRecorderProcessor",processorOptions:{bufferSize:n.bufferSize},audioCallback:n.audioCallback})}return v(e,[{key:"startRecord",value:function(){var e=d(l().mark((function e(t){return l().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",this.audioContext.start(t));case 1:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopRecord",value:function(){var e=d(l().mark((function e(){return l().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.audioContext.stop());case 1:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setSinkId",value:function e(t){var r,n;(r=this.audioContext)===null||r===void 0||(n=r.setSinkId)===null||n===void 0||n.call(r,t)}}])}(),_(u.prototype,"startRecord",[o],Object.getOwnPropertyDescriptor(u.prototype,"startRecord"),u.prototype),_(u.prototype,"stopRecord",[s],Object.getOwnPropertyDescriptor(u.prototype,"stopRecord"),u.prototype),u)}))},524:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(969),r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.ScriptProcessorRecord=void 0;var n,i,o,s;function u(){"use strict";u=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=g(e,"string");return"symbol"==a(t)?t:t+""}function g(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var y=e.ScriptProcessorRecord=(n=(0,t.printfDecorator)((0,r.getPLogger)()),i=(0,t.printfDecorator)((0,r.getPLogger)()),o=(s=function(){function e(t){var r=this;f(this,e);p(this,"audioContext",void 0);p(this,"param",void 0);p(this,"stream",void 0);p(this,"input",void 0);p(this,"recorder",void 0);p(this,"total",0);p(this,"startProm",void 0);p(this,"getOnaudioprocess",(function(e){return function(t){var n=new Float32Array(t.inputBuffer.getChannelData(0));var i=new Int16Array(n.length);var o=0;for(var a=0;a<n.length;++a){var s=n[a];if(s>=1)s=1;else if(s<=-1)s=-1;n[a]=s;i[a]=s*32767;o+=Math.abs(i[a])}r.total+=i.byteLength;r.param.audioCallback({pcm:i,sum:o,total:r.total,recordId:e})}}));this.param=t}return h(e,[{key:"startRecord",value:function(){var e=l(u().mark((function e(t){return u().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!this.startProm){this.startProm=this.dealStartRecord(t)}return r.abrupt("return",this.startProm);case 2:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopRecord",value:function(){var e=l(u().mark((function e(){var t,n,i;return u().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.prev=0;(t=this.input)===null||t===void 0||t.disconnect();delete this.input;(n=this.recorder)===null||n===void 0||n.disconnect();delete this.recorder;this.total=0;o.next=8;return(i=this.audioContext)===null||i===void 0?void 0:i.close();case 8:delete this.audioContext;o.next=14;break;case 11:o.prev=11;o.t0=o["catch"](0);(0,r.getPLogger)().error("stopRecord",o.t0);case 14:case"end":return o.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setSinkId",value:function e(t){var r,n;(r=this.audioContext)===null||r===void 0||(n=r.setSinkId)===null||n===void 0||n.call(r,t)}},{key:"dealStartRecord",value:function(){var t=l(u().mark((function t(n){var i,o,a;return u().wrap((function t(s){while(1)switch(s.prev=s.next){case 0:s.prev=0;s.next=3;return this.stopRecord();case 3:this.audioContext=new AudioContext({sampleRate:e.sampleRate});if(!(n!==null&&n!==void 0&&n.stream)){s.next=8;break}this.stream=n.stream;s.next=12;break;case 8:i=n!==null&&n!==void 0&&n.deviceId?{deviceId:{exact:n.deviceId}}:true;s.next=11;return navigator.mediaDevices.getUserMedia({audio:i});case 11:this.stream=s.sent;case 12:if(this.audioContext.createScriptProcessor){(o=this.recorder)===null||o===void 0||o.disconnect();if(this.recorder){this.recorder.onaudioprocess=null}this.recorder=this.audioContext.createScriptProcessor(this.param.bufferSize,1,1);this.recorder.onaudioprocess=this.getOnaudioprocess(Date.now());(a=this.input)===null||a===void 0||a.disconnect();this.input=this.audioContext.createMediaStreamSource(this.stream);this.input.connect(this.recorder).connect(this.audioContext.destination)}s.next=18;break;case 15:s.prev=15;s.t0=s["catch"](0);(0,r.getPLogger)().error("dealStartRecord",s.t0);case 18:delete this.startProm;case 19:case"end":return s.stop()}}),t,this,[[0,15]])})));function n(e){return t.apply(this,arguments)}return n}()}])}(),p(s,"sampleRate",16e3),s),m(o.prototype,"startRecord",[n],Object.getOwnPropertyDescriptor(o.prototype,"startRecord"),o.prototype),m(o.prototype,"stopRecord",[i],Object.getOwnPropertyDescriptor(o.prototype,"stopRecord"),o.prototype),o)}))},916:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(524),r(867)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.AudioContextLocalRecorder=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){"use strict";i=function e(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(n,o){function a(){return new t((function(e,t){r(n,o,e,t)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=d(e,"string");return"symbol"==n(t)?t:t+""}function d(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=e.AudioContextLocalRecorder=function(){function e(n){s(this,e);l(this,"instance",void 0);var i=new AudioContext({sampleRate:16e3});if(n.useScriptProcessor&&!!i.createScriptProcessor){this.instance=new t.ScriptProcessorRecord(n)}else{this.instance=new r.AudioWorkletNodeRecord(n)}}return c(e,[{key:"startRecord",value:function(){var e=a(i().mark((function e(t){return i().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",this.instance.startRecord(t));case 1:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopRecord",value:function(){var e=a(i().mark((function e(){return i().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.instance.stopRecord());case 1:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setSinkId",value:function(){var e=a(i().mark((function e(t){return i().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",this.instance.setSinkId(t));case 1:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}])}()}))},375:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.DownloadAudio=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=u(e,"string");return"symbol"==r(t)?t:t+""}function u(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=e.DownloadAudio=function(){function e(){n(this,e);a(this,"list",[]);a(this,"id",(0,t.getClientId)())}return o(e,[{key:"addDownloadData",value:function e(t){this.list.push(t)}},{key:"downloadFile",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"test";(0,t.getPLogger)().info("downloadFile",this.id,r);var n=new Blob(this.list);var i=document.createElement("a");var o=URL.createObjectURL(n);i.href=o;i.download=r;document.body.appendChild(i);i.click();document.body.removeChild(i);URL.revokeObjectURL(o)}},{key:"clearData",value:function e(){(0,t.getPLogger)().info("clearData",this.id);this.list=[]}}])}()}))},248:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.MediaDeviceManager=void 0;function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(){"use strict";r=function e(){return n};var e,n={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==i&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,r){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==t(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):r.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(t,o){function a(){return new r((function(e,r){n(t,o,e,r)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function t(){for(;++i<r.length;)if(o.call(r,i))return t.value=r[i],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(r)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),n.AsyncIterator=R,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new R(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},n.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},n}function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var r=l(e,"string");return"symbol"==t(r)?r:r+""}function l(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var f=e.MediaDeviceManager=function(){function e(){o(this,e)}return s(e,null,[{key:"getDefaultDeviceId",value:function(){var t=i(r().mark((function t(n){var i;var o,a,s;return r().wrap((function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return navigator.mediaDevices.enumerateDevices();case 2:o=r.sent;a=o.filter((function(e){return e.kind===n}));s=a.find((function(e){return e.deviceId==="default"}));return r.abrupt("return",s?((i=a.find((function(t){return t.groupId===s.groupId&&!e.defaultDeviceIdList.includes(t.deviceId)})))===null||i===void 0?void 0:i.deviceId)||"":"");case 6:case"end":return r.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"checkDeviceIdExist",value:function(){var e=i(r().mark((function e(t){var n;return r().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return navigator.mediaDevices.enumerateDevices();case 2:n=r.sent;return r.abrupt("return",!!n.find((function(e){return e.deviceId===t})));case 4:case"end":return r.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}])}();u(f,"defaultDeviceIdList",["default","communications"])}))},394:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.mergeByDay=void 0;var t=e.mergeByDay=function e(t,r){if(t<0||r<0){return false}if(!Number.isInteger(t)||!Number.isInteger(r)){return false}var n=new Date(t);var i=new Date(r);return!(n.getFullYear()!==i.getFullYear()||n.getMonth()!==i.getMonth()||n.getDate()!==i.getDate())}}))},969:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258),r(771)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.printfDecorator=e.frequentTasksDecoratorFactory=e.customDecorator=e.componentDecorator=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){return u(e)||s(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=p(e,"string");return"symbol"==n(t)?t:t+""}function p(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v=e.printfDecorator=function e(t){return function(e,r,n){var i;function o(){var e;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++){o[a]=arguments[a]}var s=Date.now();var u=i.apply(this,o);if(u!==null&&u!==void 0&&u.then){return u.then((function(e){var n;t===null||t===void 0||(n=t.debug)===null||n===void 0||n.call.apply(n,[t,"printfDecorator async over",r,"use time ".concat(Date.now()-s,"ms")].concat(o,[e]));return e}))}t===null||t===void 0||(e=t.debug)===null||e===void 0||e.call.apply(e,[t,"printfDecorator over",r,"use time ".concat(Date.now()-s,"ms")].concat(o,[u]));return u}if(n!==null&&n!==void 0&&n.initializer){return f(f({},n),{},{writable:true,initializer:function e(){var t;i=(t=n.initializer)===null||t===void 0?void 0:t.call(this);return o}})}i=n===null||n===void 0?void 0:n.value;return f(f({},n),{},{writable:true,value:o})}};var g=e.componentDecorator=function e(t){return function(e){var r=e.prototype.render;if(r){e.prototype.render=function(){try{return r.call(this)}catch(r){var n;t===null||t===void 0||(n=t.error)===null||n===void 0||n.call(t,"".concat(e.name," render error"),r);return null}}}if(false){var n,i,o}}};var m=function e(t){var r=t.currResult,n=t.aftMethodDeal,i=t.name;if(typeof n!=="function"){return r}var o=n(r);if(o!==null&&o!==void 0&&o.then){return o.then((function(e){if(e){return r}return Promise.reject(new Error("".concat(i,", aftMethodDeal check failed")))}))}if(o){return r}throw new Error("".concat(i,", aftMethodDeal check failed"))};var y=function e(t){var r=t.preMethodDeal,n=t.aftMethodDeal,o=t.fn,a=t.self,s=t.args,u=t.name;var c=function e(){var t=o.apply(a,s);if(t!==null&&t!==void 0&&t.then){return t.then((function(e){return m({currResult:e,aftMethodDeal:n,name:u})}))}return m({currResult:t,aftMethodDeal:n,name:u})};if(typeof r!=="function"){return c()}var l=r.apply(void 0,i(s));if(l!==null&&l!==void 0&&l.then){return l.then((function(e){if(e){return c()}return Promise.reject(new Error("".concat(u,", preMethodDeal check reject error,")+e))}))}if(l){return c()}throw new Error("".concat(u,", preMethodDeal check throw error,")+l)};var _=e.customDecorator=function e(t){var r=t.preMethodDeal,n=t.aftMethodDeal;return function(e,t,i){var o;function a(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++){i[a]=arguments[a]}return y({preMethodDeal:r,aftMethodDeal:n,fn:o,self:this,args:i,name:t})}if(i!==null&&i!==void 0&&i.initializer){return f(f({},i),{},{writable:true,initializer:function e(){var t;o=(t=i.initializer)===null||t===void 0?void 0:t.call(this);return a}})}o=i===null||i===void 0?void 0:i.value;return f(f({},i),{},{writable:true,value:a})}};var b=e.frequentTasksDecoratorFactory=function e(t){var r=new Map;return function(e){return function(n,i,o){var a,s;var u;function c(){if(r.get(e)){var n;t===null||t===void 0||(n=t.debug)===null||n===void 0||n.call(t,"frequentTasksDecorator waitting last call:",e);return r.get(e)}for(var i=arguments.length,o=new Array(i),a=0;a<i;a++){o[a]=arguments[a]}var s=u.apply(this,o);if(s!==null&&s!==void 0&&s.then){r.set(e,s);return s.then((function(t){r["delete"](e);return t}))}r["delete"](e);return s}t===null||t===void 0||(a=t.debug)===null||a===void 0||a.call(t,"frequentTasksDecorator","".concat(n===null||n===void 0||(s=n.constructor)===null||s===void 0?void 0:s.name,".prototype.").concat(i),o);if(o!==null&&o!==void 0&&o.initializer){return f(f({},o),{},{writable:true,initializer:function e(){var t;u=(t=o.initializer)===null||t===void 0?void 0:t.call(this);return c}})}u=o===null||o===void 0?void 0:o.value;return f(f({},o),{},{writable:true,value:c})}}}}))},68:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getElementScreenPosition=void 0;var t=e.getElementScreenPosition=function e(t){if(!t){return{left:0,top:0}}var r=t;var n=0;var i=0;while(r){n+=r.offsetLeft-r.scrollLeft;i+=r.offsetTop-r.scrollTop;r=r.offsetParent}return{left:n,top:i}}}))},736:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getSuffix=e.getFileName=e.formatFileSize=void 0;var r=function e(t){var r=[];for(var n=0;n<(t===null||t===void 0?void 0:t.length);n++){if(t[n]!==""){r.push(t[n])}}return r};var n=e.getFileName=function e(t){var n;var i=t.split("/");i=r(i);i=(n=i[i.length-1])===null||n===void 0?void 0:n.split("\\");i=r(i);return i[i.length-1]||t};var i=e.getSuffix=function e(r){if((0,t.isNullOrEmpty)(r)){r=""}return r.slice((r.lastIndexOf(".")-1>>>0)+2).toLowerCase()};var o=e.formatFileSize=function e(t){if(t<1e3){return t+"B"}else if(t>=1e3&&t<1e6){return Math.round(t*100/1024)/100+"KB"}else if(t>=1e6&&t<1e9){return Math.round(t*100/1024/1024)/100+"MB"}return Math.round(t*100/1024/1024/1024)/100+"GB"}}))},81:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.checkBase64Image=void 0;var t=e.checkBase64Image=function e(t){return t.startsWith("data:image/png;base64,")||t.startsWith("data:image/jpeg;base64,")}}))},772:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(771),r(898),r(258),r(81),r(736),r(803),r(68),r(220),r(222),r(394),r(521),r(969),r(707),r(360),r(159),r(399),r(897),r(265),r(615),r(375),r(362),r(916),r(248)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l,f,d,h,p,v,g,m,y,_,b,E,S,w){"use strict";Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"AudioContextLocalRecorder",{enumerable:true,get:function e(){return S.AudioContextLocalRecorder}});Object.defineProperty(e,"AutoQueryData",{enumerable:true,get:function e(){return m.AutoQueryData}});Object.defineProperty(e,"DownloadAudio",{enumerable:true,get:function e(){return b.DownloadAudio}});Object.defineProperty(e,"LazyLoad",{enumerable:true,get:function e(){return p.LazyLoad}});Object.defineProperty(e,"LocalTransparentVideoBg",{enumerable:true,get:function e(){return E.LocalTransparentVideoBg}});Object.defineProperty(e,"MediaDeviceManager",{enumerable:true,get:function e(){return w.MediaDeviceManager}});Object.defineProperty(e,"RequestTasksQueue",{enumerable:true,get:function e(){return u.RequestTasksQueue}});Object.defineProperty(e,"Timer",{enumerable:true,get:function e(){return g.Timer}});Object.defineProperty(e,"UrlUtil",{enumerable:true,get:function e(){return r.UrlUtil}});Object.defineProperty(e,"WebWorkerUtil",{enumerable:true,get:function e(){return _.WebWorkerUtil}});Object.defineProperty(e,"beforeJsonParse",{enumerable:true,get:function e(){return v.beforeJsonParse}});Object.defineProperty(e,"checkBase64Image",{enumerable:true,get:function e(){return i.checkBase64Image}});e.checkHttpsUrl=e.checkHttpUrl=void 0;Object.defineProperty(e,"checkIPV4",{enumerable:true,get:function e(){return h.checkIPV4}});Object.defineProperty(e,"componentDecorator",{enumerable:true,get:function e(){return d.componentDecorator}});Object.defineProperty(e,"createEntry",{enumerable:true,get:function e(){return n.createEntry}});Object.defineProperty(e,"customDecorator",{enumerable:true,get:function e(){return d.customDecorator}});Object.defineProperty(e,"debounce",{enumerable:true,get:function e(){return n.debounce}});Object.defineProperty(e,"deepCopy",{enumerable:true,get:function e(){return n.deepCopy}});Object.defineProperty(e,"deleteItemByKeys",{enumerable:true,get:function e(){return f.deleteItemByKeys}});Object.defineProperty(e,"escapeRegExp",{enumerable:true,get:function e(){return c.escapeRegExp}});Object.defineProperty(e,"formatConfName",{enumerable:true,get:function e(){return a.formatConfName}});Object.defineProperty(e,"formatDate",{enumerable:true,get:function e(){return n.formatDate}});Object.defineProperty(e,"formatFileSize",{enumerable:true,get:function e(){return o.formatFileSize}});Object.defineProperty(e,"formatString",{enumerable:true,get:function e(){return v.formatString}});Object.defineProperty(e,"formatType",{enumerable:true,get:function e(){return n.formatType}});Object.defineProperty(e,"frequentTasksDecoratorFactory",{enumerable:true,get:function e(){return d.frequentTasksDecoratorFactory}});Object.defineProperty(e,"getClientId",{enumerable:true,get:function e(){return n.getClientId}});Object.defineProperty(e,"getElementScreenPosition",{enumerable:true,get:function e(){return s.getElementScreenPosition}});Object.defineProperty(e,"getEmailReg",{enumerable:true,get:function e(){return c.getEmailReg}});Object.defineProperty(e,"getFileName",{enumerable:true,get:function e(){return o.getFileName}});Object.defineProperty(e,"getMobilePhoneReg",{enumerable:true,get:function e(){return c.getMobilePhoneReg}});Object.defineProperty(e,"getNumberReg",{enumerable:true,get:function e(){return c.getNumberReg}});Object.defineProperty(e,"getSipNumberReg",{enumerable:true,get:function e(){return c.getSipNumberReg}});Object.defineProperty(e,"getSuffix",{enumerable:true,get:function e(){return o.getSuffix}});Object.defineProperty(e,"handleAccountPrint",{enumerable:true,get:function e(){return a.handleAccountPrint}});Object.defineProperty(e,"handleIpPrint",{enumerable:true,get:function e(){return a.handleIpPrint}});Object.defineProperty(e,"handleNickNamePrint",{enumerable:true,get:function e(){return a.handleNickNamePrint}});Object.defineProperty(e,"handlePhoneNumberPrint",{enumerable:true,get:function e(){return a.handlePhoneNumberPrint}});Object.defineProperty(e,"handleTokenPrint",{enumerable:true,get:function e(){return a.handleTokenPrint}});Object.defineProperty(e,"handleUrlPrint",{enumerable:true,get:function e(){return a.handleUrlPrint}});Object.defineProperty(e,"hasOneInArray",{enumerable:true,get:function e(){return f.hasOneInArray}});e.isInHttpsWhiteList=e.isInHttpWhiteList=void 0;Object.defineProperty(e,"isNullOrEmpty",{enumerable:true,get:function e(){return n.isNullOrEmpty}});Object.defineProperty(e,"mergeByDay",{enumerable:true,get:function e(){return l.mergeByDay}});Object.defineProperty(e,"printfDecorator",{enumerable:true,get:function e(){return d.printfDecorator}});Object.defineProperty(e,"queryItemByKeys",{enumerable:true,get:function e(){return f.queryItemByKeys}});e.reactStopPropagation=void 0;Object.defineProperty(e,"replaceStringPlaceholder",{enumerable:true,get:function e(){return v.replaceStringPlaceholder}});Object.defineProperty(e,"setLocalStorageItem",{enumerable:true,get:function e(){return y.setLocalStorageItem}});Object.defineProperty(e,"setPLogger",{enumerable:true,get:function e(){return n.setPLogger}});Object.defineProperty(e,"setSessionStorageItem",{enumerable:true,get:function e(){return y.setSessionStorageItem}});e.showDifferentProperty=void 0;Object.defineProperty(e,"sleep",{enumerable:true,get:function e(){return n.sleep}});Object.defineProperty(e,"splitArrayByNum",{enumerable:true,get:function e(){return f.splitArrayByNum}});Object.defineProperty(e,"splitStringByChar",{enumerable:true,get:function e(){return v.splitStringByChar}});Object.defineProperty(e,"throttle",{enumerable:true,get:function e(){return n.throttle}});Object.defineProperty(e,"updateArrayItemByKeys",{enumerable:true,get:function e(){return f.updateArrayItemByKeys}});var T=e.reactStopPropagation=t.ReactUtil.reactStopPropagation;var C=e.showDifferentProperty=t.ReactUtil.showDifferentProperty;var A=e.checkHttpsUrl=r.UrlUtil.checkHttpsUrl;var R=e.checkHttpUrl=r.UrlUtil.checkHttpUrl;var I=e.isInHttpWhiteList=r.UrlUtil.isInHttpWhiteList;var k=e.isInHttpsWhiteList=r.UrlUtil.isInHttpsWhiteList}))},707:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.checkIPV4=void 0;var r=e.checkIPV4=function e(r){if((0,t.formatType)(r)!==t.formatType.STRING){return false}var n=r.split(".").filter((function(e){return!!e.trim()}));if(n.length!==4){return false}for(var i=0;i<n.length;i++){var o=parseInt(n[i]);if(isNaN(o)){return false}if(o<0||o>255){return false}}return true}}))},258:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.throttle=e.sleep=e.setPLogger=e.isNullOrEmpty=e.getPLogger=e.getClientId=e.formatType=e.formatDate=e.deepCopy=e.debounce=e.createEntry=e.Noop=void 0;var t=e.Noop=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return r};var r={debug:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},info:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},warn:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},error:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)}};var n=e.getPLogger=function e(){return r};var i=e.formatType=function e(t){return Object.prototype.toString.apply(t).match(/\[object\s(.*)]/)[1].toLowerCase()};i.STRING="string";i.OBJECT="object";i.PROXYOBJECT="proxyobject";i.FUNCTION="function";i.ARRAY="array";i.BOOLEAN="boolean";i.NUMBER="number";i.PROMISE="promise";i.NULL="null";i.UNDEFINED="undefined";i.NODELIST="nodelist";i.HTMLCOLLECTION="htmlcollection";i.EVENT="event";i.XMLDOCUMENT="xmldocument";i.DOCUMENT="document";i.ASYNCFUNCTION="asyncfunction";var o=e.setPLogger=function e(t){if(i(t===null||t===void 0?void 0:t.debug)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.info)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.warn)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.error)===i.FUNCTION){r=t}};var a=e.isNullOrEmpty=function e(t){var r=i(t);if(r===i.OBJECT){return Object.keys(t).length===0}return t===undefined||t===null||t.toString()==="NaN"||t===""||t.length===0};var s=e.deepCopy=function e(t){if(a(t)){return t}if(i(t)===i.STRING||i(t)===i.NUMBER||i(t)===i.BOOLEAN){return t}return JSON.parse(JSON.stringify(t))};var u=e.formatDate=function e(t,r){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:parseInt((t.getMilliseconds()/1e3).toFixed(3).substr(2))};if(/(y+)/.test(r)){r=r.replace(RegExp.$1,String(t.getFullYear()).substr(4-RegExp.$1.length))}for(var i in n){if(new RegExp("("+i+")").test(r)){r=r.replace(RegExp.$1,RegExp.$1.length===1?n[i].toString():("00"+n[i]).substr(String(n[i]).length))}}return r};var c=e.getClientId=function(){var e=0;var t=(new Date).getTime();return function(){var r=(new Date).getTime();if(r===t){e++;if(e>999){e=1}}else{t=r;e=0}return t*1e3+e}}();var l=e.createEntry=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return"".concat(t," ").concat(c())};var f=e.sleep=function e(t){return new Promise((function(e){return setTimeout(e,t)}))};var d=e.debounce=function e(t,r){var n=0;return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++){i[o]=arguments[o]}if(n){clearTimeout(n)}n=setTimeout((function(){t.apply(void 0,i)}),r)}};var h=e.throttle=function e(t,r){var n;return function(){if(!n){t.apply(void 0,arguments);n=setTimeout((function(){n=null}),r)}}}}))},222:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getSipNumberReg=e.getNumberReg=e.getMobilePhoneReg=e.getEmailReg=e.getChineseWordReg=e.getChinesePunctuationReg=e.escapeRegExp=void 0;var t=e.escapeRegExp=function e(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")};var r=e.getNumberReg=function e(){return/^([+*#]\d+|\d{4,})$/};var n=e.getMobilePhoneReg=function e(){return/^(1|\+861|0\d{2,3}1)[3456789]\d{9}$/};var i=e.getEmailReg=function e(){return/^[a-z\dA-Z]+[-a-z\dA-Z._]+@([a-z\dA-Z]+(-[a-z\dA-Z]+)?\.)+[a-z]+$/};var o=e.getSipNumberReg=function e(){return/^\+99111\d+/};var a=e.getChineseWordReg=function e(){return/[\u4E00-\u9FFF]/};var s=e.getChinesePunctuationReg=function e(){return/[\u4E00-\u9FFF]/}}))},803:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.handleUrlPrint=e.handleTokenPrint=e.handlePhoneNumberPrint=e.handleNickNamePrint=e.handleIpPrint=e.handleAccountPrint=e.formatConfName=void 0;var r=e.handlePhoneNumberPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}var n=r.toString();var i=/^1[3456789]\d{9}$/g;var o=n.length;var a=Math.floor((o-3)/2);if(o<3){return n}else if(o<5){return n.substr(0,1)+"***"}else if(o>11){return n.substr(0,2)+"*****"+n.substr(-3)}return i.test(n)?n.substr(0,3)+"****"+n.substr(7):n.substr(0,a)+"***"+n.substr(a+3)};var n=e.handleAccountPrint=function e(n){if((0,t.isNullOrEmpty)(n)){return""}n=n.toString();var i=/^1[3456789]\d{9}$/g;if(i.test(n)){return r(n)}var o=/^\+99|\+8657\d+/g;if(o.test(n)){return n.substr(0,2)+"*****"+n.substr(-3)}if(n.length<=5){return n.replace(/(?<=[\w\W])([\w\W])/gi,"*")}if(n.length<=13){return n.replace(/(?<=[\w\W])([\w\W])(?=[\w\W])/gi,"*")}return n.replace(/(?<=[\w\W]{2})([\w\W])(?=[\w\W]{3})/gi,"*")};var i=e.handleIpPrint=function e(r){if((0,t.formatType)(r)!==t.formatType.STRING||!r){return""}return r.replace(/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/gi,(function(e){return e.replace(/(\d{1,3})$/gi,(function(e,t){return t.replace(/\d/gi,"*")}))}))};var o=e.handleUrlPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}r=r.toString();return r.split("?")[0]};var a=e.handleTokenPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}r=r.toString();return r.substr(0,2)+"***"+r.substr(-3)};var s=e.handleNickNamePrint=function e(n){if((0,t.isNullOrEmpty)(n)||![t.formatType.STRING,t.formatType.NUMBER].includes((0,t.formatType)(n))){return""}n=n.toString();var i=/^1[3|4|5|6|7|8|9][0-9]{9}$/g;if(i.test(n)){return r(n)}return n.replace(/^([\w\W])([\w\W]+)/gi,(function(e,t,r){return t+r.replace(/[\w\W]/gi,"*")}))};var u=e.formatConfName=function e(r){if((0,t.isNullOrEmpty)(r)||![t.formatType.STRING,t.formatType.NUMBER].includes((0,t.formatType)(r))){return""}r=r.toString();var n=r.length;if(n<5){return r.replace(/^([\w\W])([\w\W]+)/gi,(function(e,t,r){return t+r.replace(/[\w\W]/gi,"*")}))}else if(n<=13){return r.replace(/^([\w\W])([\w\W]+)([\w\W])$/gi,(function(e,t,r,n){return t+r.replace(/[\w\W]/gi,"*")+n}))}return r.replace(/^([\w\W]{2})([\w\W]+)([\w\W]{3})$/gi,(function(e,t,r,n){return t+r.replace(/[\w\W]/gi,"*")+n}))}}))},265:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.setSessionStorageItem=e.setLocalStorageItem=void 0;var r=function e(r){return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{key:"",value:""};if(!e){return false}var n=e.key,i=e.value,o=e.isForce;var a=r?window.localStorage:window.sessionStorage;if(!a){(0,t.getPLogger)().warn("setStorageItem no Storage",{isLocalStorage:r,key:n});return false}if(!n){(0,t.getPLogger)().warn("setStorageItem no key",{isLocalStorage:r,key:n});return false}if((0,t.formatType)(i)!==t.formatType.STRING){(0,t.getPLogger)().warn("setStorageItem value not string",{isLocalStorage:r,key:n});return false}try{(0,t.getPLogger)().info("setStorageItem",{isLocalStorage:r,key:n});a.setItem(n,i===null||i===void 0?void 0:i.toString());return true}catch(e){(0,t.getPLogger)().error("setStorageItem",{isLocalStorage:r,key:n,isForce:o,e});if(!o){return false}a.clear();a.setItem(n,i===null||i===void 0?void 0:i.toString());return true}}};var n=e.setLocalStorageItem=r(true);var i=e.setSessionStorageItem=r(false)}))},159:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.splitStringByChar=e.replaceStringPlaceholder=e.formatString=e.beforeJsonParse=void 0;var r=e.splitStringByChar=function e(r,n,i){if((0,t.formatType)(r)!==t.formatType.STRING){return r}if((0,t.formatType)(n)!==t.formatType.NUMBER||n<0){return r}if((0,t.formatType)(i)!==t.formatType.STRING){return r}var o="";r.split("").forEach((function(e,t){o+=e;if(t<r.length-1&&(t+1)%n===0){o+=i}}));return o};var n=e.formatString=function e(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}if((0,t.formatType)(r)!==t.formatType.STRING){return r}return r.replace(/\{([^{}]+)}/g,(function(e,r){return(0,t.formatType)(i[r])===t.formatType.STRING||!(0,t.isNullOrEmpty)(i[r])?i[r]:e}))};var i=e.replaceStringPlaceholder=function e(r,n,i){if((0,t.formatType)(r)!==t.formatType.STRING){return r}var o=r.split(n.toString());var a="";o.forEach((function(e,t){a+=e;if(t<o.length-1&&i[t]){a+=i[t]}}));return a};var o=e.beforeJsonParse=function e(t){return t.replace("","")}}))},167:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.loadWasm=e.getModule=void 0;function t(e){return o(e)||i(e)||n(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return a(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=l(e,"string");return"symbol"==S(t)?t:t+""}function l(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,r){return t=E(t),h(e,y()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}function h(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function g(e){var t="function"==typeof Map?new Map:void 0;return g=function e(r){if(null===r||!_(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return m(r,arguments,E(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,r)},g(e)}function m(e,t,r){if(y())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&b(i,r.prototype),i}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function t(){return!!e})()}function _(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function S(e){"@babel/helpers - typeof";return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}var w={};var T=e.loadWasm=function e(r,n){Object.assign(w,r);var i=true;var o=false;var a=false;var s=false;if(w["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)")}if(!w.expectedDataFileDownloads){w.expectedDataFileDownloads=0}w.expectedDataFileDownloads++;(function(){var e=typeof ENVIRONMENT_IS_PTHREAD!="undefined"&&ENVIRONMENT_IS_PTHREAD;var t=typeof ENVIRONMENT_IS_WASM_WORKER!="undefined"&&ENVIRONMENT_IS_WASM_WORKER;if(e||t)return;function r(e){var t="";if((typeof window==="undefined"?"undefined":S(window))==="object"){t=window["encodeURIComponent"](window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/")}else if(typeof process==="undefined"&&typeof location!=="undefined"){t=encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/")}var r="bin/kws_custom_word.data";var n="kws_custom_word.data";if(typeof w["locateFilePackage"]==="function"&&!w["locateFile"]){w["locateFile"]=w["locateFilePackage"];A("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)")}var i=w["locateFile"]?w["locateFile"](n,""):n;var o=e["remote_package_size"];function a(e,t,r,n){var i=new XMLHttpRequest;i.open("GET",e,true);i.responseType="arraybuffer";i.onprogress=function(r){var n=e;var o=t;if(r.total)o=r.total;if(r.loaded){if(!i.addedTotal){i.addedTotal=true;if(!w.dataFileDownloads)w.dataFileDownloads={};w.dataFileDownloads[n]={loaded:r.loaded,total:o}}else{w.dataFileDownloads[n].loaded=r.loaded}var a=0;var s=0;var u=0;for(var c in w.dataFileDownloads){var l=w.dataFileDownloads[c];a+=l.total;s+=l.loaded;u++}a=Math.ceil(a*w.expectedDataFileDownloads/u);if(w["setStatus"])w["setStatus"]("Downloading data... (".concat(s,"/").concat(a,")"))}else if(!w.dataFileDownloads){if(w["setStatus"])w["setStatus"]("Downloading data...")}};i.onerror=function(t){throw new Error("NetworkError for: "+e)};i.onload=function(e){if(i.status==200||i.status==304||i.status==206||i.status==0&&i.response){var t=i.response;r(t)}else{throw new Error(i.statusText+" : "+i.responseURL)}};i.send(null)}function s(e){console.error("package error:",e)}var u=null;var c=w["getPreloadedPackage"]?w["getPreloadedPackage"](i,o):null;if(!c)a(i,o,(function(e){if(u){u(e);u=null}else{c=e}}),s);function l(){function t(e,t){if(!e)throw t+(new Error).stack}function n(e,t,r){this.start=e;this.end=t;this.audio=r}n.prototype={requests:{},open:function e(t,r){this.name=r;this.requests[r]=this;w["addRunDependency"]("fp ".concat(this.name))},send:function e(){},onload:function e(){var t=this.byteArray.subarray(this.start,this.end);this.finish(t)},finish:function e(t){var r=this;w["FS_createDataFile"](this.name,null,t,true,true,true);w["removeRunDependency"]("fp ".concat(r.name));this.requests[this.name]=null}};var i=e["files"];for(var o=0;o<i.length;++o){new n(i[o]["start"],i[o]["end"],i[o]["audio"]||0).open("GET",i[o]["filename"])}function a(r){t(r,"Loading data file failed.");t(r.constructor.name===ArrayBuffer.name,"bad input to processPackageData");var i=new Uint8Array(r);n.prototype.byteArray=i;var o=e["files"];for(var a=0;a<o.length;++a){n.prototype.requests[o[a].filename].onload()}w["removeRunDependency"]("datafile_bin/kws_custom_word.data")}w["addRunDependency"]("datafile_bin/kws_custom_word.data");if(!w.preloadResults)w.preloadResults={};w.preloadResults[r]={fromCache:false};if(c){a(c);c=null}else{u=a}}if(w["calledRun"]){l()}else{if(!w["preRun"])w["preRun"]=[];w["preRun"].push(l)}}r(n)})();if(w["$ww"]||typeof ENVIRONMENT_IS_PTHREAD!="undefined"&&ENVIRONMENT_IS_PTHREAD)w["preRun"]=[];var c=w["preRun"].slice();if(!w["preRun"])throw"Module.preRun should exist because file support used it; did a pre-js delete it?";c.forEach((function(e){if(w["preRun"].indexOf(e)<0)throw"All preRun tasks that exist before user pre-js code should remain after; did you replace Module or modify Module.preRun?"}));var l=Object.assign({},w);var h=[];var p="./this.program";var m=function e(t,r){throw r};var y="";function _(e){if(w["locateFile"]){return w["locateFile"](e,y)}return y+e}var b,E,T;if(s){if((typeof process==="undefined"?"undefined":S(process))=="object"&&"function"==="function"||(typeof window==="undefined"?"undefined":S(window))=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(i||o){if(o){y=self.location.href}else if(typeof document!="undefined"&&document.currentScript){y=document.currentScript.src}if(y.startsWith("blob:")){y=""}else{y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1)}if(!((typeof window==="undefined"?"undefined":S(window))=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{b=function e(t){var r=new XMLHttpRequest;r.open("GET",t,false);r.send(null);return r.responseText};if(o){T=function e(t){var r=new XMLHttpRequest;r.open("GET",t,false);r.responseType="arraybuffer";r.send(null);return new Uint8Array(r.response)}}E=function e(t,r,n){var i=new XMLHttpRequest;i.open("GET",t,true);i.responseType="arraybuffer";i.onload=function(){if(i.status==200||i.status==0&&i.response){r(i.response);return}n()};i.onerror=n;i.send(null)}}}else{throw new Error("environment detection error")}var C=w["print"]||console.log.bind(console);var A=w["printErr"]||console.error.bind(console);Object.assign(w,l);l=null;vn();if(w["arguments"])h=w["arguments"];Ce("arguments","arguments_");if(w["thisProgram"])p=w["thisProgram"];Ce("thisProgram","thisProgram");if(w["quit"])m=w["quit"];Ce("quit","quit_");M(typeof w["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");M(typeof w["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");M(typeof w["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");M(typeof w["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");M(typeof w["read"]=="undefined","Module.read option was removed (modify read_ in JS)");M(typeof w["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");M(typeof w["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");M(typeof w["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)");M(typeof w["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");Ce("asm","wasmExports");Ce("read","read_");Ce("readAsync","readAsync");Ce("readBinary","readBinary");Ce("setWindowTitle","setWindowTitle");M(!o,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable.");M(!a,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable.");M(!s,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var R;if(w["wasmBinary"])R=w["wasmBinary"];Ce("wasmBinary","wasmBinary");if((typeof WebAssembly==="undefined"?"undefined":S(WebAssembly))!="object"){A("no native wasm support detected")}function I(e){var t=atob(e);var r=new Uint8Array(t.length);for(var n=0;n<t.length;++n){r[n]=t.charCodeAt(n)}return r}var k;var O=false;var P;function M(e,t){if(!e){se("Assertion failed"+(t?": "+t:""))}}var x,L,D,N,j,U,B,F;function H(){var e=k.buffer;w["HEAP8"]=x=new Int8Array(e);w["HEAP16"]=D=new Int16Array(e);w["HEAPU8"]=L=new Uint8Array(e);w["HEAPU16"]=N=new Uint16Array(e);w["HEAP32"]=j=new Int32Array(e);w["HEAPU32"]=U=new Uint32Array(e);w["HEAPF32"]=B=new Float32Array(e);w["HEAPF64"]=F=new Float64Array(e)}M(!w["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");M(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");M(!w["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");M(!w["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function V(){var e=Fn();M((e&3)==0);if(e==0){e+=4}U[e>>2]=34821223;U[e+4>>2]=2310721022;U[0>>2]=1668509029}function W(){if(O)return;var e=Fn();if(e==0){e+=4}var t=U[e>>2];var r=U[e+4>>2];if(t!=34821223||r!=2310721022){se("Stack overflow! Stack cookie has been overwritten at ".concat(Ne(e),", expected hex dwords 0x89BACDFE and 0x2135467, but received ").concat(Ne(r)," ").concat(Ne(t)))}if(U[0>>2]!=1668509029){se("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var e=new Int16Array(1);var t=new Int8Array(e.buffer);e[0]=25459;if(t[0]!==115||t[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var z=[];var G=[];var Y=[];var K=false;function q(){if(w["preRun"]){if(typeof w["preRun"]=="function")w["preRun"]=[w["preRun"]];while(w["preRun"].length){Z(w["preRun"].shift())}}xe(z)}function $(){M(!K);K=true;W();if(!w["noFSInit"]&&!Ot.init.initialized)Ot.init();Ot.ignorePermissions=false;gt.init();xe(G)}function J(){W();if(w["postRun"]){if(typeof w["postRun"]=="function")w["postRun"]=[w["postRun"]];while(w["postRun"].length){Q(w["postRun"].shift())}}xe(Y)}function Z(e){z.unshift(e)}function X(e){G.unshift(e)}function Q(e){Y.unshift(e)}M(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");M(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");M(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");M(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var ee=0;var te=null;var re=null;var ne={};function ie(e){var t=e;while(1){if(!ne[e])return e;e=t+Math.random()}}function oe(e){var t;ee++;(t=w["monitorRunDependencies"])===null||t===void 0||t.call(w,ee);if(e){M(!ne[e]);ne[e]=1;if(te===null&&typeof setInterval!="undefined"){te=setInterval((function(){if(O){clearInterval(te);te=null;return}var e=false;for(var t in ne){if(!e){e=true;A("still waiting on run dependencies:")}A("dependency: ".concat(t))}if(e){A("(end of list)")}}),1e4)}}else{A("warning: run dependency added without ID")}}function ae(e){var t;ee--;(t=w["monitorRunDependencies"])===null||t===void 0||t.call(w,ee);if(e){M(ne[e]);delete ne[e]}else{A("warning: run dependency removed without ID")}if(ee==0){if(te!==null){clearInterval(te);te=null}if(re){var r=re;re=null;r()}}}function se(e){var t;(t=w["onAbort"])===null||t===void 0||t.call(w,e);e="Aborted("+e+")";A(e);O=true;P=1;var r=new WebAssembly.RuntimeError(e);throw r}var ue="data:application/octet-stream;base64,";var ce=function e(t){return t.startsWith(ue)};var le=function e(t){return t.startsWith("file://")};function fe(e,t){return function(){M(K,"native function `".concat(e,"` called before runtime initialization"));var r=mn[e];M(r,"exported native function `".concat(e,"` not found"));M(arguments.length<=t,"native function `".concat(e,"` called with ").concat(arguments.length," args but expects ").concat(t));return r.apply(void 0,arguments)}}var de=function(e){function t(){f(this,t);return d(this,t,arguments)}v(t,e);return u(t)}(g(Error));var he=function(e){function t(){f(this,t);return d(this,t,arguments)}v(t,e);return u(t)}(de);var pe=function(e){function t(e){var r;f(this,t);r=d(this,t,[e]);r.excPtr=e;var n=pn(e);r.name=n[0];r.message=n[1];return r}v(t,e);return u(t)}(de);function ve(){var e="kws_custom_word.wasm";if(!ce(e)){return _(e)}return e}var ge;function me(e){if(e==ge&&R){return new Uint8Array(R)}if(T){return T(e)}throw"both async and sync fetching of the wasm failed"}function ye(e){if(!R&&(i||o)){if(typeof fetch=="function"){return fetch(e,{credentials:"same-origin"}).then((function(t){if(!t["ok"]){throw"failed to load wasm binary file at '".concat(e,"'")}return t["arrayBuffer"]()}))["catch"]((function(){return me(e)}))}}return Promise.resolve().then((function(){return me(e)}))}function _e(e,t,r){return ye(e).then((function(e){return WebAssembly.instantiate(e,t)})).then(r,(function(e){A("failed to asynchronously prepare wasm: ".concat(e));if(le(ge)){A("warning: Loading from a file URI (".concat(ge,") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"))}se(e)}))}function be(e,t,r,n){if(!e&&typeof WebAssembly.instantiateStreaming=="function"&&!ce(t)&&typeof fetch=="function"){return fetch(t,{credentials:"same-origin"}).then((function(e){var i=WebAssembly.instantiateStreaming(e,r);return i.then(n,(function(e){A("wasm streaming compile failed: ".concat(e));A("falling back to ArrayBuffer instantiation");return _e(t,r,n)}))}))}return _e(t,r,n)}function Ee(){return{env:gn,wasi_snapshot_preview1:gn}}function Se(){var e=Ee();function t(e,t){mn=e.exports;k=mn["memory"];M(k,"memory not found in wasm exports");H();Vr=mn["__indirect_function_table"];M(Vr,"table not found in wasm exports");X(mn["__wasm_call_ctors"]);ae("wasm-instantiate");return mn}oe("wasm-instantiate");var r=w;function n(e){M(w===r,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");r=null;t(e["instance"])}if(w["instantiateWasm"]){try{return w["instantiateWasm"](e,t)}catch(e){A("Module.instantiateWasm callback failed with error: ".concat(e));return false}}if(!ge)ge=ve();be(R,ge,e,n);return{}}var we;var Te;function Ce(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!Object.getOwnPropertyDescriptor(w,e)){Object.defineProperty(w,e,{configurable:true,get:function n(){var i=r?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";se("`Module.".concat(e,"` has been replaced by `").concat(t,"`")+i)}})}}function Ae(e){if(Object.getOwnPropertyDescriptor(w,e)){se("`Module.".concat(e,"` was supplied but `").concat(e,"` not included in INCOMING_MODULE_JS_API"))}}function Re(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function Ie(e,t){if(typeof globalThis!="undefined"){Object.defineProperty(globalThis,e,{configurable:true,get:function r(){Fe("`".concat(e,"` is not longer defined by emscripten. ").concat(t));return undefined}})}}Ie("buffer","Please use HEAP8.buffer or wasmMemory.buffer");Ie("asm","Please use wasmExports instead");function ke(e){if(typeof globalThis!="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,e)){Object.defineProperty(globalThis,e,{configurable:true,get:function t(){var r="`".concat(e,"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line");var n=e;if(!n.startsWith("_")){n="$"+e}r+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='".concat(n,"')");if(Re(e)){r+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"}Fe(r);return undefined}})}Oe(e)}function Oe(e){if(!Object.getOwnPropertyDescriptor(w,e)){Object.defineProperty(w,e,{configurable:true,get:function t(){var r="'".concat(e,"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)");if(Re(e)){r+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"}se(r)}})}}var Pe={897360:function e(t,r,n,i){if(typeof w=="undefined"||!w.MountedFiles){return 1}var o=We(t>>>0);if(o.startsWith("./")){o=o.substring(2)}var a=w.MountedFiles.get(o);if(!a){return 2}var s=r>>>0;var u=n>>>0;var c=i>>>0;if(s+u>a.byteLength){return 3}try{L.set(a.subarray(s,s+u),c);return 0}catch(e){return 4}}};function Me(e){this.name="ExitStatus";this.message="Program terminated with exit(".concat(e,")");this.status=e}var xe=function e(t){while(t.length>0){t.shift()(w)}};function Le(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"i8";if(t.endsWith("*"))t="*";switch(t){case"i1":return x[e];case"i8":return x[e];case"i16":return D[e>>1];case"i32":return j[e>>2];case"i64":se("to do getValue(i64) use WASM_BIGINT");case"float":return B[e>>2];case"double":return F[e>>3];case"*":return U[e>>2];default:se("invalid type for getValue: ".concat(t))}}var De=w["noExitRuntime"]||true;var Ne=function e(t){M(typeof t==="number");t>>>=0;return"0x"+t.toString(16).padStart(8,"0")};function je(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"i8";if(r.endsWith("*"))r="*";switch(r){case"i1":x[e]=t;break;case"i8":x[e]=t;break;case"i16":D[e>>1]=t;break;case"i32":j[e>>2]=t;break;case"i64":se("to do setValue(i64) use WASM_BIGINT");case"float":B[e>>2]=t;break;case"double":F[e>>3]=t;break;case"*":U[e>>2]=t;break;default:se("invalid type for setValue: ".concat(r))}}var Ue=function e(t){return Hn(t)};var Be=function e(){return Wn()};var Fe=function e(t){Fe.shown||(Fe.shown={});if(!Fe.shown[t]){Fe.shown[t]=1;A(t)}};var He=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var Ve=function e(t,r,n){var i=r+n;var o=r;while(t[o]&&!(o>=i))++o;if(o-r>16&&t.buffer&&He){return He.decode(t.subarray(r,o))}var a="";while(r<o){var s=t[r++];if(!(s&128)){a+=String.fromCharCode(s);continue}var u=t[r++]&63;if((s&224)==192){a+=String.fromCharCode((s&31)<<6|u);continue}var c=t[r++]&63;if((s&240)==224){s=(s&15)<<12|u<<6|c}else{if((s&248)!=240)Fe("Invalid UTF-8 leading byte "+Ne(s)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");s=(s&7)<<18|u<<12|c<<6|t[r++]&63}if(s<65536){a+=String.fromCharCode(s)}else{var l=s-65536;a+=String.fromCharCode(55296|l>>10,56320|l&1023)}}return a};var We=function e(t,r){M(typeof t=="number","UTF8ToString expects a number (got ".concat(S(t),")"));return t?Ve(L,t,r):""};var ze=function e(t,r,n,i){se("Assertion failed: ".concat(We(t),", at: ")+[r?We(r):"unknown filename",n,i?We(i):"unknown function"])};var Ge=[];var Ye=0;var Ke=function e(t){var r=new Je(t);if(!r.get_caught()){r.set_caught(true);Ye--}r.set_rethrown(false);Ge.push(r);Gn(r.excPtr);return r.get_exception_ptr()};var qe=0;var $e=function e(){Dn(0,0);M(Ge.length>0);var t=Ge.pop();zn(t.excPtr);qe=0};var Je=function(){function e(t){f(this,e);this.excPtr=t;this.ptr=t-24}return u(e,[{key:"set_type",value:function e(t){U[this.ptr+4>>2]=t}},{key:"get_type",value:function e(){return U[this.ptr+4>>2]}},{key:"set_destructor",value:function e(t){U[this.ptr+8>>2]=t}},{key:"get_destructor",value:function e(){return U[this.ptr+8>>2]}},{key:"set_caught",value:function e(t){t=t?1:0;x[this.ptr+12]=t}},{key:"get_caught",value:function e(){return x[this.ptr+12]!=0}},{key:"set_rethrown",value:function e(t){t=t?1:0;x[this.ptr+13]=t}},{key:"get_rethrown",value:function e(){return x[this.ptr+13]!=0}},{key:"init",value:function e(t,r){this.set_adjusted_ptr(0);this.set_type(t);this.set_destructor(r)}},{key:"set_adjusted_ptr",value:function e(t){U[this.ptr+16>>2]=t}},{key:"get_adjusted_ptr",value:function e(){return U[this.ptr+16>>2]}},{key:"get_exception_ptr",value:function e(){var t=qn(this.get_type());if(t){return U[this.excPtr>>2]}var r=this.get_adjusted_ptr();if(r!==0)return r;return this.excPtr}}])}();var Ze=function e(t){if(!qe){qe=new pe(t)}throw qe};var Xe=function e(t){return Nn(t)};var Qe=function e(t){var r;var n=(r=qe)===null||r===void 0?void 0:r.excPtr;if(!n){Xe(0);return 0}var i=new Je(n);i.set_adjusted_ptr(n);var o=i.get_type();if(!o){Xe(0);return n}for(var a in t){var s=t[a];if(s===0||s===o){break}var u=i.ptr+16;if(Kn(s,o,u)){Xe(s);return n}}Xe(o);return n};var et=function e(){return Qe([])};var tt=function e(t){return Qe([t])};var rt=function e(){var t=Ge.pop();if(!t){se("no exception to throw")}var r=t.excPtr;if(!t.get_rethrown()){Ge.push(t);t.set_rethrown(true);t.set_caught(false);Ye++}qe=new pe(r);throw qe};var nt=function e(t,r,n){var i=new Je(t);i.init(r,n);qe=new pe(t);Ye++;throw qe};var it=function e(){return Ye};function ot(){M(Pt.varargs!=undefined);var e=j[+Pt.varargs>>2];Pt.varargs+=4;return e}var at=ot;var st={isAbs:function e(t){return t.charAt(0)==="/"},splitPath:function e(t){var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(t).slice(1)},normalizeArray:function e(t,r){var n=0;for(var i=t.length-1;i>=0;i--){var o=t[i];if(o==="."){t.splice(i,1)}else if(o===".."){t.splice(i,1);n++}else if(n){t.splice(i,1);n--}}if(r){for(;n;n--){t.unshift("..")}}return t},normalize:function e(t){var r=st.isAbs(t),n=t.substr(-1)==="/";t=st.normalizeArray(t.split("/").filter((function(e){return!!e})),!r).join("/");if(!t&&!r){t="."}if(t&&n){t+="/"}return(r?"/":"")+t},dirname:function e(t){var r=st.splitPath(t),n=r[0],i=r[1];if(!n&&!i){return"."}if(i){i=i.substr(0,i.length-1)}return n+i},basename:function e(t){if(t==="/")return"/";t=st.normalize(t);t=t.replace(/\/$/,"");var r=t.lastIndexOf("/");if(r===-1)return t;return t.substr(r+1)},join:function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return st.normalize(r.join("/"))},join2:function e(t,r){return st.normalize(t+"/"+r)}};var ut=function e(){if((typeof crypto==="undefined"?"undefined":S(crypto))=="object"&&typeof crypto["getRandomValues"]=="function"){return function(e){return crypto.getRandomValues(e)}}else se("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: (array) => { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")};var ct=function e(t){return(ct=ut())(t)};var lt={resolve:function e(){var t="",r=false;for(var n=arguments.length-1;n>=-1&&!r;n--){var i=n>=0?n<0||arguments.length<=n?undefined:arguments[n]:Ot.cwd();if(typeof i!="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!i){return""}t=i+"/"+t;r=st.isAbs(i)}t=st.normalizeArray(t.split("/").filter((function(e){return!!e})),!r).join("/");return(r?"/":"")+t||"."},relative:function e(t,r){t=lt.resolve(t).substr(1);r=lt.resolve(r).substr(1);function n(e){var t=0;for(;t<e.length;t++){if(e[t]!=="")break}var r=e.length-1;for(;r>=0;r--){if(e[r]!=="")break}if(t>r)return[];return e.slice(t,r-t+1)}var i=n(t.split("/"));var o=n(r.split("/"));var a=Math.min(i.length,o.length);var s=a;for(var u=0;u<a;u++){if(i[u]!==o[u]){s=u;break}}var c=[];for(var u=s;u<i.length;u++){c.push("..")}c=c.concat(o.slice(s));return c.join("/")}};var ft=[];var dt=function e(t){var r=0;for(var n=0;n<t.length;++n){var i=t.charCodeAt(n);if(i<=127){r++}else if(i<=2047){r+=2}else if(i>=55296&&i<=57343){r+=4;++n}else{r+=3}}return r};var ht=function e(t,r,n,i){M(typeof t==="string","stringToUTF8Array expects a string (got ".concat(S(t),")"));if(!(i>0))return 0;var o=n;var a=n+i-1;for(var s=0;s<t.length;++s){var u=t.charCodeAt(s);if(u>=55296&&u<=57343){var c=t.charCodeAt(++s);u=65536+((u&1023)<<10)|c&1023}if(u<=127){if(n>=a)break;r[n++]=u}else if(u<=2047){if(n+1>=a)break;r[n++]=192|u>>6;r[n++]=128|u&63}else if(u<=65535){if(n+2>=a)break;r[n++]=224|u>>12;r[n++]=128|u>>6&63;r[n++]=128|u&63}else{if(n+3>=a)break;if(u>1114111)Fe("Invalid Unicode code point "+Ne(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");r[n++]=240|u>>18;r[n++]=128|u>>12&63;r[n++]=128|u>>6&63;r[n++]=128|u&63}}r[n]=0;return n-o};function pt(e,t,r){var n=r>0?r:dt(e)+1;var i=new Array(n);var o=ht(e,i,0,i.length);if(t)i.length=o;return i}var vt=function e(){if(!ft.length){var t=null;if(typeof window!="undefined"&&typeof window.prompt=="function"){t=window.prompt("Input: ");if(t!==null){t+="\n"}}else{}if(!t){return null}ft=pt(t,true)}return ft.shift()};var gt={ttys:[],init:function e(){},shutdown:function e(){},register:function e(t,r){gt.ttys[t]={input:[],output:[],ops:r};Ot.registerDevice(t,gt.stream_ops)},stream_ops:{open:function e(t){var r=gt.ttys[t.node.rdev];if(!r){throw new Ot.ErrnoError(43)}t.tty=r;t.seekable=false},close:function e(t){t.tty.ops.fsync(t.tty)},fsync:function e(t){t.tty.ops.fsync(t.tty)},read:function e(t,r,n,i,o){if(!t.tty||!t.tty.ops.get_char){throw new Ot.ErrnoError(60)}var a=0;for(var s=0;s<i;s++){var u;try{u=t.tty.ops.get_char(t.tty)}catch(e){throw new Ot.ErrnoError(29)}if(u===undefined&&a===0){throw new Ot.ErrnoError(6)}if(u===null||u===undefined)break;a++;r[n+s]=u}if(a){t.node.timestamp=Date.now()}return a},write:function e(t,r,n,i,o){if(!t.tty||!t.tty.ops.put_char){throw new Ot.ErrnoError(60)}try{for(var a=0;a<i;a++){t.tty.ops.put_char(t.tty,r[n+a])}}catch(e){throw new Ot.ErrnoError(29)}if(i){t.node.timestamp=Date.now()}return a}},default_tty_ops:{get_char:function e(t){return vt()},put_char:function e(t,r){if(r===null||r===10){C(Ve(t.output,0));t.output=[]}else{if(r!=0)t.output.push(r)}},fsync:function e(t){if(t.output&&t.output.length>0){C(Ve(t.output,0));t.output=[]}},ioctl_tcgets:function e(t){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets:function e(t,r,n){return 0},ioctl_tiocgwinsz:function e(t){return[24,80]}},default_tty1_ops:{put_char:function e(t,r){if(r===null||r===10){A(Ve(t.output,0));t.output=[]}else{if(r!=0)t.output.push(r)}},fsync:function e(t){if(t.output&&t.output.length>0){A(Ve(t.output,0));t.output=[]}}}};var mt=function e(t,r){L.fill(0,t,t+r);return t};var yt=function e(t,r){M(r,"alignment argument is required");return Math.ceil(t/r)*r};var _t=function e(t){t=yt(t,65536);var r=Ln(65536,t);if(!r)return 0;return mt(r,t)};var bt={ops_table:null,mount:function e(t){return bt.createNode(null,"/",16384|511,0)},createNode:function e(t,r,n,i){if(Ot.isBlkdev(n)||Ot.isFIFO(n)){throw new Ot.ErrnoError(63)}bt.ops_table||(bt.ops_table={dir:{node:{getattr:bt.node_ops.getattr,setattr:bt.node_ops.setattr,lookup:bt.node_ops.lookup,mknod:bt.node_ops.mknod,rename:bt.node_ops.rename,unlink:bt.node_ops.unlink,rmdir:bt.node_ops.rmdir,readdir:bt.node_ops.readdir,symlink:bt.node_ops.symlink},stream:{llseek:bt.stream_ops.llseek}},file:{node:{getattr:bt.node_ops.getattr,setattr:bt.node_ops.setattr},stream:{llseek:bt.stream_ops.llseek,read:bt.stream_ops.read,write:bt.stream_ops.write,allocate:bt.stream_ops.allocate,mmap:bt.stream_ops.mmap,msync:bt.stream_ops.msync}},link:{node:{getattr:bt.node_ops.getattr,setattr:bt.node_ops.setattr,readlink:bt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:bt.node_ops.getattr,setattr:bt.node_ops.setattr},stream:Ot.chrdev_stream_ops}});var o=Ot.createNode(t,r,n,i);if(Ot.isDir(o.mode)){o.node_ops=bt.ops_table.dir.node;o.stream_ops=bt.ops_table.dir.stream;o.contents={}}else if(Ot.isFile(o.mode)){o.node_ops=bt.ops_table.file.node;o.stream_ops=bt.ops_table.file.stream;o.usedBytes=0;o.contents=null}else if(Ot.isLink(o.mode)){o.node_ops=bt.ops_table.link.node;o.stream_ops=bt.ops_table.link.stream}else if(Ot.isChrdev(o.mode)){o.node_ops=bt.ops_table.chrdev.node;o.stream_ops=bt.ops_table.chrdev.stream}o.timestamp=Date.now();if(t){t.contents[r]=o;t.timestamp=o.timestamp}return o},getFileDataAsTypedArray:function e(t){if(!t.contents)return new Uint8Array(0);if(t.contents.subarray)return t.contents.subarray(0,t.usedBytes);return new Uint8Array(t.contents)},expandFileStorage:function e(t,r){var n=t.contents?t.contents.length:0;if(n>=r)return;var i=1024*1024;r=Math.max(r,n*(n<i?2:1.125)>>>0);if(n!=0)r=Math.max(r,256);var o=t.contents;t.contents=new Uint8Array(r);if(t.usedBytes>0)t.contents.set(o.subarray(0,t.usedBytes),0)},resizeFileStorage:function e(t,r){if(t.usedBytes==r)return;if(r==0){t.contents=null;t.usedBytes=0}else{var n=t.contents;t.contents=new Uint8Array(r);if(n){t.contents.set(n.subarray(0,Math.min(r,t.usedBytes)))}t.usedBytes=r}},node_ops:{getattr:function e(t){var r={};r.dev=Ot.isChrdev(t.mode)?t.id:1;r.ino=t.id;r.mode=t.mode;r.nlink=1;r.uid=0;r.gid=0;r.rdev=t.rdev;if(Ot.isDir(t.mode)){r.size=4096}else if(Ot.isFile(t.mode)){r.size=t.usedBytes}else if(Ot.isLink(t.mode)){r.size=t.link.length}else{r.size=0}r.atime=new Date(t.timestamp);r.mtime=new Date(t.timestamp);r.ctime=new Date(t.timestamp);r.blksize=4096;r.blocks=Math.ceil(r.size/r.blksize);return r},setattr:function e(t,r){if(r.mode!==undefined){t.mode=r.mode}if(r.timestamp!==undefined){t.timestamp=r.timestamp}if(r.size!==undefined){bt.resizeFileStorage(t,r.size)}},lookup:function e(t,r){throw Ot.genericErrors[44]},mknod:function e(t,r,n,i){return bt.createNode(t,r,n,i)},rename:function e(t,r,n){if(Ot.isDir(t.mode)){var i;try{i=Ot.lookupNode(r,n)}catch(e){}if(i){for(var o in i.contents){throw new Ot.ErrnoError(55)}}}delete t.parent.contents[t.name];t.parent.timestamp=Date.now();t.name=n;r.contents[n]=t;r.timestamp=t.parent.timestamp;t.parent=r},unlink:function e(t,r){delete t.contents[r];t.timestamp=Date.now()},rmdir:function e(t,r){var n=Ot.lookupNode(t,r);for(var i in n.contents){throw new Ot.ErrnoError(55)}delete t.contents[r];t.timestamp=Date.now()},readdir:function e(t){var r=[".",".."];for(var n=0,i=Object.keys(t.contents);n<i.length;n++){var o=i[n];r.push(o)}return r},symlink:function e(t,r,n){var i=bt.createNode(t,r,511|40960,0);i.link=n;return i},readlink:function e(t){if(!Ot.isLink(t.mode)){throw new Ot.ErrnoError(28)}return t.link}},stream_ops:{read:function e(t,r,n,i,o){var a=t.node.contents;if(o>=t.node.usedBytes)return 0;var s=Math.min(t.node.usedBytes-o,i);M(s>=0);if(s>8&&a.subarray){r.set(a.subarray(o,o+s),n)}else{for(var u=0;u<s;u++)r[n+u]=a[o+u]}return s},write:function e(t,r,n,i,o,a){M(!(r instanceof ArrayBuffer));if(r.buffer===x.buffer){a=false}if(!i)return 0;var s=t.node;s.timestamp=Date.now();if(r.subarray&&(!s.contents||s.contents.subarray)){if(a){M(o===0,"canOwn must imply no weird position inside the file");s.contents=r.subarray(n,n+i);s.usedBytes=i;return i}else if(s.usedBytes===0&&o===0){s.contents=r.slice(n,n+i);s.usedBytes=i;return i}else if(o+i<=s.usedBytes){s.contents.set(r.subarray(n,n+i),o);return i}}bt.expandFileStorage(s,o+i);if(s.contents.subarray&&r.subarray){s.contents.set(r.subarray(n,n+i),o)}else{for(var u=0;u<i;u++){s.contents[o+u]=r[n+u]}}s.usedBytes=Math.max(s.usedBytes,o+i);return i},llseek:function e(t,r,n){var i=r;if(n===1){i+=t.position}else if(n===2){if(Ot.isFile(t.node.mode)){i+=t.node.usedBytes}}if(i<0){throw new Ot.ErrnoError(28)}return i},allocate:function e(t,r,n){bt.expandFileStorage(t.node,r+n);t.node.usedBytes=Math.max(t.node.usedBytes,r+n)},mmap:function e(t,r,n,i,o){if(!Ot.isFile(t.node.mode)){throw new Ot.ErrnoError(43)}var a;var s;var u=t.node.contents;if(!(o&2)&&u.buffer===x.buffer){s=false;a=u.byteOffset}else{if(n>0||n+r<u.length){if(u.subarray){u=u.subarray(n,n+r)}else{u=Array.prototype.slice.call(u,n,n+r)}}s=true;a=_t(r);if(!a){throw new Ot.ErrnoError(48)}x.set(u,a)}return{ptr:a,allocated:s}},msync:function e(t,r,n,i,o){bt.stream_ops.write(t,r,0,i,n,false);return 0}}};var Et=function e(t,r,n,i){var o=!i?ie("al ".concat(t)):"";E(t,(function(e){M(e,'Loading data file "'.concat(t,'" failed (no arrayBuffer).'));r(new Uint8Array(e));if(o)ae(o)}),(function(e){if(n){n()}else{throw'Loading data file "'.concat(t,'" failed.')}}));if(o)oe(o)};var St=function e(t,r,n,i,o,a){Ot.createDataFile(t,r,n,i,o,a)};var wt=w["preloadPlugins"]||[];var Tt=function e(t,r,n,i){if(typeof Browser!="undefined")Browser.init();var o=false;wt.forEach((function(e){if(o)return;if(e["canHandle"](r)){e["handle"](t,r,n,i);o=true}}));return o};var Ct=function e(t,r,n,i,o,a,s,u,c,l){var f=r?lt.resolve(st.join2(t,r)):t;var d=ie("cp ".concat(f));function h(e){function n(e){l===null||l===void 0||l();if(!u){St(t,r,e,i,o,c)}a===null||a===void 0||a();ae(d)}if(Tt(e,f,n,(function(){s===null||s===void 0||s();ae(d)}))){return}n(e)}oe(d);if(typeof n=="string"){Et(n,h,s)}else{h(n)}};var At=function e(t){var r={r:0,"r+":2,w:512|64|1,"w+":512|64|2,a:1024|64|1,"a+":1024|64|2};var n=r[t];if(typeof n=="undefined"){throw new Error("Unknown file open mode: ".concat(t))}return n};var Rt=function e(t,r){var n=0;if(t)n|=292|73;if(r)n|=146;return n};var It={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"};var kt={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var Ot={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,ErrnoError:function(e){function t(e){var r;f(this,t);r=d(this,t,[It[e]]);r.name="ErrnoError";r.errno=e;for(var n in kt){if(kt[n]===e){r.code=n;break}}return r}v(t,e);return u(t)}(g(Error)),genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:function(){function e(){f(this,e);this.shared={}}return u(e,[{key:"object",get:function e(){return this.node},set:function e(t){this.node=t}},{key:"isRead",get:function e(){return(this.flags&2097155)!==1}},{key:"isWrite",get:function e(){return(this.flags&2097155)!==0}},{key:"isAppend",get:function e(){return this.flags&1024}},{key:"flags",get:function e(){return this.shared.flags},set:function e(t){this.shared.flags=t}},{key:"position",get:function e(){return this.shared.position},set:function e(t){this.shared.position=t}}])}(),FSNode:function(){function e(t,r,n,i){f(this,e);if(!t){t=this}this.parent=t;this.mount=t.mount;this.mounted=null;this.id=Ot.nextInode++;this.name=r;this.mode=n;this.node_ops={};this.stream_ops={};this.rdev=i;this.readMode=292|73;this.writeMode=146}return u(e,[{key:"read",get:function e(){return(this.mode&this.readMode)===this.readMode},set:function e(t){t?this.mode|=this.readMode:this.mode&=~this.readMode}},{key:"write",get:function e(){return(this.mode&this.writeMode)===this.writeMode},set:function e(t){t?this.mode|=this.writeMode:this.mode&=~this.writeMode}},{key:"isFolder",get:function e(){return Ot.isDir(this.mode)}},{key:"isDevice",get:function e(){return Ot.isChrdev(this.mode)}}])}(),lookupPath:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t=lt.resolve(t);if(!t)return{path:"",node:null};var n={follow_mount:true,recurse_count:0};r=Object.assign(n,r);if(r.recurse_count>8){throw new Ot.ErrnoError(32)}var i=t.split("/").filter((function(e){return!!e}));var o=Ot.root;var a="/";for(var s=0;s<i.length;s++){var u=s===i.length-1;if(u&&r.parent){break}o=Ot.lookupNode(o,i[s]);a=st.join2(a,i[s]);if(Ot.isMountpoint(o)){if(!u||u&&r.follow_mount){o=o.mounted.root}}if(!u||r.follow){var c=0;while(Ot.isLink(o.mode)){var l=Ot.readlink(a);a=lt.resolve(st.dirname(a),l);var f=Ot.lookupPath(a,{recurse_count:r.recurse_count+1});o=f.node;if(c++>40){throw new Ot.ErrnoError(32)}}}}return{path:a,node:o}},getPath:function e(t){var r;while(true){if(Ot.isRoot(t)){var n=t.mount.mountpoint;if(!r)return n;return n[n.length-1]!=="/"?"".concat(n,"/").concat(r):n+r}r=r?"".concat(t.name,"/").concat(r):t.name;t=t.parent}},hashName:function e(t,r){var n=0;for(var i=0;i<r.length;i++){n=(n<<5)-n+r.charCodeAt(i)|0}return(t+n>>>0)%Ot.nameTable.length},hashAddNode:function e(t){var r=Ot.hashName(t.parent.id,t.name);t.name_next=Ot.nameTable[r];Ot.nameTable[r]=t},hashRemoveNode:function e(t){var r=Ot.hashName(t.parent.id,t.name);if(Ot.nameTable[r]===t){Ot.nameTable[r]=t.name_next}else{var n=Ot.nameTable[r];while(n){if(n.name_next===t){n.name_next=t.name_next;break}n=n.name_next}}},lookupNode:function e(t,r){var n=Ot.mayLookup(t);if(n){throw new Ot.ErrnoError(n)}var i=Ot.hashName(t.id,r);for(var o=Ot.nameTable[i];o;o=o.name_next){var a=o.name;if(o.parent.id===t.id&&a===r){return o}}return Ot.lookup(t,r)},createNode:function e(t,r,n,i){M(S(t)=="object");var o=new Ot.FSNode(t,r,n,i);Ot.hashAddNode(o);return o},destroyNode:function e(t){Ot.hashRemoveNode(t)},isRoot:function e(t){return t===t.parent},isMountpoint:function e(t){return!!t.mounted},isFile:function e(t){return(t&61440)===32768},isDir:function e(t){return(t&61440)===16384},isLink:function e(t){return(t&61440)===40960},isChrdev:function e(t){return(t&61440)===8192},isBlkdev:function e(t){return(t&61440)===24576},isFIFO:function e(t){return(t&61440)===4096},isSocket:function e(t){return(t&49152)===49152},flagsToPermissionString:function e(t){var r=["r","w","rw"][t&3];if(t&512){r+="w"}return r},nodePermissions:function e(t,r){if(Ot.ignorePermissions){return 0}if(r.includes("r")&&!(t.mode&292)){return 2}else if(r.includes("w")&&!(t.mode&146)){return 2}else if(r.includes("x")&&!(t.mode&73)){return 2}return 0},mayLookup:function e(t){if(!Ot.isDir(t.mode))return 54;var r=Ot.nodePermissions(t,"x");if(r)return r;if(!t.node_ops.lookup)return 2;return 0},mayCreate:function e(t,r){try{var n=Ot.lookupNode(t,r);return 20}catch(e){}return Ot.nodePermissions(t,"wx")},mayDelete:function e(t,r,n){var i;try{i=Ot.lookupNode(t,r)}catch(e){return e.errno}var o=Ot.nodePermissions(t,"wx");if(o){return o}if(n){if(!Ot.isDir(i.mode)){return 54}if(Ot.isRoot(i)||Ot.getPath(i)===Ot.cwd()){return 10}}else{if(Ot.isDir(i.mode)){return 31}}return 0},mayOpen:function e(t,r){if(!t){return 44}if(Ot.isLink(t.mode)){return 32}else if(Ot.isDir(t.mode)){if(Ot.flagsToPermissionString(r)!=="r"||r&512){return 31}}return Ot.nodePermissions(t,Ot.flagsToPermissionString(r))},MAX_OPEN_FDS:4096,nextfd:function e(){for(var t=0;t<=Ot.MAX_OPEN_FDS;t++){if(!Ot.streams[t]){return t}}throw new Ot.ErrnoError(33)},getStreamChecked:function e(t){var r=Ot.getStream(t);if(!r){throw new Ot.ErrnoError(8)}return r},getStream:function e(t){return Ot.streams[t]},createStream:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;t=Object.assign(new Ot.FSStream,t);if(r==-1){r=Ot.nextfd()}t.fd=r;Ot.streams[r]=t;return t},closeStream:function e(t){Ot.streams[t]=null},dupStream:function e(t){var r,n;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;var o=Ot.createStream(t,i);(r=o.stream_ops)===null||r===void 0||(n=r.dup)===null||n===void 0||n.call(r,o);return o},chrdev_stream_ops:{open:function e(t){var r,n;var i=Ot.getDevice(t.node.rdev);t.stream_ops=i.stream_ops;(r=(n=t.stream_ops).open)===null||r===void 0||r.call(n,t)},llseek:function e(){throw new Ot.ErrnoError(70)}},major:function e(t){return t>>8},minor:function e(t){return t&255},makedev:function e(t,r){return t<<8|r},registerDevice:function e(t,r){Ot.devices[t]={stream_ops:r}},getDevice:function e(t){return Ot.devices[t]},getMounts:function e(r){var n=[];var i=[r];while(i.length){var o=i.pop();n.push(o);i.push.apply(i,t(o.mounts))}return n},syncfs:function e(t,r){if(typeof t=="function"){r=t;t=false}Ot.syncFSRequests++;if(Ot.syncFSRequests>1){A("warning: ".concat(Ot.syncFSRequests," FS.syncfs operations in flight at once, probably just doing extra work"))}var n=Ot.getMounts(Ot.root.mount);var i=0;function o(e){M(Ot.syncFSRequests>0);Ot.syncFSRequests--;return r(e)}function a(e){if(e){if(!a.errored){a.errored=true;return o(e)}return}if(++i>=n.length){o(null)}}n.forEach((function(e){if(!e.type.syncfs){return a(null)}e.type.syncfs(e,t,a)}))},mount:function e(t,r,n){if(typeof t=="string"){throw t}var i=n==="/";var o=!n;var a;if(i&&Ot.root){throw new Ot.ErrnoError(10)}else if(!i&&!o){var s=Ot.lookupPath(n,{follow_mount:false});n=s.path;a=s.node;if(Ot.isMountpoint(a)){throw new Ot.ErrnoError(10)}if(!Ot.isDir(a.mode)){throw new Ot.ErrnoError(54)}}var e={type:t,opts:r,mountpoint:n,mounts:[]};var u=t.mount(e);u.mount=e;e.root=u;if(i){Ot.root=u}else if(a){a.mounted=e;if(a.mount){a.mount.mounts.push(e)}}return u},unmount:function e(t){var r=Ot.lookupPath(t,{follow_mount:false});if(!Ot.isMountpoint(r.node)){throw new Ot.ErrnoError(28)}var n=r.node;var i=n.mounted;var o=Ot.getMounts(i);Object.keys(Ot.nameTable).forEach((function(e){var t=Ot.nameTable[e];while(t){var r=t.name_next;if(o.includes(t.mount)){Ot.destroyNode(t)}t=r}}));n.mounted=null;var a=n.mount.mounts.indexOf(i);M(a!==-1);n.mount.mounts.splice(a,1)},lookup:function e(t,r){return t.node_ops.lookup(t,r)},mknod:function e(t,r,n){var i=Ot.lookupPath(t,{parent:true});var o=i.node;var a=st.basename(t);if(!a||a==="."||a===".."){throw new Ot.ErrnoError(28)}var s=Ot.mayCreate(o,a);if(s){throw new Ot.ErrnoError(s)}if(!o.node_ops.mknod){throw new Ot.ErrnoError(63)}return o.node_ops.mknod(o,a,r,n)},create:function e(t,r){r=r!==undefined?r:438;r&=4095;r|=32768;return Ot.mknod(t,r,0)},mkdir:function e(t,r){r=r!==undefined?r:511;r&=511|512;r|=16384;return Ot.mknod(t,r,0)},mkdirTree:function e(t,r){var n=t.split("/");var i="";for(var o=0;o<n.length;++o){if(!n[o])continue;i+="/"+n[o];try{Ot.mkdir(i,r)}catch(e){if(e.errno!=20)throw e}}},mkdev:function e(t,r,n){if(typeof n=="undefined"){n=r;r=438}r|=8192;return Ot.mknod(t,r,n)},symlink:function e(t,r){if(!lt.resolve(t)){throw new Ot.ErrnoError(44)}var n=Ot.lookupPath(r,{parent:true});var i=n.node;if(!i){throw new Ot.ErrnoError(44)}var o=st.basename(r);var a=Ot.mayCreate(i,o);if(a){throw new Ot.ErrnoError(a)}if(!i.node_ops.symlink){throw new Ot.ErrnoError(63)}return i.node_ops.symlink(i,o,t)},rename:function e(t,r){var n=st.dirname(t);var i=st.dirname(r);var o=st.basename(t);var a=st.basename(r);var s,u,c;s=Ot.lookupPath(t,{parent:true});u=s.node;s=Ot.lookupPath(r,{parent:true});c=s.node;if(!u||!c)throw new Ot.ErrnoError(44);if(u.mount!==c.mount){throw new Ot.ErrnoError(75)}var l=Ot.lookupNode(u,o);var f=lt.relative(t,i);if(f.charAt(0)!=="."){throw new Ot.ErrnoError(28)}f=lt.relative(r,n);if(f.charAt(0)!=="."){throw new Ot.ErrnoError(55)}var d;try{d=Ot.lookupNode(c,a)}catch(e){}if(l===d){return}var h=Ot.isDir(l.mode);var p=Ot.mayDelete(u,o,h);if(p){throw new Ot.ErrnoError(p)}p=d?Ot.mayDelete(c,a,h):Ot.mayCreate(c,a);if(p){throw new Ot.ErrnoError(p)}if(!u.node_ops.rename){throw new Ot.ErrnoError(63)}if(Ot.isMountpoint(l)||d&&Ot.isMountpoint(d)){throw new Ot.ErrnoError(10)}if(c!==u){p=Ot.nodePermissions(u,"w");if(p){throw new Ot.ErrnoError(p)}}Ot.hashRemoveNode(l);try{u.node_ops.rename(l,c,a)}catch(e){throw e}finally{Ot.hashAddNode(l)}},rmdir:function e(t){var r=Ot.lookupPath(t,{parent:true});var n=r.node;var i=st.basename(t);var o=Ot.lookupNode(n,i);var a=Ot.mayDelete(n,i,true);if(a){throw new Ot.ErrnoError(a)}if(!n.node_ops.rmdir){throw new Ot.ErrnoError(63)}if(Ot.isMountpoint(o)){throw new Ot.ErrnoError(10)}n.node_ops.rmdir(n,i);Ot.destroyNode(o)},readdir:function e(t){var r=Ot.lookupPath(t,{follow:true});var n=r.node;if(!n.node_ops.readdir){throw new Ot.ErrnoError(54)}return n.node_ops.readdir(n)},unlink:function e(t){var r=Ot.lookupPath(t,{parent:true});var n=r.node;if(!n){throw new Ot.ErrnoError(44)}var i=st.basename(t);var o=Ot.lookupNode(n,i);var a=Ot.mayDelete(n,i,false);if(a){throw new Ot.ErrnoError(a)}if(!n.node_ops.unlink){throw new Ot.ErrnoError(63)}if(Ot.isMountpoint(o)){throw new Ot.ErrnoError(10)}n.node_ops.unlink(n,i);Ot.destroyNode(o)},readlink:function e(t){var r=Ot.lookupPath(t);var n=r.node;if(!n){throw new Ot.ErrnoError(44)}if(!n.node_ops.readlink){throw new Ot.ErrnoError(28)}return lt.resolve(Ot.getPath(n.parent),n.node_ops.readlink(n))},stat:function e(t,r){var n=Ot.lookupPath(t,{follow:!r});var i=n.node;if(!i){throw new Ot.ErrnoError(44)}if(!i.node_ops.getattr){throw new Ot.ErrnoError(63)}return i.node_ops.getattr(i)},lstat:function e(t){return Ot.stat(t,true)},chmod:function e(t,r,n){var i;if(typeof t=="string"){var o=Ot.lookupPath(t,{follow:!n});i=o.node}else{i=t}if(!i.node_ops.setattr){throw new Ot.ErrnoError(63)}i.node_ops.setattr(i,{mode:r&4095|i.mode&~4095,timestamp:Date.now()})},lchmod:function e(t,r){Ot.chmod(t,r,true)},fchmod:function e(t,r){var n=Ot.getStreamChecked(t);Ot.chmod(n.node,r)},chown:function e(t,r,n,i){var o;if(typeof t=="string"){var a=Ot.lookupPath(t,{follow:!i});o=a.node}else{o=t}if(!o.node_ops.setattr){throw new Ot.ErrnoError(63)}o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function e(t,r,n){Ot.chown(t,r,n,true)},fchown:function e(t,r,n){var i=Ot.getStreamChecked(t);Ot.chown(i.node,r,n)},truncate:function e(t,r){if(r<0){throw new Ot.ErrnoError(28)}var n;if(typeof t=="string"){var i=Ot.lookupPath(t,{follow:true});n=i.node}else{n=t}if(!n.node_ops.setattr){throw new Ot.ErrnoError(63)}if(Ot.isDir(n.mode)){throw new Ot.ErrnoError(31)}if(!Ot.isFile(n.mode)){throw new Ot.ErrnoError(28)}var o=Ot.nodePermissions(n,"w");if(o){throw new Ot.ErrnoError(o)}n.node_ops.setattr(n,{size:r,timestamp:Date.now()})},ftruncate:function e(t,r){var n=Ot.getStreamChecked(t);if((n.flags&2097155)===0){throw new Ot.ErrnoError(28)}Ot.truncate(n.node,r)},utime:function e(t,r,n){var i=Ot.lookupPath(t,{follow:true});var o=i.node;o.node_ops.setattr(o,{timestamp:Math.max(r,n)})},open:function e(t,r,n){if(t===""){throw new Ot.ErrnoError(44)}r=typeof r=="string"?At(r):r;if(r&64){n=typeof n=="undefined"?438:n;n=n&4095|32768}else{n=0}var i;if(S(t)=="object"){i=t}else{t=st.normalize(t);try{var o=Ot.lookupPath(t,{follow:!(r&131072)});i=o.node}catch(e){}}var a=false;if(r&64){if(i){if(r&128){throw new Ot.ErrnoError(20)}}else{i=Ot.mknod(t,n,0);a=true}}if(!i){throw new Ot.ErrnoError(44)}if(Ot.isChrdev(i.mode)){r&=~512}if(r&65536&&!Ot.isDir(i.mode)){throw new Ot.ErrnoError(54)}if(!a){var s=Ot.mayOpen(i,r);if(s){throw new Ot.ErrnoError(s)}}if(r&512&&!a){Ot.truncate(i,0)}r&=~(128|512|131072);var u=Ot.createStream({node:i,path:Ot.getPath(i),flags:r,seekable:true,position:0,stream_ops:i.stream_ops,ungotten:[],error:false});if(u.stream_ops.open){u.stream_ops.open(u)}if(w["logReadFiles"]&&!(r&1)){if(!Ot.readFiles)Ot.readFiles={};if(!(t in Ot.readFiles)){Ot.readFiles[t]=1}}return u},close:function e(t){if(Ot.isClosed(t)){throw new Ot.ErrnoError(8)}if(t.getdents)t.getdents=null;try{if(t.stream_ops.close){t.stream_ops.close(t)}}catch(e){throw e}finally{Ot.closeStream(t.fd)}t.fd=null},isClosed:function e(t){return t.fd===null},llseek:function e(t,r,n){if(Ot.isClosed(t)){throw new Ot.ErrnoError(8)}if(!t.seekable||!t.stream_ops.llseek){throw new Ot.ErrnoError(70)}if(n!=0&&n!=1&&n!=2){throw new Ot.ErrnoError(28)}t.position=t.stream_ops.llseek(t,r,n);t.ungotten=[];return t.position},read:function e(t,r,n,i,o){M(n>=0);if(i<0||o<0){throw new Ot.ErrnoError(28)}if(Ot.isClosed(t)){throw new Ot.ErrnoError(8)}if((t.flags&2097155)===1){throw new Ot.ErrnoError(8)}if(Ot.isDir(t.node.mode)){throw new Ot.ErrnoError(31)}if(!t.stream_ops.read){throw new Ot.ErrnoError(28)}var a=typeof o!="undefined";if(!a){o=t.position}else if(!t.seekable){throw new Ot.ErrnoError(70)}var s=t.stream_ops.read(t,r,n,i,o);if(!a)t.position+=s;return s},write:function e(t,r,n,i,o,a){M(n>=0);if(i<0||o<0){throw new Ot.ErrnoError(28)}if(Ot.isClosed(t)){throw new Ot.ErrnoError(8)}if((t.flags&2097155)===0){throw new Ot.ErrnoError(8)}if(Ot.isDir(t.node.mode)){throw new Ot.ErrnoError(31)}if(!t.stream_ops.write){throw new Ot.ErrnoError(28)}if(t.seekable&&t.flags&1024){Ot.llseek(t,0,2)}var s=typeof o!="undefined";if(!s){o=t.position}else if(!t.seekable){throw new Ot.ErrnoError(70)}var u=t.stream_ops.write(t,r,n,i,o,a);if(!s)t.position+=u;return u},allocate:function e(t,r,n){if(Ot.isClosed(t)){throw new Ot.ErrnoError(8)}if(r<0||n<=0){throw new Ot.ErrnoError(28)}if((t.flags&2097155)===0){throw new Ot.ErrnoError(8)}if(!Ot.isFile(t.node.mode)&&!Ot.isDir(t.node.mode)){throw new Ot.ErrnoError(43)}if(!t.stream_ops.allocate){throw new Ot.ErrnoError(138)}t.stream_ops.allocate(t,r,n)},mmap:function e(t,r,n,i,o){if((i&2)!==0&&(o&2)===0&&(t.flags&2097155)!==2){throw new Ot.ErrnoError(2)}if((t.flags&2097155)===1){throw new Ot.ErrnoError(2)}if(!t.stream_ops.mmap){throw new Ot.ErrnoError(43)}return t.stream_ops.mmap(t,r,n,i,o)},msync:function e(t,r,n,i,o){M(n>=0);if(!t.stream_ops.msync){return 0}return t.stream_ops.msync(t,r,n,i,o)},ioctl:function e(t,r,n){if(!t.stream_ops.ioctl){throw new Ot.ErrnoError(59)}return t.stream_ops.ioctl(t,r,n)},readFile:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};r.flags=r.flags||0;r.encoding=r.encoding||"binary";if(r.encoding!=="utf8"&&r.encoding!=="binary"){throw new Error('Invalid encoding type "'.concat(r.encoding,'"'))}var n;var i=Ot.open(t,r.flags);var o=Ot.stat(t);var a=o.size;var s=new Uint8Array(a);Ot.read(i,s,0,a,0);if(r.encoding==="utf8"){n=Ve(s,0)}else if(r.encoding==="binary"){n=s}Ot.close(i);return n},writeFile:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n.flags=n.flags||577;var i=Ot.open(t,n.flags,n.mode);if(typeof r=="string"){var o=new Uint8Array(dt(r)+1);var a=ht(r,o,0,o.length);Ot.write(i,o,0,a,undefined,n.canOwn)}else if(ArrayBuffer.isView(r)){Ot.write(i,r,0,r.byteLength,undefined,n.canOwn)}else{throw new Error("Unsupported data type")}Ot.close(i)},cwd:function e(){return Ot.currentPath},chdir:function e(t){var r=Ot.lookupPath(t,{follow:true});if(r.node===null){throw new Ot.ErrnoError(44)}if(!Ot.isDir(r.node.mode)){throw new Ot.ErrnoError(54)}var n=Ot.nodePermissions(r.node,"x");if(n){throw new Ot.ErrnoError(n)}Ot.currentPath=r.path},createDefaultDirectories:function e(){Ot.mkdir("/tmp");Ot.mkdir("/home");Ot.mkdir("/home/web_user")},createDefaultDevices:function e(){Ot.mkdir("/dev");Ot.registerDevice(Ot.makedev(1,3),{read:function e(){return 0},write:function e(t,r,n,i,o){return i}});Ot.mkdev("/dev/null",Ot.makedev(1,3));gt.register(Ot.makedev(5,0),gt.default_tty_ops);gt.register(Ot.makedev(6,0),gt.default_tty1_ops);Ot.mkdev("/dev/tty",Ot.makedev(5,0));Ot.mkdev("/dev/tty1",Ot.makedev(6,0));var t=new Uint8Array(1024),r=0;var n=function e(){if(r===0){r=ct(t).byteLength}return t[--r]};Ot.createDevice("/dev","random",n);Ot.createDevice("/dev","urandom",n);Ot.mkdir("/dev/shm");Ot.mkdir("/dev/shm/tmp")},createSpecialDirectories:function e(){Ot.mkdir("/proc");var t=Ot.mkdir("/proc/self");Ot.mkdir("/proc/self/fd");Ot.mount({mount:function e(){var r=Ot.createNode(t,"fd",16384|511,73);r.node_ops={lookup:function e(t,r){var n=+r;var i=Ot.getStreamChecked(n);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function e(){return i.path}}};o.parent=o;return o}};return r}},{},"/proc/self/fd")},createStandardStreams:function e(){if(w["stdin"]){Ot.createDevice("/dev","stdin",w["stdin"])}else{Ot.symlink("/dev/tty","/dev/stdin")}if(w["stdout"]){Ot.createDevice("/dev","stdout",null,w["stdout"])}else{Ot.symlink("/dev/tty","/dev/stdout")}if(w["stderr"]){Ot.createDevice("/dev","stderr",null,w["stderr"])}else{Ot.symlink("/dev/tty1","/dev/stderr")}var t=Ot.open("/dev/stdin",0);var r=Ot.open("/dev/stdout",1);var n=Ot.open("/dev/stderr",1);M(t.fd===0,"invalid handle for stdin (".concat(t.fd,")"));M(r.fd===1,"invalid handle for stdout (".concat(r.fd,")"));M(n.fd===2,"invalid handle for stderr (".concat(n.fd,")"))},staticInit:function e(){[44].forEach((function(e){Ot.genericErrors[e]=new Ot.ErrnoError(e);Ot.genericErrors[e].stack="<generic error, no stack>"}));Ot.nameTable=new Array(4096);Ot.mount(bt,{},"/");Ot.createDefaultDirectories();Ot.createDefaultDevices();Ot.createSpecialDirectories();Ot.filesystems={MEMFS:bt}},init:function e(t,r,n){M(!Ot.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");Ot.init.initialized=true;w["stdin"]=t||w["stdin"];w["stdout"]=r||w["stdout"];w["stderr"]=n||w["stderr"];Ot.createStandardStreams()},quit:function e(){Ot.init.initialized=false;xn(0);for(var t=0;t<Ot.streams.length;t++){var r=Ot.streams[t];if(!r){continue}Ot.close(r)}},findObject:function e(t,r){var n=Ot.analyzePath(t,r);if(!n.exists){return null}return n.object},analyzePath:function e(t,r){try{var n=Ot.lookupPath(t,{follow:!r});t=n.path}catch(e){}var i={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var n=Ot.lookupPath(t,{parent:true});i.parentExists=true;i.parentPath=n.path;i.parentObject=n.node;i.name=st.basename(t);n=Ot.lookupPath(t,{follow:!r});i.exists=true;i.path=n.path;i.object=n.node;i.name=n.node.name;i.isRoot=n.path==="/"}catch(e){i.error=e.errno}return i},createPath:function e(t,r,n,i){t=typeof t=="string"?t:Ot.getPath(t);var o=r.split("/").reverse();while(o.length){var a=o.pop();if(!a)continue;var s=st.join2(t,a);try{Ot.mkdir(s)}catch(e){}t=s}return s},createFile:function e(t,r,n,i,o){var a=st.join2(typeof t=="string"?t:Ot.getPath(t),r);var s=Rt(i,o);return Ot.create(a,s)},createDataFile:function e(t,r,n,i,o,a){var s=r;if(t){t=typeof t=="string"?t:Ot.getPath(t);s=r?st.join2(t,r):t}var u=Rt(i,o);var c=Ot.create(s,u);if(n){if(typeof n=="string"){var l=new Array(n.length);for(var f=0,d=n.length;f<d;++f)l[f]=n.charCodeAt(f);n=l}Ot.chmod(c,u|146);var h=Ot.open(c,577);Ot.write(h,n,0,n.length,0,a);Ot.close(h);Ot.chmod(c,u)}},createDevice:function e(t,r,n,i){var o=st.join2(typeof t=="string"?t:Ot.getPath(t),r);var a=Rt(!!n,!!i);if(!Ot.createDevice.major)Ot.createDevice.major=64;var s=Ot.makedev(Ot.createDevice.major++,0);Ot.registerDevice(s,{open:function e(t){t.seekable=false},close:function e(t){var r;if(i!==null&&i!==void 0&&(r=i.buffer)!==null&&r!==void 0&&r.length){i(10)}},read:function e(t,r,i,o,a){var s=0;for(var u=0;u<o;u++){var c;try{c=n()}catch(e){throw new Ot.ErrnoError(29)}if(c===undefined&&s===0){throw new Ot.ErrnoError(6)}if(c===null||c===undefined)break;s++;r[i+u]=c}if(s){t.node.timestamp=Date.now()}return s},write:function e(t,r,n,o,a){for(var s=0;s<o;s++){try{i(r[n+s])}catch(e){throw new Ot.ErrnoError(29)}}if(o){t.node.timestamp=Date.now()}return s}});return Ot.mkdev(o,a,s)},forceLoadFile:function e(t){if(t.isDevice||t.isFolder||t.link||t.contents)return true;if(typeof XMLHttpRequest!="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(b){try{t.contents=pt(b(t.url),true);t.usedBytes=t.contents.length}catch(e){throw new Ot.ErrnoError(29)}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}},createLazyFile:function e(t,r,n,i,a){var s=function(){function e(){f(this,e);this.lengthKnown=false;this.chunks=[]}return u(e,[{key:"get",value:function e(t){if(t>this.length-1||t<0){return undefined}var r=t%this.chunkSize;var n=t/this.chunkSize|0;return this.getter(n)[r]}},{key:"setDataGetter",value:function e(t){this.getter=t}},{key:"cacheLength",value:function e(){var t=new XMLHttpRequest;t.open("HEAD",n,false);t.send(null);if(!(t.status>=200&&t.status<300||t.status===304))throw new Error("Couldn't load "+n+". Status: "+t.status);var r=Number(t.getResponseHeader("Content-length"));var i;var o=(i=t.getResponseHeader("Accept-Ranges"))&&i==="bytes";var a=(i=t.getResponseHeader("Content-Encoding"))&&i==="gzip";var s=1024*1024;if(!o)s=r;var u=function e(t,i){if(t>i)throw new Error("invalid range ("+t+", "+i+") or no bytes requested!");if(i>r-1)throw new Error("only "+r+" bytes available! programmer error!");var o=new XMLHttpRequest;o.open("GET",n,false);if(r!==s)o.setRequestHeader("Range","bytes="+t+"-"+i);o.responseType="arraybuffer";if(o.overrideMimeType){o.overrideMimeType("text/plain; charset=x-user-defined")}o.send(null);if(!(o.status>=200&&o.status<300||o.status===304))throw new Error("Couldn't load "+n+". Status: "+o.status);if(o.response!==undefined){return new Uint8Array(o.response||[])}return pt(o.responseText||"",true)};var c=this;c.setDataGetter((function(e){var t=e*s;var n=(e+1)*s-1;n=Math.min(n,r-1);if(typeof c.chunks[e]=="undefined"){c.chunks[e]=u(t,n)}if(typeof c.chunks[e]=="undefined")throw new Error("doXHR failed!");return c.chunks[e]}));if(a||!r){s=r=1;r=this.getter(0).length;s=r;C("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=r;this._chunkSize=s;this.lengthKnown=true}},{key:"length",get:function e(){if(!this.lengthKnown){this.cacheLength()}return this._length}},{key:"chunkSize",get:function e(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}])}();if(typeof XMLHttpRequest!="undefined"){if(!o)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var c=new s;var l={isDevice:false,contents:c}}else{var l={isDevice:false,url:n}}var d=Ot.createFile(t,r,l,i,a);if(l.contents){d.contents=l.contents}else if(l.url){d.contents=null;d.url=l.url}Object.defineProperties(d,{usedBytes:{get:function e(){return this.contents.length}}});var h={};var p=Object.keys(d.stream_ops);p.forEach((function(e){var t=d.stream_ops[e];h[e]=function(){Ot.forceLoadFile(d);return t.apply(void 0,arguments)}}));function v(e,t,r,n,i){var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,n);M(a>=0);if(o.slice){for(var s=0;s<a;s++){t[r+s]=o[i+s]}}else{for(var s=0;s<a;s++){t[r+s]=o.get(i+s)}}return a}h.read=function(e,t,r,n,i){Ot.forceLoadFile(d);return v(e,t,r,n,i)};h.mmap=function(e,t,r,n,i){Ot.forceLoadFile(d);var o=_t(t);if(!o){throw new Ot.ErrnoError(48)}v(e,x,o,t,r);return{ptr:o,allocated:true}};d.stream_ops=h;return d},absolutePath:function e(){se("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function e(){se("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function e(){se("FS.createLink has been removed; use FS.symlink instead")},joinPath:function e(){se("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function e(){se("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function e(){se("FS.standardizePath has been removed; use PATH.normalize instead")}};var Pt={DEFAULT_POLLMASK:5,calculateAt:function e(t,r,n){if(st.isAbs(r)){return r}var i;if(t===-100){i=Ot.cwd()}else{var o=Pt.getStreamFromFD(t);i=o.path}if(r.length==0){if(!n){throw new Ot.ErrnoError(44)}return i}return st.join2(i,r)},doStat:function e(t,r,n){var i=t(r);j[n>>2]=i.dev;j[n+4>>2]=i.mode;U[n+8>>2]=i.nlink;j[n+12>>2]=i.uid;j[n+16>>2]=i.gid;j[n+20>>2]=i.rdev;Te=[i.size>>>0,(we=i.size,+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)],j[n+24>>2]=Te[0],j[n+28>>2]=Te[1];j[n+32>>2]=4096;j[n+36>>2]=i.blocks;var o=i.atime.getTime();var a=i.mtime.getTime();var s=i.ctime.getTime();Te=[Math.floor(o/1e3)>>>0,(we=Math.floor(o/1e3),+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)],j[n+40>>2]=Te[0],j[n+44>>2]=Te[1];U[n+48>>2]=o%1e3*1e3;Te=[Math.floor(a/1e3)>>>0,(we=Math.floor(a/1e3),+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)],j[n+56>>2]=Te[0],j[n+60>>2]=Te[1];U[n+64>>2]=a%1e3*1e3;Te=[Math.floor(s/1e3)>>>0,(we=Math.floor(s/1e3),+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)],j[n+72>>2]=Te[0],j[n+76>>2]=Te[1];U[n+80>>2]=s%1e3*1e3;Te=[i.ino>>>0,(we=i.ino,+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)],j[n+88>>2]=Te[0],j[n+92>>2]=Te[1];return 0},doMsync:function e(t,r,n,i,o){if(!Ot.isFile(r.node.mode)){throw new Ot.ErrnoError(43)}if(i&2){return 0}var a=L.slice(t,t+n);Ot.msync(r,a,o,n,i)},getStreamFromFD:function e(t){var r=Ot.getStreamChecked(t);return r},varargs:undefined,getStr:function e(t){var r=We(t);return r}};function Mt(e,t,r){Pt.varargs=r;try{var n=Pt.getStreamFromFD(e);switch(t){case 0:{var i=ot();if(i<0){return-28}while(Ot.streams[i]){i++}var o;o=Ot.dupStream(n,i);return o.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var i=ot();n.flags|=i;return 0}case 12:{var i=at();var a=0;D[i+a>>1]=2;return 0}case 13:case 14:return 0}return-28}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function xt(e,t){try{var r=Pt.getStreamFromFD(e);return Pt.doStat(Ot.stat,r.path,t)}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}var Lt=function e(t,r,n){M(typeof n=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return ht(t,L,r,n)};function Dt(e,t){try{if(t===0)return-28;var r=Ot.cwd();var n=dt(r)+1;if(t<n)return-68;Lt(r,e,t);return n}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function Nt(e,t,r){try{var n=Pt.getStreamFromFD(e);n.getdents||(n.getdents=Ot.readdir(n.path));var i=280;var o=0;var a=Ot.llseek(n,0,1);var s=Math.floor(a/i);while(s<n.getdents.length&&o+i<=r){var u;var c;var l=n.getdents[s];if(l==="."){u=n.node.id;c=4}else if(l===".."){var f=Ot.lookupPath(n.path,{parent:true});u=f.node.id;c=4}else{var d=Ot.lookupNode(n.node,l);u=d.id;c=Ot.isChrdev(d.mode)?2:Ot.isDir(d.mode)?4:Ot.isLink(d.mode)?10:8}M(u);Te=[u>>>0,(we=u,+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)],j[t+o>>2]=Te[0],j[t+o+4>>2]=Te[1];Te=[(s+1)*i>>>0,(we=(s+1)*i,+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)],j[t+o+8>>2]=Te[0],j[t+o+12>>2]=Te[1];D[t+o+16>>1]=280;x[t+o+18]=c;Lt(l,t+o+19,256);o+=i;s+=1}Ot.llseek(n,s*i,0);return o}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function jt(e,t,r){Pt.varargs=r;try{var n=Pt.getStreamFromFD(e);switch(t){case 21509:{if(!n.tty)return-59;return 0}case 21505:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var i=n.tty.ops.ioctl_tcgets(n);var o=at();j[o>>2]=i.c_iflag||0;j[o+4>>2]=i.c_oflag||0;j[o+8>>2]=i.c_cflag||0;j[o+12>>2]=i.c_lflag||0;for(var a=0;a<32;a++){x[o+a+17]=i.c_cc[a]||0}return 0}return 0}case 21510:case 21511:case 21512:{if(!n.tty)return-59;return 0}case 21506:case 21507:case 21508:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){var o=at();var s=j[o>>2];var u=j[o+4>>2];var c=j[o+8>>2];var l=j[o+12>>2];var f=[];for(var a=0;a<32;a++){f.push(x[o+a+17])}return n.tty.ops.ioctl_tcsets(n.tty,t,{c_iflag:s,c_oflag:u,c_cflag:c,c_lflag:l,c_cc:f})}return 0}case 21519:{if(!n.tty)return-59;var o=at();j[o>>2]=0;return 0}case 21520:{if(!n.tty)return-59;return-28}case 21531:{var o=at();return Ot.ioctl(n,t,o)}case 21523:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var d=n.tty.ops.ioctl_tiocgwinsz(n.tty);var o=at();D[o>>1]=d[0];D[o+2>>1]=d[1]}return 0}case 21524:{if(!n.tty)return-59;return 0}case 21515:{if(!n.tty)return-59;return 0}default:return-28}}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function Ut(e,t){try{e=Pt.getStr(e);return Pt.doStat(Ot.lstat,e,t)}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function Bt(e,t,r){try{t=Pt.getStr(t);t=Pt.calculateAt(e,t);t=st.normalize(t);if(t[t.length-1]==="/")t=t.substr(0,t.length-1);Ot.mkdir(t,r,0);return 0}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function Ft(e,t,r,n){try{t=Pt.getStr(t);var i=n&256;var o=n&4096;n=n&~6400;M(!n,"unknown flags in __syscall_newfstatat: ".concat(n));t=Pt.calculateAt(e,t,o);return Pt.doStat(i?Ot.lstat:Ot.stat,t,r)}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function Ht(e,t,r,n){Pt.varargs=n;try{t=Pt.getStr(t);t=Pt.calculateAt(e,t);var i=n?ot():0;return Ot.open(t,r,i).fd}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function Vt(e,t,r,n){try{t=Pt.getStr(t);t=Pt.calculateAt(e,t);if(n<=0)return-28;var i=Ot.readlink(t);var o=Math.min(n,dt(i));var a=x[r+o];Lt(i,r,n+1);x[r+o]=a;return o}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function Wt(e){try{e=Pt.getStr(e);Ot.rmdir(e);return 0}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function zt(e,t){try{e=Pt.getStr(e);return Pt.doStat(Ot.stat,e,t)}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function Gt(e,t,r){try{t=Pt.getStr(t);t=Pt.calculateAt(e,t);if(r===0){Ot.unlink(t)}else if(r===512){Ot.rmdir(t)}else{se("Invalid flags passed to unlinkat")}return 0}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}var Yt=function e(){se("native code called abort()")};var Kt=1;var qt=function e(){return Kt};var $t=function e(t,r,n){return L.copyWithin(t,r,r+n)};var Jt=function e(t,r){M(t==t>>>0||t==(t|0));M(r===(r|0));return r+2097152>>>0<4194305-!!t?(t>>>0)+r*4294967296:NaN};function Zt(e,t,r){var n=Jt(e,t);var i=new Date(n*1e3);j[r>>2]=i.getUTCSeconds();j[r+4>>2]=i.getUTCMinutes();j[r+8>>2]=i.getUTCHours();j[r+12>>2]=i.getUTCDate();j[r+16>>2]=i.getUTCMonth();j[r+20>>2]=i.getUTCFullYear()-1900;j[r+24>>2]=i.getUTCDay();var o=Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0);var a=(i.getTime()-o)/(1e3*60*60*24)|0;j[r+28>>2]=a}var Xt=function e(t){return t%4===0&&(t%100!==0||t%400===0)};var Qt=[0,31,60,91,121,152,182,213,244,274,305,335];var er=[0,31,59,90,120,151,181,212,243,273,304,334];var tr=function e(t){var r=Xt(t.getFullYear());var n=r?Qt:er;var i=n[t.getMonth()]+t.getDate()-1;return i};function rr(e,t,r){var n=Jt(e,t);var i=new Date(n*1e3);j[r>>2]=i.getSeconds();j[r+4>>2]=i.getMinutes();j[r+8>>2]=i.getHours();j[r+12>>2]=i.getDate();j[r+16>>2]=i.getMonth();j[r+20>>2]=i.getFullYear()-1900;j[r+24>>2]=i.getDay();var o=tr(i)|0;j[r+28>>2]=o;j[r+36>>2]=-(i.getTimezoneOffset()*60);var a=new Date(i.getFullYear(),0,1);var s=new Date(i.getFullYear(),6,1).getTimezoneOffset();var u=a.getTimezoneOffset();var c=(s!=u&&i.getTimezoneOffset()==Math.min(u,s))|0;j[r+32>>2]=c}var nr=function e(t){var r=function(){var e=new Date(j[t+20>>2]+1900,j[t+16>>2],j[t+12>>2],j[t+8>>2],j[t+4>>2],j[t>>2],0);var r=j[t+32>>2];var n=e.getTimezoneOffset();var i=new Date(e.getFullYear(),0,1);var o=new Date(e.getFullYear(),6,1).getTimezoneOffset();var a=i.getTimezoneOffset();var s=Math.min(a,o);if(r<0){j[t+32>>2]=Number(o!=a&&s==n)}else if(r>0!=(s==n)){var u=Math.max(a,o);var c=r>0?s:u;e.setTime(e.getTime()+(c-n)*6e4)}j[t+24>>2]=e.getDay();var l=tr(e)|0;j[t+28>>2]=l;j[t>>2]=e.getSeconds();j[t+4>>2]=e.getMinutes();j[t+8>>2]=e.getHours();j[t+12>>2]=e.getDate();j[t+16>>2]=e.getMonth();j[t+20>>2]=e.getYear();var f=e.getTime();if(isNaN(f)){return-1}return f/1e3}();return Xe((we=r,+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)),r>>>0};function ir(e,t,r,n,i,o,a,s){var u=Jt(i,o);try{if(isNaN(u))return 61;var c=Pt.getStreamFromFD(n);var l=Ot.mmap(c,e,u,t,r);var f=l.ptr;j[a>>2]=l.allocated;U[s>>2]=f;return 0}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function or(e,t,r,n,i,o,a){var s=Jt(o,a);try{var u=Pt.getStreamFromFD(i);if(r&2){Pt.doMsync(e,u,t,n,s)}}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}var ar=function e(t,r,n,i){var o=(new Date).getFullYear();var a=new Date(o,0,1);var s=new Date(o,6,1);var u=a.getTimezoneOffset();var c=s.getTimezoneOffset();var l=Math.max(u,c);U[t>>2]=l*60;j[r>>2]=Number(u!=c);var f=function e(t){return t.toLocaleTimeString(undefined,{hour12:false,timeZoneName:"short"}).split(" ")[1]};var d=f(a);var h=f(s);M(d);M(h);M(dt(d)<=16,"timezone name truncated to fit in TZNAME_MAX (".concat(d,")"));M(dt(h)<=16,"timezone name truncated to fit in TZNAME_MAX (".concat(h,")"));if(c<u){Lt(d,n,17);Lt(h,i,17)}else{Lt(d,i,17);Lt(h,n,17)}};var sr=[];var ur=function e(t,r){M(Array.isArray(sr));M(r%16==0);sr.length=0;var n;while(n=L[t++]){var i=String.fromCharCode(n);var o=["d","f","i","p"];M(o.includes(i),"Invalid character ".concat(n,'("').concat(i,'") in readEmAsmArgs! Use only [').concat(o,'], and do not specify "v" for void return argument.'));var a=n!=105;a&=n!=112;r+=a&&r%8?4:0;sr.push(n==112?U[r>>2]:n==105?j[r>>2]:F[r>>3]);r+=a?8:4}return sr};var cr=function e(r,n,i){var o=ur(n,i);M(Pe.hasOwnProperty(r),"No EM_ASM constant found at address ".concat(r,".  The loaded WebAssembly file is likely out of sync with the generated JavaScript."));return Pe[r].apply(Pe,t(o))};var lr=function e(t,r,n){return cr(t,r,n)};var fr=function e(){return Date.now()};var dr=function e(){return 2147483648};var hr=function e(){return dr()};var pr;pr=function e(){return performance.now()};var vr=function e(t){var r=k.buffer;var n=(t-r.byteLength+65535)/65536;try{k.grow(n);H();return 1}catch(e){A("growMemory: Attempted to grow heap from ".concat(r.byteLength," bytes to ").concat(t," bytes, but got error: ").concat(e))}};var gr=function e(t){var r=L.length;t>>>=0;M(t>r);var n=dr();if(t>n){A("Cannot enlarge memory, requested ".concat(t," bytes, but the limit is ").concat(n," bytes!"));return false}var i=function e(t,r){return t+(r-t%r)%r};for(var o=1;o<=4;o*=2){var a=r*(1+.2/o);a=Math.min(a,t+100663296);var s=Math.min(n,i(Math.max(t,a),65536));var u=vr(s);if(u){return true}}A("Failed to grow the heap from ".concat(r," bytes to ").concat(s," bytes, not enough memory!"));return false};var mr={};var yr=function e(){return p||"./this.program"};var _r=function e(){if(!_r.strings){var t=((typeof navigator==="undefined"?"undefined":S(navigator))=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:yr()};for(var n in mr){if(mr[n]===undefined)delete r[n];else r[n]=mr[n]}var i=[];for(var n in r){i.push("".concat(n,"=").concat(r[n]))}_r.strings=i}return _r.strings};var br=function e(t,r){for(var n=0;n<t.length;++n){M(t.charCodeAt(n)===(t.charCodeAt(n)&255));x[r++]=t.charCodeAt(n)}x[r]=0};var Er=function e(t,r){var n=0;_r().forEach((function(e,i){var o=r+n;U[t+i*4>>2]=o;br(e,o);n+=e.length+1}));return 0};var Sr=function e(t,r){var n=_r();U[t>>2]=n.length;var i=0;n.forEach((function(e){return i+=e.length+1}));U[r>>2]=i;return 0};var wr=0;var Tr=function e(){return De||wr>0};var Cr=function e(t){P=t;if(!Tr()){var r;(r=w["onExit"])===null||r===void 0||r.call(w,t);O=true}m(t,new Me(t))};var Ar=function e(t,r){P=t;to();if(Tr()&&!r){var n="program exited (with status: ".concat(t,"), but keepRuntimeAlive() is set (counter=").concat(wr,") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)");A(n)}Cr(t)};var Rr=Ar;function Ir(e){try{var t=Pt.getStreamFromFD(e);Ot.close(t);return 0}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var kr=function e(t,r,n,i){var o=0;for(var a=0;a<n;a++){var s=U[r>>2];var u=U[r+4>>2];r+=8;var c=Ot.read(t,x,s,u,i);if(c<0)return-1;o+=c;if(c<u)break;if(typeof i!="undefined"){i+=c}}return o};function Or(e,t,r,n){try{var i=Pt.getStreamFromFD(e);var o=kr(i,t,r);U[n>>2]=o;return 0}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}function Pr(e,t,r,n,i){var o=Jt(t,r);try{if(isNaN(o))return 61;var a=Pt.getStreamFromFD(e);Ot.llseek(a,o,n);Te=[a.position>>>0,(we=a.position,+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)],j[i>>2]=Te[0],j[i+4>>2]=Te[1];if(a.getdents&&o===0&&n===0)a.getdents=null;return 0}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var Mr=function e(t,r,n,i){var o=0;for(var a=0;a<n;a++){var s=U[r>>2];var u=U[r+4>>2];r+=8;var c=Ot.write(t,x,s,u,i);if(c<0)return-1;o+=c;if(typeof i!="undefined"){i+=c}}return o};function xr(e,t,r,n){try{var i=Pt.getStreamFromFD(e);var o=Mr(i,t,r);U[n>>2]=o;return 0}catch(e){if(typeof Ot=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var Lr=function e(t,r){var n=0;for(var i=0;i<=r;n+=t[i++]){}return n};var Dr=[31,29,31,30,31,30,31,31,30,31,30,31];var Nr=[31,28,31,30,31,30,31,31,30,31,30,31];var jr=function e(t,r){var n=new Date(t.getTime());while(r>0){var i=Xt(n.getFullYear());var o=n.getMonth();var a=(i?Dr:Nr)[o];if(r>a-n.getDate()){r-=a-n.getDate()+1;n.setDate(1);if(o<11){n.setMonth(o+1)}else{n.setMonth(0);n.setFullYear(n.getFullYear()+1)}}else{n.setDate(n.getDate()+r);return n}}return n};var Ur=function e(t,r){M(t.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");x.set(t,r)};var Br=function e(t,r,n,i){var o=U[i+40>>2];var a={tm_sec:j[i>>2],tm_min:j[i+4>>2],tm_hour:j[i+8>>2],tm_mday:j[i+12>>2],tm_mon:j[i+16>>2],tm_year:j[i+20>>2],tm_wday:j[i+24>>2],tm_yday:j[i+28>>2],tm_isdst:j[i+32>>2],tm_gmtoff:j[i+36>>2],tm_zone:o?We(o):""};var s=We(n);var u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in u){s=s.replace(new RegExp(c,"g"),u[c])}var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var f=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,r){var n=typeof e=="number"?e.toString():e||"";while(n.length<t){n=r[0]+n}return n}function h(e,t){return d(e,t,"0")}function p(e,t){function r(e){return e<0?-1:e>0?1:0}var n;if((n=r(e.getFullYear()-t.getFullYear()))===0){if((n=r(e.getMonth()-t.getMonth()))===0){n=r(e.getDate()-t.getDate())}}return n}function v(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function g(e){var t=jr(new Date(e.tm_year+1900,0,1),e.tm_yday);var r=new Date(t.getFullYear(),0,4);var n=new Date(t.getFullYear()+1,0,4);var i=v(r);var o=v(n);if(p(i,t)<=0){if(p(o,t)<=0){return t.getFullYear()+1}return t.getFullYear()}return t.getFullYear()-1}var m={"%a":function e(t){return l[t.tm_wday].substring(0,3)},"%A":function e(t){return l[t.tm_wday]},"%b":function e(t){return f[t.tm_mon].substring(0,3)},"%B":function e(t){return f[t.tm_mon]},"%C":function e(t){var r=t.tm_year+1900;return h(r/100|0,2)},"%d":function e(t){return h(t.tm_mday,2)},"%e":function e(t){return d(t.tm_mday,2," ")},"%g":function e(t){return g(t).toString().substring(2)},"%G":g,"%H":function e(t){return h(t.tm_hour,2)},"%I":function e(t){var r=t.tm_hour;if(r==0)r=12;else if(r>12)r-=12;return h(r,2)},"%j":function e(t){return h(t.tm_mday+Lr(Xt(t.tm_year+1900)?Dr:Nr,t.tm_mon-1),3)},"%m":function e(t){return h(t.tm_mon+1,2)},"%M":function e(t){return h(t.tm_min,2)},"%n":function e(){return"\n"},"%p":function e(t){if(t.tm_hour>=0&&t.tm_hour<12){return"AM"}return"PM"},"%S":function e(t){return h(t.tm_sec,2)},"%t":function e(){return"\t"},"%u":function e(t){return t.tm_wday||7},"%U":function e(t){var r=t.tm_yday+7-t.tm_wday;return h(Math.floor(r/7),2)},"%V":function e(t){var r=Math.floor((t.tm_yday+7-(t.tm_wday+6)%7)/7);if((t.tm_wday+371-t.tm_yday-2)%7<=2){r++}if(!r){r=52;var n=(t.tm_wday+7-t.tm_yday-1)%7;if(n==4||n==5&&Xt(t.tm_year%400-1)){r++}}else if(r==53){var i=(t.tm_wday+371-t.tm_yday)%7;if(i!=4&&(i!=3||!Xt(t.tm_year)))r=1}return h(r,2)},"%w":function e(t){return t.tm_wday},"%W":function e(t){var r=t.tm_yday+7-(t.tm_wday+6)%7;return h(Math.floor(r/7),2)},"%y":function e(t){return(t.tm_year+1900).toString().substring(2)},"%Y":function e(t){return t.tm_year+1900},"%z":function e(t){var r=t.tm_gmtoff;var n=r>=0;r=Math.abs(r)/60;r=r/60*100+r%60;return(n?"+":"-")+String("0000"+r).slice(-4)},"%Z":function e(t){return t.tm_zone},"%%":function e(){return"%"}};s=s.replace(/%%/g,"\0\0");for(var c in m){if(s.includes(c)){s=s.replace(new RegExp(c,"g"),m[c](a))}}s=s.replace(/\0\0/g,"%");var y=pt(s,false);if(y.length>r){return 0}Ur(y,t);return y.length-1};var Fr=function e(t,r,n,i,o){return Br(t,r,n,i)};var Hr=[];var Vr;var Wr=function e(t){var r=Hr[t];if(!r){if(t>=Hr.length)Hr.length=t+1;Hr[t]=r=Vr.get(t)}M(Vr.get(t)==r,"JavaScript-side Wasm function table mirror is out of date!");return r};var zr=function e(t){var r=w["_"+t];M(r,"Cannot call unknown function "+t+", make sure it is exported");return r};var Gr=function e(t){return Vn(t)};var Yr=function e(t){var r=dt(t)+1;var n=Gr(r);Lt(t,n,r);return n};var Kr=function e(t,r,n,i,o){var a={string:function e(t){var r=0;if(t!==null&&t!==undefined&&t!==0){r=Yr(t)}return r},array:function e(t){var r=Gr(t.length);Ur(t,r);return r}};function s(e){if(r==="string"){return We(e)}if(r==="boolean")return Boolean(e);return e}var u=zr(t);var c=[];var l=0;M(r!=="array",'Return type should not be "array".');if(i){for(var f=0;f<i.length;f++){var d=a[n[f]];if(d){if(l===0)l=Be();c[f]=d(i[f])}else{c[f]=i[f]}}}var h=u.apply(void 0,c);function p(e){if(l!==0)Ue(l);return s(e)}h=p(h);return h};var qr=function e(t,r,n,i){return function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++){o[a]=arguments[a]}return Kr(t,r,n,o,i)}};var $r=function e(t,r){M(t<16384);if(t<128){r.push(t)}else{r.push(t%128|128,t>>7)}};var Jr=function e(t){M(!t.includes("j"),"i64 not permitted in function signatures when WASM_BIGINT is disabled");var r={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};var n={parameters:[],results:t[0]=="v"?[]:[r[t[0]]]};for(var i=1;i<t.length;++i){M(t[i]in r,"invalid signature char: "+t[i]);n.parameters.push(r[t[i]])}return n};var Zr=function e(t,r){var n=t.slice(0,1);var i=t.slice(1);var o={i:127,p:127,j:126,f:125,d:124,e:111};r.push(96);$r(i.length,r);for(var a=0;a<i.length;++a){M(i[a]in o,"invalid signature char: "+i[a]);r.push(o[i[a]])}if(n=="v"){r.push(0)}else{r.push(1,o[n])}};var Xr=function e(t,r){M(!r.includes("j"),"i64 not permitted in function signatures when WASM_BIGINT is disabled");if(typeof WebAssembly.Function=="function"){return new WebAssembly.Function(Jr(r),t)}var n=[1];Zr(r,n);var i=[0,97,115,109,1,0,0,0,1];$r(n.length,i);i.push.apply(i,n);i.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(i));var a=new WebAssembly.Instance(o,{e:{f:t}});var s=a.exports["f"];return s};var Qr=function e(t,r){if(en){for(var n=t;n<t+r;n++){var i=Wr(n);if(i){en.set(i,n)}}}};var en;var tn=function e(t){if(!en){en=new WeakMap;Qr(0,Vr.length)}return en.get(t)||0};var rn=[];var nn=function e(){if(rn.length){return rn.pop()}try{Vr.grow(1)}catch(e){if(!(e instanceof RangeError)){throw e}throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return Vr.length-1};var on=function e(t,r){Vr.set(t,r);Hr[t]=Vr.get(t)};var an=function e(t,r){M(typeof t!="undefined");var n=tn(t);if(n){return n}var i=nn();try{on(i,t)}catch(e){if(!(e instanceof TypeError)){throw e}M(typeof r!="undefined","Missing signature argument to addFunction: "+t);var o=Xr(t,r);on(i,o)}en.set(t,i);return i};var sn=Ot.createPath;var un=function e(t){return Ot.unlink(t)};var cn=Ot.createLazyFile;var ln=Ot.createDevice;var fn=function e(t){return Gn(t)};w["incrementExceptionRefcount"]=fn;var dn=function e(t){return zn(t)};w["decrementExceptionRefcount"]=dn;var hn=function e(t){var r=Be();var n=Gr(4);var i=Gr(4);Yn(t,n,i);var o=U[n>>2];var a=U[i>>2];var s=We(o);En(o);var u;if(a){u=We(a);En(a)}Ue(r);return[s,u]};var pn=function e(t){return hn(t)};w["getExceptionMessage"]=pn;Ot.createPreloadedFile=Ct;Ot.staticInit();w["FS_createPath"]=Ot.createPath;w["FS_createDataFile"]=Ot.createDataFile;w["FS_createPreloadedFile"]=Ot.createPreloadedFile;w["FS_unlink"]=Ot.unlink;w["FS_createLazyFile"]=Ot.createLazyFile;w["FS_createDevice"]=Ot.createDevice;function vn(){Ae("fetchSettings")}var gn={__assert_fail:ze,__cxa_begin_catch:Ke,__cxa_end_catch:$e,__cxa_find_matching_catch_2:et,__cxa_find_matching_catch_3:tt,__cxa_rethrow:rt,__cxa_throw:nt,__cxa_uncaught_exceptions:it,__resumeException:Ze,__syscall_fcntl64:Mt,__syscall_fstat64:xt,__syscall_getcwd:Dt,__syscall_getdents64:Nt,__syscall_ioctl:jt,__syscall_lstat64:Ut,__syscall_mkdirat:Bt,__syscall_newfstatat:Ft,__syscall_openat:Ht,__syscall_readlinkat:Vt,__syscall_rmdir:Wt,__syscall_stat64:zt,__syscall_unlinkat:Gt,_abort_js:Yt,_emscripten_get_now_is_monotonic:qt,_emscripten_memcpy_js:$t,_gmtime_js:Zt,_localtime_js:rr,_mktime_js:nr,_mmap_js:ir,_munmap_js:or,_tzset_js:ar,emscripten_asm_const_int:lr,emscripten_date_now:fr,emscripten_get_heap_max:hr,emscripten_get_now:pr,emscripten_resize_heap:gr,environ_get:Er,environ_sizes_get:Sr,exit:Rr,fd_close:Ir,fd_read:Or,fd_seek:Pr,fd_write:xr,invoke_diii:Bi,invoke_fi:xi,invoke_fiii:Ui,invoke_i:Pi,invoke_ii:Ti,invoke_iif:Li,invoke_iii:Ci,invoke_iiii:Si,invoke_iiiii:_i,invoke_iiiiid:Di,invoke_iiiiii:bi,invoke_iiiiiii:Oi,invoke_iiiiiiii:Mi,invoke_iiiiiiiiiii:Ni,invoke_iiiiiiiiiiii:Hi,invoke_iiiiiiiiiiiii:ji,invoke_iiiiij:qi,invoke_iij:Gi,invoke_j:Yi,invoke_ji:Ki,invoke_jiiii:$i,invoke_v:ki,invoke_vi:Ei,invoke_vii:wi,invoke_viif:zi,invoke_viii:yi,invoke_viiii:Ii,invoke_viiiii:Ai,invoke_viiiiii:Ri,invoke_viiiiiii:Fi,invoke_viiiiiiiiii:Vi,invoke_viiiiiiiiiiiiiii:Wi,strftime:Br,strftime_l:Fr};var mn=Se();var yn=fe("__wasm_call_ctors",0);var _n=w["_CopyHeap"]=fe("CopyHeap",3);var bn=fe("__cxa_free_exception",1);var En=w["_free"]=fe("free",1);var Sn=w["_malloc"]=fe("malloc",1);var wn=w["_KWSInit"]=fe("KWSInit",1);var Tn=w["_KWSLogin"]=fe("KWSLogin",1);var Cn=w["_KWSLogout"]=fe("KWSLogout",0);var An=w["_KWSSessionBegin"]=fe("KWSSessionBegin",1);var Rn=w["_KWSSessionEnd"]=fe("KWSSessionEnd",1);var In=w["_KWSRegisterNotify"]=fe("KWSRegisterNotify",1);var kn=w["_KWSAudioWrite"]=fe("KWSAudioWrite",1);var On=w["_KWSRefreshToken"]=fe("KWSRefreshToken",1);var Pn=w["_KWSGetErrorDescription"]=fe("KWSGetErrorDescription",1);var Mn=w["_KWSUpdateParams"]=fe("KWSUpdateParams",1);var xn=fe("fflush",1);var Ln=fe("emscripten_builtin_memalign",2);var Dn=fe("setThrew",2);var Nn=fe("_emscripten_tempret_set",1);var jn=function e(){return(jn=mn["emscripten_stack_init"])()};var Un=function e(){return(Un=mn["emscripten_stack_get_free"])()};var Bn=function e(){return(Bn=mn["emscripten_stack_get_base"])()};var Fn=function e(){return(Fn=mn["emscripten_stack_get_end"])()};var Hn=function e(t){return(Hn=mn["_emscripten_stack_restore"])(t)};var Vn=function e(t){return(Vn=mn["_emscripten_stack_alloc"])(t)};var Wn=function e(){return(Wn=mn["emscripten_stack_get_current"])()};var zn=fe("__cxa_decrement_exception_refcount",1);var Gn=fe("__cxa_increment_exception_refcount",1);var Yn=fe("__get_exception_message",3);var Kn=fe("__cxa_can_catch",3);var qn=fe("__cxa_is_pointer_type",1);var $n=w["dynCall_iij"]=fe("dynCall_iij",4);var Jn=w["dynCall_jiji"]=fe("dynCall_jiji",5);var Zn=w["dynCall_j"]=fe("dynCall_j",1);var Xn=w["dynCall_ji"]=fe("dynCall_ji",2);var Qn=w["dynCall_iiiiij"]=fe("dynCall_iiiiij",7);var ei=w["dynCall_viijii"]=fe("dynCall_viijii",7);var ti=w["dynCall_jiiii"]=fe("dynCall_jiiii",5);var ri=w["dynCall_iiiiijj"]=fe("dynCall_iiiiijj",9);var ni=w["dynCall_iiiiiijj"]=fe("dynCall_iiiiiijj",10);var ii=w["dynCall_viijj"]=fe("dynCall_viijj",7);var oi=w["dynCall_jjjjjjj"]=fe("dynCall_jjjjjjj",13);var ai=w["dynCall_jjjjjj"]=fe("dynCall_jjjjjj",11);var si=w["dynCall_iijjii"]=fe("dynCall_iijjii",8);var ui=w["dynCall_iiij"]=fe("dynCall_iiij",5);var ci=w["dynCall_vij"]=fe("dynCall_vij",4);var li=w["dynCall_viiijii"]=fe("dynCall_viiijii",8);var fi=w["dynCall_viijiiiiiiiii"]=fe("dynCall_viijiiiiiiiii",14);var di=w["dynCall_viiij"]=fe("dynCall_viiij",6);var hi=w["dynCall_jii"]=fe("dynCall_jii",3);var pi=w["dynCall_jfi"]=fe("dynCall_jfi",3);var vi=w["dynCall_viij"]=fe("dynCall_viij",5);var gi=w["dynCall_jiij"]=fe("dynCall_jiij",5);var mi=w["dynCall_jiii"]=fe("dynCall_jiii",4);function yi(e,t,r,n){var i=Be();try{Wr(e)(t,r,n)}catch(e){Ue(i);if(!(e instanceof de))throw e;Dn(1,0)}}function _i(e,t,r,n,i){var o=Be();try{return Wr(e)(t,r,n,i)}catch(e){Ue(o);if(!(e instanceof de))throw e;Dn(1,0)}}function bi(e,t,r,n,i,o){var a=Be();try{return Wr(e)(t,r,n,i,o)}catch(e){Ue(a);if(!(e instanceof de))throw e;Dn(1,0)}}function Ei(e,t){var r=Be();try{Wr(e)(t)}catch(e){Ue(r);if(!(e instanceof de))throw e;Dn(1,0)}}function Si(e,t,r,n){var i=Be();try{return Wr(e)(t,r,n)}catch(e){Ue(i);if(!(e instanceof de))throw e;Dn(1,0)}}function wi(e,t,r){var n=Be();try{Wr(e)(t,r)}catch(e){Ue(n);if(!(e instanceof de))throw e;Dn(1,0)}}function Ti(e,t){var r=Be();try{return Wr(e)(t)}catch(e){Ue(r);if(!(e instanceof de))throw e;Dn(1,0)}}function Ci(e,t,r){var n=Be();try{return Wr(e)(t,r)}catch(e){Ue(n);if(!(e instanceof de))throw e;Dn(1,0)}}function Ai(e,t,r,n,i,o){var a=Be();try{Wr(e)(t,r,n,i,o)}catch(e){Ue(a);if(!(e instanceof de))throw e;Dn(1,0)}}function Ri(e,t,r,n,i,o,a){var s=Be();try{Wr(e)(t,r,n,i,o,a)}catch(e){Ue(s);if(!(e instanceof de))throw e;Dn(1,0)}}function Ii(e,t,r,n,i){var o=Be();try{Wr(e)(t,r,n,i)}catch(e){Ue(o);if(!(e instanceof de))throw e;Dn(1,0)}}function ki(e){var t=Be();try{Wr(e)()}catch(e){Ue(t);if(!(e instanceof de))throw e;Dn(1,0)}}function Oi(e,t,r,n,i,o,a){var s=Be();try{return Wr(e)(t,r,n,i,o,a)}catch(e){Ue(s);if(!(e instanceof de))throw e;Dn(1,0)}}function Pi(e){var t=Be();try{return Wr(e)()}catch(e){Ue(t);if(!(e instanceof de))throw e;Dn(1,0)}}function Mi(e,t,r,n,i,o,a,s){var u=Be();try{return Wr(e)(t,r,n,i,o,a,s)}catch(e){Ue(u);if(!(e instanceof de))throw e;Dn(1,0)}}function xi(e,t){var r=Be();try{return Wr(e)(t)}catch(e){Ue(r);if(!(e instanceof de))throw e;Dn(1,0)}}function Li(e,t,r){var n=Be();try{return Wr(e)(t,r)}catch(e){Ue(n);if(!(e instanceof de))throw e;Dn(1,0)}}function Di(e,t,r,n,i,o){var a=Be();try{return Wr(e)(t,r,n,i,o)}catch(e){Ue(a);if(!(e instanceof de))throw e;Dn(1,0)}}function Ni(e,t,r,n,i,o,a,s,u,c,l){var f=Be();try{return Wr(e)(t,r,n,i,o,a,s,u,c,l)}catch(e){Ue(f);if(!(e instanceof de))throw e;Dn(1,0)}}function ji(e,t,r,n,i,o,a,s,u,c,l,f,d){var h=Be();try{return Wr(e)(t,r,n,i,o,a,s,u,c,l,f,d)}catch(e){Ue(h);if(!(e instanceof de))throw e;Dn(1,0)}}function Ui(e,t,r,n){var i=Be();try{return Wr(e)(t,r,n)}catch(e){Ue(i);if(!(e instanceof de))throw e;Dn(1,0)}}function Bi(e,t,r,n){var i=Be();try{return Wr(e)(t,r,n)}catch(e){Ue(i);if(!(e instanceof de))throw e;Dn(1,0)}}function Fi(e,t,r,n,i,o,a,s){var u=Be();try{Wr(e)(t,r,n,i,o,a,s)}catch(e){Ue(u);if(!(e instanceof de))throw e;Dn(1,0)}}function Hi(e,t,r,n,i,o,a,s,u,c,l,f){var d=Be();try{return Wr(e)(t,r,n,i,o,a,s,u,c,l,f)}catch(e){Ue(d);if(!(e instanceof de))throw e;Dn(1,0)}}function Vi(e,t,r,n,i,o,a,s,u,c,l){var f=Be();try{Wr(e)(t,r,n,i,o,a,s,u,c,l)}catch(e){Ue(f);if(!(e instanceof de))throw e;Dn(1,0)}}function Wi(e,t,r,n,i,o,a,s,u,c,l,f,d,h,p,v){var g=Be();try{Wr(e)(t,r,n,i,o,a,s,u,c,l,f,d,h,p,v)}catch(e){Ue(g);if(!(e instanceof de))throw e;Dn(1,0)}}function zi(e,t,r,n){var i=Be();try{Wr(e)(t,r,n)}catch(e){Ue(i);if(!(e instanceof de))throw e;Dn(1,0)}}function Gi(e,t,r,n){var i=Be();try{return $n(e,t,r,n)}catch(e){Ue(i);if(!(e instanceof de))throw e;Dn(1,0)}}function Yi(e){var t=Be();try{return Zn(e)}catch(e){Ue(t);if(!(e instanceof de))throw e;Dn(1,0)}}function Ki(e,t){var r=Be();try{return Xn(e,t)}catch(e){Ue(r);if(!(e instanceof de))throw e;Dn(1,0)}}function qi(e,t,r,n,i,o,a){var s=Be();try{return Qn(e,t,r,n,i,o,a)}catch(e){Ue(s);if(!(e instanceof de))throw e;Dn(1,0)}}function $i(e,t,r,n,i){var o=Be();try{return ti(e,t,r,n,i)}catch(e){Ue(o);if(!(e instanceof de))throw e;Dn(1,0)}}w["addRunDependency"]=oe;w["removeRunDependency"]=ae;w["ccall"]=Kr;w["cwrap"]=qr;w["addFunction"]=an;w["setValue"]=je;w["getValue"]=Le;w["UTF8ToString"]=We;w["stringToUTF8"]=Lt;w["lengthBytesUTF8"]=dt;w["FS_createPreloadedFile"]=Ct;w["FS_unlink"]=un;w["FS_createPath"]=sn;w["FS_createDevice"]=ln;w["FS_createDataFile"]=St;w["FS_createLazyFile"]=cn;var Ji=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","getTempRet0","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","runMainThreadEmAsm","jstoi_q","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","setMainLoop","getSocketFromFD","getSocketAddress","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace"];Ji.forEach(ke);var Zi=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","stackSave","stackRestore","stackAlloc","setTempRet0","ptrToString","zeroMemory","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","isLeapYear","ydayFromDate","arraySum","addDays","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","initRandomFill","randomFill","timers","warnOnce","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","jstoi_s","getExecutableName","keepRuntimeAlive","asyncLoad","alignMemory","mmapAlloc","wasmTable","noExitRuntime","getCFunc","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","freeTableIndexes","functionsInTableMap","getEmptyTableSlot","updateTableMap","getFunctionAddress","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","stringToUTF8Array","intArrayFromString","stringToAscii","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","doReadv","doWritev","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","getPreloadedImageData__data","wget","SYSCALLS","preloadPlugins","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar_buffer","FS_stdin_getChar","FS_readFile","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr"];Zi.forEach(Oe);var Xi;re=function e(){if(!Xi)eo();if(!Xi)re=e};function Qi(){jn();V()}function eo(){if(ee>0){return}Qi();q();if(ee>0){return}function e(){if(Xi)return;Xi=true;w["calledRun"]=true;if(O)return;$();if(w["onRuntimeInitialized"])w["onRuntimeInitialized"]();M(!w["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');J()}if(w["setStatus"]){w["setStatus"]("Running...");setTimeout((function(){setTimeout((function(){w["setStatus"]("")}),1);e()}),1)}else{e()}W()}function to(){var e=C;var t=A;var r=false;C=A=function e(t){r=true};try{xn(0);["stdout","stderr"].forEach((function(e){var t;var n=Ot.analyzePath("/dev/"+e);if(!n)return;var i=n.object;var o=i.rdev;var a=gt.ttys[o];if(a!==null&&a!==void 0&&(t=a.output)!==null&&t!==void 0&&t.length){r=true}}))}catch(e){}C=e;A=t;if(r){Fe("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc.")}}if(w["preInit"]){if(typeof w["preInit"]=="function")w["preInit"]=[w["preInit"]];while(w["preInit"].length>0){w["preInit"].pop()()}}eo()};var C=e.getModule=function e(){return w}}))},553:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(425),r(67),r(226)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;t=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=l(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f="x-request-id";var d;(function(e){e["MATCH"]="match";e["MISMATCH"]="mismatch"})(d||(d={}));var h;(function(e){e["REQUEST_ERROR"]="request_error";e["RESPONSE_ERROR"]="response_error";e["RESPONSE"]="response"})(h||(h={}));function p(e){var t,r,n;return(e===null||e===void 0||(t=e.headers)===null||t===void 0?void 0:t[f])||(e===null||e===void 0||(r=e.response)===null||r===void 0||(r=r.headers)===null||r===void 0?void 0:r[f])||(e===null||e===void 0||(n=e.config)===null||n===void 0||(n=n.headers)===null||n===void 0?void 0:n[f])||""}function v(e){var t;var r=e.config;var n=r===null||r===void 0||(t=r.headers)===null||t===void 0?void 0:t["x-request-id"];var i=p(e);return n===i}function g(e,t){var i,o;var a=t.config;var u={arg1:n.Arg1Map.SERVER_API,arg2:"".concat(a===null||a===void 0?void 0:a.method,"-").concat(a===null||a===void 0?void 0:a.url),args:{error:(t===null||t===void 0||(i=t.response)===null||i===void 0||(i=i.status)===null||i===void 0?void 0:i.toString())||"",key:p(t),result:(t===null||t===void 0||(o=t.response)===null||o===void 0?void 0:o.data)||""}};r.UserTrack.endUserTrack(s(s({},u),{},{eventKey:p(t),args:s(s({},u.args),{},{type:"".concat(d.MATCH,"-").concat(e)})}));if(!v(t)){r.UserTrack.addUserTrack(s(s({},u),{},{args:s(s({},u.args),{},{type:"".concat(d.MISMATCH,"-").concat(e)})}))}}function m(e){var t=e.headers;var i={arg1:n.Arg1Map.SERVER_API,arg2:e===null||e===void 0?void 0:e.url,args:{param:JSON.stringify(e.data),key:t===null||t===void 0?void 0:t[f]}};r.UserTrack.startUserTrack(s(s({},i),{},{eventKey:t===null||t===void 0?void 0:t[f]}));r.UserTrack.addUserTrack(i)}function y(e){var t;var i=e.config;var o={arg1:n.Arg1Map.SERVER_API,arg2:"".concat(i===null||i===void 0?void 0:i.method,"-").concat(i===null||i===void 0?void 0:i.url),args:{error:e===null||e===void 0||(t=e.status)===null||t===void 0?void 0:t.toString(),result:JSON.stringify(i.data),key:e.headers[f]}};r.UserTrack.endUserTrack(s(s({},o),{},{eventKey:e.headers[f],args:s(s({},o.args),{},{type:d.MATCH})}));if(!v(e)){r.UserTrack.addUserTrack(s(s({},o),{},{args:s(s({},o.args),{},{type:d.MISMATCH})}))}}var _=function e(t){var r=[];Object.keys(t).forEach((function(e){var n=t[e];if(n===null||typeof n==="undefined"){return}r.push("".concat(e,"=").concat(encodeURIComponent(n)))}));return r.join("&")};var b=t["default"].create({timeout:3e4,paramsSerializer:_});b.interceptors.request.use((function(e){var t=e.headers;t[f]=crypto.randomUUID();t["x-request-terminal-version"]="2.0.2";t["x-request-terminal-platform"]="kwssdk";m(e);return e}),(function(e){g(h.REQUEST_ERROR,e);return Promise.reject(e)}));b.interceptors.response.use((function(e){y(e);return e}),(function(e){g(h.RESPONSE_ERROR,e);if(e!==null&&e!==void 0&&e.response){return e===null||e===void 0?void 0:e.response}return{error:e}}));var E=e["default"]=b}))},655:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(553),r(625),r(772),r(299)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.HttpRequest=void 0;t=o(t);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==d(t)?t:t+""}function f(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e){"@babel/helpers - typeof";return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var h=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":d(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var p=new i.Log({module:"HttpRequest"});var v=e.HttpRequest=function(){function e(){s(this,e)}return c(e,null,[{key:"doPost",value:function n(i){return t["default"].post(i.url,i.data,{headers:a({},r.HttpHeaders.AUTH_TOKEN,e.icsToken),baseURL:e.baseUrl})}},{key:"doGet",value:function n(i){return t["default"].get(i.url,{headers:a({},r.HttpHeaders.AUTH_TOKEN,e.icsToken),baseURL:e.baseUrl})}},{key:"setIcsToken",value:function t(r){e.icsToken=r}},{key:"setIcsHost",value:function t(r){e.baseUrl="".concat(r)}}])}();v.icsToken="";v.baseUrl="";h([(0,n.printfDecorator)(p)],v,"doPost",null);h([(0,n.printfDecorator)(p)],v,"doGet",null);h([(0,n.printfDecorator)(p)],v,"setIcsToken",null);h([(0,n.printfDecorator)(p)],v,"setIcsHost",null)}))},376:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(299),r(772),r(125),r(226),r(67),r(655),r(167),r(268),r(703)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.HwKwsWakeup=void 0;function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(){"use strict";h=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",p="suspendedYield",v="executing",g="completed",m={};function y(){}function _(){}function b(){}var S={};c(S,a,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,a)&&(S=T);var C=b.prototype=y.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==E(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=d;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=f(t,r,n);if("normal"===c.type){if(i=n.done?g:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(E(t)+" is not iterable")}return _.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),c(R.prototype,s,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),c(C,u,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function p(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){p(o,n,i,a,s,"next",e)}function s(e){p(o,n,i,a,s,"throw",e)}a(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function y(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){var t=b(e,"string");return"symbol"==E(t)?t:t+""}function b(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function E(e){"@babel/helpers - typeof";return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}var S=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":E(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var w=new t.Log({module:"HwKwsWakeup"});var T=e.HwKwsWakeup=function(){function e(){g(this,e)}return y(e,null,[{key:"initResourcePath",value:function t(r){e.wasmPath=r.wasmPath;e.dataPath=r.dataPath}},{key:"setLogLevel",value:function r(n){t.Log.setLogLevel(n);e.updateParams("setLogLevel")}},{key:"setLanguage",value:function t(r){e.language=r;e.updateParams("setLanguage")}},{key:"enableTrack",value:function e(t){o.UserTrack.toggleBusinessTrack({enableBusinessTrack:t})}},{key:"init",value:function(){var t=v(h().mark((function t(){return h().wrap((function t(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return e.waitModuleReady("init");case 2:if(!e.initPromise){n.next=4;break}return n.abrupt("return",e.initPromise);case 4:e.initPromise=new Promise((function(t){var n=(0,s.getModule)();var i="./";var o="./";var a="debug";e.setLogLevel(a);var u=window.getWasmModelConfig();var c=u;if((0,r.formatType)(u)===r.formatType.OBJECT){delete u.preData;c=JSON.stringify(u)}var l=n._malloc(n.lengthBytesUTF8(c)+1);var f=n._malloc(i.length+1);var d=n._malloc(o.length+1);var h=n._malloc(a.length+1);n.stringToUTF8(c,l,n.lengthBytesUTF8(c)+1);n.stringToUTF8(i,f,i.length+1);n.stringToUTF8(o,d,o.length+1);n.stringToUTF8(a,h,a.length+1);var p=n.addFunction((function(t){var r=n.UTF8ToString(n.HEAP32[t>>>2]);var i=n.UTF8ToString(n.HEAP32[t+4>>>2]);var o=n.UTF8ToString(n.HEAP32[t+4*2>>>2]);var a=n.UTF8ToString(n.HEAP32[t+4*3>>>2]);var s=n.UTF8ToString(n.HEAP32[t+4*4>>>2]);var u=n.UTF8ToString(n.HEAP32[t+4*5>>>2]);var c=n.UTF8ToString(n.HEAP32[t+4*6>>>2]);e.dealTrackCallback({type:r,entry:i,key:o,startTime:a,error:s,result:u,message:c})}),"ii");var v=n._malloc(5*4);n.setValue(v,l,"i32");n.setValue(v+4,f,"i32");n.setValue(v+4*2,d,"i32");n.setValue(v+4*3,h,"i32");n.setValue(v+4*4,p,"i32");var g=n._KWSInit(v);n._free(f);n._free(d);n._free(h);n._free(v);t(e.formatResult(g))}));return n.abrupt("return",e.initPromise);case 6:case"end":return n.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{key:"create",value:function(){var t=v(h().mark((function t(r){var n,i,u,l,f,d,p,v,g,m,y,_,b;return h().wrap((function t(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return e.init();case 2:e.setLogLevel(r.logLevel);n="./";i="./";u=(0,s.getModule)();l=u._malloc(n.length+1);f=u._malloc(i.length+1);d=u._malloc(r.token.length+1);p=u._malloc(r.icsManagerHost.length+1);v=u._malloc(r.jobId.length+1);g=u._malloc(r.logLevel.length+1);m=u._malloc(r.language.length+1);o.UserTrack.updateUtParam({token:r.token,jobId:r.jobId,robotId:r.robotId,baseUrl:new URL(r.icsManagerHost)});e.setIcsToken(r.token);a.HttpRequest.setIcsHost(r.icsHost);c.WakeupHeartbeatManager.setHeartbeatInfo({jobId:r.jobId,failedCallback:function t(r){w.error("create failedCallback",r);e.endSession()}});u.stringToUTF8(n,l,n.length+1);u.stringToUTF8(i,f,i.length+1);u.stringToUTF8(r.token,d,r.token.length+1);u.stringToUTF8(r.icsManagerHost,p,r.icsManagerHost.length+1);u.stringToUTF8(r.jobId,v,r.jobId.length+1);u.stringToUTF8(r.logLevel,g,r.logLevel.length+1);u.stringToUTF8(r.language,m,r.language.length+1);y=u._malloc(7*4);u.setValue(y,l,"i32");u.setValue(y+4,f,"i32");u.setValue(y+4*2,d,"i32");u.setValue(y+4*3,p,"i32");u.setValue(y+4*4,v,"i32");u.setValue(y+4*5,g,"i32");u.setValue(y+4*6,m,"i32");_=u._KWSLogin(y);u._free(l);u._free(f);u._free(d);u._free(p);u._free(v);u._free(g);u._free(m);u._free(y);b=e.formatResult(_);if(b.result){c.WakeupHeartbeatManager.startHeartBeat("create")}return h.abrupt("return",b);case 44:case"end":return h.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"beginSession",value:function(){var t=v(h().mark((function t(){var n;var i,o,a,u;return h().wrap((function t(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return e.waitModuleReady("beginSession");case 2:i=(0,s.getModule)();o=i._malloc(4);i.setValue(o,0,"i32");a=i._malloc(4);i.setValue(a,o,"i32");u=i._KWSSessionBegin(a);e.sessionId=i.UTF8ToString(u);w.info("beginSession sessionId",e.sessionId);e.addWasmCallback();c.next=13;return(n=e.localRecorder)===null||n===void 0?void 0:n.stopRecord();case 13:e.localRecorder=new r.AudioContextLocalRecorder({bufferSize:1024,useScriptProcessor:true,audioCallback:e.audioCallback});c.next=16;return e.localRecorder.startRecord();case 16:return c.abrupt("return",{result:true});case 17:case"end":return c.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{key:"endSession",value:function(){var t=v(h().mark((function t(){var r;var n,i,o,a,u;return h().wrap((function t(c){while(1)switch(c.prev=c.next){case 0:if(e.sessionId){c.next=2;break}return c.abrupt("return",{result:true});case 2:c.next=4;return e.waitModuleReady("endSession");case 4:w.info("endSession",e.sessionId);n=(0,s.getModule)();c.next=8;return(r=e.localRecorder)===null||r===void 0?void 0:r.stopRecord();case 8:delete e.localRecorder;i="";o=n._malloc(e.sessionId.length+1);a=n._malloc(i.length+1);n.stringToUTF8(e.sessionId,o,e.sessionId.length+1);n.stringToUTF8(i,a,i.length+1);u=n._malloc(2*4);n.setValue(u,o,"i32");n.setValue(u+4,a,"i32");n._KWSSessionEnd(u);n._free(o);n._free(a);n._free(u);e.sessionId="";e.lastAudioDataTime=0;return c.abrupt("return",{result:true});case 24:case"end":return c.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()},{key:"logout",value:function(){var t=v(h().mark((function t(){var r;return h().wrap((function t(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return e.waitModuleReady("logout");case 2:r=(0,s.getModule)();r._KWSLogout();o.UserTrack.resetUtParam();c.WakeupHeartbeatManager.stopHeartBeat("logout");return n.abrupt("return",{result:true});case 7:case"end":return n.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()},{key:"registerWakeupNotify",value:function t(r){e.wakeupCallback=r}},{key:"setIcsToken",value:function e(t){a.HttpRequest.setIcsToken(t);o.UserTrack.updateUtParam({token:t})}},{key:"startRecord",value:function t(){e.downloadAudio=new r.DownloadAudio}},{key:"stopRecord",value:function t(){var r,n;(r=e.downloadAudio)===null||r===void 0||r.downloadFile("record.pcm");(n=e.downloadAudio)===null||n===void 0||n.clearData();delete e.downloadAudio}},{key:"writeAudio",value:function t(r){var n=(0,s.getModule)();if(!e.sessionId){return{result:false}}var i=n._malloc(e.sessionId.length+1);n.stringToUTF8(e.sessionId,i,e.sessionId.length+1);var o=r.length;var a=n._malloc(o);var u=new Int8Array(n.HEAP8.buffer,a,o);var c=new Int8Array(r.buffer);u.set(c);var l=n._malloc(3*4);n.setValue(l,i,"i32");n.setValue(l+4,a,"i32");n.setValue(l+8,o,"i32");n._KWSAudioWrite(l);n._free(i);n._free(a);n._free(l);return{result:true}}},{key:"updateMicrophoneDevice",value:function(){var t=v(h().mark((function t(r){var n;return h().wrap((function t(i){while(1)switch(i.prev=i.next){case 0:w.info("updateMicrophoneDevice",r);if(e.sessionId){i.next=3;break}return i.abrupt("return",{result:false,errorMsg:"no sessionId"});case 3:i.next=5;return(n=e.localRecorder)===null||n===void 0?void 0:n.startRecord({deviceId:r});case 5:return i.abrupt("return",{result:true});case 6:case"end":return i.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"getErrorMsgByCode",value:function e(t){try{var r=(0,s.getModule)();var n=r._KWSGetErrorDescription(t);if(n){var i=r.UTF8ToString(n);w.info("getErrorMsgByCode result",t,i);var o=JSON.parse(i);var a=Object.keys(o)[0];return{errorCode:a,errorMsg:o[t]}}}catch(e){w.error("getErrorMsgByCode",t,e)}w.info("getErrorMsgByCode unknown reason",t);return{errorCode:t.toString(),errorMsg:"unknown reason"}}},{key:"updateParams",value:function r(n){n+=",updateParams";if(!e.readyPromise){w.warn(n,"not init, do nothing");return{result:false}}var i=(0,s.getModule)();var o=t.Log.getLogLevel();w.info(n,o,e.language);var a=i._malloc(o.length+1);var u=i._malloc(e.language.length+1);i.stringToUTF8(o,a,o.length+1);i.stringToUTF8(e.language,u,e.language.length+1);var c=i._malloc(4*2);i.setValue(c,a,"i32");i.setValue(c+4,u,"i32");var l=i._KWSUpdateParams(c);i._free(a);i._free(u);i._free(c);return l}},{key:"audioCallback",value:function t(r){try{var n;if(!e.sessionId){return}var i=Date.now();var o=i-e.lastAudioDataTime;e.lastAudioDataTime=i;e.audioCallbackCount++;if(o===i){w.info("audioCallback","audio data start",r.pcm.byteLength)}else if(o>300||o<40){w.warn("audioCallback","audio data maybe problem",e.audioCallbackCount,o,r.recordId)}(n=e.downloadAudio)===null||n===void 0||n.addDownloadData(r.pcm.buffer);e.writeAudio(e.convertInt16ToInt8(r.pcm))}catch(e){w.error("audioCallback",e)}}},{key:"convertInt16ToInt8",value:function e(t){var r=new Int8Array(t.length*2);for(var n=0;n<t.length;n++){var i=t[n];r[n*2]=i&255;r[n*2+1]=i>>8&255}return r}},{key:"addWasmCallback",value:function t(){var r=(0,s.getModule)();if(!e.sessionId){return{result:false}}var n=r._malloc(e.sessionId.length+1);var i=r._malloc(4);r.stringToUTF8(e.sessionId,n,e.sessionId.length+1);var o=r.addFunction((function(t){var n=r.UTF8ToString(r.HEAP32[t>>>2]);var i=r.HEAP32[t+4>>>2];var o=r.HEAP32[t+8>>>2];var a=r.UTF8ToString(r.HEAP32[t+12>>>2]);w.info("ivwMsgProcPtr wakeupInfo",i,a);e.dealCallback({sessionID:n,msgType:i,errorCode:o,wakeupInfo:a})}),"vp");var a=r._malloc(3*4);r.setValue(a,n,"i32");r.setValue(a+4,o,"i32");r.setValue(a+4*2,i,"i32");r._KWSRegisterNotify(a);r._free(n);r._free(i);r._free(a);return o}},{key:"dealCallback",value:function t(r){var n;w.debug("dealCallback",r);(n=e.wakeupCallback)===null||n===void 0||n.call(e,JSON.parse(r.wakeupInfo))}},{key:"dealTrackCallback",value:function e(t){o.UserTrack.addUserTrack({arg1:i.Arg1Map.WAKEUP_SDK_NATIVE_TRACK,args:t})}},{key:"waitModuleReady",value:function t(n){if(!e.readyPromise){e.readyPromise=new Promise((function(t){w.info("waitModuleReady start",n,e.wasmPath,e.dataPath);var i=setTimeout((function(){w.info("waitModuleReady timeout",n)}),3e4);var o={onRuntimeInitialized:function e(){w.info("waitModuleReady init over!",n);t(true);clearTimeout(i)},locateFile:function t(r){w.info("waitModuleReady locateFile",n,r);if(r.endsWith("wasm")){return window.hwKwsWasmData||e.wasmPath||"wasmData.js"}if(r.endsWith("data")){return e.dataPath||"modelData.js"}return r},printErr:function e(t){w.error("waitModuleReady printErr",n,t)},getPreloadedPackage:function e(t,r){var n;w.info("waitModuleReady getPreloadedPackage",t,r,(n=window.hwKwsWasmModelData)===null||n===void 0?void 0:n.byteLength);return window.hwKwsWasmModelData}};if(e.dataPath&&e.wasmPath){Promise.all([r.LazyLoad.loadScript("hwKwsWasmModelData",e.dataPath),r.LazyLoad.loadScript("hwKwsWasmData",e.wasmPath)]).then((function(){(0,s.loadWasm)(o,window.getWasmModelConfig().preData||{files:[{filename:"/decoder.onnx",start:0,end:534547},{filename:"/encoder.onnx",start:534547,end:12705729},{filename:"/joiner.onnx",start:12705729,end:12817896},{filename:"/tokens.txt",start:12817896,end:12819049}],remote_package_size:12819049})}));return}(0,s.loadWasm)(o)}))}return e.readyPromise}}])}();T.version="".concat("2.0.2");T.buildTime="".concat("202502241726");T.sessionId="";T.wasmPath="";T.dataPath="";T.lastAudioDataTime=0;T.audioCallbackCount=0;T.language="zh";T.formatResult=function(e){if(e.toString()===u.SDKErrorCode.SUCCESS){return{result:true,errorCode:u.SDKErrorCode.SUCCESS,errorMsg:""}}return f({result:false},T.getErrorMsgByCode(e))};S([(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"initResourcePath",null);S([(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"setLogLevel",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"setLanguage",null);S([(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"enableTrack",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"init",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"create",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"beginSession",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"endSession",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"logout",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"registerWakeupNotify",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"setIcsToken",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"startRecord",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"stopRecord",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_METHOD)],T,"updateMicrophoneDevice",null);S([(0,r.printfDecorator)(w)],T,"getErrorMsgByCode",null);S([(0,r.printfDecorator)(w)],T,"updateParams",null);S([(0,r.printfDecorator)(w)],T,"addWasmCallback",null);S([(0,r.printfDecorator)(w),(0,n.methodDecorator)(i.Arg1Map.WAKEUP_SDK_NOTIFY)],T,"dealCallback",null);S([(0,r.printfDecorator)(w)],T,"dealTrackCallback",null);S([(0,r.printfDecorator)(w)],T,"waitModuleReady",null)}))},299:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(772),r(67)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Log=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=u(e,"string");return"symbol"==n(t)?t:t+""}function u(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=e.Log=function(){function e(t){var r=t.module;i(this,e);this.debug=e.printfLog("debug",r);this.info=e.printfLog("info",r);this.warn=e.printfLog("warn",r);this.error=e.printfLog("error",r)}return a(e,null,[{key:"setLogLevel",value:function t(r){e.logLevelIndex=e.logLevelList.indexOf(r)}},{key:"getLogLevel",value:function t(){return e.logLevelList[e.logLevelIndex]}},{key:"printfLog",value:function t(n,i){return function(t){try{var o=e.logLevelList.indexOf(n);if(e.logLevelIndex===-1||o<e.logLevelIndex){return""}for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++){s[u-1]=arguments[u]}return(0,r.dealLogPrintf)(n,i,t,s)}catch(e){return""}}}}])}();c.logLevelList=["debug","info","warn","error","none"];c.logLevelIndex=1;(0,t.setPLogger)(new c({module:"HwKwsWakeup.meta-util"}))}))},67:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(772),r(226),r(425),r(625)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.dealLogPrintf=e.UserTrack=void 0;n=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function a(){"use strict";a=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function f(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",g="completed",m={};function y(){}function _(){}function b(){}var E={};l(E,s,(function(){return this}));var S=Object.getPrototypeOf,T=S&&S(S(x([])));T&&T!==r&&n.call(T,s)&&(E=T);var C=b.prototype=y.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==w(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=h;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=d(t,r,n);if("normal"===c.type){if(i=n.done?g:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(w(t)+" is not iterable")}return _.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),l(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function s(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=g(e,"string");return"symbol"==w(t)?t:t+""}function g(e,t){if("object"!=w(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e){return E(e)||b(e)||_(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function b(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function E(e){if(Array.isArray(e))return S(e)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e){"@babel/helpers - typeof";return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}var T=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":w(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var C;(function(e){e["ui"]="meta_studio_web_client"})(C||(C={}));var A="".concat("kwssdk","-").concat("2.0.2","-").concat("202502241726","-v.so.20250220110549-4220430");var R=e.dealLogPrintf=function e(n,i,o,a){try{var s,u;if(n==="none"){return""}var c=(0,t.formatDate)(new Date,"yyyy-MM-dd hh:mm:ss.S");(s=window.console)===null||s===void 0||(u=s[n])===null||u===void 0||u.call.apply(u,[s,"[".concat(c,"][").concat(n,"][").concat(i,"]"),o].concat(m(a)));var l="[".concat(c,"][").concat(n,"][").concat(i,"] ").concat(o," ").concat(JSON.stringify(a));if(n!=="debug"){k===null||k===void 0||k.addUserTrack({arg1:r.Arg1Map.LOGGER_MESSAGE,arg2:i,args:{type:n,entry:o,message:JSON.stringify(a)}})}return l}catch(e){return""}};var I={debug:function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++){n[i-1]=arguments[i]}return R("debug","wakeUpUserTrack",t,n)}};var k=e.UserTrack=function(){function e(){d(this,e)}return p(e,null,[{key:"addUserTrack",value:function t(r){var n=r.arg1,i=r.arg2,o=i===void 0?location.hash:i,a=r.arg3,s=a===void 0?-1:a,u=r.args,c=u===void 0?{}:u;try{var f;var d={eventId:C.ui,timestamp:Date.now(),version:e._version,userAgent:e._userAgent,devicePixelRatio,args:l(l({},c),{},{arg1:n,arg2:o,arg3:s,currPageId:e._currPageId,jobId:e._rtcJobId,token:e._robotId,domain:(f=e._baseUrl)===null||f===void 0?void 0:f.hostname,region:"",lineno:this._order})};e._cacheList.push(d);this._order++;if(e._cacheList.length>e._cacheDataSize){e._cacheList.shift()}if(!e._uploading){e._uploadUserTrack()}}catch(e){var h;(h=window.console)===null||h===void 0||h.warn("addUserTrack",{arg1:n,arg2:o,arg3:s,args:c},e)}}},{key:"startUserTrack",value:function t(r){var n=r.arg1,i=r.eventKey,o=i===void 0?"":i,a=r.args;if(!e._eventMap[n+o]){e._eventMap[n+o]={arg1:n,args:a,startTime:Date.now()}}e._checkEventMap()}},{key:"endUserTrack",value:function t(r){var n=r.eventKey,i=n===void 0?"":n,o=r.arg1,a=r.arg2,s=a===void 0?location.hash:a,u=r.arg3,c=u===void 0?-1:u,f=r.args;try{var d=e._eventMap[o+i];if(d){var h=Date.now()-d.startTime;e.addUserTrack({arg1:o,arg2:s,arg3:h,args:l(l({eventKey:i},d.args),f)});delete e._eventMap[o+i]}}catch(e){var p;(p=window.console)===null||p===void 0||p.warn("endUserTrack",{eventKey:i,arg1:o,arg2:s,arg3:c,args:f},e)}}},{key:"toggleBusinessTrack",value:function t(r){var n=r.enableBusinessTrack,i=n===void 0?true:n;e._enableBusinessTrack=i;if(i){e._userAgent=navigator.userAgent;return}e._userAgent=""}},{key:"updateUtParam",value:function t(r){var n=r.jobId,i=r.token,o=r.baseUrl,a=r.robotId;if(n){e._rtcJobId=n}if(i){e._token=i}if(o){e._baseUrl=o}if(a){e._robotId=a}}},{key:"resetUtParam",value:function t(){e._rtcJobId="";e._token="";delete e._baseUrl;e._robotId="";e._enableBusinessTrack=false}},{key:"_uploadUserTrack",value:function(){var r=u(a().mark((function r(){var o;var s,u,c,l;return a().wrap((function r(a){while(1)switch(a.prev=a.next){case 0:if(!(e._cacheList.length>0&&(o=e._baseUrl)!==null&&o!==void 0&&o.origin&&e._enableBusinessTrack&&e._token)){a.next=17;break}e._uploading=true;a.next=4;return(0,t.sleep)(e._uploadCycle);case 4:u=Math.min(e._uploadSize,e._cacheList.length);if(!(u<e._uploadSize&&Date.now()-e._lastUploadTime<e._uploadCycle*5)){a.next=8;break}e._uploadUserTrack();return a.abrupt("return");case 8:c=e.preUpload(e._cacheList.slice(0,u));a.next=11;return n["default"].post("".concat(i.BaseUrl.REPORT),{data:c},{baseURL:(s=e._baseUrl)===null||s===void 0?void 0:s.origin,headers:f(f(f({},i.HttpHeaders.AUTH_TOKEN,e._token),"x-request-terminal-version","2.0.2"),"x-request-terminal-platform","kwssdk")})["catch"]((function(e){window.console.error("_uploadUserTrack",e)}));case 11:l=a.sent;if(!((l===null||l===void 0?void 0:l.status)===i.HttpCodes.OK)){a.next=17;break}e._cacheList.splice(0,u);e._lastUploadTime=Date.now();e._uploadUserTrack();return a.abrupt("return");case 17:e._uploading=false;case 18:case"end":return a.stop()}}),r)})));function o(){return r.apply(this,arguments)}return o}()},{key:"_checkEventMap",value:function t(){Object.keys(e._eventMap).forEach((function(t){if(Date.now()-e._eventMap[t].startTime>e._maxCacheTime){delete e._eventMap[t]}}))}},{key:"preUpload",value:function t(r){return r.map((function(t){if(!t.args.token){t.args.token=e._robotId}if(!t.args.jobId){t.args.jobId=e._rtcJobId}return t}))}}])}();k._cacheList=[];k._currPageId=Date.now().toString();k._version=A;k._eventMap={};k._cacheDataSize=1e3;k._maxCacheTime=432e5;k._uploading=false;k._uploadSize=20;k._uploadCycle=1e3;k._lastUploadTime=0;k._rtcJobId="";k._token="";k._robotId="";k._order=0;k._enableBusinessTrack=false;k._userAgent="";T([(0,t.printfDecorator)(I)],k,"startUserTrack",null);T([(0,t.printfDecorator)(I)],k,"endUserTrack",null);T([(0,t.printfDecorator)(I)],k,"toggleBusinessTrack",null);T([(0,t.printfDecorator)(I)],k,"updateUtParam",null);T([(0,t.printfDecorator)(I)],k,"resetUtParam",null)}))},703:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(772),r(625),r(655),r(299)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.WakeupHeartbeatManager=void 0;function o(){"use strict";o=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function f(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};l(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==h(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=d(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(h(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=l(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),l(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=d(e,"string");return"symbol"==h(t)?t:t+""}function d(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function h(e){"@babel/helpers - typeof";return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var p=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":h(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var v=new i.Log({module:"WakeupHeartbeatManager"});var g=e.WakeupHeartbeatManager=function(){function e(){u(this,e)}return l(e,null,[{key:"setHeartbeatInfo",value:function t(r){v.info("setHeartbeatInfo",r);e.jobId=r.jobId;e.failedCallback=r.failedCallback}},{key:"startHeartBeat",value:function t(r){v.info("startHeartBeat",r);e.heartCount=0;e.timerManager.cancel().schedule(e.heartBeatTask,1e4)}},{key:"stopHeartBeat",value:function t(r){v.info("stopHeartBeat",r);e.heartCount=0;e.jobId="";e.timerManager.cancel()}},{key:"wakeupHeartbeat",value:function(){var t=s(o().mark((function t(){var i;var a,s,u,c;return o().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:e.heartCount++;a=Date.now();s=e.jobId;o.next=5;return n.HttpRequest.doPost({url:r.BaseUrl.HEARTBEAT.replace("{job_id}",s)});case 5:u=o.sent;c=Date.now()-a;v.info("wakeupHeartbeat",e.heartCount,u===null||u===void 0||(i=u.data)===null||i===void 0?void 0:i.error_code,c,s,e.jobId);o.next=10;return e.handleHeartbeatResult(u===null||u===void 0?void 0:u.data,s);case 10:case"end":return o.stop()}}),t)})));function i(){return t.apply(this,arguments)}return i}()},{key:"handleHeartbeatResult",value:function(){var r=s(o().mark((function r(n,i){return o().wrap((function r(o){while(1)switch(o.prev=o.next){case 0:if(!(!n||(0,t.formatType)(n)!==t.formatType.OBJECT)){o.next=2;break}return o.abrupt("return");case 2:e.checkErrorCodes(n===null||n===void 0?void 0:n.error_code,i);case 3:case"end":return o.stop()}}),r)})));function n(e,t){return r.apply(this,arguments)}return n}()},{key:"checkErrorCodes",value:function t(r,n){var i=e.errorCodeList.includes(r);if(i&&n===e.jobId){var o;(o=e.failedCallback)===null||o===void 0||o.call(e,r);e.stopHeartBeat("checkErrorCodes")}return i}}])}();g.timerManager=new t.Timer({userWebWorker:false});g.heartBeatTask=new t.Timer.TimerTask(g.wakeupHeartbeat);g.errorCodeList=[r.RetCodes.AUTH_FAILED,r.RetCodes.DIALOG_NOT_EXIST,r.RetCodes.DIALOG_NO_PERMISSION,r.RetCodes.WAKEUP_NOT_ENOUGH_CHANNEL];g.heartCount=0;g.jobId="";p([(0,t.printfDecorator)(v)],g,"setHeartbeatInfo",null);p([(0,t.printfDecorator)(v)],g,"startHeartBeat",null);p([(0,t.printfDecorator)(v)],g,"stopHeartBeat",null);p([(0,t.printfDecorator)(v)],g,"wakeupHeartbeat",null);p([(0,t.printfDecorator)(v)],g,"handleHeartbeatResult",null);p([(0,t.printfDecorator)(v)],g,"checkErrorCodes",null)}))},317:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(376)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"HwKwsWakeup",{enumerable:true,get:function e(){return t.HwKwsWakeup}})}))},125:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.methodDecorator=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u=e.methodDecorator=function e(r){return function(e,n,o){var a;function s(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++){i[o]=arguments[o]}var s=Date.now();var u=a.apply(this,i);if(u!==null&&u!==void 0&&u.then){t.UserTrack.addUserTrack({arg1:r,arg2:n,args:{type:"async start",param:JSON.stringify(i)}});return u.then((function(e){t.UserTrack.addUserTrack({arg1:r,arg2:n,arg3:Date.now()-s,args:{type:"async end",result:JSON.stringify(e),param:JSON.stringify(i)}});return e}))}t.UserTrack.addUserTrack({arg1:r,arg2:n,args:{type:"sync end",param:JSON.stringify(i),result:JSON.stringify(u)}});return u}if(o!==null&&o!==void 0&&o.initializer){return i(i({},o),{},{writable:true,initializer:function e(){a=o.initializer.call(this);return s}})}a=o===null||o===void 0?void 0:o.value;return i(i({},o),{},{writable:true,value:s})}}}))},268:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.WakeupIntentions=e.SDKErrorCode=void 0;var t;(function(e){e["SUCCESS"]="0"})(t||(e.SDKErrorCode=t={}));var r;(function(e){e["START"]="start";e["INTERRUPT"]="interrupt";e["STOP"]="stop"})(r||(e.WakeupIntentions=r={}))}))},625:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RetCodes=e.HttpHeaders=e.HttpCodes=e.BaseUrl=void 0;var t;(function(e){e["REPORT"]="v1/digital-human-chat/endpoint/stats";e["HEARTBEAT"]="/v1/digital-human-chat/wakeup/heartbeat/{job_id}"})(t||(e.BaseUrl=t={}));var r;(function(e){e["AUTH_TOKEN"]="x-auth-token"})(r||(e.HttpHeaders=r={}));var n;(function(e){e[e["NO_RESP"]=-100]="NO_RESP";e[e["OK"]=200]="OK";e[e["NO_CONTENT"]=204]="NO_CONTENT";e[e["MULTIPLE_CHOICES"]=300]="MULTIPLE_CHOICES";e[e["BAD_REQUEST"]=400]="BAD_REQUEST";e[e["UNAUTHORIZED"]=401]="UNAUTHORIZED";e[e["FORBIDDEN"]=403]="FORBIDDEN";e[e["INTERNAL_SERVER_ERROR"]=500]="INTERNAL_SERVER_ERROR";e[e["HTTP_VERSION_NOT_SUPPORTED"]=505]="HTTP_VERSION_NOT_SUPPORTED"})(n||(e.HttpCodes=n={}));var i;(function(e){e["SUCCESS"]="MSS.00000000";e["AUTH_FAILED"]="MSS.00000004";e["DIALOG_NOT_EXIST"]="MSS.47010001";e["DIALOG_NO_PERMISSION"]="MSS.47010063";e["WAKEUP_NOT_ENOUGH_CHANNEL"]="MSS.47010203"})(i||(e.RetCodes=i={}))}))},226:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Arg1Map=void 0;var t;(function(e){e["SERVER_API"]="wakeup_sdk_web_server_api";e["LOGGER_MESSAGE"]="wakeup_sdk_logger_message";e["WAKEUP_SDK_METHOD"]="wakeup_sdk_method";e["WAKEUP_SDK_NOTIFY"]="wakeup_sdk_notify";e["WAKEUP_SDK_NATIVE_TRACK"]="wakeup_sdk_native_track"})(t||(e.Arg1Map=t={}))}))},425:(e,t,r)=>{"use strict";function n(e,t){return function r(){return e.apply(t,arguments)}}const{toString:i}=Object.prototype;const{getPrototypeOf:o}=Object;const a=(e=>t=>{const r=i.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null));const s=e=>{e=e.toLowerCase();return t=>a(t)===e};const u=e=>t=>typeof t===e;const{isArray:c}=Array;const l=u("undefined");function f(e){return e!==null&&!l(e)&&e.constructor!==null&&!l(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const d=s("ArrayBuffer");function h(e){let t;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){t=ArrayBuffer.isView(e)}else{t=e&&e.buffer&&d(e.buffer)}return t}const p=u("string");const v=u("function");const g=u("number");const m=e=>e!==null&&typeof e==="object";const y=e=>e===true||e===false;const _=e=>{if(a(e)!=="object"){return false}const t=o(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};const b=s("Date");const E=s("File");const S=s("Blob");const w=s("FileList");const T=e=>m(e)&&v(e.pipe);const C=e=>{let t;return e&&(typeof FormData==="function"&&e instanceof FormData||v(e.append)&&((t=a(e))==="formdata"||t==="object"&&v(e.toString)&&e.toString()==="[object FormData]"))};const A=s("URLSearchParams");const[R,I,k,O]=["ReadableStream","Request","Response","Headers"].map(s);const P=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function M(e,t,{allOwnKeys:r=false}={}){if(e===null||typeof e==="undefined"){return}let n;let i;if(typeof e!=="object"){e=[e]}if(c(e)){for(n=0,i=e.length;n<i;n++){t.call(null,e[n],n,e)}}else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e);const o=i.length;let a;for(n=0;n<o;n++){a=i[n];t.call(null,e[a],a,e)}}}function x(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length;let i;while(n-- >0){i=r[n];if(t===i.toLowerCase()){return i}}return null}const L=(()=>{if(typeof globalThis!=="undefined")return globalThis;return typeof self!=="undefined"?self:typeof window!=="undefined"?window:r.g})();const D=e=>!l(e)&&e!==L;function N(){const{caseless:e}=D(this)&&this||{};const t={};const r=(r,n)=>{const i=e&&x(t,n)||n;if(_(t[i])&&_(r)){t[i]=N(t[i],r)}else if(_(r)){t[i]=N({},r)}else if(c(r)){t[i]=r.slice()}else{t[i]=r}};for(let e=0,t=arguments.length;e<t;e++){arguments[e]&&M(arguments[e],r)}return t}const j=(e,t,r,{allOwnKeys:i}={})=>{M(t,((t,i)=>{if(r&&v(t)){e[i]=n(t,r)}else{e[i]=t}}),{allOwnKeys:i});return e};const U=e=>{if(e.charCodeAt(0)===65279){e=e.slice(1)}return e};const B=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n);e.prototype.constructor=e;Object.defineProperty(e,"super",{value:t.prototype});r&&Object.assign(e.prototype,r)};const F=(e,t,r,n)=>{let i;let a;let s;const u={};t=t||{};if(e==null)return t;do{i=Object.getOwnPropertyNames(e);a=i.length;while(a-- >0){s=i[a];if((!n||n(s,e,t))&&!u[s]){t[s]=e[s];u[s]=true}}e=r!==false&&o(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t};const H=(e,t,r)=>{e=String(e);if(r===undefined||r>e.length){r=e.length}r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r};const V=e=>{if(!e)return null;if(c(e))return e;let t=e.length;if(!g(t))return null;const r=new Array(t);while(t-- >0){r[t]=e[t]}return r};const W=(e=>t=>e&&t instanceof e)(typeof Uint8Array!=="undefined"&&o(Uint8Array));const z=(e,t)=>{const r=e&&e[Symbol.iterator];const n=r.call(e);let i;while((i=n.next())&&!i.done){const r=i.value;t.call(e,r[0],r[1])}};const G=(e,t)=>{let r;const n=[];while((r=e.exec(t))!==null){n.push(r)}return n};const Y=s("HTMLFormElement");const K=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function e(t,r,n){return r.toUpperCase()+n}));const q=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype);const $=s("RegExp");const J=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e);const n={};M(r,((r,i)=>{let o;if((o=t(r,i,e))!==false){n[i]=o||r}}));Object.defineProperties(e,n)};const Z=e=>{J(e,((t,r)=>{if(v(e)&&["arguments","caller","callee"].indexOf(r)!==-1){return false}const n=e[r];if(!v(n))return;t.enumerable=false;if("writable"in t){t.writable=false;return}if(!t.set){t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}}}))};const X=(e,t)=>{const r={};const n=e=>{e.forEach((e=>{r[e]=true}))};c(e)?n(e):n(String(e).split(t));return r};const Q=()=>{};const ee=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;const te="abcdefghijklmnopqrstuvwxyz";const re="0123456789";const ne={DIGIT:re,ALPHA:te,ALPHA_DIGIT:te+te.toUpperCase()+re};const ie=(e=16,t=ne.ALPHA_DIGIT)=>{let r="";const{length:n}=t;while(e--){r+=t[Math.random()*n|0]}return r};function oe(e){return!!(e&&v(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ae=e=>{const t=new Array(10);const r=(e,n)=>{if(m(e)){if(t.indexOf(e)>=0){return}if(!("toJSON"in e)){t[n]=e;const i=c(e)?[]:{};M(e,((e,t)=>{const o=r(e,n+1);!l(o)&&(i[t]=o)}));t[n]=undefined;return i}}return e};return r(e,0)};const se=s("AsyncFunction");const ue=e=>e&&(m(e)||v(e))&&v(e.then)&&v(e.catch);const ce=((e,t)=>{if(e){return setImmediate}return t?((e,t)=>{L.addEventListener("message",(({source:r,data:n})=>{if(r===L&&n===e){t.length&&t.shift()()}}),false);return r=>{t.push(r);L.postMessage(e,"*")}})(`axios@${Math.random()}`,[]):e=>setTimeout(e)})(typeof setImmediate==="function",v(L.postMessage));const le=typeof queueMicrotask!=="undefined"?queueMicrotask.bind(L):typeof process!=="undefined"&&process.nextTick||ce;var fe={isArray:c,isArrayBuffer:d,isBuffer:f,isFormData:C,isArrayBufferView:h,isString:p,isNumber:g,isBoolean:y,isObject:m,isPlainObject:_,isReadableStream:R,isRequest:I,isResponse:k,isHeaders:O,isUndefined:l,isDate:b,isFile:E,isBlob:S,isRegExp:$,isFunction:v,isStream:T,isURLSearchParams:A,isTypedArray:W,isFileList:w,forEach:M,merge:N,extend:j,trim:P,stripBOM:U,inherits:B,toFlatObject:F,kindOf:a,kindOfTest:s,endsWith:H,toArray:V,forEachEntry:z,matchAll:G,isHTMLForm:Y,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:J,freezeMethods:Z,toObjectSet:X,toCamelCase:K,noop:Q,toFiniteNumber:ee,findKey:x,global:L,isContextDefined:D,ALPHABET:ne,generateString:ie,isSpecCompliantForm:oe,toJSONObject:ae,isAsyncFn:se,isThenable:ue,setImmediate:ce,asap:le};function de(e,t,r,n,i){Error.call(this);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack}this.message=e;this.name="AxiosError";t&&(this.code=t);r&&(this.config=r);n&&(this.request=n);if(i){this.response=i;this.status=i.status?i.status:null}}fe.inherits(de,Error,{toJSON:function e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const he=de.prototype;const pe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{pe[e]={value:e}}));Object.defineProperties(de,pe);Object.defineProperty(he,"isAxiosError",{value:true});de.from=(e,t,r,n,i,o)=>{const a=Object.create(he);fe.toFlatObject(e,a,(function e(t){return t!==Error.prototype}),(e=>e!=="isAxiosError"));de.call(a,e.message,t,r,n,i);a.cause=e;a.name=e.name;o&&Object.assign(a,o);return a};var ve=null;function ge(e){return fe.isPlainObject(e)||fe.isArray(e)}function me(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function ye(e,t,r){if(!e)return t;return e.concat(t).map((function e(t,n){t=me(t);return!r&&n?"["+t+"]":t})).join(r?".":"")}function _e(e){return fe.isArray(e)&&!e.some(ge)}const be=fe.toFlatObject(fe,{},null,(function e(t){return/^is[A-Z]/.test(t)}));function Ee(e,t,r){if(!fe.isObject(e)){throw new TypeError("target must be an object")}t=t||new FormData;r=fe.toFlatObject(r,{metaTokens:true,dots:false,indexes:false},false,(function e(t,r){return!fe.isUndefined(r[t])}));const n=r.metaTokens;const i=r.visitor||l;const o=r.dots;const a=r.indexes;const s=r.Blob||typeof Blob!=="undefined"&&Blob;const u=s&&fe.isSpecCompliantForm(t);if(!fe.isFunction(i)){throw new TypeError("visitor must be a function")}function c(e){if(e===null)return"";if(fe.isDate(e)){return e.toISOString()}if(!u&&fe.isBlob(e)){throw new de("Blob is not supported. Use a Buffer instead.")}if(fe.isArrayBuffer(e)||fe.isTypedArray(e)){return u&&typeof Blob==="function"?new Blob([e]):Buffer.from(e)}return e}function l(e,r,i){let s=e;if(e&&!i&&typeof e==="object"){if(fe.endsWith(r,"{}")){r=n?r:r.slice(0,-2);e=JSON.stringify(e)}else if(fe.isArray(e)&&_e(e)||(fe.isFileList(e)||fe.endsWith(r,"[]"))&&(s=fe.toArray(e))){r=me(r);s.forEach((function e(n,i){!(fe.isUndefined(n)||n===null)&&t.append(a===true?ye([r],i,o):a===null?r:r+"[]",c(n))}));return false}}if(ge(e)){return true}t.append(ye(i,r,o),c(e));return false}const f=[];const d=Object.assign(be,{defaultVisitor:l,convertValue:c,isVisitable:ge});function h(e,r){if(fe.isUndefined(e))return;if(f.indexOf(e)!==-1){throw Error("Circular reference detected in "+r.join("."))}f.push(e);fe.forEach(e,(function e(n,o){const a=!(fe.isUndefined(n)||n===null)&&i.call(t,n,fe.isString(o)?o.trim():o,r,d);if(a===true){h(n,r?r.concat(o):[o])}}));f.pop()}if(!fe.isObject(e)){throw new TypeError("data must be an object")}h(e);return t}function Se(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function e(r){return t[r]}))}function we(e,t){this._pairs=[];e&&Ee(e,this,t)}const Te=we.prototype;Te.append=function e(t,r){this._pairs.push([t,r])};Te.toString=function e(t){const r=t?function(e){return t.call(this,e,Se)}:Se;return this._pairs.map((function e(t){return r(t[0])+"="+r(t[1])}),"").join("&")};function Ce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ae(e,t,r){if(!t){return e}const n=r&&r.encode||Ce;if(fe.isFunction(r)){r={serialize:r}}const i=r&&r.serialize;let o;if(i){o=i(t,r)}else{o=fe.isURLSearchParams(t)?t.toString():new we(t,r).toString(n)}if(o){const t=e.indexOf("#");if(t!==-1){e=e.slice(0,t)}e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Re{constructor(){this.handlers=[]}use(e,t,r){this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:false,runWhen:r?r.runWhen:null});return this.handlers.length-1}eject(e){if(this.handlers[e]){this.handlers[e]=null}}clear(){if(this.handlers){this.handlers=[]}}forEach(e){fe.forEach(this.handlers,(function t(r){if(r!==null){e(r)}}))}}var Ie=Re;var ke={silentJSONParsing:true,forcedJSONParsing:true,clarifyTimeoutError:false};var Oe=typeof URLSearchParams!=="undefined"?URLSearchParams:we;var Pe=typeof FormData!=="undefined"?FormData:null;var Me=typeof Blob!=="undefined"?Blob:null;var xe={isBrowser:true,classes:{URLSearchParams:Oe,FormData:Pe,Blob:Me},protocols:["http","https","file","blob","url","data"]};const Le=typeof window!=="undefined"&&typeof document!=="undefined";const De=typeof navigator==="object"&&navigator||undefined;const Ne=Le&&(!De||["ReactNative","NativeScript","NS"].indexOf(De.product)<0);const je=(()=>typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==="function")();const Ue=Le&&window.location.href||"http://localhost";var Be=Object.freeze({__proto__:null,hasBrowserEnv:Le,hasStandardBrowserWebWorkerEnv:je,hasStandardBrowserEnv:Ne,navigator:De,origin:Ue});var Fe={...Be,...xe};function He(e,t){return Ee(e,new Fe.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){if(Fe.isNode&&fe.isBuffer(e)){this.append(t,e.toString("base64"));return false}return n.defaultVisitor.apply(this,arguments)}},t))}function Ve(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map((e=>e[0]==="[]"?"":e[1]||e[0]))}function We(e){const t={};const r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++){o=r[n];t[o]=e[o]}return t}function ze(e){function t(e,r,n,i){let o=e[i++];if(o==="__proto__")return true;const a=Number.isFinite(+o);const s=i>=e.length;o=!o&&fe.isArray(n)?n.length:o;if(s){if(fe.hasOwnProp(n,o)){n[o]=[n[o],r]}else{n[o]=r}return!a}if(!n[o]||!fe.isObject(n[o])){n[o]=[]}const u=t(e,r,n[o],i);if(u&&fe.isArray(n[o])){n[o]=We(n[o])}return!a}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const r={};fe.forEachEntry(e,((e,n)=>{t(Ve(e),n,r,0)}));return r}return null}function Ge(e,t,r){if(fe.isString(e)){try{(t||JSON.parse)(e);return fe.trim(e)}catch(e){if(e.name!=="SyntaxError"){throw e}}}return(r||JSON.stringify)(e)}const Ye={transitional:ke,adapter:["xhr","http","fetch"],transformRequest:[function e(t,r){const n=r.getContentType()||"";const i=n.indexOf("application/json")>-1;const o=fe.isObject(t);if(o&&fe.isHTMLForm(t)){t=new FormData(t)}const a=fe.isFormData(t);if(a){return i?JSON.stringify(ze(t)):t}if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t)||fe.isReadableStream(t)){return t}if(fe.isArrayBufferView(t)){return t.buffer}if(fe.isURLSearchParams(t)){r.setContentType("application/x-www-form-urlencoded;charset=utf-8",false);return t.toString()}let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1){return He(t,this.formSerializer).toString()}if((s=fe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Ee(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}if(o||i){r.setContentType("application/json",false);return Ge(t)}return t}],transformResponse:[function e(t){const r=this.transitional||Ye.transitional;const n=r&&r.forcedJSONParsing;const i=this.responseType==="json";if(fe.isResponse(t)||fe.isReadableStream(t)){return t}if(t&&fe.isString(t)&&(n&&!this.responseType||i)){const n=r&&r.silentJSONParsing;const o=!n&&i;try{return JSON.parse(t)}catch(e){if(o){if(e.name==="SyntaxError"){throw de.from(e,de.ERR_BAD_RESPONSE,this,null,this.response)}throw e}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fe.classes.FormData,Blob:Fe.classes.Blob},validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":undefined}}};fe.forEach(["delete","get","head","post","put","patch"],(e=>{Ye.headers[e]={}}));var Ke=Ye;const qe=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var $e=e=>{const t={};let r;let n;let i;e&&e.split("\n").forEach((function e(o){i=o.indexOf(":");r=o.substring(0,i).trim().toLowerCase();n=o.substring(i+1).trim();if(!r||t[r]&&qe[r]){return}if(r==="set-cookie"){if(t[r]){t[r].push(n)}else{t[r]=[n]}}else{t[r]=t[r]?t[r]+", "+n:n}}));return t};const Je=Symbol("internals");function Ze(e){return e&&String(e).trim().toLowerCase()}function Xe(e){if(e===false||e==null){return e}return fe.isArray(e)?e.map(Xe):String(e)}function Qe(e){const t=Object.create(null);const r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;while(n=r.exec(e)){t[n[1]]=n[2]}return t}const et=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tt(e,t,r,n,i){if(fe.isFunction(n)){return n.call(this,t,r)}if(i){t=r}if(!fe.isString(t))return;if(fe.isString(n)){return t.indexOf(n)!==-1}if(fe.isRegExp(n)){return n.test(t)}}function rt(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}function nt(e,t){const r=fe.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:true})}))}class it{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=Ze(t);if(!i){throw new Error("header name must be a non-empty string")}const o=fe.findKey(n,i);if(!o||n[o]===undefined||r===true||r===undefined&&n[o]!==false){n[o||t]=Xe(e)}}const o=(e,t)=>fe.forEach(e,((e,r)=>i(e,r,t)));if(fe.isPlainObject(e)||e instanceof this.constructor){o(e,t)}else if(fe.isString(e)&&(e=e.trim())&&!et(e)){o($e(e),t)}else if(fe.isHeaders(e)){for(const[t,n]of e.entries()){i(n,t,r)}}else{e!=null&&i(t,e,r)}return this}get(e,t){e=Ze(e);if(e){const r=fe.findKey(this,e);if(r){const e=this[r];if(!t){return e}if(t===true){return Qe(e)}if(fe.isFunction(t)){return t.call(this,e,r)}if(fe.isRegExp(t)){return t.exec(e)}throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){e=Ze(e);if(e){const r=fe.findKey(this,e);return!!(r&&this[r]!==undefined&&(!t||tt(this,this[r],r,t)))}return false}delete(e,t){const r=this;let n=false;function i(e){e=Ze(e);if(e){const i=fe.findKey(r,e);if(i&&(!t||tt(r,r[i],i,t))){delete r[i];n=true}}}if(fe.isArray(e)){e.forEach(i)}else{i(e)}return n}clear(e){const t=Object.keys(this);let r=t.length;let n=false;while(r--){const i=t[r];if(!e||tt(this,this[i],i,e,true)){delete this[i];n=true}}return n}normalize(e){const t=this;const r={};fe.forEach(this,((n,i)=>{const o=fe.findKey(r,i);if(o){t[o]=Xe(n);delete t[i];return}const a=e?rt(i):String(i).trim();if(a!==i){delete t[i]}t[a]=Xe(n);r[a]=true}));return this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);fe.forEach(this,((r,n)=>{r!=null&&r!==false&&(t[n]=e&&fe.isArray(r)?r.join(", "):r)}));return t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);t.forEach((e=>r.set(e)));return r}static accessor(e){const t=this[Je]=this[Je]={accessors:{}};const r=t.accessors;const n=this.prototype;function i(e){const t=Ze(e);if(!r[t]){nt(n,e);r[t]=true}}fe.isArray(e)?e.forEach(i):i(e);return this}}it.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(it.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}));fe.freezeMethods(it);var ot=it;function at(e,t){const r=this||Ke;const n=t||r;const i=ot.from(n.headers);let o=n.data;fe.forEach(e,(function e(n){o=n.call(r,o,i.normalize(),t?t.status:undefined)}));i.normalize();return o}function st(e){return!!(e&&e.__CANCEL__)}function ut(e,t,r){de.call(this,e==null?"canceled":e,de.ERR_CANCELED,t,r);this.name="CanceledError"}fe.inherits(ut,de,{__CANCEL__:true});function ct(e,t,r){const n=r.config.validateStatus;if(!r.status||!n||n(r.status)){e(r)}else{t(new de("Request failed with status code "+r.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}}function lt(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ft(e,t){e=e||10;const r=new Array(e);const n=new Array(e);let i=0;let o=0;let a;t=t!==undefined?t:1e3;return function s(u){const c=Date.now();const l=n[o];if(!a){a=c}r[i]=u;n[i]=c;let f=o;let d=0;while(f!==i){d+=r[f++];f=f%e}i=(i+1)%e;if(i===o){o=(o+1)%e}if(c-a<t){return}const h=l&&c-l;return h?Math.round(d*1e3/h):undefined}}function dt(e,t){let r=0;let n=1e3/t;let i;let o;const a=(t,n=Date.now())=>{r=n;i=null;if(o){clearTimeout(o);o=null}e.apply(null,t)};const s=(...e)=>{const t=Date.now();const s=t-r;if(s>=n){a(e,t)}else{i=e;if(!o){o=setTimeout((()=>{o=null;a(i)}),n-s)}}};const u=()=>i&&a(i);return[s,u]}const ht=(e,t,r=3)=>{let n=0;const i=ft(50,250);return dt((r=>{const o=r.loaded;const a=r.lengthComputable?r.total:undefined;const s=o-n;const u=i(s);const c=o<=a;n=o;const l={loaded:o,total:a,progress:a?o/a:undefined,bytes:s,rate:u?u:undefined,estimated:u&&a&&c?(a-o)/u:undefined,event:r,lengthComputable:a!=null,[t?"download":"upload"]:true};e(l)}),r)};const pt=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]};const vt=e=>(...t)=>fe.asap((()=>e(...t)));var gt=Fe.hasStandardBrowserEnv?((e,t)=>r=>{r=new URL(r,Fe.origin);return e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)})(new URL(Fe.origin),Fe.navigator&&/(msie|trident)/i.test(Fe.navigator.userAgent)):()=>true;var mt=Fe.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const a=[e+"="+encodeURIComponent(t)];fe.isNumber(r)&&a.push("expires="+new Date(r).toGMTString());fe.isString(n)&&a.push("path="+n);fe.isString(i)&&a.push("domain="+i);o===true&&a.push("secure");document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yt(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _t(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bt(e,t){if(e&&!yt(t)){return _t(e,t)}return t}const Et=e=>e instanceof ot?{...e}:e;function St(e,t){t=t||{};const r={};function n(e,t,r,n){if(fe.isPlainObject(e)&&fe.isPlainObject(t)){return fe.merge.call({caseless:n},e,t)}else if(fe.isPlainObject(t)){return fe.merge({},t)}else if(fe.isArray(t)){return t.slice()}return t}function i(e,t,r,i){if(!fe.isUndefined(t)){return n(e,t,r,i)}else if(!fe.isUndefined(e)){return n(undefined,e,r,i)}}function o(e,t){if(!fe.isUndefined(t)){return n(undefined,t)}}function a(e,t){if(!fe.isUndefined(t)){return n(undefined,t)}else if(!fe.isUndefined(e)){return n(undefined,e)}}function s(r,i,o){if(o in t){return n(r,i)}else if(o in e){return n(undefined,r)}}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,r)=>i(Et(e),Et(t),r,true)};fe.forEach(Object.keys(Object.assign({},e,t)),(function n(o){const a=u[o]||i;const c=a(e[o],t[o],o);fe.isUndefined(c)&&a!==s||(r[o]=c)}));return r}var wt=e=>{const t=St({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:s}=t;t.headers=a=ot.from(a);t.url=Ae(bt(t.baseURL,t.url),e.params,e.paramsSerializer);if(s){a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")))}let u;if(fe.isFormData(r)){if(Fe.hasStandardBrowserEnv||Fe.hasStandardBrowserWebWorkerEnv){a.setContentType(undefined)}else if((u=a.getContentType())!==false){const[e,...t]=u?u.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}}if(Fe.hasStandardBrowserEnv){n&&fe.isFunction(n)&&(n=n(t));if(n||n!==false&&gt(t.url)){const e=i&&o&&mt.read(o);if(e){a.set(i,e)}}}return t};const Tt=typeof XMLHttpRequest!=="undefined";var Ct=Tt&&function(e){return new Promise((function t(r,n){const i=wt(e);let o=i.data;const a=ot.from(i.headers).normalize();let{responseType:s,onUploadProgress:u,onDownloadProgress:c}=i;let l;let f,d;let h,p;function v(){h&&h();p&&p();i.cancelToken&&i.cancelToken.unsubscribe(l);i.signal&&i.signal.removeEventListener("abort",l)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,true);g.timeout=i.timeout;function m(){if(!g){return}const t=ot.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());const i=!s||s==="text"||s==="json"?g.responseText:g.response;const o={data:i,status:g.status,statusText:g.statusText,headers:t,config:e,request:g};ct((function e(t){r(t);v()}),(function e(t){n(t);v()}),o);g=null}if("onloadend"in g){g.onloadend=m}else{g.onreadystatechange=function e(){if(!g||g.readyState!==4){return}if(g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)){return}setTimeout(m)}}g.onabort=function t(){if(!g){return}n(new de("Request aborted",de.ECONNABORTED,e,g));g=null};g.onerror=function t(){n(new de("Network Error",de.ERR_NETWORK,e,g));g=null};g.ontimeout=function t(){let r=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const o=i.transitional||ke;if(i.timeoutErrorMessage){r=i.timeoutErrorMessage}n(new de(r,o.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,e,g));g=null};o===undefined&&a.setContentType(null);if("setRequestHeader"in g){fe.forEach(a.toJSON(),(function e(t,r){g.setRequestHeader(r,t)}))}if(!fe.isUndefined(i.withCredentials)){g.withCredentials=!!i.withCredentials}if(s&&s!=="json"){g.responseType=i.responseType}if(c){[d,p]=ht(c,true);g.addEventListener("progress",d)}if(u&&g.upload){[f,h]=ht(u);g.upload.addEventListener("progress",f);g.upload.addEventListener("loadend",h)}if(i.cancelToken||i.signal){l=t=>{if(!g){return}n(!t||t.type?new ut(null,e,g):t);g.abort();g=null};i.cancelToken&&i.cancelToken.subscribe(l);if(i.signal){i.signal.aborted?l():i.signal.addEventListener("abort",l)}}const y=lt(i.url);if(y&&Fe.protocols.indexOf(y)===-1){n(new de("Unsupported protocol "+y+":",de.ERR_BAD_REQUEST,e));return}g.send(o||null)}))};const At=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r=new AbortController;let n;const i=function(e){if(!n){n=true;a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof de?t:new ut(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null;i(new de(`timeout ${t} of ms exceeded`,de.ETIMEDOUT))}),t);const a=()=>{if(e){o&&clearTimeout(o);o=null;e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}));e=null}};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;s.unsubscribe=()=>fe.asap(a);return s}};var Rt=At;const It=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0;let i;while(n<r){i=n+t;yield e.slice(n,i);n=i}};const kt=async function*(e,t){for await(const r of Ot(e)){yield*It(r,t)}};const Ot=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e){break}yield r}}finally{await t.cancel()}};const Pt=(e,t,r,n)=>{const i=kt(e,t);let o=0;let a;let s=e=>{if(!a){a=true;n&&n(e)}};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t){s();e.close();return}let a=n.byteLength;if(r){let e=o+=a;r(e)}e.enqueue(new Uint8Array(n))}catch(e){s(e);throw e}},cancel(e){s(e);return i.return()}},{highWaterMark:2})};const Mt=typeof fetch==="function"&&typeof Request==="function"&&typeof Response==="function";const xt=Mt&&typeof ReadableStream==="function";const Lt=Mt&&(typeof TextEncoder==="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer()));const Dt=(e,...t)=>{try{return!!e(...t)}catch(e){return false}};const Nt=xt&&Dt((()=>{let e=false;const t=new Request(Fe.origin,{body:new ReadableStream,method:"POST",get duplex(){e=true;return"half"}}).headers.has("Content-Type");return e&&!t}));const jt=64*1024;const Ut=xt&&Dt((()=>fe.isReadableStream(new Response("").body)));const Bt={stream:Ut&&(e=>e.body)};Mt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!Bt[t]&&(Bt[t]=fe.isFunction(e[t])?e=>e[t]():(e,r)=>{throw new de(`Response type '${t}' is not supported`,de.ERR_NOT_SUPPORT,r)})}))})(new Response);const Ft=async e=>{if(e==null){return 0}if(fe.isBlob(e)){return e.size}if(fe.isSpecCompliantForm(e)){const t=new Request(Fe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}if(fe.isArrayBufferView(e)||fe.isArrayBuffer(e)){return e.byteLength}if(fe.isURLSearchParams(e)){e=e+""}if(fe.isString(e)){return(await Lt(e)).byteLength}};const Ht=async(e,t)=>{const r=fe.toFiniteNumber(e.getContentLength());return r==null?Ft(t):r};var Vt=Mt&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:u,responseType:c,headers:l,withCredentials:f="same-origin",fetchOptions:d}=wt(e);c=c?(c+"").toLowerCase():"text";let h=Rt([i,o&&o.toAbortSignal()],a);let p;const v=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(u&&Nt&&r!=="get"&&r!=="head"&&(g=await Ht(l,n))!==0){let e=new Request(t,{method:"POST",body:n,duplex:"half"});let r;if(fe.isFormData(n)&&(r=e.headers.get("content-type"))){l.setContentType(r)}if(e.body){const[t,r]=pt(g,ht(vt(u)));n=Pt(e.body,jt,t,r)}}if(!fe.isString(f)){f=f?"include":"omit"}const i="credentials"in Request.prototype;p=new Request(t,{...d,signal:h,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:i?f:undefined});let o=await fetch(p);const a=Ut&&(c==="stream"||c==="response");if(Ut&&(s||a&&v)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=fe.toFiniteNumber(o.headers.get("content-length"));const[r,n]=s&&pt(t,ht(vt(s),true))||[];o=new Response(Pt(o.body,jt,r,(()=>{n&&n();v&&v()})),e)}c=c||"text";let m=await Bt[fe.findKey(Bt,c)||"text"](o,e);!a&&v&&v();return await new Promise(((t,r)=>{ct(t,r,{data:m,headers:ot.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})}))}catch(t){v&&v();if(t&&t.name==="TypeError"&&/fetch/i.test(t.message)){throw Object.assign(new de("Network Error",de.ERR_NETWORK,e,p),{cause:t.cause||t})}throw de.from(t,t&&t.code,e,p)}});const Wt={http:ve,xhr:Ct,fetch:Vt};fe.forEach(Wt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const zt=e=>`- ${e}`;const Gt=e=>fe.isFunction(e)||e===null||e===false;var Yt={getAdapter:e=>{e=fe.isArray(e)?e:[e];const{length:t}=e;let r;let n;const i={};for(let o=0;o<t;o++){r=e[o];let t;n=r;if(!Gt(r)){n=Wt[(t=String(r)).toLowerCase()];if(n===undefined){throw new de(`Unknown adapter '${t}'`)}}if(n){break}i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(t===false?"is not supported by the environment":"is not available in the build")));let r=t?e.length>1?"since :\n"+e.map(zt).join("\n"):" "+zt(e[0]):"as no adapter specified";throw new de(`There is no suitable adapter to dispatch the request `+r,"ERR_NOT_SUPPORT")}return n},adapters:Wt};function Kt(e){if(e.cancelToken){e.cancelToken.throwIfRequested()}if(e.signal&&e.signal.aborted){throw new ut(null,e)}}function qt(e){Kt(e);e.headers=ot.from(e.headers);e.data=at.call(e,e.transformRequest);if(["post","put","patch"].indexOf(e.method)!==-1){e.headers.setContentType("application/x-www-form-urlencoded",false)}const t=Yt.getAdapter(e.adapter||Ke.adapter);return t(e).then((function t(r){Kt(e);r.data=at.call(e,e.transformResponse,r);r.headers=ot.from(r.headers);return r}),(function t(r){if(!st(r)){Kt(e);if(r&&r.response){r.response.data=at.call(e,e.transformResponse,r.response);r.response.headers=ot.from(r.response.headers)}}return Promise.reject(r)}))}const $t="1.7.8";const Jt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Jt[e]=function r(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Zt={};Jt.transitional=function e(t,r,n){function i(e,t){return"[Axios v"+$t+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(e,n,o)=>{if(t===false){throw new de(i(n," has been removed"+(r?" in "+r:"")),de.ERR_DEPRECATED)}if(r&&!Zt[n]){Zt[n]=true;console.warn(i(n," has been deprecated since v"+r+" and will be removed in the near future"))}return t?t(e,n,o):true}};Jt.spelling=function e(t){return(e,r)=>{console.warn(`${r} is likely a misspelling of ${t}`);return true}};function Xt(e,t,r){if(typeof e!=="object"){throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE)}const n=Object.keys(e);let i=n.length;while(i-- >0){const o=n[i];const a=t[o];if(a){const t=e[o];const r=t===undefined||a(t,o,e);if(r!==true){throw new de("option "+o+" must be "+r,de.ERR_BAD_OPTION_VALUE)}continue}if(r!==true){throw new de("Unknown option "+o,de.ERR_BAD_OPTION)}}}var Qt={assertOptions:Xt,validators:Jt};const er=Qt.validators;class tr{constructor(e){this.defaults=e;this.interceptors={request:new Ie,response:new Ie}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{if(!e.stack){e.stack=r}else if(r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))){e.stack+="\n"+r}}catch(e){}}throw e}}_request(e,t){if(typeof e==="string"){t=t||{};t.url=e}else{t=e||{}}t=St(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;if(r!==undefined){Qt.assertOptions(r,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},false)}if(n!=null){if(fe.isFunction(n)){t.paramsSerializer={serialize:n}}else{Qt.assertOptions(n,{encode:er.function,serialize:er.function},true)}}Qt.assertOptions(t,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},true);t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&fe.merge(i.common,i[t.method]);i&&fe.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]}));t.headers=ot.concat(o,i);const a=[];let s=true;this.interceptors.request.forEach((function e(r){if(typeof r.runWhen==="function"&&r.runWhen(t)===false){return}s=s&&r.synchronous;a.unshift(r.fulfilled,r.rejected)}));const u=[];this.interceptors.response.forEach((function e(t){u.push(t.fulfilled,t.rejected)}));let c;let l=0;let f;if(!s){const e=[qt.bind(this),undefined];e.unshift.apply(e,a);e.push.apply(e,u);f=e.length;c=Promise.resolve(t);while(l<f){c=c.then(e[l++],e[l++])}return c}f=a.length;let d=t;l=0;while(l<f){const t=a[l++];const r=a[l++];try{d=t(d)}catch(e){r.call(this,e);break}}try{c=qt.call(this,d)}catch(e){return Promise.reject(e)}l=0;f=u.length;while(l<f){c=c.then(u[l++],u[l++])}return c}getUri(e){e=St(this.defaults,e);const t=bt(e.baseURL,e.url);return Ae(t,e.params,e.paramsSerializer)}}fe.forEach(["delete","get","head","options"],(function e(t){tr.prototype[t]=function(e,r){return this.request(St(r||{},{method:t,url:e,data:(r||{}).data}))}}));fe.forEach(["post","put","patch"],(function e(t){function r(e){return function r(n,i,o){return this.request(St(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}tr.prototype[t]=r();tr.prototype[t+"Form"]=r(true)}));var rr=tr;class nr{constructor(e){if(typeof e!=="function"){throw new TypeError("executor must be a function.")}let t;this.promise=new Promise((function e(r){t=r}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;while(t-- >0){r._listeners[t](e)}r._listeners=null}));this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e);t=e})).then(e);n.cancel=function e(){r.unsubscribe(t)};return n};e((function e(n,i,o){if(r.reason){return}r.reason=new ut(n,i,o);t(r.reason)}))}throwIfRequested(){if(this.reason){throw this.reason}}subscribe(e){if(this.reason){e(this.reason);return}if(this._listeners){this._listeners.push(e)}else{this._listeners=[e]}}unsubscribe(e){if(!this._listeners){return}const t=this._listeners.indexOf(e);if(t!==-1){this._listeners.splice(t,1)}}toAbortSignal(){const e=new AbortController;const t=t=>{e.abort(t)};this.subscribe(t);e.signal.unsubscribe=()=>this.unsubscribe(t);return e.signal}static source(){let e;const t=new nr((function t(r){e=r}));return{token:t,cancel:e}}}var ir=nr;function or(e){return function t(r){return e.apply(null,r)}}function ar(e){return fe.isObject(e)&&e.isAxiosError===true}const sr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sr).forEach((([e,t])=>{sr[t]=e}));var ur=sr;function cr(e){const t=new rr(e);const r=n(rr.prototype.request,t);fe.extend(r,rr.prototype,t,{allOwnKeys:true});fe.extend(r,t,null,{allOwnKeys:true});r.create=function t(r){return cr(St(e,r))};return r}const lr=cr(Ke);lr.Axios=rr;lr.CanceledError=ut;lr.CancelToken=ir;lr.isCancel=st;lr.VERSION=$t;lr.toFormData=Ee;lr.AxiosError=de;lr.Cancel=lr.CanceledError;lr.all=function e(t){return Promise.all(t)};lr.spread=or;lr.isAxiosError=ar;lr.mergeConfig=St;lr.AxiosHeaders=ot;lr.formToJSON=e=>ze(fe.isHTMLForm(e)?new FormData(e):e);lr.getAdapter=Yt.getAdapter;lr.HttpStatusCode=ur;lr.default=lr;e.exports=lr}};var t={};function r(n){var i=t[n];if(i!==undefined){return i.exports}var o=t[n]={exports:{}};e[n].call(o.exports,o,o.exports,r);return o.exports}(()=>{r.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();var n=r(317);return n})()))},99405:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(40386),r(67294),r(14274),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return t=d(t),c(e,f()?Reflect.construct(t,r||[],d(e).constructor):t.apply(e,r))}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let y=function(e){function t(e){var r;o(this,t);r=u(this,t,[e]);v(r,"destroy",false);v(r,"_btnOnClick",(e=>{(0,n.reactStopPropagation)(e);const{onClick:t,disabled:i,loading:o}=r.props;const{ing:a}=r.state;if(t&&!(i||o||a)){r.setState({ing:true},(()=>{const e=t();if(e&&e.then){e.then((()=>{r._setIng(false)}))}else{r._setIng(false)}}))}}));v(r,"_setIng",(e=>{if(r.destroy){return}r.setState({ing:e})}));r.state={ing:false};r.destroy=false;return r}h(t,e);return s(t,[{key:"componentWillUnmount",value:function e(){this.destroy=true}},{key:"render",value:function e(){const{type:t,color:r,size:n,title:o,disabled:a,children:s,loading:u,className:c,dataTestid:l,style:f,dataFunc:d}=this.props;let h="meta-button"+t+r+n+c;const{ing:p}=this.state;if(u){h+=" loading"}if(p||a){h+=" disabled"}return(0,i.jsx)("div",{className:h,onClick:this._btnOnClick,"data-function":d,title:o,"data-testid":l,style:f,children:(0,i.jsx)("div",{className:"btn-text ",children:s})})}}])}(r.Component);v(y,"defaultProps",{type:t.typeMap.FILL,color:t.colorMap.BLUE,size:t.sizeMap.NORMAL,title:"",className:"",loading:false,disabled:false});v(y,"typeMap",t.typeMap);v(y,"sizeMap",t.sizeMap);v(y,"colorMap",t.colorMap);var _=e.default=y}))},40386:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.typeMap=e.sizeMap=e.colorMap=void 0;const t=e.typeMap={STROKE:" stroke ",FILL:" fill "};const r=e.colorMap={BLUE:" blue ",WHITE:" white ",GRAY:" gray ",RED:" red ",GREEN:" green "};const n=e.sizeMap={NORMAL:" normal ",SMALL:" small ",LARGE:" large ",X_LANGE:" x-large "}}))},54725:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(40386),r(99405)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"colorMap",{enumerable:true,get:function(){return t.colorMap}});e.default=void 0;Object.defineProperty(e,"sizeMap",{enumerable:true,get:function(){return t.sizeMap}});Object.defineProperty(e,"typeMap",{enumerable:true,get:function(){return t.typeMap}});r=n(r);function n(e){return e&&e.__esModule?e:{default:e}}var i=e.default=r.default}))},85274:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(93967),r(64624),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;r=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,r){return t=h(t),l(e,d()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function l(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function g(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=y(e,"string");return"symbol"==typeof t?t:t+""}function y(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let _=function(e){function t(e){var r;a(this,t);r=c(this,t,[e]);g(r,"handleChange",(e=>{const{disabled:t,dataTestid:i,indeterminate:o,invalid:a}=r.props;(0,n.getPLogger)().info("Checkbox click",i,e.target.checked,{disabled:t,indeterminate:o,invalid:a});if(r.props.disabled){return}r.setState({active:e.target.checked});if(r.props.onChange){r.props.onChange(e)}}));r.state={active:r.props.defaultChecked};return r}p(t,e);return u(t,[{key:"render",value:function e(){const{children:t,disabled:n,dataTestid:o,checked:a,indeterminate:s,invalid:u,className:c}=this.props;let{active:l}=this.state;if(typeof a==="boolean"){l=a}const f=(0,r.default)("meta-checkbox",c,{active:l,disabled:n,indeterminate:s,invalid:u});return(0,i.jsxs)("label",{className:f,children:[(0,i.jsx)("input",{type:"checkbox",className:"meta-checkbox-input",checked:l,onChange:this.handleChange,"data-testid":o}),(0,i.jsx)("span",{className:"meta-checkbox-border",children:(0,i.jsx)("span",{className:"meta-checkbox-inner"})}),(0,i.jsx)("span",{className:"meta-checkbox-label",children:t})]})}}])}(t.Component);g(_,"defaultProps",{disabled:false,defaultChecked:false});var b=e.default=_}))},47796:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=r;function r(){return(0,t.jsxs)("defs",{children:[(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-1",children:(0,t.jsx)("path",{d:"M223,398.83a18.44,18.44,0,0,1-25.4.57,16.91,16.91,0,0,1-.6-24.51c12-12.1,115.85-104,315-278.61C523.51,86.16,542,94.06,542,109.11v1000c0,9.57-8,17.33-18,17.33s-18-7.76-18-17.33V148.3C328.72,303.93,233.43,388.29,223,398.83Zm-61.24-66.11a18.05,18.05,0,0,1-25.1.58,17.08,17.08,0,0,1-.59-24.53c16-16.44,176.27-157.71,320.23-282,68.74-59.37,177-11.67,177,78V1109.1a17.75,17.75,0,0,1-35.49,0V104.72c0-59.77-72.18-91.57-118-52C337.22,175.87,176.74,317.38,161.77,332.72ZM290.19,452.45a18,18,0,0,1-25.09.58,17.06,17.06,0,0,1-.6-24.52c6-6.15,113.31-101.66,161.77-143.89,11.44-10,29.56-2,29.56,12.95V1109.1a17.75,17.75,0,0,1-35.5,0V336.44C368.08,382.48,294.31,448.23,290.19,452.45Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-2",children:(0,t.jsx)("path",{d:"M704.79,1012a16.4,16.4,0,1,1,0,32.8H145.68a16.4,16.4,0,0,1-12.61-26.9Q519.68,553.79,578.25,484.06c121.81-145,51.3-311-96-356.47-78.39-24.21-173.49-10.47-232,29.95C173,210.93,130,285.29,120.69,381.85A16.4,16.4,0,0,1,88,378.69C98.3,272.6,146.35,189.49,231.61,130.56,298.48,84.35,404,69.11,491.93,96.26c168,51.89,249.74,244.24,111.44,408.89Q546.55,572.79,180.68,1012Zm0-82a16.4,16.4,0,1,1,0,32.79H320.69A16.4,16.4,0,0,1,308.09,936Q591.56,595.7,641,536.79c154.74-184.22,77.5-422-134.6-487.54C405.13,18,283.73,34.74,203.64,90.09,106.47,157.25,50.73,253.43,39.07,374A16.4,16.4,0,1,1,6.43,370.8C19,240.72,79.81,135.8,185,63.11c88.53-61.18,220.38-79.4,331.13-45.19,234.07,72.29,320.18,337.41,150,540Q618.83,614.23,355.7,930.05Zm0,164a16.4,16.4,0,1,1,0,32.8H145.68c-83.41,0-129-97.27-75.61-161.36Q457,500.95,515.47,431.32c76.46-91,44.53-193.9-57.42-225.38-53.32-16.47-122.6-7.6-161.18,19.06-57.3,39.6-87.55,92.15-94.57,164.74a16.4,16.4,0,1,1-32.64-3.16c7.93-82.1,43.23-143.41,108.57-188.56,47.11-32.56,126.84-42.77,189.5-23.42,124.13,38.34,164.57,168.63,72.85,277.81Q481.9,522.28,95.27,986.46C59.69,1029.19,90.07,1094,145.68,1094Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-3",children:(0,t.jsx)("path",{d:"M150.16,114.94a16.46,16.46,0,0,1,0-32.92H627.28C640.21,82,648,96.43,641,107.39L431.54,435.58C576.93,477.71,660.06,568,678.31,705c13.24,111-32.32,198-120.2,275.42-48.35,38.93-110.73,63-184.55,63-122.67,0-228.1-59.56-298.39-202.69a16.52,16.52,0,0,1,7.39-22.06,16.27,16.27,0,0,1,21.88,7.45C169,957.48,262.78,1010.48,373.56,1010.48c66.07,0,121.38-21.29,163.61-55.27,80-70.47,120.45-147.79,108.74-246C628.66,579.7,548.3,497.8,401.79,461.67a16.5,16.5,0,0,1-9.85-24.9L597.36,114.94ZM759.38,695.22c16.14,135.38-34.92,248-150.31,349.55-65,52.34-145.84,80.94-235.51,80.94C213,1125.71,83,1042.15,2,877.23a16.52,16.52,0,0,1,7.39-22.05,16.26,16.26,0,0,1,21.88,7.45c75.55,153.82,194.35,230.16,342.3,230.16,82.25,0,155.91-26.06,214.58-73.28C695.33,925.16,741.71,822.88,727,699.37c-17.37-130.47-86.65-225.74-203.8-281.78a16.51,16.51,0,0,1-6.73-23.77L682.22,134.11c28-43.82-3.24-101.47-54.94-101.47H150.16a16.47,16.47,0,0,1,0-32.93H627.28c77.54,0,124.36,86.49,82.4,152.22L553.77,396.19C670.93,458,741.34,559.73,759.38,695.22Zm-609.22-498a16.46,16.46,0,0,1,0-32.92H477.65c12.93,0,20.73,14.41,13.74,25.37L350.74,410.05c-24.28,38-4.17,88.84,39.4,99.59C516.86,540.89,582.8,606.46,597.39,716c9.05,76-21.15,139.19-93.05,202.52C470.47,945.67,425,961.1,373.56,961.1c-98.8,0-172.22-49-225.22-156.9a16.53,16.53,0,0,1,7.39-22.06,16.28,16.28,0,0,1,21.88,7.45c47.64,97,110,138.59,196,138.59,44.15,0,82.46-13,109.87-34.94C547.24,837,572.59,784,565,720.15c-12.66-95-68.27-150.33-182.61-178.53C317,525.5,286.86,449.28,323.27,392.24l124.46-195Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-4",children:(0,t.jsx)("path",{d:"M653.07,974.28h93c9.07,0,16.42,8.2,16.42,18.32s-7.35,18.32-16.42,18.32H685.92v97.2c0,10.12-7.35,18.32-16.42,18.32s-16.43-8.2-16.43-18.32ZM536.81,911.64H99.24c-11.67,0-20-12.44-16.5-24.68L331.44,13.77C334.29,3.76,344-1.82,353.1,1.31s14.19,13.8,11.33,23.81L122.77,873.64h414Zm208.42-38c9.55,0,17.29,8.51,17.29,19s-7.74,19-17.29,19H653.07v-38ZM612.8,19.45v1088c0,10.5-7.74,19-17.29,19s-17.28-8.5-17.28-19V911.64H578v-38h.22V19.45c0-10.5,7.74-19,17.28-19S612.8,9,612.8,19.45Zm-76,802.67H211.62c-11.35,0-19.44-12.53-16.05-24.85L410.68,16.69C413.46,6.61,422.9,1,431.76,4.16s13.79,13.89,11,24L234.51,783.87H503.18V19.57C503.18,9,510.71.44,520,.44S536.81,9,536.81,19.57Zm209.23,0h-93V19.57C653.07,9,660.45.44,669.56.44S686,9,686,19.57v764.3h60c9.1,0,16.48,8.56,16.48,19.12S755.14,822.12,746,822.12ZM501.87,1006.33H105.42c-70.74,0-121.17-74.82-100-148.41L247.74,13.8c2.89-10,12.69-15.62,21.9-12.48S284,15.14,281.09,25.18L38.73,869.3c-14.09,49.06,19.53,98.94,66.69,98.94H536.81V1107.4c0,10.52-7.82,19-17.47,19s-17.47-8.52-17.47-19Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-5",children:(0,t.jsx)("path",{d:"M328.4,451.14C408,451.14,478.92,463.09,527,486c131.05,62.37,193.15,237.43,130.61,375.77C598.09,993.47,474,1059.11,339.29,1040.94c-106.4-14.36-198-84.3-235.83-154.89-14.74-24-21.95-42.35-29.53-68.56A16.59,16.59,0,0,1,84.72,797a16,16,0,0,1,19.93,11.1c6.81,23.55,13,39.43,26.37,61.16,33.65,62.66,116.64,126.06,212.44,139,121.13,16.34,231.64-42.09,285.12-160.4,55-121.79-.07-277.18-115-331.88-43.23-20.58-109.87-31.8-185.17-31.8h-144c-9.61,0-17.06-8.64-15.92-18.47l43-368.18A16.2,16.2,0,0,1,227.32,83H643.83a16.51,16.51,0,0,1,0,33H241.53l-39.1,335.18Zm0-82.51c92.35,0,173.35,14.42,232.24,42.45C732.49,492.87,811.28,717.4,730.28,896.57c-73.51,162.62-230.08,249.3-401.4,226.18-125.75-17-242.49-97.89-296-197.63-13.67-25.47-25-51.49-32-78.08a16.55,16.55,0,0,1,11.24-20.26,16,16,0,0,1,19.68,11.58C38,862,48.35,885.79,60.89,909.15,109.49,999.66,217.33,1074.41,333,1090c157.57,21.26,300.63-57.94,368.18-207.39,73.54-162.67,1.66-367.5-154-441.6C493,415.27,416.47,401.63,328.4,401.63H274.7c-9.61,0-17.06-8.64-15.91-18.46L282.49,180a16.2,16.2,0,0,1,15.91-14.54H643.1a16.51,16.51,0,0,1,0,33H312.62L292.77,368.63ZM142.52,782.48a16.62,16.62,0,0,1,9.95-21,15.93,15.93,0,0,1,20.36,10.26,230.49,230.49,0,0,0,12.55,31c1.67,3.33,3.39,6.49,5.28,9.71s3.68,6.1,6.46,10.44l3.39,5.29c29.73,46.48,92,89.9,153.36,98.19,88.65,12,164.28-29.83,202.06-113.4,36.12-79.92-.82-186.41-76-222.18-31.45-15-87.62-24.18-151.55-24.18h-144c-57.66,0-102.35-51.87-95.48-110.81l43-368.19C137.65,37.89,178.64.44,227.32.44H643.1a16.27,16.27,0,0,1,16,16.5,16.27,16.27,0,0,1-16,16.51H227.32c-32.45,0-59.78,25-63.65,58.13L120.72,459.77c-4.59,39.29,25.21,73.88,63.65,73.88h144c68.16,0,128.63,9.91,165,27.22,91.36,43.49,135.15,169.7,91.59,266.06C541.25,923.69,452.1,973,349.7,959.13c-71.06-9.59-141.32-58.61-176-112.76l-3.38-5.27c-3-4.68-5.05-8-7.15-11.57-2.24-3.82-4.3-7.6-6.3-11.58A261.77,261.77,0,0,1,142.52,782.48Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-6",children:(0,t.jsx)("path",{d:"M381.31,573.27a15.66,15.66,0,0,1,0,31.31q-9,0-17.9.71a15.66,15.66,0,1,1-2.48-31.22Q371.06,573.27,381.31,573.27ZM171.44,701.5a15.57,15.57,0,0,1,1.51-4C288.32,485.42,553.31-2.65,547.19,8.61A15.66,15.66,0,0,1,574.6,23.75c8.71-16-257.86,475-373.9,688.27a15.53,15.53,0,0,1-.84,2.58,145.75,145.75,0,0,0-11.66,57c0,91.11,85.71,167,193.11,167s193.11-75.88,193.11-167-85.72-167-193.11-167a15.66,15.66,0,1,1,0-31.31c123.9,0,224.42,89,224.42,198.31s-100.52,198.3-224.42,198.3-224.43-89-224.43-198.3A177,177,0,0,1,171,702.41C171.15,702.1,171.29,701.79,171.44,701.5Zm-134.79-81L369.38,8.64a15.65,15.65,0,1,1,27.51,15Q337.54,132.76,63.45,636.73a14.75,14.75,0,0,1-1.05,1.67A302.33,302.33,0,0,0,31.62,771.58c0,179,156.67,323.55,349.69,323.55S731,950.62,731,771.58C731,616,612,483.8,449.19,454.13l-1.64-.28A15.66,15.66,0,0,1,452.68,423l2.13.37c177.2,32.29,307.5,177,307.5,348.25,0,196.92-171.23,354.86-381,354.86S.31,968.5.31,771.58A333.56,333.56,0,0,1,35.07,623,14.94,14.94,0,0,1,36.65,620.48Zm95.19,54.36c0,.09-.08.18-.13.27a224.34,224.34,0,0,0-21.8,96.47c0,135.11,121.19,245.27,271.4,245.27S652.7,906.69,652.7,771.58C652.7,645,545.8,539,406.63,527.36l-2-.15A15.65,15.65,0,1,1,406.88,496l2.36.17C564.05,509.1,684,628,684,771.58c0,153.1-135.84,276.58-302.71,276.58S78.59,924.68,78.59,771.58a255.43,255.43,0,0,1,23.65-107.36l.16-.63c1.08-2.22,1.08-2.22,2.32-4.49,4.26-7.86,4.26-7.86,12.72-23.43q19-35,63.21-116.32Q269,356.72,458.25,8.8l27.51,15Q138.07,663.44,132.12,674.32Zm-28-13.87c-.46.73-.46.73-.5.81l.22-.41,1.14-2.07q6-11.07,353.6-650.5c10-18.34,37.48-3.38,27.51,15Q296.57,371.67,208.16,534.3,164,615.62,145,650.61L132.26,674l-.31.57A15.65,15.65,0,0,0,103.79,661Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-7",children:(0,t.jsx)("path",{d:"M17,117.79a16.76,16.76,0,1,1,0-33.52H660.78a16.77,16.77,0,0,1,15.38,23.64L235,1116.55A16.91,16.91,0,0,1,212.7,1125a16.73,16.73,0,0,1-8.46-22.17l430.45-985Zm0,83.83a16.77,16.77,0,1,1,0-33.53H554.31L142.39,1115.74a16.91,16.91,0,0,1-22.29,8.44,16.73,16.73,0,0,1-8.49-22.16l390.61-900.4ZM17,34A16.77,16.77,0,1,1,17,.44H660.78c74.07,0,123,76.49,91.83,142.86C560.82,574.76,430,898.37,329.12,1114.17a16.92,16.92,0,0,1-22.41,8.14,16.73,16.73,0,0,1-8.19-22.27C399.32,884.47,530,561,721.9,129.43,742.81,85,710.16,34,660.78,34Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-8",children:(0,t.jsx)("path",{d:"M151.37,489.51a14.29,14.29,0,0,1,1.68-1.28,403,403,0,0,1,88-43.84c27.64-9.72,76.57-18.62,148.57-27.1,78.57-3.46,138.9-55.68,138.9-114.5,0-61.19-65-114.68-147.32-114.68S233.86,241.6,233.86,302.79c0,16.52,4.81,32.91,14,48.11A15.88,15.88,0,0,1,243,372.45a15,15,0,0,1-21-5c-12.15-20-18.63-42.12-18.63-64.64,0-80.17,79.91-146,177.8-146S559,222.62,559,302.79c0,77.21-74.43,141.63-167,145.67C323.15,456.6,275.89,465.2,250.9,474a374,374,0,0,0-81.42,40.59,14.77,14.77,0,0,1-2.44,1.31q-.56.48-1.17.93C81,577.62,30.66,670.52,30.66,772c0,179,157,323.2,350.52,323.2S731.7,951,731.7,772c0-71.43-24.84-138.86-70.18-194.32-1.6-1.94-1.6-1.94-3.21-3.87a15.92,15.92,0,0,1,1.55-22.06,15,15,0,0,1,21.49,1.59c1.77,2.11,1.77,2.11,3.52,4.24,49.86,61,77.31,135.49,77.31,214.42,0,197.13-171.36,354.48-381,354.48S.18,969.09.18,772c0-112,55.47-214.31,148.23-280.8A15.75,15.75,0,0,1,151.37,489.51ZM381.18,527c-151.91,0-274.32,110.19-274.32,245s122.41,245,274.32,245S655.5,906.79,655.5,772c0-55.21-20.51-107.67-57.81-150.42a15.91,15.91,0,0,1,1.19-22.08,15,15,0,0,1,21.52,1.22C662.58,649,686,708.86,686,772c0,153.08-136.87,276.29-304.8,276.29S76.38,925,76.38,772s136.88-276.29,304.8-276.29A253.1,253.1,0,0,0,469.55,480c81.6-30.38,135.15-99.82,135.15-177.2,0-105.91-99.58-192.88-223.52-192.88s-223.52,87-223.52,192.88a169.93,169.93,0,0,0,19.42,78.7,15.83,15.83,0,0,1-6.28,21.15,15,15,0,0,1-20.61-6.44,201.74,201.74,0,0,1-23-93.41c0-124.4,114.22-224.15,254-224.15s254,99.75,254,224.15c0,91.32-62.19,172-155.24,206.6A282.88,282.88,0,0,1,381.18,527Zm4,77.65a14.64,14.64,0,0,1-4,.55c-110.3,0-198.12,76.29-198.12,166.81s87.82,166.82,198.12,166.82S579.3,862.48,579.3,772c0-39.54-16.95-77.69-47.44-107.92a15.92,15.92,0,0,1-.37-22.11,15,15,0,0,1,21.55-.38c36.24,35.93,56.74,82.07,56.74,130.41,0,109-102.48,198.09-228.6,198.09S152.58,881,152.58,772C152.58,664,253,575.72,377.26,573.9c.41-.07.82-.12,1.24-.15,97.35-7.35,136.89-21.22,217.77-81.69a15.43,15.43,0,0,1,1.46-1.57c53.15-50,83.17-116.28,83.17-187.7,0-150.44-134.22-271.07-299.72-271.07S81.46,152.35,81.46,302.79a249.3,249.3,0,0,0,29,116.89,15.84,15.84,0,0,1-6.15,21.19,15,15,0,0,1-20.66-6.32A281.22,281.22,0,0,1,51,302.79C51,134.09,199.69.44,381.18.44s330.2,133.65,330.2,302.35c0,80-33.39,154.15-92,209.81A15.76,15.76,0,0,1,616,516C530.42,580.23,485.59,596.66,385.18,604.6Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-9",children:(0,t.jsx)("path",{d:"M381.11,553.61a15.66,15.66,0,0,1,0-31.31q9,0,17.9-.7a15.65,15.65,0,1,1,2.48,31.21Q391.38,553.62,381.11,553.61ZM591,425.39a15.71,15.71,0,0,1-1.51,4c-115.36,212.07-380.36,700.14-374.24,688.89a15.66,15.66,0,0,1-27.41-15.15c-8.71,16,257.86-475,373.9-688.26a15.63,15.63,0,0,1,.84-2.59,145.74,145.74,0,0,0,11.66-57c0-91.11-85.71-167-193.11-167S188,264.2,188,355.31s85.72,167,193.11,167a15.66,15.66,0,1,1,0,31.31c-123.9,0-224.42-89-224.42-198.3S257.21,157,381.11,157s224.43,89,224.43,198.31a177,177,0,0,1-14.14,69.17C591.27,424.79,591.13,425.09,591,425.39Zm134.79,81L393,1118.25a15.66,15.66,0,0,1-27.51-15Q424.9,994.12,699,490.15a16.77,16.77,0,0,1,1-1.67A302.26,302.26,0,0,0,730.8,355.31c0-179-156.67-323.56-349.69-323.56S31.43,176.26,31.43,355.31c0,155.62,119,287.77,281.8,317.45l1.64.27a15.66,15.66,0,1,1-5.13,30.89l-2.13-.36C130.41,671.26.11,526.58.11,355.31.11,158.38,171.34.44,381.11.44s381,157.94,381,354.87a333.59,333.59,0,0,1-34.76,148.55A15.34,15.34,0,0,1,725.77,506.41ZM630.58,452l.13-.27a224.18,224.18,0,0,0,21.8-96.46C652.51,220.2,531.32,110,381.11,110S109.72,220.2,109.72,355.31c0,126.62,106.9,232.58,246.07,244.22l2,.14a15.66,15.66,0,0,1-2.21,31.24l-2.36-.18C198.37,617.79,78.4,498.87,78.4,355.31,78.4,202.2,214.25,78.72,381.11,78.72S683.83,202.2,683.83,355.31a255.39,255.39,0,0,1-23.65,107.35l-.16.64c-1.08,2.21-1.08,2.21-2.32,4.48-4.26,7.87-4.26,7.87-12.71,23.44L581.78,607.54q-88.41,162.63-277.61,510.55l-27.51-15Q624.35,463.44,630.3,452.56Zm28,13.88.5-.81-.22.4-1.14,2.08q-6,11.06-353.59,650.49c-10,18.34-37.49,3.39-27.52-14.95q189.2-347.91,277.6-510.55,44.21-81.32,63.21-116.3c8.45-15.57,8.45-15.57,12.69-23.4l.31-.58a15.66,15.66,0,0,0,28.16,13.62Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-0",children:(0,t.jsx)("path",{d:"M381.48,81.87c167.19,0,302.72,141,302.72,314.84V730.17C684.2,904.06,548.67,1045,381.48,1045S78.77,904.06,78.77,730.17V396.71C78.77,222.83,214.3,81.87,381.48,81.87Zm0,32.57c-149.89,0-271.39,126.38-271.39,282.27V730.17c0,155.9,121.5,282.28,271.39,282.28s271.4-126.38,271.4-282.28V396.71C652.88,240.82,531.37,114.44,381.48,114.44Zm0-114c210.42,0,381,177.42,381,396.27V730.17c0,218.86-170.58,396.27-381,396.27S.48,949,.48,730.17V396.71C.48,177.86,171.06.44,381.48.44Zm0,32.57C188.36,33,31.8,195.85,31.8,396.71V730.17c0,200.87,156.56,363.7,349.68,363.7S731.17,931,731.17,730.17V396.71C731.17,195.85,574.61,33,381.48,33Zm0,162.85c-106.65,0-193.11,89.93-193.11,200.85V730.17C188.37,841.1,274.83,931,381.48,931S574.59,841.1,574.59,730.17V396.71C574.59,285.79,488.13,195.86,381.48,195.86Zm0-32.57c124,0,224.43,104.51,224.43,233.42V730.17c0,128.92-100.48,233.42-224.43,233.42S157.06,859.09,157.06,730.17V396.71C157.06,267.8,257.54,163.29,381.48,163.29Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-*",children:(0,t.jsx)("path",{d:"M523.43,265.62a12.24,12.24,0,0,1-12.24-21.21L675.5,149.5a12.24,12.24,0,0,1,12.24,21.21ZM689.89,653a12.24,12.24,0,0,1-12.24,21.21L511.16,578a12.24,12.24,0,0,1,12.24-21.21ZM85.67,672.27a12.24,12.24,0,0,1-12.24-21.21l173.08-100a12.24,12.24,0,0,1,12.24,21.21ZM260.1,250.93a12.24,12.24,0,0,1-12.24,21.21L75.4,172.53a12.24,12.24,0,0,1,12.24-21.21ZM246,475.7a12.24,12.24,0,0,1,12.24,21.21L42.7,621.38a12.24,12.24,0,0,1-12.24-21.21ZM721.53,201a12.24,12.24,0,0,1,12.24,21.21L522.08,344.49a12.24,12.24,0,0,1-12.24-21.21ZM512.8,500.88A12.24,12.24,0,0,1,525,479.67L733.77,600.24a12.24,12.24,0,0,1-12.24,21.21ZM30.46,222.28A12.24,12.24,0,0,1,42.7,201.07L258.64,325.8A12.24,12.24,0,0,1,246.4,347ZM437.89,23.82a12.24,12.24,0,1,1,24.48,0V791.93a12.24,12.24,0,1,1-24.48,0Zm-133.53-.59a12.24,12.24,0,1,1,24.48,0V795.17a12.24,12.24,0,1,1-24.48,0Zm91.25,791a12.24,12.24,0,0,1-24.48,0V12.69a12.24,12.24,0,1,1,24.48,0ZM504.83,404.93a12.15,12.15,0,0,1,5.25-6.08l232.07-134A12.24,12.24,0,0,1,754.39,286L537.62,411.23,756.36,537.57a12.24,12.24,0,0,1-12.24,21.21l-235.52-136A12.26,12.26,0,0,1,504.12,406,12,12,0,0,1,504.83,404.93ZM251.34,422.59a12.74,12.74,0,0,1-1.63,1.13L18.84,557.07A12.24,12.24,0,0,1,6.6,535.86L222.38,411.23,8.76,287.84A12.24,12.24,0,0,1,21,266.63l232,134a12.24,12.24,0,0,1-1.61,22Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-#",children:(0,t.jsx)("path",{d:"M361.88,237.37a14,14,0,0,1,0-27.9h93.78c7.39,0,13.39,6.24,13.39,13.95s-6,14-13.39,14Zm7.21-66.31a14,14,0,0,1,0-27.9h93.82c7.39,0,13.39,6.24,13.39,14s-6,13.95-13.39,13.95Zm79.48,102.86A13.67,13.67,0,0,1,462,287.87c0,7.7-6,13.95-13.39,13.95H355.22c-7.4,0-13.39-6.25-13.39-13.95a13.67,13.67,0,0,1,13.39-13.95Zm-129.17,346a14,14,0,0,1,0-27.9h94.16C421,592,427,598.28,427,606s-6,14-13.39,14Zm7.7-67c-7.39,0-13.39-6.25-13.39-14s6-14,13.39-14h93.95c7.39,0,13.39,6.25,13.39,14s-6,14-13.39,14Zm79.39,104.18c7.4,0,13.39,6.25,13.39,14s-6,14-13.39,14H312.67c-7.39,0-13.39-6.25-13.39-14s6-14,13.39-14ZM510,814.23a13.59,13.59,0,0,1-15,12.12,13.74,13.74,0,0,1-11.89-15.28L573.25,12.66a13.6,13.6,0,0,1,15-12.13,13.75,13.75,0,0,1,11.89,15.28Zm-58.43,0a13.59,13.59,0,0,1-15,12.12,13.74,13.74,0,0,1-11.89-15.28L514.82,12.66A13.59,13.59,0,0,1,529.8.53a13.73,13.73,0,0,1,11.89,15.28Zm-259.92,0a13.53,13.53,0,1,1-26.88-3.16L254.9,12.66a13.59,13.59,0,0,1,15-12.13,13.75,13.75,0,0,1,11.89,15.28ZM320.76,12.66a13.6,13.6,0,0,1,15-12.13,13.75,13.75,0,0,1,11.89,15.28L257.46,814.23a13.59,13.59,0,0,1-15,12.12,13.73,13.73,0,0,1-11.89-15.28Zm-154,196.81,4.34-38.41H13.35C6,171.06,0,164.82,0,157.11s6-14,13.39-14H174.29L189,12.66A13.59,13.59,0,0,1,204,.53,13.74,13.74,0,0,1,215.9,15.81L125.73,814.23a13.53,13.53,0,1,1-26.88-3.16l14.31-126.68H13.35C6,684.39,0,678.14,0,670.44s6-14,13.39-14h103l4.13-36.55H13.35C6,619.94,0,613.7,0,606s6-14,13.39-14H123.59L128,553H13.35C6,553,0,546.72,0,539s6-14,13.39-14H131.16l25.21-223.24h-143C6,301.82,0,295.57,0,287.87s6-13.95,13.39-13.95H159.52l4.13-36.55H13.35C6,237.37,0,231.13,0,223.42s6-13.95,13.39-13.95Zm466.72,27.9-4.12,36.55H744.05c7.39,0,13.39,6.24,13.39,13.95s-6,13.95-13.39,13.95H626.24L601,525.06h143c7.39,0,13.39,6.25,13.39,14s-6,14-13.39,14H598.75l-.87,0-4.55,40.29a12.82,12.82,0,0,1,5.42-1.19h145.3c7.39,0,13.39,6.24,13.39,14s-6,14-13.39,14H598.75a13,13,0,0,1-8.11-2.85l-4.45,39.4H748.57a13.67,13.67,0,0,1,13.39,14c0,7.7-6,13.95-13.39,13.95H584.2c-.39,0-.78,0-1.16,0L568.37,814.23a13.59,13.59,0,0,1-15,12.12,13.73,13.73,0,0,1-11.89-15.28L631.67,12.66a13.59,13.59,0,0,1,15-12.13,13.75,13.75,0,0,1,11.89,15.28L644.16,143.16h99.89c7.39,0,13.39,6.24,13.39,14s-6,13.95-13.39,13.95H641l-4.34,38.41H744.05c7.39,0,13.39,6.24,13.39,13.95s-6,14-13.39,14Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-A",children:(0,t.jsx)("path",{d:"M381.91,201.78,95.39,822c-2.63,5.7-9,8-14.18,5.1s-7.28-9.83-4.65-15.53L372.49,171c3.91-8.45,14.93-8.45,18.83,0L687.26,811.6c2.63,5.7.55,12.65-4.65,15.53s-11.55.6-14.18-5.1ZM20.43,822c-2.63,5.7-9,8-14.17,5.1S-1,817.3,1.61,811.6L372.5,8.71c3.9-8.45,14.92-8.45,18.83,0l370,801c2.63,5.69.55,12.64-4.65,15.52s-11.55.6-14.18-5.09L381.91,39.52ZM253,643.13H452.82c5.83,0,10.55,5.17,10.55,11.55s-4.72,11.55-10.55,11.55H242.31l-72,155.8c-2.63,5.7-9,8-14.18,5.1s-7.28-9.83-4.65-15.53l221-478.37c3.9-8.45,14.92-8.45,18.83,0l221,478.37c2.63,5.7.54,12.65-4.65,15.53s-11.55.6-14.18-5.1L381.9,364Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-B",children:(0,t.jsx)("path",{d:"M258,754.35v8.79h218.1C583.34,763.14,670,681.56,670,581.32S583.34,399.48,476.1,399.48L258,399.64Zm-22.5-354.69-58.49,0V763.14h58.49V399.66Zm146.43-22.78c104.21,0,188.41-79.24,188.41-176.63S486.12,23.61,381.92,23.61H258V376.88ZM73,12.32A11.27,11.27,0,0,1,84.25,1H381.92c116.32,0,210.9,89,210.9,199.22,0,76.87-46,143.43-113.32,176.66,117.79,1.72,213,92.41,213,204.41,0,113-97,204.4-216.41,204.4H84.28A11.27,11.27,0,0,1,73,774.43C73,770,73,14.35,73,12.32Zm81.5,11.29H96V763.14h58.5V23.61Zm76.91,353.27h4.08V23.61H177v353.5l52.33,0A11,11,0,0,1,231.41,376.88Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-C",children:(0,t.jsx)("path",{d:"M609.87,531.46c3.24-5.86,10.25-7.76,15.65-4.24s7.15,11.12,3.91,17c-45.11,81.54-129.14,132.89-221.78,132.89-140.79,0-255.17-117.62-255.17-263.06S266.86,151,407.65,151c68.46,0,132.68,27.93,180.21,76.82a263.58,263.58,0,0,1,41.57,56.09c3.24,5.86,1.49,13.46-3.91,17s-12.41,1.62-15.65-4.25a239.26,239.26,0,0,0-37.71-50.86c-43.3-44.53-101.91-70-164.51-70C279.19,175.7,175.29,282.56,175.29,414s103.9,238.31,232.36,238.31C492.29,652.34,568.89,605.52,609.87,531.46ZM675.39,570c3.3-5.82,10.32-7.64,15.69-4.06s7,11.2,3.74,17C636,686.85,527.33,752.15,407.65,752.15,224.76,752.15,76.2,600.94,76.2,414S224.76,75.89,407.65,75.89c119.8,0,228.5,65.41,287.32,169.46,3.29,5.83,1.61,13.45-3.76,17s-12.4,1.74-15.69-4.08c-54.65-96.68-156-157.65-267.87-157.65C237,100.65,99,241.14,99,414S237,727.39,407.65,727.39C519.44,727.39,620.71,666.53,675.39,570ZM741,607.85c3.33-5.81,10.36-7.59,15.71-4s7,11.23,3.68,17C688,747.51,554.59,827,407.65,827,182.76,827,.13,642.31.13,414S182.76,1,407.65,1C554.59,1,688,80.54,760.42,207.14c3.32,5.81,1.67,13.44-3.68,17s-12.38,1.83-15.71-4C672.78,100.92,546.74,25.78,407.65,25.78,195,25.78,23,199.81,23,414S195,802.27,407.65,802.27C546.74,802.27,672.78,727.13,741,607.85Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-D",children:(0,t.jsx)("path",{d:"M341.69,664.46H182.91A11.44,11.44,0,0,1,171.47,653V175a11.44,11.44,0,0,1,11.44-11.44H341.69C480,163.59,592.05,275.71,592.05,414S480,664.46,341.69,664.46Zm0-22.88c125.64,0,227.48-101.87,227.48-227.54S467.33,186.47,341.69,186.47H194.35V641.58Zm0,103H102.77a11.44,11.44,0,0,1-11.44-11.44V94.89a11.44,11.44,0,0,1,11.44-11.44H341.71c182.54,0,330.5,148,330.5,330.58S524.25,744.6,341.71,744.6Zm-227.5-22.88h227.5C511.61,721.72,649.33,584,649.33,414s-137.72-307.7-307.62-307.7H114.21ZM340.56,827H21.5a11.44,11.44,0,0,1-11.43-11.44V12.47A11.44,11.44,0,0,1,21.5,1H340.56C568.61,1,753.47,185.92,753.47,414S568.61,827,340.56,827ZM32.94,804.14H340.56c215.42,0,390-174.65,390-390.13S556,23.91,340.56,23.91H32.94Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-E",children:(0,t.jsx)("path",{d:"M338.2,502.73a11.79,11.79,0,0,1,0-23.55H618a11.79,11.79,0,0,1,0,23.55Zm0-84.79a11.79,11.79,0,0,1,0-23.56H618a11.79,11.79,0,0,1,0,23.56Zm0-84.8a11.79,11.79,0,0,1,0-23.55H618a11.79,11.79,0,0,1,0,23.55Zm-69.73,309H659.62a11.79,11.79,0,0,1,0,23.55H257.19a11.54,11.54,0,0,1-11.28-11.78V174.15a11.53,11.53,0,0,1,11.28-11.77H659.62a11.79,11.79,0,0,1,0,23.55H268.47Zm-75.82,80.66h467a11.79,11.79,0,0,1,0,23.56H181.37a11.54,11.54,0,0,1-11.28-11.78V93.48a11.53,11.53,0,0,1,11.28-11.77H659.62a11.79,11.79,0,0,1,0,23.55h-467Zm-77.39,80.68H659.62a11.79,11.79,0,0,1,0,23.55H104A11.53,11.53,0,0,1,92.7,815.25V12.8A11.53,11.53,0,0,1,104,1H659.62A11.53,11.53,0,0,1,670.9,12.8a11.54,11.54,0,0,1-11.28,11.78H115.26Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-F",children:(0,t.jsx)("path",{d:"M336.54,502.73a11.79,11.79,0,0,1,0-23.55H616.38a11.79,11.79,0,0,1,0,23.55Zm0-84.79a11.79,11.79,0,0,1,0-23.56H616.38a11.79,11.79,0,0,1,0,23.56Zm0-84.8a11.79,11.79,0,0,1,0-23.55H616.38a11.79,11.79,0,0,1,0,23.55Zm-69.8-154.07V815.59a11.26,11.26,0,1,1-22.52,0V167.64a11.34,11.34,0,0,1,11.26-11.43H658a11.43,11.43,0,0,1,0,22.86Zm-75.81-77.59V815.59a11.26,11.26,0,1,1-22.52,0V90.05a11.34,11.34,0,0,1,11.26-11.43H658a11.43,11.43,0,0,1,0,22.86ZM113.56,23.89v791.7a11.27,11.27,0,1,1-22.53,0V12.46A11.35,11.35,0,0,1,102.29,1H658a11.34,11.34,0,0,1,11.26,11.43A11.35,11.35,0,0,1,658,23.89Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-G",children:(0,t.jsx)("path",{d:"M602.45,449.37H460.36a11.47,11.47,0,0,1,0-22.94H741.69a11.46,11.46,0,0,1,11.47,11.47V614.84l-1.44,5.57C681.19,747.2,551,827,407.3,827,187.64,827,9.77,642,9.77,414S187.64,1,407.3,1C551,1,681.19,80.85,751.72,207.64a11.48,11.48,0,0,1-20.06,11.15C665.11,99.15,542.46,24,407.3,24,200.53,24,32.72,198.5,32.72,414S200.53,804.08,407.3,804.08c134.19,0,256-74.1,322.91-192.24V449.37h-41V576.85l-1.42,5.53C630.48,686.42,524.39,752,407.3,752,228.56,752,83.87,600.57,83.87,414s144.69-338,323.43-338c117.19,0,223.37,65.68,280.64,169.86A11.47,11.47,0,0,1,667.83,257C614.5,160,515.94,99,407.3,99,241.48,99,106.82,239.93,106.82,414S241.47,729,407.3,729c107.59,0,205.29-59.8,259-155.17V449.37H625.4v88.74L624,543.54c-43.9,81.62-126,133.22-216.74,133.22-137.69,0-249-117.77-249-262.73S269.6,151.28,407.29,151.28c67.09,0,129.93,28.12,176.32,77.18a261.36,261.36,0,0,1,40.42,56,11.47,11.47,0,0,1-20.21,10.86,238.56,238.56,0,0,0-36.88-51.14c-42.14-44.57-99-70-159.65-70-124.72,0-226.1,107.22-226.1,239.8s101.38,239.79,226.1,239.79c81.15,0,154.85-45.75,195.16-118.64Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-H",children:(0,t.jsx)("path",{d:"M297.63,470.91a11.75,11.75,0,1,1,0-23.5H467.27a11.75,11.75,0,1,1,0,23.5Zm0-75.19a11.75,11.75,0,1,1,0-23.49H467.27a11.75,11.75,0,1,1,0,23.49Zm0-75.18a11.75,11.75,0,1,1,0-23.49H467.27a11.75,11.75,0,1,1,0,23.49ZM733.5,774a11.78,11.78,0,0,1-23.56,0V12.77a11.78,11.78,0,0,1,23.56,0Zm-84.82,0a11.78,11.78,0,0,1-23.56,0V12.77a11.78,11.78,0,0,1,23.56,0Zm-84.82,0a11.78,11.78,0,0,1-23.56,0V12.77a11.78,11.78,0,0,1,23.56,0ZM224.6,774A11.79,11.79,0,0,1,201,774V12.77a11.79,11.79,0,0,1,23.57,0Zm-84.82,0a11.78,11.78,0,0,1-23.56,0V12.77a11.78,11.78,0,0,1,23.56,0ZM55,774a11.78,11.78,0,0,1-23.56,0V12.77a11.78,11.78,0,0,1,23.56,0Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-I",children:(0,t.jsx)("path",{d:"M483,772.84c0,7.12-6.12,12.88-13.68,12.88s-13.68-5.76-13.68-12.88V13.91C455.67,6.79,461.79,1,469.35,1S483,6.79,483,13.91Zm-89.56,0c0,7.12-6.13,12.88-13.69,12.88S366.1,780,366.1,772.84V13.91C366.1,6.79,372.23,1,379.78,1s13.69,5.76,13.69,12.88Zm-89.57,0c0,7.12-6.13,12.88-13.68,12.88s-13.69-5.76-13.69-12.88V13.91C276.53,6.79,282.66,1,290.22,1S303.9,6.79,303.9,13.91Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-J",children:(0,t.jsx)("path",{d:"M454.76,13.68a12.78,12.78,0,0,1,25.56,0V527.33c0,49.79-44.11,89.64-98,89.64s-98-39.85-98-89.64a12.79,12.79,0,0,1,25.57,0c0,35.27,32.17,64.33,72.44,64.33s72.44-29.06,72.44-64.33Zm85.22,0a12.78,12.78,0,0,1,25.56,0V525.57c0,97.18-82.12,175.78-183.22,175.78s-183.23-78.6-183.23-175.78a12.79,12.79,0,0,1,25.57,0c0,83,70.49,150.47,157.66,150.47S540,608.57,540,525.57Zm85.22,0a12.79,12.79,0,0,1,25.57,0v510.2c0,144.66-120.24,261.84-268.45,261.84S113.87,668.54,113.87,523.88a12.78,12.78,0,0,1,25.56,0c0,130.59,108.7,236.53,242.89,236.53S625.2,654.47,625.2,523.88Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-K",children:(0,t.jsx)("path",{d:"M230.92,773.07a12.66,12.66,0,0,1-25.32,0V13.68a12.66,12.66,0,0,1,25.32,0Zm-75.95,0a12.66,12.66,0,0,1-25.32,0V13.68a12.66,12.66,0,0,1,25.32,0Zm-75.95,0a12.66,12.66,0,0,1-25.32,0V13.68a12.66,12.66,0,0,1,25.32,0Zm625.4-33.79A12.66,12.66,0,0,1,683.12,753L453.7,396.15a12.67,12.67,0,0,1,0-13.67L691.18,11.66A12.66,12.66,0,0,1,712.5,25.31l-233.11,364Zm-309-350.35L622.19,752.67a12.66,12.66,0,1,1-21.49,13.39L369.78,395.63a12.67,12.67,0,0,1,0-13.39L600.7,11.81A12.66,12.66,0,1,1,622.19,25.2ZM530.37,754.09a12.66,12.66,0,0,1-21.51,13.34L278.17,395.59a12.67,12.67,0,0,1,0-13.34L508,11.81a12.66,12.66,0,0,1,21.52,13.35L303.83,388.92Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-L",children:(0,t.jsx)("path",{d:"M659.28,642.56a12.62,12.62,0,0,1,0,25.22H279.73a12.39,12.39,0,0,1-12.15-12.61V13a12.16,12.16,0,1,1,24.3,0V642.56Zm0,81.86a12.62,12.62,0,0,1,0,25.22H193.49A12.39,12.39,0,0,1,181.34,737V13a12.16,12.16,0,1,1,24.3,0V724.42ZM117.64,801.15H659.38a12.62,12.62,0,0,1,0,25.22H105.48a12.38,12.38,0,0,1-12.15-12.61V13a12.16,12.16,0,1,1,24.31,0Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-M",children:(0,t.jsx)("path",{d:"M590.46,198,388.54,410.49a10.79,10.79,0,0,1-15.91,0L172.54,199.93V734.21c0,6.83-5.11,12.37-11.41,12.37s-11.42-5.54-11.42-12.37V175.9L97.2,120.64V734.13c0,6.84-5.11,12.37-11.42,12.37S74.37,741,74.37,734.13V96.62L22.59,42.13l2.25,692.93c0,6.83-5.07,12.39-11.38,12.41S2,742,2,735.15L-.34,12.81C-.37,1.86,11.78-3.74,19,3.9L380.58,384.38,742.13,3.9c7.24-7.62,19.37-2.06,19.37,8.87V735.1c0,6.83-5.11,12.37-11.42,12.37s-11.41-5.54-11.41-12.37V42l-50,52.65V734.13c0,6.84-5.11,12.37-11.42,12.37S665.8,741,665.8,734.13V118.71L613.26,174q0,.45,0,.9V734.21c0,6.83-5.11,12.37-11.41,12.37s-11.42-5.54-11.42-12.37Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-N",children:(0,t.jsx)("path",{d:"M557.53,559.11l46.87,54.47-.68-598.3a12,12,0,1,1,23.9,0l.71,626.14,48.53,56.4V15.18a11.95,11.95,0,1,1,23.89,0v715c0,11.29-13.62,16.57-20.9,8.1l-448-520.67V734A11.95,11.95,0,1,1,208,734V189.86l-46.91-54.51V733.68a11.95,11.95,0,1,1-23.89,0V108.37c0-.26,0-.51,0-.77l-51.64-60V733.3a12,12,0,1,1-23.9,0V15.18c0-11.29,13.63-16.58,20.91-8.11L533.64,531.34V15.45a11.95,11.95,0,1,1,23.89,0Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-O",children:(0,t.jsx)("path",{d:"M762.24,396.83c0,217.56-170.58,393.94-381,393.94S.24,614.39.24,396.83,170.82,2.9,381.24,2.9,762.24,179.27,762.24,396.83Zm-21.08,0C741.16,191.3,580,24.69,381.24,24.69S21.32,191.3,21.32,396.83,182.47,769,381.24,769,741.16,602.36,741.16,396.83Zm-51.31,0c0,176.14-138.18,318.94-308.61,318.94S72.64,573,72.64,396.83,210.8,77.9,381.24,77.9,689.85,220.7,689.85,396.83Zm-21.08,0c0-164.1-128.74-297.14-287.53-297.14S93.72,232.73,93.72,396.83,222.44,694,381.24,694,668.77,560.94,668.77,396.83Zm-51.2,1.7c0,134.09-105.2,242.79-235,242.79s-235-108.69-235-242.79,105.21-242.79,235-242.79S617.57,264.45,617.57,398.53Zm-21.08,0c0-122-95.77-221-213.88-221s-213.9,99-213.9,221,95.75,221,213.9,221S596.49,520.58,596.49,398.53Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-P",children:(0,t.jsx)("path",{d:"M209.16,817.61a11.07,11.07,0,1,1-22.14,0V160.88H442c70.44,0,127.9,54,127.9,121.11S512.45,403.08,442,403.08H282.65a11.29,11.29,0,0,1,0-22.58H442c58.59,0,105.75-44.32,105.75-98.51S500.6,183.46,442,183.46H209.16ZM125.33,104.84V817.61a11.08,11.08,0,1,1-22.15,0V82.26H441.34C558,82.26,652.89,171.46,652.89,282S558,481.71,441.34,481.71H282.63a11.29,11.29,0,0,1,0-22.58H441.34c104.79,0,189.4-79.52,189.4-177.14s-84.61-177.15-189.4-177.15ZM44.87,25.48V817.61a11.07,11.07,0,1,1-22.14,0V2.9h423c163.26,0,296,124.74,296,279.09S609,561.05,445.76,561.05H282.64a11.29,11.29,0,0,1,0-22.58H445.76c151.42,0,273.81-115,273.81-256.48S597.18,25.48,445.76,25.48Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-Q",children:(0,t.jsx)("path",{d:"M504.74,728.89c5.92-2.2,12.4,1.11,14.48,7.39s-1.05,13.14-7,15.33A375.69,375.69,0,0,1,381.32,775C171,775,.32,602.29.32,389S171,2.9,381.32,2.9s381,172.71,381,386.05A389.11,389.11,0,0,1,732,540.12a11.13,11.13,0,0,1-15,6.1,12.33,12.33,0,0,1-5.75-15.9A363.81,363.81,0,0,0,739.6,389c0-199.79-160.28-362-358.28-362S23,189.16,23,389s160.29,362,358.28,362A354.34,354.34,0,0,0,504.74,728.89Zm-44.83-62.23c6-1.74,12.29,2.05,13.94,8.46s-1.93,13-8,14.77a305,305,0,0,1-84.53,11.89C210.91,701.78,72.55,561.85,72.55,389S210.9,76.13,381.33,76.13,690.1,216.05,690.1,389a318.25,318.25,0,0,1-10,79.41c-1.65,6.41-7.9,10.19-14,8.44s-9.62-8.37-8-14.78A292.34,292.34,0,0,0,667.38,389c0-159.35-128-288.75-286-288.75S95.27,229.59,95.27,389s128,288.76,286.06,288.76A283.7,283.7,0,0,0,459.91,666.66Zm-45.52-64c6.22-.94,12,3.64,12.85,10.22s-3.43,12.67-9.64,13.61a233.73,233.73,0,0,1-34.93,2.62c-129.83,0-235.3-106.65-235.3-238.49s105.47-238.47,235.3-238.47c125.71,0,229.23,100.21,235.07,227.32.15,3.69.22,7.42.22,11.15,0,6.65-5.08,12-11.36,12s-11.36-5.39-11.36-12c0-3.39-.06-6.77-.2-10.05-5.23-114-98.57-204.35-212.37-204.35-117.51,0-212.58,96.13-212.58,214.4S265.16,605,382.67,605A212,212,0,0,0,414.39,602.64Zm339.69,79.67a12.52,12.52,0,0,1-1.91,16.9,10.93,10.93,0,0,1-15.95-2L526.46,414.36a12.52,12.52,0,0,1,1.92-16.9,10.93,10.93,0,0,1,16,2Zm-56.64,45.41a12.52,12.52,0,0,1-1.92,16.9,10.93,10.93,0,0,1-15.95-2L468.66,458.2a12.53,12.53,0,0,1,1.92-16.9,10.94,10.94,0,0,1,15.95,2ZM637.59,771.3a12.52,12.52,0,0,1-1.92,16.9,10.93,10.93,0,0,1-15.95-2L409.68,503a12.52,12.52,0,0,1,1.91-16.9,10.94,10.94,0,0,1,16,2Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-R",children:(0,t.jsx)("path",{d:"M740.25,811.39a11.78,11.78,0,0,1-3.8,15.85,10.94,10.94,0,0,1-15.31-3.93L600.94,616.94a11.78,11.78,0,0,1,3.79-15.85A10.94,10.94,0,0,1,620,605Zm-95.34,0a11.78,11.78,0,0,1-3.8,15.85,10.94,10.94,0,0,1-15.31-3.93L505.59,616.94a11.78,11.78,0,0,1,3.8-15.85A10.94,10.94,0,0,1,524.7,605Zm-97.3,0a11.78,11.78,0,0,1-3.8,15.85,10.94,10.94,0,0,1-15.31-3.93L408.3,616.94a11.79,11.79,0,0,1,3.79-15.85A11,11,0,0,1,427.41,605Zm-340.43,4.79a11.17,11.17,0,1,1-22.32,0V177.35A11.36,11.36,0,0,1,196,165.8h258.5c57.46,0,104.26,46,104.26,103S512,371.69,454.52,371.69H274.36a11.55,11.55,0,0,1,0-23.09H454.52c45.39,0,82-35.88,82-79.85s-36.56-79.86-82-79.86H207.18Zm-84.31,0a11.16,11.16,0,1,1-22.31,0V94.7a11.35,11.35,0,0,1,11.15-11.55H453.78c104,0,188.48,82.95,188.48,185.6s-84.5,185.61-188.48,185.61H274.36a11.55,11.55,0,0,1,0-23.09H453.78C545.7,431.27,620,358.38,620,268.75S545.7,106.24,453.78,106.24H122.87ZM45.18,26v790.2A11.36,11.36,0,0,1,34,827.73a11.36,11.36,0,0,1-11.16-11.55V14.44A11.36,11.36,0,0,1,34,2.9H457.17c149.54,0,271,119,271,266.12s-121.45,266.12-271,266.12H274.37a11.55,11.55,0,0,1,0-23.09h182.8c137.49,0,248.69-108.94,248.69-243S594.65,26,457.17,26Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-S",children:(0,t.jsx)("path",{d:"M119.29,744.31a11.45,11.45,0,0,1,0-22.88h333.3c95,0,171.35-66.34,171.35-147.12S547.59,427.18,452.59,427.18H383.2l-71,.32c-106.51,0-193.53-75.64-193.53-170s87-170,193.53-170H645.53a11.45,11.45,0,0,1,0,22.88H312.22c-95,0-171.34,66.36-171.34,147.15s76.33,147.13,171.29,147.13l71-.32h69.44c106.49,0,193.53,75.64,193.53,170s-87,170-193.53,170Zm0,84.59a11.45,11.45,0,0,1,0-22.88H453.46C600.87,806,719.7,701.83,719.7,574.3S600.86,342.6,453.46,342.6H383.2l-67.68.32c-55.23,0-100.88-37.62-100.88-85.43S260.28,172,315.52,172h330a11.45,11.45,0,0,1,0,22.88h-330c-43.94,0-78.69,28.65-78.69,62.57S271.59,320,315.47,320l67.68-.33h70.31c158.93,0,288.43,113.55,288.43,254.59S612.4,828.9,453.46,828.9Zm0-169.15a11.45,11.45,0,0,1,0-22.88h330c43.94,0,78.71-28.65,78.71-62.57s-34.77-62.55-78.71-62.55H383.2l-71.85.33c-159,0-288.45-113.54-288.45-254.6S152.4,2.9,311.35,2.9H645.53a11.26,11.26,0,0,1,11.09,11.44,11.26,11.26,0,0,1-11.09,11.44H311.35C163.93,25.78,45.09,130,45.09,257.48S163.93,489.2,311.31,489.2l71.84-.33h66.12c55.24,0,100.9,37.62,100.9,85.43s-45.66,85.45-100.9,85.45Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-T",children:(0,t.jsx)("path",{d:"M34.54,27.32c-6.41,0-11.6-5.47-11.6-12.21S28.13,2.9,34.54,2.9H730.33c6.41,0,11.6,5.46,11.6,12.21s-5.19,12.21-11.6,12.21Zm438.88,749a11.1,11.1,0,1,1-22.19,0V94.48a11.1,11.1,0,1,1,22.19,0Zm-79.89,0a11.1,11.1,0,1,1-22.19,0V94.48a11.1,11.1,0,1,1,22.19,0Zm-79.89,0a11.1,11.1,0,1,1-22.19,0V94.48a11.1,11.1,0,1,1,22.19,0Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-U",children:(0,t.jsx)("path",{d:"M541,8.84a10.94,10.94,0,0,1,14.52-6,11.61,11.61,0,0,1,5.81,15l-168.88,408a10.92,10.92,0,0,1-20.34,0L203.7,17.84a11.59,11.59,0,0,1,5.83-15,10.93,10.93,0,0,1,14.51,6L382.26,392.21ZM629.65,10a10.92,10.92,0,0,1,14.57-5.88,11.6,11.6,0,0,1,5.68,15.08L392.62,625.47a10.91,10.91,0,0,1-20.24,0L115.1,19.16a11.6,11.6,0,0,1,5.68-15.08A10.92,10.92,0,0,1,135.35,10L382.5,592.41ZM372.26,821.14,24.14,19.25C18.09,5.34,38.26-4,44.31,9.87L382.5,788.2,720.86,9.53a10.92,10.92,0,0,1,14.62-5.74A11.61,11.61,0,0,1,741,18.92L393.5,818.69a11.37,11.37,0,0,1-6.31,8.2,10.68,10.68,0,0,1-4.78,1A10.88,10.88,0,0,1,372.26,821.14Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-V",children:(0,t.jsx)("path",{d:"M550,14.11a11.06,11.06,0,1,1,22.12,0V436.74c0,108.68-84.71,196.9-189.36,196.9s-189.37-88.22-189.37-196.9V14.11a11.06,11.06,0,1,1,22.12,0V436.74c0,96.43,74.94,174.48,167.25,174.48S550,533.17,550,436.74Zm75.08,0a11.06,11.06,0,1,1,22.12,0V436.59c0,151.85-118.33,275.07-264.45,275.07S118.31,588.44,118.31,436.59V14.11a11.06,11.06,0,1,1,22.11,0V436.59c0,139.6,108.56,252.65,242.32,252.65s242.33-113,242.33-252.65Zm74.78,0a11.06,11.06,0,1,1,22.12,0V434.34C722,629.37,570,787.6,382.45,787.6S42.92,629.37,42.92,434.34V14.11a11.06,11.06,0,1,1,22.12,0V434.34c0,182.78,142.17,330.84,317.41,330.84s317.4-148.06,317.4-330.84Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-W",children:(0,t.jsx)("path",{d:"M744.26,10.29c1.3-6.09,6.15-9.66,10.84-8s7.43,8,6.13,14.08L590,819.12c-1.3,6.09-6.16,9.66-10.84,8s-7.43-8-6.13-14.09ZM530.93,697.71,381.1,264.8,187.58,821.17c-3.39,9.75-14.3,8.65-16.5-1.66L-.13,16.8C-1.43,10.7,1.32,4.4,6,2.71s9.53,1.88,10.83,8L181.55,783l32.08-92.22L70,17.22c-1.3-6.09,1.45-12.4,6.13-14.09S85.65,5,87,11.1L225,658.17l31.2-89.7L138.41,16.41c-1.3-6.09,1.44-12.4,6.13-14.09s9.53,1.88,10.83,8L267.48,535.91,373.1,232.25c3.13-9,12.94-9,16,0L493.91,534.94,605.56,10.68c1.3-6.09,6.15-9.66,10.83-8s7.43,8,6.14,14.09L505.22,567.63l31.9,92.17L675.48,11.09c1.3-6.09,6.15-9.66,10.84-8s7.43,8,6.13,14.09l-144,675.26,41.16,118.9c2,5.77,0,12.54-4.42,15.14s-9.65,0-11.64-5.74l-42.33-122.3C531.1,698.22,531,698,530.93,697.71Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-X",children:(0,t.jsx)("path",{d:"M739.83,8.21a11,11,0,0,1,15.66-2.42,11.77,11.77,0,0,1,2.34,16.14L533.42,334.87a11,11,0,0,1-15.65,2.41,11.77,11.77,0,0,1-2.35-16.13ZM324.08,588a11,11,0,0,1,15.65-2.42,11.77,11.77,0,0,1,2.35,16.13L212.81,781.92a11,11,0,0,1-15.65,2.42,11.77,11.77,0,0,1-2.34-16.14ZM646.22,6.58a11,11,0,0,1,15.65-2.42,11.77,11.77,0,0,1,2.35,16.13l-179,249.57a11,11,0,0,1-15.65,2.42,11.78,11.78,0,0,1-2.35-16.14ZM276.83,521.69a11,11,0,0,1,15.65-2.42,11.78,11.78,0,0,1,2.35,16.14L119.72,779.59A11,11,0,0,1,104.06,782a11.76,11.76,0,0,1-2.34-16.13ZM548.31,8.21A11,11,0,0,1,564,5.79a11.76,11.76,0,0,1,2.35,16.14L436,203.61A11,11,0,0,1,420.38,206,11.77,11.77,0,0,1,418,189.89Zm-320,446.21A11,11,0,0,1,244,452a11.77,11.77,0,0,1,2.34,16.14L23,779.57A11,11,0,0,1,7.32,782,11.78,11.78,0,0,1,5,765.85ZM756.15,765.86A11.77,11.77,0,0,1,753.81,782a11,11,0,0,1-15.65-2.42L194.82,21.93A11.76,11.76,0,0,1,197.16,5.8a11,11,0,0,1,15.66,2.42Zm-94.78,0A11.78,11.78,0,0,1,659,782a11,11,0,0,1-15.65-2.42L100,21.93A11.77,11.77,0,0,1,102.38,5.8,11,11,0,0,1,118,8.22Zm-95.06,2.34A11.77,11.77,0,0,1,564,784.34a11,11,0,0,1-15.66-2.42l-545-760A11.77,11.77,0,0,1,5.64,5.79,11,11,0,0,1,21.29,8.21Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-Y",children:(0,t.jsx)("path",{d:"M720.21,8A10.73,10.73,0,0,1,735.8,5.86a12.15,12.15,0,0,1,2,16.44L525.51,312.8a10.72,10.72,0,0,1-15.58,2.12,12.15,12.15,0,0,1-2-16.44ZM631.65,6.46a10.73,10.73,0,0,1,15.59-2.12,12.17,12.17,0,0,1,2,16.45L479.94,252.46a10.73,10.73,0,0,1-15.58,2.12,12.17,12.17,0,0,1-2-16.45ZM539,8a10.73,10.73,0,0,1,15.59-2.12,12.15,12.15,0,0,1,2,16.44L433.38,191a10.73,10.73,0,0,1-15.58,2.13,12.17,12.17,0,0,1-2-16.45ZM204.63,22.3a12.15,12.15,0,0,1,2-16.44A10.72,10.72,0,0,1,222.22,8l257,351.65,2.31,7.16V774.87c0,6.48-5,11.73-11.11,11.73s-11.11-5.25-11.11-11.73V370.79ZM115,22.3a12.17,12.17,0,0,1,2-16.44A10.73,10.73,0,0,1,132.56,8L407.85,384.67l2.31,7.16v383c0,6.48-5,11.73-11.11,11.73s-11.11-5.25-11.11-11.73v-379Zm-91.51,0a12.15,12.15,0,0,1,2-16.44A10.72,10.72,0,0,1,41,8L332.55,406.85l2.31,7.17V774.87c0,6.48-5,11.73-11.11,11.73s-11.11-5.25-11.11-11.73V418Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-Z",children:(0,t.jsx)("path",{d:"M116.47,171.37c-6,0-10.78-5.12-10.78-11.44s4.82-11.45,10.78-11.45h301L136.6,720.71H644.51c6,0,10.78,5.13,10.78,11.45s-4.83,11.44-10.78,11.44H101.06L382,171.37Zm0-148.29c-6,0-10.78-5.12-10.78-11.44S110.51.2,116.47.2h543.8L379.05,572.43H644.51c6,0,10.78,5.12,10.78,11.44s-4.83,11.44-10.78,11.44h-301L624.71,23.08Zm0,74.14c-6,0-10.78-5.12-10.78-11.44s4.82-11.44,10.78-11.44h422.2l-280,572.23H644.51c6,0,10.78,5.12,10.78,11.44s-4.83,11.44-10.78,11.44H223.19l280-572.23Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-OT",children:(0,t.jsx)("path",{d:"M665.74,897.11v-162c0-68-55-123.09-122.74-123.09H220c-67.79,0-122.74,55.11-122.74,123.09v162H58.5v-162c0-89.45,72.3-161.95,161.5-161.95H543c89.2,0,161.5,72.5,161.5,161.95v162Zm0,0v-162c0-68-55-123.09-122.74-123.09H220c-67.79,0-122.74,55.11-122.74,123.09v162H58.5v-162c0-89.45,72.3-161.95,161.5-161.95H543c89.2,0,161.5,72.5,161.5,161.95v162ZM380.33,521.94c-106.9,0-193.56-86.59-193.56-193.41s86.66-193.42,193.56-193.42S573.9,221.71,573.9,328.53,487.24,521.94,380.33,521.94Zm1.17-37.29c85.65,0,155.09-69.37,155.09-155s-69.44-155-155.09-155-155.09,69.38-155.09,155S295.85,484.65,381.5,484.65Z"})}),(0,t.jsxs)("symbol",{viewBox:"0 0 762 1126",id:"col-picking-default-HARDWARE-TERMINAL",children:[(0,t.jsx)("path",{d:"M639,281h-180c0,3.3,0,6.7,0,10c0,13.3-3.3,26.7-10,40h190c10,0,16.7,6.7,16.7,13.3v280.1 c0,6.7-6.7,13.3-16.7,13.3H125.5c-10,0-16.7-6.7-16.7-13.3V344.3c0-6.7,6.7-13.3,16.7-13.3h183.4c-6.7-10-10-23.3-10-40 c0-3.3,0-6.7,0-10H125.5c-36.7,0-66.7,26.7-66.7,63.3v280.1c0,36.7,30,63.3,66.7,63.3h53.3l-40,196.7c-3.3,13.3,6.7,26.7,20,30 c13.3,3.3,26.7-6.7,30-20l40-206.7h313.4l40,206.7c6.7,33.3,56.7,23.3,50-10l-40-196.7h43.3c36.7,0,66.7-26.7,66.7-63.3V344.3 C709,307.6,675.6,281,639,281z"}),(0,t.jsx)("circle",{cx:"378.9",cy:"291",r:"46.7"})]})]})}}))},67774:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=r;function r(){return(0,t.jsxs)("defs",{children:[(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-0",children:(0,t.jsx)("path",{d:"M60.13,24A26.18,26.18,0,0,1,86.27,50.22V68.8A26.14,26.14,0,1,1,34,68.8V50.22A26.18,26.18,0,0,1,60.13,24Zm0,3.8A22.37,22.37,0,0,0,37.8,50.22V68.8a22.34,22.34,0,1,0,44.67,0V50.22A22.37,22.37,0,0,0,60.13,27.8Zm0,15.36a7,7,0,0,0-7,7.06V68.8a7,7,0,1,0,14,0V50.22A7,7,0,0,0,60.13,43.16Zm0-3.8A10.84,10.84,0,0,1,71,50.22V68.8a10.83,10.83,0,1,1-21.65,0V50.22A10.84,10.84,0,0,1,60.13,39.36Zm-.35-7A18.48,18.48,0,0,1,78.26,50.85v18.7a18.48,18.48,0,0,1-37,0V50.85A18.48,18.48,0,0,1,59.78,32.37Zm0,3.8A14.68,14.68,0,0,0,45.1,50.85v18.7a14.68,14.68,0,0,0,29.36,0V50.85A14.68,14.68,0,0,0,59.78,36.17Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-1",children:(0,t.jsx)("path",{d:"M51.22,58.3a1.9,1.9,0,0,1-2.49-2.87l6.64-5.77a1.9,1.9,0,0,1,3.15,1.43V93.68a1.9,1.9,0,1,1-3.8,0V55.26Zm-10-11.17a1.9,1.9,0,1,1-2.5-2.86C47,37.09,53.67,31.19,57.83,27.47a9.23,9.23,0,0,1,15.37,7V93.68a1.9,1.9,0,0,1-3.8,0V34.46a5.43,5.43,0,0,0-9-4.16C56.19,34,49.47,39.94,41.25,47.13Zm4,6.36a1.9,1.9,0,1,1-2.52-2.85l20-17A1.9,1.9,0,0,1,66,35.12V94.34a1.9,1.9,0,1,1-3.8,0v-55Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-2",children:(0,t.jsx)("path",{d:"M82.58,76.24a1.9,1.9,0,0,1,0,3.8h-19a1.9,1.9,0,0,1-1.46-3.12Q74,62.55,76.42,59.73c5.2-6.21,6.5-13.35,3.75-19.82A20.16,20.16,0,0,0,67.84,28.78c-6.33-2-13.83-.91-18.88,2.59A23.32,23.32,0,0,0,38.79,48.93,1.9,1.9,0,1,1,35,48.57,27.11,27.11,0,0,1,46.8,28.24c6-4.17,14.74-5.39,22.16-3.09A24,24,0,0,1,83.67,38.43C87,46.26,85.43,54.9,79.34,62.17q-2.1,2.49-11.72,14.07Zm0,15.6a1.9,1.9,0,1,1,0,3.8H47a9.7,9.7,0,0,1-7.44-15.91q21.71-26.13,25-30C66,47.93,66.24,46.94,65.85,46a4.71,4.71,0,0,0-2.6-2.34,7.49,7.49,0,0,0-5.44.52,7.77,7.77,0,0,0-3.53,6.23,1.9,1.9,0,1,1-3.78-.36,11.53,11.53,0,0,1,5.15-9c2.09-1.46,5.87-1.91,8.72-1a8.5,8.5,0,0,1,5,4.48c1,2.41.38,4.84-1.93,7.6s-10.51,12.62-25,30A5.91,5.91,0,0,0,47,91.84Zm0-7.8a1.9,1.9,0,1,1,0,3.8H47a1.9,1.9,0,0,1-1.46-3.12q21.68-26.08,25-30C73.88,50.64,74.55,46.6,73,43a12.44,12.44,0,0,0-7.47-6.73c-4.11-1.27-9.13-.55-12.15,1.55a15.5,15.5,0,0,0-6.85,11.9,1.9,1.9,0,0,1-3.79-.36,19.34,19.34,0,0,1,8.47-14.66c4-2.77,10.23-3.67,15.45-2.06a16.22,16.22,0,0,1,9.84,8.88c2.11,5,1.18,10.52-3.13,15.67Q70.31,60.83,51,84Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-3",children:(0,t.jsx)("path",{d:"M45.08,45.27a1.9,1.9,0,1,1,0-3.8H60.81A1.9,1.9,0,0,1,62.4,44.4l-4.73,7.31a5.77,5.77,0,0,0,3.52,8.74c6.18,1.51,9.23,4.39,10,9.55.4,3.42-1,6.23-4.29,9.14l-.11.08a9.58,9.58,0,0,1-6,1.89c-4.71,0-8.06-2.26-10.64-7.45a1.9,1.9,0,1,1,3.4-1.7c2,4,4,5.35,7.24,5.35a5.86,5.86,0,0,0,3.61-1.07c2.4-2.13,3.21-3.79,3-5.76-.48-3.44-2.31-5.18-7.08-6.33a9.58,9.58,0,0,1-5.81-14.5l2.84-4.38ZM86.47,68l0,.12c1.07,8.9-2.3,16.39-9.62,22.74l-.33.27a25,25,0,0,1-15.76,5.37c-10.55,0-19.26-5.49-24.5-16a1.9,1.9,0,1,1,3.4-1.7c4.6,9.24,12,13.9,21.1,13.9a21.25,21.25,0,0,0,13.4-4.54l.2-.17c6.41-5.57,9.25-11.85,8.34-19.4v-.09A21.05,21.05,0,0,0,73,53a1.91,1.91,0,0,1-.57-2.63l7.45-11.51A5.78,5.78,0,0,0,75,29.9H45.08a1.9,1.9,0,0,1,0-3.8H75a9.58,9.58,0,0,1,8.09,14.78l-6.45,10A24.8,24.8,0,0,1,86.47,68ZM45.08,37.59a1.9,1.9,0,1,1,0-3.8H75a1.9,1.9,0,0,1,1.59,2.93l-11,17C73.29,56.3,77.79,61.44,78.81,69c.79,6.5-1.92,11.6-7.09,16.09a17.29,17.29,0,0,1-10.94,3.68c-7.22,0-13.46-3.47-17.57-11.72a1.9,1.9,0,1,1,3.4-1.7C50,82.27,54.94,85,60.78,85a13.49,13.49,0,0,0,8.51-2.8C73.54,78.5,75.65,74.52,75,69.5c-.9-6.71-5.09-10.92-12.91-12.82A1.9,1.9,0,0,1,61,53.8l10.5-16.21Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-4",children:(0,t.jsx)("path",{d:"M69.65,28a1.9,1.9,0,1,1,3.8,0l.23,63.91a1.91,1.91,0,0,1-1.9,1.9,1.88,1.88,0,0,1-1.9-1.89Zm8,51a1.9,1.9,0,0,1,0-3.8h5.7a1.9,1.9,0,0,1,0,3.8Zm-12.13-3.8a1.9,1.9,0,0,1,0,3.8h-24a1.89,1.89,0,0,1-1.85-2.31l11-49.08a1.9,1.9,0,0,1,3.71.84L43.87,75.17Zm1.8,8.22V91.9a1.9,1.9,0,1,1-3.8,0V85.23H41.28c-6.09,0-9.49-4.91-7.7-10.78L37,59.6c.19-.85,2.37-10.3,2.95-12.8C42.1,37.55,43.4,32,44.52,27.54a1.9,1.9,0,1,1,3.68.92c-1.1,4.45-2.4,10-4.53,19.2-.58,2.5-2.75,11.94-3,12.79C39.43,66,38.36,70.66,37.26,75.38l0,.13c-1.1,3.51.56,5.92,4.05,5.92h24.1a1.9,1.9,0,0,1,1.9,1.9ZM79.6,85.23V91.9a1.9,1.9,0,1,1-3.8,0V83.33a1.91,1.91,0,0,1,1.9-1.9h5.92a1.9,1.9,0,0,1,0,3.8ZM75.81,70.79s0-.06,0-.09V28a1.9,1.9,0,1,1,3.8,0V69h4a1.9,1.9,0,0,1,0,3.8H77.7a1.91,1.91,0,0,1-1.9-1.9S75.81,70.82,75.81,70.79Zm-8.65.58a1.91,1.91,0,0,1-1.83,1.41H49.55a1.91,1.91,0,0,1-1.86-2.31L57,27.61a1.9,1.9,0,1,1,3.71.81L51.91,69H63.48V28a1.9,1.9,0,0,1,3.8,0V70.7A1.85,1.85,0,0,1,67.16,71.37Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-5",children:(0,t.jsx)("path",{d:"M48.48,75a1.9,1.9,0,0,1,3.33-1.83,7.17,7.17,0,0,0,1.61,1.59,8.06,8.06,0,0,0,3.8,1.59,6.26,6.26,0,0,0,6.94-3.81c1.06-2.28-.11-5.6-2.22-6.58a19,19,0,0,0-6.67-.93h-8A9.44,9.44,0,0,1,38,54.49l2.38-22.05a9.42,9.42,0,0,1,9.34-8.34H74a1.9,1.9,0,1,1,0,3.8H49.68a5.63,5.63,0,0,0-5.57,5L41.73,54.92a5.65,5.65,0,0,0,5.57,6.34h8a21.85,21.85,0,0,1,8.28,1.28c4,1.88,6,7.47,4.06,11.63a10,10,0,0,1-10.89,6,11.83,11.83,0,0,1-5.58-2.31A10.06,10.06,0,0,1,48.48,75ZM69.85,48.81c11.56,5.39,16.81,20,11.37,31.74A25,25,0,0,1,54.77,95.14c-8.27-1.09-15.85-6.25-19.44-12.79a1.9,1.9,0,0,1,3.34-1.83c3,5.48,9.52,9.92,16.59,10.85A21.2,21.2,0,0,0,77.77,79c4.56-9.87.13-22.21-9.53-26.7a31.07,31.07,0,0,0-12.5-2.33,1.89,1.89,0,0,1-1.87-2L54.44,41a1.9,1.9,0,0,1,1.9-1.74H74A1.9,1.9,0,1,1,74,43H58.09l-.27,3.16A32.57,32.57,0,0,1,69.85,48.81Zm-14,5.56c4.54,0,8.61.67,11.43,2C75.05,60,78.7,70.05,75,78A17.53,17.53,0,0,1,56.33,88.32c-6.23-.82-11.57-4.81-13.84-8.95a1.9,1.9,0,0,1,3.33-1.83c1.72,3.13,6,6.36,11,7a13.72,13.72,0,0,0,14.73-8.11c2.81-6.09,0-13.91-5.88-16.64a24.93,24.93,0,0,0-9.82-1.63h-8A1.9,1.9,0,0,1,46,56.07l2.38-22a1.9,1.9,0,0,1,1.89-1.7H74.62a1.9,1.9,0,0,1,0,3.8H52L50,54.37Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-6",children:(0,t.jsx)("path",{d:"M50.22,63.2l.05-.09L73.75,21.4a1.9,1.9,0,1,1,3.31,1.86L53.58,65l-.08.13-.07.13a4.27,4.27,0,0,0-.64,2.2c0,2.8,3,5.32,6.85,5.32s6.84-2.52,6.84-5.32c0-2.32-2.07-4.53-5.11-5.15a1.9,1.9,0,1,1,.77-3.72c4.7,1,8.14,4.62,8.14,8.87,0,5-4.79,9.12-10.64,9.12S49,72.49,49,67.44a8.11,8.11,0,0,1,1.17-4.15Zm-13-7.41L56.57,21.41a1.9,1.9,0,0,1,3.31,1.87L40.4,57.87a1.14,1.14,0,0,1-.15.23,19,19,0,0,0-2.45,9.34c0,11.19,9.78,20.22,21.84,20.22s21.84-9,21.84-20.22c0-8.06-5.08-15.19-12.86-18.44a1.9,1.9,0,1,1,1.47-3.51c9.15,3.83,15.19,12.31,15.19,21.95,0,13.36-11.55,24-25.64,24S34,80.8,34,67.44A22.74,22.74,0,0,1,37.08,56Zm6.64,3.52L65.68,21A1.9,1.9,0,0,1,69,22.86L46.43,62.47a11.34,11.34,0,0,0-1.13,5c0,7,6.38,12.77,14.34,12.77S74,74.45,74,67.44c0-5.21-3.55-9.87-8.91-11.83A1.9,1.9,0,1,1,66.37,52c6.81,2.49,11.41,8.53,11.41,15.4,0,9.2-8.16,16.57-18.14,16.57S41.5,76.64,41.5,67.44a15.34,15.34,0,0,1,2.17-7.87A1.51,1.51,0,0,1,43.85,59.31Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-7",children:(0,t.jsx)("path",{d:"M41,47.8A1.9,1.9,0,1,1,41,44H66.55a1.9,1.9,0,0,1,1.74,2.67L45.59,98.22a1.9,1.9,0,1,1-3.48-1.53L63.64,47.8Zm0-14.9a1.9,1.9,0,0,1,0-3.8H78.35a9.35,9.35,0,0,1,8.54,13.27L62.18,98.17a1.9,1.9,0,1,1-3.47-1.54L83.43,40.8a5.55,5.55,0,0,0-5.08-7.9Zm0,7.45a1.9,1.9,0,0,1,0-3.8H78.35a1.9,1.9,0,0,1,1.74,2.67L53.83,98.91a1.9,1.9,0,0,1-3.47-1.54l25.07-57Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-8",children:(0,t.jsx)("path",{d:"M61.25,58.49l-.26,0c-9.75.24-15.61,6.63-15.61,13.63S52.7,84.22,61,84.22s14.58-6.36,14.58-12.08a11,11,0,0,0-.66-3.74c0-.1-.06-.19-.1-.29a1.9,1.9,0,1,1,3.54-1.37c.05.12.1.25.14.37a14.79,14.79,0,0,1,.88,5C79.37,80.41,70.44,88,61,88S41.58,81.35,41.58,72.14,49.09,55,60.85,54.71l.25,0c6.68,0,11.34-3.63,11.34-9S67.75,35.6,61.1,35.21,48.71,39,48.71,44.32c0,.2,0,.41,0,.61.07,1,0,2.57-1.76,2.7S45,46.27,45,45.22c0-.3,0-.6,0-.9,0-7.61,7.54-12.91,16.19-12.91s15.14,6.69,15.14,14.3S69.83,58.43,61.25,58.49ZM60.18,47.44h.25c2.6,0,4.48-1.36,4.48-2.39S63,42.65,60.43,42.65a5.25,5.25,0,0,0-4.18,1.67,1.9,1.9,0,1,1-3-2.27,9,9,0,0,1,7.23-3.2c4.48,0,8.28,2.74,8.28,6.19S65,51.17,60.58,51.23h-.26c-12.38,0-22.42,9-22.42,20.23s10,20.22,22.42,20.22,22.42-9,22.42-20.22a18.58,18.58,0,0,0-2.25-8.87,1.9,1.9,0,0,1,3.35-1.8,22.42,22.42,0,0,1,2.7,10.67c0,13.4-11.83,24-26.22,24S34.1,84.87,34.1,71.47,45.85,47.51,60.18,47.44Zm.39,18.69h-.25c-4.22,0-7.43,2.59-7.43,5.33s3.21,5.32,7.43,5.32,7.43-2.58,7.43-5.32a3.48,3.48,0,0,0-.11-.85,1.05,1.05,0,0,0,0-.19,1.9,1.9,0,1,1,3.64-1.09c0,.12.07.24.1.37a7,7,0,0,1,.22,1.76c0,5-5.08,9.12-11.23,9.12s-11.23-4.08-11.23-9.12,5-9.06,11.08-9.13h.26C71.18,62.33,79.9,54.65,79.9,45S71.18,27.75,60.43,27.75,41,35.43,41,45a15.54,15.54,0,0,0,.62,4.37,1.9,1.9,0,1,1-3.65,1.06A19.36,19.36,0,0,1,37.16,45C37.16,33.22,47.67,24,60.43,24S83.7,33.22,83.7,45,73.26,66.06,60.57,66.13Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-9",children:(0,t.jsx)("path",{d:"M70.51,53.36l-.05.09L47,95.16a1.9,1.9,0,1,1-3.31-1.86L67.15,51.58l.08-.13.07-.13a4.27,4.27,0,0,0,.64-2.2c0-2.8-3-5.32-6.85-5.32s-6.84,2.52-6.84,5.32c0,2.32,2.07,4.53,5.11,5.15A1.9,1.9,0,0,1,58.6,58c-4.71-1-8.15-4.63-8.15-8.88,0-5,4.8-9.12,10.64-9.12s10.65,4.07,10.65,9.12a8.11,8.11,0,0,1-1.17,4.15Zm13,7.41L64.17,95.15a1.91,1.91,0,0,1-3.32-1.87L80.33,58.69a1.14,1.14,0,0,1,.15-.23,19,19,0,0,0,2.45-9.34c0-11.19-9.78-20.22-21.84-20.22s-21.84,9-21.84,20.22c0,8.06,5.08,15.19,12.86,18.44a1.9,1.9,0,1,1-1.47,3.51c-9.15-3.83-15.19-12.31-15.19-21.95,0-13.36,11.55-24,25.64-24s25.64,10.66,25.64,24a22.81,22.81,0,0,1-3.08,11.46C83.61,60.65,83.56,60.71,83.52,60.77Zm-6.64-3.52L55.05,95.58a1.9,1.9,0,0,1-3.31-1.88L74.31,54.09a11.47,11.47,0,0,0,1.12-5c0-7-6.38-12.77-14.34-12.77S46.75,42.11,46.75,49.12c0,5.21,3.55,9.87,8.91,11.83a1.9,1.9,0,1,1-1.3,3.57C47.55,62,43,56,43,49.12c0-9.2,8.16-16.57,18.14-16.57s18.14,7.37,18.14,16.57A15.34,15.34,0,0,1,77.06,57,1.51,1.51,0,0,1,76.88,57.25Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-*",children:(0,t.jsx)("path",{d:"M54,90.19a1.9,1.9,0,0,1-3.8,0V29.69a1.9,1.9,0,0,1,3.8,0Zm12.25-60.5a1.9,1.9,0,1,1,3.8,0v60.5a1.9,1.9,0,1,1-3.8,0ZM74.7,40.62l.54-.31,9-6.38A1.9,1.9,0,0,1,86.4,37l-9,6.43-.15.1-.62.35a1.9,1.9,0,1,1-1.9-3.29Zm2.67,35.16,9.74,7.81a1.9,1.9,0,0,1-2.38,3L75,78.75a1.9,1.9,0,1,1,2.37-3Zm-2.49-26,.2-.11,13-8.71a1.9,1.9,0,0,1,2.12,3.16l-13,8.74-.11.07-.25.14a1.9,1.9,0,1,1-1.9-3.29Zm2.45,17.11L91,77A1.9,1.9,0,0,1,88.78,80L75.07,69.94a1.9,1.9,0,0,1,2.26-3.06Zm-32-26.26a1.9,1.9,0,1,1-1.9,3.29l-.62-.35-.15-.1L33.6,37a1.9,1.9,0,0,1,2.21-3.1l8.95,6.38Zm-.47-.26-.07,0-.08-.05-1,1.65Zm-2.2,35.42a1.9,1.9,0,1,1,2.37,3l-9.73,7.8a1.9,1.9,0,0,1-2.38-3Zm2.49-26a1.9,1.9,0,1,1-1.9,3.29L43,52.92l-.11-.07-13-8.74A1.9,1.9,0,0,1,31.94,41l13,8.71ZM42.67,66.88a1.9,1.9,0,0,1,2.26,3.06L31.22,80A1.9,1.9,0,0,1,29,77ZM58.24,28.72a1.9,1.9,0,0,1,3.8,0V91.16a1.9,1.9,0,0,1-3.8,0ZM40.72,60.42l-14.6-9.21a1.9,1.9,0,0,1,2-3.21L44.88,58.55l.17.12a2,2,0,0,1,.68.61,1.9,1.9,0,0,1-.49,2.64L28.53,73.44a1.9,1.9,0,1,1-2.15-3.13ZM75,58.67l.17-.12L91.85,48a1.9,1.9,0,0,1,2,3.21l-14.6,9.21,14.34,9.89a1.9,1.9,0,0,1-2.15,3.13L74.76,61.92a1.9,1.9,0,0,1-.49-2.64A2,2,0,0,1,75,58.67Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-#",children:(0,t.jsx)("path",{d:"M60.79,41.38a1.9,1.9,0,1,1,0-3.8h5.5a1.9,1.9,0,0,1,0,3.8Zm3.84,8.36a1.9,1.9,0,1,1,0,3.8H59.05a1.9,1.9,0,0,1,0-3.8ZM61.31,78.25a1.9,1.9,0,0,1,0,3.8H55.6a1.9,1.9,0,0,1,0-3.8Zm-4-8.37a1.9,1.9,0,0,1,0-3.8H63a1.9,1.9,0,0,1,0,3.8Zm9.45,21.81A1.9,1.9,0,1,1,63,91.27l7.09-63.33a1.9,1.9,0,0,1,3.78.43ZM55.39,28a1.9,1.9,0,0,1,3.78.45L51.72,91.77A1.9,1.9,0,1,1,48,91.33Zm4.53,19.43a1.9,1.9,0,1,1,0-3.8h5.55a1.9,1.9,0,1,1,0,3.8ZM56.46,76a1.9,1.9,0,1,1,0-3.8h5.65a1.9,1.9,0,1,1,0,3.8ZM76.16,28a1.9,1.9,0,0,1,3.77.43L72.76,91.74A1.9,1.9,0,1,1,69,91.32Zm-26.92-.09a1.9,1.9,0,0,1,3.78.43l-7.3,63.38a1.9,1.9,0,1,1-3.78-.44ZM41.48,41.38H31.42a1.9,1.9,0,1,1,0-3.8h10.5L43,27.94a1.9,1.9,0,0,1,3.78.43L39.49,91.75a1.9,1.9,0,1,1-3.77-.43l1.07-9.27H31.42a1.9,1.9,0,0,1,0-3.8h5.81L37.49,76H31.42a1.9,1.9,0,1,1,0-3.8h6.51l.26-2.29H31.42a1.9,1.9,0,0,1,0-3.8h7.21l1.45-12.54H31.42a1.9,1.9,0,0,1,0-3.8h9.09l.27-2.28H31.42a1.9,1.9,0,0,1,0-3.8h9.8Zm42.78,0L84,43.66h5.46a1.9,1.9,0,0,1,0,3.8h-5.9l-.26,2.28h6.16a1.9,1.9,0,1,1,0,3.8h-6.6L81.42,66.08h8a1.9,1.9,0,1,1,0,3.8H81l-.26,2.29h8.74a1.9,1.9,0,1,1,0,3.8H80.28L80,78.25h9.44a1.9,1.9,0,1,1,0,3.8H79.58l-1.11,9.67a1.9,1.9,0,0,1-3.78-.44L82,28.07a1.9,1.9,0,1,1,3.77.44l-1,9.07h4.76a1.9,1.9,0,1,1,0,3.8Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-A",children:(0,t.jsx)("path",{d:"M36.47,88.72A1.9,1.9,0,0,1,33.08,87L58.87,36.16a1.9,1.9,0,0,1,3.39,0L88.05,87a1.9,1.9,0,0,1-3.39,1.72L60.57,41.22Zm-6.53,0A1.9,1.9,0,0,1,26.55,87L58.87,23.28a1.91,1.91,0,0,1,3.39,0L94.51,86.85a1.9,1.9,0,0,1-3.39,1.72L60.57,28.34Zm16.39-15,0,0L58.87,49a1.9,1.9,0,0,1,3.39,0L81.52,87a1.9,1.9,0,0,1-3.39,1.72L60.57,54.1,51.13,72.7h16a1.9,1.9,0,0,1,0,3.8h-18L43,88.72A1.9,1.9,0,0,1,39.61,87Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-B",children:(0,t.jsx)("path",{d:"M53.72,29.79V57.85H65.53c9,0,16.25-6.34,16.25-14s-7.22-14-16.25-14Zm0,59.92H73.33c9.12,0,16.42-6.35,16.42-14s-7.3-14-16.42-14H53.72Zm-8-31.84h4.18V29.79H45.75Zm0,31.84h4.18v-28H45.75Zm-8,0H42V29.79H37.79ZM35.9,93.5A1.9,1.9,0,0,1,34,91.6V27.9A1.9,1.9,0,0,1,35.9,26H65.53c11,0,20,7.92,20,17.82a17.24,17.24,0,0,1-8.2,14.39C86.56,59.85,93.54,67,93.54,75.68c0,9.9-9.1,17.82-20.21,17.82Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-C",children:(0,t.jsx)("path",{d:"M77.29,68.84a1.9,1.9,0,1,1,3.3,1.88,21.65,21.65,0,1,1,0-21.48,1.9,1.9,0,1,1-3.3,1.88,18.39,18.39,0,0,0-2.93-3.82,17.93,17.93,0,1,0,2.93,21.54Zm5.35,3a1.9,1.9,0,0,1,3.28,1.91A27.92,27.92,0,1,1,61.62,32.3,28.09,28.09,0,0,1,85.94,46.19a1.9,1.9,0,0,1-3.29,1.91,24.13,24.13,0,1,0-21,35.76A24.28,24.28,0,0,0,82.64,71.88Zm5.37,3a1.9,1.9,0,1,1,3.27,1.93A34.35,34.35,0,0,1,61.62,93.58c-18.9,0-34.25-15-34.25-33.6s15.35-33.6,34.25-33.6A34.35,34.35,0,0,1,91.28,43.16,1.9,1.9,0,1,1,88,45.09,30.57,30.57,0,0,0,61.62,30.18C44.8,30.18,31.17,43.53,31.17,60s13.63,29.8,30.45,29.8A30.57,30.57,0,0,0,88,74.87Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-D",children:(0,t.jsx)("path",{d:"M62.05,81.1H48.74a1.91,1.91,0,0,1-1.9-1.9V41.13a1.91,1.91,0,0,1,1.9-1.9H62.05C74.14,39.23,84,48.58,84,60.16S74.14,81.1,62.05,81.1Zm0-3.8c10,0,18.12-7.69,18.12-17.14S72.08,43,62.05,43H50.64V77.3Zm-.17,10.36h-20a1.9,1.9,0,0,1-1.9-1.9V34.89a1.9,1.9,0,0,1,1.9-1.9h20C77.67,33,90.5,45.21,90.5,60.33S77.67,87.66,61.88,87.66Zm0-3.8c13.73,0,24.82-10.55,24.82-23.53S75.61,36.79,61.88,36.79H43.77V83.86Zm-.25,10H35A1.9,1.9,0,0,1,33.1,92V28A1.9,1.9,0,0,1,35,26.1H61.63C81.16,26.1,97,41.26,97,60S81.16,93.9,61.63,93.9Zm0-3.8c17.47,0,31.6-13.5,31.6-30.1S79.1,29.9,61.63,29.9H36.9V90.1Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-E",children:(0,t.jsx)("path",{d:"M56.41,68.62a1.9,1.9,0,1,1,0-3.8H82.23a1.9,1.9,0,0,1,0,3.8Zm0-6.57a1.9,1.9,0,1,1,0-3.8H82.23a1.9,1.9,0,0,1,0,3.8Zm.11-6.57a1.9,1.9,0,0,1,0-3.8h25.7a1.9,1.9,0,0,1,0,3.8ZM85.2,77.11a1.9,1.9,0,0,1,0,3.8H50.4A1.9,1.9,0,0,1,48.5,79V40.89A1.9,1.9,0,0,1,50.4,39H85.2a1.9,1.9,0,0,1,0,3.8H52.3V77.11Zm0,6.41a1.9,1.9,0,0,1,0,3.8H43.84a1.9,1.9,0,0,1-1.9-1.9V34.48a1.91,1.91,0,0,1,1.9-1.9H85.2a1.9,1.9,0,0,1,0,3.8H45.74V83.52Zm0,6.41a1.9,1.9,0,0,1,0,3.8H37.15a1.9,1.9,0,0,1-1.9-1.9V28.07a1.91,1.91,0,0,1,1.9-1.9H85.2a1.9,1.9,0,0,1,0,3.8H39.05v60Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-F",children:(0,t.jsx)("path",{d:"M56.81,69.47a1.9,1.9,0,0,1,0-3.8h25a1.9,1.9,0,0,1,0,3.8Zm0-6.37a1.9,1.9,0,0,1,0-3.8h25a1.9,1.9,0,0,1,0,3.8Zm.11-6.37a1.9,1.9,0,0,1,0-3.8H81.84a1.9,1.9,0,0,1,0,3.8ZM53.06,94a1.9,1.9,0,1,1-3.8,0V42.55a1.9,1.9,0,0,1,1.9-1.9H85a1.9,1.9,0,1,1,0,3.8H53.06ZM46.7,94a1.9,1.9,0,1,1-3.8,0V36.39a1.9,1.9,0,0,1,1.9-1.9H85a1.9,1.9,0,1,1,0,3.8H46.7Zm-6.5,0a1.9,1.9,0,1,1-3.8,0V30.24a1.9,1.9,0,0,1,1.9-1.9H85a1.9,1.9,0,1,1,0,3.8H40.2Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-G",children:(0,t.jsx)("path",{d:"M76.3,63.79H66A1.9,1.9,0,0,1,66,60H88.33a1.91,1.91,0,0,1,1.9,1.9v14a2,2,0,0,1-.24.92A32.29,32.29,0,0,1,61.83,93.64C43.88,93.64,29.35,78.57,29.35,60S43.88,26.35,61.83,26.35A32.28,32.28,0,0,1,90,43.2a1.9,1.9,0,0,1-3.32,1.85,28.49,28.49,0,0,0-24.84-14.9C46,30.15,33.15,43.5,33.15,60S46,89.84,61.83,89.84a28.46,28.46,0,0,0,24.6-14.47V63.79H85.16v9.08a1.86,1.86,0,0,1-.24.92A26.41,26.41,0,0,1,61.83,87.71C47.12,87.71,35.22,75.29,35.22,60s11.9-27.72,26.61-27.72a26.41,26.41,0,0,1,23.1,13.95,1.9,1.9,0,1,1-3.32,1.83,22.65,22.65,0,0,0-19.78-12C49.25,36.08,39,46.77,39,60S49.25,83.91,61.83,83.91A22.6,22.6,0,0,0,81.36,72.37V63.79H80.1v6a1.9,1.9,0,0,1-.22.9,20.57,20.57,0,0,1-18,11.05C50.37,81.76,41.11,72,41.11,60s9.26-21.77,20.72-21.77a20.19,20.19,0,0,1,14.69,6.41,21.88,21.88,0,0,1,3.36,4.65,1.9,1.9,0,0,1-3.35,1.8,17.82,17.82,0,0,0-2.77-3.83A16.37,16.37,0,0,0,61.83,42c-9.32,0-16.92,8-16.92,18s7.6,18,16.92,18A16.72,16.72,0,0,0,76.3,69.32Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-H",children:(0,t.jsx)("path",{d:"M51.11,68.2a1.9,1.9,0,1,1,0-3.8h17.6a1.9,1.9,0,1,1,0,3.8Zm0-6.4a1.9,1.9,0,1,1,0-3.8h17.6a1.9,1.9,0,1,1,0,3.8Zm0-6.4a1.9,1.9,0,0,1,0-3.8h17.6a1.9,1.9,0,1,1,0,3.8ZM88.72,91.9a1.9,1.9,0,0,1-3.8,0v-64a1.9,1.9,0,0,1,3.8,0Zm-6.58,0a1.9,1.9,0,0,1-3.8,0v-64a1.9,1.9,0,0,1,3.8,0Zm-6.72,0a1.9,1.9,0,0,1-3.8,0v-64a1.9,1.9,0,0,1,3.8,0Zm-27.32,0a1.9,1.9,0,1,1-3.8,0v-64a1.9,1.9,0,0,1,3.8,0Zm-6.58,0a1.9,1.9,0,1,1-3.8,0v-64a1.9,1.9,0,0,1,3.8,0Zm-6.72,0a1.9,1.9,0,1,1-3.8,0v-64a1.9,1.9,0,0,1,3.8,0Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-I",children:(0,t.jsx)("path",{d:"M67.79,92A1.9,1.9,0,0,1,64,92V28.32a1.9,1.9,0,0,1,3.8,0Zm-6.37,0a1.9,1.9,0,0,1-3.8,0V28.32a1.9,1.9,0,0,1,3.8,0ZM54.9,92a1.9,1.9,0,0,1-3.8,0V28.32a1.9,1.9,0,0,1,3.8,0Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-J",children:(0,t.jsx)("path",{d:"M60.78,28.32a1.9,1.9,0,0,1,3.8,0V73.07a7.66,7.66,0,0,1-15.32,0,1.9,1.9,0,1,1,3.8,0,3.86,3.86,0,0,0,7.72,0Zm6.49,0a1.9,1.9,0,1,1,3.8,0v44.8a14.16,14.16,0,1,1-28.31,0,1.9,1.9,0,0,1,3.8,0,10.36,10.36,0,1,0,20.71,0Zm6.5,0a1.9,1.9,0,1,1,3.8,0V73.07a20.66,20.66,0,1,1-41.31,0,1.9,1.9,0,1,1,3.8,0,16.86,16.86,0,1,0,33.71,0Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-K",children:(0,t.jsx)("path",{d:"M51,92a1.9,1.9,0,0,1-3.8,0V28A1.9,1.9,0,1,1,51,28ZM44.6,92a1.9,1.9,0,0,1-3.8,0V28a1.9,1.9,0,0,1,3.8,0Zm-6.7,0a1.9,1.9,0,0,1-3.8,0V28a1.9,1.9,0,0,1,3.8,0Zm51.7-3.33a1.9,1.9,0,0,1-3.26,2L68.22,60.57a1.89,1.89,0,0,1,0-2L87,27.36a1.9,1.9,0,0,1,3.26,1.95L72.06,59.58Zm-6.39,1a1.9,1.9,0,1,1-3.27,1.94L61.51,60.46a1.86,1.86,0,0,1,0-1.93L79.94,27.37a1.9,1.9,0,0,1,3.27,1.93L65.35,59.5ZM75.5,90A1.9,1.9,0,1,1,72.23,92L53.8,60.57a1.91,1.91,0,0,1,0-1.93L72.16,27.37a1.9,1.9,0,1,1,3.27,1.93L57.64,59.61Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-L",children:(0,t.jsx)("path",{d:"M84.32,75.27a1.9,1.9,0,1,1,0,3.8h-29a1.9,1.9,0,0,1-1.9-1.9V26.25a1.9,1.9,0,1,1,3.8,0v49Zm0,6.49a1.9,1.9,0,1,1,0,3.8H48.73a1.9,1.9,0,0,1-1.9-1.9V26.25a1.9,1.9,0,0,1,3.8,0V81.76Zm0,6.09a1.9,1.9,0,0,1,0,3.8H42a1.9,1.9,0,0,1-1.9-1.9V26.25a1.9,1.9,0,0,1,3.8,0v61.6Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-M",children:(0,t.jsx)("path",{d:"M89.33,29.66A1.9,1.9,0,0,1,92.58,31V89a1.9,1.9,0,1,1-3.8,0V35.63l-2.94,3V89A1.9,1.9,0,0,1,82,89V42.46l-3.27,3.31V89A1.9,1.9,0,1,1,75,89V49.61l-13.78,14a1.9,1.9,0,0,1-2.7,0l-13.78-14V89a1.9,1.9,0,0,1-3.8,0V45.77l-2.94-3V89a1.9,1.9,0,0,1-3.8,0V38.94l-3.25-3.3L31.1,89a1.9,1.9,0,0,1-3.8,0l-.2-58a1.9,1.9,0,0,1,3.25-1.35L59.84,59.52Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-N",children:(0,t.jsx)("path",{d:"M81.48,82.22,84.77,86V29a1.9,1.9,0,1,1,3.8,0V91a1.9,1.9,0,0,1-3.33,1.26L48.07,50.09V90.66a1.9,1.9,0,0,1-3.8,0V45.79L41,42.06V91a1.9,1.9,0,0,1-3.8,0V37.75L33.9,34V91a1.9,1.9,0,0,1-3.8,0V29a1.9,1.9,0,0,1,3.32-1.26L70.26,69.5V29a1.9,1.9,0,0,1,3.8,0V73.8l3.62,4.11V29a1.9,1.9,0,0,1,3.8,0Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-O",children:(0,t.jsx)("path",{d:"M93.78,60A33.78,33.78,0,1,1,60,26.22,33.79,33.79,0,0,1,93.78,60ZM90,60A30,30,0,1,0,60,90,30,30,0,0,0,90,60Zm-2.43,0A27.55,27.55,0,1,1,60,32.47,27.55,27.55,0,0,1,87.55,60Zm-3.8,0A23.75,23.75,0,1,0,60,83.76,23.75,23.75,0,0,0,83.75,60Zm-2.42.14A21.21,21.21,0,1,1,60.12,39,21.21,21.21,0,0,1,81.33,60.16Zm-3.8,0a17.41,17.41,0,1,0-17.41,17.4A17.41,17.41,0,0,0,77.53,60.16Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-P",children:(0,t.jsx)("path",{d:"M53.58,94a1.9,1.9,0,0,1-3.8,0V40.76H70.36a10.64,10.64,0,1,1,0,21.27H58.16a1.9,1.9,0,1,1,0-3.8h12.2a6.84,6.84,0,1,0,0-13.67H53.58Zm-6.42,0a1.9,1.9,0,0,1-3.8,0V34.51h27a16.89,16.89,0,1,1,0,33.77H58.15a1.9,1.9,0,1,1,0-3.8H70.31a13.09,13.09,0,1,0,0-26.17H47.16ZM41,94a1.9,1.9,0,0,1-3.8,0V28.2H70.65A23.46,23.46,0,0,1,94.37,51.4c0,12.82-10.63,23.19-23.72,23.19H58.16a1.9,1.9,0,1,1,0-3.8H70.65A19.66,19.66,0,0,0,90.57,51.4,19.66,19.66,0,0,0,70.65,32H41Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-Q",children:(0,t.jsx)("path",{d:"M70.55,86.13a1.9,1.9,0,1,1,1.31,3.57A32.63,32.63,0,1,1,90.6,71.79a1.9,1.9,0,1,1-3.5-1.48A28.67,28.67,0,1,0,60.68,87.88,28.58,28.58,0,0,0,70.55,86.13ZM66.91,81a1.9,1.9,0,1,1,1,3.65A26.65,26.65,0,1,1,87.2,59a26.75,26.75,0,0,1-.86,6.75,1.9,1.9,0,0,1-3.68-1A22.69,22.69,0,1,0,66.91,81ZM63.27,75.7a1.9,1.9,0,1,1,.56,3.76A20.53,20.53,0,1,1,81.21,58.21c0,.31,0,.63,0,.95a1.9,1.9,0,0,1-3.8,0c0-.27,0-.53,0-.79A16.64,16.64,0,1,0,60.79,75.88,17,17,0,0,0,63.27,75.7Zm35,14.66a1.9,1.9,0,0,1-3,2.29l-23.37-31a1.9,1.9,0,1,1,3-2.29Zm-7.58,0a1.9,1.9,0,0,1-3,2.29L67.13,65.25a1.9,1.9,0,1,1,3-2.28Zm-8.07-.42a1.9,1.9,0,1,1-3,2.27L62.24,68.93a1.9,1.9,0,0,1,3.05-2.28Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-R",children:(0,t.jsx)("path",{d:"M89.76,90.86a1.9,1.9,0,1,1-3.3,1.88L77.14,76.36a1.9,1.9,0,0,1,3.3-1.88Zm-7.39,0a1.9,1.9,0,0,1-3.31,1.88L69.74,76.36A1.9,1.9,0,0,1,73,74.48Zm-7.55,0a1.9,1.9,0,1,1-3.3,1.88L62.19,76.36a1.9,1.9,0,1,1,3.3-1.88Zm-26.29.85a1.9,1.9,0,0,1-3.8,0V41a1.9,1.9,0,0,1,1.9-1.9H66.69a9.16,9.16,0,0,1,0,18.31h-14a1.9,1.9,0,0,1,0-3.8h14a5.36,5.36,0,0,0,0-10.71H48.53Zm-6.54,0a1.9,1.9,0,0,1-3.8,0V34.44a1.9,1.9,0,0,1,1.9-1.9H66.63a15.72,15.72,0,0,1,0,31.43H52.71a1.9,1.9,0,0,1,0-3.8H66.63a11.92,11.92,0,0,0,0-23.83H42Zm-6,0a1.9,1.9,0,0,1-3.8,0V28.07a1.9,1.9,0,0,1,1.9-1.9H66.89a22.11,22.11,0,0,1,0,44.21H52.71a1.9,1.9,0,0,1,0-3.8H66.89a18.31,18.31,0,0,0,0-36.61H36Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-S",children:(0,t.jsx)("path",{d:"M39.81,87.1a1.9,1.9,0,1,1,0-3.8H65.55c6.77,0,12.18-4.83,12.18-10.68S72.32,62,65.55,62H60.2l-5.49,0c-8.78,0-16-6.43-16-14.47S45.93,33,54.71,33H80.45a1.9,1.9,0,0,1,0,3.8H54.71c-6.78,0-12.19,4.83-12.19,10.68S47.93,58.18,54.7,58.18l5.49,0h5.36c8.78,0,16,6.43,16,14.47s-7.2,14.48-16,14.48Zm0,6.7a1.9,1.9,0,0,1,0-3.8H65.62c10.81,0,19.51-7.83,19.51-17.38s-8.7-17.37-19.51-17.37H60.2l-5.24,0c-4.81,0-8.83-3.4-8.83-7.76s4-7.77,8.83-7.77H80.45a1.9,1.9,0,0,1,0,3.8H55c-2.84,0-5,1.85-5,4s2.19,4,5,4l5.23,0h5.43c12.83,0,23.31,9.43,23.31,21.17S78.45,93.8,65.62,93.8Zm0-13.41a1.9,1.9,0,0,1,0-3.8H65.29c2.85,0,5-1.85,5-4s-2.19-4-5-4H60.2l-5.56,0c-12.83,0-23.31-9.43-23.31-21.18S41.81,26.33,54.64,26.33H80.45a1.9,1.9,0,0,1,0,3.8H54.64C43.82,30.13,35.13,38,35.13,47.5s8.69,17.38,19.5,17.38l5.56,0h5.1c4.82,0,8.84,3.4,8.84,7.76s-4,7.77-8.84,7.77Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-T",children:(0,t.jsx)("path",{d:"M30,29H90a2,2,0,0,1,0,4H30a2,2,0,0,1,0-4ZM67.94,93a1.9,1.9,0,1,1-3.8,0V38.42a1.9,1.9,0,1,1,3.8,0Zm-6.75,0a1.9,1.9,0,0,1-3.8,0V38.42a1.9,1.9,0,1,1,3.8,0Zm-6.75,0a1.9,1.9,0,0,1-3.8,0V38.42a1.9,1.9,0,1,1,3.8,0Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-U",children:(0,t.jsx)("path",{d:"M73.25,33a1.9,1.9,0,1,1,3.8,0V68.48a17.08,17.08,0,1,1-34.15,0V33a1.9,1.9,0,0,1,3.8,0V68.48a13.28,13.28,0,1,0,26.55,0Zm6.38,0a1.9,1.9,0,0,1,3.8,0V68.47c0,13.27-10.5,24-23.47,24S36.5,81.74,36.5,68.47V33a1.9,1.9,0,1,1,3.8,0V68.47c0,11.2,8.82,20.25,19.66,20.25s19.67-9,19.67-20.25ZM86,33a1.9,1.9,0,0,1,3.8,0V68.28C89.81,85.18,76.45,98.9,60,98.9S30.1,85.18,30.1,68.28V33a1.9,1.9,0,0,1,3.8,0V68.28C33.9,83.1,45.58,95.1,60,95.1S86,83.1,86,68.28Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-V",children:(0,t.jsx)("path",{d:"M71.79,31.53a1.9,1.9,0,0,1,3.46,1.56L61.4,63.81a1.9,1.9,0,0,1-3.46,0L44.12,33.09a1.9,1.9,0,0,1,3.47-1.56L59.67,58.4Zm7.27.1a1.9,1.9,0,0,1,3.47,1.56L61.42,80.12a1.89,1.89,0,0,1-3.46,0L36.85,33.19a1.9,1.9,0,0,1,3.47-1.56L59.69,74.71ZM57.94,96.76,29.39,33.19a1.9,1.9,0,1,1,3.46-1.56L59.69,91.32,86.54,31.6A1.9,1.9,0,0,1,90,33.16L61.54,96.48a1.9,1.9,0,0,1-1.06,1.23,2,2,0,0,1-.82.17A1.9,1.9,0,0,1,57.94,96.76Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-W",children:(0,t.jsx)("path",{d:"M60,48.79a1.87,1.87,0,0,1,1.89,1.12l8.36,18.64L79.61,34.4a1.9,1.9,0,0,1,3.67,1L72.67,74l1.42,3.19L85.84,34.45a1.9,1.9,0,0,1,3.66,1l-13,47.16L78,86,92.22,34.42a1.9,1.9,0,0,1,3.66,1L80.31,92.09a2.23,2.23,0,0,1-4,.24L60,55.71,43.64,92.33a1.91,1.91,0,0,1-1.82,1.13,1.9,1.9,0,0,1-2.18-1.37L24.07,35.43a1.9,1.9,0,0,1,3.66-1L41.91,86l1.5-3.36-13-47.16a1.9,1.9,0,0,1,3.66-1L45.86,77.18,47.28,74,36.67,35.4a1.9,1.9,0,0,1,3.67-1l9.38,34.15,8.36-18.64A1.89,1.89,0,0,1,60,48.79Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-X",children:(0,t.jsx)("path",{d:"M90.27,27.25a1.9,1.9,0,0,1,3.06,2.26L74,55.69a1.9,1.9,0,1,1-3-2.26ZM54.41,75.76A1.9,1.9,0,1,1,57.47,78L46.32,93.1a1.9,1.9,0,1,1-3.06-2.26ZM82.2,27.11a1.9,1.9,0,1,1,3,2.26L69.82,50.25A1.9,1.9,0,0,1,66.76,48ZM50.34,70.22a1.9,1.9,0,0,1,3,2.25L38.29,92.91a1.9,1.9,0,0,1-3.06-2.26Zm23.41-43a1.9,1.9,0,0,1,3.06,2.26L65.57,44.71a1.9,1.9,0,1,1-3.06-2.26ZM46.15,64.59a1.9,1.9,0,0,1,3.06,2.26L29.94,92.9a1.9,1.9,0,1,1-3.05-2.25Zm47,26.06a1.9,1.9,0,0,1-3.05,2.26L43.26,29.51a1.9,1.9,0,0,1,3.06-2.26Zm-8.17,0A1.9,1.9,0,0,1,82,92.91L35.09,29.51a1.9,1.9,0,1,1,3-2.26Zm-8.2.19a1.9,1.9,0,1,1-3.06,2.26l-47-63.59a1.9,1.9,0,1,1,3.06-2.26Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-Y",children:(0,t.jsx)("path",{d:"M90,31.17a1.9,1.9,0,0,1,3,2.33l-19,24.35a1.9,1.9,0,1,1-3-2.34ZM82.11,31a1.9,1.9,0,1,1,3,2.34L70,52.79a1.9,1.9,0,0,1-3-2.34Zm-8.28.13a1.9,1.9,0,0,1,3,2.33l-11,14.14a1.9,1.9,0,0,1-3-2.34ZM44,33.5a1.9,1.9,0,0,1,3-2.33l23.36,30V96a1.9,1.9,0,0,1-3.8,0V62.46Zm-8,0a1.9,1.9,0,0,1,3-2.33l25,32.08V96a1.9,1.9,0,0,1-3.8,0V64.55Zm-8.17,0a1.9,1.9,0,0,1,3-2.33L57.21,65.11V96a1.9,1.9,0,0,1-3.8,0V66.41Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-Z",children:(0,t.jsx)("path",{d:"M35.3,43.61a1.9,1.9,0,1,1,0-3.8h27A1.9,1.9,0,0,1,64,42.61L38.69,90h47a1.9,1.9,0,0,1,0,3.8H35.52A1.9,1.9,0,0,1,33.85,91L59.16,43.61Zm0-13.52a1.9,1.9,0,1,1,0-3.8H85.49a1.9,1.9,0,0,1,1.68,2.79L61.83,76.43H85.69a1.9,1.9,0,1,1,0,3.8h-27A1.9,1.9,0,0,1,57,77.44L82.32,30.09Zm0,6.69a1.9,1.9,0,1,1,0-3.8H73.89a1.9,1.9,0,0,1,1.68,2.79L50.34,83.13H85.69a1.9,1.9,0,0,1,0,3.8H47.17a1.9,1.9,0,0,1-1.67-2.8L70.73,36.78Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-OT",children:(0,t.jsx)("path",{d:"M37.8,87.29H34V75A14.05,14.05,0,0,1,48.14,61H71.66A14.05,14.05,0,0,1,85.8,75V87.29H82V75A10.25,10.25,0,0,0,71.66,64.8H48.14A10.25,10.25,0,0,0,37.8,75ZM59.9,53A11.1,11.1,0,1,0,48.8,41.9,11.1,11.1,0,0,0,59.9,53Zm0,3.8A14.9,14.9,0,1,1,74.8,41.9,14.9,14.9,0,0,1,59.9,56.8Z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 120 120",id:"round-avatar-default-HARDWARE-TERMINAL",children:(0,t.jsx)("path",{d:"M83.1,34.8H66.9c0,0.3,0,0.6,0,0.9c0,1.2-0.3,2.4-0.9,3.6h17.1 c0.9,0,1.5,0.6,1.5,1.2v25.2c0,0.6-0.6,1.2-1.5,1.2H36.9c-0.9,0-1.5-0.6-1.5-1.2V40.5c0-0.6,0.6-1.2,1.5-1.2h16.5c-0.6-0.9-0.9-2.1-0.9-3.6c0-0.3,0-0.6,0-0.9 H36.9c-3.3,0-6,2.4-6,5.7v25.2c0,3.3,2.7,5.7,6,5.7h4.8l-3.6,17.7c-0.3,1.2,0.6,2.4,1.8,2.7s2.4-0.6,2.7-1.8l3.6-18.6h28.2L78,90 c0.6,3,5.1,2.1,4.5-0.9l-3.6-17.7h3.9c3.3,0,6-2.4,6-5.7V40.5C89.4,37.2,86.4,34.8,83.1,34.8z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 40 40",id:"round-avatar-default-phoneNumber",children:(0,t.jsx)("path",{id:"Shape",d:"M20,38.3c10.1,0,18.3-8.2,18.3-18.3S30.1,1.7,20,1.7S1.7,9.9,1.7,20S9.9,38.3,20,38.3z M20,40C9,40,0,31,0,20 S9,0,20,0s20,9,20,20S31,40,20,40z M26.9,14.2H13.1v14.4h13.8V14.2z M26.9,12.6V9.7H13.1v2.9H26.9z M12.7,8.3h14.6 c0.6,0,1,0.4,1,1V29c0,0.5-0.5,1-1,1H12.7c-0.6,0-1-0.4-1-1V9.3C11.7,8.8,12.1,8.3,12.7,8.3z M17.6,27c-0.4,0-0.7-0.4-0.7-0.8 s0.3-0.8,0.7-0.8h4.5c0.4,0,0.7,0.4,0.7,0.8S22.6,27,22.2,27H17.6z"})}),(0,t.jsx)("symbol",{viewBox:"0 0 40 40",id:"round-avatar-default-email",children:(0,t.jsx)("path",{id:"Shape",d:"M31.56,40.99 L31.56,79.54 C31.5332215,79.9507547 31.684744,80.3531279 31.9758081,80.6441919 C32.2668721,80.935256 32.6692453,81.0867785 33.08,81.06 L87.72,81.06 C88.1307547,81.0867785 88.5331279,80.935256 88.8241919,80.6441919 C89.115256,80.3531279 89.2667785,79.9507547 89.24,79.54 L89.24,41.29 L65.56,60.42 C62.5485909,62.8484585 58.2514091,62.8484585 55.24,60.42 L31.56,40.99 Z M85.9,38.56 L35.5,38.56 L57.97,57.08 C59.3645197,58.2887647 61.4354803,58.2887647 62.83,57.08 L85.9,38.56 Z M33.08,34 L87.72,34 C91.0733341,34.0109766 93.7890234,36.7266659 93.8,40.08 L93.8,79.54 C93.7890234,82.8933341 91.0733341,85.6090234 87.72,85.62 L33.08,85.62 C29.7266659,85.6090234 27.0109766,82.8933341 27,79.54 L27,40.08 C27.0109766,36.7266659 29.7266659,34.0109766 33.08,34 Z"})})]})}}))},13376:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(47796),r(67774)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=n(t);r=n(r);function n(e){return e&&e.__esModule?e:{default:e}}var i=e.default={DefaultBigAvatar:t.default,DefaultSmallAvatar:r.default}}))},93639:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var t=a(e,"string");return"symbol"==typeof t?t:t+""}function a(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function s(e,t,r){return t=f(t),u(e,l()?Reflect.construct(t,r||[],f(e).constructor):t.apply(e,r))}function u(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}let p=e.default=function(e){function t(e){var n;r(this,t);n=s(this,t,[e]);n.state={hasError:false};return n}d(t,e);return i(t,[{key:"componentDidCatch",value:function e(t,r){const{dealComponentError:n}=this.props;if(n){n(t,r)}}},{key:"render",value:function e(){if(this.state.hasError){return null}return this.props.children||null}}],[{key:"getDerivedStateFromError",value:function e(){return{hasError:true}}}])}(t.Component)}))},61765:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(93967),r(17683),r(57034),r(52817),r(99265),r(14274),r(64624),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;r=l(r);o=l(o);a=l(a);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,r){return t=y(t),v(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function E(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=w(e,"string");return"symbol"==typeof t?t:t+""}function w(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let T=e.default=function(e){function t(e){var r;f(this,t);r=p(this,t,[e]);E(r,"_close",(e=>{(0,u.getPLogger)().info("userclick _close",r.props.entry);(0,s.reactStopPropagation)(e);const{clickClose:t}=r.props;if(t){t()}else{(0,n.handleClose)(e)}}));E(r,"_maxFun",(e=>{(0,u.getPLogger)().info("userclick maxFun",r.props.entry);(0,s.reactStopPropagation)(e);const{isMaximize:t}=r.state;if(t){(0,n.unMaximize)()}else{(0,n.handleMaximize)()}r.setState({isMaximize:!t})}));E(r,"_doubleClick",(e=>{const{isUseMaxBtn:t,entry:i}=r.props;if(t){(0,s.reactStopPropagation)(e);const{isMaximize:o}=r.state;(0,u.getPLogger)().info("_doubleClick",{entry:i,isUseMaxBtn:t,isMaximize:o});if(o){(0,n.unMaximize)(`${i} _doubleClick`)}else{(0,n.handleMaximize)(`${i} _doubleClick`)}r.setState({isMaximize:!o})}}));E(r,"_setMaximize",(()=>{(0,u.getPLogger)().info("_setMaximize",r.props.entry);r.setState({isMaximize:true})}));E(r,"_setUnMaximize",(()=>{(0,u.getPLogger)().info("_setUnMaximize",r.props.entry);r.setState({isMaximize:false})}));E(r,"_correctMaxState",(0,s.debounce)((async()=>{var e,t;(0,u.getPLogger)().info("_correctMaxState",r.props.entry);if(await((e=window)===null||e===void 0?void 0:(t=e.Pedestal)===null||t===void 0?void 0:t.remote.getCurrentWindow().isMaximized())){r._setMaximize()}else{r._setUnMaximize()}}),100));r.state={isMaximize:false};(0,u.getPLogger)().info("WindowHeader constructor",r.props.entry);return r}_(t,e);return h(t,[{key:"componentDidMount",value:function e(){if(this.props.isUseMaxBtn){var t,r;(t=window.Pedestal)===null||t===void 0?void 0:t.remote.getCurrentWindow().on("maximize",this._setMaximize);(r=window.Pedestal)===null||r===void 0?void 0:r.remote.getCurrentWindow().on("unmaximize",this._setUnMaximize);window.addEventListener("resize",this._correctMaxState)}(0,u.getPLogger)().info("WindowHeader componentDidMount",this.props.entry)}},{key:"componentWillUnmount",value:function e(){var t,r;(t=window.Pedestal)===null||t===void 0?void 0:t.remote.getCurrentWindow().removeListener("maximize",this._setMaximize);(r=window.Pedestal)===null||r===void 0?void 0:r.remote.getCurrentWindow().removeListener("unmaximize",this._setUnMaximize);(0,u.getPLogger)().info("WindowHeader componentWillUnmount",this.props.entry);window.removeEventListener("resize",this._correctMaxState)}},{key:"render",value:function e(){const{isUseMinBtn:t,isUseMaxBtn:s,className:u,closeTestId:l,minTestId:f,maxTestId:d,langCode:h,title:p}=this.props;const{isMaximize:v}=this.state;const g=(0,r.default)(`meta-window-header ${u}`);const m=h==="2052"?o.default:a.default;return(0,c.jsxs)("div",{className:g,onDoubleClick:this._doubleClick,children:[(0,c.jsx)("div",{className:"meta-window-header-title",children:p}),(0,c.jsxs)("div",{className:"meta-window-header-btns",children:[t?(0,c.jsx)(i.Minimize,{onClick:n.handleMinimize,testId:f,title:m.minimize}):null,s?(0,c.jsx)(i.Maximize,{isMaximize:v,testId:d,onClick:this._maxFun,title:v?m.restore:m.maximize}):null,(0,c.jsx)(i.Close,{onClick:this._close,testId:l,title:m.close})]})]})}}])}(t.PureComponent);E(T,"defaultProps",{isUseMinBtn:true,isUseMaxBtn:true,langCode:"2052",entry:"default"})}))},17683:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(14274),r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.handleClose=s;e.handleHide=a;e.handleMaximize=n;e.handleMinimize=o;e.unMaximize=i;function n(e=""){var t,n;(0,r.getPLogger)().info("handleMaximize");(t=window)===null||t===void 0?void 0:(n=t.Pedestal)===null||n===void 0?void 0:n.remote.getCurrentWindow().maximize(e)}function i(e=""){var t,n;(0,r.getPLogger)().info("unMaximize");(t=window)===null||t===void 0?void 0:(n=t.Pedestal)===null||n===void 0?void 0:n.remote.getCurrentWindow().unmaximize(e)}function o(e){var n,i;(0,r.getPLogger)().info("userclick handleMinimize");(0,t.reactStopPropagation)(e);(n=window)===null||n===void 0?void 0:(i=n.Pedestal)===null||i===void 0?void 0:i.remote.getCurrentWindow().minimize("meta-ui-head")}function a(e){var n,i;(0,r.getPLogger)().info("handleHide");(0,t.reactStopPropagation)(e);(n=window)===null||n===void 0?void 0:(i=n.Pedestal)===null||i===void 0?void 0:i.remote.getCurrentWindow().hide("meta-ui-head")}function s(e){var n,i;(0,r.getPLogger)().info("handleClose");(0,t.reactStopPropagation)(e);(n=window)===null||n===void 0?void 0:(i=n.Pedestal)===null||i===void 0?void 0:i.remote.getCurrentWindow().close("meta-ui-head")}}))},98042:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(93967),r(17683),r(57034),r(52817),r(99265),r(14274),r(64624),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;r=l(r);o=l(o);a=l(a);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,r){return t=y(t),v(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function E(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=w(e,"string");return"symbol"==typeof t?t:t+""}function w(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let T=e.default=function(e){function t(e){var r;f(this,t);r=p(this,t,[e]);E(r,"_close",(e=>{(0,u.getPLogger)().info("userclick _close",r.props.entry);(0,s.reactStopPropagation)(e);const{clickClose:t}=r.props;if(t){t()}else{(0,n.handleHide)(e)}}));E(r,"maxFun",(e=>{(0,u.getPLogger)().info("userclick maxFun",r.props.entry);(0,s.reactStopPropagation)(e);const{isMaximize:t}=r.state;r.setState({isMaximize:!t},(()=>{if(r.state.isMaximize){(0,n.handleMaximize)()}else{(0,n.unMaximize)()}}))}));E(r,"doubleClick",(e=>{(0,s.reactStopPropagation)(e);const{isMaximize:t}=r.state;const{isDoubleClick:i}=r.props;(0,u.getPLogger)().info("doubleClick",{entry:r.props.entry,isDoubleClick:r.props.isDoubleClick,isMaximize:r.state.isMaximize});if(i){r.setState({isMaximize:!t},(()=>{if(r.state.isMaximize){(0,n.handleMaximize)(`${r.props.entry} doubleClick`)}else{(0,n.unMaximize)(`${r.props.entry} doubleClick`)}}))}}));E(r,"_setMaximize",(()=>{(0,u.getPLogger)().info("_setMaximize",r.props.entry);r.setState({isMaximize:true})}));E(r,"_setUnMaximize",(()=>{(0,u.getPLogger)().info("_setUnMaximize",r.props.entry);r.setState({isMaximize:false})}));E(r,"_correctMaxState",(0,s.debounce)((async()=>{var e,t;(0,u.getPLogger)().info("_correctMaxState",r.props.entry);if(await((e=window)===null||e===void 0?void 0:(t=e.Pedestal)===null||t===void 0?void 0:t.remote.getCurrentWindow().isMaximized())){r._setMaximize()}else{r._setUnMaximize()}}),100));r.state={isMaximize:false};(0,u.getPLogger)().info("WinHeader constructor",r.props.entry);return r}_(t,e);return h(t,[{key:"componentDidMount",value:function e(){if(this.props.isUseMaxBtn){var t,r,n,i;(t=window)===null||t===void 0?void 0:(r=t.Pedestal)===null||r===void 0?void 0:r.remote.getCurrentWindow().on("maximize",this._setMaximize);(n=window)===null||n===void 0?void 0:(i=n.Pedestal)===null||i===void 0?void 0:i.remote.getCurrentWindow().on("unmaximize",this._setUnMaximize);window.addEventListener("resize",this._correctMaxState)}(0,u.getPLogger)().info("WinHeader componentDidMount",this.props.entry)}},{key:"componentWillUnmount",value:function e(){var t,r,n,i;(t=window)===null||t===void 0?void 0:(r=t.Pedestal)===null||r===void 0?void 0:r.remote.getCurrentWindow().removeListener("maximize",this._setMaximize);(n=window)===null||n===void 0?void 0:(i=n.Pedestal)===null||i===void 0?void 0:i.remote.getCurrentWindow().removeListener("unmaximize",this._setUnMaximize);(0,u.getPLogger)().info("WinHeader componentWillUnmount",this.props.entry);window.removeEventListener("resize",this._correctMaxState)}},{key:"render",value:function e(){const{isUseMinBtn:t,isUseMaxBtn:s,isUseDrag:u,className:l,component:f,closeTestId:d,minTestId:h,maxTestId:p,langCode:v,title:g}=this.props;const{isMaximize:m}=this.state;const y=(0,r.default)({use_drag:u,no_drag:!u},`meta-head-win ${l}`);const _=v==="2052"?o.default:a.default;return(0,c.jsxs)("div",{className:y,onDoubleClick:this.doubleClick,children:[(0,c.jsx)("div",{className:"win_left",children:g||f}),(0,c.jsxs)("div",{className:"win_right",children:[t&&(0,c.jsx)(i.Minimize,{onClick:n.handleMinimize,testId:h,title:_.minimize}),s&&(0,c.jsx)(i.Maximize,{isMaximize:m,testId:p,onClick:this.maxFun,title:m?_.restore:_.maximize}),(0,c.jsx)(i.Close,{onClick:this._close,testId:d,title:_.close})]})]})}}])}(t.PureComponent);E(T,"defaultProps",{closeTestId:"",minTestId:"",maxTestId:"",isUseMinBtn:true,isUseMaxBtn:true,isUseDrag:true,isDoubleClick:false,langCode:"2052",entry:"default"})}))},99265:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;const t={close:"Close",minimize:"Minimize",maximize:"Maximize",restore:"Restore"};var r=e.default=t}))},52817:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;const t={close:"关闭",minimize:"最小化",maximize:"最大化",restore:"还原"};var r=e.default=t}))},57034:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Close=r;e.Maximize=i;e.Minimize=n;function r(e){const{onClick:r,testId:n,title:i}=e;return(0,t.jsx)("div",{className:"win_btn",onClick:r,"data-testid":n,title:i,children:(0,t.jsx)("svg",{version:"1.1",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M17.4,7.2l-4.5,4.5l4.5,4.5l-0.9,0.9L12,12.6l-4.5,4.5l-0.9-0.9l4.5-4.5L6.6,7.2l0.9-0.9l4.5,4.5l4.5-4.5L17.4,7.2z"})})})}function n(e){const{onClick:r,testId:n,title:i}=e;return(0,t.jsx)("div",{className:"win_btn",onClick:r,"data-testid":n,title:i,children:(0,t.jsx)("svg",{version:"1.1",viewBox:"0 0 24 24",children:(0,t.jsx)("polygon",{points:"7,12.6 7,11.4 17,11.4 17,12.6 "})})})}function i(e){const{onClick:r,isMaximize:n,testId:i,title:o}=e;const a=!n?"M8.3,8.3v8.4h8.4V8.3H8.3z M7,7h11v11H7V7z":"M15.5,9v9h-9V9H15.5z M14.2,10.3H7.8v6.4h6.4L14.2,10.3z M18,6.5v9h-3v-1.3h1.7V7.8h-6.4V10H9V6.5H18z";return(0,t.jsx)("div",{className:"win_btn",onClick:r,"data-testid":i,title:o,children:(0,t.jsx)("svg",{version:"1.1",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:a})})})}}))},91661:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(54725),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.DefaultFooter=void 0;t=i(t);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==typeof t?t:t+""}function c(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const l=({cancelText:e,cancelButtonProps:n={},cancelClick:i,okText:o,okButtonProps:s={},okClick:u})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.default,a(a({className:"meta-modal-footer-button",type:t.typeMap.STROKE,size:t.sizeMap.SMALL,title:e,onClick:i,color:t.colorMap.BLUE},n),{},{dataTestid:"confirmButtonCancel0123",children:e})),(0,r.jsx)(t.default,a(a({className:"meta-modal-footer-button",type:t.typeMap.FILL,size:t.sizeMap.SMALL,title:o,onClick:u,color:t.colorMap.BLUE},s),{},{style:{marginLeft:"10px"},dataTestid:"confirmButtonOk0123",children:o}))]});e.DefaultFooter=l}))},42073:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(61431),r(14274),r(73935),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;r=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return t=p(t),f(e,h()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=_(e,"string");return"symbol"==typeof t?t:t+""}function _(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let b=e.default=function(e){function t(){s(this,t);return l(this,t,arguments)}v(t,e);return c(t,[{key:"render",value:function e(){const{title:t,content:a,footer:s,getContainer:u,visible:c,transitionName:l,width:f,maskTransitionName:d,mask:h,zIndex:p,maskClosable:v,keyboard:g,onClose:m}=this.props;if(!c){return null}let y="meta-modal";if((0,n.formatType)(a)===n.formatType.STRING){y+="-text"}return(0,i.createPortal)((0,o.jsx)("div",{children:(0,o.jsx)(r.default,{transitionName:l||"zoom",closable:false,title:t,getContainer:u||false,footer:s,visible:c,closeIcon:null,width:f,maskTransitionName:d||"fade",mask:h,zIndex:p,maskClosable:v,prefixCls:y,keyboard:g,onClose:m,children:(0,n.formatType)(a)===n.formatType.STRING?(0,o.jsx)("span",{className:"meta-modal-body-content",title:a,children:a}):a})}),document.body)}}])}(t.Component);m(b,"defaultProps",{getContainer:()=>document.body,mask:true,maskClosable:false,maskStyle:null,title:"",keyboard:false,visible:false});m(b,"confirm",void 0);m(b,"destroyAll",void 0);m(b,"showModalView",void 0)}))},72115:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(62337),r(42073),r(91661),r(98042),r(84417),r(64624),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=c;r=u(r);i=u(i);function u(e){return e&&e.__esModule?e:{default:e}}function c({keyboard:e,okText:u="确定",okButtonProps:c,cancelText:l="取消",cancelButtonProps:f,languageCode:d,title:h="",content:p=""}){const v=document.createElement("div");document.body.appendChild(v);const g=(0,o.reactRenderPolyfill)(v);return new Promise((o=>{const m=({ret:e=false,isClickClose:r=false}={})=>{var n;(n=(0,a.getPLogger)())===null||n===void 0?void 0:n.info("confirm.onClose",h,p,e,r);const i=(0,t.getDialogCloseFuncList)();requestAnimationFrame((()=>{var e;g===null||g===void 0?void 0:g.unmount();v===null||v===void 0?void 0:(e=v.parentNode)===null||e===void 0?void 0:e.removeChild(v)}));const s=i.findIndex((e=>e.onClose===m));if(s>-1){i.splice(s,1)}o({ret:e,isClickClose:r})};const y=()=>{m({ret:true})};g===null||g===void 0?void 0:g.render((0,s.jsx)(r.default,{visible:true,title:(0,s.jsx)(i.default,{isUseDrag:false,isUseMinBtn:false,isUseMaxBtn:false,title:h,clickClose:()=>m({isClickClose:true}),langCode:d}),width:280,maskClosable:false,onOk:y,content:p,keyboard:e,footer:(0,s.jsx)(n.DefaultFooter,{cancelButtonProps:f,cancelClick:()=>m({}),cancelText:l,okButtonProps:c,okClick:y,okText:u})}));(0,t.setDialogCloseFunc)({onClose:m,keyboard:e})}))}}))},62337:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.setDialogCloseFunc=e.getDialogCloseFuncList=void 0;const t=[];const r=e=>{t.push(e)};e.setDialogCloseFunc=r;const n=()=>t;e.getDialogCloseFuncList=n}))},63138:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(42073),r(72115),r(62337),r(64624),r(84417),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;e.showModalView=c;t=s(t);r=s(r);function s(e){return e&&e.__esModule?e:{default:e}}const u=()=>{const e=(0,n.getDialogCloseFuncList)();[...e].forEach((e=>{e.onClose({ret:false,isClickClose:true})}))};function c({content:e,zIndex:r,maskClosable:n}){const s=document.createElement("div");document.body.appendChild(s);const u=(0,o.reactRenderPolyfill)(s);const c=()=>{(0,i.getPLogger)().info("closeModal");requestAnimationFrame((()=>{var e;u===null||u===void 0?void 0:u.unmount();s===null||s===void 0?void 0:(e=s.parentNode)===null||e===void 0?void 0:e.removeChild(s)}))};u===null||u===void 0?void 0:u.render((0,a.jsx)(t.default,{visible:true,maskClosable:n,content:e,zIndex:r,onClose:c}));return c}t.default.confirm=r.default;t.default.showModalView=c;t.default.destroyAll=u;document.addEventListener("keydown",(e=>{const t=(0,n.getDialogCloseFuncList)();if(t.length>0){const r=t[t.length-1];if(r.keyboard){if(e.code==="Enter"||e.code==="NumpadEnter"){r.onClose({ret:true})}}}}));var l=e.default=t.default}))},78159:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624),r(1474),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;const i=e=>{const{size:i,content:o,borderColor:a,logoPath:s,hasBorder:u=false,pointColor:c,needCodePadding:l=true,backgroundColor:f}=e;(0,t.getPLogger)().debug("QrCode",{size:i,content:o,borderColor:a,logoPath:s,hasBorder:u,needCodePadding:l});let d=i;let h={width:`${i}px`,height:`${i}px`,border:"none"};if(u){const e=Math.round(i/45);const t=Math.round(i/10);d=Math.round(i*38/45);h={width:`${i}px`,height:`${i}px`,borderColor:a,borderWidth:`${e}px`,borderRadius:`${t}px`}}const p=r.QrCodeUtil.createQrCode({qrCodeContent:o,qrCodeSize:d,pointColor:c||"#000000",needCodePadding:l,logoPath:s,hasBorder:u,backgroundColor:f});return(0,n.jsx)("div",{style:h,className:"meta-qr-code-container",dangerouslySetInnerHTML:{__html:p.outerHTML}})};const o=({ctx:e,offset:r,qrCodeSvg:n})=>new Promise(((i,o)=>{const a=new Image;const s=(new XMLSerializer).serializeToString(n);a.onload=function(){(0,t.getPLogger)().debug("drawQrContentOnCanvas onload");e===null||e===void 0?void 0:e.drawImage(a,r,r);i()};a.onerror=function(e){(0,t.getPLogger)().debug("drawQrContentOnCanvas onerror",e);o(e)};a.src="data:image/svg+xml;base64,"+btoa(s)}));const a=({ctx:e,size:r,radius:n,borderSize:i,borderColor:o,isStroke:a=false,offset:s=0})=>{(0,t.getPLogger)().debug("drawRoundRectPath",{size:r,radius:n,borderSize:i,borderColor:o});if(!e){return}e.beginPath();e.arc(r-n+s,r-n+s,n,0,Math.PI/2);e.lineTo(n+s,r+s);e.arc(n+s,r-n+s,n,Math.PI/2,Math.PI);e.lineTo(s,n+s);e.arc(n+s,n+s,n,Math.PI,Math.PI*3/2);e.lineTo(r-n+s,s);e.arc(r-n+s,n+s,n,Math.PI*3/2,Math.PI*2);e.lineTo(r+s,r-n+s);e.closePath();a&&(e.lineWidth=i);if(o){e.fillStyle=o;a?e.strokeStyle=o:e.fillStyle=o}a?e.stroke():e.fill()};const s=({ctx:e,offset:r,logoPath:n,logoSize:i})=>new Promise(((o,a)=>{const s=new Image;(0,t.getPLogger)().debug("drawLogoOnCanvas",n);s.onload=function(){(0,t.getPLogger)().debug("drawLogoOnCanvas onload");e===null||e===void 0?void 0:e.drawImage(s,r,r,i,i);o(true)};s.onerror=function(e){(0,t.getPLogger)().debug("drawLogoOnCanvas onerror",e);a(e)};s.src=n}));const u=async({size:e,content:t,borderColor:n,logoPath:i,hasBorder:u,pointColor:c,needCodePadding:l,backgroundColor:f})=>{let d=0;let h=e;if(u){h=Math.round(e*38/45);d=Math.round(e/45)}const p=r.QrCodeUtil.createQrCode({qrCodeContent:t,qrCodeSize:h,pointColor:c||"#000000",needCodePadding:l,isHighLevel:!!i,hasBorder:u,backgroundColor:f});h=parseInt(p.getAttribute("width")||"0");const v=document.createElement("canvas");v.width=e;v.height=e;const g=v.getContext("2d");await o({ctx:g,offset:(e-h)/2,qrCodeSvg:p});if(u){a({ctx:g,borderColor:n,size:e-d,borderSize:d,radius:Math.round(e/10),offset:d/2,isStroke:true})}if(i){const t=Math.round(h*5/19);if(u){const r=Math.round(t/10);const n=Math.round(t/4);const i=t+r*2;const o=(e-i)/2;a({ctx:g,size:i,borderSize:0,borderColor:"#ffffff",radius:n,offset:o})}const r=(e-t)/2;await s({ctx:g,offset:r,logoPath:i,logoSize:t})}return v.toDataURL("image/png")};const c=({size:e,content:t,pointColor:n,needCodePadding:i=true,backgroundColor:o})=>{const a=r.QrCodeUtil.createQrCode({qrCodeContent:t,qrCodeSize:e,pointColor:n||"#000000",needCodePadding:i,isHighLevel:false,hasBorder:false,backgroundColor:o});const s=(new XMLSerializer).serializeToString(a);return"data:image/svg+xml;base64,"+btoa(s)};var l=e.default=i;i.createQrCodeBase64=u;i.createQrCodeSvgBase64=c}))},1143:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(6974)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.QRCodeKit=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=s(e,"string");return"symbol"==typeof t?t:t+""}function s(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let u=e.QRCodeKit=function(){function e(){r(this,e)}return i(e,null,[{key:"createQRCode",value:function r({data:n,hint:i,width:o,height:a,needCodePadding:s,pointColor:u,backgroundColor:c}){return new t.RoundSquareQRCodeWriter(s,u,c||e.WHITE).encodeGetImage(n,o,a,i)}}])}();o(u,"WHITE","#ffffff")}))},1474:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(1143),r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.QrCodeUtil=void 0;function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==typeof t?t:t+""}function s(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let u=e.QrCodeUtil=function(){function e(){n(this,e)}return o(e,null,[{key:"createQrCode",value:function n({qrCodeContent:i,qrCodeSize:o,pointColor:a,needCodePadding:s,logoPath:u,isHighLevel:c=false,hasBorder:l,backgroundColor:f}){(0,r.getPLogger)().debug("createQrCode",{qrCodeContent:i,qrCodeSize:o,pointColor:a,needCodePadding:s,logoPath:u,hasBorder:l,backgroundColor:f});const d=new Map;if(u||c){d.set("errorCorrectionLevel","H")}const h=t.QRCodeKit.createQRCode({data:i,hint:d,width:o,height:o,needCodePadding:s,pointColor:a,backgroundColor:f});if(u){e.addLogo({svg:h,logoPath:u})}h.setAttribute("height",o.toString());h.setAttribute("width",o.toString());return h}},{key:"addLogo",value:function e({svg:t,logoPath:n}){const i=parseInt(t.getAttribute("width")||"0");const o=document.createElementNS("http://www.w3.org/2000/svg","rect");const a=Math.round(i*5/19);const s=Math.round(a/10);const u=Math.round(a/4);const c=a+s*2;const l=(i-c)/2;o.setAttribute("x",l.toString());o.setAttribute("y",l.toString());o.setAttribute("rx",u.toString());o.setAttribute("ry",u.toString());o.setAttribute("width",c.toString());o.setAttribute("height",c.toString());o.setAttribute("fill","#ffffff");const f=document.createElementNS("http://www.w3.org/2000/svg","image");const d=(i-a)/2;f.setAttribute("xlink:href",n);f.setAttribute("x",d.toString());f.setAttribute("y",d.toString());f.setAttribute("width",a.toString());f.setAttribute("height",a.toString());(0,r.getPLogger)().debug("addLogo",{rectSize:c,qrCodeSize:i,rectX:l,imageX:d,logoSize:a});t.appendChild(o);t.appendChild(f)}}])}()}))},6974:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(92592),r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RoundSquareQRCodeWriter=void 0;t=n(t);function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==typeof t?t:t+""}function c(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const l="http://www.w3.org/2000/svg";let f=e.RoundSquareQRCodeWriter=function(){function e(t,r,n){i(this,e);s(this,"needCodePadding",void 0);s(this,"pointColor",void 0);s(this,"bgColor",void 0);this.needCodePadding=t||false;this.pointColor=r;this.bgColor=n}return a(e,[{key:"encodeGetImage",value:function e(r,n,i,o){const a=(o===null||o===void 0?void 0:o.get("errorCorrectionLevel"))||"L";const s=t.default.create(r,{errorCorrectionLevel:a});return this.renderBufferedImage(s,n,i)}},{key:"renderBufferedImage",value:function e(t,n,i){const o=t.modules;(0,r.getPLogger)().debug("renderBufferedImage input",o);const a=o.size;const s=o.size;const u=Math.max(n,a);const c=Math.max(i,s);const l=Math.min(Math.floor(u/a),Math.floor(c/s));const f=this.needCodePadding?Math.max(0,Math.floor(l/3)):0;(0,r.getPLogger)().debug("renderBufferedImage",{multiple:l,inputWidth:a,codePointPadding:f});const d=Math.max(l-f,1);const h=Math.floor(f/2);const p=this.createSVGElement(String(a*l),String(s*l));p.style.backgroundColor=this.bgColor;const v=this.findCodeEyesWidth(o);const g=v*l;this.drawCodeEyesRect(0,0,g,l,p);this.drawCodeEyesRect(parseInt(p.getAttribute("width"))-g,0,g,l,p);this.drawCodeEyesRect(0,parseInt(p.getAttribute("height"))-g,g,l,p);for(let e=0,t=0;e<s;e++,t+=l){let r=0;let n=0;let i=a;if(e<v){r+=v;n=v*l;i=a-v}else if(e>s-1-v){r+=v;n=v*l}for(;r<i;r++,n+=l){if(o.data[e+r*o.size]===1){const e=this.createSvgRectElement({x:n+h,y:t+h,w:d,h:d,stroke:undefined,strokeWidth:undefined,radius:undefined});p.appendChild(e)}}}return p}},{key:"findCodeEyesWidth",value:function e(t){let n=0;for(let e=0;e<t.size;e++){if(t.data[e]===1){n++}else{break}}(0,r.getPLogger)().debug("findCodeEyesWidth",n);return n}},{key:"createSvgRectElement",value:function e({x:t,y:r,w:n,h:i,radius:o,fill:a=this.pointColor,stroke:s,strokeWidth:u}){const c=document.createElementNS(l,"rect");c.setAttribute("x",t.toString());c.setAttribute("y",r.toString());o&&c.setAttribute("rx",o.toString());o&&c.setAttribute("ry",o.toString());c.setAttribute("height",n.toString());c.setAttribute("width",i.toString());c.setAttribute("fill",a);s&&c.setAttribute("stroke",s);u&&c.setAttribute("stroke-width",u);return c}},{key:"drawCodeEyesRect",value:function e(t,n,i,o,a){(0,r.getPLogger)().debug("drawCodeEyesRect",{x:t,y:n,size:i,multiple:o,svgElement:a});this.drawRoundRect({x:t+o/2,y:n+o/2,size:i-o,svgElement:a,stroke:this.pointColor,strokeWidth:o.toString(),fill:"none"});this.drawRoundRect({x:t+o*2,y:n+o*2,size:i-o*4,svgElement:a})}},{key:"drawRoundRect",value:function e({x:t,y:r,size:n,fill:i,svgElement:o,stroke:a,strokeWidth:s}){const u=this.createSvgRectElement({x:t,y:r,w:n,h:n,radius:n/4,fill:i,stroke:a,strokeWidth:s});o.appendChild(u)}},{key:"createSVGElement",value:function e(t,r){const n=document.createElementNS(l,"svg");n.setAttribute("height",t);n.setAttribute("width",r);n.setAttribute("viewBox",`0 0 ${t} ${r}`);return n}}])}()}))},60691:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return t=l(t),s(e,c()?Reflect.construct(t,r||[],l(e).constructor):t.apply(e,r))}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=v(e,"string");return"symbol"==typeof t?t:t+""}function v(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let g=function(e){function t(...e){var r;n(this,t);r=a(this,t,[...e]);h(r,"_onChange",(e=>{const{disabled:t,onChange:n}=r.props;if(t){return}n===null||n===void 0?void 0:n(e)}));return r}f(t,e);return o(t,[{key:"render",value:function e(){const{label:t,value:n,className:i,disabled:o,dataTestid:a,selectValue:s}=this.props;const u=n===s;let c="meta-radio";u&&(c+=" active");o&&(c+=" disabled");if(i){c+=" "+i}return(0,r.jsxs)("label",{className:c,"data-testid":a,children:[(0,r.jsx)("input",{type:"radio",className:"radio-input",checked:u,value:n,onChange:this._onChange}),(0,r.jsx)("span",{className:"radio-inner"}),(0,r.jsx)("span",{className:"radio-label",children:t})]})}}])}(t.Component);var m=e.default=g}))},83869:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(60691),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;r=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return t=d(t),c(e,f()?Reflect.construct(t,r||[],d(e).constructor):t.apply(e,r))}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let y=function(e){function t(e){var r;var n;o(this,t);n=u(this,t,[e]);v(n,"_selectRadio",(e=>{var t,r;const{value:i}=e.target;n.setState({selectValue:i});(t=(r=n.props).onChange)===null||t===void 0?void 0:t.call(r,e)}));n.state={selectValue:e.value||((r=e.radioList[0])===null||r===void 0?void 0:r.value)};return n}h(t,e);return s(t,[{key:"componentDidUpdate",value:function e(t){if(t.value!==this.props.value){this.setState({selectValue:this.props.value})}}},{key:"render",value:function e(){const{radioList:t}=this.props;const{selectValue:i}=this.state;return(0,n.jsx)("div",{className:"meta-radio-group",children:t.map((({value:e,label:t})=>(0,n.jsx)(r.default,{value:e,label:t,selectValue:i,onChange:this._selectRadio},e)))})}}])}(t.Component);var _=e.default=y}))},13832:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return t=l(t),s(e,c()?Reflect.construct(t,r||[],l(e).constructor):t.apply(e,r))}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=v(e,"string");return"symbol"==typeof t?t:t+""}function v(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let g=e.default=function(e){function t(...e){var r;n(this,t);r=a(this,t,[...e]);h(r,"scroller",void 0);h(r,"style",{});h(r,"_setScrollerElem",(e=>{if(e){r.scroller=e}}));h(r,"getScrollerElem",(()=>r.scroller||null));return r}f(t,e);return o(t,[{key:"render",value:function e(){const{tagName:t="div",children:n,onWheel:i,onWheelCapture:o,onScroll:a,onContextMenu:s,style:u}=this.props;let{className:c}=this.props;c+=" meta-scroller";if(t==="ul"){return(0,r.jsx)("ul",{style:u,className:c,onWheelCapture:o,onWheel:i,onScroll:a,onContextMenu:s,ref:this._setScrollerElem,children:n})}return(0,r.jsx)("div",{style:u,className:c,onWheelCapture:o,onWheel:i,onScroll:a,onContextMenu:s,ref:this._setScrollerElem,children:n})}}])}(t.PureComponent)}))},36809:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(93967),r(13832),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Select=e.Option=void 0;t=s(t);r=o(r);n=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function u(e){const{color:t="#d9d9d9"}=e;return(0,i.jsx)("div",{className:"meta-select-arrow",children:(0,i.jsx)("svg",{version:"1.1",viewBox:"64 64 896 896",children:(0,i.jsx)("path",{fill:t,d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"})})})}const c=({className:e,title:t,value:n,children:o,onClick:a})=>(0,i.jsx)("div",{className:(0,r.default)("meta-select-option",e),title:t,onClick:()=>a===null||a===void 0?void 0:a(n),children:o});e.Option=c;const l=({className:e,defaultValue:o,value:a,disabled:s,children:c,onChange:l})=>{const f=(0,t.useRef)(null);const[d,h]=(0,t.useState)(undefined);const[p,v]=(0,t.useState)(false);const[g,m]=(0,t.useState)(o);const[y,_]=(0,t.useState)(false);const b=()=>{if(s){return}v(!p)};const E=e=>{var t,r;m(e);v(false);f===null||f===void 0?void 0:(t=f.current)===null||t===void 0?void 0:(r=t.focus)===null||r===void 0?void 0:r.call(t);l===null||l===void 0?void 0:l(e)};const S=e=>{if(e){if(d){clearTimeout(d);h(undefined)}_(e)}else{const e=setTimeout((()=>{_(false);v(false)}),200);h(e)}};const w=e=>{let r="";t.Children.forEach(c,(t=>{if((t===null||t===void 0?void 0:t.props.value)===e){r=t===null||t===void 0?void 0:t.props.title}}));return r};(0,t.useEffect)((()=>{m(a!==undefined?a:o)}),[a,o]);return(0,i.jsxs)("div",{className:(0,r.default)("meta-select",e),children:[(0,i.jsxs)("div",{className:(0,r.default)("meta-select-selection",e,{focus:y,show:p,disabled:s}),tabIndex:1,ref:f,onFocus:()=>S(true),onBlur:()=>S(false),onClick:b,children:[(0,i.jsx)("span",{className:"meta-select-selection-item",children:w(g)}),(0,i.jsx)(u,{})]}),p&&(0,i.jsx)(n.default,{className:"meta-select-options",children:t.Children.map(c,(e=>e&&(0,t.cloneElement)(e,{onClick:E,className:g===e.props.value?"active":""})))})]})};e.Select=l}))},63310:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(14274),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return t=f(t),u(e,l()?Reflect.construct(t,r||[],f(e).constructor):t.apply(e,r))}function u(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=g(e,"string");return"symbol"==typeof t?t:t+""}function g(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let m=e.default=function(e){function t(...e){var n;i(this,t);n=s(this,t,[...e]);p(n,"_canvas",void 0);p(n,"_images",[]);p(n,"_animationIndex",0);p(n,"_animation",(()=>{var e;const{startShowSequenceFrames:t}=n.props;if(!t){return}const{width:i,height:o,srcList:a}=n.props;const s=1e3/a.length;const u=(e=n._canvas)===null||e===void 0?void 0:e.getContext("2d");if(!u){return}u.clearRect(0,0,i,o);u.drawImage(n._images[n._animationIndex],0,0,i,o);if(n._animationIndex===a.length-1){n._animationIndex=0;(0,r.sleep)(s).then((()=>{n._animation()}))}else{(0,r.sleep)(s).then((()=>{n._animationIndex++;n._animation()}))}}));p(n,"_renderImg",(async()=>{const{srcList:e}=n.props;const t=[];for(let r=0;r<e.length;r++){const i=new Promise((t=>{n._images[r]=new Image;n._images[r].src=e[r];n._images[r].onload=()=>{t()};n._images[r].onerror=()=>{t()}}));t.push(i)}await Promise.all(t);n._animationIndex=0;n._animation()}));p(n,"_getRef",(e=>{n._canvas=e}));return n}d(t,e);return a(t,[{key:"componentDidMount",value:function e(){this._renderImg()}},{key:"componentDidUpdate",value:function e(){this._renderImg()}},{key:"render",value:function e(){const{width:t,className:r,height:i,onClick:o,staticDom:a,startShowSequenceFrames:s}=this.props;if(!s){return a}return(0,n.jsx)("canvas",{width:t,height:i,className:r,ref:this._getRef,onClick:o})}}])}(t.Component)}))},98588:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(93967),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.SoundColumn=void 0;t=n(t);function n(e){return e&&e.__esModule?e:{default:e}}const i=({columnCount:e,currColumnValue:n,className:i})=>(0,r.jsx)("div",{className:(0,t.default)("meta-sound-column",i),children:"0".repeat(e).split("").map(((e,i)=>(0,r.jsx)("div",{className:(0,t.default)("sound-column-item",{used:n>i})},i)))});e.SoundColumn=i}))},61576:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(19942),r(25256),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;r=a(r);var o;function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return t=p(t),f(e,h()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=_(e,"string");return"symbol"==typeof t?t:t+""}function _(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let b=e.default=function(e){function t(){s(this,t);return l(this,t,arguments)}v(t,e);return c(t,[{key:"render",value:function e(){let{viewBox:t,xlinkHref:n,className:o="",useClassName:a,type:s,color:u,size:c,hoverColor:l,activeColor:f}=this.props;o+=" meta-svg-icon";let d="";u&&(d+=` ${u}`);l&&(d+=` hover-${l}`);f&&(d+=` active-${f}`);c&&(d+=` ${c}`);if(s&&r.default[s]){const e=r.default[s];return(0,i.jsx)("div",{className:o,children:(0,i.jsx)(e,{className:d})})}if(n){return(0,i.jsx)("div",{className:o,children:(0,i.jsx)("svg",{className:d,viewBox:t,children:(0,i.jsx)("use",{xlinkHref:n,className:a})})})}return(0,i.jsx)("div",{})}}])}(t.Component);o=b;m(b,"typeMap",n.typeMap);m(b,"sizeMap",{size24:"size24",size42:"size42"});m(b,"viewBoxMap",{viewBox42:"0 0 42 42"});m(b,"colorMap",{col999999:"col999999",col666666:"col666666",col333333:"col333333",col0d94ff:"col0d94ff"});m(b,"defaultProps",{viewBox:"",xlinkHref:"",className:"",useClassName:"",type:"",color:o.colorMap.col999999,size:o.sizeMap.size24,hoverColor:o.colorMap.col0d94ff,activeColor:o.colorMap.col0d94ff})}))},19942:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(25256),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==typeof t?t:t+""}function c(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function e(t){return(0,n.jsx)("svg",a(a({},t),{},{children:(0,n.jsx)("path",{d:"m17.4 7.2-4.5 4.5 4.5 4.5-.9.9-4.5-4.5-4.5 4.5-.9-.9 4.5-4.5-4.5-4.5.9-.9 4.5 4.5 4.5-4.5.9.9z"})}))};l.defaultProps={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};var f=function e(t){return(0,n.jsx)("svg",a(a({},t),{},{children:(0,n.jsx)("g",{stroke:"#666",strokeWidth:"1.681",fill:"none",fillRule:"evenodd",strokeLinecap:"round",children:(0,n.jsx)("path",{d:"m11.493 11.533 19.015 19.015M30.507 11.533 11.492 30.548"})})}))};f.defaultProps={viewBox:"0 0 42 42",xmlns:"http://www.w3.org/2000/svg"};const d={[r.typeMap.close]:l,[r.typeMap.bigClose]:f};var h=e.default=d}))},25256:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.typeMap=void 0;const t=e.typeMap={close:"close",bigClose:"maxHubClose"}}))},79016:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(10091),r(51020),r(93967),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;n=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var a=({data:e,className:o,loop:a})=>{o=(0,n.default)("meta-swiper",o);return(0,i.jsx)(t.Swiper,{className:o,navigation:{disabledClass:"meta-swiper-button-disabled"},modules:[r.Navigation,r.Pagination],autoplay:{pauseOnMouseEnter:true,delay:100},loop:a,cssMode:true,pagination:{clickable:true,bulletActiveClass:"swiper-pagination-bullet-active meta-swiper-bullet-active",horizontalClass:"swiper-pagination-horizontal meta-swiper-pagination-horizontal"},children:e===null||e===void 0?void 0:e.map((({imgSrc:e,title:r,content:n},o)=>(0,i.jsxs)(t.SwiperSlide,{className:"meta-swiper-slide",children:[r&&(0,i.jsx)("h1",{className:"meta-swiper-slide-title",children:r}),(0,i.jsxs)("div",{className:"meta-swiper-slide-content",children:[e&&(0,i.jsx)("img",{className:"meta-swiper-slide-img",src:e}),n&&(0,i.jsx)("div",{className:"meta-swiper-slide-text",children:n})]})]},o)))})};e.default=a}))},64107:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(14274),r(93967),r(64624),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;n=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return t=p(t),f(e,h()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=_(e,"string");return"symbol"==typeof t?t:t+""}function _(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let b=e.default=function(e){function t(e){var n;s(this,t);n=l(this,t,[e]);m(n,"_switchState",(e=>{const{readonly:t,disabled:o,onStateChange:a,state:s}=n.props;const{currentState:u}=n.state;(0,i.getPLogger)().info("_switchState",{readonly:t,disabled:o,state:s,currentState:u});if(t){return}(0,r.reactStopPropagation)(e);if(o){return}n.setState({currentState:!u});a&&a(!u)}));n.state={currentState:e.state};return n}v(t,e);return c(t,[{key:"render",value:function e(){const{disabled:t,state:i,className:a}=this.props;const{currentState:s}=this.state;let u=true;if(!(0,r.isNullOrEmpty)(i)){u=i}else{u=!t&&s}return(0,o.jsxs)("svg",{className:(0,n.default)("meta-switch-btn",a),onClick:this._switchState,viewBox:"0 0 28 14",children:[(0,o.jsx)("path",{fill:u?"#007dff":"#cccccc",fillRule:"evenodd",d:"M7,0H21a7,7,0,0,1,0,14H7A7,7,0,0,1,7,0Z"}),(0,o.jsx)("circle",{fill:"#fff",cx:u?"21":"7",cy:"7",r:"6.5"})]})}}])}(t.Component);m(b,"defaultProps",{disabled:false,readonly:false})}))},61873:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(70807),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=n(t);function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=u(e,"string");return"symbol"==typeof t?t:t+""}function u(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function c(e,t,r){return t=h(t),l(e,d()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function l(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}let g=e.default=function(e){function t(){i(this,t);return c(this,t,arguments)}p(t,e);return a(t,[{key:"render",value:function e(){const{className:t,name:n,maxLength:i,disabled:o,dataTestId:a,placeholder:s,readOnly:u,onContextMenu:c,title:l,autoFocus:f,required:d,onKeyUp:h,tabIndex:p,rows:v,onCopy:g,onCut:m,onPaste:y}=this.props;return(0,r.jsx)("textarea",{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:t,required:d,ref:this._getRef,autoFocus:f,name:n,title:l,onBlur:this._onBlur,onFocus:this._onFocus,placeholder:s,disabled:o,maxLength:i,"data-testid":a,onClick:this._onClick,onKeyDown:this._onKeyDown,onKeyUp:h,readOnly:u,tabIndex:p,onContextMenu:c,onCompositionStart:this._handleComposition,onCompositionUpdate:this._handleComposition,onCompositionEnd:this._handleComposition,onCopy:g,onCut:m,onPaste:y,onInput:this._onInput,rows:v})}}])}(t.default)}))},70807:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(14274),r(64624),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return t=d(t),c(e,f()?Reflect.construct(t,r||[],d(e).constructor):t.apply(e,r))}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let y=e.default=function(e){function t(...e){var i;o(this,t);i=u(this,t,[...e]);v(i,"inputElem",void 0);v(i,"caretStart",void 0);v(i,"cacheValue",void 0);v(i,"isOnComposition",void 0);v(i,"isFocus",false);v(i,"setSelectionRange",((e,t)=>{if(i.inputElem){i.inputElem.setSelectionRange(e,t)}}));v(i,"focus",(()=>{const{type:e,className:t,name:r,dataTestId:o,placeholder:a,title:s,disabled:u,readOnly:c}=i.props;(0,n.getPLogger)().debug("focus",{type:e,className:t,name:r,dataTestId:o,placeholder:a,title:s,readOnly:c,disabled:u});if(i.inputElem){i.inputElem.focus()}}));v(i,"select",(()=>{if(i.inputElem){i.inputElem.select()}}));v(i,"blur",(()=>{const{type:e,className:t,name:r,dataTestId:o,placeholder:a,title:s,disabled:u,readOnly:c}=i.props;(0,n.getPLogger)().debug("blur",{type:e,className:t,name:r,dataTestId:o,placeholder:a,title:s,readOnly:c,disabled:u});if(i.inputElem){i.inputElem.blur()}}));v(i,"clear",(()=>{if(i.inputElem){i.inputElem.value=""}}));v(i,"_getRef",(e=>{if(e){i.inputElem=e}}));v(i,"_onClick",(e=>{const{type:t,className:o,name:a,dataTestId:s,placeholder:u,title:c,disabled:l,readOnly:f,onClick:d}=i.props;(0,n.getPLogger)().debug("_onClick",{type:t,className:o,name:a,dataTestId:s,placeholder:u,title:c,readOnly:f,disabled:l});(0,r.reactStopPropagation)(e);if(d){d(e)}}));v(i,"_handleComposition",(e=>{var t;switch(e.type){case"compositionupdate":i.isOnComposition=true;break;case"compositionstart":i.caretStart=i._getCaretPosition();i.cacheValue=(t=i.inputElem)===null||t===void 0?void 0:t.value;i.isOnComposition=true;break;case"compositionend":i.isOnComposition=false;i._onInput(e);delete i.caretStart;delete i.cacheValue;break;default:break}}));v(i,"_onInput",(e=>{if(!i.isOnComposition){var t;i._changeInputText((t=i.inputElem)===null||t===void 0?void 0:t.value,e)}}));v(i,"_onFocus",(e=>{const{type:t,className:r,name:o,dataTestId:a,placeholder:s,title:u,disabled:c,readOnly:l,onFocus:f}=i.props;(0,n.getPLogger)().debug("_onFocus",{type:t,className:r,name:o,dataTestId:a,placeholder:s,title:u,readOnly:l,disabled:c});if(i.inputElem){f&&f(e);i.isFocus=true}}));v(i,"_onBlur",(e=>{const{type:t,className:r,name:o,dataTestId:a,placeholder:s,title:u,disabled:c,readOnly:l,onBlur:f}=i.props;(0,n.getPLogger)().debug("_onBlur",{type:t,className:r,name:o,dataTestId:a,placeholder:s,title:u,readOnly:l,disabled:c});if(i.inputElem){f&&f(e);i.isFocus=false}}));v(i,"_onKeyDown",(e=>{const{filterFunc:t,onKeyDown:r}=i.props;r&&r(e);if(e.key.length>1){return}if(e.ctrlKey||e.shiftKey||e.metaKey){return}let n=e.key;if(t){n=t(e.key)}if(!n){e.preventDefault()}}));v(i,"_getCaretPosition",(()=>{let e;if(i.inputElem){e=i.inputElem.selectionStart}return e||0}));v(i,"_setCaretPosition",(e=>{if(i.inputElem){if(i.inputElem&&e>=0){i.inputElem.style.caretColor="rgba(0,0,0,0)";(0,r.sleep)(0).then((()=>{if(i.inputElem){i.inputElem.style.caretColor="";i.setSelectionRange(e,e)}}))}}}));v(i,"_changeInputText",((e,t)=>{e=e||"";let r=e;const{filterFunc:n}=i.props;if(n){r=n(r)}i._dealValueChange({value:e,filterValue:r});if(t){const{onChange:e,onInput:r}=i.props;e===null||e===void 0?void 0:e(t);r===null||r===void 0?void 0:r(t)}}));v(i,"_dealValueChange",(({value:e,filterValue:t})=>{var r;const{maxLength:n,setCaretPosition:o}=i.props;if(t!==((r=i.inputElem)===null||r===void 0?void 0:r.value)){let r=0;if(o){r=o({value:e,curPos:i._getCaretPosition(),compositionstartPos:i.caretStart,compositionValue:i.cacheValue})}else{if(i.caretStart!==undefined&&i.cacheValue){r=i.caretStart-(i.cacheValue.length-t.length)}else{var a,s;r=i._getCaretPosition()-(((a=i.inputElem)===null||a===void 0?void 0:(s=a.value)===null||s===void 0?void 0:s.length)||0-t.length)}}if(n!==undefined){t=t.slice(0,n);r=r>n?n:r}if(i.inputElem){i.inputElem.value=t}i._setCaretPosition(r)}}));return i}h(t,e);return s(t,[{key:"componentDidMount",value:function e(){if(this.inputElem){this._changeInputText(this.props.value||this.props.defaultValue||"");if(this.props.autoFocus){this.isFocus=true}}}},{key:"componentDidUpdate",value:function e(){if(this.inputElem&&(0,r.formatType)(this.props.value)===r.formatType.STRING){if(this.inputElem.value!==this.props.value){this._changeInputText(this.props.value)}}}},{key:"componentWillUnmount",value:function e(){if(this.inputElem){this.inputElem.value=""}}},{key:"value",get:function(){if(this.inputElem){return this.inputElem.value}return""},set:function(e){if(this.inputElem){this._changeInputText(e)}}},{key:"selectionStart",get:function(){if(this.inputElem){return this.inputElem.selectionStart}return 0}},{key:"selectionEnd",get:function(){if(this.inputElem){return this.inputElem.selectionEnd}return 0}},{key:"scrollWidth",get:function(){if(this.inputElem){return this.inputElem.scrollWidth}return 0}},{key:"scrollLeft",get:function(){if(this.inputElem){return this.inputElem.scrollLeft}return 0},set:function(e){if(this.inputElem){this.inputElem.scrollLeft=e}}},{key:"render",value:function e(){const{type:t,className:r,name:n,maxLength:o,disabled:a,dataTestId:s,placeholder:u,readOnly:c,onContextMenu:l,title:f,autoFocus:d,required:h,id:p,onKeyUp:v,tabIndex:g,onCopy:m,onCut:y,onPaste:_}=this.props;return(0,i.jsx)("input",{type:t,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:r,required:h,ref:this._getRef,autoFocus:d,name:n,title:f,onBlur:this._onBlur,onFocus:this._onFocus,placeholder:u,disabled:a,maxLength:o,"data-testid":s,onClick:this._onClick,onKeyDown:this._onKeyDown,onKeyUp:v,readOnly:c,tabIndex:g,onContextMenu:l,onCompositionStart:this._handleComposition,onCompositionUpdate:this._handleComposition,onCompositionEnd:this._handleComposition,onCopy:m,onCut:y,onPaste:_,onInput:this._onInput,id:p})}}])}(t.Component)}))},94585:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624),r(14274),r(84417),r(85893)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.toast=void 0;const o=({className:e="",content:n,entry:o,showLog:a})=>{var s;a&&((s=(0,t.getPLogger)())===null||s===void 0?void 0:s.info(o,"Toast",e,(0,r.handleAccountPrint)(n)));e+=" meta-toast";return(0,i.jsx)("div",{className:e,children:(0,i.jsx)("div",{className:"toast-content",children:(0,i.jsx)("div",{className:"toast-text",title:n,children:n})})})};let a;let s;let u;let c;let l;const f=(e,r)=>async()=>{var n;e+=",removeToastDom";if(u){var i;r&&((i=(0,t.getPLogger)())===null||i===void 0?void 0:i.info(e,"wait the result"));await u}r&&((n=(0,t.getPLogger)())===null||n===void 0?void 0:n.info(e));u=new Promise((n=>{requestAnimationFrame((()=>{var i;if(a&&s){s.unmount();document.body.removeChild(a);a=undefined;s=undefined}r&&((i=(0,t.getPLogger)())===null||i===void 0?void 0:i.info(e,"over"));n();u=null}))}));return u};const d=async(e,t)=>{await f(e,t)();a=document.createElement("div");a.id="toastId";document.body.appendChild(a)};const h=async({content:e="no text!",timeOut:u=2,className:h="",showLog:p=false})=>{const v=(0,t.createEntry)("toast");try{var g;p&&((g=(0,t.getPLogger)())===null||g===void 0?void 0:g.info(v,"start",u,h,(0,r.handleAccountPrint)(e)));if(c){await c}if(l){clearTimeout(l)}c=d(v,p).then((()=>{s=(0,n.reactRenderPolyfill)(a);s.render((0,i.jsx)(o,{className:h,content:e,entry:v,showLog:p}));if(typeof u==="number"){u=u*1e3}else{u=2e3}l=setTimeout(f(v,p),u);c=null}))}catch(n){var m;(m=(0,t.getPLogger)())===null||m===void 0?void 0:m.error(v,u,h,(0,r.handleAccountPrint)(e),n)}return c};e.toast=h}))},50680:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(54725),r(13832),r(61873),r(70807),r(78159),r(93639),r(94585),r(63138),r(98042),r(61765),r(13376),r(85274),r(63310),r(79016),r(61576),r(64107),r(83869),r(60691),r(98588),r(36809)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l,f,d,h,p,v,g,m,y,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"Button",{enumerable:true,get:function(){return t.default}});Object.defineProperty(e,"Checkbox",{enumerable:true,get:function(){return d.default}});Object.defineProperty(e,"DefaultAvatar",{enumerable:true,get:function(){return f.default}});Object.defineProperty(e,"ErrorBoundary",{enumerable:true,get:function(){return a.default}});Object.defineProperty(e,"Head",{enumerable:true,get:function(){return c.default}});Object.defineProperty(e,"Modal",{enumerable:true,get:function(){return u.default}});Object.defineProperty(e,"Option",{enumerable:true,get:function(){return b.Option}});Object.defineProperty(e,"QrCode",{enumerable:true,get:function(){return o.default}});Object.defineProperty(e,"Radio",{enumerable:true,get:function(){return y.default}});Object.defineProperty(e,"RadioGroup",{enumerable:true,get:function(){return m.default}});Object.defineProperty(e,"Scroller",{enumerable:true,get:function(){return r.default}});Object.defineProperty(e,"Select",{enumerable:true,get:function(){return b.Select}});Object.defineProperty(e,"SequenceFrames",{enumerable:true,get:function(){return h.default}});Object.defineProperty(e,"SoundColumn",{enumerable:true,get:function(){return _.SoundColumn}});Object.defineProperty(e,"SvgIcon",{enumerable:true,get:function(){return v.default}});Object.defineProperty(e,"Swiper",{enumerable:true,get:function(){return p.default}});Object.defineProperty(e,"SwitchBtn",{enumerable:true,get:function(){return g.default}});Object.defineProperty(e,"TextArea",{enumerable:true,get:function(){return n.default}});Object.defineProperty(e,"TextInput",{enumerable:true,get:function(){return i.default}});Object.defineProperty(e,"Toast",{enumerable:true,get:function(){return s.toast}});Object.defineProperty(e,"WindowHeader",{enumerable:true,get:function(){return l.default}});Object.defineProperty(e,"toast",{enumerable:true,get:function(){return s.toast}});t=E(t);r=E(r);n=E(n);i=E(i);o=E(o);a=E(a);u=E(u);c=E(c);l=E(l);f=E(f);d=E(d);h=E(h);p=E(p);v=E(v);g=E(g);m=E(m);y=E(y);function E(e){return e&&e.__esModule?e:{default:e}}}))},84417:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(67294),r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.reactRenderPolyfill=void 0;t=i(t);function i(e){return e&&e.__esModule?e:{default:e}}const o=e=>{var i;(i=(0,n.getPLogger)())===null||i===void 0?void 0:i.debug("reactRenderPolyfill",t.default.version,e);if(!e){return{render:()=>{},unmount:()=>{}}}const{render:o,unmountComponentAtNode:a}=r(73935);return{render:t=>o(t,e),unmount:()=>{a(e)}}};e.reactRenderPolyfill=o}))},87954:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.AutoQueryData=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(){"use strict";c=function e(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),s=new M(n||[]);return o(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==n&&i.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function e(r,i){function o(){return new t((function(e,t){n(r,i,e,t)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=E,o(C,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function o(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=_(e,"string");return"symbol"==r(t)?t:t+""}function _(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b=e.AutoQueryData=function(){function e(t){p(this,e);m(this,"_opts",void 0);m(this,"_data",void 0);m(this,"_timer",void 0);m(this,"_count",0);m(this,"_firstProm",void 0);this._opts=this._getOpts(t);this._dealGetDataFunc("constructor")}return g(e,[{key:"_getOpts",value:function e(r){if((0,t.formatType)(r)!==t.formatType.OBJECT){throw new Error("opts must a object")}(0,t.getPLogger)().debug("_getOpts",(0,t.formatType)(r.getDataFunc),(0,t.formatType)(r.args));if((0,t.formatType)(r.getDataFunc)!==t.formatType.FUNCTION&&(0,t.formatType)(r.getDataFunc)!==t.formatType.ASYNCFUNCTION){throw new Error("opts.getDataFunc must a function")}if((0,t.formatType)(r.args)!==t.formatType.ARRAY&&(0,t.formatType)(r.args)!==t.formatType.UNDEFINED){throw new Error("opts.args must a array or undefined")}var n=h({},r);if((0,t.formatType)(n.delay)!==t.formatType.NUMBER){n.delay=3e4}return n}},{key:"getSyncData",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";r+=",getSyncData";if(!this._timer){this._dealGetDataFunc(r)}(0,t.getPLogger)().debug(r,this._data);return this._data}},{key:"getData",value:function(){var e=f(c().mark((function e(){var r,n=arguments;return c().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r=n.length>0&&n[0]!==undefined?n[0]:"";r+=",getData";if(this._timer){i.next=5;break}i.next=5;return this._dealGetDataFunc(r);case 5:if(!this._firstProm){i.next=8;break}i.next=8;return this._firstProm;case 8:(0,t.getPLogger)().debug(r,this._data);return i.abrupt("return",this._data);case 10:case"end":return i.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()},{key:"stop",value:function e(){(0,t.getPLogger)().debug("stop",this._data);if(this._timer){clearInterval(this._timer)}delete this._timer;delete this._data;delete this._firstProm;this._count=0}},{key:"_dealGetDataFunc",value:function(){var e=f(c().mark((function e(r){var i=this,o;return c().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r+=",_dealGetDataFunc";this._timer=setInterval(f(c().mark((function e(){var o;return c().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return(o=i._opts).getDataFunc.apply(o,n(i._opts.args||[]));case 2:i._data=a.sent;i._count++;(0,t.getPLogger)().debug(r,i._count,i._data);case 5:case"end":return a.stop()}}),e)}))),this._opts.delay);this._count++;this._firstProm=(o=this._opts).getDataFunc.apply(o,n(this._opts.args||[]));a.next=6;return this._firstProm;case 6:this._data=a.sent;(0,t.getPLogger)().debug(r,this._count,this._data);case 8:case"end":return a.stop()}}),e,this)})));function r(t){return e.apply(this,arguments)}return r}()}])}()}))},34526:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LazyLoad=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u={};var c=e.LazyLoad=function(){function e(){n(this,e)}return o(e,null,[{key:"getRealLazyApi",value:function r(n,i,o){(0,t.getPLogger)().debug("getRealLazyApi",n,i,o);if((0,t.formatType)(n)!==t.formatType.STRING||(0,t.formatType)(i)!==t.formatType.STRING||(0,t.formatType)(o)!==t.formatType.OBJECT||n===""||i===""){return{}}var a=o;var s=Object.keys(o);var u=Object.getOwnPropertyNames(Object.getPrototypeOf(o));if(u.includes("constructor")){u.splice(u.indexOf("constructor"),1)}var c=s.concat(u);(0,t.getPLogger)().info("getRealLazyApi loadScript, "+n);c.forEach((function(r){if((0,t.formatType)(a[r])===t.formatType.FUNCTION){a[r]=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++){s[u]=arguments[u]}return e.loadScript(n,i).then((function(){var e;(0,t.getPLogger)().info("getRealLazyApi loadScript, real do "+n+"."+r);if(((e=window[n])===null||e===void 0?void 0:e[r])===a[r]){(0,t.getPLogger)().error("getRealLazyApi loadScript, script is error,"+n+"."+r)}else{var i;return(i=window[n])===null||i===void 0||(i=i[r])===null||i===void 0?void 0:i.apply(window[n],s)}return undefined}))["catch"]((function(e){(0,t.getPLogger)().error("getRealLazyApi loadScript,lazy load "+n,e)}))}}}));return a}},{key:"loadScript",value:function e(r,n){(0,t.getPLogger)().debug("loadScript",r,n);if((0,t.formatType)(r)!==t.formatType.STRING||(0,t.formatType)(n)!==t.formatType.STRING||r===""||n===""){return Promise.resolve(undefined)}if(!u[r]){var i=document.createElement("script");i.async=true;u[r]=new Promise((function(e,n){i.onload=function(){(0,t.getPLogger)().info("loadScript, load "+r+" success");e(window[r])};i.onerror=function(){(0,t.getPLogger)().error("loadScript, load "+r+" error");n(new Error("load resource error"))}}));i.src=n;document.head.appendChild(i)}else{(0,t.getPLogger)().info("loadScript, not load "+r+" again")}return u[r]}},{key:"loadCss",value:function e(r){(0,t.getPLogger)().info("loadCss",r);if((0,t.formatType)(r)!==t.formatType.STRING||r===""){return Promise.resolve(undefined)}return new Promise((function(e){var n=document.createElement("link");n.rel="stylesheet";n.href=r;n.onload=function(){(0,t.getPLogger)().info("loadCss, load "+r+" success");e(true)};n.onerror=function(){(0,t.getPLogger)().info("loadCss, load "+r+" error");e(false)};document.head.appendChild(n)}))}}])}()}))},5636:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.createChromakey=void 0;function r(){"use strict";r=function e(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),s=new M(n||[]);return o(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==n&&i.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(n,o,s,u){var c=h(e[n],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var n;o(this,"_invoke",{value:function e(i,o){function a(){return new t((function(e,t){r(i,o,e,t)}))}return n=n?n.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){for(;++n<t.length;)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,o(C,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function o(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=u(e,"string");return"symbol"==a(t)?t:t+""}function u(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){return g(e)||v(e,t)||h(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw i}}return s}}function g(e){if(Array.isArray(e))return e}var m="#version 300 es\nprecision mediump float;\nout vec4 FragColor;\nin vec2 v_texCoord;\nuniform sampler2D frameTexture;\nuniform vec3 keyColor;\n\nvec2 RGBtoUV(vec3 rgb) {\n  return vec2(\n    rgb.r * -0.169 + rgb.g * -0.331 + rgb.b *  0.5    + 0.5,\n    rgb.r *  0.5   + rgb.g * -0.419 + rgb.b * -0.081  + 0.5\n  );\n}\n\nuniform float similarity;\nuniform float smoothness;\nuniform float spill;\n\nvoid main() {\n  vec4 rgba = texture(frameTexture, v_texCoord);\n  vec2 chromaVec = RGBtoUV(rgba.rgb) - RGBtoUV(keyColor);\n  float chromaDist = sqrt(dot(chromaVec, chromaVec));\n  float baseMask = chromaDist - similarity;\n  float fullMask = pow(clamp(baseMask / smoothness, 0., 1.), 1.5);\n  rgba.a = fullMask;\n  float spillVal = pow(clamp(baseMask / spill, 0., 1.), 1.5);\n  float desat = clamp(rgba.r * 0.2126 + rgba.g * 0.7152 + rgba.b * 0.0722, 0., 1.);\n  rgba.rgb = mix(vec3(desat, desat, desat), rgba.rgb, spillVal);\n  FragColor = rgba;\n}\n";var y="#version 300 es\n  layout (location = 0) in vec4 a_position;\n  layout (location = 1) in vec2 a_texCoord;\n  out vec2 v_texCoord;\n  void main () {\n    gl_Position = a_position;\n    v_texCoord = a_texCoord;\n  }\n";function _(e,t,r){var n=e.createShader(t);e.shaderSource(n,r);e.compileShader(n);if(!e.getShaderParameter(n,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(n);e.deleteShader(n);throw Error(i!==null&&i!==void 0?i:"An error occurred compiling the shaders")}return n}function b(e,t,r){var n=_(e,e.VERTEX_SHADER,t);var i=_(e,e.FRAGMENT_SHADER,r);var o=e.createProgram();e.attachShader(o,n);e.attachShader(o,i);e.linkProgram(o);if(!e.getProgramParameter(o,e.LINK_STATUS)){var a;throw Error((a=e.getProgramInfoLog(o))!==null&&a!==void 0?a:"Unable to initialize the shader program")}return o}function E(e,t,r){e.bindTexture(e.TEXTURE_2D,r);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);e.drawArrays(e.TRIANGLES,0,6)}function S(e){var t=e.createTexture();if(!t){throw Error("Create WebGL texture error")}e.bindTexture(e.TEXTURE_2D,t);var r=0;var n=e.RGBA;var i=1;var o=1;var a=0;var s=e.RGBA;var u=e.UNSIGNED_BYTE;var c=new Uint8Array([0,0,255,255]);e.texImage2D(e.TEXTURE_2D,r,n,i,o,a,s,u,c);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);return t}function w(e){var t="document"in window?document.createElement("canvas"):new OffscreenCanvas(e.width,e.height);t.width=e.width;t.height=e.height;var r=t.getContext("webgl2",{premultipliedAlpha:false,alpha:true});if(!r){throw Error("Cant create gl context")}var n=b(r,y,m);r.useProgram(n);r.uniform3fv(r.getUniformLocation(n,"keyColor"),e.keyColor.map((function(e){return e/255})));r.uniform1f(r.getUniformLocation(n,"similarity"),e.similarity);r.uniform1f(r.getUniformLocation(n,"smoothness"),e.smoothness);r.uniform1f(r.getUniformLocation(n,"spill"),e.spill);var i=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,i);var o=[-1,1,-1,-1,1,-1,1,-1,1,1,-1,1];r.bufferData(r.ARRAY_BUFFER,new Float32Array(o),r.STATIC_DRAW);var a=r.getAttribLocation(n,"a_position");r.vertexAttribPointer(a,2,r.FLOAT,false,Float32Array.BYTES_PER_ELEMENT*2,0);r.enableVertexAttribArray(a);var s=[0,1,0,0,1,0,1,0,1,1,0,1];var u=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,u);r.bufferData(r.ARRAY_BUFFER,new Float32Array(s),r.STATIC_DRAW);var c=r.getAttribLocation(n,"a_texCoord");r.vertexAttribPointer(c,2,r.FLOAT,false,Float32Array.BYTES_PER_ELEMENT*2,0);r.enableVertexAttribArray(c);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,1);return{cvs:t,gl:r}}function T(e){if(e instanceof HTMLVideoElement){return{width:e.videoWidth,height:e.videoHeight}}return e instanceof VideoFrame?{width:e.codedWidth,height:e.codedHeight}:{width:e.width,height:e.height}}function C(e){var r=new OffscreenCanvas(1,1);var n=r.getContext("2d");n.drawImage(e,0,0);var i=n.getImageData(0,0,1,1),o=f(i.data,3),a=o[0],s=o[1],u=o[2];(0,t.getPLogger)().info("handleGetKeyColor: ",[a,s,u]);return[a,s,u]}var A=e.createChromakey=function e(t){var n=null;var o=null;var a=t.keyColor;var s=null;return function(){var e=l(r().mark((function e(u){var c,l,f;return r().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!n||!o||!s){if(!a){a=C(u)}c=w(i(i({},T(u)),{},{keyColor:a},t));n=c.cvs;o=c.gl;s=S(o)}E(o,u,s);if(!(VideoFrame!==null&&u instanceof VideoFrame)){r.next=6;break}f=new VideoFrame(n,{alpha:"keep",timestamp:u.timestamp,duration:(l=u.duration)!==null&&l!==void 0?l:undefined});u.close();return r.abrupt("return",f);case 6:return r.abrupt("return",createImageBitmap(n,{imageOrientation:u instanceof ImageBitmap?"flipY":"none"}));case 7:case"end":return r.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))},45526:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(5636),r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LocalTransparentVideoBg=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){"use strict";i=function e(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(n,o){function a(){return new t((function(e,t){r(n,o,e,t)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=d(e,"string");return"symbol"==n(t)?t:t+""}function d(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=e.LocalTransparentVideoBg=function(){function e(n){var o=this;s(this,e);l(this,"transparentCanvasElem",void 0);l(this,"videoElem",void 0);l(this,"chromakey",void 0);l(this,"similarity",void 0);l(this,"smoothness",void 0);l(this,"spill",void 0);l(this,"ctx",void 0);l(this,"render",a(i().mark((function e(){var t,r;var n;return i().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(o.transparentCanvasElem){i.next=2;break}return i.abrupt("return");case 2:i.next=4;return o.chromakey(o.videoElem);case 4:n=i.sent;(t=o.ctx)===null||t===void 0||t.clearRect(0,0,o.transparentCanvasElem.width,o.transparentCanvasElem.height);(r=o.ctx)===null||r===void 0||r.drawImage(n,0,0,o.transparentCanvasElem.width,o.transparentCanvasElem.height);o.videoElem.requestVideoFrameCallback(o.render);case 8:case"end":return i.stop()}}),e)}))));this.videoElem=n.videoElem;this.similarity=n.similarity||.03;this.smoothness=n.smoothness||.22;this.spill=n.spill||.1;this.transparentCanvasElem=document.createElement("canvas");this.transparentCanvasElem.setAttribute("id",n.canvasId||"transparentCanvasElem");this.transparentCanvasElem.width=this.videoElem.videoWidth;this.transparentCanvasElem.height=this.videoElem.videoHeight;this.ctx=this.transparentCanvasElem.getContext("2d",{alpha:true});this.chromakey=(0,t.createChromakey)({similarity:this.similarity,smoothness:this.smoothness,spill:this.spill});if(!n.rootElem){return}n.rootElem.append(this.transparentCanvasElem);(0,r.getPLogger)().info("LocalTransparentVideoBg","start render transparent background");this.render()}return c(e,[{key:"destroy",value:function e(){(0,r.getPLogger)().info("destroy");if(this.transparentCanvasElem){this.transparentCanvasElem.remove();this.transparentCanvasElem=null}}}])}()}))},64680:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getAudioProcessorUrl=void 0;var t="\nconst throttle = (fn, delay, self) => {\n  let time = Date.now();\n  return function (...args) {\n    const currTime = Date.now();\n    const _mergeTime = currTime - time;\n    if (_mergeTime > delay) {\n      fn.call(self, ...args);\n      time = currTime;\n    }\n  };\n};\n\nconst SMOOTHING_FACTOR = 0.8;\n\nclass AudioVolumeProcessor extends AudioWorkletProcessor {\n  _volume;\n  _updateIntervalInMS = 25;\n  _nextUpdateFrame;\n\n  constructor() {\n    super();\n    this._volume = 0;\n    this._nextUpdateFrame = this._updateIntervalInMS;\n    this.throttlePostMessage = throttle(({ volume }) => this.port.postMessage({\n      volume,\n      currentFrame,\n      currentTime,\n      sampleRate,\n    }), 100, this);\n  }\n\n  get intervalInFrames() {\n    return (this._updateIntervalInMS / 1000) * sampleRate;\n  }\n\n  process(inputs) {\n    const input = inputs[0];\n    if (0 < input.length) {\n      const samples = input[0];\n      let sum = 0;\n      for (let i = 0; i < samples.length; i += 1) {\n        sum += samples[i] * samples[i];\n      }\n      const rms = Math.sqrt(sum / samples.length);\n      this._volume = Math.max(rms, this._volume * SMOOTHING_FACTOR);\n      this._nextUpdateFrame -= samples.length;\n      if (0 > this._nextUpdateFrame) {\n        this._nextUpdateFrame += this.intervalInFrames;\n        this.throttlePostMessage({ volume: Math.floor(this._volume * 100) });\n      }\n    }\n    return true;\n  }\n}\n\nregisterProcessor('AudioVolumeProcessor', AudioVolumeProcessor);\n";var r=e.getAudioProcessorUrl=function e(){return"data:text/javascript;base64,".concat(btoa(t))}}))},1046:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(64624),r(55591)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n,i,o,s,u,c;function l(){"use strict";l=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,c,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){f(o,n,i,a,s,"next",e)}function s(e){f(o,n,i,a,s,"throw",e)}a(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=y(e,"string");return"symbol"==a(t)?t:t+""}function y(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var b=e["default"]=(n=(0,r.printfDecorator)((0,t.getPLogger)()),i=(0,r.printfDecorator)((0,t.getPLogger)()),o=(0,r.printfDecorator)((0,t.getPLogger)()),s=(0,r.printfDecorator)((0,t.getPLogger)()),u=(c=function(){function e(r){var n=this;h(this,e);g(this,"audioContext",void 0);g(this,"url",void 0);g(this,"processorName",void 0);g(this,"audioCallback",void 0);g(this,"input",void 0);g(this,"processorOptions",void 0);g(this,"stream",void 0);g(this,"startProm",void 0);g(this,"audioWorkletNode",void 0);g(this,"onMessage",(function(e){var t;(t=n.audioCallback)===null||t===void 0||t.call(n,e.data)}));g(this,"dealStart",function(){var r=d(l().mark((function r(i){var o,a,s;return l().wrap((function r(u){while(1)switch(u.prev=u.next){case 0:u.prev=0;u.next=3;return n.stop();case 3:n.audioContext=new AudioContext({sampleRate:e.sampleRate});if(!(i!==null&&i!==void 0&&i.stream)){u.next=8;break}n.stream=i.stream;u.next=12;break;case 8:s=i!==null&&i!==void 0&&i.deviceId?{deviceId:{exact:i.deviceId}}:true;u.next=11;return navigator.mediaDevices.getUserMedia({audio:s});case 11:n.stream=u.sent;case 12:(o=n.input)===null||o===void 0||o.disconnect();n.input=n.audioContext.createMediaStreamSource(n.stream);u.next=16;return n.audioContext.audioWorklet.addModule(n.url);case 16:if(n.audioWorkletNode){n.audioWorkletNode.port.onmessage=null}(a=n.audioWorkletNode)===null||a===void 0||a.disconnect();n.audioWorkletNode=new AudioWorkletNode(n.audioContext,n.processorName,{processorOptions:n.processorOptions});n.input.connect(n.audioWorkletNode).connect(n.audioContext.destination);n.audioWorkletNode.port.onmessage=n.onMessage;u.next=26;break;case 23:u.prev=23;u.t0=u["catch"](0);(0,t.getPLogger)().error("dealStart",u.t0);case 26:delete n.startProm;case 27:case"end":return u.stop()}}),r,null,[[0,23]])})));return function(e){return r.apply(this,arguments)}}());(0,t.getPLogger)().debug("constructor",r.processorName);this.url=r.url;this.processorName=r.processorName;this.audioCallback=r.audioCallback;this.processorOptions=r.processorOptions}return v(e,[{key:"start",value:function(){var e=d(l().mark((function e(t){return l().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!this.startProm){this.startProm=this.dealStart(t)}return r.abrupt("return",this.startProm);case 2:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stop",value:function(){var e=d(l().mark((function e(){var r,n,i;return l().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.prev=0;(r=this.input)===null||r===void 0||r.disconnect();delete this.input;(n=this.audioWorkletNode)===null||n===void 0||n.disconnect();delete this.audioWorkletNode;o.next=7;return(i=this.audioContext)===null||i===void 0?void 0:i.close();case 7:delete this.audioContext;o.next=13;break;case 10:o.prev=10;o.t0=o["catch"](0);(0,t.getPLogger)().error("stop",o.t0);case 13:case"end":return o.stop()}}),e,this,[[0,10]])})));function r(){return e.apply(this,arguments)}return r}()},{key:"mute",value:function(){var e=d(l().mark((function e(){var t;var r;return l().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:r=(t=this.stream)===null||t===void 0?void 0:t.getAudioTracks()[0];if(r){n.next=3;break}return n.abrupt("return");case 3:r.enabled=false;case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"unmute",value:function(){var e=d(l().mark((function e(){var t;var r;return l().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:r=(t=this.stream)===null||t===void 0?void 0:t.getAudioTracks()[0];if(r){n.next=3;break}return n.abrupt("return");case 3:r.enabled=true;case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}(),g(c,"sampleRate",16e3),c),_(u.prototype,"start",[n],Object.getOwnPropertyDescriptor(u.prototype,"start"),u.prototype),_(u.prototype,"stop",[i],Object.getOwnPropertyDescriptor(u.prototype,"stop"),u.prototype),_(u.prototype,"mute",[o],Object.getOwnPropertyDescriptor(u.prototype,"mute"),u.prototype),_(u.prototype,"unmute",[s],Object.getOwnPropertyDescriptor(u.prototype,"unmute"),u.prototype),u)}))},28223:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getLocalRecorderUrl=void 0;var t="class LocalRecorder extends AudioWorkletProcessor {\n  constructor(e) {\n    super(e);\n    const bufferSize = e.processorOptions.bufferSize;\n    this.bufferSize = bufferSize;\n    this.buffer = new Float32Array(bufferSize * 2);\n    this.pos = 0;\n    this.total = 0;\n    this.id = Date.now();\n    this.port.onmessage = function (e) {\n      if (e.data.kill) {\n        this.kill = true;\n      }\n    };\n  }\n\n  process(inputs) {\n    const input = (inputs[0] || [])[0] || [];\n    if (input.length) {\n      this.buffer.set(input, this.pos);\n      this.pos += input.length;\n      const offset = ~~(this.pos / this.bufferSize) * this.bufferSize;\n      if (offset) {\n        this.port.postMessage(this.formatData(this.buffer.slice(0, offset)));\n        const nextBuffer = this.buffer.subarray(offset, this.pos);\n        this.buffer = new Float32Array(this.bufferSize * 2);\n        this.buffer.set(nextBuffer);\n        this.pos = nextBuffer.length;\n      }\n    }\n    return !this.kill;\n  }\n\n  formatData(float32Arr) {\n    const size = float32Arr.length;\n    const pcm = new Int16Array(size);\n    let sum = 0;\n    for (let j = 0; j < size; j++) { // floatTo16BitPCM\n      let s = Math.max(-1, Math.min(1, float32Arr[j]));\n      s = s < 0 ? s * 0x8000 : s * 0x7FFF;\n      pcm[j] = s;\n      sum += Math.abs(s);\n    }\n    this.total+=pcm.byteLength;\n    return { pcm, sum, total: this.total, recordId: this.id };\n  }\n}\nregisterProcessor('LocalRecorderProcessor', LocalRecorder);";var r=e.getLocalRecorderUrl=function e(){return"data:text/javascript;base64,".concat(btoa(t))}}))},32918:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(1046)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;t=r(t);function r(e){return e&&e.__esModule?e:{default:e}}var n=e["default"]=t["default"]}))},47058:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.ReactUtil=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==r(t)?t:t+""}function h(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=e.ReactUtil=function(){function e(){c(this,e)}return f(e,null,[{key:"showDifferentProperty",value:function e(t,r,n){var i=[];if(false){}return i}},{key:"reactStopPropagation",value:function e(t){var r,n,i,o,a,s;t===null||t===void 0||(r=(n=t).stopPropagation)===null||r===void 0||r.call(n);t===null||t===void 0||(i=t.nativeEvent)===null||i===void 0||(o=i.stopPropagation)===null||o===void 0||o.call(i);t===null||t===void 0||(a=t.nativeEvent)===null||a===void 0||(s=a.stopImmediatePropagation)===null||s===void 0||s.call(a)}}])}()}))},63642:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RequestTasksQueue=void 0;function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(){"use strict";r=function e(){return n};var e,n={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==i&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,r){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==t(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):r.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(t,o){function a(){return new r((function(e,r){n(t,o,e,r)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function t(){for(;++i<r.length;)if(o.call(r,i))return t.value=r[i],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(r)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),n.AsyncIterator=R,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new R(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},n.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},n}function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e){return c(e)||u(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var r=g(e,"string");return"symbol"==t(r)?r:r+""}function g(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var m=e.RequestTasksQueue=d((function e(t){var n=this;var a=t.taskFunc,s=t.logger,u=t.timeout,c=u===void 0?5e4:u;h(this,e);p(this,"_queueData",void 0);p(this,"_taskFunc",void 0);p(this,"logger",void 0);p(this,"_timeout",void 0);p(this,"_isRunning",void 0);p(this,"dealTask",(function(e){var t,r;var i=e.args,o=e.timeout;var a="dealTask";var s=Date.now();(t=n.logger)===null||t===void 0||(r=t.debug)===null||r===void 0||r.call(t,a,"start");return new Promise((function(e){o=o||n._timeout;var t=setTimeout((function(){var t,r;(t=(r=n.logger).info)===null||t===void 0||t.call(r,a,"timeout",Date.now()-s);e({reason:"timeout,"+o});n._isRunning=false}),o);n._queueData.push([i,function(r){var i,o;(i=n.logger)===null||i===void 0||(o=i.debug)===null||o===void 0||o.call(i,a,"over,use time",Date.now()-s);clearTimeout(t);e(r)}]);if(!n._isTaskRunning()){n._dealTask()}}))}));p(this,"_dealTask",(function(){if(n._getNoDealDataSize()>0){var e=n._getWillDealData();n._isRunning=true;n._dealTaskFunc.apply(n,o(e[0])).then((function(t){e[1](t);n._dealTask()}))["catch"]((function(t){var r,i;(r=n.logger)===null||r===void 0||(i=r.error)===null||i===void 0||i.call(r,"_dealTask error",t);e[1]({reason:"catch error",error:t});n._dealTask()}))}else{n._isRunning=false}}));p(this,"_dealTaskFunc",i(r().mark((function e(){var t=arguments;return r().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",n._taskFunc.apply(n,t));case 1:case"end":return r.stop()}}),e)}))));p(this,"_getNoDealDataSize",(function(){return n._queueData.length}));p(this,"_isTaskRunning",(function(){return n._isRunning}));p(this,"_getWillDealData",(function(){return n._queueData.shift()}));this.logger=s||{info:function e(){}};this._queueData=[];this._taskFunc=a;this._isRunning=false;this._timeout=c}))}))},29853:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(12197),r(64624),r(91173),r(55591),r(48527)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Timer=void 0;var s,u,c,l,f,d,h,p,v;function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function y(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=E(e,"string");return"symbol"==a(t)?t:t+""}function E(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function S(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var w=(0,r.getPLogger)();var T=function e(r,n){var i;return(r===null||r===void 0||(i=r.constructor)===null||i===void 0?void 0:i.name)===t.TimerTask.name&&n>0};var C=e.Timer=(s=(0,i.printfDecorator)(w),u=(0,i.printfDecorator)(w),c=(0,i.printfDecorator)(w),l=(0,i.customDecorator)({preMethodDeal:T}),f=(0,i.printfDecorator)(w),d=(0,i.customDecorator)({preMethodDeal:T}),h=(0,i.printfDecorator)(w),p=(v=function(){function e(t){var r=this;g(this,e);_(this,"_timerHandlers",[]);_(this,"_cancelTaskIdList",[]);_(this,"userWebWorker",false);_(this,"setTimeout",(function(e,t){if(r.userWebWorker){return o.WebWorkerUtil.setWorkerTimeout(e,t)}return setTimeout(e,t)}));_(this,"clearTimeout",(function(e){if(r.userWebWorker){return o.WebWorkerUtil.clearWorkerTimeout(e)}return clearTimeout(e)}));if(t!==null&&t!==void 0&&t.userWebWorker){this.userWebWorker=true}this.schedule=this.schedule.bind(this);this.scheduleFixedInterval=this.scheduleFixedInterval.bind(this);this.cancel=this.cancel.bind(this);w.debug("Timer.constructor",t)}return y(e,[{key:"cancel",value:function e(){var t=this;w.debug("Timer.cancel");this._timerHandlers.forEach((function(e){return t._cancelTask(e)}));this._timerHandlers=[];return this}},{key:"purge",value:function e(){w.debug("Timer.purge");var t;var r;for(var n=this._timerHandlers.length-1;n>-1;n--){t=this._timerHandlers[n].task;if(t.isCancel()){r=this._timerHandlers.splice(n,1);w.debug("Timer.purge",t,r[0]);this._cancelTask(r[0])}}return this}},{key:"schedule",value:function e(t,r){var i=this;w.debug("Timer.schedule",r);var o=Date.now();(0,n.updateArrayItemByKeys)(this._timerHandlers,["id"],{id:t.id,task:t,time:r,handle:this.setTimeout((function(){return t.run()["catch"]((function(e){return w.error("schedule",e)}))["finally"]((function(){var e=Date.now();w.debug("Timer.schedule run",e-o);if(i._cancelTaskIdList.includes(t.id)){w.warn("schedule, this task has already canceled",t.id)}else{i.schedule(t,r)}}))}),r)});return this}},{key:"scheduleFixedInterval",value:function e(t,r){var i=this;w.debug("Timer.scheduleFixedInterval",r);var o=Date.now();(0,n.updateArrayItemByKeys)(this._timerHandlers,["id"],{id:t.id,task:t,time:r,handle:this.setTimeout((function(){var e=Date.now();w.debug("Timer.scheduleFixedInterval run",e-o);t.run()["catch"]((function(e){return w.error("scheduleFixedInterval",e)}));i.scheduleFixedInterval(t,r)}),r)});return this}},{key:"_cancelTask",value:function e(t){w.debug("Timer._cancelTask");this.clearTimeout(t.handle);if(this._cancelTaskIdList.includes(t.id)){w.warn("_cancelTask, this task has already canceled",t.id)}else{this._cancelTaskIdList.push(t.id)}return this}}])}(),_(v,"TimerTask",t.TimerTask),v),S(p.prototype,"cancel",[s],Object.getOwnPropertyDescriptor(p.prototype,"cancel"),p.prototype),S(p.prototype,"purge",[u],Object.getOwnPropertyDescriptor(p.prototype,"purge"),p.prototype),S(p.prototype,"schedule",[c,l],Object.getOwnPropertyDescriptor(p.prototype,"schedule"),p.prototype),S(p.prototype,"scheduleFixedInterval",[f,d],Object.getOwnPropertyDescriptor(p.prototype,"scheduleFixedInterval"),p.prototype),S(p.prototype,"_cancelTask",[h],Object.getOwnPropertyDescriptor(p.prototype,"_cancelTask"),p.prototype),p)}))},12197:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(64624),r(55591)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.TimerTask=void 0;var n,i,o,s,u;function c(){"use strict";c=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=m(e,"string");return"symbol"==a(t)?t:t+""}function m(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function y(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var _=(0,t.getPLogger)();var b=e.TimerTask=(n=(0,r.printfDecorator)(_),i=(0,r.printfDecorator)(_),o=(0,r.printfDecorator)(_),s=(0,r.printfDecorator)(_),u=function(){function e(r){d(this,e);v(this,"id",(0,t.getClientId)());v(this,"_isCancel",false);v(this,"_task",void 0);v(this,"_runCount",0);v(this,"_lastRuntime",0);_.info("TimerTask,".concat(this.id),"constructor",(0,t.formatType)(r));if((0,t.formatType)(r)!==t.formatType.FUNCTION&&(0,t.formatType)(r)!==t.formatType.ASYNCFUNCTION){throw new Error("task is not a function,"+r)}this._task=r}return p(e,[{key:"cancel",value:function e(){_.info("TimerTask,".concat(this.id),"cancel");this._isCancel=true;this._lastRuntime=0;this._runCount=0;return this}},{key:"isCancel",value:function e(){return this._isCancel}},{key:"run",value:function(){var e=f(c().mark((function e(){var t;return c().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:_.info("TimerTask,".concat(this.id),"run",this._isCancel,this._runCount);if(!(!this._isCancel&&this._task)){r.next=6;break}this._runCount++;this._lastRuntime=Date.now();r.next=6;return(t=this._task)===null||t===void 0?void 0:t.call(this,this._runCount);case 6:return r.abrupt("return",this);case 7:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"scheduledExecutionTime",value:function e(){return this._lastRuntime}}])}(),y(u.prototype,"cancel",[n],Object.getOwnPropertyDescriptor(u.prototype,"cancel"),u.prototype),y(u.prototype,"isCancel",[i],Object.getOwnPropertyDescriptor(u.prototype,"isCancel"),u.prototype),y(u.prototype,"run",[o],Object.getOwnPropertyDescriptor(u.prototype,"run"),u.prototype),y(u.prototype,"scheduledExecutionTime",[s],Object.getOwnPropertyDescriptor(u.prototype,"scheduledExecutionTime"),u.prototype),u)}))},19966:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624),r(5010),r(45562)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.UrlUtil=void 0;function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){return l(e)||c(e,t)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw i}}return s}}function l(e){if(Array.isArray(e))return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=g(e,"string");return"symbol"==i(t)?t:t+""}function g(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var m=e.UrlUtil=function(){function e(){f(this,e)}return h(e,null,[{key:"addQuery",value:function r(n,i,o){if((0,t.isNullOrEmpty)(n)||(0,t.isNullOrEmpty)(i)){return n}var a=/\?/.test(n)?"&":"?";var s=(0,t.formatType)(i)===t.formatType.OBJECT?i:e.parseQuery(i);return"".concat(n).concat(a).concat(e.stringfyQuery(s,o))}},{key:"parseQuery",value:function e(r,n){if(!r||(0,t.formatType)(r)!==t.formatType.STRING){return{}}var i=n!==null&&n!==void 0?n:{},a=i.decode,s=a===void 0?true:a;var u=r[0]==="?"?r.slice(1):r;return u.split("&").reduce((function(e,t){var r=t.split("=")||[],n=o(r,2),i=n[0],a=n[1];if(s){i=decodeURIComponent(i);a=decodeURIComponent(a)}e[i]=a;return e}),{})}},{key:"stringfyQuery",value:function e(r,n){if((0,t.isNullOrEmpty)(r)||(0,t.formatType)(r)!==t.formatType.OBJECT||(0,t.formatType)(r)===t.formatType.ARRAY){return""}var i=n!==null&&n!==void 0?n:{},a=i.encode,s=a===void 0?true:a,u=i.addQueryPrefix,c=u===void 0?false:u;var l=Object.entries(r).reduce((function(e,t){var r=o(t,2),n=r[0],i=r[1];var a=s?"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(i)):"".concat(n,"=").concat(i);e.push(a);return e}),[]).join("&");return c?"?".concat(l):l}},{key:"getAllUrlSearch",value:function e(r){if((0,t.formatType)(r)!==t.formatType.STRING||r===""){return{}}try{var n=new URL(r);var i=n.searchParams.entries();var o=i.next();var a={};while(!o.done){a[o.value[0]]=decodeURIComponent(o.value[1]);o=i.next()}return a}catch(e){return{}}}},{key:"getSearchValue",value:function e(r,n){if((0,t.formatType)(r)!==t.formatType.STRING||(0,t.formatType)(n)!==t.formatType.STRING||r===""||n===""){return null}try{var i=new URL(r);return i.searchParams.get(n)}catch(e){return null}}}])}();p(m,"checkHttpsUrl",(0,r.startsWith)("https://"));p(m,"checkHttpUrl",(0,r.startsWith)("http://"));p(m,"isInHttpsWhiteList",(0,r.getIsInWhiteListFn)((0,r.startsWith)("https:")));p(m,"isInHttpWhiteList",(0,r.getIsInWhiteListFn)((0,r.startsWith)("http:")));p(m,"checkIPV4Url",(function(e){try{if(e.hostname){return(0,n.checkIPV4)(e.hostname)}var t=new URL(e);return(0,n.checkIPV4)(t.hostname)}catch(e){return false}}))}))},5010:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.startsWith=e.getIsInWhiteListFn=void 0;function r(){return/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/gi}function n(e){var t=e.url,n=e.whiterList,i=e.ignoreIp;var o=new URL(t);var a=r();if(i&&a.test(o.hostname)){return true}n=n.filter((function(e){return!!e}));for(var s=0;s<n.length;s++){if(o.hostname.endsWith(n[s])){return true}}return false}var i=e.startsWith=function e(t){return function(e){return e.toLowerCase().startsWith(t)}};var o=e.getIsInWhiteListFn=function e(r){return function(e){var i=e.url,o=e.whiterList,a=e.ignoreIp,s=a===void 0?true:a;try{if((0,t.isNullOrEmpty)(i)){return false}if(r(i)){return n({url:i,whiterList:o,ignoreIp:s})}return false}catch(e){return false}}}}))},48527:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(15869),r(64624),r(56360)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.WebWorkerUtil=void 0;function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){"use strict";o=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=h(e,"string");return"symbol"==i(t)?t:t+""}function h(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=function(e){e["CLEAR"]="clear";e["SET"]="set";return e}(p||{});var v=e.WebWorkerUtil=function(){function e(){u(this,e)}return l(e,null,[{key:"getManagerInstance",value:function r(){if(!e.timeoutWorker){e.timeoutWorker=new t.WorkerManager({url:(0,n.getTimeWorkerUrl)(),enablePromiseMethod:true});e.timeoutWorker.setOnMessage(e.dealTimeoutMessage)}return e.timeoutWorker}},{key:"setWorkerTimeout",value:function t(n,i){var o=(0,r.getClientId)();(0,r.getPLogger)().debug("setWorkerTimeout",o);e.timeoutCallbackMap.set(o,n);e.getManagerInstance().postMessage({timerId:o,method:p.SET,delay:i});return o}},{key:"workerSleep",value:function(){var t=s(o().mark((function t(n){var i;return o().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:i=(0,r.getClientId)();return o.abrupt("return",e.getManagerInstance().promisePostMessage({timerId:i,method:p.SET,delay:n}));case 2:case"end":return o.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"clearWorkerTimeout",value:function(){var t=s(o().mark((function t(r){return o().wrap((function t(n){while(1)switch(n.prev=n.next){case 0:e.timeoutCallbackMap["delete"](r);return n.abrupt("return",e.getManagerInstance().promisePostMessage({timerId:r,method:p.CLEAR}));case 2:case"end":return n.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"dealTimeoutMessage",value:function(){var t=s(o().mark((function t(n){var i;return o().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:(0,r.getPLogger)().debug("dealTimeoutMessage",n);if(n.timerId){o.next=3;break}return o.abrupt("return");case 3:i=e.timeoutCallbackMap.get(n.timerId);i===null||i===void 0||i();e.timeoutCallbackMap["delete"](n.timerId);case 6:case"end":return o.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()}])}();f(v,"timeoutWorker",void 0);f(v,"timeoutCallbackMap",new Map)}))},15869:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.WorkerManager=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=l(e,"string");return"symbol"==r(t)?t:t+""}function l(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=e.WorkerManager=function(){function e(r){var n=this;o(this,e);u(this,"worker",void 0);u(this,"messageMap",new Map);u(this,"opts",{url:"",enablePromiseMethod:true});u(this,"customOnMessage",void 0);u(this,"createWorker",(function(){(0,t.getPLogger)().debug("createWorker");if(n.worker){return}n.worker=new Worker(n.opts.url);n.worker.onmessage=n.onMessage.bind(n);n.worker.onerror=n.dealError.bind(n)}));(0,t.getPLogger)().debug("WorkerManager.constructor",r);this.opts=i(i({},this.opts),r||{})}return s(e,[{key:"promisePostMessage",value:function e(r){var n=this;this.createWorker();(0,t.getPLogger)().debug("WorkerManager.promisePostMessage",r);return new Promise((function(e){var o;r=i({},r);if(!r.sno){r.sno=(0,t.getClientId)()}if(!r.now){r.now=Date.now()}(o=n.worker)===null||o===void 0||o.postMessage(r);if(!n.opts.enablePromiseMethod){e({result:true});return}n.messageMap.set(r.sno,e)}))}},{key:"postMessage",value:function e(r){var n;this.createWorker();(0,t.getPLogger)().debug("WorkerManager.postMessage",r);r=i({},r);if(!r.sno){r.sno=(0,t.getClientId)()}if(!r.now){r.now=Date.now()}(n=this.worker)===null||n===void 0||n.postMessage(r)}},{key:"setOnMessage",value:function e(r){(0,t.getPLogger)().debug("WorkerManager.setOnMessage");this.customOnMessage=r}},{key:"onMessage",value:function e(r){var n,i;(0,t.getPLogger)().debug("WorkerManager.onMessage",r);if((n=r.data)!==null&&n!==void 0&&n.sno&&this.opts.enablePromiseMethod){var o=this.messageMap.get(r.data.sno);if(o){(0,t.getPLogger)().debug("WorkerManager.promisePostMessage over",r.data.sno);o===null||o===void 0||o(r.data);this.messageMap["delete"](r.data.sno);return}}(i=this.customOnMessage)===null||i===void 0||i.call(this,r.data)}},{key:"dealError",value:function e(r){(0,t.getPLogger)().error("WorkerManager.dealError",r);delete this.worker}}])}()}))},56360:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.timeWorkerScript=e.getTimeWorkerUrl=void 0;var t=e.timeWorkerScript="\nclass TimerWorker {\n  static timeoutMap = new Map();\n\n  static eventListener(e) {\n    const { data } = e;\n    switch (data.method) {\n      case 'clear':\n        TimerWorker.clearTimer(data);\n        break;\n      case 'set':\n        TimerWorker.setTimer(data);\n        break;\n      default:\n        break;\n    }\n  }\n\n  static deleteTimerByKey(key) {\n    const timer = TimerWorker.timeoutMap.get(key);\n    if (timer) {\n      clearInterval(timer);\n      TimerWorker.timeoutMap.delete(key);\n      return true;\n    }\n    return false;\n  }\n\n  static clearTimer(data) {\n    const { sno, timerId } = data;\n    TimerWorker.sendToMain({ sno, timerId, result: TimerWorker.deleteTimerByKey(timerId) });\n  }\n\n  static setTimer(data) {\n    const { now = 0, sno, timerId, delay = 0 } = data;\n    const remainingDelay = TimerWorker.getRealTimeInterval(delay, now);\n    TimerWorker.timeoutMap.set(timerId, setTimeout(TimerWorker.dealTimer, remainingDelay, { sno, timerId }));\n  }\n\n  static getRealTimeInterval(delay, now) {\n    const workerNow = performance.now();\n    return delay + now - workerNow - performance.timeOrigin;\n  }\n\n  static dealTimer({ timerId, sno }) {\n    TimerWorker.timeoutMap.delete(timerId);\n    TimerWorker.sendToMain({ result: true, timerId, sno });\n  }\n\n  static sendToMain(data) {\n    postMessage(data);\n  }\n}\n\naddEventListener('message', TimerWorker.eventListener);\n";var r=e.getTimeWorkerUrl=function e(){return URL.createObjectURL(new Blob([t]))}}))},91173:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.updateArrayItemByKeys=e.splitArrayByNum=e.queryItemByKeys=e.hasOneInArray=e.deleteItemByKeys=void 0;function r(e){return a(e)||o(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=e.splitArrayByNum=function e(n,i){if((0,t.formatType)(n)!==t.formatType.ARRAY){return n}if((0,t.formatType)(i)!==t.formatType.NUMBER){return n}if(i<0){return[n]}var o=[];var a=r(n);while(a.length>i){o.push(a.splice(0,i))}o.push(a);return o};var c=e.updateArrayItemByKeys=function e(r,n,i){if((0,t.formatType)(r)!==t.formatType.ARRAY){return r}if((0,t.formatType)(n)!==t.formatType.ARRAY){return r}if((0,t.isNullOrEmpty)(i)){return r}if((0,t.formatType)(i)===t.formatType.ARRAY){i.forEach((function(e){c(r,n,e)}));return r}else if((0,t.formatType)(i)!==t.formatType.OBJECT){return r}var o=r.findIndex((function(e){var r=true;n.forEach((function(n){if((0,t.isNullOrEmpty)(e[n])||(0,t.isNullOrEmpty)(i[n])){r=false}if(e[n]!==i[n]){r=false}}));return r}));if(o===-1){r.push(i);return r}r[o]=i;return r};var l=e.queryItemByKeys=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return undefined}if((0,t.formatType)(n)!==t.formatType.OBJECT){return undefined}return r===null||r===void 0?void 0:r.find((function(e){var t=Object.keys(n);for(var r=0;r<t.length;r++){if(e[t[r]]!==n[t[r]]){return false}}return true}))};var f=e.hasOneInArray=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return false}if((0,t.formatType)(n)!==t.formatType.ARRAY){return false}for(var i=0;i<n.length;i++){if(r.includes(n[i])){return true}}return false};var d=e.deleteItemByKeys=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return r}if((0,t.formatType)(n)!==t.formatType.OBJECT){return r}var i=r.findIndex((function(e){var t=Object.keys(n);for(var r=0;r<t.length;r++){if(e[t[r]]!==n[t[r]]){return false}}return true}));if(i!==-1){r.splice(i,1)}return r}}))},36597:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(32918),r(28223),r(55591),r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.AudioWorkletNodeRecord=void 0;t=c(t);var o,s,u;function c(e){return e&&e.__esModule?e:{default:e}}function l(){"use strict";l=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,c,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){f(o,n,i,a,s,"next",e)}function s(e){f(o,n,i,a,s,"throw",e)}a(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=y(e,"string");return"symbol"==a(t)?t:t+""}function y(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var b=e.AudioWorkletNodeRecord=(o=(0,n.printfDecorator)((0,i.getPLogger)()),s=(0,n.printfDecorator)((0,i.getPLogger)()),u=function(){function e(n){h(this,e);g(this,"audioContext",void 0);this.audioContext=new t["default"]({url:(0,r.getLocalRecorderUrl)(),processorName:"LocalRecorderProcessor",processorOptions:{bufferSize:n.bufferSize},audioCallback:n.audioCallback})}return v(e,[{key:"startRecord",value:function(){var e=d(l().mark((function e(t){return l().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",this.audioContext.start(t));case 1:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopRecord",value:function(){var e=d(l().mark((function e(){return l().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.audioContext.stop());case 1:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setSinkId",value:function e(t){var r,n;(r=this.audioContext)===null||r===void 0||(n=r.setSinkId)===null||n===void 0||n.call(r,t)}}])}(),_(u.prototype,"startRecord",[o],Object.getOwnPropertyDescriptor(u.prototype,"startRecord"),u.prototype),_(u.prototype,"stopRecord",[s],Object.getOwnPropertyDescriptor(u.prototype,"stopRecord"),u.prototype),u)}))},15957:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(55591),r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.ScriptProcessorRecord=void 0;var n,i,o,s;function u(){"use strict";u=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=g(e,"string");return"symbol"==a(t)?t:t+""}function g(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var y=e.ScriptProcessorRecord=(n=(0,t.printfDecorator)((0,r.getPLogger)()),i=(0,t.printfDecorator)((0,r.getPLogger)()),o=(s=function(){function e(t){var r=this;f(this,e);p(this,"audioContext",void 0);p(this,"param",void 0);p(this,"stream",void 0);p(this,"input",void 0);p(this,"recorder",void 0);p(this,"total",0);p(this,"startProm",void 0);p(this,"getOnaudioprocess",(function(e){return function(t){var n=new Float32Array(t.inputBuffer.getChannelData(0));var i=new Int16Array(n.length);var o=0;for(var a=0;a<n.length;++a){var s=n[a];if(s>=1)s=1;else if(s<=-1)s=-1;n[a]=s;i[a]=s*32767;o+=Math.abs(i[a])}r.total+=i.byteLength;r.param.audioCallback({pcm:i,sum:o,total:r.total,recordId:e})}}));this.param=t}return h(e,[{key:"startRecord",value:function(){var e=l(u().mark((function e(t){return u().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!this.startProm){this.startProm=this.dealStartRecord(t)}return r.abrupt("return",this.startProm);case 2:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopRecord",value:function(){var e=l(u().mark((function e(){var t,n,i;return u().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.prev=0;(t=this.input)===null||t===void 0||t.disconnect();delete this.input;(n=this.recorder)===null||n===void 0||n.disconnect();delete this.recorder;this.total=0;o.next=8;return(i=this.audioContext)===null||i===void 0?void 0:i.close();case 8:delete this.audioContext;o.next=14;break;case 11:o.prev=11;o.t0=o["catch"](0);(0,r.getPLogger)().error("stopRecord",o.t0);case 14:case"end":return o.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setSinkId",value:function e(t){var r,n;(r=this.audioContext)===null||r===void 0||(n=r.setSinkId)===null||n===void 0||n.call(r,t)}},{key:"dealStartRecord",value:function(){var t=l(u().mark((function t(n){var i,o,a;return u().wrap((function t(s){while(1)switch(s.prev=s.next){case 0:s.prev=0;s.next=3;return this.stopRecord();case 3:this.audioContext=new AudioContext({sampleRate:e.sampleRate});if(!(n!==null&&n!==void 0&&n.stream)){s.next=8;break}this.stream=n.stream;s.next=12;break;case 8:i=n!==null&&n!==void 0&&n.deviceId?{deviceId:{exact:n.deviceId}}:true;s.next=11;return navigator.mediaDevices.getUserMedia({audio:i});case 11:this.stream=s.sent;case 12:if(this.audioContext.createScriptProcessor){(o=this.recorder)===null||o===void 0||o.disconnect();if(this.recorder){this.recorder.onaudioprocess=null}this.recorder=this.audioContext.createScriptProcessor(this.param.bufferSize,1,1);this.recorder.onaudioprocess=this.getOnaudioprocess(Date.now());(a=this.input)===null||a===void 0||a.disconnect();this.input=this.audioContext.createMediaStreamSource(this.stream);this.input.connect(this.recorder).connect(this.audioContext.destination)}s.next=18;break;case 15:s.prev=15;s.t0=s["catch"](0);(0,r.getPLogger)().error("dealStartRecord",s.t0);case 18:delete this.startProm;case 19:case"end":return s.stop()}}),t,this,[[0,15]])})));function n(e){return t.apply(this,arguments)}return n}()}])}(),p(s,"sampleRate",16e3),s),m(o.prototype,"startRecord",[n],Object.getOwnPropertyDescriptor(o.prototype,"startRecord"),o.prototype),m(o.prototype,"stopRecord",[i],Object.getOwnPropertyDescriptor(o.prototype,"stopRecord"),o.prototype),o)}))},51194:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(15957),r(36597)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.AudioContextLocalRecorder=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){"use strict";i=function e(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(n,o){function a(){return new t((function(e,t){r(n,o,e,t)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=d(e,"string");return"symbol"==n(t)?t:t+""}function d(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=e.AudioContextLocalRecorder=function(){function e(n){s(this,e);l(this,"instance",void 0);var i=new AudioContext({sampleRate:16e3});if(n.useScriptProcessor&&!!i.createScriptProcessor){this.instance=new t.ScriptProcessorRecord(n)}else{this.instance=new r.AudioWorkletNodeRecord(n)}}return c(e,[{key:"startRecord",value:function(){var e=a(i().mark((function e(t){return i().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",this.instance.startRecord(t));case 1:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopRecord",value:function(){var e=a(i().mark((function e(){return i().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.instance.stopRecord());case 1:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setSinkId",value:function(){var e=a(i().mark((function e(t){return i().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",this.instance.setSinkId(t));case 1:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}])}()}))},8813:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.DownloadAudio=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=u(e,"string");return"symbol"==r(t)?t:t+""}function u(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=e.DownloadAudio=function(){function e(){n(this,e);a(this,"list",[]);a(this,"id",(0,t.getClientId)())}return o(e,[{key:"addDownloadData",value:function e(t){this.list.push(t)}},{key:"downloadFile",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"test";(0,t.getPLogger)().info("downloadFile",this.id,r);var n=new Blob(this.list);var i=document.createElement("a");var o=URL.createObjectURL(n);i.href=o;i.download=r;document.body.appendChild(i);i.click();document.body.removeChild(i);URL.revokeObjectURL(o)}},{key:"clearData",value:function e(){(0,t.getPLogger)().info("clearData",this.id);this.list=[]}}])}()}))},32248:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.MediaDeviceManager=void 0;function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(){"use strict";r=function e(){return n};var e,n={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==i&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,r){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==t(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):r.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(t,o){function a(){return new r((function(e,r){n(t,o,e,r)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function t(){for(;++i<r.length;)if(o.call(r,i))return t.value=r[i],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(r)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),n.AsyncIterator=R,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new R(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},n.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},n}function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var r=l(e,"string");return"symbol"==t(r)?r:r+""}function l(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var f=e.MediaDeviceManager=function(){function e(){o(this,e)}return s(e,null,[{key:"getDefaultDeviceId",value:function(){var t=i(r().mark((function t(n){var i;var o,a,s;return r().wrap((function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return navigator.mediaDevices.enumerateDevices();case 2:o=r.sent;a=o.filter((function(e){return e.kind===n}));s=a.find((function(e){return e.deviceId==="default"}));return r.abrupt("return",s?((i=a.find((function(t){return t.groupId===s.groupId&&!e.defaultDeviceIdList.includes(t.deviceId)})))===null||i===void 0?void 0:i.deviceId)||"":"");case 6:case"end":return r.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"checkDeviceIdExist",value:function(){var e=i(r().mark((function e(t){var n;return r().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return navigator.mediaDevices.enumerateDevices();case 2:n=r.sent;return r.abrupt("return",!!n.find((function(e){return e.deviceId===t})));case 4:case"end":return r.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}])}();u(f,"defaultDeviceIdList",["default","communications"])}))},58567:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.mergeByDay=void 0;var t=e.mergeByDay=function e(t,r){if(t<0||r<0){return false}if(!Number.isInteger(t)||!Number.isInteger(r)){return false}var n=new Date(t);var i=new Date(r);return!(n.getFullYear()!==i.getFullYear()||n.getMonth()!==i.getMonth()||n.getDate()!==i.getDate())}}))},55591:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624),r(47058)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.printfDecorator=e.frequentTasksDecoratorFactory=e.customDecorator=e.componentDecorator=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){return u(e)||s(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=p(e,"string");return"symbol"==n(t)?t:t+""}function p(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v=e.printfDecorator=function e(t){return function(e,r,n){var i;function o(){var e;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++){o[a]=arguments[a]}var s=Date.now();var u=i.apply(this,o);if(u!==null&&u!==void 0&&u.then){return u.then((function(e){var n;t===null||t===void 0||(n=t.debug)===null||n===void 0||n.call.apply(n,[t,"printfDecorator async over",r,"use time ".concat(Date.now()-s,"ms")].concat(o,[e]));return e}))}t===null||t===void 0||(e=t.debug)===null||e===void 0||e.call.apply(e,[t,"printfDecorator over",r,"use time ".concat(Date.now()-s,"ms")].concat(o,[u]));return u}if(n!==null&&n!==void 0&&n.initializer){return f(f({},n),{},{writable:true,initializer:function e(){var t;i=(t=n.initializer)===null||t===void 0?void 0:t.call(this);return o}})}i=n===null||n===void 0?void 0:n.value;return f(f({},n),{},{writable:true,value:o})}};var g=e.componentDecorator=function e(t){return function(e){var r=e.prototype.render;if(r){e.prototype.render=function(){try{return r.call(this)}catch(r){var n;t===null||t===void 0||(n=t.error)===null||n===void 0||n.call(t,"".concat(e.name," render error"),r);return null}}}if(false){var n,i,o}}};var m=function e(t){var r=t.currResult,n=t.aftMethodDeal,i=t.name;if(typeof n!=="function"){return r}var o=n(r);if(o!==null&&o!==void 0&&o.then){return o.then((function(e){if(e){return r}return Promise.reject(new Error("".concat(i,", aftMethodDeal check failed")))}))}if(o){return r}throw new Error("".concat(i,", aftMethodDeal check failed"))};var y=function e(t){var r=t.preMethodDeal,n=t.aftMethodDeal,o=t.fn,a=t.self,s=t.args,u=t.name;var c=function e(){var t=o.apply(a,s);if(t!==null&&t!==void 0&&t.then){return t.then((function(e){return m({currResult:e,aftMethodDeal:n,name:u})}))}return m({currResult:t,aftMethodDeal:n,name:u})};if(typeof r!=="function"){return c()}var l=r.apply(void 0,i(s));if(l!==null&&l!==void 0&&l.then){return l.then((function(e){if(e){return c()}return Promise.reject(new Error("".concat(u,", preMethodDeal check reject error,")+e))}))}if(l){return c()}throw new Error("".concat(u,", preMethodDeal check throw error,")+l)};var _=e.customDecorator=function e(t){var r=t.preMethodDeal,n=t.aftMethodDeal;return function(e,t,i){var o;function a(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++){i[a]=arguments[a]}return y({preMethodDeal:r,aftMethodDeal:n,fn:o,self:this,args:i,name:t})}if(i!==null&&i!==void 0&&i.initializer){return f(f({},i),{},{writable:true,initializer:function e(){var t;o=(t=i.initializer)===null||t===void 0?void 0:t.call(this);return a}})}o=i===null||i===void 0?void 0:i.value;return f(f({},i),{},{writable:true,value:a})}};var b=e.frequentTasksDecoratorFactory=function e(t){var r=new Map;return function(e){return function(n,i,o){var a,s;var u;function c(){if(r.get(e)){var n;t===null||t===void 0||(n=t.debug)===null||n===void 0||n.call(t,"frequentTasksDecorator waitting last call:",e);return r.get(e)}for(var i=arguments.length,o=new Array(i),a=0;a<i;a++){o[a]=arguments[a]}var s=u.apply(this,o);if(s!==null&&s!==void 0&&s.then){r.set(e,s);return s.then((function(t){r["delete"](e);return t}))}r["delete"](e);return s}t===null||t===void 0||(a=t.debug)===null||a===void 0||a.call(t,"frequentTasksDecorator","".concat(n===null||n===void 0||(s=n.constructor)===null||s===void 0?void 0:s.name,".prototype.").concat(i),o);if(o!==null&&o!==void 0&&o.initializer){return f(f({},o),{},{writable:true,initializer:function e(){var t;u=(t=o.initializer)===null||t===void 0?void 0:t.call(this);return c}})}u=o===null||o===void 0?void 0:o.value;return f(f({},o),{},{writable:true,value:c})}}}}))},2015:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getElementScreenPosition=void 0;var t=e.getElementScreenPosition=function e(t){if(!t){return{left:0,top:0}}var r=t;var n=0;var i=0;while(r){n+=r.offsetLeft-r.scrollLeft;i+=r.offsetTop-r.scrollTop;r=r.offsetParent}return{left:n,top:i}}}))},23750:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getSuffix=e.getFileName=e.formatFileSize=void 0;var r=function e(t){var r=[];for(var n=0;n<(t===null||t===void 0?void 0:t.length);n++){if(t[n]!==""){r.push(t[n])}}return r};var n=e.getFileName=function e(t){var n;var i=t.split("/");i=r(i);i=(n=i[i.length-1])===null||n===void 0?void 0:n.split("\\");i=r(i);return i[i.length-1]||t};var i=e.getSuffix=function e(r){if((0,t.isNullOrEmpty)(r)){r=""}return r.slice((r.lastIndexOf(".")-1>>>0)+2).toLowerCase()};var o=e.formatFileSize=function e(t){if(t<1e3){return t+"B"}else if(t>=1e3&&t<1e6){return Math.round(t*100/1024)/100+"KB"}else if(t>=1e6&&t<1e9){return Math.round(t*100/1024/1024)/100+"MB"}return Math.round(t*100/1024/1024/1024)/100+"GB"}}))},99847:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.checkBase64Image=void 0;var t=e.checkBase64Image=function e(t){return t.startsWith("data:image/png;base64,")||t.startsWith("data:image/jpeg;base64,")}}))},14274:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(47058),r(19966),r(64624),r(99847),r(23750),r(92748),r(2015),r(63642),r(84902),r(58567),r(91173),r(55591),r(45562),r(34526),r(88962),r(29853),r(87954),r(87190),r(48527),r(8813),r(45526),r(51194),r(32248)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l,f,d,h,p,v,g,m,y,_,b,E,S,w){"use strict";Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"AudioContextLocalRecorder",{enumerable:true,get:function e(){return S.AudioContextLocalRecorder}});Object.defineProperty(e,"AutoQueryData",{enumerable:true,get:function e(){return m.AutoQueryData}});Object.defineProperty(e,"DownloadAudio",{enumerable:true,get:function e(){return b.DownloadAudio}});Object.defineProperty(e,"LazyLoad",{enumerable:true,get:function e(){return p.LazyLoad}});Object.defineProperty(e,"LocalTransparentVideoBg",{enumerable:true,get:function e(){return E.LocalTransparentVideoBg}});Object.defineProperty(e,"MediaDeviceManager",{enumerable:true,get:function e(){return w.MediaDeviceManager}});Object.defineProperty(e,"RequestTasksQueue",{enumerable:true,get:function e(){return u.RequestTasksQueue}});Object.defineProperty(e,"StringUtil",{enumerable:true,get:function e(){return v.StringUtil}});Object.defineProperty(e,"Timer",{enumerable:true,get:function e(){return g.Timer}});Object.defineProperty(e,"UrlUtil",{enumerable:true,get:function e(){return r.UrlUtil}});Object.defineProperty(e,"WebWorkerUtil",{enumerable:true,get:function e(){return _.WebWorkerUtil}});e.beforeJsonParse=void 0;Object.defineProperty(e,"checkBase64Image",{enumerable:true,get:function e(){return i.checkBase64Image}});e.checkHttpsUrl=e.checkHttpUrl=void 0;Object.defineProperty(e,"checkIPV4",{enumerable:true,get:function e(){return h.checkIPV4}});Object.defineProperty(e,"componentDecorator",{enumerable:true,get:function e(){return d.componentDecorator}});Object.defineProperty(e,"createEntry",{enumerable:true,get:function e(){return n.createEntry}});Object.defineProperty(e,"customDecorator",{enumerable:true,get:function e(){return d.customDecorator}});Object.defineProperty(e,"debounce",{enumerable:true,get:function e(){return n.debounce}});Object.defineProperty(e,"deepCopy",{enumerable:true,get:function e(){return n.deepCopy}});Object.defineProperty(e,"deleteItemByKeys",{enumerable:true,get:function e(){return f.deleteItemByKeys}});Object.defineProperty(e,"escapeRegExp",{enumerable:true,get:function e(){return c.escapeRegExp}});Object.defineProperty(e,"formatConfName",{enumerable:true,get:function e(){return a.formatConfName}});Object.defineProperty(e,"formatDate",{enumerable:true,get:function e(){return n.formatDate}});Object.defineProperty(e,"formatFileSize",{enumerable:true,get:function e(){return o.formatFileSize}});e.formatString=void 0;Object.defineProperty(e,"formatType",{enumerable:true,get:function e(){return n.formatType}});Object.defineProperty(e,"frequentTasksDecoratorFactory",{enumerable:true,get:function e(){return d.frequentTasksDecoratorFactory}});Object.defineProperty(e,"getClientId",{enumerable:true,get:function e(){return n.getClientId}});Object.defineProperty(e,"getElementScreenPosition",{enumerable:true,get:function e(){return s.getElementScreenPosition}});Object.defineProperty(e,"getEmailReg",{enumerable:true,get:function e(){return c.getEmailReg}});Object.defineProperty(e,"getFileName",{enumerable:true,get:function e(){return o.getFileName}});Object.defineProperty(e,"getMobilePhoneReg",{enumerable:true,get:function e(){return c.getMobilePhoneReg}});Object.defineProperty(e,"getNumberReg",{enumerable:true,get:function e(){return c.getNumberReg}});Object.defineProperty(e,"getSipNumberReg",{enumerable:true,get:function e(){return c.getSipNumberReg}});Object.defineProperty(e,"getSuffix",{enumerable:true,get:function e(){return o.getSuffix}});Object.defineProperty(e,"handleAccountPrint",{enumerable:true,get:function e(){return a.handleAccountPrint}});Object.defineProperty(e,"handleIpPrint",{enumerable:true,get:function e(){return a.handleIpPrint}});Object.defineProperty(e,"handleNickNamePrint",{enumerable:true,get:function e(){return a.handleNickNamePrint}});Object.defineProperty(e,"handlePhoneNumberPrint",{enumerable:true,get:function e(){return a.handlePhoneNumberPrint}});Object.defineProperty(e,"handleTokenPrint",{enumerable:true,get:function e(){return a.handleTokenPrint}});Object.defineProperty(e,"handleUrlPrint",{enumerable:true,get:function e(){return a.handleUrlPrint}});Object.defineProperty(e,"hasOneInArray",{enumerable:true,get:function e(){return f.hasOneInArray}});e.isInHttpsWhiteList=e.isInHttpWhiteList=void 0;Object.defineProperty(e,"isNullOrEmpty",{enumerable:true,get:function e(){return n.isNullOrEmpty}});Object.defineProperty(e,"mergeByDay",{enumerable:true,get:function e(){return l.mergeByDay}});Object.defineProperty(e,"printfDecorator",{enumerable:true,get:function e(){return d.printfDecorator}});Object.defineProperty(e,"queryItemByKeys",{enumerable:true,get:function e(){return f.queryItemByKeys}});e.replaceStringPlaceholder=e.reactStopPropagation=void 0;Object.defineProperty(e,"setLocalStorageItem",{enumerable:true,get:function e(){return y.setLocalStorageItem}});Object.defineProperty(e,"setPLogger",{enumerable:true,get:function e(){return n.setPLogger}});Object.defineProperty(e,"setSessionStorageItem",{enumerable:true,get:function e(){return y.setSessionStorageItem}});e.showDifferentProperty=void 0;Object.defineProperty(e,"sleep",{enumerable:true,get:function e(){return n.sleep}});Object.defineProperty(e,"splitArrayByNum",{enumerable:true,get:function e(){return f.splitArrayByNum}});e.splitStringByChar=void 0;Object.defineProperty(e,"throttle",{enumerable:true,get:function e(){return n.throttle}});Object.defineProperty(e,"updateArrayItemByKeys",{enumerable:true,get:function e(){return f.updateArrayItemByKeys}});var T=e.reactStopPropagation=t.ReactUtil.reactStopPropagation;var C=e.showDifferentProperty=t.ReactUtil.showDifferentProperty;var A=e.beforeJsonParse=v.StringUtil.beforeJsonParse;var R=e.splitStringByChar=v.StringUtil.splitStringByChar;var I=e.formatString=v.StringUtil.formatString;var k=e.replaceStringPlaceholder=v.StringUtil.replaceStringPlaceholder;var O=e.checkHttpsUrl=r.UrlUtil.checkHttpsUrl;var P=e.checkHttpUrl=r.UrlUtil.checkHttpUrl;var M=e.isInHttpWhiteList=r.UrlUtil.isInHttpWhiteList;var x=e.isInHttpsWhiteList=r.UrlUtil.isInHttpsWhiteList}))},45562:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.checkIPV4=void 0;var r=e.checkIPV4=function e(r){if((0,t.formatType)(r)!==t.formatType.STRING){return false}var n=r.split(".").filter((function(e){return!!e.trim()}));if(n.length!==4){return false}for(var i=0;i<n.length;i++){var o=parseInt(n[i]);if(isNaN(o)){return false}if(o<0||o>255){return false}}return true}}))},64624:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.throttle=e.sleep=e.setPLogger=e.isNullOrEmpty=e.getPLogger=e.getClientId=e.formatType=e.formatDate=e.deepCopy=e.debounce=e.createEntry=e.Noop=void 0;var t=e.Noop=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return r};var r={debug:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},info:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},warn:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},error:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)}};var n=e.getPLogger=function e(){return r};var i=e.formatType=function e(t){return Object.prototype.toString.apply(t).match(/\[object\s(.*)]/)[1].toLowerCase()};i.STRING="string";i.OBJECT="object";i.PROXYOBJECT="proxyobject";i.FUNCTION="function";i.ARRAY="array";i.BOOLEAN="boolean";i.NUMBER="number";i.PROMISE="promise";i.NULL="null";i.UNDEFINED="undefined";i.NODELIST="nodelist";i.HTMLCOLLECTION="htmlcollection";i.EVENT="event";i.XMLDOCUMENT="xmldocument";i.DOCUMENT="document";i.ASYNCFUNCTION="asyncfunction";var o=e.setPLogger=function e(t){if(i(t===null||t===void 0?void 0:t.debug)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.info)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.warn)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.error)===i.FUNCTION){r=t}};var a=e.isNullOrEmpty=function e(t){var r=i(t);if(r===i.OBJECT){return Object.keys(t).length===0}return t===undefined||t===null||t.toString()==="NaN"||t===""||t.length===0};var s=e.deepCopy=function e(t){if(a(t)){return t}if(i(t)===i.STRING||i(t)===i.NUMBER||i(t)===i.BOOLEAN){return t}return JSON.parse(JSON.stringify(t))};var u=e.formatDate=function e(t,r){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:parseInt((t.getMilliseconds()/1e3).toFixed(3).substr(2))};if(/(y+)/.test(r)){r=r.replace(RegExp.$1,String(t.getFullYear()).substr(4-RegExp.$1.length))}for(var i in n){if(new RegExp("("+i+")").test(r)){r=r.replace(RegExp.$1,RegExp.$1.length===1?n[i].toString():("00"+n[i]).substr(String(n[i]).length))}}return r};var c=e.getClientId=function(){var e=0;var t=(new Date).getTime();return function(){var r=(new Date).getTime();if(r===t){e++;if(e>999){e=1}}else{t=r;e=0}return t*1e3+e}}();var l=e.createEntry=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return"".concat(t," ").concat(c())};var f=e.sleep=function e(t){return new Promise((function(e){return setTimeout(e,t)}))};var d=e.debounce=function e(t,r){var n=0;return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++){i[o]=arguments[o]}if(n){clearTimeout(n)}n=setTimeout((function(){t.apply(void 0,i)}),r)}};var h=e.throttle=function e(t,r){var n;return function(){if(!n){t.apply(void 0,arguments);n=setTimeout((function(){n=null}),r)}}}}))},84902:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getSipNumberReg=e.getNumberReg=e.getMobilePhoneReg=e.getEmailReg=e.getChineseWordReg=e.getChinesePunctuationReg=e.escapeRegExp=void 0;var t=e.escapeRegExp=function e(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")};var r=e.getNumberReg=function e(){return/^([+*#]\d+|\d{4,})$/};var n=e.getMobilePhoneReg=function e(){return/^(1|\+861|0\d{2,3}1)[3456789]\d{9}$/};var i=e.getEmailReg=function e(){return/^[a-z\dA-Z]+[-a-z\dA-Z._]+@([a-z\dA-Z]+(-[a-z\dA-Z]+)?\.)+[a-z]+$/};var o=e.getSipNumberReg=function e(){return/^\+99111\d+/};var a=e.getChineseWordReg=function e(){return/[\u4E00-\u9FFF]/};var s=e.getChinesePunctuationReg=function e(){return/[\u4E00-\u9FFF]/}}))},92748:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.handleUrlPrint=e.handleTokenPrint=e.handlePhoneNumberPrint=e.handleNickNamePrint=e.handleIpPrint=e.handleAccountPrint=e.formatConfName=void 0;var r=e.handlePhoneNumberPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}var n=r.toString();var i=/^1[3456789]\d{9}$/g;var o=n.length;var a=Math.floor((o-3)/2);if(o<3){return n}else if(o<5){return n.substr(0,1)+"***"}else if(o>11){return n.substr(0,2)+"*****"+n.substr(-3)}return i.test(n)?n.substr(0,3)+"****"+n.substr(7):n.substr(0,a)+"***"+n.substr(a+3)};var n=e.handleAccountPrint=function e(n){if((0,t.isNullOrEmpty)(n)){return""}n=n.toString();var i=/^1[3456789]\d{9}$/g;if(i.test(n)){return r(n)}var o=/^\+99|\+8657\d+/g;if(o.test(n)){return n.substr(0,2)+"*****"+n.substr(-3)}if(n.length<=5){return n.replace(/(?<=[\w\W])([\w\W])/gi,"*")}if(n.length<=13){return n.replace(/(?<=[\w\W])([\w\W])(?=[\w\W])/gi,"*")}return n.replace(/(?<=[\w\W]{2})([\w\W])(?=[\w\W]{3})/gi,"*")};var i=e.handleIpPrint=function e(r){if((0,t.formatType)(r)!==t.formatType.STRING||!r){return""}return r.replace(/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/gi,(function(e){return e.replace(/(\d{1,3})$/gi,(function(e,t){return t.replace(/\d/gi,"*")}))}))};var o=e.handleUrlPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}r=r.toString();return r.split("?")[0]};var a=e.handleTokenPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}r=r.toString();return r.substr(0,2)+"***"+r.substr(-3)};var s=e.handleNickNamePrint=function e(n){if((0,t.isNullOrEmpty)(n)||![t.formatType.STRING,t.formatType.NUMBER].includes((0,t.formatType)(n))){return""}n=n.toString();var i=/^1[3|4|5|6|7|8|9][0-9]{9}$/g;if(i.test(n)){return r(n)}return n.replace(/^([\w\W])([\w\W]+)/gi,(function(e,t,r){return t+r.replace(/[\w\W]/gi,"*")}))};var u=e.formatConfName=function e(r){if((0,t.isNullOrEmpty)(r)||![t.formatType.STRING,t.formatType.NUMBER].includes((0,t.formatType)(r))){return""}r=r.toString();var n=r.length;if(n<5){return r.replace(/^([\w\W])([\w\W]+)/gi,(function(e,t,r){return t+r.replace(/[\w\W]/gi,"*")}))}else if(n<=13){return r.replace(/^([\w\W])([\w\W]+)([\w\W])$/gi,(function(e,t,r,n){return t+r.replace(/[\w\W]/gi,"*")+n}))}return r.replace(/^([\w\W]{2})([\w\W]+)([\w\W]{3})$/gi,(function(e,t,r,n){return t+r.replace(/[\w\W]/gi,"*")+n}))}}))},87190:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.setSessionStorageItem=e.setLocalStorageItem=void 0;var r=function e(r){return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{key:"",value:""};if(!e){return false}var n=e.key,i=e.value,o=e.isForce;var a=r?window.localStorage:window.sessionStorage;if(!a){(0,t.getPLogger)().warn("setStorageItem no Storage",{isLocalStorage:r,key:n});return false}if(!n){(0,t.getPLogger)().warn("setStorageItem no key",{isLocalStorage:r,key:n});return false}if((0,t.formatType)(i)!==t.formatType.STRING){(0,t.getPLogger)().warn("setStorageItem value not string",{isLocalStorage:r,key:n});return false}try{(0,t.getPLogger)().info("setStorageItem",{isLocalStorage:r,key:n});a.setItem(n,i===null||i===void 0?void 0:i.toString());return true}catch(e){(0,t.getPLogger)().error("setStorageItem",{isLocalStorage:r,key:n,isForce:o,e});if(!o){return false}a.clear();a.setItem(n,i===null||i===void 0?void 0:i.toString());return true}}};var n=e.setLocalStorageItem=r(true);var i=e.setSessionStorageItem=r(false)}))},88962:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(64624)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.StringUtil=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=u(e,"string");return"symbol"==r(t)?t:t+""}function u(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=e.StringUtil=i((function e(){o(this,e)}));a(c,"beforeJsonParse",(function(e){return e.replace("","")}));a(c,"replaceStringPlaceholder",(function(e,r,n){if((0,t.formatType)(e)!==t.formatType.STRING){return e}var i=e.split(r.toString());var o="";i.forEach((function(e,t){o+=e;if(t<i.length-1&&n[t]){o+=n[t]}}));return o}));a(c,"formatString",(function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++){n[i-1]=arguments[i]}if((0,t.formatType)(e)!==t.formatType.STRING){return e}return e.replace(/\{([^{}]+)}/g,(function(e,r){return(0,t.formatType)(n[r])===t.formatType.STRING||!(0,t.isNullOrEmpty)(n[r])?n[r]:e}))}));a(c,"splitStringByChar",(function(e,r,n){if((0,t.formatType)(e)!==t.formatType.STRING){return e}if((0,t.formatType)(r)!==t.formatType.NUMBER||r<0){return e}if((0,t.formatType)(n)!==t.formatType.STRING){return e}var i="";e.split("").forEach((function(t,o){i+=t;if(o<e.length-1&&(o+1)%r===0){i+=n}}));return i}));a(c,"safeJSONParse",(function(e){try{return JSON.parse(e)}catch(e){return null}}))}))},56361:e=>{(function t(r,n){if(true)e.exports=n();else{var i,o}})(self,(()=>(()=>{var e={2897:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.AutoQueryData=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(){"use strict";c=function e(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),s=new M(n||[]);return o(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==n&&i.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function e(r,i){function o(){return new t((function(e,t){n(r,i,e,t)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=E,o(C,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function o(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=_(e,"string");return"symbol"==r(t)?t:t+""}function _(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b=e.AutoQueryData=function(){function e(t){p(this,e);m(this,"_opts",void 0);m(this,"_data",void 0);m(this,"_timer",void 0);m(this,"_count",0);m(this,"_firstProm",void 0);this._opts=this._getOpts(t);this._dealGetDataFunc("constructor")}return g(e,[{key:"_getOpts",value:function e(r){if((0,t.formatType)(r)!==t.formatType.OBJECT){throw new Error("opts must a object")}(0,t.getPLogger)().debug("_getOpts",(0,t.formatType)(r.getDataFunc),(0,t.formatType)(r.args));if((0,t.formatType)(r.getDataFunc)!==t.formatType.FUNCTION&&(0,t.formatType)(r.getDataFunc)!==t.formatType.ASYNCFUNCTION){throw new Error("opts.getDataFunc must a function")}if((0,t.formatType)(r.args)!==t.formatType.ARRAY&&(0,t.formatType)(r.args)!==t.formatType.UNDEFINED){throw new Error("opts.args must a array or undefined")}var n=h({},r);if((0,t.formatType)(n.delay)!==t.formatType.NUMBER){n.delay=3e4}return n}},{key:"getSyncData",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";r+=",getSyncData";if(!this._timer){this._dealGetDataFunc(r)}(0,t.getPLogger)().debug(r,this._data);return this._data}},{key:"getData",value:function(){var e=f(c().mark((function e(){var r,n=arguments;return c().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r=n.length>0&&n[0]!==undefined?n[0]:"";r+=",getData";if(this._timer){i.next=5;break}i.next=5;return this._dealGetDataFunc(r);case 5:if(!this._firstProm){i.next=8;break}i.next=8;return this._firstProm;case 8:(0,t.getPLogger)().debug(r,this._data);return i.abrupt("return",this._data);case 10:case"end":return i.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()},{key:"stop",value:function e(){(0,t.getPLogger)().debug("stop",this._data);if(this._timer){clearInterval(this._timer)}delete this._timer;delete this._data;delete this._firstProm;this._count=0}},{key:"_dealGetDataFunc",value:function(){var e=f(c().mark((function e(r){var i=this,o;return c().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r+=",_dealGetDataFunc";this._timer=setInterval(f(c().mark((function e(){var o;return c().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return(o=i._opts).getDataFunc.apply(o,n(i._opts.args||[]));case 2:i._data=a.sent;i._count++;(0,t.getPLogger)().debug(r,i._count,i._data);case 5:case"end":return a.stop()}}),e)}))),this._opts.delay);this._count++;this._firstProm=(o=this._opts).getDataFunc.apply(o,n(this._opts.args||[]));a.next=6;return this._firstProm;case 6:this._data=a.sent;(0,t.getPLogger)().debug(r,this._count,this._data);case 8:case"end":return a.stop()}}),e,this)})));function r(t){return e.apply(this,arguments)}return r}()}])}()}))},8360:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LazyLoad=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u={};var c=e.LazyLoad=function(){function e(){n(this,e)}return o(e,null,[{key:"getRealLazyApi",value:function r(n,i,o){(0,t.getPLogger)().debug("getRealLazyApi",n,i,o);if((0,t.formatType)(n)!==t.formatType.STRING||(0,t.formatType)(i)!==t.formatType.STRING||(0,t.formatType)(o)!==t.formatType.OBJECT||n===""||i===""){return{}}var a=o;var s=Object.keys(o);var u=Object.getOwnPropertyNames(Object.getPrototypeOf(o));if(u.includes("constructor")){u.splice(u.indexOf("constructor"),1)}var c=s.concat(u);(0,t.getPLogger)().info("getRealLazyApi loadScript, "+n);c.forEach((function(r){if((0,t.formatType)(a[r])===t.formatType.FUNCTION){a[r]=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++){s[u]=arguments[u]}return e.loadScript(n,i).then((function(){var e;(0,t.getPLogger)().info("getRealLazyApi loadScript, real do "+n+"."+r);if(((e=window[n])===null||e===void 0?void 0:e[r])===a[r]){(0,t.getPLogger)().error("getRealLazyApi loadScript, script is error,"+n+"."+r)}else{var i;return(i=window[n])===null||i===void 0||(i=i[r])===null||i===void 0?void 0:i.apply(window[n],s)}return undefined}))["catch"]((function(e){(0,t.getPLogger)().error("getRealLazyApi loadScript,lazy load "+n,e)}))}}}));return a}},{key:"loadScript",value:function e(r,n){(0,t.getPLogger)().debug("loadScript",r,n);if((0,t.formatType)(r)!==t.formatType.STRING||(0,t.formatType)(n)!==t.formatType.STRING||r===""||n===""){return Promise.resolve(undefined)}if(!u[r]){var i=document.createElement("script");i.async=true;u[r]=new Promise((function(e,n){i.onload=function(){(0,t.getPLogger)().info("loadScript, load "+r+" success");e(window[r])};i.onerror=function(){(0,t.getPLogger)().error("loadScript, load "+r+" error");n(new Error("load resource error"))}}));i.src=n;document.head.appendChild(i)}else{(0,t.getPLogger)().info("loadScript, not load "+r+" again")}return u[r]}},{key:"loadCss",value:function e(r){(0,t.getPLogger)().info("loadCss",r);if((0,t.formatType)(r)!==t.formatType.STRING||r===""){return Promise.resolve(undefined)}return new Promise((function(e){var n=document.createElement("link");n.rel="stylesheet";n.href=r;n.onload=function(){(0,t.getPLogger)().info("loadCss, load "+r+" success");e(true)};n.onerror=function(){(0,t.getPLogger)().info("loadCss, load "+r+" error");e(false)};document.head.appendChild(n)}))}}])}()}))},2771:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.ReactUtil=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==r(t)?t:t+""}function h(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=e.ReactUtil=function(){function e(){c(this,e)}return f(e,null,[{key:"showDifferentProperty",value:function e(t,r,n){var i=[];if(false){}return i}},{key:"reactStopPropagation",value:function e(t){var r,n,i,o,a,s;t===null||t===void 0||(r=(n=t).stopPropagation)===null||r===void 0||r.call(n);t===null||t===void 0||(i=t.nativeEvent)===null||i===void 0||(o=i.stopPropagation)===null||o===void 0||o.call(i);t===null||t===void 0||(a=t.nativeEvent)===null||a===void 0||(s=a.stopImmediatePropagation)===null||s===void 0||s.call(a)}}])}()}))},9220:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RequestTasksQueue=void 0;function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(){"use strict";r=function e(){return n};var e,n={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==i&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,r){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==t(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):r.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(t,o){function a(){return new r((function(e,r){n(t,o,e,r)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function t(){for(;++i<r.length;)if(o.call(r,i))return t.value=r[i],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(r)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),n.AsyncIterator=R,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new R(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},n.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},n}function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e){return c(e)||u(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var r=g(e,"string");return"symbol"==t(r)?r:r+""}function g(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var m=e.RequestTasksQueue=d((function e(t){var n=this;var a=t.taskFunc,s=t.logger,u=t.timeout,c=u===void 0?5e4:u;h(this,e);p(this,"_queueData",void 0);p(this,"_taskFunc",void 0);p(this,"logger",void 0);p(this,"_timeout",void 0);p(this,"_isRunning",void 0);p(this,"dealTask",(function(e){var t,r;var i=e.args,o=e.timeout;var a="dealTask";var s=Date.now();(t=n.logger)===null||t===void 0||(r=t.debug)===null||r===void 0||r.call(t,a,"start");return new Promise((function(e){o=o||n._timeout;var t=setTimeout((function(){var t,r;(t=(r=n.logger).info)===null||t===void 0||t.call(r,a,"timeout",Date.now()-s);e({reason:"timeout,"+o});n._isRunning=false}),o);n._queueData.push([i,function(r){var i,o;(i=n.logger)===null||i===void 0||(o=i.debug)===null||o===void 0||o.call(i,a,"over,use time",Date.now()-s);clearTimeout(t);e(r)}]);if(!n._isTaskRunning()){n._dealTask()}}))}));p(this,"_dealTask",(function(){if(n._getNoDealDataSize()>0){var e=n._getWillDealData();n._isRunning=true;n._dealTaskFunc.apply(n,o(e[0])).then((function(t){e[1](t);n._dealTask()}))["catch"]((function(t){var r,i;(r=n.logger)===null||r===void 0||(i=r.error)===null||i===void 0||i.call(r,"_dealTask error",t);e[1]({reason:"catch error",error:t});n._dealTask()}))}else{n._isRunning=false}}));p(this,"_dealTaskFunc",i(r().mark((function e(){var t=arguments;return r().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",n._taskFunc.apply(n,t));case 1:case"end":return r.stop()}}),e)}))));p(this,"_getNoDealDataSize",(function(){return n._queueData.length}));p(this,"_isTaskRunning",(function(){return n._isRunning}));p(this,"_getWillDealData",(function(){return n._queueData.shift()}));this.logger=s||{info:function e(){}};this._queueData=[];this._taskFunc=a;this._isRunning=false;this._timeout=c}))}))},3399:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(3830),r(258),r(4521),r(9969),r(2615)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Timer=void 0;var s,u,c,l,f,d,h,p,v;function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function y(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=E(e,"string");return"symbol"==a(t)?t:t+""}function E(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function S(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var w=(0,r.getPLogger)();var T=function e(r,n){var i;return(r===null||r===void 0||(i=r.constructor)===null||i===void 0?void 0:i.name)===t.TimerTask.name&&n>0};var C=e.Timer=(s=(0,i.printfDecorator)(w),u=(0,i.printfDecorator)(w),c=(0,i.printfDecorator)(w),l=(0,i.customDecorator)({preMethodDeal:T}),f=(0,i.printfDecorator)(w),d=(0,i.customDecorator)({preMethodDeal:T}),h=(0,i.printfDecorator)(w),p=(v=function(){function e(t){var r=this;g(this,e);_(this,"_timerHandlers",[]);_(this,"_cancelTaskIdList",[]);_(this,"userWebWorker",false);_(this,"setTimeout",(function(e,t){if(r.userWebWorker){return o.WebWorkerUtil.setWorkerTimeout(e,t)}return setTimeout(e,t)}));_(this,"clearTimeout",(function(e){if(r.userWebWorker){return o.WebWorkerUtil.clearWorkerTimeout(e)}return clearTimeout(e)}));if(t!==null&&t!==void 0&&t.userWebWorker){this.userWebWorker=true}this.schedule=this.schedule.bind(this);this.scheduleFixedInterval=this.scheduleFixedInterval.bind(this);this.cancel=this.cancel.bind(this);w.debug("Timer.constructor",t)}return y(e,[{key:"cancel",value:function e(){var t=this;w.debug("Timer.cancel");this._timerHandlers.forEach((function(e){return t._cancelTask(e)}));this._timerHandlers=[];return this}},{key:"purge",value:function e(){w.debug("Timer.purge");var t;var r;for(var n=this._timerHandlers.length-1;n>-1;n--){t=this._timerHandlers[n].task;if(t.isCancel()){r=this._timerHandlers.splice(n,1);w.debug("Timer.purge",t,r[0]);this._cancelTask(r[0])}}return this}},{key:"schedule",value:function e(t,r){var i=this;w.debug("Timer.schedule",r);var o=Date.now();(0,n.updateArrayItemByKeys)(this._timerHandlers,["id"],{id:t.id,task:t,time:r,handle:this.setTimeout((function(){return t.run()["catch"]((function(e){return w.error("schedule",e)}))["finally"]((function(){var e=Date.now();w.debug("Timer.schedule run",e-o);if(i._cancelTaskIdList.includes(t.id)){w.warn("schedule, this task has already canceled",t.id)}else{i.schedule(t,r)}}))}),r)});return this}},{key:"scheduleFixedInterval",value:function e(t,r){var i=this;w.debug("Timer.scheduleFixedInterval",r);var o=Date.now();(0,n.updateArrayItemByKeys)(this._timerHandlers,["id"],{id:t.id,task:t,time:r,handle:this.setTimeout((function(){var e=Date.now();w.debug("Timer.scheduleFixedInterval run",e-o);t.run()["catch"]((function(e){return w.error("scheduleFixedInterval",e)}));i.scheduleFixedInterval(t,r)}),r)});return this}},{key:"_cancelTask",value:function e(t){w.debug("Timer._cancelTask");this.clearTimeout(t.handle);if(this._cancelTaskIdList.includes(t.id)){w.warn("_cancelTask, this task has already canceled",t.id)}else{this._cancelTaskIdList.push(t.id)}return this}}])}(),_(v,"TimerTask",t.TimerTask),v),S(p.prototype,"cancel",[s],Object.getOwnPropertyDescriptor(p.prototype,"cancel"),p.prototype),S(p.prototype,"purge",[u],Object.getOwnPropertyDescriptor(p.prototype,"purge"),p.prototype),S(p.prototype,"schedule",[c,l],Object.getOwnPropertyDescriptor(p.prototype,"schedule"),p.prototype),S(p.prototype,"scheduleFixedInterval",[f,d],Object.getOwnPropertyDescriptor(p.prototype,"scheduleFixedInterval"),p.prototype),S(p.prototype,"_cancelTask",[h],Object.getOwnPropertyDescriptor(p.prototype,"_cancelTask"),p.prototype),p)}))},3830:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(258),r(9969)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.TimerTask=void 0;var n,i,o,s,u;function c(){"use strict";c=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=m(e,"string");return"symbol"==a(t)?t:t+""}function m(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function y(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var _=(0,t.getPLogger)();var b=e.TimerTask=(n=(0,r.printfDecorator)(_),i=(0,r.printfDecorator)(_),o=(0,r.printfDecorator)(_),s=(0,r.printfDecorator)(_),u=function(){function e(r){d(this,e);v(this,"id",(0,t.getClientId)());v(this,"_isCancel",false);v(this,"_task",void 0);v(this,"_runCount",0);v(this,"_lastRuntime",0);_.info("TimerTask,".concat(this.id),"constructor",(0,t.formatType)(r));if((0,t.formatType)(r)!==t.formatType.FUNCTION&&(0,t.formatType)(r)!==t.formatType.ASYNCFUNCTION){throw new Error("task is not a function,"+r)}this._task=r}return p(e,[{key:"cancel",value:function e(){_.info("TimerTask,".concat(this.id),"cancel");this._isCancel=true;return this}},{key:"isCancel",value:function e(){return this._isCancel}},{key:"run",value:function(){var e=f(c().mark((function e(){var t;return c().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:_.info("TimerTask,".concat(this.id),"run",this._isCancel,this._runCount);if(!(!this._isCancel&&this._task)){r.next=6;break}this._runCount++;this._lastRuntime=Date.now();r.next=6;return(t=this._task)===null||t===void 0?void 0:t.call(this,this._runCount);case 6:return r.abrupt("return",this);case 7:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"scheduledExecutionTime",value:function e(){return this._lastRuntime}}])}(),y(u.prototype,"cancel",[n],Object.getOwnPropertyDescriptor(u.prototype,"cancel"),u.prototype),y(u.prototype,"isCancel",[i],Object.getOwnPropertyDescriptor(u.prototype,"isCancel"),u.prototype),y(u.prototype,"run",[o],Object.getOwnPropertyDescriptor(u.prototype,"run"),u.prototype),y(u.prototype,"scheduledExecutionTime",[s],Object.getOwnPropertyDescriptor(u.prototype,"scheduledExecutionTime"),u.prototype),u)}))},3898:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258),r(491),r(8707)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.UrlUtil=void 0;function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){return l(e)||c(e,t)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw i}}return s}}function l(e){if(Array.isArray(e))return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=g(e,"string");return"symbol"==i(t)?t:t+""}function g(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var m=e.UrlUtil=function(){function e(){f(this,e)}return h(e,null,[{key:"addQuery",value:function r(n,i,o){if((0,t.isNullOrEmpty)(n)||(0,t.isNullOrEmpty)(i)){return n}var a=/\?/.test(n)?"&":"?";var s=(0,t.formatType)(i)===t.formatType.OBJECT?i:e.parseQuery(i);return"".concat(n).concat(a).concat(e.stringfyQuery(s,o))}},{key:"parseQuery",value:function e(r,n){if(!r||(0,t.formatType)(r)!==t.formatType.STRING){return{}}var i=n!==null&&n!==void 0?n:{},a=i.decode,s=a===void 0?true:a;var u=r[0]==="?"?r.slice(1):r;return u.split("&").reduce((function(e,t){var r=t.split("=")||[],n=o(r,2),i=n[0],a=n[1];if(s){i=decodeURIComponent(i);a=decodeURIComponent(a)}e[i]=a;return e}),{})}},{key:"stringfyQuery",value:function e(r,n){if((0,t.isNullOrEmpty)(r)||(0,t.formatType)(r)!==t.formatType.OBJECT||(0,t.formatType)(r)===t.formatType.ARRAY){return""}var i=n!==null&&n!==void 0?n:{},a=i.encode,s=a===void 0?true:a,u=i.addQueryPrefix,c=u===void 0?false:u;var l=Object.entries(r).reduce((function(e,t){var r=o(t,2),n=r[0],i=r[1];var a=s?"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(i)):"".concat(n,"=").concat(i);e.push(a);return e}),[]).join("&");return c?"?".concat(l):l}},{key:"getAllUrlSearch",value:function e(r){if((0,t.formatType)(r)!==t.formatType.STRING||r===""){return{}}try{var n=new URL(r);var i=n.searchParams.entries();var o=i.next();var a={};while(!o.done){a[o.value[0]]=decodeURIComponent(o.value[1]);o=i.next()}return a}catch(e){return{}}}},{key:"getSearchValue",value:function e(r,n){if((0,t.formatType)(r)!==t.formatType.STRING||(0,t.formatType)(n)!==t.formatType.STRING||r===""||n===""){return null}try{var i=new URL(r);return i.searchParams.get(n)}catch(e){return null}}}])}();p(m,"checkHttpsUrl",(0,r.startsWith)("https://"));p(m,"checkHttpUrl",(0,r.startsWith)("http://"));p(m,"isInHttpsWhiteList",(0,r.getIsInWhiteListFn)((0,r.startsWith)("https:")));p(m,"isInHttpWhiteList",(0,r.getIsInWhiteListFn)((0,r.startsWith)("http:")));p(m,"checkIPV4Url",(function(e){try{if(e.hostname){return(0,n.checkIPV4)(e.hostname)}var t=new URL(e);return(0,n.checkIPV4)(t.hostname)}catch(e){return false}}))}))},491:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.startsWith=e.getIsInWhiteListFn=void 0;function r(){return/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/gi}function n(e){var t=e.url,n=e.whiterList,i=e.ignoreIp;var o=new URL(t);var a=r();if(i&&a.test(o.hostname)){return true}n=n.filter((function(e){return!!e}));for(var s=0;s<n.length;s++){if(o.hostname.endsWith(n[s])){return true}}return false}var i=e.startsWith=function e(t){return function(e){return e.toLowerCase().startsWith(t)}};var o=e.getIsInWhiteListFn=function e(r){return function(e){var i=e.url,o=e.whiterList,a=e.ignoreIp,s=a===void 0?true:a;try{if((0,t.isNullOrEmpty)(i)){return false}if(r(i)){return n({url:i,whiterList:o,ignoreIp:s})}return false}catch(e){return false}}}}))},2615:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(2583),r(258),r(4706)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.WebWorkerUtil=void 0;function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){"use strict";o=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=h(e,"string");return"symbol"==i(t)?t:t+""}function h(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=function(e){e["CLEAR"]="clear";e["SET"]="set";return e}(p||{});var v=e.WebWorkerUtil=function(){function e(){u(this,e)}return l(e,null,[{key:"getManagerInstance",value:function r(){if(!e.timeoutWorker){e.timeoutWorker=new t.WorkerManager({url:(0,n.getTimeWorkerUrl)(),enablePromiseMethod:true});e.timeoutWorker.setOnMessage(e.dealTimeoutMessage)}return e.timeoutWorker}},{key:"setWorkerTimeout",value:function t(n,i){var o=(0,r.getClientId)();(0,r.getPLogger)().debug("setWorkerTimeout",o);e.timeoutCallbackMap.set(o,n);e.getManagerInstance().postMessage({timerId:o,method:p.SET,delay:i});return o}},{key:"workerSleep",value:function(){var t=s(o().mark((function t(n){var i;return o().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:i=(0,r.getClientId)();return o.abrupt("return",e.getManagerInstance().promisePostMessage({timerId:i,method:p.SET,delay:n}));case 2:case"end":return o.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"clearWorkerTimeout",value:function(){var t=s(o().mark((function t(r){return o().wrap((function t(n){while(1)switch(n.prev=n.next){case 0:e.timeoutCallbackMap["delete"](r);return n.abrupt("return",e.getManagerInstance().promisePostMessage({timerId:r,method:p.CLEAR}));case 2:case"end":return n.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"dealTimeoutMessage",value:function(){var t=s(o().mark((function t(n){var i;return o().wrap((function t(o){while(1)switch(o.prev=o.next){case 0:(0,r.getPLogger)().debug("dealTimeoutMessage",n);if(n.timerId){o.next=3;break}return o.abrupt("return");case 3:i=e.timeoutCallbackMap.get(n.timerId);i===null||i===void 0||i();e.timeoutCallbackMap["delete"](n.timerId);case 6:case"end":return o.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()}])}();f(v,"timeoutWorker",void 0);f(v,"timeoutCallbackMap",new Map)}))},2583:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.WorkerManager=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=l(e,"string");return"symbol"==r(t)?t:t+""}function l(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=e.WorkerManager=function(){function e(r){var n=this;o(this,e);u(this,"worker",void 0);u(this,"messageMap",new Map);u(this,"opts",{url:"",enablePromiseMethod:true});u(this,"customOnMessage",void 0);u(this,"createWorker",(function(){(0,t.getPLogger)().debug("createWorker");if(n.worker){return}n.worker=new Worker(n.opts.url);n.worker.onmessage=n.onMessage.bind(n);n.worker.onerror=n.dealError.bind(n)}));(0,t.getPLogger)().debug("WorkerManager.constructor",r);this.opts=i(i({},this.opts),r||{})}return s(e,[{key:"promisePostMessage",value:function e(r){var n=this;this.createWorker();(0,t.getPLogger)().debug("WorkerManager.promisePostMessage",r);return new Promise((function(e){var o;r=i({},r);if(!r.sno){r.sno=(0,t.getClientId)()}if(!r.now){r.now=Date.now()}(o=n.worker)===null||o===void 0||o.postMessage(r);if(!n.opts.enablePromiseMethod){e({result:true});return}n.messageMap.set(r.sno,e)}))}},{key:"postMessage",value:function e(r){var n;this.createWorker();(0,t.getPLogger)().debug("WorkerManager.postMessage",r);r=i({},r);if(!r.sno){r.sno=(0,t.getClientId)()}if(!r.now){r.now=Date.now()}(n=this.worker)===null||n===void 0||n.postMessage(r)}},{key:"setOnMessage",value:function e(r){(0,t.getPLogger)().debug("WorkerManager.setOnMessage");this.customOnMessage=r}},{key:"onMessage",value:function e(r){var n,i;(0,t.getPLogger)().debug("WorkerManager.onMessage",r);if((n=r.data)!==null&&n!==void 0&&n.sno&&this.opts.enablePromiseMethod){var o=this.messageMap.get(r.data.sno);if(o){(0,t.getPLogger)().debug("WorkerManager.promisePostMessage over",r.data.sno);o===null||o===void 0||o(r.data);this.messageMap["delete"](r.data.sno);return}}(i=this.customOnMessage)===null||i===void 0||i.call(this,r.data)}},{key:"dealError",value:function e(r){(0,t.getPLogger)().error("WorkerManager.dealError",r);delete this.worker}}])}()}))},4706:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.timeWorkerScript=e.getTimeWorkerUrl=void 0;var t=e.timeWorkerScript="\nclass TimerWorker {\n  static timeoutMap = new Map();\n\n  static eventListener(e) {\n    const { data } = e;\n    switch (data.method) {\n      case 'clear':\n        TimerWorker.clearTimer(data);\n        break;\n      case 'set':\n        TimerWorker.setTimer(data);\n        break;\n      default:\n        break;\n    }\n  }\n\n  static deleteTimerByKey(key) {\n    const timer = TimerWorker.timeoutMap.get(key);\n    if (timer) {\n      clearInterval(timer);\n      TimerWorker.timeoutMap.delete(key);\n      return true;\n    }\n    return false;\n  }\n\n  static clearTimer(data) {\n    const { sno, timerId } = data;\n    TimerWorker.sendToMain({ sno, timerId, result: TimerWorker.deleteTimerByKey(timerId) });\n  }\n\n  static setTimer(data) {\n    const { now = 0, sno, timerId, delay = 0 } = data;\n    const remainingDelay = TimerWorker.getRealTimeInterval(delay, now);\n    TimerWorker.timeoutMap.set(timerId, setTimeout(TimerWorker.dealTimer, remainingDelay, { sno, timerId }));\n  }\n\n  static getRealTimeInterval(delay, now) {\n    const workerNow = performance.now();\n    return delay + now - workerNow - performance.timeOrigin;\n  }\n\n  static dealTimer({ timerId, sno }) {\n    TimerWorker.timeoutMap.delete(timerId);\n    TimerWorker.sendToMain({ result: true, timerId, sno });\n  }\n\n  static sendToMain(data) {\n    postMessage(data);\n  }\n}\n\naddEventListener('message', TimerWorker.eventListener);\n";var r=e.getTimeWorkerUrl=function e(){return URL.createObjectURL(new Blob([t]))}}))},4521:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.updateArrayItemByKeys=e.splitArrayByNum=e.queryItemByKeys=e.hasOneInArray=e.deleteItemByKeys=void 0;function r(e){return a(e)||o(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=e.splitArrayByNum=function e(n,i){if((0,t.formatType)(n)!==t.formatType.ARRAY){return n}if((0,t.formatType)(i)!==t.formatType.NUMBER){return n}if(i<0){return[n]}var o=[];var a=r(n);while(a.length>i){o.push(a.splice(0,i))}o.push(a);return o};var c=e.updateArrayItemByKeys=function e(r,n,i){if((0,t.formatType)(r)!==t.formatType.ARRAY){return r}if((0,t.formatType)(n)!==t.formatType.ARRAY){return r}if((0,t.isNullOrEmpty)(i)){return r}if((0,t.formatType)(i)===t.formatType.ARRAY){i.forEach((function(e){c(r,n,e)}));return r}else if((0,t.formatType)(i)!==t.formatType.OBJECT){return r}var o=r.findIndex((function(e){var r=true;n.forEach((function(n){if((0,t.isNullOrEmpty)(e[n])||(0,t.isNullOrEmpty)(i[n])){r=false}if(e[n]!==i[n]){r=false}}));return r}));if(o===-1){r.push(i);return r}r[o]=i;return r};var l=e.queryItemByKeys=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return undefined}if((0,t.formatType)(n)!==t.formatType.OBJECT){return undefined}return r===null||r===void 0?void 0:r.find((function(e){var t=Object.keys(n);for(var r=0;r<t.length;r++){if(e[t[r]]!==n[t[r]]){return false}}return true}))};var f=e.hasOneInArray=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return false}if((0,t.formatType)(n)!==t.formatType.ARRAY){return false}for(var i=0;i<n.length;i++){if(r.includes(n[i])){return true}}return false};var d=e.deleteItemByKeys=function e(r,n){if((0,t.formatType)(r)!==t.formatType.ARRAY){return r}if((0,t.formatType)(n)!==t.formatType.OBJECT){return r}var i=r.findIndex((function(e){var t=Object.keys(n);for(var r=0;r<t.length;r++){if(e[t[r]]!==n[t[r]]){return false}}return true}));if(i!==-1){r.splice(i,1)}return r}}))},394:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.mergeByDay=void 0;var t=e.mergeByDay=function e(t,r){if(t<0||r<0){return false}if(!Number.isInteger(t)||!Number.isInteger(r)){return false}var n=new Date(t);var i=new Date(r);return!(n.getFullYear()!==i.getFullYear()||n.getMonth()!==i.getMonth()||n.getDate()!==i.getDate())}}))},9969:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258),r(2771)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.printfDecorator=e.frequentTasksDecoratorFactory=e.customDecorator=e.componentDecorator=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){return u(e)||s(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=p(e,"string");return"symbol"==n(t)?t:t+""}function p(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v=e.printfDecorator=function e(t){return function(e,r,n){var i;function o(){var e;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++){o[a]=arguments[a]}var s=Date.now();var u=i.apply(this,o);if(u!==null&&u!==void 0&&u.then){return u.then((function(e){var n;t===null||t===void 0||(n=t.debug)===null||n===void 0||n.call.apply(n,[t,"printfDecorator async over",r,"use time ".concat(Date.now()-s,"ms")].concat(o,[e]));return e}))}t===null||t===void 0||(e=t.debug)===null||e===void 0||e.call.apply(e,[t,"printfDecorator over",r,"use time ".concat(Date.now()-s,"ms")].concat(o,[u]));return u}if(n!==null&&n!==void 0&&n.initializer){return f(f({},n),{},{writable:true,initializer:function e(){var t;i=(t=n.initializer)===null||t===void 0?void 0:t.call(this);return o}})}i=n===null||n===void 0?void 0:n.value;return f(f({},n),{},{writable:true,value:o})}};var g=e.componentDecorator=function e(t){return function(e){var r=e.prototype.render;if(r){e.prototype.render=function(){try{return r.call(this)}catch(r){var n;t===null||t===void 0||(n=t.error)===null||n===void 0||n.call(t,"".concat(e.name," render error"),r);return null}}}if(false){var n,i,o}}};var m=function e(t){var r=t.currResult,n=t.aftMethodDeal,i=t.name;if(typeof n!=="function"){return r}var o=n(r);if(o!==null&&o!==void 0&&o.then){return o.then((function(e){if(e){return r}return Promise.reject(new Error("".concat(i,", aftMethodDeal check failed")))}))}if(o){return r}throw new Error("".concat(i,", aftMethodDeal check failed"))};var y=function e(t){var r=t.preMethodDeal,n=t.aftMethodDeal,o=t.fn,a=t.self,s=t.args,u=t.name;var c=function e(){var t=o.apply(a,s);if(t!==null&&t!==void 0&&t.then){return t.then((function(e){return m({currResult:e,aftMethodDeal:n,name:u})}))}return m({currResult:t,aftMethodDeal:n,name:u})};if(typeof r!=="function"){return c()}var l=r.apply(void 0,i(s));if(l!==null&&l!==void 0&&l.then){return l.then((function(e){if(e){return c()}return Promise.reject(new Error("".concat(u,", preMethodDeal check reject error,")+e))}))}if(l){return c()}throw new Error("".concat(u,", preMethodDeal check throw error,")+l)};var _=e.customDecorator=function e(t){var r=t.preMethodDeal,n=t.aftMethodDeal;return function(e,t,i){var o;function a(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++){i[a]=arguments[a]}return y({preMethodDeal:r,aftMethodDeal:n,fn:o,self:this,args:i,name:t})}if(i!==null&&i!==void 0&&i.initializer){return f(f({},i),{},{writable:true,initializer:function e(){var t;o=(t=i.initializer)===null||t===void 0?void 0:t.call(this);return a}})}o=i===null||i===void 0?void 0:i.value;return f(f({},i),{},{writable:true,value:a})}};var b=e.frequentTasksDecoratorFactory=function e(t){var r=new Map;return function(e){return function(n,i,o){var a,s;var u;function c(){if(r.get(e)){var n;t===null||t===void 0||(n=t.debug)===null||n===void 0||n.call(t,"frequentTasksDecorator waitting last call:",e);return r.get(e)}for(var i=arguments.length,o=new Array(i),a=0;a<i;a++){o[a]=arguments[a]}var s=u.apply(this,o);if(s!==null&&s!==void 0&&s.then){r.set(e,s);return s.then((function(t){r["delete"](e);return t}))}r["delete"](e);return s}t===null||t===void 0||(a=t.debug)===null||a===void 0||a.call(t,"frequentTasksDecorator","".concat(n===null||n===void 0||(s=n.constructor)===null||s===void 0?void 0:s.name,".prototype.").concat(i),o);if(o!==null&&o!==void 0&&o.initializer){return f(f({},o),{},{writable:true,initializer:function e(){var t;u=(t=o.initializer)===null||t===void 0?void 0:t.call(this);return c}})}u=o===null||o===void 0?void 0:o.value;return f(f({},o),{},{writable:true,value:c})}}}}))},1068:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getElementScreenPosition=void 0;var t=e.getElementScreenPosition=function e(t){if(!t){return{left:0,top:0}}var r=t;var n=0;var i=0;while(r){n+=r.offsetLeft-r.scrollLeft;i+=r.offsetTop-r.scrollTop;r=r.offsetParent}return{left:n,top:i}}}))},3736:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getSuffix=e.getFileName=e.formatFileSize=void 0;var r=function e(t){var r=[];for(var n=0;n<(t===null||t===void 0?void 0:t.length);n++){if(t[n]!==""){r.push(t[n])}}return r};var n=e.getFileName=function e(t){var n;var i=t.split("/");i=r(i);i=(n=i[i.length-1])===null||n===void 0?void 0:n.split("\\");i=r(i);return i[i.length-1]||t};var i=e.getSuffix=function e(r){if((0,t.isNullOrEmpty)(r)){r=""}return r.slice((r.lastIndexOf(".")-1>>>0)+2).toLowerCase()};var o=e.formatFileSize=function e(t){if(t<1e3){return t+"B"}else if(t>=1e3&&t<1e6){return Math.round(t*100/1024)/100+"KB"}else if(t>=1e6&&t<1e9){return Math.round(t*100/1024/1024)/100+"MB"}return Math.round(t*100/1024/1024/1024)/100+"GB"}}))},4081:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.checkBase64Image=void 0;var t=e.checkBase64Image=function e(t){return t.startsWith("data:image/png;base64,")||t.startsWith("data:image/jpeg;base64,")}}))},4772:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(2771),r(3898),r(258),r(4081),r(3736),r(3803),r(1068),r(9220),r(9222),r(394),r(4521),r(9969),r(8707),r(8360),r(8159),r(3399),r(2897),r(2265),r(2615)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l,f,d,h,p,v,g,m,y,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"AutoQueryData",{enumerable:true,get:function e(){return m.AutoQueryData}});Object.defineProperty(e,"LazyLoad",{enumerable:true,get:function e(){return p.LazyLoad}});Object.defineProperty(e,"RequestTasksQueue",{enumerable:true,get:function e(){return u.RequestTasksQueue}});Object.defineProperty(e,"Timer",{enumerable:true,get:function e(){return g.Timer}});Object.defineProperty(e,"UrlUtil",{enumerable:true,get:function e(){return r.UrlUtil}});Object.defineProperty(e,"WebWorkerUtil",{enumerable:true,get:function e(){return _.WebWorkerUtil}});Object.defineProperty(e,"beforeJsonParse",{enumerable:true,get:function e(){return v.beforeJsonParse}});Object.defineProperty(e,"checkBase64Image",{enumerable:true,get:function e(){return i.checkBase64Image}});e.checkHttpsUrl=e.checkHttpUrl=void 0;Object.defineProperty(e,"checkIPV4",{enumerable:true,get:function e(){return h.checkIPV4}});Object.defineProperty(e,"componentDecorator",{enumerable:true,get:function e(){return d.componentDecorator}});Object.defineProperty(e,"createEntry",{enumerable:true,get:function e(){return n.createEntry}});Object.defineProperty(e,"customDecorator",{enumerable:true,get:function e(){return d.customDecorator}});Object.defineProperty(e,"debounce",{enumerable:true,get:function e(){return n.debounce}});Object.defineProperty(e,"deepCopy",{enumerable:true,get:function e(){return n.deepCopy}});Object.defineProperty(e,"deleteItemByKeys",{enumerable:true,get:function e(){return f.deleteItemByKeys}});Object.defineProperty(e,"escapeRegExp",{enumerable:true,get:function e(){return c.escapeRegExp}});Object.defineProperty(e,"formatDate",{enumerable:true,get:function e(){return n.formatDate}});Object.defineProperty(e,"formatFileSize",{enumerable:true,get:function e(){return o.formatFileSize}});Object.defineProperty(e,"formatString",{enumerable:true,get:function e(){return v.formatString}});Object.defineProperty(e,"formatType",{enumerable:true,get:function e(){return n.formatType}});Object.defineProperty(e,"frequentTasksDecoratorFactory",{enumerable:true,get:function e(){return d.frequentTasksDecoratorFactory}});Object.defineProperty(e,"getClientId",{enumerable:true,get:function e(){return n.getClientId}});Object.defineProperty(e,"getElementScreenPosition",{enumerable:true,get:function e(){return s.getElementScreenPosition}});Object.defineProperty(e,"getEmailReg",{enumerable:true,get:function e(){return c.getEmailReg}});Object.defineProperty(e,"getFileName",{enumerable:true,get:function e(){return o.getFileName}});Object.defineProperty(e,"getMobilePhoneReg",{enumerable:true,get:function e(){return c.getMobilePhoneReg}});Object.defineProperty(e,"getNumberReg",{enumerable:true,get:function e(){return c.getNumberReg}});Object.defineProperty(e,"getSipNumberReg",{enumerable:true,get:function e(){return c.getSipNumberReg}});Object.defineProperty(e,"getSuffix",{enumerable:true,get:function e(){return o.getSuffix}});Object.defineProperty(e,"handleAccountPrint",{enumerable:true,get:function e(){return a.handleAccountPrint}});Object.defineProperty(e,"handleIpPrint",{enumerable:true,get:function e(){return a.handleIpPrint}});Object.defineProperty(e,"handlePhoneNumberPrint",{enumerable:true,get:function e(){return a.handlePhoneNumberPrint}});Object.defineProperty(e,"handleTokenPrint",{enumerable:true,get:function e(){return a.handleTokenPrint}});Object.defineProperty(e,"handleUrlPrint",{enumerable:true,get:function e(){return a.handleUrlPrint}});Object.defineProperty(e,"hasOneInArray",{enumerable:true,get:function e(){return f.hasOneInArray}});e.isInHttpsWhiteList=e.isInHttpWhiteList=void 0;Object.defineProperty(e,"isNullOrEmpty",{enumerable:true,get:function e(){return n.isNullOrEmpty}});Object.defineProperty(e,"mergeByDay",{enumerable:true,get:function e(){return l.mergeByDay}});Object.defineProperty(e,"printfDecorator",{enumerable:true,get:function e(){return d.printfDecorator}});Object.defineProperty(e,"queryItemByKeys",{enumerable:true,get:function e(){return f.queryItemByKeys}});e.reactStopPropagation=void 0;Object.defineProperty(e,"replaceStringPlaceholder",{enumerable:true,get:function e(){return v.replaceStringPlaceholder}});Object.defineProperty(e,"setLocalStorageItem",{enumerable:true,get:function e(){return y.setLocalStorageItem}});Object.defineProperty(e,"setPLogger",{enumerable:true,get:function e(){return n.setPLogger}});Object.defineProperty(e,"setSessionStorageItem",{enumerable:true,get:function e(){return y.setSessionStorageItem}});e.showDifferentProperty=void 0;Object.defineProperty(e,"sleep",{enumerable:true,get:function e(){return n.sleep}});Object.defineProperty(e,"splitArrayByNum",{enumerable:true,get:function e(){return f.splitArrayByNum}});Object.defineProperty(e,"splitStringByChar",{enumerable:true,get:function e(){return v.splitStringByChar}});Object.defineProperty(e,"throttle",{enumerable:true,get:function e(){return n.throttle}});Object.defineProperty(e,"updateArrayItemByKeys",{enumerable:true,get:function e(){return f.updateArrayItemByKeys}});var b=e.reactStopPropagation=t.ReactUtil.reactStopPropagation;var E=e.showDifferentProperty=t.ReactUtil.showDifferentProperty;var S=e.checkHttpsUrl=r.UrlUtil.checkHttpsUrl;var w=e.checkHttpUrl=r.UrlUtil.checkHttpUrl;var T=e.isInHttpWhiteList=r.UrlUtil.isInHttpWhiteList;var C=e.isInHttpsWhiteList=r.UrlUtil.isInHttpWhiteList}))},8707:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.checkIPV4=void 0;var r=e.checkIPV4=function e(r){if((0,t.formatType)(r)!==t.formatType.STRING){return false}var n=r.split(".").filter((function(e){return!!e.trim()}));if(n.length!==4){return false}for(var i=0;i<n.length;i++){var o=parseInt(n[i]);if(isNaN(o)){return false}if(o<0||o>255){return false}}return true}}))},258:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.throttle=e.sleep=e.setPLogger=e.isNullOrEmpty=e.getPLogger=e.getClientId=e.formatType=e.formatDate=e.deepCopy=e.debounce=e.createEntry=e.Noop=void 0;var t=e.Noop=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return r};var r={debug:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},info:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},warn:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)},error:function e(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return t(n)}};var n=e.getPLogger=function e(){return r};var i=e.formatType=function e(t){return Object.prototype.toString.apply(t).match(/\[object\s(.*)]/)[1].toLowerCase()};i.STRING="string";i.OBJECT="object";i.PROXYOBJECT="proxyobject";i.FUNCTION="function";i.ARRAY="array";i.BOOLEAN="boolean";i.NUMBER="number";i.PROMISE="promise";i.NULL="null";i.UNDEFINED="undefined";i.NODELIST="nodelist";i.HTMLCOLLECTION="htmlcollection";i.EVENT="event";i.XMLDOCUMENT="xmldocument";i.DOCUMENT="document";i.ASYNCFUNCTION="asyncfunction";var o=e.setPLogger=function e(t){if(i(t===null||t===void 0?void 0:t.debug)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.info)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.warn)===i.FUNCTION&&i(t===null||t===void 0?void 0:t.error)===i.FUNCTION){r=t}};var a=e.isNullOrEmpty=function e(t){var r=i(t);if(r===i.OBJECT){return Object.keys(t).length===0}return t===undefined||t===null||t.toString()==="NaN"||t===""||t.length===0};var s=e.deepCopy=function e(t){if(a(t)){return t}if(i(t)===i.STRING||i(t)===i.NUMBER||i(t)===i.BOOLEAN){return t}return JSON.parse(JSON.stringify(t))};var u=e.formatDate=function e(t,r){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:parseInt((t.getMilliseconds()/1e3).toFixed(3).substr(2))};if(/(y+)/.test(r)){r=r.replace(RegExp.$1,String(t.getFullYear()).substr(4-RegExp.$1.length))}for(var i in n){if(new RegExp("("+i+")").test(r)){r=r.replace(RegExp.$1,RegExp.$1.length===1?n[i].toString():("00"+n[i]).substr(String(n[i]).length))}}return r};var c=e.getClientId=function(){var e=0;var t=(new Date).getTime();return function(){var r=(new Date).getTime();if(r===t){e++;if(e>999){e=1}}else{t=r;e=0}return t*1e3+e}}();var l=e.createEntry=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return"".concat(t," ").concat(c())};var f=e.sleep=function e(t){return new Promise((function(e){return setTimeout(e,t)}))};var d=e.debounce=function e(t,r){var n=0;return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++){i[o]=arguments[o]}if(n){clearTimeout(n)}n=setTimeout((function(){t.apply(void 0,i)}),r)}};var h=e.throttle=function e(t,r){var n;return function(){if(!n){t.apply(void 0,arguments);n=setTimeout((function(){n=null}),r)}}}}))},9222:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getSipNumberReg=e.getNumberReg=e.getMobilePhoneReg=e.getEmailReg=e.getChineseWordReg=e.getChinesePunctuationReg=e.escapeRegExp=void 0;var t=e.escapeRegExp=function e(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")};var r=e.getNumberReg=function e(){return/^([+*#]\d+|\d{4,})$/};var n=e.getMobilePhoneReg=function e(){return/^(1|\+861|0\d{2,3}1)[3456789]\d{9}$/};var i=e.getEmailReg=function e(){return/^[a-z\dA-Z]+[-a-z\dA-Z._]+@([a-z\dA-Z]+(-[a-z\dA-Z]+)?\.)+[a-z]+$/};var o=e.getSipNumberReg=function e(){return/^\+99111\d+/};var a=e.getChineseWordReg=function e(){return/[\u4E00-\u9FFF]/};var s=e.getChinesePunctuationReg=function e(){return/[\u4E00-\u9FFF]/}}))},3803:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.handleUrlPrint=e.handleTokenPrint=e.handlePhoneNumberPrint=e.handleIpPrint=e.handleAccountPrint=void 0;var r=e.handlePhoneNumberPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}var n=r.toString();var i=/^1[3456789]\d{9}$/g;var o=n.length;var a=Math.floor((o-3)/2);if(o<3){return n}else if(o<5){return n.substr(0,1)+"***"}else if(o>11){return n.substr(0,2)+"*****"+n.substr(-3)}return i.test(n)?n.substr(0,3)+"****"+n.substr(7):n.substr(0,a)+"***"+n.substr(a+3)};var n=e.handleAccountPrint=function e(n){if((0,t.isNullOrEmpty)(n)){return""}n=n.toString();if(n.length<3){var i=n.toString();return i[0]+"*"}var o=/^1[3456789]\d{9}$/g;if(o.test(n)){return r(n)}var a=/^\+99|\+8657\d+/g;if(a.test(n)){return n.substr(0,2)+"*****"+n.substr(-3)}var s=Math.floor(n.length/2);var u=Math.floor((n.length-s)/2);var c=n.length-s-u;var l=new Array(n.length-u-c+1).join("*");return n.substr(0,u)+l+n.substr(n.length-c)};var i=e.handleIpPrint=function e(r){if((0,t.formatType)(r)!==t.formatType.STRING||!r){return""}return r.replace(/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/gi,(function(e){return e.replace(/(\d{1,3})$/gi,(function(e,t){return t.replace(/\d/gi,"*")}))}))};var o=e.handleUrlPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}r=r.toString();return r.split("?")[0]};var a=e.handleTokenPrint=function e(r){if((0,t.isNullOrEmpty)(r)){return""}r=r.toString();return r.substr(0,2)+"***"+r.substr(-3)}}))},2265:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.setSessionStorageItem=e.setLocalStorageItem=void 0;var r=function e(r){return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{key:"",value:""};if(!e){return false}var n=e.key,i=e.value,o=e.isForce;var a=r?window.localStorage:window.sessionStorage;if(!a){(0,t.getPLogger)().warn("setStorageItem no Storage",{isLocalStorage:r,key:n});return false}if(!n){(0,t.getPLogger)().warn("setStorageItem no key",{isLocalStorage:r,key:n});return false}if((0,t.formatType)(i)!==t.formatType.STRING){(0,t.getPLogger)().warn("setStorageItem value not string",{isLocalStorage:r,key:n});return false}try{(0,t.getPLogger)().info("setStorageItem",{isLocalStorage:r,key:n});a.setItem(n,i===null||i===void 0?void 0:i.toString());return true}catch(e){(0,t.getPLogger)().error("setStorageItem",{isLocalStorage:r,key:n,isForce:o,e});if(!o){return false}a.clear();a.setItem(n,i===null||i===void 0?void 0:i.toString());return true}}};var n=e.setLocalStorageItem=r(true);var i=e.setSessionStorageItem=r(false)}))},8159:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(258)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.splitStringByChar=e.replaceStringPlaceholder=e.formatString=e.beforeJsonParse=void 0;var r=e.splitStringByChar=function e(r,n,i){if((0,t.formatType)(r)!==t.formatType.STRING){return r}if((0,t.formatType)(n)!==t.formatType.NUMBER||n<0){return r}if((0,t.formatType)(i)!==t.formatType.STRING){return r}var o="";r.split("").forEach((function(e,t){o+=e;if(t<r.length-1&&(t+1)%n===0){o+=i}}));return o};var n=e.formatString=function e(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}if((0,t.formatType)(r)!==t.formatType.STRING){return r}return r.replace(/\{([^{}]+)}/g,(function(e,r){return(0,t.formatType)(i[r])===t.formatType.STRING||!(0,t.isNullOrEmpty)(i[r])?i[r]:e}))};var i=e.replaceStringPlaceholder=function e(r,n,i){if((0,t.formatType)(r)!==t.formatType.STRING){return r}var o=r.split(n.toString());var a="";o.forEach((function(e,t){a+=e;if(t<o.length-1&&i[t]){a+=i[t]}}));return a};var o=e.beforeJsonParse=function e(t){return t.replace("","")}}))},6125:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(8024),r(7098),r(2216),r(2363),r(7808),r(2441),r(7354),r(3652),r(4772),r(7169),r(9974),r(3442)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.HWLLSEnter=void 0;r=h(r);a=h(a);s=h(s);function h(e){return e&&e.__esModule?e:{default:e}}function p(){"use strict";p=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:R(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",v="executing",g="completed",m={};function y(){}function _(){}function b(){}var E={};c(E,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(x([])));w&&w!==r&&n.call(w,a)&&(E=w);var T=b.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==k(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function R(t,r,n){var i=d;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=I(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=f(t,r,n);if("normal"===c.type){if(i=n.done?g:h,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(k(t)+" is not iterable")}return _.prototype=b,i(T,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new A(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(T),c(T,u,"Generator"),c(T,a,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function v(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){v(o,n,i,a,s,"next",e)}function s(e){v(o,n,i,a,s,"throw",e)}a(void 0)}))}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function _(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=E(e,"string");return"symbol"==k(t)?t:t+""}function E(e,t){if("object"!=k(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function S(e,t,r){return t=A(t),w(e,C()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function w(e,t){if(t&&("object"==k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function t(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function k(e){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var O=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":k(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var P=new u.Log({module:"HWLLSEnter"});var M=e.HWLLSEnter=function(e){function a(){var e;m(this,a);e=S(this,a,["HWLLSEnter"]);s["default"].configurationEnvironment();return e}R(a,e);return _(a,[{key:"getVersion",value:function e(){return n.configs.SDK_VERSION}},{key:"checkSystemRequirements",value:function(){var e=g(p().mark((function e(){return p().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return r["default"].checkSystemRequirements();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setParameter",value:function e(t,r){return i.parametersUtil.setParameter(t,r)}},{key:"createClient",value:function e(){return new o.HWLLSClient}},{key:"createStream",value:function e(t){if(t.audio!==true&&!t.audioSource){throw new f.HwLLSError(f.ErrorCode.RTC_ERR_CODE_INVALID_OPERATION)}if(t.audio===true&&t.audioSource){throw new f.HwLLSError(f.ErrorCode.RTC_ERR_CODE_INVALID_OPERATION)}return new l.LocalStream(t)}},{key:"setLogLevel",value:function e(r){u.Log.setLogLevel(r);return t.LoggerFactory.setLogLevel(r)}},{key:"setUserTrackCallback",value:function e(t){d.UserTrack.setUserTrackCallback(t)}}])}(a["default"]);O([(0,c.printfDecorator)(P)],M.prototype,"getVersion",null);O([(0,c.printfDecorator)(P)],M.prototype,"checkSystemRequirements",null);O([(0,c.printfDecorator)(P)],M.prototype,"setParameter",null);O([(0,c.printfDecorator)(P)],M.prototype,"createClient",null);O([(0,c.printfDecorator)(P)],M.prototype,"createStream",null);O([(0,c.printfDecorator)(P)],M.prototype,"setLogLevel",null);O([(0,c.printfDecorator)(P)],M.prototype,"setUserTrackCallback",null)}))},7808:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(2441),r(9974),r(4404),r(4868),r(8495),r(8066),r(9034),r(7354),r(5457),r(9611),r(1762),r(5268),r(3652),r(4772)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l,f,d,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.HWLLSClient=void 0;t=v(t);o=v(o);u=v(u);function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(){"use strict";_=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function l(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:R(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var E={};c(E,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(M([])));w&&w!==r&&n.call(w,a)&&(E=w);var T=b.prototype=m.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==j(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function R(t,r,n){var i=d;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=I(s,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=f(t,r,n);if("normal"===c.type){if(i=n.done?v:h,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=v,n.method="throw",n.arg=c.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function M(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(j(t)+" is not iterable")}return y.prototype=b,i(T,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new A(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(T),c(T,u,"Generator"),c(T,a,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=M,P.prototype={constructor:P,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:M(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function b(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){b(o,n,i,a,s,"next",e)}function s(e){b(o,n,i,a,s,"throw",e)}a(void 0)}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function T(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){var t=A(e,"string");return"symbol"==j(t)?t:t+""}function A(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function R(e,t,r){return t=L(t),I(e,O()?Reflect.construct(t,r||[],L(e).constructor):t.apply(e,r))}function I(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function t(){return!!e})()}function P(e,t,r,n){var i=M(L(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof i?function(e){return i.apply(r,e)}:i}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=x(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},M.apply(null,arguments)}function x(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function j(e){"@babel/helpers - typeof";return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}var U=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":j(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var B="HWLLSClient";var F=new h.Log({module:"HWLLSClient"});var H=function e(t){var r=t.reduce((function(e,t){return e+t}),0);return r/t.length};var V=e.HWLLSClient=function(e){function t(){var e;S(this,t);e=R(this,t,[B]);e.debugStatisticTimer={interval:1};e.detectTimer={interval:3,interruptRetry:undefined};e.recoveryInfo={retryTimes:0};e.videoRecoveryInfo={interval:3,retryTimes:30};e.firstFrameHandler={videoHandler:function t(){var r,i;(r=n.GlobalVariableManager.getInstance(e.identifiedId))===null||r===void 0||r.updatePlayTrackKpi("videoPlaySucc");e.receivedFirstFrame=true;var o=0;if((((i=n.GlobalVariableManager.getInstance(e.identifiedId))===null||i===void 0?void 0:i.getPlayTrackKpi().videoTimeOut)||0)>0){o=4}e.stats.reportPullMediaStreamResult(d.MediaType.TRACK_TYPE_VIDEO,o)},audioHandler:function t(){var r,i;(r=n.GlobalVariableManager.getInstance(e.identifiedId))===null||r===void 0||r.updatePlayTrackKpi("audioPlaySucc");var o=0;if((((i=n.GlobalVariableManager.getInstance(e.identifiedId))===null||i===void 0?void 0:i.getPlayTrackKpi().audioTimeOut)||0)>0){o=4}e.stats.reportPullMediaStreamResult(d.MediaType.TRACK_TYPE_AUDIO,o)}};e.preNetQuality=-1;e.preRemoteStreamStatistic={packetsReceived:[0,0],packetsLost:[0,0],nackCnt:[0,0],preLostRate:[]};e.connectionsManager=new i.PeerConnectionsManager(e.stats,e.eventEmitter,e.identifiedId);e.initErrorMap();e.receivedFirstFrame=false;return e}D(t,e);return T(t,[{key:"getInfo",value:function e(){return{clientId:this.identifiedId,userAgent:navigator.userAgent}}},{key:"getSymbol",value:function e(){return this.identifiedId_}},{key:"getPublishAudioSender",value:function e(){var t;F.info("getPublishAudioSender");var r=(t=this.connectionsManager)===null||t===void 0?void 0:t.getConnection();if(!r){F.error("getPublishAudioSender no connection");return undefined}var n=r.getSenders();if(!n||n.length<=0){F.error("getPublishAudioSender no senders");return undefined}return n===null||n===void 0?void 0:n.filter((function(e){var t;return((t=e.track)===null||t===void 0?void 0:t.kind)==="audio"}))[0]}},{key:"p2pPlay",value:function(){var e=E(_().mark((function e(t){var i;var o,a,s;return _().wrap((function e(l){while(1)switch(l.prev=l.next){case 0:if(this.liveStream){o=u["default"].getCurrentLocalTimestamp();try{this.liveStream.stop();(a=n.GlobalVariableManager.getInstance(this.identifiedId))===null||a===void 0||a.updatePlayTrackKpi("endPlayTime")}catch(e){F.error("stopPlay occur error: ".concat(e))}finally{this.stats.reportStopPullStreamReqEvent(o);this.resetClient4Switch()}}n.GlobalVariableManager.addInstance(this.identifiedId);(i=n.GlobalVariableManager.getInstance(this.identifiedId))===null||i===void 0||i.updatePlayTrackKpi("startPlayTime");s=c.ValidatorUtil.checkPlayOpt(t);if(s){l.next=7;break}F.error("p2pPlay failed, invalid Parameter: ".concat(JSON.stringify(t)));throw new r.HwLLSError(r.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER);case 7:this.startPlayOptions=t;t.sessionId=u["default"].generateStandardUuid();this.checkRecover(t.recover);l.next=12;return this.initPeerConnection(t);case 12:this.netQualityRegularReport();if(this.debugStatisticTimer.timer){this.streamStatistic(true,this.debugStatisticTimer.interval)}if(this.detectTimer.timer){F.info("video stream start play , this.detectTimer.timer : ".concat(this.detectTimer.timer));this.enableStreamStateDetection(true,this.detectTimer.interval,this.detectTimer.interruptRetry)}case 15:case"end":return l.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createPeerConnection",value:function(){var e=E(_().mark((function e(){return _().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:this.connectionsManager.createPeerConnection();t.next=3;return this.connectionsManager.initConnectionAndSdp({receiveVideo:true,receiveAudio:true},{onTrackHandler:this.onTrackHandler.bind(this)});case 3:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLocalSDP",value:function e(){return this.connectionsManager.getLocalSDP()}},{key:"stopPlay",value:function(){var e=E(_().mark((function e(){var t,r;return _().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:this.receivedFirstFrame=false;if(this.liveStream){i.next=3;break}return i.abrupt("return",false);case 3:t=u["default"].getCurrentLocalTimestamp();i.prev=4;this.liveStream.stop();this.connectionsManager.destroyPeerConnection();i.next=9;return this.stopSignal();case 9:(r=n.GlobalVariableManager.getInstance(this.identifiedId))===null||r===void 0||r.updatePlayTrackKpi("endPlayTime");return i.abrupt("return",true);case 13:i.prev=13;i.t0=i["catch"](4);F.error("stopPlay",i.t0);case 16:this.stats.reportStopPullStreamReqEvent(t);this.resetClient4Stop();return i.abrupt("return",false);case 19:case"end":return i.stop()}}),e,this,[[4,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"replay",value:function(){var e=E(_().mark((function e(){return _().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:if(this.liveStream){t.next=2;break}return t.abrupt("return",false);case 2:t.prev=2;t.next=5;return this.liveStream.resume();case 5:return t.abrupt("return",true);case 8:t.prev=8;t.t0=t["catch"](2);F.error("resume failed: ".concat(t.t0));return t.abrupt("return",false);case 12:case"end":return t.stop()}}),e,this,[[2,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resume",value:function(){var e=E(_().mark((function e(){return _().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:if(this.liveStream){t.next=2;break}return t.abrupt("return",false);case 2:t.prev=2;t.next=5;return this.liveStream.resume();case 5:return t.abrupt("return",true);case 8:t.prev=8;t.t0=t["catch"](2);F.error("resume failed: ".concat(t.t0));return t.abrupt("return",false);case 12:case"end":return t.stop()}}),e,this,[[2,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRemoteStream",value:function e(){return this.liveStream}},{key:"setPlayoutVolume",value:function e(t){var r;var n=(r=this.liveStream)===null||r===void 0?void 0:r.getAudioHRTCTrack();if(n){n.setAudioVolume(t);return true}return false}},{key:"on",value:function e(r,n){P(t,"on",this,3)([r,n])}},{key:"off",value:function e(r,n){P(t,"off",this,3)([r,n])}},{key:"getPlayoutVolume",value:function e(){if(!this.liveStream){return 0}try{var t=this.liveStream.getAudioHRTCTrack();if(t){return t.getAudioLevel()*100}}catch(e){F.error("getPlayoutVolume occur error: ".concat(e))}return 0}},{key:"muteAudio",value:function e(t){try{var r;var n=(r=this.liveStream)===null||r===void 0?void 0:r.getAudioHRTCTrack();if(n){n.muteAudio(t)}}catch(e){F.error("muteAudio occur error: ".concat(e))}}},{key:"streamStatistic",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(t){if(!Number.isInteger(n)||n<1||n>60){F.error("streamStatistic, invalid parameter of interval.");throw new r.HwLLSError(r.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER)}var i={audioReceiveBytes:0,videoReceiveBytes:0,videoFrames:0,audioSendBytes:0};this.getStreamStatisticInfo(i,n)}else{clearTimeout(this.debugStatisticTimer.timer);this.debugStatisticTimer={interval:1}}}},{key:"destroyClient",value:function e(){window.onbeforeunload=null;this.resetClient();this.offAllEvents()}},{key:"fullScreenToggle",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t){var r;(r=this.liveStream)===null||r===void 0||r.exitFullScreen()}else{var n;(n=this.liveStream)===null||n===void 0||n.enterFullScreen()}}},{key:"enableStreamStateDetection",value:function e(t){var i,o,s;var c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;var l=arguments.length>2?arguments[2]:undefined;if(!t){clearTimeout(this.detectTimer.timer);this.detectTimer={interval:c,interruptRetry:undefined};return true}if(!Number.isInteger(c)||c<1||c>60){F.error("enableStreamStateDetection, invalid parameter of interval.");throw new r.HwLLSError(r.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER)}clearTimeout(this.detectTimer.timer);var f={preVideoStat:{preFramesDecoded:0,isInterrupted:false},preAudioStat:{prePacketReceived:0,isInterrupted:false}};var d=(i=n.GlobalVariableManager.getInstance(this.identifiedId))===null||i===void 0?void 0:i.getSfuInfo();if((o=this.liveStream)!==null&&o!==void 0&&o.getVideoHRTCTrack()){var h;f.preVideoStat.preFramesDecoded=u["default"].getValue((h=a.MediaStats.getLeastestVideoInfo(this.connectionsManager.getConnectionId(),d===null||d===void 0?void 0:d.vSsrc))===null||h===void 0?void 0:h.framesDecoded,0)}if((s=this.liveStream)!==null&&s!==void 0&&s.getAudioHRTCTrack()){var p;f.preAudioStat.prePacketReceived=u["default"].getValue((p=a.MediaStats.getLeastestVideoInfo(this.connectionsManager.getConnectionId(),d===null||d===void 0?void 0:d.aSsrc))===null||p===void 0?void 0:p.packetsReceived,0)}this.detectTimer.interval=c;this.detectTimer.interruptRetry=l;F.info("video stream , enableStreamStateDetection ,\n      detect interval : ".concat(c,",\n      recoverenable:").concat(l===null||l===void 0?void 0:l.enable," ,\n      recover interval:").concat(l===null||l===void 0?void 0:l.retryInterval,",\n      recovertimes:").concat(l===null||l===void 0?void 0:l.retryTimes));this.judgeStreamInterrupted(f,c,l);return true}},{key:"sendMessage",value:function e(t){if(!t.msg){F.error("send msg is null");return false}return!!this.connectionsManager.sendMessage(t.userUid||0,t.msg)}},{key:"publishStream",value:function(){var e=E(_().mark((function e(t){var r,n,i;return _().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:F.info("publishStream");this.validatePublishRequest(t);t.addClient(this);r=t.getPublishAudioTrack();n=t.getMediaStream();if(r&&n){(i=this.connectionsManager.getConnection())===null||i===void 0||i.addTrack(r,n)}this.localStream=t;case 7:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"validatePublishRequest",value:function e(t){if(!t){F.error(B,"stream is null");throw new r.HwLLSError(r.ErrorCode.RTC_ERR_CODE_INVALID_PARAMETER)}if(!t.hasAudioTrack()&&!t.hasVideoTrack()){F.warn(B,"stream has no audio and video")}if(t.getType()!=="local"){F.error(B,"stream type: ".concat(t.getType()," cannot publish"));throw new r.HwLLSError(r.ErrorCode.RTC_ERR_CODE_INVALID_OPERATION,"stream type: ".concat(t.getType()," cannot publish"))}}},{key:"judgeStreamInterrupted",value:function e(t,r,i){var o=this;this.detectTimer.timer=setTimeout((function(){var e,s,c;clearTimeout(o.detectTimer.timer);var l;var f;var d=false;var h=false;var p=(e=n.GlobalVariableManager.getInstance(o.identifiedId))===null||e===void 0?void 0:e.getSfuInfo();if((s=o.liveStream)!==null&&s!==void 0&&s.getVideoHRTCTrack()){var v;l=a.MediaStats.getLeastestVideoInfo(o.connectionsManager.getConnectionId(),p===null||p===void 0?void 0:p.vSsrc);d=u["default"].getValue((v=l)===null||v===void 0?void 0:v.framesDecoded,0)-u["default"].getValue(t.preVideoStat.preFramesDecoded,0)<=0;if(!d){clearTimeout(o.recoveryInfo.recoveryTimer);o.recoveryInfo.retryTimes=0}if(l){t.preVideoStat.preFramesDecoded=u["default"].getValue(l.framesDecoded,0)}}if((c=o.liveStream)!==null&&c!==void 0&&c.getAudioHRTCTrack()){var g;f=a.MediaStats.getLeastestAudioInfo(o.connectionsManager.getConnectionId(),p===null||p===void 0?void 0:p.aSsrc);h=u["default"].getValue((g=f)===null||g===void 0?void 0:g.packetsReceived,0)-u["default"].getValue(t.preAudioStat.prePacketReceived,0)<=0;if(f){t.preAudioStat.prePacketReceived=u["default"].getValue(f.packetsReceived,0)}}o.dealVideoJudgeStreamInterrupted(t,d,i);o.dealAudioJudgeStreamInterrupted(t,h);o.judgeStreamInterrupted(t,r,i)}),r*1e3)}},{key:"dealVideoJudgeStreamInterrupted",value:function e(t,r,n){if(t.preVideoStat.isInterrupted&&!r){this.eventEmitter.emit(l.HWLLSEvents.VIDEO_RECOVERY);t.preVideoStat.isInterrupted=false;F.info("video stream recovery ...")}else if(!t.preVideoStat.isInterrupted&&r){this.eventEmitter.emit(l.HWLLSEvents.VIDEO_INTERRUPTED);t.preVideoStat.isInterrupted=true;F.info("video stream interrupt, retry enable : ".concat(n===null||n===void 0?void 0:n.enable));if(n!==null&&n!==void 0&&n.enable){var i,o;clearTimeout(this.recoveryInfo.recoveryTimer);var a=(i=n.retryInterval)!==null&&i!==void 0?i:3;var s=(o=n===null||n===void 0?void 0:n.retryTimes)!==null&&o!==void 0?o:30;this.autoRecoverPlay(a,s)}}}},{key:"dealAudioJudgeStreamInterrupted",value:function e(t,r){if(t.preAudioStat.isInterrupted&&!r){this.eventEmitter.emit(l.HWLLSEvents.AUDIO_RECOVERY);t.preAudioStat.isInterrupted=false}else if(!t.preAudioStat.isInterrupted&&r){this.eventEmitter.emit(l.HWLLSEvents.AUDIO_INTERRUPTED);t.preAudioStat.isInterrupted=true}}},{key:"autoRecoverPlay",value:function e(t,n){var i=this;var o=0;var a=this.recoveryInfo.retryTimes===0?0:t;this.recoveryInfo.recoveryTimer=setTimeout(E(_().mark((function e(){return _().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:F.info("video stream , autoRecoverPlay every ".concat(t," sencond, currentRetryTimes : ").concat(i.recoveryInfo.retryTimes));clearTimeout(i.recoveryInfo.recoveryTimer);delete i.recoveryInfo.recoveryTimer;a.prev=3;i.recoveryInfo.retryTimes++;o=i.recoveryInfo.retryTimes;F.info("autoRecoverPlay , startPlayOptions:".concat(JSON.stringify(i.startPlayOptions)));a.next=9;return i.p2pPlay(m(m({},i.startPlayOptions),{recover:true})).then((function(){i.recoveryInfo.retryTimes=0}));case 9:a.next=16;break;case 11:a.prev=11;a.t0=a["catch"](3);F.error("video stream , recovery failed, err : ".concat(a.t0));i.recoveryInfo.retryTimes=o;if(o<n){i.autoRecoverPlay(t,n)}else{i.recoveryInfo.retryTimes=0;i.eventEmitter.emit(l.HWLLSEvents.ERROR,{errCode:r.ErrorCode.HWLLS_PLAY_WEBRTC_RETRY_FAILED,errDesc:r.ErrorMsg[r.ErrorCode.HWLLS_PLAY_WEBRTC_RETRY_FAILED]})}case 16:case"end":return a.stop()}}),e,null,[[3,11]])}))),a*1e3)}},{key:"initErrorMap",value:function e(){this.errMap=new Map;this.errMap.set(100,r.ErrorCode.HWLLS_ERROR_INVALID_URL);this.errMap.set(101,r.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER);this.errMap.set(102,r.ErrorCode.HWLLS_ERROR_ENCODING_NOT_ACCEPTED);this.errMap.set(400,r.ErrorCode.HWLLS_ERROR_BAD_REQUEST);this.errMap.set(401,r.ErrorCode.HWLLS_ERROR_STREAM_INVALID_PARAMETER);this.errMap.set(403,r.ErrorCode.HWLLS_ERROR_AUTH_FAIL);this.errMap.set(404,r.ErrorCode.HWLLS_ERROR_STREAM_NOT_EXIST);this.errMap.set(500,r.ErrorCode.HWLLS_ERROR_SERVER_CONNECT_FAIL);this.errMap.set(503,r.ErrorCode.HWLLS_ERROR_SERVER_CONNECT_FAIL);this.errMap.set(601,r.ErrorCode.HWLLS_BUSSINESS_DOWNGRADE)}},{key:"calcNetworkQuality",value:function(){var e=E(_().mark((function e(){var t,r;return _().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:t=this.connectionsManager.getConnection();if(t){n.next=3;break}return n.abrupt("return",0);case 3:if(!(t&&["disconnected","failed","closed"].includes(t.connectionState))){n.next=5;break}return n.abrupt("return",6);case 5:n.next=7;return this.getDownloadStatistic(d.MediaType.TRACK_TYPE_VIDEO);case 7:r=n.sent;if(!(r<0)){n.next=12;break}n.next=11;return this.getDownloadStatistic(d.MediaType.TRACK_TYPE_AUDIO);case 11:r=n.sent;case 12:if(!(r===-1)){n.next=14;break}return n.abrupt("return",0);case 14:if(!(r<1)){n.next=16;break}return n.abrupt("return",1);case 16:if(!(r<5)){n.next=18;break}return n.abrupt("return",2);case 18:if(!(r<12)){n.next=20;break}return n.abrupt("return",3);case 20:if(!(r<20)){n.next=22;break}return n.abrupt("return",4);case 22:if(!(r<30)){n.next=24;break}return n.abrupt("return",5);case 24:return n.abrupt("return",6);case 25:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDownloadStatistic",value:function(){var e=E(_().mark((function e(t){var r;var i,o,s,c,l,f,h,p,v,g;return _().wrap((function e(m){while(1)switch(m.prev=m.next){case 0:i=(r=n.GlobalVariableManager.getInstance(this.identifiedId))===null||r===void 0?void 0:r.getSfuInfo();o=t===d.MediaType.TRACK_TYPE_VIDEO?a.MediaStats.getLeastestVideoInfo(this.connectionsManager.getConnectionId(),i===null||i===void 0?void 0:i.vSsrc):a.MediaStats.getLeastestAudioInfo(this.connectionsManager.getConnectionId(),i===null||i===void 0?void 0:i.aSsrc);if(o){m.next=4;break}return m.abrupt("return",-1);case 4:s=t===d.MediaType.TRACK_TYPE_VIDEO?0:1;c={packetsReceived:0,packetsLost:0,nackCnt:0};c.packetsReceived=u["default"].getValue(o.packetsReceived,0);c.packetsLost=u["default"].getValue(o.packetsLost,0);c.nackCnt=u["default"].getValue(o.nackCount,0);if(!(c.packetsReceived===0)){m.next=11;break}return m.abrupt("return",-1);case 11:l=Math.max(c.packetsReceived-this.preRemoteStreamStatistic.packetsReceived[s],1);f=Math.max(c.packetsLost-this.preRemoteStreamStatistic.packetsLost[s],0);h=Math.max(c.nackCnt-this.preRemoteStreamStatistic.nackCnt[s],0);v=h*100/(h+l);if(v<=20){p=h*.9*100/(h*.9+l)}else if(v<=30){p=h*.86*100/(h*.86+l)}else if(v<=40){p=h*.82*100/(h*.82+l)}else if(v<=50){p=h*.78*100/(h*.78+l)}else{p=h*.7*100/(h*.7+l)}this.preRemoteStreamStatistic.preLostRate.push(Math.min(Math.max(f*100/(f+l),p),100));if(this.preRemoteStreamStatistic.preLostRate.length>3){this.preRemoteStreamStatistic.preLostRate.shift()}this.preRemoteStreamStatistic.packetsReceived[s]=c.packetsReceived;this.preRemoteStreamStatistic.packetsLost[s]=c.packetsLost;this.preRemoteStreamStatistic.nackCnt[s]=c.nackCnt;g=this.smoothData(this.preRemoteStreamStatistic.preLostRate,.9);return m.abrupt("return",g[g.length-1]);case 23:case"end":return m.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"smoothData",value:function e(t,r){var n=H(t)*r;var i=[];for(var o=0;o<t.length;o++){var a=t[o];var s=o>0?i[o-1]:t[t.length-1];var u=o<t.length-1?t[o+1]:t[0];var c=Number(H([n,s,a,u]).toFixed(2));i.push(c)}return i}},{key:"netQualityRegularReport",value:function e(){var t=this;clearTimeout(this.netQualityTimer);this.netQualityTimer=setTimeout((function(){clearTimeout(t.netQualityTimer);t.calcNetworkQuality().then((function(e){if(t.preNetQuality===-1||t.preNetQuality!==e){F.info("emit: ".concat(l.HWLLSEvents.NET_QUALITY,", quality: ").concat(e," "));t.eventEmitter.emit(l.HWLLSEvents.NET_QUALITY,e)}t.preNetQuality=e}))["finally"](t.netQualityRegularReport.bind(t))}),1e3)}},{key:"checkRecover",value:function e(t){if(t){delete this.startPlayOptions.recover;this.playOption=m(m({},this.startPlayOptions),{autoPlay:true})}else{this.playOption=this.startPlayOptions}}},{key:"initPeerConnection",value:function(){var e=E(_().mark((function e(t){var r=this;return _().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:this.addStartPlayEvent(true,true);n.next=3;return this.connectionsManager.handleAnswerSdpFromServer(t.answerSdp);case 3:F.info("initPeerConnection, addIceCandidate");t.iceCandidates.forEach((function(e){var t;(t=r.connectionsManager.getConnection())===null||t===void 0||t.addIceCandidate({candidate:e,sdpMid:"0",sdpMLineIndex:0})["catch"]((function(t){F.error("addIceCandidate",e,t)}))}));case 5:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addStartPlayEvent",value:function e(r,n){var i=this;F.info("addStartPlayEvent",r,n);if(r){P(t,"off",this,3)([l.HWLLSEvents.AUDIO_START,this.firstFrameHandler.audioHandler]);P(t,"once",this,3)([l.HWLLSEvents.AUDIO_START,this.firstFrameHandler.audioHandler]);o["default"].off("audio_start_".concat(this.connectionsManager.getConnectionId()));o["default"].on("audio_start_".concat(this.connectionsManager.getConnectionId()),(function(){F.info("addStartPlayEvent","audio_start_".concat(i.connectionsManager.getConnectionId()));var e=i.eventEmitter.listeners(l.HWLLSEvents.AUDIO_START).find((function(e){return e===i.firstFrameHandler.audioHandler}));if(e){i.eventEmitter.emit(l.HWLLSEvents.AUDIO_START)}}))}if(n){P(t,"off",this,3)([l.HWLLSEvents.VIDEO_START,this.firstFrameHandler.videoHandler]);P(t,"once",this,3)([l.HWLLSEvents.VIDEO_START,this.firstFrameHandler.videoHandler]);o["default"].off("video_start_".concat(this.connectionsManager.getConnectionId()));o["default"].on("video_start_".concat(this.connectionsManager.getConnectionId()),(function(){var e=i.eventEmitter.listeners(l.HWLLSEvents.VIDEO_START).find((function(e){return e===i.firstFrameHandler.videoHandler}));if(e){i.eventEmitter.emit(l.HWLLSEvents.VIDEO_START)}}));o["default"].off("video_broken_".concat(this.connectionsManager.getConnectionId()));o["default"].on("video_broken_".concat(this.connectionsManager.getConnectionId()),(function(){if(i.recoveryInfo.recoveryTimer||i.recoveryInfo.retryTimes!==0){F.info("the recovery timer is running...");return}i.autoRecoverPlay(i.videoRecoveryInfo.interval,i.videoRecoveryInfo.retryTimes)}))}}},{key:"stopSignal",value:function(){var e=E(_().mark((function e(){return _().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:F.info("stop signal...");case 1:case"end":return t.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"playerStateChange",value:function e(t){F.info("playerStateChange: ",t);if(t.event===f.PlayerStateTraceEvent.PALYER_PLAYING&&t.type===f.PlayerStateTraceType.RTC_VIDEO_PLAYER){this.eventEmitter.emit(l.HWLLSEvents.STREAM_ADDED,{stream:this.liveStream})}}},{key:"onTrackHandler",value:function e(t){var i=this;F.info("onTrackHandler: ".concat(t.track.kind));var o=t.track.kind;if(o===d.MediaType.TRACK_TYPE_VIDEO||o===d.MediaType.TRACK_TYPE_AUDIO){var a,u,c;if(!this.liveStream){this.liveStream=new s.RemoteStream(this.stats,this.eventEmitter)}this.liveStream.addRemoteTrack(t.track);this.liveStream.on(l.RTCStreamEvent.PLAYER_STATE_TRACE,this.playerStateChange.bind(this));var f=o===d.MediaType.TRACK_TYPE_VIDEO;if(f){this.dealVideoTrackHandler()}var h=(a=n.GlobalVariableManager.getInstance(this.identifiedId))===null||a===void 0?void 0:a.getSfuInfo();var p=(u=n.GlobalVariableManager.getInstance(this.identifiedId))===null||u===void 0?void 0:u.getStreamParams();var v=(c=n.GlobalVariableManager.getInstance(this.identifiedId))===null||c===void 0?void 0:c.getPullMediaParams();this.liveStream.play(m(m({},this.playOption),{},{audio:!f,video:f}))["catch"]((function(e){var t=e instanceof r.HwLLSError&&(e.getCode()===r.ErrorCode.HWLLS_PLAY_NOT_ALLOW||/The operation was aborted/gi.test(e.getMsg()));if(t){i.eventEmitter.emit(l.HWLLSEvents.ERROR,{errCode:e.getCode(),errDesc:e.getMsg()});return}i.dealStreamPlayError({error:e,sfuInfo:h,streamParams:p,mediaParams:v,isVideo:f,trackType:o})}));this.stats.startMediaStatistic()}}},{key:"dealVideoTrackHandler",value:function e(){var t=this;o["default"].off("video_stuck_".concat(this.connectionsManager.getConnectionId()));o["default"].on("video_stuck_".concat(this.connectionsManager.getConnectionId()),(function(e){t.eventEmitter.emit(l.HWLLSEvents.VIDEO_STUCK,e)}));o["default"].off("video_broken_".concat(this.connectionsManager.getConnectionId()));o["default"].on("video_broken_".concat(this.connectionsManager.getConnectionId()),(function(){if(t.recoveryInfo.recoveryTimer||t.recoveryInfo.retryTimes!==0){F.info("video broken, the recovery timer is running...");return}t.autoRecoverPlay(t.videoRecoveryInfo.interval,t.videoRecoveryInfo.retryTimes)}))}},{key:"dealStreamPlayError",value:function e(t){var i=t.error,o=t.isVideo,a=t.sfuInfo,s=t.trackType,u=t.streamParams,c=t.mediaParams;var f=1;if(i instanceof r.HwLLSError){if(i.getCode()!==r.ErrorCode.HWLLS_PLAY_TIMEOUT){if(/interrupted by a new load request/gi.test(i.getMsg())){f=2}if(o&&a!==null&&a!==void 0&&a.aSsrc){this.dealAudioPlayError(f,a,u,c)}this.eventEmitter.emit(l.HWLLSEvents.ERROR,{errCode:i.getCode(),errDesc:i.getMsg()})}else{var d;if(!this.connectionsManager.isConnectionEstablished()){f=3}if(o&&a!==null&&a!==void 0&&a.aSsrc){this.dealAudioPlayError(f,a,u,c)}(d=n.GlobalVariableManager.getInstance(this.identifiedId))===null||d===void 0||d.updatePlayTrackKpi("".concat(o?"video":"audio","TimeOut"));if(!this.receivedFirstFrame){this.eventEmitter.emit(l.DowngradeEvent,i)}}}else{this.eventEmitter.emit(l.HWLLSEvents.ERROR,{errCode:r.ErrorCode.HWLLS_INTERNAL_ERROR,errDesc:r.ErrorMsg[r.ErrorCode.HWLLS_INTERNAL_ERROR]})}this.stats.reportPullMediaStreamResult(s,f,{playTrackKpi:this.prePlayTrackCache,sfuInfo:a,streamParams:u,mediaParams:c})}},{key:"dealAudioPlayError",value:function e(t,r,i,o){var a=this;var s=this.eventEmitter.listeners(l.HWLLSEvents.AUDIO_START).find((function(e){return e===a.firstFrameHandler.audioHandler}));if(s){var u;(u=n.GlobalVariableManager.getInstance(this.identifiedId))===null||u===void 0||u.updatePlayTrackKpi("audioTimeOut");this.stats.reportPullMediaStreamResult(d.MediaType.TRACK_TYPE_AUDIO,t,{playTrackKpi:this.prePlayTrackCache,sfuInfo:r,streamParams:i,mediaParams:o})}}},{key:"resetClient4Switch",value:function e(){var t;this.stats.cancelMediaStatistic();this.connectionsManager.destroyPeerConnection();this.prePlayTrackCache=(t=n.GlobalVariableManager.getInstance(this.identifiedId))===null||t===void 0?void 0:t.getPlayTrackKpi();n.GlobalVariableManager.delInstance(this.identifiedId);clearTimeout(this.debugStatisticTimer.timer);clearTimeout(this.detectTimer.timer);clearTimeout(this.recoveryInfo.recoveryTimer);this.recoveryInfo.retryTimes=0}},{key:"resetClient4Stop",value:function e(){var t;this.resetClient4Switch();clearTimeout(this.netQualityTimer);delete this.netQualityTimer;this.preNetQuality=-1;(t=this.liveStream)===null||t===void 0||t.destory();delete this.liveStream;this.startPlayOptions={answerSdp:"",iceCandidates:[],p2pUserId:"",elementId:""}}},{key:"resetClient",value:function e(t){var r,i;this.stats.cancelMediaStatistic();this.connectionsManager.destroyPeerConnection();this.prePlayTrackCache=(r=n.GlobalVariableManager.getInstance(this.identifiedId))===null||r===void 0?void 0:r.getPlayTrackKpi();if(!t){n.GlobalVariableManager.delInstance(this.identifiedId)}clearTimeout(this.debugStatisticTimer.timer);this.debugStatisticTimer={interval:1};clearTimeout(this.detectTimer.timer);this.detectTimer={interval:3};clearTimeout(this.netQualityTimer);delete this.netQualityTimer;clearTimeout(this.recoveryInfo.recoveryTimer);this.recoveryInfo.retryTimes=0;(i=this.liveStream)===null||i===void 0||i.destory();delete this.liveStream;this.startPlayOptions={answerSdp:"",iceCandidates:[],p2pUserId:"",elementId:""};this.preNetQuality=-1}},{key:"getStreamStatisticInfo",value:function e(t,r){var i=this;this.debugStatisticTimer.interval=r;this.debugStatisticTimer.timer=setTimeout((function(){var e,o;console.log("debugStatisticTimer1");clearTimeout(i.debugStatisticTimer.timer);var s=(e=n.GlobalVariableManager.getInstance(i.identifiedId))===null||e===void 0?void 0:e.getSfuInfo();var c=(o=n.GlobalVariableManager.getInstance(i.identifiedId))===null||o===void 0?void 0:o.getLocalSfuInfo();var f={};if(c!==null&&c!==void 0&&c.aSsrc){var h=a.MediaStats.getSendAudioMediaStatistic(i.connectionsManager.getConnectionId(),c.aSsrc);if(h){f.localAudio={mediaType:d.MediaType.TRACK_TYPE_AUDIO,codec:"OPUS",bitRate:h.bitRate,packetsLost:h.lostPktCnt,jitter:h.jitter,rtt:h.rtt};t.audioSendBytes=u["default"].getValue(h.totalByteSend,0)}}if(s!==null&&s!==void 0&&s.aSsrc){var p=a.MediaStats.getMediaStatistic(i.connectionsManager.getConnectionId(),s.aSsrc,d.MediaType.TRACK_TYPE_AUDIO);if(p){f.audio={mediaType:d.MediaType.TRACK_TYPE_AUDIO,codec:"OPUS",bitRate:p.bitRate,packetsLost:p.lostPktCnt,jitter:p.jitter,rtt:p.rtt};t.audioReceiveBytes=u["default"].getValue(p.totalByteReceived,0)}}if(s!==null&&s!==void 0&&s.vSsrc){var v=a.MediaStats.getMediaStatistic(i.connectionsManager.getConnectionId(),s.vSsrc,d.MediaType.TRACK_TYPE_VIDEO);if(v){t.videoFrames=u["default"].getValue(v.framesDecoded,0);f.video={mediaType:d.MediaType.TRACK_TYPE_VIDEO,codec:"H264",bitRate:v.bitRate,packetsLost:v.lostPktCnt,jitter:v.jitter,rtt:v.rtt,frameRate:v.frameRate};t.videoReceiveBytes=u["default"].getValue(v.totalByteReceived,0)}}i.eventEmitter.emit(l.HWLLSEvents.MEDIA_STATISTIC,f);i.getStreamStatisticInfo(t,r)}),r*1e3)}},{key:"setSendBitrate",value:function(){var e=E(_().mark((function e(t,r,n){var i;return _().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:if(t){o.next=3;break}F.info(B,"sender is null");return o.abrupt("return");case 3:if(!(typeof t.getParameters!=="function")){o.next=6;break}F.info(B,"sender not support getParameters");return o.abrupt("return");case 6:if(!(typeof t.setParameters!=="function")){o.next=9;break}F.info(B,"sender not support setParameters");return o.abrupt("return");case 9:i=t.getParameters();if(!(i.encodings.length<=0)){o.next=13;break}F.info(B,"sender has no track, can not set maxBitRate");return o.abrupt("return");case 13:i.encodings[0].maxBitrate=r;o.next=16;return t.setParameters(i);case 16:F.info(B,"success set ".concat(n," sender maxBitrate: ").concat(r));case 17:case"end":return o.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()}])}(t["default"]);U([(0,p.printfDecorator)(F)],V.prototype,"getInfo",null);U([(0,p.printfDecorator)(F)],V.prototype,"getSymbol",null);U([(0,p.printfDecorator)(F)],V.prototype,"getPublishAudioSender",null);U([(0,p.printfDecorator)(F)],V.prototype,"p2pPlay",null);U([(0,p.printfDecorator)(F)],V.prototype,"createPeerConnection",null);U([(0,p.printfDecorator)(F)],V.prototype,"getLocalSDP",null);U([(0,p.printfDecorator)(F)],V.prototype,"stopPlay",null);U([(0,p.printfDecorator)(F)],V.prototype,"replay",null);U([(0,p.printfDecorator)(F)],V.prototype,"resume",null);U([(0,p.printfDecorator)(F)],V.prototype,"getRemoteStream",null);U([(0,p.printfDecorator)(F)],V.prototype,"setPlayoutVolume",null);U([(0,p.printfDecorator)(F)],V.prototype,"getPlayoutVolume",null);U([(0,p.printfDecorator)(F)],V.prototype,"muteAudio",null);U([(0,p.printfDecorator)(F)],V.prototype,"streamStatistic",null);U([(0,p.printfDecorator)(F)],V.prototype,"destroyClient",null);U([(0,p.printfDecorator)(F)],V.prototype,"fullScreenToggle",null);U([(0,p.printfDecorator)(F)],V.prototype,"enableStreamStateDetection",null);U([(0,p.printfDecorator)(F)],V.prototype,"sendMessage",null)}))},8094:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7354),r(8024),r(2363)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.api=w;e.asyncApi=S;t=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function o(){"use strict";o=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function f(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",g="completed",m={};function y(){}function b(){}function E(){}var S={};l(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=y.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==_(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=h;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=d(t,r,n);if("normal"===c.type){if(i=n.done?g:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(_(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=l(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),l(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function a(e){return l(e)||c(e)||u(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=y(e,"string");return"symbol"==_(t)?t:t+""}function y(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e){"@babel/helpers - typeof";return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function b(e){try{return e.map((function(e){if(!["object","function"].includes(_(e))){return e}return e.getInfo?e.getInfo():e}))}catch(t){return e}}function E(e,t,r,n){if(e==="sendMessage"){return false}if(e===t){if(r&&r.length>1){return r[0]===n}}return true}function S(e){return function(n,i,s){var u=s.value;var c=e.substr(0,e.indexOf("$"));return v(v({},s),{},{value:function n(){var i=arguments,s=this;return h(o().mark((function n(){var l,f,d,h,p,v,g,m,y,_,E,S,w;return o().wrap((function n(o){while(1)switch(o.prev=o.next){case 0:d=t["default"].getCurrentLocalTimestamp();for(h=i.length,p=new Array(h),v=0;v<h;v++){p[v]=i[v]}g=p||[];m=b(g);o.prev=4;r.LoggerFactory.info(c,"".concat(u.name," begin : parameters are ").concat(JSON.stringify(m)));o.next=8;return u.apply(s,g);case 8:l=o.sent;y=l!==null&&l!==undefined?b([l]):[];r.LoggerFactory.info(c,"".concat(u.name," end success : result is ").concat(JSON.stringify(y)));return o.abrupt("return",l);case 14:o.prev=14;o.t0=o["catch"](4);r.LoggerFactory.error(c,"".concat(u.name," end error : ").concat(o.t0));f=o.t0;throw o.t0;case 19:o.prev=19;E=t["default"].getCurrentLocalTimestamp();S=[l].concat(g);w=b(S);(_=s.stats_)===null||_===void 0||_.reportApiCallInfo.apply(_,[e,d,E,f].concat(a(w)));return o.finish(19);case 25:case"end":return o.stop()}}),n,null,[[4,14,19,25]])})))()}})}}function w(e){return function(i,o,s){var u=s.value;var c=e.substr(0,e.indexOf("$"));return v(v({},s),{},{value:function i(){var o;var s;var l=t["default"].getCurrentLocalTimestamp();for(var f=arguments.length,d=new Array(f),h=0;h<f;h++){d[h]=arguments[h]}var p=d||[];var v=b(p);try{r.LoggerFactory.info(c,"".concat(u.name," begin : parameters are ").concat(JSON.stringify(v)));s=u.apply(this,p);var g=s!==null&&s!==undefined?b([s]):[];r.LoggerFactory.info(c,"".concat(u.name," end success : result is ").concat(JSON.stringify(g)));return s}catch(e){r.LoggerFactory.error(c,"".concat(u.name," end error : ").concat(e));o=e;throw e}finally{var m;var y=t["default"].getCurrentLocalTimestamp();var _=[s].concat(p);var S=b(_);E(u.name,"setParameter",p,n.parameterValidKeys.LOADING_CONFIG)&&((m=this.stats_)===null||m===void 0?void 0:m.reportApiCallInfo.apply(m,[e,l,y,o].concat(a(S))))}}})}}}))},2441:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7354),r(5575),r(7007),r(1156)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;t=o(t);function o(e){return e&&e.__esModule?e:{default:e}}function a(){"use strict";a=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(s(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function s(e){"@babel/helpers - typeof";return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=p(e,"string");return"symbol"==s(t)?t:t+""}function p(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v=e["default"]=function(){function e(r,o,a){l(this,e);this.callbackMap_=new Map;this.onCallbackMap_=new Map;this.identifiedId_=t["default"].generateStandardUuid();this.eventEmitter_=a||new n.EventEmitter;this.stats_=o||new i.HWLLSStat(this.identifiedId_);this.moudle_=r||""}return d(e,[{key:"on",value:function e(t,r,n){n?this.onWithTimeout(t,r):this.eventEmitter_.on(t,r)}},{key:"once",value:function e(t,r){this.eventEmitter_.once(t,r)}},{key:"off",value:function e(t,r,n){if(!r){this.eventEmitter_.removeAllListeners(t)}else{n?this.offWithTimeout(t,r):this.eventEmitter_.removeListener(t,r)}}},{key:"offAllEvents",value:function e(){this.eventEmitter_.removeAllListeners();this.callbackMap_.clear();this.onCallbackMap_.clear()}},{key:"emit",value:function e(t,r){this.eventEmitter_.emit(t,r)}},{key:"onWithTimeout",value:function e(t,r){var n=this.getOnCallback(t,r);this.eventEmitter_.on(t,n)}},{key:"offWithTimeout",value:function e(t,r){var n=this.getOffCallback(t,r);if(n){var i;(i=this.eventEmitter_)===null||i===void 0||i.removeListener(t,n)}}},{key:"getOnCallback",value:function e(n,i){var o=this;var u="".concat(n,"_").concat(i===null||i===void 0?void 0:i.name);var l=function(){var e=c(a().mark((function e(i){var c,l,f,d;return a().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(!o.callbackMap_.get(u)){a.next=15;break}c=t["default"].getCurrentLocalTimestamp();l=0;a.prev=3;a.next=6;return r.FunctionUtil.callWithTimeout((f=o.callbackMap_.get(u))===null||f===void 0?void 0:f(i),1e4);case 6:l=t["default"].getCurrentLocalTimestamp();a.next=12;break;case 9:a.prev=9;a.t0=a["catch"](3);l=c+5e3;case 12:a.prev=12;(d=o.stats_)===null||d===void 0||d.reportCallbackInfo(n.toString(),o.moudle_,c,l,i,(function(e){if(["object","function"].includes(s(e))&&e.getInfo){return JSON.stringify(e.getInfo())}return JSON.stringify(e||{})}));return a.finish(12);case 15:case"end":return a.stop()}}),e,null,[[3,9,12,15]])})));return function t(r){return e.apply(this,arguments)}}();this.callbackMap_.set(u,i);this.onCallbackMap_.set(u,l);return l}},{key:"getOffCallback",value:function e(t,r){var n="".concat(t,"_").concat(r===null||r===void 0?void 0:r.name);var i=this.onCallbackMap_.get(n);if(this.onCallbackMap_.get(n)){this.onCallbackMap_["delete"](n)}if(this.callbackMap_.get(n)){this.callbackMap_["delete"](n)}return i}},{key:"eventEmitter",get:function e(){return this.eventEmitter_}},{key:"identifiedId",get:function e(){return this.identifiedId_}},{key:"stats",get:function e(){return this.stats_}}])}()}))},9611:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.StatEvents=e.RTCStreamEvent=e.QosEvents=e.PosterMode=e.PlayerViewMode=e.HWLLSEvents=e.DowngradeEvent=e.ApiEvents=void 0;var t;(function(e){e["CROP"]="crop";e["FILL"]="fill"})(t||(e.PosterMode=t={}));var r;(function(e){e[e["EVENT_START_PULL_STREAM_REQ"]=201]="EVENT_START_PULL_STREAM_REQ";e[e["EVENT_STOP_PULL_STREAM_REQ"]=202]="EVENT_STOP_PULL_STREAM_REQ";e[e["EVENT_PULL_MEDIA_STREAM"]=203]="EVENT_PULL_MEDIA_STREAM";e[e["EVENT_CONNECTION_CHANNEL_STATUS"]=204]="EVENT_CONNECTION_CHANNEL_STATUS"})(r||(e.StatEvents=r={}));var n;(function(e){e[e["EVENT_VIDEO_QOS"]=1100]="EVENT_VIDEO_QOS";e[e["EVENT_AUDIO_QOS"]=1101]="EVENT_AUDIO_QOS"})(n||(e.QosEvents=n={}));var i;(function(e){e[e["API_CALL"]=501]="API_CALL";e[e["CALLBACK_API"]=502]="CALLBACK_API"})(i||(e.ApiEvents=i={}));var o=e.RTCStreamEvent={PLAYER_STATE_TRACE:"player-state-trace"};var a=e.HWLLSEvents={MEDIA_STATISTIC:"rtc-stats",NET_QUALITY:"network-quality",VIDEO_INTERRUPTED:"video-broken",AUDIO_INTERRUPTED:"audio-broken",VIDEO_RECOVERY:"video-recovery",AUDIO_RECOVERY:"audio-recovery",AUDIO_START:"audio-start",VIDEO_START:"video-start",VIDEO_STUCK:"video_stuck",FULLSCREEN_STATUS_CHANGED:"fullscreen-status-changed",PLAYER_CHANGE:"player-changed",MEDIA_CONNECTION_STATE_CHANGED:"media-connection-state-changed",ERROR:"Error",STREAM_ADDED:"stream-added",STREAM_REMOVED:"stream-removed",PEER_JOIN:"peer-join",PEER_LEAVE:"peer-leave"};var s;(function(e){e["CONTAIN"]="contain";e["FILL"]="fill";e["COVER"]="cover"})(s||(e.PlayerViewMode=s={}));var u=e.DowngradeEvent="downgrade"}))},8418:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.browserConfigs=void 0;var t=e.browserConfigs={POLICY:0,WEBRTC_UNSUPPORT_BLACKLIST:[/.*chrome\/([1-6]\d|7[0-1])\..*MiuiBrowser.*/gi,/.*chrome\/([1-6]\d|70)\..*HeyTapBrowser.*/gi,/.*chrome\/([1-5]\d|6[0-2])\..*VivoBrowser.*/gi],WEBRTC_UNSUPPORT_WHITELIST:[]}}))},2216:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.configs=void 0;var t=e.configs={SDK_VERSION:"2.5.3",COMMIT_ID:"df77da8",NEGOTIATE_SDP_URL_PATH:"/webrtc/v1/pullstream",STOP_PLAY_URL_PATH:"/webrtc/v1/stopstream",OPS_REPORT_DOMAIN:"log-collection-new.hwcloudlive.com",SHARE_PULL_DOMAIN:["global-lll.huaweicloud.com","global-lll.huaweicloud.cn"],GSLB_DOMAIN:"hcdnl.pull302.global.gslb.livehwc3.cn",GSLB_REQUEST_TIMEOUT:4e3,DNS_REQUEST_TIMEOUT:3e3,PULLSTREAM_REQUEST_TIMEOUT:6e3,REQUEST_DEFAULT_TIMEOUT:5e3,OPS_AUTH_TOKEN:"Token 1dc3549b538515311e23d68684a67fb93341f3f5",OPS_REPORT_INTERVAL:5e3,STATISTIC_INTERVAL:100,PUBLIC_DNS_SERVER:["dns.alidns.com","doh.pub"]}}))},1308:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(9974)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getRTCCameras=g;e.getRTCDeviceGroups=p;e.getRTCDevices=d;e.getRTCMicrophones=y;e.getRTCSpeakers=b;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(){"use strict";c=function e(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),s=new M(n||[]);return o(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==n&&i.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function e(r,i){function o(){return new t((function(e,t){n(r,i,e,t)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=E,o(C,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function o(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(){return h.apply(this,arguments)}function h(){h=f(c().mark((function e(){return c().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(e,r){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){r(new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES))}navigator.mediaDevices.enumerateDevices().then((function(n){if(!n||n.length===0){r(new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_NO_AVAILABLE_DEVICES))}else{e(n)}}))["catch"]((function(e){r(e)}))})));case 1:case"end":return r.stop()}}),e)})));return h.apply(this,arguments)}function p(){return v.apply(this,arguments)}function v(){v=f(c().mark((function e(){return c().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(e,r){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){r(new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES))}navigator.mediaDevices.enumerateDevices().then((function(i){if(!i||i.length===0){r(new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_NO_AVAILABLE_DEVICES))}else{var o={};i.forEach((function(e){if(e.deviceId!=="default"&&e.deviceId!=="communications"){o[e.kind]=[].concat(n(o[e.kind]||[]),[e])}}));e(o)}}))["catch"]((function(e){r(e)}))})));case 1:case"end":return r.stop()}}),e)})));return v.apply(this,arguments)}function g(){return m.apply(this,arguments)}function m(){m=f(c().mark((function e(){return c().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(e,r){d().then((function(n){var i=n.filter((function(e){return e.kind==="videoinput"}));if(!i||i.length===0){r(new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES))}else{e(i)}}))["catch"]((function(e){r(e)}))})));case 1:case"end":return r.stop()}}),e)})));return m.apply(this,arguments)}function y(){return _.apply(this,arguments)}function _(){_=f(c().mark((function e(){return c().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(e,r){d().then((function(n){var i=n.filter((function(e){return e.kind==="audioinput"&&e.deviceId!=="communications"&&e.deviceId!=="default"}));if(!i||i.length===0){r(new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES))}else{e(i)}}))["catch"]((function(e){r(e)}))})));case 1:case"end":return r.stop()}}),e)})));return _.apply(this,arguments)}function b(){return E.apply(this,arguments)}function E(){E=f(c().mark((function e(){return c().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(e,r){d().then((function(n){var i=n.filter((function(e){return e.kind==="audiooutput"}));if(!i||i.length===0){r(new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES))}else{e(i)}}))["catch"]((function(e){r(e)}))})));case 1:case"end":return r.stop()}}),e)})));return E.apply(this,arguments)}}))},8736:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(1308),r(3388),r(3652)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.deviceChangeListener=void 0;function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){return u(e)||s(e)||l(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return f(e)}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return a=t.done,t},e:function e(t){s=!0,o=t},f:function e(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(){"use strict";d=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function f(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),s=new M(n||[]);return o(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};l(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function e(n,i){function o(){return new t((function(e,t){r(n,i,e,t)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return b.prototype=E,o(C,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=l(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),l(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function h(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,s,"next",e)}function s(e){h(o,n,i,a,s,"throw",e)}a(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=_(e,"string");return"symbol"==i(t)?t:t+""}function _(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b=new n.Log({module:"DeviceChangeListener"});var E={videoinput:"CameraChanged",audioinput:"RecordingDeviceChanged",audiooutput:"PlaybackDeviceChanged"};var S={add:"ADD",remove:"REMOVE"};var w="DeviceChangeListener";var T=function(){function e(){v(this,e);this.deviceChangeCallBack=[];this.internalEventEmitters=[];this.initFlag=false}return m(e,[{key:"initDeviceChangedNotify",value:function(){var e=p(d().mark((function e(t,r){return d().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:this.addEventEmitter(t,r);if(!this.initFlag){n.next=3;break}return n.abrupt("return");case 3:this.initFlag=true;n.next=6;return this.registerDeviceChangedNotify();case 6:case"end":return n.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addEventEmitter",value:function e(t,r){if(r){this.internalEventEmitters.push(t)}else{this.clientEventEmitter=t}}},{key:"removeEventEmitter",value:function e(t){if(t===this.clientEventEmitter){delete this.clientEventEmitter;return}this.internalEventEmitters=this.internalEventEmitters.filter((function(e){return e!==t}))}},{key:"registerDeviceChangedNotify",value:function(){var e=p(d().mark((function e(){var r=this;var n,i,o,a,s;return d().wrap((function e(u){while(1)switch(u.prev=u.next){case 0:u.prev=0;u.next=3;return(0,t.getRTCDevices)()["finally"]((function(){}));case 3:n=u.sent;if(!n||n.length<=0){b.info(w,"no device available now")}n=n||[];this.preDevices=new Map;i=c(n);try{for(i.s();!(o=i.n()).done;){a=o.value;if(a.deviceId&&a.deviceId!=="default"&&a.deviceId!=="communications"){this.preDevices.set(a.deviceId,a.kind)}}}catch(e){i.e(e)}finally{i.f()}u.next=14;break;case 11:u.prev=11;u.t0=u["catch"](0);b.error("registerDeviceChangedNotify",u.t0);case 14:s=false;navigator.mediaDevices.ondevicechange=function(){var e=p(d().mark((function e(t){var n;return d().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(t.isTrusted){i.next=3;break}b.error(w,"device change event trigger by script");return i.abrupt("return");case 3:r.deviceChangeCallBack.push(r.handleDeviceChangeEvent.bind(r));if(!s){i.next=6;break}return i.abrupt("return");case 6:if(!(r.deviceChangeCallBack.length>0)){i.next=13;break}s=true;i.next=10;return(n=r.deviceChangeCallBack.shift())===null||n===void 0?void 0:n();case 10:if(r.deviceChangeCallBack.length<1){s=false}i.next=6;break;case 13:case"end":return i.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 16:case"end":return u.stop()}}),e,this,[[0,11]])})));function r(){return e.apply(this,arguments)}return r}()},{key:"handleDeviceChangeEvent",value:function(){var e=p(d().mark((function e(){var n=this;var i,a,s,u,l,f;return d().wrap((function e(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return(0,t.getRTCDevices)();case 2:i=d.sent;i=i||[];a=new Map;s=c(i);try{for(s.s();!(u=s.n()).done;){l=u.value;if(l.deviceId&&l.deviceId!=="default"&&l.deviceId!=="communications"){a.set(l.deviceId,l.kind)}}}catch(e){s.e(e)}finally{s.f()}f=this.internalEventEmitters;if(this.clientEventEmitter){f=[].concat(o(this.internalEventEmitters),[this.clientEventEmitter])}this.preDevices.forEach((function(e,t){if(!a.has(t)){b.info(w,"deviceType: ".concat(e," deviceId: ").concat(t," remove"));f.forEach((function(n){n.emit(r.RTCClientEvent[E[e]],{deviceId:t,state:S.remove})}))}}));a.forEach((function(e,t){if(!n.preDevices.has(t)){b.info(w,"deviceType: ".concat(e," deviceId: ").concat(t," add"));f.forEach((function(n){n.emit(r.RTCClientEvent[E[e]],{deviceId:t,state:S.add})}))}}));this.preDevices=a;case 12:case"end":return d.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()}])}();var C=e.deviceChangeListener=new T}))},9974:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.HwLLSError=e.ErrorMsg=e.ErrorCode=void 0;var t;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return t=v(t),s(e,d()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function s(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function e(r){if(null===r||!h(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return f(r,arguments,v(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,r)},l(e)}function f(e,t,r){if(d())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&p(i,r.prototype),i}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function t(){return!!e})()}function h(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=y(e,"string");return"symbol"==r(t)?t:t+""}function y(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _;(function(e){e[e["HWLLS_OK"]=0]="HWLLS_OK";e[e["RTC_ERR_CODE_SUCCESS"]=0]="RTC_ERR_CODE_SUCCESS";e[e["HWLLS_ERROR_INVALID_URL"]=5e7]="HWLLS_ERROR_INVALID_URL";e[e["HWLLS_ERROR_INVALID_PARAMETER"]=50000001]="HWLLS_ERROR_INVALID_PARAMETER";e[e["HWLLS_ERROR_SERVER_CONNECT_FAIL"]=50000002]="HWLLS_ERROR_SERVER_CONNECT_FAIL";e[e["HWLLS_ERROR_SERVER_NO_RESPONSE"]=50000003]="HWLLS_ERROR_SERVER_NO_RESPONSE";e[e["HWLLS_ERROR_AUTH_FAIL"]=50000004]="HWLLS_ERROR_AUTH_FAIL";e[e["HWLLS_ERROR_STREAM_NOT_EXIST"]=50000005]="HWLLS_ERROR_STREAM_NOT_EXIST";e[e["HWLLS_ERROR_WEBRTC_UNSUPPORTED"]=50000006]="HWLLS_ERROR_WEBRTC_UNSUPPORTED";e[e["HWLLS_MEDIA_NETWORK_ERROR"]=50000007]="HWLLS_MEDIA_NETWORK_ERROR";e[e["HWLLS_ERROR_BAD_REQUEST"]=50000008]="HWLLS_ERROR_BAD_REQUEST";e[e["HWLLS_ERROR_STREAM_INVALID_PARAMETER"]=50000009]="HWLLS_ERROR_STREAM_INVALID_PARAMETER";e[e["HWLLS_ERROR_ENCODING_NOT_ACCEPTED"]=500000010]="HWLLS_ERROR_ENCODING_NOT_ACCEPTED";e[e["HWLLS_INTERNAL_ERROR"]=50000020]="HWLLS_INTERNAL_ERROR";e[e["HWLLS_BUSSINESS_DOWNGRADE"]=50000021]="HWLLS_BUSSINESS_DOWNGRADE";e[e["HWLLS_PLAY_WEBRTC_RETRY_FAILED"]=50000022]="HWLLS_PLAY_WEBRTC_RETRY_FAILED";e[e["HWLLS_PLAY_FLV_RETRY_FAILED"]=50000023]="HWLLS_PLAY_FLV_RETRY_FAILED";e[e["HWLLS_PLAY_HLS_RETRY_FAILED"]=50000024]="HWLLS_PLAY_HLS_RETRY_FAILED";e[e["HWLLS_ERROR_LIVE_UNSUPPORTED"]=50000030]="HWLLS_ERROR_LIVE_UNSUPPORTED";e[e["HWLLS_ERROR_UNEXPECTED_EOF"]=50000031]="HWLLS_ERROR_UNEXPECTED_EOF";e[e["HWLLS_ERROR_MEDIA_ERROR"]=50000032]="HWLLS_ERROR_MEDIA_ERROR";e[e["HWLLS_PLAY_NOT_ALLOW"]=51e6]="HWLLS_PLAY_NOT_ALLOW";e[e["HWLLS_PLAY_TIMEOUT"]=51000001]="HWLLS_PLAY_TIMEOUT";e[e["RTC_ERR_CODE_RTC_SDK_ERROR"]=90000001]="RTC_ERR_CODE_RTC_SDK_ERROR";e[e["RTC_ERR_CODE_WAIT_RSP_TIMEOUT"]=90000004]="RTC_ERR_CODE_WAIT_RSP_TIMEOUT";e[e["RTC_ERR_CODE_INVALID_PARAMETER"]=90000005]="RTC_ERR_CODE_INVALID_PARAMETER";e[e["RTC_ERR_CODE_INVALID_OPERATION"]=90100001]="RTC_ERR_CODE_INVALID_OPERATION";e[e["RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES"]=90100002]="RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES";e[e["RTC_ERR_CODE_NO_AVAILABLE_DEVICES"]=90100003]="RTC_ERR_CODE_NO_AVAILABLE_DEVICES";e[e["RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES"]=90100004]="RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES";e[e["RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES"]=90100005]="RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES";e[e["RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES"]=90100006]="RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES";e[e["RTC_ERR_CODE_STATUS_ERROR"]=90100007]="RTC_ERR_CODE_STATUS_ERROR";e[e["RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED"]=90100008]="RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED";e[e["RTC_ERR_CODE_WAIT_CONFIG_FAIL"]=90100009]="RTC_ERR_CODE_WAIT_CONFIG_FAIL";e[e["RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL"]=90100010]="RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL";e[e["RTC_ERR_CODE_REGION_NOT_COVERED"]=90100011]="RTC_ERR_CODE_REGION_NOT_COVERED";e[e["RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT"]=90100012]="RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT";e[e["RTC_ERR_CODE_WEBSOCKET_RECONNECT_TIMEOUT"]=90100013]="RTC_ERR_CODE_WEBSOCKET_RECONNECT_TIMEOUT";e[e["RTC_ERR_CODE_WEBSOCKET_NOT_OPEN"]=90100014]="RTC_ERR_CODE_WEBSOCKET_NOT_OPEN";e[e["RTC_ERR_CODE_WEBSOCKET_INTERRUPTED"]=90100015]="RTC_ERR_CODE_WEBSOCKET_INTERRUPTED";e[e["RTC_ERR_CODE_WEBSOCKET_CONNECT_ERROR"]=90100016]="RTC_ERR_CODE_WEBSOCKET_CONNECT_ERROR";e[e["RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED"]=90100017]="RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED";e[e["RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED"]=90100018]="RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED";e[e["RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND"]=90100019]="RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND";e[e["RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE"]=90100020]="RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE";e[e["RTC_ERR_CODE_PLAY_NOT_ALLOW"]=90100021]="RTC_ERR_CODE_PLAY_NOT_ALLOW";e[e["RTC_ERR_CODE_ROLE_NO_PERMISSION"]=90100022]="RTC_ERR_CODE_ROLE_NO_PERMISSION";e[e["RTC_ERR_CODE_ANSWER_SDP_INVALID"]=90100023]="RTC_ERR_CODE_ANSWER_SDP_INVALID";e[e["RTC_ERR_CODE_MEDIA_UPSTREAM_UNSUPPORTED"]=90100024]="RTC_ERR_CODE_MEDIA_UPSTREAM_UNSUPPORTED";e[e["RTC_ERR_CODE_WEBRTC_UNSUPPORTED"]=90100025]="RTC_ERR_CODE_WEBRTC_UNSUPPORTED";e[e["RTC_ERR_CODE_MEDIA_NETWORK_ERROR"]=90100026]="RTC_ERR_CODE_MEDIA_NETWORK_ERROR";e[e["RTC_ERR_CODE_CLIENT_RELAY_ROOM_OVER_MAXNUM"]=90100027]="RTC_ERR_CODE_CLIENT_RELAY_ROOM_OVER_MAXNUM";e[e["RTC_ERR_CODE_CLIENT_RELAY_JOINER_OVER_MAXNUM"]=90100028]="RTC_ERR_CODE_CLIENT_RELAY_JOINER_OVER_MAXNUM";e[e["RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED"]=90100029]="RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED";e[e["RTC_ERR_CODE_SIGNATURE_EXPIRED"]=90100030]="RTC_ERR_CODE_SIGNATURE_EXPIRED";e[e["RTC_ERR_CODE_SIGNATURE_INVALID"]=90100031]="RTC_ERR_CODE_SIGNATURE_INVALID";e[e["RTC_ERR_CODE_RTC_ACS"]=90100100]="RTC_ERR_CODE_RTC_ACS";e[e["RTC_ERR_CODE_RTC_CONTROL_ERROR"]=90100200]="RTC_ERR_CODE_RTC_CONTROL_ERROR";e[e["RTC_ERR_CODE_SFU_ERROR"]=90100600]="RTC_ERR_CODE_SFU_ERROR"})(_||(e.ErrorCode=_={}));var b=e.ErrorMsg=(t={},g(g(g(g(g(g(g(g(g(g(t,_.HWLLS_OK,"success"),_.HWLLS_ERROR_INVALID_URL,"url invalid."),_.HWLLS_ERROR_INVALID_PARAMETER,"parameter invalid."),_.HWLLS_ERROR_SERVER_CONNECT_FAIL,"server not available or server internal error."),_.HWLLS_ERROR_SERVER_NO_RESPONSE,"server respone timeout."),_.HWLLS_ERROR_AUTH_FAIL,"server authnicate failed."),_.HWLLS_ERROR_STREAM_NOT_EXIST,"stream not exist."),_.HWLLS_MEDIA_NETWORK_ERROR,"media connection establish failed, please switch network or try again later."),_.HWLLS_ERROR_BAD_REQUEST,"bad request."),_.HWLLS_ERROR_STREAM_INVALID_PARAMETER,"browser not support avc codec."),g(g(g(g(g(g(g(g(g(t,_.HWLLS_INTERNAL_ERROR,"internal error"),_.HWLLS_BUSSINESS_DOWNGRADE,"fatal error, bussiness downgrade: hls/http-flv etc."),_.HWLLS_PLAY_WEBRTC_RETRY_FAILED,"recover play with webrtc protocol timeOut, pls comfirm the server is avaliable."),_.HWLLS_PLAY_FLV_RETRY_FAILED,"recover play with flv format timeOut, pls comfirm the server is avaliable."),_.HWLLS_PLAY_HLS_RETRY_FAILED,"recover play with hls format timeOut, pls comfirm the server is avaliable."),_.HWLLS_PLAY_NOT_ALLOW,"the user didn't interact with the document first, please trigger by gesture."),_.HWLLS_PLAY_TIMEOUT,"play timeout, please confirm the stream server status."),_.HWLLS_ERROR_UNEXPECTED_EOF,"related to unexpected network EOF which cannot be recovered."),_.HWLLS_ERROR_ENCODING_NOT_ACCEPTED,"server does not accept content-encoding request"));var E=e.HwLLSError=function(e){function t(e,r){var i;n(this,t);var o="";if(e in _){o=b[e]}else{o="unknow error"}i=a(this,t,[r]);i.code=e;i.message=r||o;return i}c(t,e);return o(t,[{key:"getCode",value:function e(){return this.code}},{key:"getMsg",value:function e(){return this.message}},{key:"toString",value:function e(){return'["code": '.concat(this.code,', "message": "').concat(this.message,'"]')}}])}(l(Error))}))},4317:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(6125)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var r=new t.HWLLSEnter;var n=e["default"]=r}))},3652:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(960)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Log=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u=e.Log=function(){function e(r){var i=r.module;n(this,e);this._logger=(0,t.getLogger)(i);this.debug=this.printf("debug");this.info=this.printf("info");this.warn=this.printf("warn");this.error=this.printf("error")}return o(e,[{key:"printf",value:function t(r){var n=this;var i=e._logLevelList.indexOf(r);return function(){if(e._logLevelIndex>-1&&i>=e._logLevelIndex){var t,o;for(var a=arguments.length,s=new Array(a),u=0;u<a;u++){s[u]=arguments[u]}(t=(o=n._logger)[r])===null||t===void 0||t.call.apply(t,[o].concat(s))}}}}],[{key:"setLogLevel",value:function t(r){e._logLevelIndex=e._logLevelList.indexOf(r)}}])}();u._logLevelList=["debug","info","warn","error","none"];u._logLevelIndex=1}))},8024:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(9974),r(7354)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LoggerFactory=void 0;r=n(r);function n(e){return e&&e.__esModule?e:{default:e}}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==i(t)?t:t+""}function c(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l={none:0,error:1,warn:2,log:3,info:3,debug:4,trace:5,verbose:5};var f={domain:"",appName:"",streamName:"",svrsid:""};var d=e.LoggerFactory=function(){function e(){o(this,e)}return s(e,null,[{key:"setLogLevel",value:function r(n){if(l[n]>=0){e.logLevel=n}else{throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER,"log level is invalid")}return true}},{key:"setExtraInfos",value:function e(t){if(t.domain!==undefined){f.domain=t.domain}if(t.appName!==undefined){f.appName=t.appName}if(t.streamName!==undefined){f.streamName=t.streamName}if(t.svrsid!==undefined){f.svrsid=t.svrsid}}},{key:"shieldIpAddress",value:function e(t){if(!t){return""}return t.replace(/\b(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\b/g,"$1.*.*.$2")}},{key:"shieldUrlParameters",value:function t(r){if(!r){return r}var n=r.match(/([^?|=|&]+)=([^&]+)/g);if(n){n.forEach((function(t){var n=/([^=]*)=(.*)/g.exec(t);if(n&&n.length>2){r=r.replace(t,"".concat(n[1],"=").concat(e.secretString(n[2])))}}))}return r}},{key:"secretString",value:function e(t){if(!t){return""}var r="********";var n=Math.ceil(t.length/3);var i=Math.ceil((t.length-n)/2);if(i===0){return"".concat(t.substr(0,n)).concat(r)}return"".concat(t.substr(0,n)).concat(r).concat(t.substr(-i,i))}},{key:"error",value:function t(r,n){e.print("error",r,n)}},{key:"warn",value:function t(r,n){e.print("warn",r,n)}},{key:"info",value:function t(r,n){e.print("info",r,n)}},{key:"log",value:function t(r,n){e.print("log",r,n)}},{key:"debug",value:function t(r,n){e.print("debug",r,n)}},{key:"trace",value:function t(r,n){e.print("trace",r,n)}},{key:"verbose",value:function t(r,n){e.print("verbose",r,n)}},{key:"clearLogs",value:function t(){e.logBuffer=[]}},{key:"setlogBufferSize",value:function t(r){e.logBufferSize=r}},{key:"getlogBufferSize",value:function t(){return e.logBufferSize}},{key:"getLogBuffer",value:function t(){return e.logBuffer}},{key:"print",value:function t(n,i,o){var a=r["default"].getCurrentTimeInfo();var s="".concat(a.year,"-").concat(a.month,"-").concat(a.day," ").concat(a.hour,":").concat(a.min,":").concat(a.sec,".").concat(a.millsec," [HWLLS] [").concat(n,"] [").concat(i,"] [").concat(o,"]");this.logBuffer.push(s);while(this.logBuffer.length>=this.logBufferSize){this.logBuffer.shift()}if(l[e.logLevel]>=l[n]){console[l[n]>=4?"debug":n](s)}}}])}();d.logLevel="log";d.logBuffer=[];d.logBufferSize=1e4}))},960:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(3442),r(4772)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getLogger=void 0;var n=function e(){};var i=function e(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return function(e){try{var o,a;if(n==="none"){return""}var s=(0,r.formatDate)(new Date,"yyyy-MM-dd hh:mm:ss.S");for(var u=arguments.length,c=new Array(u>1?u-1:0),l=1;l<u;l++){c[l-1]=arguments[l]}(o=window.console)===null||o===void 0||(a=o[n])===null||a===void 0||a.call.apply(a,[o,"[".concat(s,"][").concat(n,"][").concat(i,"]"),e].concat(c));var f="[".concat(s,"][").concat(n,"][").concat(i,"] ").concat(e," ").concat(JSON.stringify(c));if(n!=="debug"){t.UserTrack===null||t.UserTrack===void 0||t.UserTrack.addUserTrack({arg1:"ut_event_p2p_sdk",arg2:i,args:{type:n,entry:e,message:JSON.stringify(c)}})}return f}catch(e){return""}}};var o=e.getLogger=function e(t){return{debug:i("debug",t),info:i("info",t),log:n,warn:i("warn",t),error:i("error",t),none:n}}}))},6360:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(8024),r(5951)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.CmdMsgPacketUtils=e.CmdMessageBuilder=void 0;r=n(r);function n(e){return e&&e.__esModule?e:{default:e}}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==i(t)?t:t+""}function c(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l="CmdMessageBuilder";var f=e.CmdMessageBuilder=function(){function e(t,r,n,i){o(this,e);this.RTP_HEADER_V_P_X_CC=144;this.RTP_HEADER_V_P_X_CC_BRODACAST=128;this.cmdMsgPacketSeqNum=0;this.selfUserUid=t;this.cmdSendSsrc=r;this.cmdReceiveSsrc=n;this.msgFormat=i;this.RTP_HEADER_M_PT=99}return s(e,[{key:"parseCmdMessage",value:function e(n){var i=new DataView(n);var o=i.getUint16(2);var a=i.getUint32(4);t.LoggerFactory.debug(l,"receive ".concat(o," msg of timeStamp ").concat(a));var s=i.getUint32(8);t.LoggerFactory.info(l,"receiveSsrc:".concat(s,", cmdReceiveSsrc:").concat(this.cmdReceiveSsrc));if(s!==this.cmdReceiveSsrc){t.LoggerFactory.error(l,"receive msg ssrc not matched, ".concat(this.cmdReceiveSsrc," - ").concat(s));return null}var u=(i.getUint8(0)&16)===0;var c=0;if(u){c=12}else{var f=i.getUint16(14);c=16+f*4}var h=r["default"].toNumber(r["default"].DataViewGetBigUint64(i,c));var p=i.buffer.slice(c+16);var v;if(this.msgFormat===1){v=d.ArrayBufferToMsg(p)}else{v=p}return{msg:v,srcUserId:h}}},{key:"buildCmdMessage",value:function e(t){var n=!(t!==null&&t!==void 0&&t.userUid);var i=new DataView(new ArrayBuffer(n?28:44));if(n){i.setUint8(0,this.RTP_HEADER_V_P_X_CC_BRODACAST)}else{i.setUint8(0,this.RTP_HEADER_V_P_X_CC)}i.setUint8(1,this.RTP_HEADER_M_PT);i.setUint16(2,this.cmdMsgPacketSeqNum++);i.setUint32(4,Math.floor((new Date).getTime()/1e3));i.setUint32(8,this.cmdSendSsrc);var o=t||{},a=o.userUid,s=a===void 0?0:a,u=o.msg;var c=0;if(!n){i.setUint16(12,4096);i.setUint16(14,3);i.setUint8(16,21);i.setUint8(17,8);r["default"].DataViewSetBigUint64(i,18,r["default"].BigInt(s));i.setUint16(26,0);c=28}else{c=12}r["default"].DataViewSetBigUint64(i,c,r["default"].BigInt(this.selfUserUid));r["default"].DataViewSetBigUint64(i,c+8,r["default"].BigInt(0));return d.concatArrayBuffer(i.buffer,d.msgBodyToArrayBuffer(u||""))}}])}();var d=e.CmdMsgPacketUtils=function(){function e(){o(this,e)}return s(e,null,[{key:"msgBodyToArrayBuffer",value:function e(t){if(typeof t==="string"){var r=new TextEncoder;var n=r.encode(t);return n.buffer}return t}},{key:"ArrayBufferToMsg",value:function e(t){var r=new TextDecoder("utf-8");var n=r.decode(t);return n}},{key:"concatArrayBuffer",value:function e(){var t=0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}for(var o=0,a=n;o<a.length;o++){var s=a[o];t+=s.byteLength}var u=new Uint8Array(t);var c=0;for(var l=0,f=n;l<f.length;l++){var d=f[l];var h=new Uint8Array(d);u.set(h,c);c+=d.byteLength}return u.buffer}},{key:"arrayBufferToNumberArray",value:function e(t){var r=[];for(var n=0;n<t.byteLength;n+=4){r.push(t.getUint32(n))}return r}},{key:"numberArrayToArrayBuffer",value:function e(t){var r=new DataView(new ArrayBuffer(t.length*4));for(var n=0;n<t.length;n++){r.setUint32(n*4,t[n])}return r.buffer}}])}()}))},1913:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(6360),r(7007),r(8024)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.DataChannelMsgManager=void 0;r=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=l(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f="DataChannelMsgManager";var d=function(){function e(t){a(this,e);this.event_=new r["default"];if(t&&t instanceof RTCPeerConnection){this.dataChannel=t.createDataChannel("command",{ordered:true});this.dataChannel.binaryType="arraybuffer";this.dataChannel.onopen=this.onopen.bind(this);this.dataChannel.onerror=this.onerror.bind(this);this.dataChannel.onmessage=this.onmessage.bind(this);this.dataChannel.onclose=this.onclose.bind(this)}}return u(e,[{key:"on",value:function e(t,r){this.event_.on(t,r)}},{key:"off",value:function e(t,r){if(r){this.event_.removeListener(t,r)}else{this.event_.removeAllListeners(t)}}},{key:"sendMessage",value:function e(t){if(!this.dataChannel||this.dataChannel.readyState!=="open"){var r;n.LoggerFactory.error(f,"send message with dataChannel failed for dataChannel unavaliable: ".concat((r=this.dataChannel)===null||r===void 0?void 0:r.readyState,"."));return false}try{if(this.dataChannel.bufferedAmount>=1024*1e3*1e3){n.LoggerFactory.warn(f,"buffer over high threshold of 1M: ".concat(this.dataChannel.bufferedAmount,", send message may blocked and delay."))}this.dataChannel.send(t);return true}catch(e){n.LoggerFactory.error(f,"send message with dataChannel occur error: ".concat(e,"."));return false}}},{key:"close",value:function e(){if(this.dataChannel){this.dataChannel.onopen=null;this.dataChannel.onerror=null;this.dataChannel.onmessage=null;this.dataChannel.onclose=null;this.dataChannel.close();delete this.dataChannel}}},{key:"onopen",value:function e(){var t;n.LoggerFactory.info(f,"onopen, RTCDataChannel connection status: ".concat((t=this.dataChannel)===null||t===void 0?void 0:t.readyState));clearTimeout(this.dataChannelDisConnectTimer);this.event_.emit("CMD_CHANNEL_ESTABLISHED")}},{key:"onmessage",value:function e(t){if(!t.data){n.LoggerFactory.error(f,"onerror, RTCDataChannel message is null.");return}this.event_.emit("CMD_MSG_REVEIVED",t.data)}},{key:"onerror",value:function e(t){var r=this;n.LoggerFactory.error(f,"onerror, RTCDataChannel occur error: ".concat(t));if(!this.dataChannelDisConnectTimer){this.dataChannelDisConnectTimer=setTimeout((function(){clearTimeout(r.dataChannelDisConnectTimer);r.event_.emit("CMD_CHANNEL_DISCONNECT")}),3e4)}}},{key:"onclose",value:function e(t){var r=this;n.LoggerFactory.info(f,"onclose, RTCDataChannel closed: ".concat(t));if(!this.dataChannelDisConnectTimer){this.dataChannelDisConnectTimer=setTimeout((function(){clearTimeout(r.dataChannelDisConnectTimer);r.event_.emit("CMD_CHANNEL_DISCONNECT")}),3e4)}}}])}();var h=e.DataChannelMsgManager=function(){function e(t){a(this,e);this.event=t}return u(e,[{key:"initChannel",value:function e(r){var i=this;this.connection=r.connection;this.isCmd=r.isCmd||false;if(!this.dataChannel){this.dataChannel=new d(this.connection);this.cmdBuilder=new t.CmdMessageBuilder(r.uid||0,r.sendSsrc||0,r.receiveSsrc||0,r.msgFormat||0)}this.dataChannel.on("CMD_MSG_REVEIVED",(function(e){if(i.isCmd){var t=i.cmdBuilder.parseCmdMessage(e);i.event.emit("data-msg-received",t)}else{i.event.emit("data-msg-received",{msg:e})}}));this.dataChannel.on("CMD_CHANNEL_ESTABLISHED",(function(){n.LoggerFactory.info(f,"cmd dataChannel connection established.");i.event.emit("data-channel-established","DataChannel")}));this.dataChannel.on("CMD_CHANNEL_DISCONNECT",(function(){n.LoggerFactory.info(f,"cmd dataChannel connection disconnect.");i.event.emit("data-channel-disconnect","DataChannel")}))}},{key:"sendMessage",value:function e(r,n){var i;if(this.isCmd){var o;var a=this.cmdBuilder.buildCmdMessage({msg:n,userUid:r});return((o=this.dataChannel)===null||o===void 0?void 0:o.sendMessage(a))||false}var s=t.CmdMsgPacketUtils.msgBodyToArrayBuffer(n);return((i=this.dataChannel)===null||i===void 0?void 0:i.sendMessage(s))||false}},{key:"reset",value:function e(){if(this.dataChannel){this.dataChannel.off("CMD_MSG_REVEIVED");this.dataChannel.off("CMD_CHANNEL_ESTABLISHED");this.dataChannel.close();delete this.dataChannel}}}])}()}))},4404:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(8024),r(7354),r(5268),r(4772),r(3652)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.GlobalVariables=e.GlobalVariableManager=void 0;r=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return a=t.done,t},e:function e(t){s=!0,o=t},f:function e(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=m(e,"string");return"symbol"==y(t)?t:t+""}function m(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function y(e){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var _=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":y(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var b=new o.Log({module:"GlobalVariables"});var E=e.GlobalVariables=function(){function e(){h(this,e);this.audioStatisticCache=[];this.videoStatisticCache=[];this.playTrackKpi={startPlayTime:0,iceCandidateStart:0,iceCandidateComplete:0,icePairStart:0,iceChecking:0,iceComplete:0,dtlsComplete:0,glsbRequest:0,glsbRespone:0,negotiateSDPRequest:0,negotiateSDPRespone:0,audioPlaySucc:0,videoPlaySucc:0,endPlayTime:0,videoTimeOut:0,audioTimeOut:0};this.pullMediaParams={}}return v(e,[{key:"updatePlayTrackKpi",value:function e(n){this.playTrackKpi[n]=r["default"].getCurrentLocalTimestamp();if(/^(ice|dtls).*/gi.test(n)){this.addKeyInfoMsg(n,this.playTrackKpi[n])}if(["endPlayTime","videoTimeOut","audioTimeOut"].includes(n)){return}var i=this.checkKpiDataReady();if(i){t.LoggerFactory.info("KPI","startPlay time spent analysis( gslbDispatch cost: ".concat((this.playTrackKpi.glsbRespone||0)-(this.playTrackKpi.glsbRequest||0),"ms; negotiateSDP cost: ").concat(this.playTrackKpi.negotiateSDPRespone-this.playTrackKpi.negotiateSDPRequest,"ms; localICE candidate collect cost: ").concat(this.playTrackKpi.iceCandidateComplete-this.playTrackKpi.iceCandidateStart,"ms; Connection establish total cost: ").concat((this.playTrackKpi.dtlsComplete||0)-this.playTrackKpi.icePairStart,"ms; ICE Connectivity check: ").concat((this.playTrackKpi.iceComplete||0)-(this.playTrackKpi.iceChecking||0),"ms; DTLS negotiate cost: ").concat((this.playTrackKpi.dtlsComplete||0)-(this.playTrackKpi.iceComplete||0),"ms; first frame cost: ").concat(Math.max(this.playTrackKpi.videoPlaySucc,this.playTrackKpi.audioPlaySucc)-this.playTrackKpi.startPlayTime,"ms"))}}},{key:"checkKpiDataReady",value:function e(){var t=true;for(var r in this.playTrackKpi){if(!["videoTimeOut","audioTimeOut","endPlayTime","glsbRespone","glsbRequest"].includes(r)&&!this.playTrackKpi[r]){if(["videoPlaySucc","audioPlaySucc"].includes(r)){if(!this.sfuInfo.aSsrc&&!this.sfuInfo.vSsrc){t=false;break}if(r==="audioPlaySucc"&&this.sfuInfo.aSsrc){t=false;break}if(r==="videoPlaySucc"&&this.sfuInfo.vSsrc){t=false;break}}else{t=false;break}}}return t}},{key:"getPlayTrackKpi",value:function e(){return this.playTrackKpi}},{key:"getSfuInfo",value:function e(){return this.sfuInfo}},{key:"getLocalSfuInfo",value:function e(){return this.localSfuInfo}},{key:"setSfuInfo",value:function e(t){if(t.ipAddress){t.ipAddress=r["default"].isIpv6(t.ipAddress)?"[".concat(t.ipAddress,"]"):t.ipAddress}this.sfuInfo=t}},{key:"setLocalSfuInfo",value:function e(t){if(t.ipAddress){t.ipAddress=r["default"].isIpv6(t.ipAddress)?"[".concat(t.ipAddress,"]"):t.ipAddress}this.localSfuInfo=t}},{key:"setStreamParams",value:function e(t){if(!this.streamParams){this.streamParams=t}else{this.streamParams=f(f({},this.streamParams),t)}}},{key:"getStreamParams",value:function e(){return this.streamParams}},{key:"updateAccessAddr",value:function e(t){if(!this.streamParams){this.streamParams={accessAddr:r["default"].isIpv6(t)?"[".concat(t,"]"):t}}else{this.streamParams.accessAddr=r["default"].isIpv6(t)?"[".concat(t,"]"):t}}},{key:"setPullMediaParams",value:function e(t){if(this.pullMediaParams.clientAddr){delete t.clientAddr}else{t.clientAddr=r["default"].isIpv6(t.clientAddr)?"[".concat(t.clientAddr,"]"):t.clientAddr}this.pullMediaParams=f(f({},this.pullMediaParams),t)}},{key:"updateClientAddr",value:function e(t){if(!t){return}if(!this.pullMediaParams.clientAddr){this.pullMediaParams.clientAddr=r["default"].isIpv6(t)?"[".concat(t,"]"):t}}},{key:"getPullMediaParams",value:function e(){return this.pullMediaParams}},{key:"addVideoStatisticCache",value:function e(t){this.videoStatisticCache.push(t)}},{key:"addAudioStatisticCache",value:function e(t){this.audioStatisticCache.push(t)}},{key:"calcPlayDuration",value:function e(){return Math.round((this.playTrackKpi.endPlayTime-this.playTrackKpi.startPlayTime)/1e3)}},{key:"getMediaFreezeStatistic",value:function e(t){var r=this[t===n.MediaType.TRACK_TYPE_AUDIO?"audioStatisticCache":"videoStatisticCache"];var i=0;var o=0;var a=0;var u=0;var c=s(r),l;try{for(c.s();!(l=c.n()).done;){var f=l.value;o+=f.total200FreezeCnt;i+=f.total200FreezeTime;if(t===n.MediaType.TRACK_TYPE_VIDEO){u+=f.total600VFreezeCnt;a+=f.total600VFreezeTime}}}catch(e){c.e(e)}finally{c.f()}if(t===n.MediaType.TRACK_TYPE_VIDEO){return{freeze200Count:o,freeze200Duration:i,freeze600Count:u,freeze600Duration:a}}return{freeze200Count:o,freeze200Duration:i}}},{key:"calcAverageStatistic",value:function e(){var t={afreeze200Cnt:0,vfreeze200Cnt:0,vfreeze600Cnt:0};var r=0;var n=this.audioStatisticCache.length>0?this.audioStatisticCache[this.audioStatisticCache.length-1].totalPacketsReceived:0;var i=0;var o=0;var a=0;var u=0;var c=0;var l=0;var f=s(this.audioStatisticCache),d;try{for(f.s();!(d=f.n()).done;){var h=d.value;t.afreeze200Cnt+=h.total200FreezeCnt;a+=h.total200FreezeTime;c+=h.totalStatisticTime;r+=h.lostPktCnt;i+=h.bitRate;o+=h.jitter;l+=h.rtt}}catch(e){f.e(e)}finally{f.f()}t.afreeze200Rate=Math.round(a*100/Math.max(c,1));t.aRecvBandwidthMean=Math.round(i/Math.max(this.audioStatisticCache.length,1));t.aRecvLostMean=Math.round(r*100/Math.max(n+r,1));t.aRecvJitter=Math.round(o/Math.max(this.audioStatisticCache.length,1));t.aRecvRttMean=Math.round(l/Math.max(this.audioStatisticCache.length,1));r=0;n=this.videoStatisticCache.length>0?this.videoStatisticCache[this.videoStatisticCache.length-1].totalPacketsReceived:0;i=0;o=0;a=0;c=0;l=0;var p=s(this.videoStatisticCache),v;try{for(p.s();!(v=p.n()).done;){var g=v.value;t.vfreeze200Cnt+=g.total200FreezeCnt;t.vfreeze600Cnt+=g.total600VFreezeCnt;a+=g.total200FreezeTime;u+=g.total600VFreezeTime;c+=g.totalStatisticTime;r+=g.lostPktCnt;i+=g.bitRate;o+=g.jitter;l+=g.rtt}}catch(e){p.e(e)}finally{p.f()}t.vfreeze200Rate=Math.round(a*100/Math.max(c,1));t.vfreeze600Rate=Math.round(u*100/Math.max(c,1));t.vRecvBandwidthMean=Math.round(i/Math.max(this.videoStatisticCache.length,1));t.vRecvLostMean=Math.round(r*100/Math.max(n+r,1));t.vRecvJitter=Math.round(o/Math.max(this.videoStatisticCache.length,1));t.vRecvRttMean=Math.round(l/Math.max(this.videoStatisticCache.length,1));return t}},{key:"addKeyInfoMsg",value:function e(t,r){if(!this.pullMediaParams.keyInfoMsg){this.pullMediaParams.keyInfoMsg={}}if(t==="iceCandidateComplete"&&this.pullMediaParams.keyInfoMsg.iceCandidateStart){this.pullMediaParams.keyInfoMsg[t]=r-this.pullMediaParams.keyInfoMsg.iceCandidateStart}else if(t==="iceChecking"&&this.pullMediaParams.keyInfoMsg.icePairStart){this.pullMediaParams.keyInfoMsg[t]=r-this.pullMediaParams.keyInfoMsg.icePairStart}else if(t==="iceComplete"&&this.pullMediaParams.keyInfoMsg.icePairStart){this.pullMediaParams.keyInfoMsg[t]=r-this.pullMediaParams.keyInfoMsg.icePairStart-(this.pullMediaParams.keyInfoMsg.iceChecking||0)}else if(t==="dtlsComplete"&&this.pullMediaParams.keyInfoMsg.icePairStart){this.pullMediaParams.keyInfoMsg[t]=r-this.pullMediaParams.keyInfoMsg.icePairStart-((this.pullMediaParams.keyInfoMsg.iceChecking||0)+(this.pullMediaParams.keyInfoMsg.iceComplete||0))}else{this.pullMediaParams.keyInfoMsg[t]=r}}}])}();_([(0,i.printfDecorator)(b)],E.prototype,"setSfuInfo",null);_([(0,i.printfDecorator)(b)],E.prototype,"setLocalSfuInfo",null);var S=e.GlobalVariableManager=function(){function e(){h(this,e)}return v(e,null,[{key:"addInstance",value:function t(r){e.globalVariableMap.set(r,new E)}},{key:"getInstance",value:function t(r){return e.globalVariableMap.get(r)}},{key:"delInstance",value:function t(r){if(r){e.globalVariableMap["delete"](r)}else{e.globalVariableMap.clear()}}}])}();S.globalVariableMap=new Map}))},4868:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(4046),r(8880),r(8024),r(7098),r(9974),r(9611),r(8066),r(4404),r(1913),r(6360),r(5268),r(7423),r(3652),r(4772)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l,f,d,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.PeerConnectionsManager=void 0;i=v(i);function v(e){return e&&e.__esModule?e:{default:e}}function g(){"use strict";g=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function _(){}function b(){}var E={};c(E,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(x([])));w&&w!==r&&n.call(w,a)&&(E=w);var C=b.prototype=y.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==T(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=d;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=f(t,r,n);if("normal"===c.type){if(i=n.done?v:h,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=v,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(T(t)+" is not iterable")}return _.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),c(R.prototype,s,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),c(C,u,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function m(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){m(o,n,i,a,s,"next",e)}function s(e){m(o,n,i,a,s,"throw",e)}a(void 0)}))}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function E(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){var t=w(e,"string");return"symbol"==T(t)?t:t+""}function w(e,t){if("object"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e){"@babel/helpers - typeof";return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}var C=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":T(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var A=new h.Log({module:"PeerConnectionsManager"});var R="PeerConnectionsManager";var I=e.PeerConnectionsManager=function(){function e(o,a,s){_(this,e);this.connectionId=s;this.eventEmitter=a;this.stats=o;if(i["default"].isOnlySupportUnfiedPlan()){this.sdpDescMode="unified-plan";this.rtcSdp=new r.UnifiedPlanSDPEditor}else{this.sdpDescMode="plan-b";this.rtcSdp=new t.PlanbSDPEditor}n.LoggerFactory.debug(R,"ConnectionsManager, SDP mode: ".concat(this.sdpDescMode))}return E(e,[{key:"getConnectionId",value:function e(){return this.connectionId}},{key:"isConnectionsExist",value:function e(){return!!this.peerConnection}},{key:"isConnectionEstablished",value:function e(){var t;return!!(this.peerConnection&&((t=this.peerConnection.connection)===null||t===void 0?void 0:t.connectionState)==="connected")}},{key:"initConnectionAndSdp",value:function(){var e=y(g().mark((function e(t,r,i){var o=this,a;var s,u,l,f,d,h;return g().wrap((function e(p){while(1)switch(p.prev=p.next){case 0:s=this.peerConnection||this.createPeerConnection();if(this.dataChanel){this.dataChanel.reset()}A.info("initConnectionAndSdp",t);this.dataChanel=new c.DataChannelMsgManager(this.eventEmitter);u={uid:(i===null||i===void 0?void 0:i.uid)||0,isCmd:(i===null||i===void 0?void 0:i.isCmd)||false,connection:this.getConnection(),sendSsrc:(i===null||i===void 0?void 0:i.sendSsrc)||0,receiveSsrc:(i===null||i===void 0?void 0:i.receiveSsrc)||0,msgFormat:0};A.info("connection:".concat(u.connection));this.dataChanel.initChannel(u);this.innerChanel=s.connection.createDataChannel("_inner");this.innerChanel.onmessage=function(){var e=y(g().mark((function e(t){var r;return g().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t.data)));A.info("innerChanel onmessage",r);if(!(r.type==="answer")){n.next=5;break}n.next=5;return o.setRemoteDescription({type:"answer",sdp:r.msg},"innerChanel");case 5:case"end":return n.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();A.info("initConnectionAndSdp, receiveAudio : "+t.receiveAudio+", receiveVideo : "+t.receiveVideo);p.next=12;return this.createOffer({offerToReceiveAudio:t.receiveAudio,offerToReceiveVideo:t.receiveVideo});case 12:l=p.sent;if(l){p.next=15;break}return p.abrupt("return");case 15:f=this.rtcSdp.getBrowserDefaultSsrc(l.sdp);if(f.audioSsrc){s.audioSendSsrc=f.audioSsrc;s.sendSsrcsMapping.set(2,f.audioSsrc)}d=this.rtcSdp.transformOfferSdp(l===null||l===void 0?void 0:l.sdp);A.info("initConnectionAndSdp transformedSdp",l===null||l===void 0?void 0:l.sdp,d);p.next=21;return this.setLocalDescription({type:"offer",sdp:d},"initConnectionAndSdp");case 21:this.onConnection(s,r.onTrackHandler);this.iceAddressCollect(s.connection);h=(a=s.connection.localDescription)===null||a===void 0?void 0:a.sdp;n.LoggerFactory.debug(R,"setLocalDescription, sdp offer: ".concat(this.rtcSdp.printSdpInfo(h)));p.next=27;return this.setLocalDescription({type:"offer",sdp:this.rtcSdp.transformOfferSdp(h)},"initConnectionAndSdp noTCPCandidateSdp");case 27:case"end":return p.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getLocalSDP",value:function e(){var t,r;return this.rtcSdp.modifySdpCandidates((t=this.peerConnection)===null||t===void 0||(t=t.connection.localDescription)===null||t===void 0?void 0:t.sdp,(r=this.peerConnection)===null||r===void 0?void 0:r.candidate)}},{key:"destroyPeerConnection",value:function e(t){var r=this;if(this.peerConnection){clearTimeout(this.peerConnection.disConnectDelayHandleTimer);clearTimeout(this.peerConnection.connectionStatisticTimeOut);if(this.peerConnection.connection.signalingState!=="closed"){t===null||t===void 0||t.forEach((function(e){var t;return(t=r.peerConnection)===null||t===void 0?void 0:t.connection.removeTrack(e)}));this.peerConnection.connection.close();this.peerConnection.connectFailedTimes=0}this.eventEmitter.removeAllListeners("STARTUP_MEDIA_STATS");s.MediaStats.shutDownMediaStats(this.connectionId);delete this.peerConnection}if(this.dataChanel){this.dataChanel.reset();delete this.dataChanel}}},{key:"handleAnswerSdpFromServer",value:function(){var e=y(g().mark((function e(t){var r,i,a;var s,c;return g().wrap((function e(l){while(1)switch(l.prev=l.next){case 0:(r=u.GlobalVariableManager.getInstance(this.connectionId))===null||r===void 0||r.updatePlayTrackKpi("icePairStart");s=(i=this.peerConnection)===null||i===void 0?void 0:i.connection;c=this.rtcSdp.transformAnswerSdp(t,s===null||s===void 0||(a=s.localDescription)===null||a===void 0?void 0:a.sdp);n.LoggerFactory.debug(R,"handleAnswerSdpFromServer, sdp answer: ".concat(this.rtcSdp.printSdpInfo(c)));l.prev=4;l.next=7;return this.setRemoteDescription({type:"answer",sdp:c},"handleAnswerSdpFromServer");case 7:l.next=13;break;case 9:l.prev=9;l.t0=l["catch"](4);n.LoggerFactory.error(R,"setRemoteDescription error, answer sdp invalid or offer sdp invalid: ".concat(l.t0));throw new o.HwLLSError(o.ErrorCode.HWLLS_INTERNAL_ERROR,(l.t0===null||l.t0===void 0?void 0:l.t0.message)||"setRemoteDescription error, answer sdp invalid or offer sdp invalid");case 13:case"end":return l.stop()}}),e,this,[[4,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSfuInfoFromSdp",value:function e(t){var r=this.rtcSdp.getSfuInfo(t);r.connectionId=this.getConnectionId();return r}},{key:"getConnection",value:function e(){var t;if(!this.isConnectionsExist()){return undefined}return(t=this.peerConnection)===null||t===void 0?void 0:t.connection}},{key:"sendMessage",value:function e(t,r){var n;return(n=this.dataChanel)===null||n===void 0?void 0:n.sendMessage(t,r)}},{key:"modifyPublishOfferSdp",value:function(){var e=y(g().mark((function e(t){var r,n;var i,o,a,s,u,c,l,f,d=arguments;return g().wrap((function e(h){while(1)switch(h.prev=h.next){case 0:i=d.length>1&&d[1]!==undefined?d[1]:0;o=d.length>2&&d[2]!==undefined?d[2]:0;a=(r=this.peerConnection)===null||r===void 0?void 0:r.connection;if(a){h.next=5;break}return h.abrupt("return","");case 5:h.next=7;return this.createOffer();case 7:h.t1=n=h.sent;h.t0=h.t1===null;if(h.t0){h.next=11;break}h.t0=n===void 0;case 11:if(!h.t0){h.next=15;break}h.t2=void 0;h.next=16;break;case 15:h.t2=n.sdp;case 16:s=h.t2;if(o){if(this.sdpDescMode==="plan-b"){s=this.rtcSdp.deleteSSRC(s,o)}else{u=this.rtcSdp.deleteSSRC(s,(c=a.remoteDescription)===null||c===void 0?void 0:c.sdp,this.getMappingSsrcs(0),this.getMappingSsrcs(o))}}if(this.sdpDescMode==="plan-b"){s=this.rtcSdp.modifyPublishOfferSdp(s,i)}else{u=this.rtcSdp.modifyPublishOfferSdp(u?u.offerSdp:s,u?u.answerSdp:(l=a.remoteDescription)===null||l===void 0?void 0:l.sdp,t,this.getMappingSsrcs(i))}if(!(this.sdpDescMode==="plan-b")){h.next=27;break}h.next=22;return this.setLocalDescription({type:"offer",sdp:s},"modifyPublishOfferSdp");case 22:h.next=24;return this.setRemoteDescription(a.remoteDescription,"modifyPublishOfferSdp:"+this.sdpDescMode);case 24:f=s;h.next=32;break;case 27:h.next=29;return this.setLocalDescriptionShim(u.offerSdp);case 29:h.next=31;return this.setRemoteDescription({type:"answer",sdp:u.answerSdp},"modifyPublishOfferSdp:"+this.sdpDescMode);case 31:f=u.offerSdp;case 32:return h.abrupt("return",f);case 33:case"end":return h.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addTrack",value:function(){var e=y(g().mark((function e(t,r){var n,i;var o,a,s,u,c;return g().wrap((function e(l){while(1)switch(l.prev=l.next){case 0:o=(n=this.peerConnection)===null||n===void 0?void 0:n.connection;if(o){l.next=3;break}return l.abrupt("return",undefined);case 3:if(!(this.sdpDescMode==="plan-b")){l.next=5;break}return l.abrupt("return",o.addTrack(t,r));case 5:a=(i=o.localDescription)===null||i===void 0?void 0:i.sdp;s=this.getIdleSendTransceiver(o,t.kind==="audio"?f.MediaType.TRACK_TYPE_AUDIO:f.MediaType.TRACK_TYPE_VIDEO,a);if(!s){l.next=18;break}l.next=10;return s.sender.replaceTrack(t);case 10:s.direction=s.currentDirection===d.MediaDirection.RECV_ONLY?d.MediaDirection.SEND_RECV:d.MediaDirection.SEND_ONLY;c=this.rtcSdp.modifyAnswerDirection((u=o.remoteDescription)===null||u===void 0?void 0:u.sdp,s.mid);l.next=14;return this.setLocalDescriptionShim();case 14:l.next=16;return this.setRemoteDescription({type:"answer",sdp:c},"addTrack");case 16:l.next=25;break;case 18:A.info(R,"addTrack, no available sender, addTranscevier");l.next=21;return this.addTransceiver(o,t.kind==="audio"?f.MediaType.TRACK_TYPE_AUDIO:f.MediaType.TRACK_TYPE_VIDEO);case 21:s=l.sent;l.next=24;return s.sender.replaceTrack(t);case 24:s.direction=s.currentDirection===d.MediaDirection.RECV_ONLY?d.MediaDirection.SEND_RECV:d.MediaDirection.SEND_ONLY;case 25:return l.abrupt("return",s.sender);case 26:case"end":return l.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addTransceiver",value:function(){var e=y(g().mark((function e(t,r,n){var i,o;var a,s,u;return g().wrap((function e(c){while(1)switch(c.prev=c.next){case 0:t.addTransceiver(r,{direction:d.MediaDirection.INACTIVE});c.next=3;return this.createOffer();case 3:a=c.sent;c.next=6;return this.setLocalDescriptionShim(a===null||a===void 0?void 0:a.sdp);case 6:s=this.rtcSdp.getLeastMid(a===null||a===void 0?void 0:a.sdp);u=this.rtcSdp.generateMatchedAnswerWithOffer((n===null||n===void 0?void 0:n.answerSdp)||((i=t.remoteDescription)===null||i===void 0?void 0:i.sdp),s,r);if(n){n.offerSdp=a===null||a===void 0?void 0:a.sdp;n.answerSdp=u}c.next=11;return this.setRemoteDescription({type:"answer",sdp:u},"addTransceiver");case 11:return c.abrupt("return",(o=t.getTransceivers())===null||o===void 0?void 0:o.find((function(e){return"".concat(e.mid)===s})));case 12:case"end":return c.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"setLocalDescriptionShim",value:function(){var e=y(g().mark((function e(t){var r,n;return g().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(t){i.next=13;break}i.next=3;return this.createOffer();case 3:i.t1=n=i.sent;i.t0=i.t1===null;if(i.t0){i.next=7;break}i.t0=n===void 0;case 7:if(!i.t0){i.next=11;break}i.t2=void 0;i.next=12;break;case 11:i.t2=n.sdp;case 12:r=i.t2;case 13:i.next=15;return this.setLocalDescription({type:"offer",sdp:this.rtcSdp.transformOfferSdp(r||t)},"setLocalDescriptionShim");case 15:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getIdleSendTransceiver",value:function e(t,r,n){var i=t.getTransceivers();var o=this.rtcSdp.getAllMidsByType(n,r);return i===null||i===void 0?void 0:i.find((function(e){return o.includes("".concat(e.mid))&&e.currentDirection!==d.MediaDirection.SEND_ONLY&&e.currentDirection!==d.MediaDirection.SEND_RECV}))}},{key:"removeTrack",value:function e(t){var r;var n=(r=this.peerConnection)===null||r===void 0?void 0:r.connection;if(!n){return}if(n.signalingState!=="closed"){n.removeTrack(t)}}},{key:"getMappingSsrcs",value:function e(t){if(!t){return undefined}var r=this.peerConnection;if(!r){return undefined}if(!r.sendSsrcsMapping||r.sendSsrcsMapping.size<1){return t}if(typeof t==="number"){if(r.sendSsrcsMapping.has(t)){return r.sendSsrcsMapping.get(t)}return t}return t.map((function(e){if(r.sendSsrcsMapping.has(e)){return r.sendSsrcsMapping.get(e)}return e}))}},{key:"createOffer",value:function(){var e=y(g().mark((function e(t){var r;var n,i;return g().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n=(r=this.peerConnection)===null||r===void 0?void 0:r.connection;o.next=3;return n===null||n===void 0?void 0:n.createOffer(t);case 3:i=o.sent;return o.abrupt("return",i);case 5:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"iceCandidateListener",value:function e(t){n.LoggerFactory.info(R,"iceCandidate add listener");t.connection.onicecandidate=function(e){var r;n.LoggerFactory.info(R,"###onicecandidate: ".concat(n.LoggerFactory.shieldIpAddress(((r=e.candidate)===null||r===void 0?void 0:r.candidate)||"")));if(!e.candidate){return}if(!t.candidate){t.candidate=[]}t.candidate.push(e.candidate)}}},{key:"iceRestart",value:function e(t,r){var i=this;this.stats.reportConnectionStatus(0);this.createOffer({iceRestart:true}).then((function(e){var r;i.setLocalDescription({type:"offer",sdp:i.rtcSdp.transformOfferSdp(e===null||e===void 0?void 0:e.sdp)},"iceRestart");i.setRemoteDescription({sdp:(r=t.connection.remoteDescription)===null||r===void 0?void 0:r.sdp,type:"answer"},"iceRestart")}))["finally"]((function(){r&&r()}));t.connectFailedTimes++;if(t.connectFailedTimes>=1){n.LoggerFactory.error(R,"onconnectionstatechange, emit media error event.");this.eventEmitter.emit(a.HWLLSEvents.ERROR,{errCode:o.ErrorCode.HWLLS_MEDIA_NETWORK_ERROR,errDesc:o.ErrorMsg[o.ErrorCode.HWLLS_MEDIA_NETWORK_ERROR]});t.connectFailedTimes=0}}},{key:"onConnection",value:function e(t,r){var i=this;t.connection.ontrack=function(e){r(e)};t.connection.onnegotiationneeded=y(g().mark((function e(){var t;var r,n;return g().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:A.info("onnegotiationneeded");o.next=3;return i.createOffer({offerToReceiveAudio:true,offerToReceiveVideo:true});case 3:r=o.sent;if(r){o.next=6;break}return o.abrupt("return");case 6:n=i.rtcSdp.transformOfferSdp(r===null||r===void 0?void 0:r.sdp);o.next=9;return i.setLocalDescription({type:"offer",sdp:n},"onnegotiationneeded");case 9:(t=i.innerChanel)===null||t===void 0||t.send(l.CmdMsgPacketUtils.msgBodyToArrayBuffer(JSON.stringify({type:"offer",msg:n})));case 10:case"end":return o.stop()}}),e)})));t.connection.onconnectionstatechange=function(){n.LoggerFactory.info(R,"onconnectionstatechange, connect state is: ".concat(t.connection.connectionState));i.eventEmitter.emit(a.HWLLSEvents.MEDIA_CONNECTION_STATE_CHANGED,t.connection.connectionState);if(t.connection.connectionState==="connected"){var e;(e=u.GlobalVariableManager.getInstance(i.connectionId))===null||e===void 0||e.updatePlayTrackKpi("dtlsComplete");clearTimeout(t.connectionStatisticTimeOut);i.eventEmitter.emit("STARTUP_MEDIA_STATS");i.eventEmitter.emit(a.HWLLSEvents.PEER_JOIN)}if(["closed","disconnected","failed"].includes(t.connection.connectionState)){i.eventEmitter.emit(a.HWLLSEvents.STREAM_REMOVED);i.eventEmitter.emit(a.HWLLSEvents.PEER_LEAVE)}};t.connection.oniceconnectionstatechange=y(g().mark((function e(){var r,o,a;return g().wrap((function e(c){while(1)switch(c.prev=c.next){case 0:n.LoggerFactory.info(R,"oniceconnectionstatechange, iceConnectionState: ".concat(t.connection.iceConnectionState));if(!(t.connection.iceConnectionState==="disconnected")){c.next=6;break}if(!t.disConnectDelayHandleTimer){c.next=4;break}return c.abrupt("return");case 4:t.disConnectDelayHandleTimer=setTimeout((function(){n.LoggerFactory.info(R,"oniceconnectionstatechange, disConnect state delay handler, go iceRestart: ".concat(t.connection.iceConnectionState));i.iceRestart(t,(function(){clearTimeout(t.disConnectDelayHandleTimer);delete t.disConnectDelayHandleTimer}))}),5e3);return c.abrupt("return");case 6:clearTimeout(t.disConnectDelayHandleTimer);delete t.disConnectDelayHandleTimer;if(!(t.connection.iceConnectionState==="failed"||t.connection.iceConnectionState==="closed")){c.next=13;break}n.LoggerFactory.info(R,"[KPI] oniceconnectionstatechange, iceconnect failed, go iceRestart: ".concat(t.connection.iceConnectionState));i.iceRestart(t);c.next=24;break;case 13:if(!["connected","completed"].includes(t.connection.iceConnectionState)){c.next=23;break}n.LoggerFactory.info(R,"[KPI] oniceconnectionstatechange, iceconnect state: ".concat(t.connection.iceConnectionState));(r=u.GlobalVariableManager.getInstance(i.connectionId))===null||r===void 0||r.updatePlayTrackKpi("iceComplete");t.connectFailedTimes=0;c.next=19;return s.MediaStats.getCandidatePairProtocol(i.connectionId);case 19:o=c.sent;i.stats.reportConnectionStatus(1,o);c.next=24;break;case 23:if(t.connection.iceConnectionState==="checking"){n.LoggerFactory.info(R,"[KPI] oniceconnectionstatechange, iceconnect state: ".concat(t.connection.iceConnectionState));(a=u.GlobalVariableManager.getInstance(i.connectionId))===null||a===void 0||a.updatePlayTrackKpi("iceChecking")}case 24:case"end":return c.stop()}}),e)})))}},{key:"iceAddressCollect",value:function(){var e=y(g().mark((function e(t){var r,i=this;var o;return g().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:o=6e3;n.LoggerFactory.info(R,"[KPI] begin to do ice candidate");(r=u.GlobalVariableManager.getInstance(this.connectionId))===null||r===void 0||r.updatePlayTrackKpi("iceCandidateStart");a.next=5;return new Promise((function(e){var r;var a=function o(){n.LoggerFactory.info(R,"[KPI] ICE collect status: ".concat(t.iceGatheringState));if(t.iceGatheringState==="complete"){var s;clearTimeout(r);n.LoggerFactory.info(R,"[KPI] ICE collect complete");(s=u.GlobalVariableManager.getInstance(i.connectionId))===null||s===void 0||s.updatePlayTrackKpi("iceCandidateComplete");t.removeEventListener("icegatheringstatechange",a);e()}};t.addEventListener("icegatheringstatechange",a);r=setTimeout((function(){n.LoggerFactory.error(R,"[KPI] ICE collect fail");clearTimeout(r);t.removeEventListener("icegatheringstatechange",a);e()}),o)}));case 5:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createPeerConnection",value:function e(){var t=this;var r={rtcpMuxPolicy:"require",bundlePolicy:"max-bundle"};if(this.peerConnection){var n;(n=this.peerConnection.connection)===null||n===void 0||n.close()}var i=new RTCPeerConnection(r);this.peerConnection={connection:i,connectFailedTimes:0,sendSsrcsMapping:new Map};this.iceCandidateListener(this.peerConnection);this.eventEmitter.removeAllListeners("STARTUP_MEDIA_STATS");this.eventEmitter.once("STARTUP_MEDIA_STATS",(function(){A.info("startUp Media Stats");s.MediaStats.startUpMediaStats(t)}));this.peerConnection.connectionStatisticTimeOut=setTimeout((function(){var e;clearTimeout((e=t.peerConnection)===null||e===void 0?void 0:e.connectionStatisticTimeOut);t.eventEmitter.emit("STARTUP_MEDIA_STATS")}),6e3);return this.peerConnection}},{key:"setRemoteDescription",value:function e(t,r){var n,i;A.info("setRemoteDescription",r,t);var o=this.getSfuInfoFromSdp(t.sdp||"");(n=u.GlobalVariableManager.getInstance(this.connectionId))===null||n===void 0||n.setSfuInfo(o);return(i=this.peerConnection)===null||i===void 0||(i=i.connection)===null||i===void 0?void 0:i.setRemoteDescription(t)}},{key:"setLocalDescription",value:function e(t,r){var n,i;A.info("setLocalDescription",r,t);var o=this.getSfuInfoFromSdp(t.sdp||"");(n=u.GlobalVariableManager.getInstance(this.connectionId))===null||n===void 0||n.setLocalSfuInfo(o);return(i=this.peerConnection)===null||i===void 0?void 0:i.connection.setLocalDescription(t)}}])}();C([(0,p.printfDecorator)(A)],I.prototype,"initConnectionAndSdp",null);C([(0,p.printfDecorator)(A)],I.prototype,"getLocalSDP",null);C([(0,p.printfDecorator)(A)],I.prototype,"handleAnswerSdpFromServer",null);C([(0,p.printfDecorator)(A)],I.prototype,"addTransceiver",null);C([(0,p.printfDecorator)(A)],I.prototype,"createOffer",null);C([(0,p.printfDecorator)(A)],I.prototype,"setRemoteDescription",null)}))},5651:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7007),r(9611),r(9974),r(8024),r(1960),r(7354),r(5969),r(3652),r(1762)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RTCPlayer=void 0;a=d(a);s=f(s);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function e(n){return n?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=h(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n["default"]=e,r&&r.set(e,n),n}function d(e){return e&&e.__esModule?e:{default:e}}function h(e){"@babel/helpers - typeof";return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){"use strict";p=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function l(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};c(S,a,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,a)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==h(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=d;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=f(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(h(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=c(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,c(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),c(R.prototype,s,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),c(C,u,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function v(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){v(o,n,i,a,s,"next",e)}function s(e){v(o,n,i,a,s,"throw",e)}a(void 0)}))}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function _(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=E(e,"string");return"symbol"==h(t)?t:t+""}function E(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var S=new u.Log({module:"RTCPlayer"});var w=e.RTCPlayer=function(){function e(n){var o=this;m(this,e);S.info("constructor",n);this.module_="RTCPlayer";this.mediaStream_=new MediaStream;this.track_=n.track;this.playerDiv_=n.playerDiv;this.playerId_=n.playerId;this.playerElement_=null;this.state_="NONE";this.manualPauseFlag_=false;this.event_=new t.EventEmitter;this.pauseCount=0;this.customEvent=document.createEvent("CustomEvent");this.customEvent.initEvent("appPause");this.listenHandlers={canPlayHandler:this.canPlayHandler.bind(this),playingHandler:this.playingHandler.bind(this),playerEndedHandler:this.playerEndedHandler.bind(this),playerPausedHandler:this.playerPausedHandler.bind(this),trackEndedHandler:this.trackEndedHandler.bind(this),trackMutedHandler:this.trackMutedHandler.bind(this),trackUnmutedHandler:this.trackUnmutedHandler.bind(this),playHandler:null,backgroundHandler:this.backgroundHandler.bind(this),foregroundHandler:this.foregroundHandler.bind(this),appPauseHandler:this.appPauseHandler.bind(this),playInterruptHandler:null};this.deBounceHandlers={videoHandler:a["default"].debounce((function(){i.LoggerFactory.debug("".concat(o.module_,"#").concat(o.playerId_),"handleEvents, player is paused");o.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,{event:c.PlayerStateTraceEvent.PLAYER_PAUSE,type:"".concat(o.module_),streamId:o.playerId_});o.state_="PAUSED";i.LoggerFactory.debug("".concat(o.module_,"#").concat(o.playerId_),"try to play again");o.event_.emit("videoCanPlay")}),800,false),audioHandler:a["default"].debounce((function(){i.LoggerFactory.debug("".concat(o.module_,"#").concat(o.playerId_),"handleEvents, player is paused");o.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,{event:c.PlayerStateTraceEvent.PLAYER_PAUSE,type:"".concat(o.module_),streamId:o.playerId_});o.state_="PAUSED";i.LoggerFactory.debug("".concat(o.module_,"#").concat(o.playerId_),"try to play again");o.event_.emit("audioCanPlay")}),800,false)}}return _(e,[{key:"on",value:function e(t,r){this.event_.on(t,r)}},{key:"off",value:function e(t,r){this.event_.removeListener(t,r)}},{key:"stop",value:function e(){this.closeAllEvents();clearTimeout(this.playTimeOutTimer);if(this.playerElement_){this.playerElement_.srcObject=null}this.playerElement_=null;this.mediaStream_=new MediaStream;this.manualPauseFlag_=false;this.event_.emit("playInterrupt");i.LoggerFactory.info(this.module_,"stop success")}},{key:"replaceTrack",value:function e(t){i.LoggerFactory.info(this.module_,"replaceTrack start");var r=this.module_.indexOf("Audio")>0?this.mediaStream_.getAudioTracks():this.mediaStream_.getVideoTracks();var n=r.length?r[0]:null;if(n===t){return}n&&this.mediaStream_.removeTrack(n);this.mediaStream_.addTrack(t);this.track_=t;this.manualPauseFlag_=false}},{key:"resume",value:function(){var e=g(p().mark((function e(t){var r=this;return p().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:this.manualPauseFlag_=false;return o.abrupt("return",new Promise((function(e,o){if(r.playerElement_){r.playerElement_.play().then((function(){i.LoggerFactory.info(r.module_,"audio player resume success, streamId:".concat(r.playerId_,", playParameters: ").concat(JSON.stringify(t)));e()}))["catch"]((function(e){i.LoggerFactory.error(r.module_,"player resume failed, errmsg=".concat(e," , playParameters: ").concat(JSON.stringify(t)));if(e.name==="NotAllowedError"){o(new n.HwLLSError(n.ErrorCode.HWLLS_PLAY_NOT_ALLOW))}else{o(new n.HwLLSError(n.ErrorCode.HWLLS_INTERNAL_ERROR,e.message))}}))}else{o(new n.HwLLSError(n.ErrorCode.HWLLS_INTERNAL_ERROR,"resume failed, element is null"))}})));case 2:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"pause",value:function e(){if(this.playerElement_){this.playerElement_.pause();if(this.state_!=="STOPPED"){this.manualPauseFlag_=true}}}},{key:"doPlay",value:function(){var e=g(p().mark((function e(t,r,o){var a=this;var u;return p().wrap((function e(c){while(1)switch(c.prev=c.next){case 0:this.manualPauseFlag_=false;c.next=3;return s.PlayerAdapter.multiPlatformAdapter();case 3:if(this.module_.indexOf("Video")>0){u=", screenFit:".concat(o.objectFit)}else{u=", volume:".concat(o.volume,", muted:").concat(o.muted)}return c.abrupt("return",this.playerElement_.play().then((function(){var e,r;i.LoggerFactory.info(a.module_,"play success, parentDiv id:".concat((e=a.playerDiv_)===null||e===void 0?void 0:e.id,", resolutionId or streamId:").concat(a.playerId_,", physical track id:").concat((r=a.track_)===null||r===void 0?void 0:r.id).concat(u));a.afterPlayStrategy();t(null)}))["catch"]((function(e){var t,o;i.LoggerFactory.error(a.module_,"play failed, errmsg=".concat(e,",parentDiv id:").concat((t=a.playerDiv_)===null||t===void 0?void 0:t.id,", resolutionId or streamId:").concat(a.playerId_,", physical track id:").concat((o=a.track_)===null||o===void 0?void 0:o.id).concat(u));if(e.name==="NotAllowedError"){r(new n.HwLLSError(n.ErrorCode.HWLLS_PLAY_NOT_ALLOW))}else{r(new n.HwLLSError(n.ErrorCode.HWLLS_INTERNAL_ERROR,e.message))}}))["finally"]((function(){clearTimeout(a.playTimeOutTimer);a.listenHandlers.playInterruptHandler&&a.event_.removeListener("playInterrupt",a.listenHandlers.playInterruptHandler)})));case 5:case"end":return c.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"closeAllEvents",value:function e(){var t,r,n,i,a,s,u,c,l,f;(t=this.playerElement_)===null||t===void 0||t.removeEventListener("canplay",this.listenHandlers.canPlayHandler);(r=this.playerElement_)===null||r===void 0||r.removeEventListener("playing",this.listenHandlers.playingHandler);(n=this.playerElement_)===null||n===void 0||n.removeEventListener("ended",this.listenHandlers.playerEndedHandler);(i=this.playerElement_)===null||i===void 0||i.removeEventListener("pause",this.listenHandlers.playerPausedHandler);(a=this.playerElement_)===null||a===void 0||a.removeEventListener("appPause",this.listenHandlers.appPauseHandler);this.deBounceHandlers.videoHandler.cancel();this.deBounceHandlers.audioHandler.cancel();(s=this.track_)===null||s===void 0||s.removeEventListener("ended",this.listenHandlers.trackEndedHandler);(u=this.track_)===null||u===void 0||u.removeEventListener("mute",this.listenHandlers.trackMutedHandler);(c=this.track_)===null||c===void 0||c.removeEventListener("unmute",this.listenHandlers.trackUnmutedHandler);this.listenHandlers.playHandler&&((l=this.event_)===null||l===void 0?void 0:l.removeListener("videoCanPlay",this.listenHandlers.playHandler));this.listenHandlers.playHandler&&((f=this.event_)===null||f===void 0?void 0:f.removeListener("audioCanPlay",this.listenHandlers.playHandler));this.event_.removeListener("FOREGROUND",this.listenHandlers.foregroundHandler);this.event_.removeListener("BACKGROUND",this.listenHandlers.backgroundHandler);o.SysEventsBus.unregister(this.sysEventRegisterUid)}},{key:"handleEvents",value:function e(){this.playerElement_.addEventListener("canplay",this.listenHandlers.canPlayHandler);this.playerElement_.addEventListener("playing",this.listenHandlers.playingHandler);this.playerElement_.addEventListener("ended",this.listenHandlers.playerEndedHandler);this.playerElement_.addEventListener("pause",this.listenHandlers.playerPausedHandler);this.playerElement_.addEventListener("appPause",this.listenHandlers.appPauseHandler);this.track_.addEventListener("ended",this.listenHandlers.trackEndedHandler);this.track_.addEventListener("mute",this.listenHandlers.trackMutedHandler);this.track_.addEventListener("unmute",this.listenHandlers.trackUnmutedHandler);this.event_.on("FOREGROUND",this.listenHandlers.foregroundHandler);this.event_.on("BACKGROUND",this.listenHandlers.backgroundHandler);this.sysEventRegisterUid=o.SysEventsBus.register(this.event_)}},{key:"playInterruptHandler",value:function e(t){t(new n.HwLLSError(n.ErrorCode.HWLLS_INTERNAL_ERROR,"AbortError: The play() request was interrupted by a new load request."))}},{key:"afterPlayStrategy",value:function e(){var t=this;if(!this.pauseCount&&a["default"].getPlatform().indexOf("Ios 15")>=0){i.LoggerFactory.error(this.module_,a["default"].getPlatform());var r=setTimeout((function(){clearTimeout(r);t.playerElement_.pause();t.pauseCount++}),100)}}},{key:"appPauseHandler",value:function e(){this.manualPauseFlag_=true}},{key:"foregroundHandler",value:function e(){i.LoggerFactory.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, application is foreground");this.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,{event:c.PlayerStateTraceEvent.FOREGROUND,type:this.module_});if(this.module_.indexOf("Audio")>0&&this.track_){if(this.trackEnable!==this.track_.enabled){this.track_.enabled=this.trackEnable}}if(this.state_==="PAUSED"){if(this.module_.indexOf("Video")>0){this.event_.emit("videoCanPlay")}else{this.event_.emit("audioCanPlay")}}}},{key:"backgroundHandler",value:function e(){i.LoggerFactory.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, application is background");this.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,{event:c.PlayerStateTraceEvent.BACKGROUND,type:this.module_});if(this.module_.indexOf("Audio")>0&&this.track_){this.trackEnable=this.track_.enabled;if(this.trackEnable){this.track_.enabled=false}}}},{key:"canPlayHandler",value:function e(){i.LoggerFactory.info("".concat(this.module_,"#").concat(this.playerId_),"[KPI] handleEvents, player is canplay status");this.event_.emit(this.module_.indexOf("Video")>0?"videoCanPlay":"audioCanPlay");if(this.module_.indexOf("Video")){this.videoBufferedReday=true}this.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,{event:c.PlayerStateTraceEvent.PALYER_CANPLAY,type:"".concat(this.module_),streamId:this.playerId_})}},{key:"playingHandler",value:function e(t){i.LoggerFactory.info("".concat(this.module_,"#").concat(this.playerId_),"[KPI] handleEvents, player is starting playing");this.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,{event:c.PlayerStateTraceEvent.PALYER_PLAYING,type:"".concat(this.module_),streamId:this.playerId_});this.state_="PLAYING";this.manualPauseFlag_=false;if(s["default"].getFullScreenStatus()&&(!t.target.offsetParent||/^(<body>|<div\sid="player_container").*/.test(t.target.offsetParent.outerHTML))&&this.module_.indexOf("Video")>0){var n;var o=(n=this.playerDiv_)===null||n===void 0?void 0:n.querySelector("#audio_".concat(this.playerId_));o===null||o===void 0||o.play();this.event_.emit(r.HWLLSEvents.FULLSCREEN_STATUS_CHANGED,{isFullScreen:s["default"].getFullScreenStatus(),isPause:false})}}},{key:"playerEndedHandler",value:function e(){i.LoggerFactory.info("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, player is ended");this.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,{event:c.PlayerStateTraceEvent.TRACK_ENDED,type:"".concat(this.module_),streamId:this.playerId_});if(this.state_!=="STOPPED"){this.state_="STOPPED"}}},{key:"playerPausedHandler",value:function e(t){if(this.manualPauseFlag_){return}if(s["default"].getFullScreenStatus()&&(!t.target.offsetParent||/^(<body>|<div\sid="player_container").*/.test(t.target.offsetParent.outerHTML))&&this.playerElement_.paused&&this.module_.indexOf("Video")>0){var n;var i=(n=this.playerDiv_)===null||n===void 0?void 0:n.querySelector("#audio_".concat(this.playerId_));if(i){i.dispatchEvent(this.customEvent);i.pause();this.event_.emit(r.HWLLSEvents.FULLSCREEN_STATUS_CHANGED,{isFullScreen:s["default"].getFullScreenStatus(),isPause:true})}return}if(this.module_.indexOf("Video")>0){this.deBounceHandlers.videoHandler.exec()}else{this.deBounceHandlers.audioHandler.exec()}}},{key:"trackEndedHandler",value:function e(){i.LoggerFactory.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, player track is ended");this.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,{event:c.PlayerStateTraceEvent.TRACK_ENDED,type:"".concat(this.module_),streamId:this.playerId_});if(this.state_!=="STOPPED"){this.state_="STOPPED"}}},{key:"trackMutedHandler",value:function e(){i.LoggerFactory.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, track is muted");this.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,{event:c.PlayerStateTraceEvent.TRACK_MUTE,type:"".concat(this.module_),streamId:this.playerId_});if(this.state_!=="PAUSED"){this.state_="PAUSED"}}},{key:"trackUnmutedHandler",value:function e(){i.LoggerFactory.debug("".concat(this.module_,"#[").concat(this.playerId_,"]"),"handleEvents, track is unmuted");this.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,{event:c.PlayerStateTraceEvent.TRACK_UNMUTE,type:"".concat(this.module_),streamId:this.playerId_});if(this.state_==="PAUSED"){this.state_="PLAYING"}}}])}()}))},5969:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(9611),r(8024),r(7098),r(7354)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=e.PosterMask=e.PlayerAdapter=e.LoadingMask=e.FullScreen=void 0;n=o(n);i=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return a=t.done,t},e:function e(t){s=!0,o=t},f:function e(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(){"use strict";l=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,c,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){f(o,n,i,a,s,"next",e)}function s(e){f(o,n,i,a,s,"throw",e)}a(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=m(e,"string");return"symbol"==a(t)?t:t+""}function m(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var y="PlayerUtils";var _=e.PlayerAdapter=function(){function e(){h(this,e)}return v(e,null,[{key:"multiPlatformAdapter",value:function(){var e=d(l().mark((function e(){return l().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(e){if(i["default"].isWKWebview()){var t=window.WeixinJSBridge;if(t){r.LoggerFactory.info(y,"multiPlatformAdapter handle begin");t.invoke("getNetworkType",{},(function(){e()}),false)}else{document.addEventListener("WeixinJSBridgeReady",(function(){r.LoggerFactory.info(y,"multiPlatformAdapter WeixinJSBridgeReady,  handle begin");t.invoke("getNetworkType",{},(function(){e()}),false)}))}}else{e()}})));case 1:case"end":return t.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}])}();var b=e.LoadingMask=function(){function e(t){h(this,e);this.loadingTimer={lastLoadingStatus:""};this.loadingParentDiv=t}return v(e,[{key:"loadingMask",value:function e(t){var r=this;var n=this.loadingParentDiv.querySelector("#loadingMask");if(!n&&t){n=i["default"].createLoadingMask();this.loadingParentDiv.appendChild(n)}if(n){var o=t?"block":"none";if(this.loadingTimer.timer){this.loadingTimer.lastLoadingStatus=o;return}if(n.style.display!==o){n.style.display=o}if(!t){return}this.loadingTimer.timer=setTimeout((function(){clearTimeout(r.loadingTimer.timer);delete r.loadingTimer.timer;if(r.loadingTimer.lastLoadingStatus==="none"){n.style.display="none"}r.loadingTimer.lastLoadingStatus=""}),300)}}},{key:"stopLoadingMask",value:function e(){clearTimeout(this.loadingTimer.timer);delete this.loadingTimer.timer;this.loadingTimer.lastLoadingStatus="";var t=this.loadingParentDiv.querySelector("#loadingMask");if(t){var r;(r=this.loadingParentDiv)===null||r===void 0||r.removeChild(t)}}}])}();var E=e.PosterMask=function(){function e(){h(this,e)}return v(e,null,[{key:"preLoadPoster",value:function t(n){if(e.preLoadImages.has(n)){return}var i=document.createElement("div");i.setAttribute("id","poster_div");i.style.width="100%";i.style.height="100%";i.style.position="absolute";i.style.display="none";i.style["z-index"]=98;i.style["justify-content"]="center";i.style["align-items"]="center";i.style.overflow="hidden";var o=new Image;o.src=n;i.appendChild(o);e.preLoadImages.set(n,i);if(e.preLoadImages.size>5){var a=s(e.preLoadImages.keys()),u;try{for(a.s();!(u=a.n()).done;){var c=u.value;e.preLoadImages["delete"](c);break}}catch(e){a.e(e)}finally{a.f()}}o.onload=function(){i.style["background-color"]="#000";r.LoggerFactory.info(y,"preLoadPoster success")};o.onerror=function(){r.LoggerFactory.error(y,"preLoadPoster failed");e.disPlayPoster(false,n);e.preLoadImages["delete"](n)}}},{key:"attachPoster",value:function r(n,i,o){var a=e.preLoadImages.get(i);if(!a){return}var s=a.querySelector("img");if(o===t.PosterMode.FILL){s.style.width="100%";s.style.height="100%"}else{s.style.width="auto";s.style.height="auto"}if(!n.querySelector("#poster_div img")){n.appendChild(a)}}},{key:"detachPoster",value:function t(r,n){var i=e.preLoadImages.get(n);if(!i){return}r.removeChild(i);i.style.display="none"}},{key:"disPlayPoster",value:function t(r,n){var i=e.preLoadImages.get(n);if(!i){return}if(r){i.style.display="flex"}else{i.style.display="none"}}}])}();E.preLoadImages=new Map;var S=e.FullScreen=function(){function e(){h(this,e);this.supportFullScreenApi={};this.fullScreenApiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];this.isFullScreen=false;var t=s(this.fullScreenApiMap),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;if(n[1]in document){for(var i=0;i<this.fullScreenApiMap[0].length;i++){this.supportFullScreenApi[this.fullScreenApiMap[0][i]]=n[i]}break}}}catch(e){t.e(e)}finally{t.f()}if(Object.keys(this.supportFullScreenApi).length<1){this.supportFullScreenApi={requestFullscreen:"webkitRequestFullscreen",exitFullscreen:"webkitExitFullscreen",fullscreenElement:"webkitFullscreenElement",fullscreenEnabled:"webkitFullscreenEnabled",fullscreenchange:"webkitfullscreenchange",fullscreenerror:"webkitfullscreenerror"}}this.addFullScreenEventsListener()}return v(e,[{key:"enterFullScreen",value:function e(t,i,o){this.videoElement=i;this.event=o;try{if(this.supportFullScreenApi.requestFullscreen){if(n["default"].isSafari&&i.webkitEnterFullscreen){i.webkitEnterFullscreen();return}if(t[this.supportFullScreenApi.requestFullscreen]){r.LoggerFactory.info(y,"enter fullScreen with ".concat(this.supportFullScreenApi.requestFullscreen," on player element."));t[this.supportFullScreenApi.requestFullscreen]();return}if(this.supportFullScreenApi.requestFullscreen&&i[this.supportFullScreenApi.requestFullscreen]){r.LoggerFactory.info(y,"enter fullScreen with ".concat(this.supportFullScreenApi.requestFullscreen," on video element."));i[this.supportFullScreenApi.requestFullscreen]()}}}catch(e){r.LoggerFactory.error(y,"enterFullScreen occur error: ".concat(e,"."))}}},{key:"exitFullScreen",value:function e(){try{if(this.supportFullScreenApi.exitFullscreen&&document[this.supportFullScreenApi.exitFullscreen]){r.LoggerFactory.info(y,"exit fullScreen with ".concat(this.supportFullScreenApi.exitFullscreen,"."));document[this.supportFullScreenApi.exitFullscreen]()}}catch(e){r.LoggerFactory.error(y,"exitFullScreen occur error: ".concat(e,"."))}}},{key:"getFullScreenStatus",value:function e(){return this.isFullScreen}},{key:"addFullScreenEventsListener",value:function e(){var i=this;if(Object.keys(this.supportFullScreenApi).length<1){r.LoggerFactory.error(y,"addFullScreenEventsListener failed.");return}var o=function e(){var o;if(!n["default"].isSafari){if(document[i.supportFullScreenApi.fullscreenElement]){r.LoggerFactory.info(y,"trigger enter-full-screen event.");i.isFullScreen=true;i.event.emit(t.HWLLSEvents.FULLSCREEN_STATUS_CHANGED,{isFullScreen:true,isPause:i.videoElement.paused})}else{r.LoggerFactory.info(y,"trigger exit-full-screen event.");i.isFullScreen=false;i.event.emit(t.HWLLSEvents.FULLSCREEN_STATUS_CHANGED,{isFullScreen:false,isPause:i.videoElement.paused})}return}if(i.isFullScreen!==!!((o=i.videoElement)!==null&&o!==void 0&&o.webkitDisplayingFullscreen)){var a;if((a=i.videoElement)!==null&&a!==void 0&&a.webkitDisplayingFullscreen){r.LoggerFactory.info(y,"trigger enter-full-screen event.");i.isFullScreen=true;i.event.emit(t.HWLLSEvents.FULLSCREEN_STATUS_CHANGED,{isFullScreen:true,isPause:i.videoElement.paused})}else{r.LoggerFactory.info(y,"trigger exit-full-screen event.");i.isFullScreen=false;i.event.emit(t.HWLLSEvents.FULLSCREEN_STATUS_CHANGED,{isFullScreen:false,isPause:i.videoElement.paused})}}};if(n["default"].isSafari){setInterval(o,100)}else{document.addEventListener(this.supportFullScreenApi.fullscreenchange,o)}}}])}();var w=new S;var T=e["default"]=w}))},8441:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(5651),r(8024),r(9974),r(9611),r(3652),r(4772),r(4643)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RTCAudioPlayer=void 0;function u(){"use strict";u=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function f(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",g="completed",m={};function y(){}function _(){}function b(){}var E={};l(E,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(x([])));w&&w!==r&&n.call(w,a)&&(E=w);var T=b.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==A(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=h;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=d(t,r,n);if("normal"===c.type){if(i=n.done?g:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(A(t)+" is not iterable")}return _.prototype=b,i(T,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(R.prototype),l(R.prototype,s,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(T),l(T,c,"Generator"),l(T,a,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=v(e,"string");return"symbol"==A(t)?t:t+""}function v(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(e,t,r){return t=w(t),m(e,_()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function m(e,t){if(t&&("object"==A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function t(){return!!e})()}function b(e,t,r,n){var i=E(w(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof i?function(e){return i.apply(r,e)}:i}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=S(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},E.apply(null,arguments)}function S(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function A(e){"@babel/helpers - typeof";return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}var R=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":A(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var I=new o.Log({module:"RTCAudioPlayer"});var k=e.RTCAudioPlayer=function(e){function t(e){var r;f(this,t);r=g(this,t,[{track:e.track,playerDiv:e.playerDiv,playerId:e.playerId}]);r.module_="RTCAudioPlayer";r.muted_=e.muted||false;r.volume_=typeof(e===null||e===void 0?void 0:e.volume)==="number"?e.volume:.5;r.autoPlay_=e.autoPlay||false;r.outputDeviceId_="";return r}T(t,e);return h(t,[{key:"play",value:function(){var e=l(u().mark((function e(){var t=this;return u().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(e,i){var o;var a=true;if(t.playerDiv_){o=t.playerDiv_.querySelector("#audio_".concat(t.playerId_))}else{o=t.playerElement_}if(!o){var s;o=document.createElement("audio");o.muted=t.muted_;o.setAttribute("id","audio_".concat(t.playerId_));t.autoPlay_&&o.setAttribute("autoplay","");o.setAttribute("playsinline","");o.setAttribute("webkit-playsinline","");(s=t.playerDiv_)===null||s===void 0||s.appendChild(o);a=false}if("sinkId"in HTMLMediaElement.prototype&&t.outputDeviceId_){o.setSinkId(t.outputDeviceId_)}if(t.mediaStream_.getAudioTracks().length===0){t.mediaStream_.addTrack(t.track_)}I.debug("this.track_",t.track_);o.srcObject=t.mediaStream_;t.playerElement_=o;if(!t.muted_){t.setVolume(t.volume_)}else{t.playerElement_.muted=true}t.addFirstFrameCallBackListener();t.closeAllEvents();t.handleEvents();if(!t.autoPlay_){return}clearTimeout(t.playTimeOutTimer);t.playTimeOutTimer=setTimeout((function(){r.LoggerFactory.info(t.module_,"trigger audioCanPlay event by Timer");t.event_.emit("audioCanPlay");clearTimeout(t.playTimeOutTimer);t.playTimeOutTimer=setTimeout((function(){r.LoggerFactory.info(t.module_,"audio playing timeout");clearTimeout(t.playTimeOutTimer);delete t.playTimeOutTimer;i(new n.HwLLSError(n.ErrorCode.HWLLS_PLAY_TIMEOUT))}),a?1e4:8e3)}),a?0:2e3);t.listenHandlers.playHandler&&t.event_.removeListener("audioCanPlay",t.listenHandlers.playHandler);t.listenHandlers.playHandler=t.doPlay.bind(t,e,i,{deviceId:t.outputDeviceId_,volume:t.volume_,muted:t.muted_});t.event_.on("audioCanPlay",t.listenHandlers.playHandler)})));case 1:case"end":return i.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setSinkId",value:function(){var e=l(u().mark((function e(t){return u().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!(this.outputDeviceId_!==t)){r.next=4;break}r.next=3;return this.playerElement_.setSinkId(t);case 3:this.outputDeviceId_=t;case 4:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isMuted",value:function e(){var t;return Boolean((t=this.playerElement_)===null||t===void 0?void 0:t.muted)}},{key:"muteAudio",value:function e(t){this.playerElement_.muted=t}},{key:"setVolume",value:function e(t){this.playerElement_.muted=false;if(Number.isNaN(t)){this.playerElement_.volume=this.volume_}else{this.playerElement_.volume=t}}},{key:"getAudioLevel",value:function e(){if(!this.soundMeter_){this.soundMeter_=new s.SoundMeter;this.soundMeter_.connectToSource(this.track_)}return this.soundMeter_.getVolume()}},{key:"stop",value:function e(){b(t,"stop",this,3)([]);if(this.soundMeter_){this.soundMeter_.stop();delete this.soundMeter_}}},{key:"resume",value:function(){var e=l(u().mark((function e(){return u().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",b(t,"resume",this,3)([{deviceId:this.outputDeviceId_,streamId:this.playerId_,volume:this.volume_,muted:this.muted_}]));case 1:case"end":return r.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()},{key:"replaceTrack",value:function e(r){b(t,"replaceTrack",this,3)([r]);if(this.soundMeter_){this.soundMeter_.stop();delete this.soundMeter_}}},{key:"addFirstFrameCallBackListener",value:function(){var e=l(u().mark((function e(){var t,n,o,a,s;return u().wrap((function e(u){while(1)switch(u.prev=u.next){case 0:if(window.MediaStreamTrackProcessor){u.next=2;break}return u.abrupt("return");case 2:t=new MediaStreamTrackProcessor({track:this.track_});n=t.readable.getReader();u.next=6;return n.read();case 6:o=u.sent;a=o.done;s=o.value;if(a&&this.playerElement_){r.LoggerFactory.debug(this.module_,"first audio frame received.");this.event_.emit(i.HWLLSEvents.AUDIO_START);s===null||s===void 0||s.close()}case 10:case"end":return u.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}(t.RTCPlayer);R([(0,a.printfDecorator)(I)],k.prototype,"play",null)}))},260:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(5651),r(5969),r(9611),r(7354),r(8024),r(9974)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RTCVideoPlayer=void 0;r=l(r);i=u(i);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n["default"]=e,r&&r.set(e,n),n}function f(){"use strict";f=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};l(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=l(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),l(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function d(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==a(t)?t:t+""}function y(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r){return t=A(t),b(e,S()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function b(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function t(){return!!e})()}function w(e,t,r,n){var i=T(A(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof i?function(e){return i.apply(r,e)}:i}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=C(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},T.apply(null,arguments)}function C(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}var k=e.RTCVideoPlayer=function(e){function t(e){var i;p(this,t);i=_(this,t,[{track:e.track,playerDiv:e.parentDiv,playerId:e.playerId}]);i.module_="RTCVideoPlayer";i.objectFit_=e.objectFit;i.loadingUtils=new r.LoadingMask(e.parentDiv);i.autoPlay_=e.autoPlay||false;i.videoBufferedReday=false;i.poster_=e.poster;if(i.poster_){r.PosterMask.attachPoster(e.parentDiv,i.poster_.url,i.poster_.mode||n.PosterMode.FILL);if(!i.autoPlay_&&i.poster_.startEnable){r.PosterMask.disPlayPoster(true,i.poster_.url)}}return i}R(t,e);return g(t,[{key:"play",value:function(){var e=h(f().mark((function e(){var t=this;return f().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(e,r){var n=t.playerDiv_.querySelector("#video_".concat(t.playerId_));var a=true;if(!n){n=document.createElement("video");n.muted=true;n.setAttribute("id","video_".concat(t.playerId_));n.style.width="100%";n.style.height="100%";n.style.position="absolute";n.style["object-fit"]=t.objectFit_;t.autoPlay_&&n.setAttribute("autoplay","");n.setAttribute("playsinline","");n.setAttribute("webkit-playsinline","");i["default"].isTencentX5BrowserKernel()&&n.setAttribute("x5-playsinline","");n.setAttribute("muted","");t.playerDiv_.appendChild(n);a=false}if(t.mediaStream_.getVideoTracks().length===0){t.mediaStream_.addTrack(t.track_)}n.srcObject=t.mediaStream_;t.playerElement_=n;t.addFirstFrameCallBackListener();t.closeAllEvents();t.handleEvents();if(!t.autoPlay_){return}clearTimeout(t.playTimeOutTimer);t.playTimeOutTimer=setTimeout((function(){o.LoggerFactory.info(t.module_,"trigger videoCanPlay event by Timer");t.event_.emit("videoCanPlay");clearTimeout(t.playTimeOutTimer);t.playTimeOutTimer=setTimeout((function(){o.LoggerFactory.info(t.module_,"video playing timeout");clearTimeout(t.playTimeOutTimer);delete t.playTimeOutTimer;r(new s.HwLLSError(s.ErrorCode.HWLLS_PLAY_TIMEOUT));t.listenHandlers.playInterruptHandler&&t.event_.removeListener("playInterrupt",t.listenHandlers.playInterruptHandler)}),a?1e4:8e3)}),a?0:2e3);if(t.module_.indexOf("Video")>0){t.listenHandlers.playInterruptHandler&&t.event_.removeListener("playInterrupt",t.listenHandlers.playInterruptHandler);t.listenHandlers.playInterruptHandler=t.playInterruptHandler.bind(t,r);t.event_.once("playInterrupt",t.listenHandlers.playInterruptHandler)}t.listenHandlers.playHandler&&t.event_.removeListener("videoCanPlay",t.listenHandlers.playHandler);t.listenHandlers.playHandler=t.doPlay.bind(t,e,r,{objectFit:t.objectFit_});t.event_.on("videoCanPlay",t.listenHandlers.playHandler)})));case 1:case"end":return r.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setSinkId",value:function(){var e=h(f().mark((function e(t){return f().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:o.LoggerFactory.info("setSinkId",t);case 1:case"end":return r.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resume",value:function(){var e=h(f().mark((function e(){var n=this;return f().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(this.poster_){r.PosterMask.disPlayPoster(false,this.poster_.url)}if(this.manualStartedPlay()){i.next=7;break}this.listenHandlers.playHandler&&this.event_.removeListener("videoCanPlay",this.listenHandlers.playHandler);this.listenHandlers.playHandler=function(){n.loadingMask(false);n.resume()};this.event_.on("videoCanPlay",this.listenHandlers.playHandler);i.next=7;return r.PlayerAdapter.multiPlatformAdapter();case 7:i.next=9;return w(t,"resume",this,3)([{streamId:this.playerId_,screentFit:this.objectFit_}]);case 9:return i.abrupt("return",i.sent);case 10:case"end":return i.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"pause",value:function e(){var n;w(t,"pause",this,3)([]);if((n=this.poster_)!==null&&n!==void 0&&n.pauseEnable){r.PosterMask.disPlayPoster(true,this.poster_.url)}}},{key:"stop",value:function e(){w(t,"stop",this,3)([]);this.loadingUtils.stopLoadingMask();this.poster_&&r.PosterMask.detachPoster(this.playerDiv_,this.poster_.url);this.videoBufferedReday=false}},{key:"loadingMask",value:function e(t){if(t){if(this.autoPlay_||this.manualStartedPlay()){this.loadingUtils.loadingMask(true)}}else{this.loadingUtils.loadingMask(false)}}},{key:"addFirstFrameCallBackListener",value:function e(){var t=this;if(!this.playerElement_.requestVideoFrameCallback){return}this.playerElement_.requestVideoFrameCallback((function(){o.LoggerFactory.debug(t.module_,"first video frame received.");t.event_.emit(n.HWLLSEvents.VIDEO_START)}))}},{key:"exitFullScreen",value:function e(){r["default"].exitFullScreen()}},{key:"enterFullScreen",value:function e(){r["default"].enterFullScreen(this.playerDiv_,this.playerElement_,this.event_)}},{key:"manualStartedPlay",value:function e(){return this.event_.eventNames().includes("videoCanPlay")}}])}(t.RTCPlayer)}))},4643:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.SoundMeter=void 0;function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var r=a(e,"string");return"symbol"==t(r)?r:r+""}function a(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var s=e.SoundMeter=function(){function e(){var t=this;r(this,e);this.context_=new AudioContext;this.script_=this.context_.createScriptProcessor(2048,1,1);this.script_.onaudioprocess=function(e){var r=e.inputBuffer.getChannelData(0);var n=0;var i=0;for(var o=0;o<r.length;o++){n+=r[o]*r[o];if(Math.abs(r[o])>.99){i+=1}}t.instant_=Math.sqrt(n/r.length);t.slow_=.95*t.slow_+.05*t.instant_;t.clip_=i/r.length};this.instant_=0;this.slow_=0;this.clip_=0}return i(e,[{key:"connectToSource",value:function e(t){var r=this;return new Promise((function(e,n){try{var i=new MediaStream;i.addTrack(t);r.mic_=r.context_.createMediaStreamSource(i);r.mic_.connect(r.script_);r.script_.connect(r.context_.destination);e()}catch(e){n(e)}}))}},{key:"stop",value:function e(){this.mic_.disconnect();this.script_.disconnect();this.context_.close()}},{key:"getVolume",value:function e(){return parseFloat(this.instant_.toFixed(2))}}])}()}))},7423:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.videopayloadTypes=e.audioPayloadTypes=e.RTCMediaCodec=e.MediaDirection=void 0;var t;(function(e){e["SEND_RECV"]="sendrecv";e["SEND_ONLY"]="sendonly";e["RECV_ONLY"]="recvonly";e["INACTIVE"]="inactive"})(t||(e.MediaDirection=t={}));var r=e.audioPayloadTypes={opusPayload:116};var n=e.videopayloadTypes={rtxPayLoad:107,h264PayLoad:109,redPayLoad:110,ulpfecPayLoad:112};var i;(function(e){e["H264"]="H264";e["OPUS"]="opus";e["RED"]="red"})(i||(e.RTCMediaCodec=i={}))}))},4046:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7363),r(8024),r(8487),r(3652),r(4772)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.PlanbSDPEditor=void 0;function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=l(e,"string");return"symbol"==y(t)?t:t+""}function l(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e,t,r){return t=v(t),d(e,p()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function d(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function t(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var _=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":y(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var b=new i.Log({module:"PlanbSDPEditor"});var E=e.PlanbSDPEditor=function(e){function n(){a(this,n);return f(this,n,arguments)}g(n,e);return u(n,[{key:"transformAnswerSdp",value:function e(n){r.LoggerFactory.debug(this.module_,"transformAnswerSdp, answerSdp: ".concat(this.printSdpInfo(n)));var i=this.parseSdp(n);if(!i){r.LoggerFactory.error(this.module_,"transformAnswerSdp failed,the sdp is invalid");return""}var o=(0,t.write)(i);r.LoggerFactory.debug(this.module_,"transformAnswerSdp success,answerSdp: ".concat(this.printSdpInfo(o)));return o}}])}(n.SDPEditor);_([(0,o.printfDecorator)(b)],E.prototype,"transformAnswerSdp",null)}))},8487:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7363),r(7423),r(8024),r(5268),r(4772),r(3652)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.SDPEditor=void 0;function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return a=t.done,t},e:function e(t){s=!0,o=t},f:function e(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=p(e,"string");return"symbol"==v(t)?t:t+""}function p(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function v(e){"@babel/helpers - typeof";return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var g=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":v(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var m=1;var y="packetization-mode";var _="42e01f";var b="profile-level-id";var E="max-br";var S="5000000";var w=["groups","media"];var T=["candidates","connection","direction","mid","payloads","port","protocol","rtp","type","fmtp","ssrcs"];var C=new a.Log({module:"SDPEditor"});var A=e.SDPEditor=function(){function e(){l(this,e);this.module_="sdp";this.ssrcAttrCname_="cname"}return d(e,[{key:"printSdpInfo",value:function e(r){var i=this.parseSdp(r);if(!i){return""}for(var o in i){if(!Object.prototype.hasOwnProperty.call(i,o)){continue}if(!w.includes(o)){delete i[o]}if(o==="media"){i[o].forEach((function(e){for(var t in e){if(!T.includes(t)){delete e[t]}}}))}}return n.LoggerFactory.shieldIpAddress((0,t.write)(i))}},{key:"containsValidVideoPayload",value:function e(t){n.LoggerFactory.debug(this.module_,"containsValidVideoPayload, offerSdp: ".concat(this.printSdpInfo(t)));var o=this.parseSdp(t);if(!o){n.LoggerFactory.error(this.module_,"containsValidVideoPayload failed,the sdp is invalid");return false}var a=this.getMedias(o,i.MediaType.TRACK_TYPE_VIDEO);return a.some((function(e){var t;return(t=e.rtp)===null||t===void 0?void 0:t.some((function(e){return e.codec.toUpperCase()===r.RTCMediaCodec.H264}))}))}},{key:"transformOfferSdp",value:function e(r){var o=this;n.LoggerFactory.info(this.module_,"transformOfferSdp begin");var a=this.parseSdp(r);if(!a){n.LoggerFactory.error(this.module_,"transformOfferSdp failed,the sdp is invalid");return""}this.modifySessionDescriptionMsid(a,"main");var s=this.getMedias(a,i.MediaType.TRACK_TYPE_VIDEO);var u=this.getMedias(a,i.MediaType.TRACK_TYPE_AUDIO);C.debug("transformOfferSdp audioMedias",u);s.forEach((function(e){o.transformVideoPayload(e);o.deleteRetransmissionSsrc(e)}));u.forEach((function(e){o.transformAudioPayload(e);o.deleteRetransmissionSsrc(e)}));var c=(0,t.write)(a);n.LoggerFactory.debug(this.module_,"transformOfferSdp success, sdp: ".concat(this.printSdpInfo(c)));return c}},{key:"modifySdpCandidates",value:function e(r,n){var o=this.parseSdp(r);if(!o){C.error("modifySdpCandidates failed, the sdp is invalid : ".concat(r));return""}this.modifySessionDescriptionMsid(o,"main");var a=this.getMedias(o,i.MediaType.TRACK_TYPE_VIDEO);var s=this.getMedias(o,i.MediaType.TRACK_TYPE_AUDIO);if(a&&a.length>0){this.modifyCandidate(a[0],n);if(a.length>1){for(var u=0;u<o.media.length;u++){if(o.media[u].type!==i.MediaType.TRACK_TYPE_AUDIO&&o.media[u].mid!==a[0].mid){delete o.media[u]}}}}if(s&&s.length>0){this.modifyCandidate(s[0],n)}var c=(0,t.write)(o);C.debug("modifySdpCandidates success, sdp: ".concat(this.printSdpInfo(c)));return c}},{key:"getSfuInfo",value:function e(t){var r=this.parseSdp(t);if(!r){return undefined}var n={};var o;var a=this.getMedias(r,i.MediaType.TRACK_TYPE_AUDIO);if(a&&a.length>0){var s,u;n.audioPort=((s=a[0].candidates)===null||s===void 0||(s=s.find((function(e){return e.port!==9})))===null||s===void 0?void 0:s.port)||a[0].port;o=a[0].connection;n.aSsrc=parseInt(String((u=a[0].ssrcs)===null||u===void 0||(u=u.find((function(e){return!!e.id})))===null||u===void 0?void 0:u.id))}if(o){n.ipAddress=o.ip}var c=this.getMedias(r,i.MediaType.TRACK_TYPE_VIDEO);if(c&&c.length>0){var l,f;n.videoPort=((l=c[0].candidates)===null||l===void 0||(l=l.find((function(e){return e.port!==9})))===null||l===void 0?void 0:l.port)||n.audioPort||c[0].port;o=c[0].connection;n.vSsrc=parseInt(String((f=c[0].ssrcs)===null||f===void 0||(f=f.find((function(e){return!!e.id})))===null||f===void 0?void 0:f.id))}if(!n.ipAddress&&o){n.ipAddress=o.ip}return n}},{key:"parseSdp",value:function e(r){if(!r){n.LoggerFactory.error(this.module_,"parseSdp failed : sdp  is null ");return undefined}var i=(0,t.parse)(r);if(i.media.length===0){n.LoggerFactory.error(this.module_,"parseSdp failed : the media of sdp is null ");return undefined}return i}},{key:"getMedias",value:function e(t,r){return t.media.filter((function(e){var t=e.type;return t===r}))}},{key:"deleteUnexpectedMedia",value:function e(t){if(!t.media){return}t.media=t.media.filter((function(e){var t=e.type;return t===i.MediaType.TRACK_TYPE_VIDEO||t===i.MediaType.TRACK_TYPE_AUDIO}))}},{key:"transformVideoPayload",value:function e(t){if(!t.rtp){n.LoggerFactory.warn(this.module_,"transformVideoPayload failed ,rtp is null");return}var i;var o;var a=0;var u=s(t.rtp),c;try{for(u.s();!(c=u.n()).done;){var l=c.value;if(l.codec.toUpperCase()!==r.RTCMediaCodec.H264){continue}if(!o){o=l.payload;n.LoggerFactory.info(this.module_,"record firstPayload, firstPayload: ".concat(o))}var f=this.getPacketizationMode(t.fmtp,l.payload);var d=this.getProfileLevelId(t.fmtp,l.payload);if(f===m){if(a===0){o=l.payload;a=1}if(d===_){i=l.payload;n.LoggerFactory.info(this.module_,"set retainPayload in transformVideoPayload, retainPayload: ".concat(i));break}}}}catch(e){u.e(e)}finally{u.f()}if(!i){i=o;n.LoggerFactory.info(this.module_,"no expected payload, use firstPayload as retainPayload, retainPayload: ".concat(i))}if(!i){n.LoggerFactory.error(this.module_,"transformVideoPayload failed,can not find expected payload.");return}this.deletePayload(t,i);this.modifyPayload(t,r.videopayloadTypes.h264PayLoad);this.addVideoFec(t);this.addFmtpAttr(t,r.videopayloadTypes.h264PayLoad,E,S);this.addFmtpAttr(t,r.videopayloadTypes.h264PayLoad,"sps-pps-idr-in-keyframe","1");this.addFmtpAttr(t,r.videopayloadTypes.rtxPayLoad,"apt","".concat(r.videopayloadTypes.h264PayLoad));this.addFmtpAttr(t,r.videopayloadTypes.rtxPayLoad,"sps-pps-idr-in-keyframe","1")}},{key:"transformAudioPayload",value:function e(t){if(!t.rtp){n.LoggerFactory.warn(this.module_,"transformAudioPayload failed, rtp is null");return}var i;var o=s(t.rtp),a;try{for(o.s();!(a=o.n()).done;){var u=a.value;if(u.codec.toLowerCase()===r.RTCMediaCodec.OPUS){i=u.payload;break}}}catch(e){o.e(e)}finally{o.f()}C.debug("transformAudioPayload audioMedia.rtp",JSON.stringify(t.rtp),i);if(!i){n.LoggerFactory.error(this.module_,"transformAudioPayload failed,can not find expected payload.");return}this.deletePayload(t,i);C.debug("transformAudioPayload aft deletePayload",JSON.stringify(t.rtp));this.modifyPayload(t,r.audioPayloadTypes.opusPayload);this.addNack(t)}},{key:"deleteRetransmissionSsrc",value:function e(t){var r=this;if(!t.ssrcGroups||!t.ssrcs){return}var n=[];t.ssrcGroups.forEach((function(e){var t=e.ssrcs;var i=r.getRetransmissionSsrc(t);if(i!==null){n.push(i)}}));if(n.length===0){return}t.ssrcGroups=undefined;t.ssrcs=t.ssrcs.filter((function(e){var t=e.id;return!n.includes(t.toString())}))}},{key:"modifySessionDescriptionMsid",value:function e(t,r){if(t.msidSemantic){t.msidSemantic.token=r}var n=this.getMedias(t,i.MediaType.TRACK_TYPE_VIDEO);var o=this.getMedias(t,i.MediaType.TRACK_TYPE_AUDIO);n.forEach((function(e){var t;if(e.msid){var n;e.msid="".concat(r," ").concat((n=e.msid)===null||n===void 0?void 0:n.split(" ")[1])}(t=e.ssrcs)===null||t===void 0||t.forEach((function(e){if(e.attribute==="msid"){var t;e.value="".concat(r," ").concat((t=e.value)===null||t===void 0?void 0:t.split(" ")[1])}}))}));o.forEach((function(e){var t;if(e.msid){var n;e.msid="".concat(r," ").concat((n=e.msid)===null||n===void 0?void 0:n.split(" ")[1])}(t=e.ssrcs)===null||t===void 0||t.forEach((function(e){if(e.attribute==="msid"){var t;e.value="".concat(r," ").concat((t=e.value)===null||t===void 0?void 0:t.split(" ")[1])}}))}))}},{key:"getPacketizationMode",value:function e(r,n){if(!r){return m}var i=s(r),o;try{for(i.s();!(o=i.n()).done;){var a=o.value;if(a.payload!==n){continue}if(!a.config.includes(y)){return m}var u=(0,t.parseParams)(a.config);if(u[y]===null){return m}return parseInt(String(u[y]),10)}}catch(e){i.e(e)}finally{i.f()}return m}},{key:"getProfileLevelId",value:function e(r,n){if(!r){return""}var i=s(r),o;try{for(i.s();!(o=i.n()).done;){var a=o.value;if(a.payload!==n){continue}if(!a.config.includes(b)){return""}var u=(0,t.parseParams)(a.config);if(!u[b]){return""}return String(u[b])}}catch(e){i.e(e)}finally{i.f()}return""}},{key:"deletePayload",value:function e(t,r){if(t.rtp){t.rtp=t.rtp.filter((function(e){var t=e.payload;return t===r}))}if(t.rtcpFb){t.rtcpFb=t.rtcpFb.filter((function(e){var t=e.payload;return t===r}))}if(t.fmtp){t.fmtp=t.fmtp.filter((function(e){var t=e.payload;return t===r}))}t.payloads=r.toString()}},{key:"modifyPayload",value:function e(t,r){if(t.rtp){t.rtp.forEach((function(e){e.payload=r}))}if(t.rtcpFb){t.rtcpFb.forEach((function(e){e.payload=r}))}if(t.fmtp){t.fmtp.forEach((function(e){e.payload=r}))}t.payloads=r.toString()}},{key:"addVideoFec",value:function e(t){if(!t.rtp){t.rtp=[]}t.rtp.push({payload:r.videopayloadTypes.rtxPayLoad,codec:"rtx",rate:9e4});t.rtp.push({payload:r.videopayloadTypes.redPayLoad,codec:"red",rate:9e4});t.rtp.push({payload:r.videopayloadTypes.ulpfecPayLoad,codec:"ulpfec",rate:9e4});t.payloads="".concat(r.videopayloadTypes.rtxPayLoad," ").concat(t.payloads," ").concat(r.videopayloadTypes.redPayLoad," ").concat(r.videopayloadTypes.ulpfecPayLoad)}},{key:"addFmtpAttr",value:function e(r,n,i,o){if(!r.fmtp||r.fmtp.length===0){r.fmtp=[];r.fmtp.push({payload:n,config:i+"="+o});return}var a=r.fmtp.find((function(e){return e.payload===n}));if(!a){r.fmtp.push({payload:n,config:i+"="+o})}else{var s=(0,t.parseParams)(a.config);if(s[i]){return}a.config=a.config+";"+i+"="+o}}},{key:"addNack",value:function e(t){var r=t.rtp[0].payload;if(!t.rtcpFb){t.rtcpFb=[]}t.rtcpFb.push({payload:r,type:"ccm",subtype:"fir"});t.rtcpFb.push({payload:r,type:"nack"});t.rtcpFb.push({payload:r,type:"nack",subtype:"pli"})}},{key:"modifyCandidate",value:function e(t,r){if(!t.candidates){var n=r===null||r===void 0?void 0:r.find((function(e){return"".concat(t.mid)==="".concat(e.sdpMid)}));if(n){var i=/.*generation\s(\d+).*/.exec(n.candidate)||[];var o=/.*network-id\s(\d+).*/.exec(n.candidate)||[];var a=/.*network-cost\s(\d+).*/.exec(n.candidate)||[];t.candidates=t.candidates||[];t.candidates.push({foundation:n.foundation,component:n.component==="rtp"?1:2,transport:n.protocol,priority:n.priority,ip:n.address,port:n.port,type:n.type,raddr:n.relatedAddress,rport:n.relatedPort,tcptype:n.tcpType,generation:i.length===2?parseInt(i[1]):undefined,"network-id":o.length===2?parseInt(o[1]):undefined,"network-cost":a.length===2?parseInt(a[1]):undefined})}}}},{key:"getRetransmissionSsrc",value:function e(t){if(!t){n.LoggerFactory.warn(this.module_,"getRetransmissionSsrc failed, ssrcs is null");return""}var r=t.split(" ");var i=2;if(r.length!==i){n.LoggerFactory.warn(this.module_,"getRetransmissionSsrc failed, ssrcs(".concat(t,") is invalid"));return""}return r[1]}}],[{key:"addSsrcAttr",value:function e(t,r,n){if(!t.ssrcs){t.ssrcs=[]}for(var i=0;i<n.length;i++){t.ssrcs.push({id:r,attribute:n[i][0],value:n[i][1]})}}}])}();g([(0,o.printfDecorator)(C)],A.prototype,"transformOfferSdp",null);g([(0,o.printfDecorator)(C)],A.prototype,"modifySdpCandidates",null);g([(0,o.printfDecorator)(C)],A.prototype,"parseSdp",null);g([(0,o.printfDecorator)(C)],A.prototype,"getMedias",null);g([(0,o.printfDecorator)(C)],A.prototype,"transformAudioPayload",null);g([(0,o.printfDecorator)(C)],A.prototype,"modifyCandidate",null)}))},8880:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7363),r(8024),r(7423),r(8487),r(5268),r(3652),r(4772)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.UnifiedPlanSDPEditor=void 0;function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return a=t.done,t},e:function e(t){s=!0,o=t},f:function e(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=v(e,"string");return"symbol"==w(t)?t:t+""}function v(e,t){if("object"!=w(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(e,t,r){return t=b(t),m(e,_()?Reflect.construct(t,r||[],b(e).constructor):t.apply(e,r))}function m(e,t){if(t&&("object"==w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function t(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function w(e){"@babel/helpers - typeof";return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}var T=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":w(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var C=new a.Log({module:"UnifiedPlanSDPEditor"});var A=e.UnifiedPlanSDPEditor=function(e){function a(){f(this,a);return g(this,a,arguments)}E(a,e);return h(a,[{key:"modifyPublishOfferSdp",value:function e(r,i,s,u){var c=this;C.debug(this.module_,"modifyPublishOfferSdp start, sdp: ".concat(this.printSdpInfo(r)));var l=this.parseSdp(r);var f=this.parseSdp(i);if(!l){C.error(this.module_,"modifyPublishOfferSdp failed, the sdp is invalid: ".concat(r));return undefined}var d=l.media.filter((function(e){var t=e.type,r=e.direction;return t===o.MediaType.TRACK_TYPE_VIDEO&&r!==n.MediaDirection.SEND_ONLY&&r!==n.MediaDirection.SEND_RECV}));d.forEach((function(e){c.transformVideoPayload(e);c.deleteRetransmissionSsrc(e);e.ssrcs=undefined}));var h=this.getAvailableSenderMedia(l,o.MediaType.TRACK_TYPE_AUDIO);if(h.length>0){var p=h[0];this.transformAudioPayload(p);this.deleteRetransmissionSsrc(p);if(u){var v;var g=f===null||f===void 0||(v=f.media)===null||v===void 0?void 0:v.find((function(e){return"".concat(e.mid)==="".concat(p.mid)}));this.modifyUnifiedMediaSsrc(p,u,s);a.modifyDirectionWhenPublish(p,g,true)}}var m=(0,t.write)(l);var y=(0,t.write)(f);C.debug(this.module_,"modifyPublishOfferSdp success, offerSdp: ".concat(this.printSdpInfo(m),", answerSdp: ").concat(this.printSdpInfo(y)));return{offerSdp:m,answerSdp:y}}},{key:"modifyUnifiedMediaSsrc",value:function e(t,r,n){var o=this;if(!t.ssrcs||t.ssrcs.length===0){var a=[[this.ssrcAttrCname_,n]];i.SDPEditor.addSsrcAttr(t,r,a)}else{t.ssrcs.forEach((function(e){if(e.attribute===o.ssrcAttrCname_){e.value=n}e.id=r}))}}},{key:"modifyAnswerDirection",value:function e(r,i){var o;var a=this.parseSdp(r);if(!a){C.error(this.module_,"modifyAnswerDirection failed,the sdp is invalid");return""}var s=(o=a.media)===null||o===void 0?void 0:o.find((function(e){return"".concat(e.mid)==="".concat(i)}));if(s){if(s.direction===n.MediaDirection.INACTIVE){s.direction=n.MediaDirection.RECV_ONLY}else if(s.direction===n.MediaDirection.SEND_ONLY){s.direction=n.MediaDirection.SEND_RECV}}return(0,t.write)(a)}},{key:"getAvailableSenderMedia",value:function e(t,r){return t.media.filter((function(e){var t=e.type,i=e.direction;return t===r&&(i===n.MediaDirection.SEND_ONLY||i===n.MediaDirection.SEND_RECV)}))}},{key:"getAllMidsByType",value:function e(t,r){var n;var i=this.parseSdp(t);var o=[];if(!i){C.error(this.module_,"getAllMidsByType failed,the sdp is invalid : ".concat(t));return o}(n=i.media)===null||n===void 0||n.forEach((function(e){if(e.type===r){o.push("".concat(e.mid))}}));return o}},{key:"getOfferVideoMidBySsrc",value:function e(t,r,n){var i;var o=this.parseSdp(t);var a="";if(!o){C.error(this.module_,"getOfferVideoMidBySsrc failed,the sdp is invalid : ".concat(t));return a}(i=o.media)===null||i===void 0||i.forEach((function(e){if(e.type===r&&e.ssrcs&&e.ssrcs.length>0&&"".concat(e.ssrcs[0].id)==="".concat(n)){a="".concat(e.mid)}}));return a}},{key:"getBrowserDefaultSsrc",value:function e(t){var r=this.parseSdp(t);if(!r){return undefined}var n=this.getMedias(r,o.MediaType.TRACK_TYPE_AUDIO);var i=0;if(n&&n.length>0){var a=u(n),s;try{for(a.s();!(s=a.n()).done;){var c=s.value;if(c.ssrcs&&c.ssrcs.length>0){i=parseInt(c.ssrcs[0].id.toString());break}}}catch(e){a.e(e)}finally{a.f()}}return{audioSsrc:i}}},{key:"transformAnswerSdp",value:function e(n,i){r.LoggerFactory.debug(this.module_,"transformAnswerSdp, answerSdp: ".concat(this.printSdpInfo(n)));var s=this.parseSdp(n);var u=this.parseSdp(i);if(!s||!u){r.LoggerFactory.error(this.module_,"transformAnswerSdp failed,the sdp is invalid");return""}var c=this.getMedias(s,o.MediaType.TRACK_TYPE_VIDEO);var l=this.getMedias(u,o.MediaType.TRACK_TYPE_VIDEO);if(l.length!==c.length){var f=c.map((function(e){return"".concat(e.mid)}));l.forEach((function(e){if(!f.includes("".concat(e.mid))){var t=JSON.parse(JSON.stringify(c[0]));t.mid=e.mid;s.media.push(t);a.modifyBundle(s,e.mid||"")}}))}var d=(0,t.write)(s);r.LoggerFactory.debug(this.module_,"transformAnswerSdp success,answerSdp: ".concat(this.printSdpInfo(d)));return d}},{key:"generateMatchedAnswerWithOffer",value:function e(i,o,s){r.LoggerFactory.debug(this.module_,"generateCorrespondingRemoteSdpMedia start, sdp: ".concat(this.printSdpInfo(i)));var u=this.parseSdp(i);if(!u){return i}a.modifyBundle(u,o);var c=this.getMedias(u,s);if(!c||c.length===0){return i}var l=JSON.parse(JSON.stringify(c[0]));l.mid=o;delete l.ssrcs;delete l.candidates;l.direction=n.MediaDirection.INACTIVE;u.media.push(l);var f=(0,t.write)(u);r.LoggerFactory.debug(this.module_,"generateCorrespondingRemoteSdpMedia success, sdp: ".concat(this.printSdpInfo(f)));return f}},{key:"getLeastMid",value:function e(t){var n=this.parseSdp(t);if(!n){r.LoggerFactory.error(this.module_,"getLeastMid failed, the sdp is invalid : ".concat(t));return undefined}var i;var o=u(n.groups||[]),a;try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.type==="BUNDLE"){var c=(s.mids||"").split(" ");i=c[c.length-1];break}}}catch(e){o.e(e)}finally{o.f()}return i}}],[{key:"modifyBundle",value:function e(t,r){var n=u(t.groups||[]),i;try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o.type==="BUNDLE"){o.mids="".concat(o.mids," ").concat(r);break}}}catch(e){n.e(e)}finally{n.f()}}},{key:"modifyDirectionWhenPublish",value:function e(t,r,i){if(i){if(t.direction===n.MediaDirection.RECV_ONLY){t.direction=n.MediaDirection.SEND_RECV}else if(t.direction===n.MediaDirection.INACTIVE){t.direction=n.MediaDirection.SEND_ONLY}}else{if(t.direction===n.MediaDirection.SEND_ONLY){t.direction=n.MediaDirection.INACTIVE}else if(t.direction===n.MediaDirection.SEND_RECV){t.direction=n.MediaDirection.RECV_ONLY}}if(i){if(r.direction===n.MediaDirection.SEND_ONLY){r.direction=n.MediaDirection.SEND_RECV}else if(r.direction===n.MediaDirection.INACTIVE){r.direction=n.MediaDirection.RECV_ONLY}}else{if(r.direction===n.MediaDirection.SEND_RECV){r.direction=n.MediaDirection.SEND_ONLY}else if(r.direction===n.MediaDirection.RECV_ONLY){r.direction=n.MediaDirection.INACTIVE}}}}])}(i.SDPEditor);T([(0,s.printfDecorator)(C)],A.prototype,"transformAnswerSdp",null);T([(0,s.printfDecorator)(C)],A,"modifyBundle",null)}))},8495:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7354),r(2216),r(7007),r(2363),r(8024)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=e.LoopArray=void 0;t=a(t);n=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){"@babel/helpers - typeof";return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return a=t.done,t},e:function e(t){s=!0,o=t},f:function e(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){"use strict";p=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function f(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};l(S,a,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,a)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,u){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=d(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(s(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=l(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),l(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function v(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){v(o,n,i,a,s,"next",e)}function s(e){v(o,n,i,a,s,"throw",e)}a(void 0)}))}}function m(e){throw new TypeError('"'+e+'" is read-only')}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function b(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e){var t=S(e,"string");return"symbol"==s(t)?t:t+""}function S(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var w=e.LoopArray=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:50;y(this,e);this.elements=new Array;this._size=t}return b(e,[{key:"push",value:function e(t){var r;if(t===null){return false}if(this._size!==undefined&&!isNaN(this._size)){var n;if(((n=this.elements)===null||n===void 0?void 0:n.length)===this._size){this.elements.pop()}}(r=this.elements)===null||r===void 0||r.unshift(t);return true}},{key:"size",value:function e(){var t;var e=(t=this.elements)===null||t===void 0?void 0:t.length;return e||0}},{key:"clear",value:function e(){delete this.elements;this.elements=new Array}},{key:"getElement",value:function e(t){var r;if(t<0||t>=this.size()){return undefined}var n=(r=this.elements)===null||r===void 0?void 0:r[t];return n}}])}();var T="HWLLSInterval";var C=function(){function e(){var i=this;y(this,e);this.reportSymbol=Symbol("HWLLSInterval_".concat(t["default"].getCurrentLocalTimestamp()));this.sampleArray=new Map;this.connectionsManagers=[];this.event=new n["default"];this.preMediaStats=new Map;this.executeInterval((function(){i.execHandler()}),r.configs.STATISTIC_INTERVAL);this.isVideoBroken=false;this.videoBrokenTimestamp=0}return b(e,[{key:"on",value:function e(t,r){this.event.on(t,r)}},{key:"off",value:function e(t){if(!t){this.event.removeAllListeners()}else{this.event.removeAllListeners(t)}}},{key:"getSymbol",value:function e(){return this.reportSymbol}},{key:"reset",value:function e(t){if(t){this.sampleArray["delete"](t);this.preMediaStats["delete"](t);this.off("video_stuck_".concat(t));this.off("video_start_".concat(t));this.off("audio_start_".concat(t));for(var r=0;r<this.connectionsManagers.length;r++){if(this.connectionsManagers[r].getConnectionId()===t){this.connectionsManagers.splice(r,1);break}}}else{this.sampleArray.clear();this.preMediaStats.clear();this.off();this.connectionsManagers.length=0}}},{key:"connectionRegister",value:function e(t){this.connectionsManagers.push(t)}},{key:"getleastestStats",value:function e(t,r){if(!t){return null}if(!r){var n;return(n=this.sampleArray.get(t))===null||n===void 0?void 0:n.getElement(0)}var i=this.getElementStats(t,r,0);if(!i){i=this.getElementStats(t,r,1)}return i}},{key:"getHistoryDatas",value:function e(t){return this.sampleArray.get(t)}},{key:"getleastestStatsByPropertyName",value:function e(t,r,n){var i=this.getElementStats(t,r,0);if(!i){i=this.getElementStats(t,r,1)}return i?i[n]:null}},{key:"getElementStats",value:function e(t,r,n){var i;var o=(i=this.sampleArray.get(t))===null||i===void 0?void 0:i.getElement(n);if(!o){return null}return o.data.get(r)}},{key:"executeInterval",value:function e(t,r){var n=this;var i=function e(){n.gatherTimer=setTimeout(g(p().mark((function e(){return p().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:clearTimeout(n.gatherTimer);r.next=3;return t();case 3:i();case 4:case"end":return r.stop()}}),e)}))),r)};i()}},{key:"getStats",value:function(){var e=g(p().mark((function e(t,r){var n=this,i;var o,a,s;return p().wrap((function e(u){while(1)switch(u.prev=u.next){case 0:o=t.getConnection();if(!(!o||typeof o.getStats!=="function")){u.next=3;break}return u.abrupt("return");case 3:u.next=5;return o.getStats();case 5:a=u.sent;s=t.getConnectionId();if(a){a.forEach((function(e,t){if(e.type!=="candidate-pair"||e.selected===true||e["nominated "]===true||e.state==="succeeded"){if(["candidate-pair","local-candidate","inbound-rtp","outbound-rtp","remote-inbound-rtp"].includes(e.type)){r.set(e.type!=="local-candidate"?"".concat(e.type).concat(e.mediaType?"_":"").concat(e.mediaType||"").concat(e.ssrc?"_":"").concat(e.ssrc||""):t,e);n.streamHandler(s,e,e.mediaType)}}}))}if(!this.sampleArray.has(s)){this.sampleArray.set(s,new w)}(i=this.sampleArray.get(s))===null||i===void 0||i.push({data:r,processed:0});case 10:case"end":return u.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"streamHandler",value:function e(t,r,n){var i;if(this.preMediaStats.has(t)){i=this.preMediaStats.get(t)}if(n==="audio"&&i){if(!Object.prototype.hasOwnProperty.call(i,"preAudioPackets")&&r.packetsReceived>0){this.event.emit("audio_start_".concat(t));this.preMediaStats.set(t,{preAudioPackets:r.packetsReceived})}return}if(n==="video"&&i){this.judgeVideoStreamStuck(t,r,i)}}},{key:"judgeVideoStreamBroken",value:function e(r,n,i){var a=i>0&&i===n;if(a){if(!this.isVideoBroken){this.isVideoBroken=true;this.videoBrokenTimestamp=t["default"].getCurrentLocalTimestamp();o.LoggerFactory.info(T,"video stream broken, start timestamp : ".concat(this.videoBrokenTimestamp,", preReceiveFrames:").concat(i,", framesReceived:").concat(n))}else{var s=t["default"].getCurrentLocalTimestamp()-this.videoBrokenTimestamp;if(s>=5e3){this.videoBrokenTimestamp=t["default"].getCurrentLocalTimestamp();o.LoggerFactory.info(T,"video stream broken, start auto recovery , current timestamp : ".concat(this.videoBrokenTimestamp));this.event.emit("video_broken_".concat(r))}}}else if(!a&&this.isVideoBroken){this.isVideoBroken=false;this.videoBrokenTimestamp=0;o.LoggerFactory.info(T,"video stream recovery, timestamp : ".concat(t["default"].getCurrentLocalTimestamp()));this.event.emit("video_recover_".concat(r))}}},{key:"judgeVideoStreamStuck",value:function e(t,r,n){var o=r.framesDecoded||0;if(n&&Object.prototype.hasOwnProperty.call(n,"preReceiveFrames")){this.judgeVideoStreamBroken(t,o,n.preReceiveFrames);if(!n.frameStuckCheck&&n.frameFirstComing){n.preReceiveFrames=o;return}if(o===n.preReceiveFrames){n.noChangeCount++}else{if(n.preReceiveFrames===0||n.noChangeCount>1){n.noChangeCount=1;this.event.emit("video_stuck_".concat(t),false);n.preReceiveFrames===0&&this.event.emit("video_start_".concat(t));n.frameFirstComing=true}}n.preReceiveFrames=o;if(n.noChangeCount%n.stuckThreshold===0){this.event.emit("video_stuck_".concat(t),true)}}else{var a=d(d({},{frameStuckLoading:false,frameStuckThreshold:10}),i.parametersUtil.getParameter(i.parameterValidKeys.LOADING_CONFIG)||{});var s={noChangeCount:1,preReceiveFrames:o,stuckThreshold:a.frameStuckThreshold,frameStuckCheck:a.frameStuckLoading,frameFirstComing:false};if(o){s.frameFirstComing=true;this.event.emit("video_stuck_".concat(t),false);this.event.emit("video_start_".concat(t))}this.preMediaStats.set(t,Object.prototype.hasOwnProperty.call(n,"preAudioPackets")?d(d({},s),n):s)}}},{key:"execHandler",value:function(){var e=g(p().mark((function e(){var t,r,n,i;return p().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:t=u(this.connectionsManagers);o.prev=1;t.s();case 3:if((r=t.n()).done){o.next=10;break}n=r.value;i=new Map;o.next=8;return this.getStats(n,i);case 8:o.next=3;break;case 10:o.next=15;break;case 12:o.prev=12;o.t0=o["catch"](1);t.e(o.t0);case 15:o.prev=15;t.f();return o.finish(15);case 18:case"end":return o.stop()}}),e,this,[[1,12,15,18]])})));function t(){return e.apply(this,arguments)}return t}()}])}();var A=new C;var R=e["default"]=A}))},5472:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(2216),r(9974),r(8024),r(7354),r(4878)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;i=a(i);o=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){"@babel/helpers - typeof";return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e){return d(e)||f(e)||l(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return h(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function f(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(){"use strict";p=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function f(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};l(S,a,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,a)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,u){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=d(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(s(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=l(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),l(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function v(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){v(o,n,i,a,s,"next",e)}function s(e){v(o,n,i,a,s,"throw",e)}a(void 0)}))}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function _(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=E(e,"string");return"symbol"==s(t)?t:t+""}function E(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var S=1e4;var w=50;var T="HWLLSReport";var C=function(){function e(){m(this,e);this.records=[]}return _(e,[{key:"addRecord",value:function(){var e=g(p().mark((function e(t){return p().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:this.records.push(t);if(this.records.length>S){this.records.splice(0,this.records.length-S)}case 2:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"immediateReportRecords",value:function e(){if(this.records.length!==0&&i["default"].getAreaDetectionCompleted()){this.reportRecords(this.records)}}},{key:"sendRequest",value:function(){var e=g(p().mark((function e(a,s){var c,l,f;return p().wrap((function e(d){while(1)switch(d.prev=d.next){case 0:d.prev=0;l=this.getReportUrl();d.next=4;return o["default"].fetch([l],{method:"POST",body:JSON.stringify({request_id:i["default"].generateStandardUuid(),timestamp:Math.round(i["default"].getCurrentSyncTimestamp()/1e3),logs:a})},{"Content-Type":"application/json;charset=UTF-8",Authorization:t.configs.OPS_AUTH_TOKEN});case 4:f=d.sent;if(!(f.httpCode&&((c=f.data)===null||c===void 0?void 0:c.Code)!==0)){d.next=8;break}n.LoggerFactory.error(T,"sendRequest and get fail Respone: ".concat(JSON.stringify(f)));throw new r.HwLLSError(r.ErrorCode.HWLLS_INTERNAL_ERROR);case 8:d.next=14;break;case 10:d.prev=10;d.t0=d["catch"](0);n.LoggerFactory.error(T,"sendRequest failed");s.push.apply(s,u(a));case 14:case"end":return d.stop()}}),e,this,[[0,10]])})));function a(t,r){return e.apply(this,arguments)}return a}()},{key:"reportRecords",value:function(){var e=g(p().mark((function e(t){var r=this;var n,i;return p().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n=[];i=[];do{i.push(this.sendRequest(t.splice(0,w),n))}while(t.length>0);Promise.all(i)["finally"]((function(){var e;(e=r.records).push.apply(e,n);n.length=0;if(r.records.length>S){r.records.splice(0,r.records.length-S)}}));case 4:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReportUrl",value:function e(){return"https://".concat(t.configs.OPS_REPORT_DOMAIN,"/v2/log/log_report?service=LLL")}}])}();var A=new C;var R=e["default"]=A}))},1156:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(2216),r(7354),r(2363),r(8024),r(9611),r(8066),r(4404),r(5472),r(6620),r(5268),r(4772),r(3652)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.HWLLSStat=void 0;r=h(r);u=h(u);c=h(c);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function _(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=E(e,"string");return"symbol"==S(t)?t:t+""}function E(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function S(e){"@babel/helpers - typeof";return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}var w=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":S(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var T=new d.Log({module:"MediaStats"});var C=10;var A=e.HWLLSStat=function(){function e(n){m(this,e);this.identifiedId=n;this.module_="HWLLSStat";this.commInfo={};this.commInfo.deviceId=r["default"].getDeviceID();this.commInfo.v="web-".concat(t.configs.SDK_VERSION,"-").concat(t.configs.COMMIT_ID);this.commInfo.userAgent=navigator.userAgent}return _(e,[{key:"reportStartPullStreamReqEvent",value:function e(t){var n,i,a;if(!this.isStatiscEnable()){return}var c=(n=s.GlobalVariableManager.getInstance(this.identifiedId))===null||n===void 0?void 0:n.getSfuInfo();var l=(i=s.GlobalVariableManager.getInstance(this.identifiedId))===null||i===void 0?void 0:i.getStreamParams();var f=(a=s.GlobalVariableManager.getInstance(this.identifiedId))===null||a===void 0?void 0:a.getPlayTrackKpi();var d=this.generateCommonReportInfo({accessAddr:(l===null||l===void 0?void 0:l.accessAddr)||"",SFUAddr:(c===null||c===void 0?void 0:c.ipAddress)||"",aPort:(c===null||c===void 0?void 0:c.audioPort)||0,vPort:(c===null||c===void 0?void 0:c.videoPort)||0,httpCode:t.httpCode,resultCode:t.retCode,resultMessage:t.retMsg,startTime:f===null||f===void 0?void 0:f.negotiateSDPRequest,endTime:f===null||f===void 0?void 0:f.negotiateSDPRespone,playQos:JSON.stringify(t.joinQos||{}),appUrl:r["default"].getAppUrl(),gslbCostTime:((f===null||f===void 0?void 0:f.glsbRespone)||0)-((f===null||f===void 0?void 0:f.glsbRequest)||0),sigCostTime:((f===null||f===void 0?void 0:f.negotiateSDPRespone)||0)-((f===null||f===void 0?void 0:f.negotiateSDPRequest)||0),platform:r["default"].getPlatform(),bv:r["default"].getBrowserVersion(),timeDiff:r["default"].getTimeDiff(),autoRetry:t.autoRetry},o.StatEvents.EVENT_START_PULL_STREAM_REQ,"event^startPlay^SDK^ACS");u["default"].addRecord(d);u["default"].immediateReportRecords()}},{key:"reportStopPullStreamReqEvent",value:function e(t){var n,i,a,c;if(!this.isStatiscEnable()){return}var l=(n=s.GlobalVariableManager.getInstance(this.identifiedId))===null||n===void 0?void 0:n.calcAverageStatistic();var f=(i=s.GlobalVariableManager.getInstance(this.identifiedId))===null||i===void 0?void 0:i.getStreamParams();var d=(a=s.GlobalVariableManager.getInstance(this.identifiedId))===null||a===void 0?void 0:a.getSfuInfo();var h=this.generateCommonReportInfo({reason:"stopPlay",elapsed:(c=s.GlobalVariableManager.getInstance(this.identifiedId))===null||c===void 0?void 0:c.calcPlayDuration(),aRecvRttMean:l.aRecvRttMean,vRecvRttMean:l.vRecvRttMean,aRecvLostMean:l.aRecvLostMean,vRecvLostMean:l.vRecvLostMean,aRecvBandwidthMean:l.aRecvBandwidthMean,vRecvBandwidthMean:l.vRecvBandwidthMean,aRecvJitter:l.aRecvJitter,vRecvJitter:l.vRecvJitter,afreeze200Cnt:l.afreeze200Cnt,vfreeze200Cnt:l.vfreeze200Cnt,vfreeze600Cnt:l.vfreeze600Cnt,afreeze200Rate:l.afreeze200Rate,vfreeze200Rate:l.vfreeze200Rate,vfreeze600Rate:l.vfreeze600Rate,resultCode:0,startTime:t,endTime:r["default"].getCurrentLocalTimestamp(),accessAddr:(f===null||f===void 0?void 0:f.accessAddr)||"",SFUAddr:(d===null||d===void 0?void 0:d.ipAddress)||""},o.StatEvents.EVENT_STOP_PULL_STREAM_REQ,"event^stopPlay^SDK^ACS");u["default"].addRecord(h);u["default"].immediateReportRecords()}},{key:"reportConnectionStatus",value:function e(t,r){var n;if(!this.isStatiscEnable()){return}var i=(n=s.GlobalVariableManager.getInstance(this.identifiedId))===null||n===void 0?void 0:n.getSfuInfo();var a={SFUAddr:i===null||i===void 0?void 0:i.ipAddress,ssrc:(i===null||i===void 0?void 0:i.vSsrc)||(i===null||i===void 0?void 0:i.aSsrc),on:t,protocol:r||""};a=this.generateCommonReportInfo(a,o.StatEvents.EVENT_CONNECTION_CHANNEL_STATUS,"event^connectionState^SDK^ACS");u["default"].addRecord(a);u["default"].immediateReportRecords()}},{key:"reportPullMediaStreamResult",value:function e(t,n,i){var a,c,f,d;if(!this.isStatiscEnable()){return}var h=(i===null||i===void 0?void 0:i.sfuInfo)||((a=s.GlobalVariableManager.getInstance(this.identifiedId))===null||a===void 0?void 0:a.getSfuInfo());var p=(i===null||i===void 0?void 0:i.streamParams)||((c=s.GlobalVariableManager.getInstance(this.identifiedId))===null||c===void 0?void 0:c.getStreamParams());var v=(i===null||i===void 0?void 0:i.mediaParams)||((f=s.GlobalVariableManager.getInstance(this.identifiedId))===null||f===void 0?void 0:f.getPullMediaParams());var g=(i===null||i===void 0?void 0:i.playTrackKpi)||((d=s.GlobalVariableManager.getInstance(this.identifiedId))===null||d===void 0?void 0:d.getPlayTrackKpi());var m=t===l.MediaType.TRACK_TYPE_AUDIO;var y={accessAddr:p===null||p===void 0?void 0:p.accessAddr,SFUAddr:h===null||h===void 0?void 0:h.ipAddress,streamType:m?0:1,ssrc:m?(h===null||h===void 0?void 0:h.aSsrc)||0:(h===null||h===void 0?void 0:h.vSsrc)||0,result:n,startTime:g.icePairStart,endTime:r["default"].getCurrentLocalTimestamp(),playQoS:JSON.stringify((v===null||v===void 0?void 0:v.keyInfoMsg)||[]),mediaCostTime:(g.iceComplete||r["default"].getCurrentLocalTimestamp())-g.icePairStart,totalTime:(g[m?"audioPlaySucc":"videoPlaySucc"]||r["default"].getCurrentLocalTimestamp())-g.startPlayTime};y=this.generateCommonReportInfo(y,o.StatEvents.EVENT_PULL_MEDIA_STREAM,"event^pullstreamResult^SDK^ACS");u["default"].addRecord(y);u["default"].immediateReportRecords()}},{key:"reportApiCallInfo",value:function e(t,n,i,a,s){if(!this.isStatiscEnable()){return}var c="API^web#".concat(t,"^APP^SDK");for(var l=arguments.length,f=new Array(l>5?l-5:0),d=5;d<l;d++){f[d-5]=arguments[d]}var h={apiCallId:r["default"].generateUuid(0),apiName:c,params:JSON.stringify(f),startTime:n,endTime:i};if(a){h.exception="".concat(a.code," - ").concat(a.message)}else{h.ret=s?JSON.stringify(s):""}h=this.generateCommonReportInfo(h,o.ApiEvents.API_CALL,c);if(/checkSystemRequirements/.test(t)){u["default"].addRecord(h);u["default"].immediateReportRecords()}else{u["default"].addRecord(h)}}},{key:"reportCallbackInfo",value:function e(t,n,i,a,s,c){if(!this.isStatiscEnable()){return}var l=c((s===null||s===void 0?void 0:s.stream)||s);var f={callbackId:r["default"].generateUuid(0),callbackName:"CALLBACK^web#".concat(n,"$#").concat(t,"#^SDK^APP"),callbackType:t,params:l,startTime:i,endTime:a};f=this.generateCommonReportInfo(f,o.ApiEvents.CALLBACK_API,"CALLBACK^web#".concat(n,"$#").concat(t,"#^SDK^APP"));u["default"].addRecord(f)}},{key:"reportVideoQos",value:function e(t){var r,n;if(!this.isStatiscEnable()||!t){return}var i=(r=s.GlobalVariableManager.getInstance(this.identifiedId))===null||r===void 0?void 0:r.getSfuInfo();var a=(n=s.GlobalVariableManager.getInstance(this.identifiedId))===null||n===void 0?void 0:n.getStreamParams();var c={ssrc:(i===null||i===void 0?void 0:i.vSsrc)||0,accessAddr:(a===null||a===void 0?void 0:a.accessAddr)||"",SFUAddr:(i===null||i===void 0?void 0:i.ipAddress)||"",codec:"h264",picW:t.width,picH:t.height,bitrate:t.bitRate,frameRate:t.frameRate,lostPktCnt:t.lostPktCnt,finalLostPktCnt:t.lostPktCnt,maxContLostPkts:t.lostPktCnt,rtt:t.rtt,jitter:t.jitter,bytes:t.totalByteReceived,packets:t.totalPacketsReceived,JBDepth:0,playTotalTime:t.totalStatisticTime,decFrameCnt:t.totalDecodeFrames,freeze200Cnt:t.total200FreezeCnt,freeze200Duration:t.total200FreezeTime,freeze600Cnt:t.total600VFreezeCnt,freeze600Duration:t.total600VFreezeTime,iFrameCnt:t.keyFrames,pFrameCnt:t.totalDecodeFrames,bFrameCnt:0,downloadDelay:t.downloadDelay,delayInfo:t.delayInfo,framesReceived:t.framesReceived,framesDropped:t.framesDropped,framesDecoded:t.framesDecoded,nackCnt:t.nackCnt,pliCnt:t.pliCnt,firCnt:t.firCnt};c=this.generateCommonReportInfo(c,o.QosEvents.EVENT_VIDEO_QOS,"qos^video_downstreams_qos^SDK^APP");u["default"].addRecord(c)}},{key:"reportAudioQos",value:function e(t){var r,n;if(!this.isStatiscEnable()||!t){return}var i=(r=s.GlobalVariableManager.getInstance(this.identifiedId))===null||r===void 0?void 0:r.getSfuInfo();var a=(n=s.GlobalVariableManager.getInstance(this.identifiedId))===null||n===void 0?void 0:n.getStreamParams();var c={ssrc:i===null||i===void 0?void 0:i.aSsrc,accessAddr:(a===null||a===void 0?void 0:a.accessAddr)||"",SFUAddr:(i===null||i===void 0?void 0:i.ipAddress)||"",codec:"opus",bitrate:t.bitRate,lostPktCnt:t.lostPktCnt,finalLostPktCnt:t.lostPktCnt,maxContLostPkts:t.lostPktCnt,rtt:t.rtt,jitter:t.jitter,bytes:t.totalByteReceived,packets:t.totalPacketsReceived,JBDepth:0,playTotalTime:t.totalStatisticTime,freeze200Cnt:t.total200FreezeCnt,freeze200Duration:t.total200FreezeTime,nackCnt:t.nackCnt};c=this.generateCommonReportInfo(c,o.QosEvents.EVENT_AUDIO_QOS,"qos^audio_downstreams_qos^SDK^APP");u["default"].addRecord(c)}},{key:"startMediaStatistic",value:function e(){var t=this;if(this.mediaStatisticTimer){return}this.mediaStatisticTimer=setTimeout((function(){try{t.mediaStatisticHandler()}catch(e){i.LoggerFactory.error(t.module_,"Media Statistic occur error: ".concat(e))}finally{clearTimeout(t.mediaStatisticTimer);delete t.mediaStatisticTimer;t.startMediaStatistic()}}),C*1e3)}},{key:"cancelMediaStatistic",value:function e(){this.mediaStatisticHandler();clearTimeout(this.mediaStatisticTimer);delete this.mediaStatisticTimer}},{key:"mediaStatisticHandler",value:function e(){var t;var r=(t=s.GlobalVariableManager.getInstance(this.identifiedId))===null||t===void 0?void 0:t.getSfuInfo();if(!r){return}if(r.aSsrc){var n=a.MediaStats.getMediaStatistic(r.connectionId||"",r.aSsrc,l.MediaType.TRACK_TYPE_AUDIO);if(n){var i;this.reportAudioQos(n);(i=s.GlobalVariableManager.getInstance(this.identifiedId))===null||i===void 0||i.addAudioStatisticCache(n)}}if(r.vSsrc){var o=a.MediaStats.getMediaStatistic(r.connectionId||"",r.vSsrc,l.MediaType.TRACK_TYPE_VIDEO);if(o){var u;this.reportVideoQos(o);(u=s.GlobalVariableManager.getInstance(this.identifiedId))===null||u===void 0||u.addVideoStatisticCache(o)}}}},{key:"generateCommonReportInfo",value:function e(t,n,i){var o,u,l;var f=(o=s.GlobalVariableManager.getInstance(this.identifiedId))===null||o===void 0?void 0:o.getStreamParams();var d=(u=s.GlobalVariableManager.getInstance(this.identifiedId))===null||u===void 0?void 0:u.getPullMediaParams();var h=(l=s.GlobalVariableManager.getInstance(this.identifiedId))===null||l===void 0?void 0:l.getSfuInfo();if(f){this.commInfo=v(v({},this.commInfo),{session:(f===null||f===void 0?void 0:f.sessionId)||"",domain:(f===null||f===void 0?void 0:f.streamDomain)||"",appName:(f===null||f===void 0?void 0:f.appName)||"",streamName:(f===null||f===void 0?void 0:f.streamName)||"",svrSid:(d===null||d===void 0?void 0:d.svrSid)||"",clientAddr:(d===null||d===void 0?void 0:d.clientAddr)||""})}return v(v(v({},t),this.commInfo),{ctime:r["default"].getCurrentSyncTimestamp(),event:n,eventName:i,netType:c["default"].getNetworkType()||a.MediaStats.getConnectionNetType((h===null||h===void 0?void 0:h.connectionId)||"")})}},{key:"isStatiscEnable",value:function e(){return n.parametersUtil.getParameter(n.parameterValidKeys.OPS_STATISC_ENABLE)!==false}}])}();w([(0,f.printfDecorator)(T)],A.prototype,"startMediaStatistic",null)}))},8066:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(8495),r(7354),r(2216),r(5268),r(4772),r(3652)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.MediaStats=void 0;t=s(t);r=s(r);function s(e){return e&&e.__esModule?e:{default:e}}function u(){"use strict";u=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function f(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",g="completed",m={};function y(){}function b(){}function E(){}var S={};l(S,a,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,a)&&(S=T);var C=E.prototype=y.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==_(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=h;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=d(t,r,n);if("normal"===c.type){if(i=n.done?g:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(_(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=l(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),l(R.prototype,s,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return a=t.done,t},e:function e(t){s=!0,o=t},f:function e(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==_(t)?t:t+""}function y(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e){"@babel/helpers - typeof";return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}var b=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":_(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var E=new a.Log({module:"MediaStats"});var S={audio:function e(){return"packetsReceived"},video:function e(t){if(Object.prototype.hasOwnProperty.call(t,"framesDecoded")){return"framesDecoded"}if(Object.prototype.hasOwnProperty.call(t,"framesReceived")){return"framesReceived"}return"packetsReceived"}};var w={audio200:200,video200:200,video600:600};var T=2e3;var C=e.MediaStats=function(){function e(){p(this,e)}return g(e,null,[{key:"startUpMediaStats",value:function e(r){t["default"].connectionRegister(r)}},{key:"shutDownMediaStats",value:function e(r){t["default"].reset(r)}},{key:"getLeastestVideoInfo",value:function e(r,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!n){return null}return t["default"].getleastestStats(r,i?"inbound-rtp_video_".concat(n):"remote-inbound-rtp_video_".concat(n))}},{key:"getLeastestAudioInfo",value:function e(r,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!n){return null}return t["default"].getleastestStats(r,i?"inbound-rtp_audio_".concat(n):"remote-inbound-rtp_audio_".concat(n))}},{key:"getConnectionNetType",value:function e(r){var n;var i=(n=t["default"].getleastestStats(r))===null||n===void 0?void 0:n.data;if(!i){return""}var o="";var a=f(i.values()),s;try{for(a.s();!(s=a.n()).done;){var u=s.value;if(u.type==="local-candidate"){o=u.networkType;break}}}catch(e){a.e(e)}finally{a.f()}return o!=="unknown"?o:"other"}},{key:"getCandidatePairProtocol",value:function(){var e=l(u().mark((function e(n){var i,o,a;var s;return u().wrap((function e(u){while(1)switch(u.prev=u.next){case 0:u.next=2;return r["default"].sleep(800);case 2:s=(i=t["default"].getleastestStats(n))===null||i===void 0?void 0:i.data;if(s){u.next=5;break}return u.abrupt("return","udp");case 5:return u.abrupt("return",((o=s.get((a=s.get("candidate-pair"))===null||a===void 0?void 0:a.localCandidateId))===null||o===void 0?void 0:o.protocol)||"udp");case 6:case"end":return u.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()},{key:"getSendAudioMediaStatistic",value:function e(r,n){var i,o,a,s;var u=t["default"].getHistoryDatas(r);if(!u||u.size()<1){return null}var c=u.size();var l=u.getElement(0);var f=u.getElement(c-1);if(!l||!f){return{rtt:0,totalPacketsSend:0,totalByteSend:0,bitRate:0,lostPktCnt:0,jitter:0}}var d=(i=l.data)===null||i===void 0?void 0:i.get("outbound-rtp_audio_".concat(n));var h=(o=l.data)===null||o===void 0?void 0:o.get("remote-inbound-rtp_audio_".concat(n));var p=(a=f.data)===null||a===void 0?void 0:a.get("outbound-rtp_audio_".concat(n));var v=(s=f.data)===null||s===void 0?void 0:s.get("remote-inbound-rtp_audio_".concat(n));if(!d||!h||!p||!v){return null}var g=d.timestamp-p.timestamp;var m=h.timestamp-v.timestamp;var y=d.bytesSent-p.bytesSent;var _=h.packetsLost-v.packetsLost;return{rtt:h.roundTripTime,totalPacketsSend:d.packetsSent,totalByteSend:d.bytesSent,bitRate:Math.round(y*8/(g||1)),lostPktCnt:Math.round(_*1e3/(m||1)),jitter:Math.round(h.jitter*1e3)}}},{key:"getMediaStatistic",value:function n(o,a,s){var u=t["default"].getHistoryDatas(o);if(!u||u.size()<1){return null}var c=s===i.MediaType.TRACK_TYPE_AUDIO?1:2;var l=[];var f=0;for(var d=0;d<u.size();d++){var h=u.getElement(d);if(!h){continue}if((h.processed&c)>0){continue}h.processed=h.processed|c;var p=h.data;if(!p){continue}var v=p.get("inbound-rtp_".concat(s,"_").concat(a));if(v){l.push(v);var g=p.get("candidate-pair");if(!g){continue}if(Object.prototype.hasOwnProperty.call(g,"currentRoundTripTime")){f+=r["default"].getValue(g.currentRoundTripTime,0)*1e3}else{f+=Math.abs(r["default"].getValue(g.lastPacketReceivedTimestamp,0)-r["default"].getValue(g.lastPacketSentTimestamp,0))}}}var m=l.length;if(m===0){return null}var y=l[0];var _=m>1?l[m-1]:{};var b=S[s](y);var E=r["default"].getValue(y.bytesReceived,0);var w=r["default"].getValue(y.packetsReceived,0);var T=Math.max(E-r["default"].getValue(_.bytesReceived,0),0);var C=Math.max(y.packetsLost-r["default"].getValue(_.packetsLost,0),0);var A=e.calcFreezeStatistic(l,b,s),R=A.total200FreezeTime,I=A.total200FreezeCnt,k=A.total600VFreezeTime,O=A.total600VFreezeCnt,P=A.totalJetter,M=A.totalStatisticTime,x=A.validSampleCount;var L={rtt:Math.ceil(f/m),total200FreezeTime:R,total200FreezeCnt:I,totalStatisticTime:M,totalPacketsReceived:w,totalByteReceived:E,bitRate:Math.round(T*8/(M||1)),lostPktCnt:C,jitter:Math.round(P*1e3/x),nackCnt:r["default"].getValue(y.nackCount,0)};if(s===i.MediaType.TRACK_TYPE_AUDIO){return L}return e.getVideoMediaStatistic({oldestSample:_,newestSample:y,totalStatisticTime:M,statisticInfo:L,total600VFreezeTime:k,total600VFreezeCnt:O})}},{key:"getVideoMediaStatistic",value:function e(t){var n=t.oldestSample,i=t.newestSample,o=t.totalStatisticTime,a=t.statisticInfo,s=t.total600VFreezeTime,u=t.total600VFreezeCnt;var c=r["default"].getValue(i.framesReceived,0);var l=r["default"].getValue(i.framesDecoded,0);var f=r["default"].getValue(i.framesDropped,0);var d=Math.max(l-r["default"].getValue(n.framesDecoded,0),0);var h=Math.max(i.keyFramesDecoded-r["default"].getValue(n.keyFramesDecoded,0),0);var p=d*1e3/(o||1);var v=(r["default"].getValue(i.jitterBufferDelay,0)-r["default"].getValue(n.jitterBufferDelay,0))/Math.max(r["default"].getValue(i.jitterBufferEmittedCount,0)-r["default"].getValue(n.jitterBufferEmittedCount,0),1)*1e3;var g={rtt:a.rtt,jitterBufferDelay:r["default"].getValue(i.jitterBufferDelay,0),jitterBufferEmittedCount:r["default"].getValue(i.jitterBufferEmittedCount,0),framesPerSecond:i.framesPerSecond||Math.ceil(p),jbDelay:Math.ceil(Math.max(v,0)),frameDelay:Math.max((c-l-f)/r["default"].getValue(p,1),0)*1e3};var m=Math.ceil(g.rtt+g.jbDelay+g.frameDelay);Object.assign(a,{width:r["default"].getValue(i.frameWidth,0),height:r["default"].getValue(i.frameHeight,0),totalDecodeFrames:d,frameRate:Math.ceil(p),keyFrames:h,delayInfo:g,downloadDelay:m,framesReceived:c,framesDecoded:l,framesDropped:f,total600VFreezeTime:s,total600VFreezeCnt:u,pliCnt:r["default"].getValue(i.pliCount,0),firCnt:r["default"].getValue(i.firCount,0)});return a}},{key:"calcFreezeStatistic",value:function t(o,a,s){var u=0;var c=0;var l=0;var f=0;var d=0;var h=0;var p=0;var v=0;var g=0;var m=s!==i.MediaType.TRACK_TYPE_AUDIO;var y=Object.prototype.hasOwnProperty.call(o[0],"timestamp");if(o.length<2){return{total200FreezeTime:f,total200FreezeCnt:d,total600VFreezeTime:p,total600VFreezeCnt:v,totalJetter:r["default"].getValue(o[0].jitter,0),totalStatisticTime:n.configs.STATISTIC_INTERVAL,validSampleCount:1}}for(var _=0;_<o.length;_++){if(_===0){u++;g+=r["default"].getValue(o[_].jitter,0);continue}var b=y?Math.round(r["default"].getValue(o[_-1].timestamp,0)-r["default"].getValue(o[_].timestamp,0)):n.configs.STATISTIC_INTERVAL;if(e.loopContinueCheckFreezeStatistic(o[_],o[_-1],b,a)){break}u++;g+=r["default"].getValue(o[_].jitter,0);c+=b;if(o[_-1][a]===o[_][a]){var E=b;l+=E;if(m){h+=E}continue}if(l>=w["".concat(s,"200")]){f+=l;d++}l=0;if(m&&h>=w["".concat(s,"600")]){p+=h;v++}h=0}if(l>=w["".concat(s,"200")]){f+=l;d++}if(m&&h>=w["".concat(s,"600")]){p+=h;v++}return{total200FreezeTime:f,total200FreezeCnt:d,total600VFreezeTime:p,total600VFreezeCnt:v,totalJetter:g,totalStatisticTime:c,validSampleCount:u}}},{key:"loopContinueCheckFreezeStatistic",value:function e(t,r,n,i){if(!t||t.bytesReceived===0&&t.packetsReceived===0){E.error("loopContinueCheckFreezeStatistic Has no data at start, ignore sample: ".concat(t.timestamp));return true}if(n>T){E.error("loopContinueCheckFreezeStatistic Has huge gap between ".concat(t.timestamp," - ").concat(r.timestamp,", ignore sample: ").concat(t.timestamp,", deltaTimeStamp: ").concat(n));return true}var o=t[i]!==0;if(!o){E.error("first frame has not received yet, ignore stuck statistic");return true}return false}}])}();b([(0,o.printfDecorator)(E)],C,"calcFreezeStatistic",null)}))},6620:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var r=a(e,"string");return"symbol"==t(r)?r:r+""}function a(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var s=function(){function e(){var t=this;r(this,e);var n=navigator.connection;if(!n){return}this.networkType=n.type||"";this.networkRTT=n.rtt||-1;this.downlink=n.downlink||-1;if(Object.prototype.hasOwnProperty.call(navigator.connection,"onchange")){navigator.connection.onchange=function(){var e=navigator.connection;t.networkType=(e===null||e===void 0?void 0:e.type)||"";t.networkRTT=(e===null||e===void 0?void 0:e.rtt)||-1;t.downlink=(e===null||e===void 0?void 0:e.downlink)||-1}}}return i(e,[{key:"getNetworkType",value:function e(){return this.networkType}},{key:"getNetworkRTT",value:function e(){return this.networkRTT}},{key:"getNetworkInfo",value:function e(){return{networkType:this.networkType,networkRTT:this.networkRTT,downlink:this.downlink}}}])}();var u=new s;var c=e["default"]=u}))},6334:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7007),r(5268)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.BaseTrack=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=u(e,"string");return"symbol"==n(t)?t:t+""}function u(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=e.BaseTrack=function(){function e(r){i(this,e);this.trackType_=r.trackType;this.track_=r.track;this.playState_=2;this.trackMuted_=false;this.event_=r.event||new t.EventEmitter}return a(e,[{key:"getTrackType",value:function e(){return this.trackType_}},{key:"getTrackId",value:function e(){return this.trackId_}},{key:"getElementId",value:function e(){return this.elementId_}},{key:"getObjectFit",value:function e(){return this.objectFit_}},{key:"getTrack",value:function e(){return this.track_}},{key:"getTrackMuted",value:function e(){if(this.track_){return!this.track_.enabled}return this.trackMuted_}},{key:"muteTrack",value:function e(){if(this.track_){this.track_.enabled=false}this.trackMuted_=true}},{key:"setAudioVolume",value:function e(t){if(this.trackType_!==r.MediaType.TRACK_TYPE_AUDIO){return}this.audioVolume_=t/100;if(this.player_){this.player_.setVolume(this.audioVolume_)}}},{key:"getAudioLevel",value:function e(){if(this.trackType_!==r.MediaType.TRACK_TYPE_AUDIO||!this.player_){return 0}return this.player_.getAudioLevel()}}])}()}))},6799:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7354),r(4341),r(4772),r(3652),r(7098)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;t=a(t);o=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==d(t)?t:t+""}function f(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e){"@babel/helpers - typeof";return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var h=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":d(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var p=new i.Log({module:"ConstraintUtil"});var v=function e(n,i){if(t["default"].isSupportConstraints("aspectRatio")&&!o["default"].isSafari){n.aspectRatio={ideal:i.width/i.height}}n.width=o["default"].isSafari?{min:r.RTCVideoProfileMap["90p_2"].width}:{min:r.RTCVideoProfileMap["90p_2"].width,ideal:i.width};n.height=o["default"].isSafari?{min:r.RTCVideoProfileMap["90p_2"].height}:{min:r.RTCVideoProfileMap["90p_2"].height,ideal:i.height};n.frameRate=i.frameRate};var g=e["default"]=function(){function e(){s(this,e)}return c(e,null,[{key:"getOptimalVideoConstraint",value:function e(t,r){var n={};var i=[];if(["user","environment","left","right"].includes(t)){n.facingMode={exact:t}}else{n.deviceId={exact:t}}var o=[{width:r.width,height:r.height},{aspectRatio:r.width/r.height}];i.push.apply(i,o);v(n,r);n.advanced=i;var a={};a.video=n;return a}},{key:"getSuboptimalVideoConstraint",value:function e(t,r){var n={};if(["user","environment","left","right"].includes(t)){n.facingMode={exact:t}}else{n.deviceId={exact:t}}v(n,r);var i={};i.video=n;return i}},{key:"getNextVideoConstraint",value:function e(t,r){var n={};if(["user","environment","left","right"].includes(t)){n.facingMode={exact:t}}else{n.deviceId={exact:t}}v(n,r);var i={};i.video=n;return i}},{key:"getWorstVideoConstraint",value:function e(t,r){var n={};if(["user","environment","left","right"].includes(t)){n.facingMode={ideal:t}}else{n.deviceId={ideal:t}}v(n,r);var i={};i.video=n;return i}},{key:"getRecoveryVideoConstraint",value:function e(){var t={};t.video=true;return t}},{key:"initAudioConstraint",value:function e(t,r){var n={};var i={sampleRate:r.sampleRate,channelCount:r.channelCount,deviceId:t,echoCancellation:true};i.noiseSuppression=true;i.autoGainControl=true;n.audio=i;return n}}])}();h([(0,n.printfDecorator)(p)],g,"initAudioConstraint",null)}))},1516:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7007),r(5575)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){"use strict";i=function e(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(n,o){function a(){return new t((function(e,t){r(n,o,e,t)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==n(t)?t:t+""}function f(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=e["default"]=function(){function e(){s(this,e);this.eventEmitter=new t.EventEmitter;this.onCallbackMap_=new Map}return c(e,[{key:"on",value:function e(t,r,n){var i;n?this.onWithTimeout(t,r):(i=this.eventEmitter)===null||i===void 0?void 0:i.on(t,r)}},{key:"off",value:function e(t,r,n){var i;n?this.offWithTimeout(t,r):(i=this.eventEmitter)===null||i===void 0?void 0:i.off(t,r)}},{key:"emit",value:function e(t,r){var n;(n=this.eventEmitter)===null||n===void 0||n.emit(t,r)}},{key:"onWithTimeout",value:function e(t,r){var n;var i=this.getOnCallback(t,r);(n=this.eventEmitter)===null||n===void 0||n.on(t,i)}},{key:"offWithTimeout",value:function e(t,r){var n;(n=this.eventEmitter)===null||n===void 0||n.off(t,this.getOffCallback(t,r)||r)}},{key:"getOnCallback",value:function e(t,n){var o=function(){var e=a(i().mark((function e(t){return i().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.t0=r.FunctionUtil;i.t1=Promise;i.next=4;return n;case 4:i.t2=i.sent;if(!i.t2){i.next=7;break}i.t2=n(t);case 7:i.t3=i.t2;i.t4=i.t1.resolve.call(i.t1,i.t3);i.next=11;return i.t0.callWithTimeout.call(i.t0,i.t4,1e4);case 11:case"end":return i.stop()}}),e)})));return function t(r){return e.apply(this,arguments)}}();var s=this.onCallbackMap_.get(t)||[];s.push({func:n,callbackFun:o});this.onCallbackMap_.set(t,s);return o}},{key:"getOffCallback",value:function e(t,r){var n=this.onCallbackMap_.get(t)||[];var i=n.findIndex((function(e){return e.func===r}));if(i>-1){var o;var a=(o=n[i])===null||o===void 0?void 0:o.callbackFun;n.splice(i,1);return a}return null}}])}()}))},5442:function(e,t,r){var n,i,o;function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(a,s){if(true){!(i=[t,r(9974),r(7354),r(9611),r(8024),r(260),r(8441),r(5268),r(6334)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,s,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.HLLSTrack=void 0;r=l(r);function l(e){return e&&e.__esModule?e:{default:e}}function f(){"use strict";f=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};l(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=l(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),l(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,c,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function d(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==a(t)?t:t+""}function y(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r){return t=w(t),b(e,S()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function b(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function t(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}var A="HLLSTrack";var R=e.HLLSTrack=function(e){function a(e){var t;p(this,a);t=_(this,a,[e]);t.trackId_=r["default"].generateStandardUuid();if(t.trackType_===u.MediaType.TRACK_TYPE_AUDIO){t.audioStart=function(){t.event_.emit(n.HWLLSEvents.AUDIO_START)}}else{t.videoStart=function(){t.event_.emit(n.HWLLSEvents.VIDEO_START)};t.fullScreenStatusHandler=function(e){t.event_.emit(n.HWLLSEvents.FULLSCREEN_STATUS_CHANGED,e)}}t.statusTraceReporter_=function(e){t.event_.emit(n.RTCStreamEvent.PLAYER_STATE_TRACE,e)};return t}T(a,e);return g(a,[{key:"replaceTrack",value:function(){var e=h(f().mark((function e(t){var r;return f().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:(r=this.player_)===null||r===void 0||r.replaceTrack(t);this.track_=t;this.track_.enabled=!this.trackMuted_;case 5:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeTrack",value:function e(){this.player_&&this.player_.stop();delete this.track_}},{key:"play",value:function(){var e=h(f().mark((function e(r,n,o){var a,s;return f().wrap((function e(u){while(1)switch(u.prev=u.next){case 0:a=this.getTrackType();i.LoggerFactory.info(A,"".concat(a," track begin play, elementId: ").concat(n,", playerDiv.id: ").concat(r.id,", options: ").concat(JSON.stringify(o)," "));if(!(this.playState_===1)){u.next=5;break}i.LoggerFactory.info(A,"".concat(a," track is playing, return "));return u.abrupt("return",{trackType:a});case 5:if(this.track_){u.next=8;break}i.LoggerFactory.error(A,"".concat(a," track is empty"));return u.abrupt("return",{trackType:a,error:new t.HwLLSError(t.ErrorCode.HWLLS_INTERNAL_ERROR,"".concat(a," track is empty"))});case 8:this.elementId_=n;this.initPlyer(r,o);this.addPlayerEvent();i.LoggerFactory.info(A,"play ".concat(a," track start"));this.playState_=1;u.prev=13;u.next=16;return this.player_.play();case 16:return u.abrupt("return",{trackType:a});case 19:u.prev=19;u.t0=u["catch"](13);s=u.t0 instanceof t.HwLLSError&&/.*timeout.*/i.test(u.t0.getMsg());i.LoggerFactory[s?"warn":"error"](A,"play ".concat(a," failed: ").concat(u.t0," "));if(!s){this.playState_=2}return u.abrupt("return",{trackType:a,error:u.t0});case 25:case"end":return u.stop()}}),e,this,[[13,19]])})));function r(t,r,n){return e.apply(this,arguments)}return r}()},{key:"initPlyer",value:function e(t,r){switch(this.trackType_){case u.MediaType.TRACK_TYPE_AUDIO:{if(!this.player_){i.LoggerFactory.info(A,"create AudioPlayer");this.player_=new s.RTCAudioPlayer({playerDiv:t,playerId:"player",track:this.track_,muted:r===null||r===void 0?void 0:r.muted,volume:this.audioVolume_,autoPlay:r===null||r===void 0?void 0:r.autoPlay})}break}case u.MediaType.TRACK_TYPE_VIDEO:{this.objectFit_=r===null||r===void 0?void 0:r.objectFit;if(!this.player_){i.LoggerFactory.info(A,"create VideoPlayer");this.player_=new o.RTCVideoPlayer({parentDiv:t,playerId:"player",track:this.track_,objectFit:r===null||r===void 0?void 0:r.objectFit,autoPlay:r===null||r===void 0?void 0:r.autoPlay,poster:r===null||r===void 0?void 0:r.poster})}break}default:break}}},{key:"addPlayerEvent",value:function e(){if(this.trackType_===u.MediaType.TRACK_TYPE_AUDIO){this.player_.off(n.HWLLSEvents.AUDIO_START,this.audioStart);this.player_.on(n.HWLLSEvents.AUDIO_START,this.audioStart)}else{this.player_.off(n.HWLLSEvents.VIDEO_START,this.videoStart);this.player_.on(n.HWLLSEvents.VIDEO_START,this.videoStart);this.player_.off(n.HWLLSEvents.FULLSCREEN_STATUS_CHANGED,this.fullScreenStatusHandler);this.player_.on(n.HWLLSEvents.FULLSCREEN_STATUS_CHANGED,this.fullScreenStatusHandler)}this.player_.off(n.RTCStreamEvent.PLAYER_STATE_TRACE,this.statusTraceReporter_);this.player_.on(n.RTCStreamEvent.PLAYER_STATE_TRACE,this.statusTraceReporter_)}},{key:"stop",value:function e(){if(!this.player_){i.LoggerFactory.info(A,"".concat(this.getTrackType()," player is null"));return}if(this.trackType_===u.MediaType.TRACK_TYPE_AUDIO){this.player_.off(n.HWLLSEvents.AUDIO_START,this.audioStart)}else{this.player_.off(n.HWLLSEvents.VIDEO_START,this.videoStart)}this.player_.stop();this.player_=null;this.trackMuted_=false;i.LoggerFactory.info(A,"".concat(this.getTrackType()," stop player success"));this.elementId_="";i.LoggerFactory.info(A,"".concat(this.getTrackType()," close success"));this.playState_=2}},{key:"resume",value:function(){var e=h(f().mark((function e(){return f().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(this.player_){r.next=3;break}i.LoggerFactory.info(A,"".concat(this.getTrackType()," player is null"));throw new t.HwLLSError(t.ErrorCode.HWLLS_INTERNAL_ERROR,"".concat(this.getTrackType()," player is null"));case 3:r.prev=3;r.next=6;return this.player_.resume();case 6:r.next=12;break;case 8:r.prev=8;r.t0=r["catch"](3);i.LoggerFactory.error(A,"".concat(this.getTrackType()," resume failed: ").concat(r.t0," "));throw r.t0;case 12:case"end":return r.stop()}}),e,this,[[3,8]])})));function r(){return e.apply(this,arguments)}return r}()},{key:"pause",value:function e(){if(!this.player_){i.LoggerFactory.info(A,"".concat(this.getTrackType()," player is null"));throw new t.HwLLSError(t.ErrorCode.HWLLS_INTERNAL_ERROR,"".concat(this.getTrackType()," player is null"))}this.player_.pause()}},{key:"setAudioOutput",value:function(){var e=h(f().mark((function e(r){var n;return f().wrap((function e(o){while(1)switch(o.prev=o.next){case 0:if(this.player_){o.next=3;break}i.LoggerFactory.info(A,"".concat(this.getTrackType()," player is null"));throw new t.HwLLSError(t.ErrorCode.HWLLS_INTERNAL_ERROR,"".concat(this.getTrackType()," player is null"));case 3:o.next=5;return(n=this.player_)===null||n===void 0?void 0:n.setSinkId(r);case 5:case"end":return o.stop()}}),e,this)})));function r(t){return e.apply(this,arguments)}return r}()},{key:"unmuteTrack",value:function e(){if(this.track_){this.track_.enabled=true}if(this.player_.isMuted&&this.player_.isMuted()){this.player_.setVolume()}this.trackMuted_=false}},{key:"muteAudio",value:function e(t){this.player_.muteAudio(t)}},{key:"replay",value:function(){var e=h(f().mark((function e(){return f().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(this.player_){r.next=3;break}i.LoggerFactory.info(A,"".concat(this.getTrackType()," player is null"));throw new t.HwLLSError(t.ErrorCode.HWLLS_INTERNAL_ERROR,"".concat(this.getTrackType()," player is null"));case 3:this.addPlayerEvent();i.LoggerFactory.info(A,"rePlay ".concat(this.getTrackType()," track start"));this.playState_=1;r.prev=6;r.next=9;return this.player_.play();case 9:r.next=16;break;case 11:r.prev=11;r.t0=r["catch"](6);i.LoggerFactory.error(A,"replay".concat(this.getTrackType(),", replay failed: ").concat(r.t0));this.playState_=2;throw r.t0;case 16:case"end":return r.stop()}}),e,this,[[6,11]])})));function r(){return e.apply(this,arguments)}return r}()},{key:"exitFullScreen",value:function e(){var t;if(this.trackType_===u.MediaType.TRACK_TYPE_AUDIO){return}(t=this.player_)===null||t===void 0||t.exitFullScreen()}},{key:"enterFullScreen",value:function e(){var t;if(this.trackType_===u.MediaType.TRACK_TYPE_AUDIO){return}(t=this.player_)===null||t===void 0||t.enterFullScreen()}}])}(c.BaseTrack)}))},1236:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(9974),r(4341),r(3444),r(3652),r(5268),r(6799),r(8441),r(260),r(4772),r(6334)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.HRTCTrack=void 0;n=f(n);a=f(a);function f(e){return e&&e.__esModule?e:{default:e}}function d(){"use strict";d=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",v="executing",g="completed",m={};function y(){}function _(){}function b(){}var E={};c(E,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(x([])));w&&w!==r&&n.call(w,a)&&(E=w);var T=b.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==R(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=h;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=f(t,r,n);if("normal"===c.type){if(i=n.done?g:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(R(t)+" is not iterable")}return _.prototype=b,i(T,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new A(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(T),c(T,u,"Generator"),c(T,a,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function h(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,s,"next",e)}function s(e){h(o,n,i,a,s,"throw",e)}a(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=_(e,"string");return"symbol"==R(t)?t:t+""}function _(e,t){if("object"!=R(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function b(e,t,r){return t=T(t),E(e,w()?Reflect.construct(t,r||[],T(e).constructor):t.apply(e,r))}function E(e,t){if(t&&("object"==R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function t(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function R(e){"@babel/helpers - typeof";return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}var I=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":R(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var k=new i.Log({module:"HRTCTrack"});var O="HRTCTrack";var P=e.HRTCTrack=function(e){function i(e){var t;v(this,i);t=b(this,i,[e]);t.streamType_=e.streamType;t.isRemote_=e.isRemote;t.resolutionId_=e.resolutionId;if(e.track){t.setLocalProfileByTrack(e.track)}else{t.setTrackProfile(e.trackProfile)}if(t.trackType_===o.MediaType.TRACK_TYPE_AUDIO){t.statusChangeReporter_=function(e){t.event_.emit(r.RTCStreamEvent.PLAYER_STATE_CHANGED,{type:o.MediaType.TRACK_TYPE_AUDIO,id:t.getResolutionId(),state:e.state,reason:e.reason})}}else{t.statusChangeReporter_=function(e){t.event_.emit(r.RTCStreamEvent.PLAYER_STATE_CHANGED,{type:o.MediaType.TRACK_TYPE_VIDEO,id:t.getResolutionId(),state:e.state,reason:e.reason})}}t.statusTraceReporter_=function(e){t.event_.emit(r.RTCStreamEvent.PLAYER_STATE_TRACE,e)};return t}C(i,e);return m(i,[{key:"initAudioCapture",value:function(){var e=p(d().mark((function e(t){var r;return d().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:r=a["default"].initAudioConstraint(t,this.profile_);n.next=3;return this.getUserMedia(r,o.MediaType.TRACK_TYPE_AUDIO,o.ContentType.main);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initVideoCapture",value:function(){var e=p(d().mark((function e(t,r){var n;return d().wrap((function e(s){while(1)switch(s.prev=s.next){case 0:k.info(O,"initVideoCapture, try getOptimalVideoConstraint");s.next=3;return this.getUserMedia(a["default"].getOptimalVideoConstraint(t,this.profile_),o.MediaType.TRACK_TYPE_VIDEO,r);case 3:n=s.sent;if(!i.isTrackAvailable(n.track)){s.next=6;break}return s.abrupt("return",n);case 6:k.info(O,"initVideoCapture, try getSuboptimalVideoConstraint");s.next=9;return this.getUserMedia(a["default"].getSuboptimalVideoConstraint(t,this.profile_),o.MediaType.TRACK_TYPE_VIDEO,r);case 9:n=s.sent;if(!i.isTrackAvailable(n.track)){s.next=12;break}return s.abrupt("return",n);case 12:k.info(O,"initVideoCapture, try getNextVideoConstraint");s.next=15;return this.getUserMedia(a["default"].getNextVideoConstraint(t,this.profile_),o.MediaType.TRACK_TYPE_VIDEO,r);case 15:n=s.sent;if(!i.isTrackAvailable(n.track)){s.next=18;break}return s.abrupt("return",n);case 18:k.info(O,"initVideoCapture, try getWorstVideoConstraint");s.next=21;return this.getUserMedia(a["default"].getWorstVideoConstraint(t,this.profile_),o.MediaType.TRACK_TYPE_VIDEO,r);case 21:n=s.sent;if(!i.isTrackAvailable(n.track)){s.next=24;break}return s.abrupt("return",n);case 24:k.info(O,"initVideoCapture, try getRecoveryVideoConstraint");s.next=27;return this.getUserMedia(a["default"].getRecoveryVideoConstraint(),o.MediaType.TRACK_TYPE_VIDEO,r);case 27:return s.abrupt("return",s.sent);case 28:case"end":return s.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUserMedia",value:function(){var e=p(d().mark((function e(t,r,n){var i,a,s,u;return d().wrap((function e(c){while(1)switch(c.prev=c.next){case 0:i={type:r};c.prev=1;(a=this.track_)===null||a===void 0||a.stop();c.next=5;return navigator.mediaDevices.getUserMedia(t);case 5:s=c.sent;u=r===o.MediaType.TRACK_TYPE_VIDEO?s.getVideoTracks()[0]:s.getAudioTracks()[0];c.next=9;return this.replaceTrack(u);case 9:i.track=this.track_;this.content=n;if(i.type===o.MediaType.TRACK_TYPE_VIDEO){this.setCameraCaptureReport()}return c.abrupt("return",i);case 15:c.prev=15;c.t0=c["catch"](1);i.error=this.handleCaptureError(c.t0,r);return c.abrupt("return",i);case 19:case"end":return c.stop()}}),e,this,[[1,15]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"setCameraCaptureReport",value:function e(){var t=this;if(this.cameraCaptureHandleTimer){clearInterval(this.cameraCaptureHandleTimer)}this.cameraCaptureHandleTimer=setInterval((function(){if(t.track_&&t.profile_){var e;var n=t.track_.getSettings();var i={width:t.profile_.width,height:t.profile_.height,frameRate:parseInt((e=t.profile_.frameRate)===null||e===void 0?void 0:e.toString())||0};t.event_.emit(r.RTCStreamInternalEvent.CameraCapture,n,i)}}),2e3)}},{key:"clearCameraCaptureReport",value:function e(){if(this.cameraCaptureHandleTimer){clearInterval(this.cameraCaptureHandleTimer)}}},{key:"handleCaptureError",value:function e(r,n){if(/.*Malformed constraints.*/gi.test(r.message)){k.warn(O,"init ".concat(n||"screen","capture getUserMedia failed, handleCaptureError: ").concat(r));return undefined}var i=r.name||"";var o;if(/.*NotAllowedError.*/gi.test(i)){o=new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED)}else if(/.*OverConstrainedError.*/gi.test(i)){o=new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED)}else if(/.*NotReadableError.*/gi.test(i)){o=new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE)}else if(/.*NotFoundError.*/gi.test(i)){o=new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND)}else{o=new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_RTC_SDK_ERROR,r.message)}k.error(O,"init ".concat(n||"screen","capture getUserMedia failed, handleCaptureError: ").concat(o));return o}},{key:"isClosed",value:function e(){return this.playState_===2}},{key:"isPlaying",value:function e(){return this.playState_===1}},{key:"getResolutionId",value:function e(){return this.resolutionId_}},{key:"setTrackId",value:function e(t){this.trackId_=t}},{key:"getTrackProfile",value:function e(){return this.profile_}},{key:"setTrackContentType",value:function e(t){this.content=t}},{key:"getTrackContentType",value:function e(){return this.content||o.ContentType.main}},{key:"updateTrackProfile",value:function e(t){if(this.trackType_!==o.MediaType.TRACK_TYPE_VIDEO||!t){return}this.profile_.width=t.width;this.profile_.height=t.height}},{key:"setTrackProfile",value:function e(t){k.info(O,"setTrackProfile begin,uniqueId_:".concat(this.resolutionId_,", ").concat(this.trackType_,",")+"".concat(this.streamType_,", profile:").concat(JSON.stringify(t)));if(this.trackType_===o.MediaType.TRACK_TYPE_AUDIO){this.profile_=n["default"].formatAudioProfile(t);return}if(this.trackType_===o.MediaType.TRACK_TYPE_VIDEO&&this.streamType_===o.StreamType.STREAM_TYPE_MAIN){this.profile_=n["default"].formatVideoProfile(t)}}},{key:"replaceTrack",value:function(){var e=p(d().mark((function e(t){var r;var n;return d().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:(r=this.player_)===null||r===void 0||r.replaceTrack(t);if(!this.isRemote_){(n=this.track_)===null||n===void 0||n.stop()}this.track_=t;this.track_.enabled=!this.trackMuted_;if(this.isRemote_){i.next=11;break}this.setLocalProfileByTrack(t);if(!(this.playState_===1)){i.next=11;break}i.next=11;return this.restart();case 11:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setLocalProfileByTrack",value:function e(t){this.profile_=n["default"].getLocalProfileByTrack(t);k.info(O,"setLocalProfileByTrack, this.profile_:".concat(JSON.stringify(this.profile_)))}},{key:"removeTrack",value:function e(){this.player_&&this.player_.stop();if(!this.isRemote_){var t;(t=this.track_)===null||t===void 0||t.stop()}this.track_=undefined}},{key:"play",value:function(){var e=p(d().mark((function e(n,i,a){var c,l;return d().wrap((function e(f){while(1)switch(f.prev=f.next){case 0:c=this.getTrackType();k.info(O,"".concat(c," track begin play, elementId:").concat(i,", playerDiv.id:").concat(n.id,", options:").concat(JSON.stringify(a)," "));if(!(this.playState_===1)){f.next=5;break}k.info(O,"".concat(c," track is playing, return"));return f.abrupt("return",{trackType:c});case 5:if(this.track_){f.next=8;break}k.error(O,"".concat(c," track is empty"));return f.abrupt("return",{trackType:c,error:new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_INVALID_OPERATION,"".concat(c," track is empty"))});case 8:this.elementId_=i;f.t0=this.trackType_;f.next=f.t0===o.MediaType.TRACK_TYPE_AUDIO?12:f.t0===o.MediaType.TRACK_TYPE_VIDEO?14:17;break;case 12:if(!this.player_){k.info(O,"create AudioPlayer");this.player_=new s.RTCAudioPlayer({playerDiv:n,playerId:this.getTrackId()||this.getResolutionId(),track:this.track_,muted:a===null||a===void 0?void 0:a.muted,volume:this.audioVolume_})}return f.abrupt("break",18);case 14:this.objectFit_=(a===null||a===void 0?void 0:a.objectFit)||"fill";if(!this.player_){k.info(O,"create VideoPlayer");this.player_=new u.RTCVideoPlayer({parentDiv:n,playerId:this.getTrackId()||this.getResolutionId(),track:this.track_,objectFit:a===null||a===void 0?void 0:a.objectFit})}return f.abrupt("break",18);case 17:return f.abrupt("break",18);case 18:this.player_.off(r.RTCStreamEvent.PLAYER_STATE_CHANGED,this.statusChangeReporter_);this.player_.on(r.RTCStreamEvent.PLAYER_STATE_CHANGED,this.statusChangeReporter_);this.player_.off(r.RTCStreamEvent.PLAYER_STATE_TRACE,this.statusTraceReporter_);this.player_.on(r.RTCStreamEvent.PLAYER_STATE_TRACE,this.statusTraceReporter_);k.info(O,"play ".concat(c," track start"));this.playState_=1;f.prev=24;f.next=27;return this.player_.play();case 27:return f.abrupt("return",{trackType:c});case 30:f.prev=30;f.t1=f["catch"](24);l=f.t1 instanceof t.HwLLSError&&/.*timeout.*/i.test(f.t1.getMsg());k[l?"warn":"error"](O,"play ".concat(c," failed: ").concat(f.t1));this.playState_=0;return f.abrupt("return",{trackType:c,error:f.t1});case 36:case"end":return f.stop()}}),e,this,[[24,30]])})));function n(t,r,n){return e.apply(this,arguments)}return n}()},{key:"replay",value:function(){var e=p(d().mark((function e(){return d().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(this.player_){n.next=3;break}k.info(O,"".concat(this.getTrackType()," player is null"));return n.abrupt("return",new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_INVALID_OPERATION,"".concat(this.getTrackType()," player is null")));case 3:this.player_.off(r.RTCStreamEvent.PLAYER_STATE_CHANGED,this.statusChangeReporter_);this.player_.on(r.RTCStreamEvent.PLAYER_STATE_CHANGED,this.statusChangeReporter_);this.player_.off(r.RTCStreamEvent.PLAYER_STATE_TRACE,this.statusTraceReporter_);this.player_.on(r.RTCStreamEvent.PLAYER_STATE_TRACE,this.statusTraceReporter_);k.info(O,"rePlay ".concat(this.getTrackType()," track start"));this.playState_=1;n.prev=9;n.next=12;return this.player_.play();case 12:return n.abrupt("return",undefined);case 15:n.prev=15;n.t0=n["catch"](9);k.error(O,"replay".concat(this.getTrackType(),", replay failed: ").concat(n.t0));this.playState_=0;return n.abrupt("return",n.t0);case 20:case"end":return n.stop()}}),e,this,[[9,15]])})));function n(){return e.apply(this,arguments)}return n}()},{key:"stop",value:function e(){if(!this.player_){k.info(O,"".concat(this.getTrackType()," player is null"));return}this.player_.off(r.RTCStreamEvent.PLAYER_STATE_CHANGED,this.statusChangeReporter_);this.player_.stop();this.player_=null;this.playState_=0;this.trackMuted_=false;k.info(O,"".concat(this.getTrackType()," stop player success"))}},{key:"close",value:function e(){this.stop();if(!this.isRemote_){var t;(t=this.track_)===null||t===void 0||t.stop()}this.elementId_="";k.info(O,"".concat(this.getTrackType()," close success"));this.playState_=2;this.clearCameraCaptureReport()}},{key:"resume",value:function(){var e=p(d().mark((function e(){return d().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:if(this.player_){t.next=3;break}k.info(O,"".concat(this.getTrackType()," player is null"));return t.abrupt("return",undefined);case 3:t.prev=3;t.next=6;return this.player_.resume();case 6:return t.abrupt("return",undefined);case 9:t.prev=9;t.t0=t["catch"](3);k.error(O,"".concat(this.getTrackType()," resume failed: ").concat(t.t0));return t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"restart",value:function(){var e=p(d().mark((function e(){return d().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:if(!this.player_){t.next=5;break}this.player_.stop();t.next=4;return this.player_.play();case 4:k.info(O,"restart success");case 5:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setAudioOutput",value:function e(t){if(this.trackType_!==o.MediaType.TRACK_TYPE_AUDIO||!this.player_){return}this.player_.setSinkId(t)}},{key:"unmuteTrack",value:function e(){if(this.track_){this.track_.enabled=true}this.trackMuted_=false}},{key:"setSinkId",value:function(){var e=p(d().mark((function e(t){return d().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!(this.trackType_!==o.MediaType.TRACK_TYPE_AUDIO||!this.player_)){r.next=2;break}return r.abrupt("return");case 2:r.next=4;return this.player_.setSinkId(t);case 4:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getVideoFrame",value:function e(){if(this.trackType_!==o.MediaType.TRACK_TYPE_VIDEO||!this.player_){return""}return this.player_.getVideoFrame()}}],[{key:"isTrackAvailable",value:function e(t){if(!t){return false}return t.enabled&&!t.muted&&t.readyState==="live"}}])}(l.BaseTrack);I([(0,c.printfDecorator)(k)],P.prototype,"initAudioCapture",null);I([(0,c.printfDecorator)(k)],P.prototype,"getUserMedia",null)}))},4341:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RTCVideoProfileMap=e.RTCVideoProfileList=e.RTCStreamInternalEventValue=e.RTCStreamInternalEvent=e.RTCStreamEvent=e.RTCStream=e.RTCScreenProfileMap=e.RTCScreenProfileList=e.RTCMediaAbility=e.RTCAudioProfileMap=e.RTCAudioProfileList=void 0;var t=e.RTCStreamEvent={PLAYER_STATE_CHANGED:"player-state-change",SCREEN_SHARING_STOPPED:"screen-sharing-stopped",AudioMixingFinished:"audio-mixing-finished",AudioMixingPlayed:"audio-mixing-played",PLAYER_STATE_TRACE:"player-state-trace"};var r=e.RTCStreamInternalEventValue=["camera-capture"];var n=e.RTCStreamInternalEvent={CameraCapture:r[0]};var i;(function(e){e[e["encode"]=0]="encode";e[e["decode"]=1]="decode";e[e["codec"]=2]="codec"})(i||(e.RTCMediaAbility=i={}));var o=e.RTCAudioProfileMap={low:{sampleRate:16e3,channelCount:1,bitrate:24e3},standard:{sampleRate:48e3,channelCount:1,bitrate:4e4},high:{sampleRate:48e3,channelCount:1,bitrate:128e3}};var a=e.RTCAudioProfileList=["low","standard","high"];var s=e.RTCVideoProfileMap={"90p_1":{width:160,height:90,frameRate:15,minBitrate:64e3,maxBitrate:11e4},"90p_2":{width:120,height:90,frameRate:15,minBitrate:64e3,maxBitrate:11e4},"120p_1":{width:160,height:120,frameRate:15,minBitrate:64e3,maxBitrate:12e4},"120p_2":{width:120,height:120,frameRate:15,minBitrate:64e3,maxBitrate:11e4},"180p_1":{width:320,height:180,frameRate:15,minBitrate:8e4,maxBitrate:32e4},"180p_2":{width:240,height:180,frameRate:15,minBitrate:8e4,maxBitrate:17e4},"180p_3":{width:180,height:180,frameRate:15,minBitrate:64e3,maxBitrate:13e4},"240p_1":{width:320,height:240,frameRate:15,minBitrate:1e5,maxBitrate:4e5},"240p_2":{width:240,height:240,frameRate:15,minBitrate:8e4,maxBitrate:32e4},"270p_1":{width:480,height:270,frameRate:15,minBitrate:16e4,maxBitrate:6e5},"300p_1":{width:400,height:300,frameRate:15,minBitrate:2e5,maxBitrate:5e5},"360p_1":{width:640,height:360,frameRate:15,minBitrate:2e5,maxBitrate:8e5},"360p_2":{width:480,height:360,frameRate:15,minBitrate:2e5,maxBitrate:7e5},"360p_3":{width:360,height:360,frameRate:15,minBitrate:15e4,maxBitrate:6e5},"450p_1":{width:800,height:450,frameRate:15,minBitrate:3e5,maxBitrate:95e4},"480p_1":{width:640,height:480,frameRate:15,minBitrate:25e4,maxBitrate:9e5},"480p_2":{width:480,height:480,frameRate:15,minBitrate:2e5,maxBitrate:8e5},"540p_1":{width:960,height:540,frameRate:15,minBitrate:4e5,maxBitrate:1e6},"630p_1":{width:1120,height:630,frameRate:15,minBitrate:45e4,maxBitrate:115e4},"720p_1":{width:1280,height:720,frameRate:15,minBitrate:5e5,maxBitrate:15e5},"720p_2":{width:960,height:720,frameRate:15,minBitrate:45e4,maxBitrate:11e5},"1080p_1":{width:1920,height:1080,frameRate:15,minBitrate:6e5,maxBitrate:2e6},"1080p_2":{width:1440,height:1080,frameRate:15,minBitrate:55e4,maxBitrate:17e5}};var u=e.RTCVideoProfileList=["90p_1","90p_2","120p_1","120p_2","180p_1","180p_2","180p_3","240p_1","240p_2","270p_1","300p_1","360p_1","360p_2","360p_3","450p_1","480p_1","480p_2","540p_1","630p_1","720p_1","720p_2","1080p_1","1080p_2"];var c=e.RTCScreenProfileMap={"720p":{width:1280,height:720,frameRate:15,bitrate:12e5},"1080p":{width:1920,height:1080,frameRate:15,bitrate:2e6}};var l=e.RTCScreenProfileList=["720p","1080p"];var f=e.RTCStream={InboundRTPAudio:"inbound-rtp-audio",InboundRTPVideo:"inbound-rtp-video",OutboundRTPAudio:"outbound-rtp-audio",OutboundRTPVideo:"outbound-rtp-video",RemoteInboundRtpAudio:"remote-inbound-rtp-audio",RemoteInboundRtpVideo:"remote-inbound-rtp-video"}}))},7169:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(9974),r(5268),r(3652),r(724),r(7354),r(8094),r(8736),r(3388),r(1236),r(4772)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LocalStream=void 0;o=f(o);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return v(e)||p(e,t)||m(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw i}}return s}}function v(e){if(Array.isArray(e))return e}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return a=t.done,t},e:function e(t){s=!0,o=t},f:function e(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function m(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(){"use strict";_=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function l(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:R(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var E={};c(E,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(M([])));w&&w!==r&&n.call(w,a)&&(E=w);var T=b.prototype=m.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==j(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function R(t,r,n){var i=d;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=I(s,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=f(t,r,n);if("normal"===c.type){if(i=n.done?v:h,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=v,n.method="throw",n.arg=c.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function M(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(j(t)+" is not iterable")}return y.prototype=b,i(T,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new A(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(T),c(T,u,"Generator"),c(T,a,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=M,P.prototype={constructor:P,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:M(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function b(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){b(o,n,i,a,s,"next",e)}function s(e){b(o,n,i,a,s,"throw",e)}a(void 0)}))}}function S(e,t,r,n){var i=w(L(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof i?function(e){return i.apply(r,e)}:i}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=T(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},w.apply(null,arguments)}function T(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function R(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e){var t=k(e,"string");return"symbol"==j(t)?t:t+""}function k(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function O(e,t,r){return t=L(t),P(e,x()?Reflect.construct(t,r||[],L(e).constructor):t.apply(e,r))}function P(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function t(){return!!e})()}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function j(e){"@babel/helpers - typeof";return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}var U=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":j(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var B=new n.Log({module:"LocalStream"});var F=function(e){function t(e,r,n){var i;C(this,t);i=O(this,t,[e,r]);i.captureResults=n;return i}D(t,e);return R(t,[{key:"getMediaCaptureResult",value:function e(){return this.captureResults}},{key:"getMediaCaptureResultByType",value:function e(t){var r;return(r=this.captureResults)===null||r===void 0?void 0:r.find((function(e){return e.type===t}))}},{key:"toString",value:function e(){return'["code": '.concat(this.code,', "message": "').concat(this.message," : ").concat(JSON.stringify(this.captureResults),'"]')}}])}(t.HwLLSError);var H=e.LocalStream=function(e){function n(e){var t;C(this,n);t=O(this,n,[{isRemote:false,type:"local"}]);t.client_=[];t.module_="LocalStream";t.userId_=e.userId;t.audio_=e.audio;t.microphoneId_=e.microphoneId;t.audioSource_=e.audioSource;B.info(t.module_,"new local stream, stream config: ".concat(JSON.stringify(e)));return t}D(n,e);return R(n,[{key:"setMediaStream",value:function e(t){if(!this.mediaStream){this.mediaStream=new MediaStream}this.mediaStream.addTrack(t)}},{key:"getMediaStream",value:function e(){return this.mediaStream}},{key:"getLocalId",value:function e(){return this.id_}},{key:"addClient",value:function e(t){this.client_=this.client_.filter((function(e){return e&&e.getSymbol()!==t.getSymbol()}));if(t){this.client_.push(t)}}},{key:"initialize",value:function(){var e=E(_().mark((function e(){return _().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return this.initializeImpl();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){var e=E(_().mark((function e(){var t,n,i,o;return _().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:this.closeImpl();t=g(this.getHRTCTracks({hasTrack:true}));a.prev=2;t.s();case 4:if((n=t.n()).done){a.next=12;break}i=n.value;o=i.getTrack();if(!o){a.next=10;break}a.next=10;return this.removeTrack(o);case 10:a.next=4;break;case 12:a.next=17;break;case 14:a.prev=14;a.t0=a["catch"](2);t.e(a.t0);case 17:a.prev=17;t.f();return a.finish(17);case 20:this.tracks[r.MediaType.TRACK_TYPE_AUDIO].clear();case 21:case"end":return a.stop()}}),e,this,[[2,14,17,20]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"initMainStream",value:function(){var e=E(_().mark((function e(){var t=this;return _().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return s.deviceChangeListener.initDeviceChangedNotify(this.eventEmitter,true);case 2:this.on(u.RTCClientEvent.CameraChanged,(function(e){if(e.state==="REMOVE"){t.clearEffectiveDeviceId(e.deviceId,"videoInput")}}));this.on(u.RTCClientEvent.RecordingDeviceChanged,(function(e){if(e.state==="REMOVE"){t.clearEffectiveDeviceId(e.deviceId,"audioInput")}}));if(!this.audioSource_){r.next=6;break}return r.abrupt("return",this.initMainStreamWithTrack(this.audioSource_));case 6:r.next=8;return this.addCaptureWithCfg(this.audioProfile_);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeImpl",value:function(){var e=E(_().mark((function e(){return _().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:B.info(this.module_,"initializeImpl begin");t.prev=1;t.next=4;return this.reset();case 4:t.next=6;return this.initMainStream();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9;t.t0=t["catch"](1);B.error(this.module_,"initializeImpl fail, errMsg:".concat(t.t0));if(!(typeof t.t0.getMediaCaptureResult!=="function"&&typeof t.t0.getCode==="function")){t.next=16;break}throw new F(t.t0.getCode(),t.t0.getMsg());case 16:throw t.t0;case 17:case"end":return t.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeTrack",value:function(){var e=E(_().mark((function e(t){return _().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return this.removeTrackImpl(t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeTrackImpl",value:function(){var e=E(_().mark((function e(n){var i;var o,a,s,u,c,l;return _().wrap((function e(f){while(1)switch(f.prev=f.next){case 0:if(n){f.next=3;break}B.error(this.module_,"removeTrack, track is null");throw new t.HwLLSError(t.ErrorCode.RTC_ERR_CODE_INVALID_OPERATION,"track is null");case 3:if(n.kind===r.MediaType.TRACK_TYPE_AUDIO){o=g(this.tracks[r.MediaType.TRACK_TYPE_AUDIO]);try{for(o.s();!(a=o.n()).done;){u=d(a.value,2),c=u[0],l=u[1];if(n.id===(l===null||l===void 0||(s=l.getTrack())===null||s===void 0?void 0:s.id)){l.removeTrack();this.tracks[r.MediaType.TRACK_TYPE_AUDIO].set(c,l);B.info(this.module_,"removeTrackImpl success , track type is ".concat(l.getTrackType(),",")+"physical track id:".concat(n.id))}}}catch(e){o.e(e)}finally{o.f()}}(i=this.mediaStream)===null||i===void 0||i.removeTrack(n);case 5:case"end":return f.stop()}}),e,this)})));function n(t){return e.apply(this,arguments)}return n}()},{key:"addCaptureWithCfg",value:function(){var e=E(_().mark((function e(n){var i,o,a,s,u,l,f,d;return _().wrap((function e(h){while(1)switch(h.prev=h.next){case 0:B.info(this.module_,"addCaptureWithCfg begin microphone:".concat(this.getCurrentMicrophoneId(),",audioProfile:").concat(JSON.stringify(n)));i=[];o=new c.HRTCTrack({streamType:r.StreamType.STREAM_TYPE_MAIN,trackType:r.MediaType.TRACK_TYPE_AUDIO,isRemote:false,trackProfile:n,resolutionId:this.generateResolutionId(),event:this.eventEmitter});i.push(o.initAudioCapture(this.getCurrentMicrophoneId()));h.next=6;return Promise.all(i);case 6:a=h.sent;u=g(a);h.prev=8;u.s();case 10:if((l=u.n()).done){h.next=21;break}f=l.value;if(!f.error){h.next=15;break}s="".concat(s).concat(s?"":";").concat(f.error.getMsg());return h.abrupt("continue",19);case 15:if(f.type===r.MediaType.TRACK_TYPE_AUDIO){this.tracks[r.MediaType.TRACK_TYPE_AUDIO].set("mainAudio",o)}this.setMediaStream(f.track);this.appendDefaultLocalTrack(n);this.updateEffectiveDeviceInfo(f);case 19:h.next=10;break;case 21:h.next=26;break;case 23:h.prev=23;h.t0=h["catch"](8);u.e(h.t0);case 26:h.prev=26;u.f();return h.finish(26);case 29:if(!s){h.next=33;break}d=new F(t.ErrorCode.RTC_ERR_CODE_INVALID_OPERATION,"browser initialize capture fail, ".concat(s),a);B.error(this.module_,"addCaptureWithCfg fail, errMsg= ".concat(d));throw d;case 33:B.info(this.module_,"addCaptureWithCfg success, microphone:".concat(this.getCurrentMicrophoneId()));return h.abrupt("return",new F(t.ErrorCode.RTC_ERR_CODE_SUCCESS,"",a));case 35:case"end":return h.stop()}}),e,this,[[8,23,26,29]])})));function n(t){return e.apply(this,arguments)}return n}()},{key:"appendDefaultLocalTrack",value:function e(t){if(!this.getAnyAudioHRTCTrack()){var n=new c.HRTCTrack({streamType:r.StreamType.STREAM_TYPE_MAIN,trackType:r.MediaType.TRACK_TYPE_AUDIO,isRemote:false,trackProfile:t,resolutionId:this.generateResolutionId(),event:this.eventEmitter});n.setTrackContentType(r.ContentType.main);this.tracks[r.MediaType.TRACK_TYPE_AUDIO].set("mainAudio",n);B.info(this.module_,"addDefaultEmptyTrack success, audioTrack:".concat(n.getResolutionId(),",")+"track profile:".concat(JSON.stringify(n.getTrackProfile())))}}},{key:"generateResolutionId",value:function e(){return this.id_+"-"+o["default"].generateRandomId(8,16)}},{key:"initMainStreamWithTrack",value:function e(n){var i=[];if(n){var o=new c.HRTCTrack({streamType:r.StreamType.STREAM_TYPE_MAIN,trackType:r.MediaType.TRACK_TYPE_AUDIO,isRemote:false,resolutionId:this.generateResolutionId(),track:n,event:this.eventEmitter});this.tracks[r.MediaType.TRACK_TYPE_AUDIO].set("mainAudio",o);i.push({type:r.MediaType.TRACK_TYPE_AUDIO,track:n})}this.appendDefaultLocalTrack(this.audioProfile_);return new F(t.ErrorCode.RTC_ERR_CODE_SUCCESS,"",i)}},{key:"updateEffectiveDeviceInfo",value:function e(t){if(t.type===r.MediaType.TRACK_TYPE_AUDIO){var n;this.effectiveMicrophoneId_=(n=t.track)===null||n===void 0?void 0:n.getSettings().deviceId;B.info(this.module_,"updateEffectiveDeviceInfo, effectiveMicrophoneId_: ".concat(this.effectiveMicrophoneId_))}}},{key:"getCurrentMicrophoneId",value:function e(){return this.microphoneId_||this.effectiveMicrophoneId_}},{key:"getAudioSendBitrate",value:function e(){var t=this.getAudioHRTCTrack();if(t){return t.getTrackProfile().bitrate}return 0}},{key:"isAudioMuted",value:function e(){var t=this.getAudioHRTCTrack();if(t){return t.getTrackMuted()}return true}},{key:"setAudioProfile",value:function e(t){this.setAudioProfileImpl(t)}},{key:"setAudioProfileImpl",value:function e(t){var r=this.getAudioHRTCTrack();this.audioProfile_=t;r===null||r===void 0||r.setTrackProfile(t)}},{key:"switchAudioDevice",value:function(){var e=E(_().mark((function e(t){var r,n,i=this;var o,a;return _().wrap((function e(s){while(1)switch(s.prev=s.next){case 0:B.info(this.module_,"switchAudioDevice begin, microphoneId is ".concat(t));if(!("default"!==t&&(this.effectiveMicrophoneId_===t||this.audioSource_))){s.next=3;break}return s.abrupt("return");case 3:o=this.getAudioHRTCTrack();if(o){s.next=7;break}B.error(this.module_,"switchAudioDevice failed, no audio tracks");return s.abrupt("return");case 7:(r=this.mediaStream)===null||r===void 0||r.removeTrack(o.getTrack());s.next=10;return o.initAudioCapture(t);case 10:a=s.sent;if(!a.error){s.next=13;break}throw a.error;case 13:(n=this.mediaStream)===null||n===void 0||n.addTrack(a.track);this.client_.forEach((function(e){var t=e.getPublishAudioSender();var r=i.getPublishAudioTrack();if(t&&r){t.replaceTrack(r)}}));this.microphoneId_=t;this.effectiveMicrophoneId_=t;case 17:case"end":return s.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearEffectiveDeviceId",value:function e(t,r){B.info(this.module_,"clearEffectiveDeviceId, Input:".concat(t,", type:").concat(r));if(r==="audioInput"){if(this.effectiveMicrophoneId_===t){this.effectiveMicrophoneId_="";B.info(this.module_,"clearEffectiveDeviceId, audioInput:".concat(t))}}}},{key:"getPublishAudioTrack",value:function e(){var t;return(t=S(n,"getAudioHRTCTrack",this,3)([]))===null||t===void 0?void 0:t.getTrack()}},{key:"getStatInfo",value:function e(){return{audioProfile_:this.audioProfile_,audio_:this.audio_,microphoneId_:this.getCurrentMicrophoneId()}}}])}(i.Stream);U([(0,a.asyncApi)("LocalStream$initialize#Promise<StreamInitializeResult>")],H.prototype,"initialize",null);U([(0,l.printfDecorator)(B)],H.prototype,"initMainStream",null);U([(0,a.asyncApi)("LocalStream$removeTrack#Promise<void>#MediaStreamTrack#string")],H.prototype,"removeTrack",null);U([(0,l.printfDecorator)(B)],H.prototype,"addCaptureWithCfg",null);U([(0,l.printfDecorator)(B)],H.prototype,"initMainStreamWithTrack",null);U([(0,a.api)("LocalStream$setAudioProfile#void#string|RTCAudioProfile")],H.prototype,"setAudioProfile",null);U([(0,l.printfDecorator)(B)],H.prototype,"clearEffectiveDeviceId",null)}))},9034:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(9974),r(5442),r(8094),r(9611),r(8024),r(2441),r(5268),r(4772),r(3652)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o,a,s,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RemoteStream=void 0;a=l(a);function l(e){return e&&e.__esModule?e:{default:e}}function f(){"use strict";f=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",v="executing",g="completed",m={};function y(){}function _(){}function b(){}var E={};c(E,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(x([])));w&&w!==r&&n.call(w,a)&&(E=w);var T=b.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==A(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=h;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=d(t,r,n);if("normal"===c.type){if(i=n.done?g:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(A(t)+" is not iterable")}return _.prototype=b,i(T,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(R.prototype),c(R.prototype,s,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(T),c(T,u,"Generator"),c(T,a,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function d(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==A(t)?t:t+""}function y(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r){return t=w(t),b(e,S()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function b(e,t){if(t&&("object"==A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function t(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function A(e){"@babel/helpers - typeof";return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}var R=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":A(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var I=new c.Log({module:"RemoteStream"});var k="RemoteStream";var O=e.RemoteStream=function(e){function n(e,t){var r;p(this,n);r=_(this,n,[k,e,t]);r.traceHandler=r.playerStatusTrace.bind(r);return r}T(n,e);return g(n,[{key:"play",value:function(){var e=h(f().mark((function e(r){var n,a;return f().wrap((function e(s){while(1)switch(s.prev=s.next){case 0:if(!r.objectFit){s.next=6;break}if(!(r.objectFit&&!/^cover|contain|fill$/.test(r.objectFit))){s.next=4;break}o.LoggerFactory.error(k,"invalid play options.objectFit: ".concat(r.objectFit));throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER,"invalid play options.objectFit: ".concat(r.objectFit));case 4:s.next=7;break;case 6:r.objectFit=i.PlayerViewMode.CONTAIN;case 7:r.muted=!!r.muted;o.LoggerFactory.info(k,"stream start to play with elementId: ".concat(r.elementId,", options.objectFit: ").concat(r.objectFit,", options.muted: ").concat(r.muted));if(r.elementId){s.next=12;break}o.LoggerFactory.error(k,"elementId:".concat(r.elementId," not a invalid HTMLElement Id"));throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER,"elementId:".concat(r.elementId," not a invalid HTMLElement Id"));case 12:n=document.getElementById(r.elementId);if(n){s.next=16;break}o.LoggerFactory.error(k,"document.getElementById by elementId:".concat(r.elementId," failed"));throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER,"document.getElementById by elementId:".concat(r.elementId," failed"));case 16:a=n.querySelector("#player_container");if(!a){if(!this.playDivContainer){a=document.createElement("div");a.setAttribute("id","player_container");a.style.width="100%";a.style.height="100%";a.style.position="relative";a.style.overflow="hidden";a.style["background-color"]="#000";this.playDivContainer=a}n.appendChild(this.playDivContainer);o.LoggerFactory.info(k,"new player div")}else{o.LoggerFactory.info(k,"exist player div")}s.next=20;return this.playTracks(a,r);case 20:case"end":return s.stop()}}),e,this)})));function r(t){return e.apply(this,arguments)}return r}()},{key:"resume",value:function(){var e=h(f().mark((function e(){return f().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:o.LoggerFactory.info(k,"resume begin");t.next=3;return Promise.all([this.resumeAudio(),this.resumeVideo()]);case 3:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"pause",value:function e(){o.LoggerFactory.info(k,"pause begin");this.pauseAudio();this.pauseVideo()}},{key:"stop",value:function e(){var t,r;o.LoggerFactory.info(k,"stop stream begin");(t=this.audioTrack)===null||t===void 0||t.stop();(r=this.videoTrack)===null||r===void 0||r.stop();o.LoggerFactory.info(k,"stop stream end")}},{key:"muteAudio",value:function e(){try{if(this.audioTrack){this.audioTrack.muteTrack();return true}return false}catch(e){o.LoggerFactory.error(k,"muteAudio failed: ".concat(e));return false}}},{key:"muteVideo",value:function e(){try{if(this.videoTrack){this.videoTrack.muteTrack();return true}return false}catch(e){o.LoggerFactory.error(k,"muteVideo failed: ".concat(e));return false}}},{key:"unmuteAudio",value:function e(){try{if(this.audioTrack){this.audioTrack.unmuteTrack();return true}return false}catch(e){o.LoggerFactory.error(k,"unmuteAudio failed: ".concat(e));return false}}},{key:"unmuteVideo",value:function e(){try{if(this.videoTrack){this.videoTrack.unmuteTrack();return true}return false}catch(e){o.LoggerFactory.error(k,"unmuteVideo failed: ".concat(e));return false}}},{key:"setAudioVolume",value:function e(t){if(this.audioTrack){this.audioTrack.setAudioVolume(t)}}},{key:"getAudioLevel",value:function e(){if(this.audioTrack){return this.audioTrack.getAudioLevel()}return 0}},{key:"getAudioHRTCTrack",value:function e(){return this.audioTrack}},{key:"getVideoHRTCTrack",value:function e(){return this.videoTrack}},{key:"hasAudio",value:function e(){return!!this.getAudioHRTCTrack()}},{key:"hasVideo",value:function e(){return!!this.getVideoHRTCTrack()}},{key:"addRemoteTrack",value:function e(t){if(t.kind===s.MediaType.TRACK_TYPE_AUDIO){if(this.audioTrack){this.audioTrack.replaceTrack(t)}else{this.audioTrack=new r.HLLSTrack({trackType:s.MediaType.TRACK_TYPE_AUDIO,track:t,event:this.eventEmitter})}}else{if(this.videoTrack){this.videoTrack.replaceTrack(t)}else{this.videoTrack=new r.HLLSTrack({trackType:s.MediaType.TRACK_TYPE_VIDEO,track:t,event:this.eventEmitter})}}o.LoggerFactory.info(k,"addRemoteTrack for ".concat(t.kind," success"))}},{key:"destory",value:function e(){var t;this.off(i.RTCStreamEvent.PLAYER_STATE_TRACE,this.traceHandler,true);this.stop();(t=this.playDivContainer)===null||t===void 0||t.remove();delete this.playDivContainer}},{key:"resumeAudio",value:function e(){var t;return(t=this.audioTrack)===null||t===void 0?void 0:t.resume()}},{key:"resumeVideo",value:function e(){var t;return(t=this.videoTrack)===null||t===void 0?void 0:t.resume()}},{key:"pauseAudio",value:function e(){var t;(t=this.audioTrack)===null||t===void 0||t.pause()}},{key:"pauseVideo",value:function e(){var t;(t=this.videoTrack)===null||t===void 0||t.pause()}},{key:"exitFullScreen",value:function e(){var t;(t=this.videoTrack)===null||t===void 0||t.exitFullScreen()}},{key:"enterFullScreen",value:function e(){var t;(t=this.videoTrack)===null||t===void 0||t.enterFullScreen()}},{key:"setAudioOutput",value:function(){var e=h(f().mark((function e(t){var r;return f().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return(r=this.audioTrack)===null||r===void 0?void 0:r.setAudioOutput(t);case 2:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"playerStatusTrace",value:function e(t){o.LoggerFactory.debug(k,"playerStatusTrace, ".concat(JSON.stringify(t)))}},{key:"playTracks",value:function(){var e=h(f().mark((function e(r,n){var a,s;var u;return f().wrap((function e(c){while(1)switch(c.prev=c.next){case 0:u=[];if(n.video&&(a=this.videoTrack)!==null&&a!==void 0&&a.getTrack()){u.push(this.videoTrack.play(r,n.elementId,{objectFit:n.objectFit,autoPlay:n.autoPlay!==false}))}if(n.audio&&(s=this.audioTrack)!==null&&s!==void 0&&s.getTrack()){u.push(this.audioTrack.play(r,n.elementId,{muted:n.muted,autoPlay:n.autoPlay!==false?true:false}))}if(!(u.length===0)){c.next=6;break}o.LoggerFactory.warn(k,"no available track for play");throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER,"no available track to play.");case 6:this.off(i.RTCStreamEvent.PLAYER_STATE_TRACE,this.traceHandler,true);this.on(i.RTCStreamEvent.PLAYER_STATE_TRACE,this.traceHandler,true);c.next=10;return Promise.all(u).then((function(e){var t=e.filter((function(e){return e.error!==null}));if(t.length>0){throw t[0].error}}));case 10:case"end":return c.stop()}}),e,this)})));function r(t,r){return e.apply(this,arguments)}return r}()}])}(a["default"]);R([(0,n.asyncApi)("Stream$play#Promise<void>#PlayOptions")],O.prototype,"play",null);R([(0,n.asyncApi)("Stream$resume#Promise<void>#void")],O.prototype,"resume",null);R([(0,n.api)("Stream$pause#void#void")],O.prototype,"pause",null);R([(0,n.api)("Stream$stop#void#void")],O.prototype,"stop",null);R([(0,n.api)("Stream$muteAudio#boolean")],O.prototype,"muteAudio",null);R([(0,n.api)("Stream$muteVideo#boolean")],O.prototype,"muteVideo",null);R([(0,n.api)("Stream$unmuteAudio#boolean")],O.prototype,"unmuteAudio",null);R([(0,n.api)("Stream$unmuteVideo#boolean")],O.prototype,"unmuteVideo",null);R([(0,n.api)("Stream$setAudioVolume#void#number")],O.prototype,"setAudioVolume",null);R([(0,u.printfDecorator)(I)],O.prototype,"addRemoteTrack",null)}))},724:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7354),r(8094),r(5268),r(3652),r(1516)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Stream=void 0;t=a(t);o=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){throw new TypeError('"'+e+'" is read-only')}function u(){"use strict";u=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function f(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:R(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",g="completed",m={};function y(){}function _(){}function b(){}var E={};l(E,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(M([])));w&&w!==r&&n.call(w,a)&&(E=w);var T=b.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==L(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function R(t,r,n){var i=h;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=I(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=d(t,r,n);if("normal"===c.type){if(i=n.done?g:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function M(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(L(t)+" is not iterable")}return _.prototype=b,i(T,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(A.prototype),l(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new A(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(T),l(T,c,"Generator"),l(T,a,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=M,P.prototype={constructor:P,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:M(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(e){return p(e)||h(e)||b(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){if(Array.isArray(e))return E(e)}function v(e,t){return y(e)||m(e,t)||b(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw i}}return s}}function y(e){if(Array.isArray(e))return e}function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return a=t.done,t},e:function e(t){s=!0,o=t},f:function e(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function b(e,t){if(e){if("string"==typeof e)return E(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function T(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){var t=A(e,"string");return"symbol"==L(t)?t:t+""}function A(e,t){if("object"!=L(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function R(e,t,r){return t=P(t),I(e,O()?Reflect.construct(t,r||[],P(e).constructor):t.apply(e,r))}function I(e,t){if(t&&("object"==L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function t(){return!!e})()}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function L(e){"@babel/helpers - typeof";return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}var D=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if((typeof Reflect==="undefined"?"undefined":L(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var N=new i.Log({module:"Stream"});var j=e.Stream=function(e){function r(e){var n;S(this,r);n=R(this,r);n.module_="Stream";n.isRemote_=e.isRemote;n.id_=t["default"].generateStreamId();n.type_=e.type;n.tracks={video:new Map,audio:new Map};n.playDivContainers=new Map;return n}M(r,e);return T(r,[{key:"getStreamInfo",value:function e(){return this.getStreamInfoImpl()}},{key:"getStreamInfoImpl",value:function e(){var t={videoProfiles:[]};var r=_(this.tracks[n.MediaType.TRACK_TYPE_VIDEO]),i;try{for(r.s();!(i=r.n()).done;){var o=v(i.value,2),a=o[0],s=o[1];if(s.getTrackType()===n.MediaType.TRACK_TYPE_VIDEO){var u;var c={resolutionId:a,hasTrack:!!s.getTrack(),width:s.getTrackProfile().width,height:s.getTrackProfile().height,frameRate:s.getTrackProfile().frameRate,minBitrate:s.getTrackProfile().minBitrate,maxBitrate:s.getTrackProfile().maxBitrate};(u=t.videoProfiles)===null||u===void 0||u.push(c)}}}catch(e){r.e(e)}finally{r.f()}var l=this.getAnyAudioHRTCTrack();if(l){t.audioProfile={sampleRate:l.getTrackProfile().sampleRate,channelCount:l.getTrackProfile().channelCount,bitrate:l.getTrackProfile().bitrate}}N.info(this.module_,"getStreamInfoImpl success: ".concat(JSON.stringify(t)));return t}},{key:"getMaxResolutionHRTCTrack",value:function e(t){var r;var i=Array.from(this.tracks[n.MediaType.TRACK_TYPE_VIDEO].values());var o=t?i:i.filter((function(e){return e.getTrack()}));var a=_(o),s;try{for(a.s();!(s=a.n()).done;){var u=s.value;if(!r){r=u;continue}if(r&&Math.max(u.getTrackProfile().width,u.getTrackProfile().height)-Math.max(r.getTrackProfile().width,r.getTrackProfile().height)>0){r=u}}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"getMaxResolutionProfile",value:function e(t){if(t.size===0){return null}var r;var n="";var i=_(t),o;try{for(i.s();!(o=i.n()).done;){var a=v(o.value,2),s=a[0],u=a[1];if(!r){r=u;n=s;continue}if(Math.max(u.width,u.height)-Math.max(r.width,r.height)>0){r=u;n=s}}}catch(e){i.e(e)}finally{i.f()}return r?{resolutionId:n,width:r.width,height:r.height,frameRate:r.frameRate,minBitrate:r.minBitrate,maxBitrate:r.maxBitrate}:null}},{key:"getHRTCTracks",value:function e(t){var r=[];var i=Array.from(this.tracks[n.MediaType.TRACK_TYPE_AUDIO].values());var o=Array.from(this.tracks[n.MediaType.TRACK_TYPE_VIDEO].values());if(!t){return[].concat(i,o)}var a=t.hasTrack===undefined?i:i.filter((function(e){return!!e.getTrack()===t.hasTrack}));var s=t.hasTrack===undefined?o:o.filter((function(e){return!!e.getTrack()===t.hasTrack}));if(!t.mediaType){r.push.apply(r,f(a));r.push.apply(r,f(s))}else{if(t.mediaType===n.MediaType.TRACK_TYPE_VIDEO){r.push.apply(r,f(s))}else{r.push.apply(r,f(a))}}return r}},{key:"getHRTCTrackIds",value:function e(t){var r=[];var n=_(this.getHRTCTracks(t)),i;try{for(n.s();!(i=n.n()).done;){var o=i.value;r.push(o.getTrackId()||"")}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"getAnyVideoHRTCTrack",value:function e(t){var r;if(t){r=this.tracks[n.MediaType.TRACK_TYPE_VIDEO].get(t)}else{r=this.getMaxResolutionHRTCTrack(true)}return r}},{key:"getVideoHRTCTrack",value:function e(t){var r;var i;if(t){i=this.tracks[n.MediaType.TRACK_TYPE_VIDEO].get(t)}else{i=this.getMaxResolutionHRTCTrack()}return(r=i)!==null&&r!==void 0&&r.getTrack()?i:null}},{key:"getAnyAudioHRTCTrack",value:function e(){return this.tracks[n.MediaType.TRACK_TYPE_AUDIO].get("mainAudio")}},{key:"getUninitializedAudioHRTCTrack",value:function e(){var t=this.getAnyAudioHRTCTrack();return t!==null&&t!==void 0&&t.getTrack()?t:undefined}},{key:"getUninitializedVideoHRTCTrack",value:function e(t){var r;var i;if(t){i=this.tracks[n.MediaType.TRACK_TYPE_VIDEO].get(t)}else{i=this.getMaxResolutionHRTCTrack(true)}return(r=i)!==null&&r!==void 0&&r.getTrack()?null:i}},{key:"getAudioHRTCTrack",value:function e(){var t=this.getAnyAudioHRTCTrack();return t!==null&&t!==void 0&&t.getTrack()?t:undefined}},{key:"getUniqueId",value:function e(){return this.id_}},{key:"getInfo",value:function e(){return{moduleName:"Stream",appId:"",roomId:"",userName:"",userId:"",domain:""}}},{key:"stop",value:function e(t){this.stopImpl(t)}},{key:"stopImpl",value:function e(t){var r,i=this;N.info(this.module_,"stopImpl begin, option:".concat(JSON.stringify(t)));var o=this.getHRTCTracks({hasTrack:true,mediaType:n.MediaType.TRACK_TYPE_VIDEO});var a=[];if(!t||t.video&&!t.resolutionIds){a.push.apply(a,f(o))}else if(t.video&&(r=t.resolutionIds)!==null&&r!==void 0&&r.length){t.resolutionIds.forEach((function(e){var t=i.getVideoHRTCTrack(e);t&&a.push(t)}))}a.forEach((function(e){e.stop()}));if(!t||t.audio){var s;(s=this.getAudioHRTCTrack())===null||s===void 0||s.stop()}}},{key:"resume",value:function(){var e=l(u().mark((function e(t){return u().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return this.resumeImpl(t);case 2:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resumeImpl",value:function(){var e=l(u().mark((function e(t){var r,i=this;var o,a,s,c;return u().wrap((function e(u){while(1)switch(u.prev=u.next){case 0:N.info(this.module_,"resumeImpl begin, option:".concat(JSON.stringify(t)));o=this.getHRTCTracks({hasTrack:true,mediaType:n.MediaType.TRACK_TYPE_VIDEO});a=[];if(!t||t.video&&!t.resolutionIds){a.push.apply(a,f(o))}else if(t.video&&(r=t.resolutionIds)!==null&&r!==void 0&&r.length){t.resolutionIds.forEach((function(e){var t=i.getVideoHRTCTrack(e);t&&a.push(t)}))}s=[];a.forEach((function(e){s.push(e.resume())}));if(!t||t.audio){c=this.getAudioHRTCTrack();c&&s.push(c.resume())}u.next=9;return Promise.all(s);case 9:case"end":return u.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function e(t){this.closeImpl(t)}},{key:"closeImpl",value:function e(t){N.info(this.module_,"closeImpl begin, options:".concat(JSON.stringify(t)));if(!t||t.video&&!t.resolutionIds&&t.audio){var r=_(this.getHRTCTracks({hasTrack:true})),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.close()}}catch(e){r.e(e)}finally{r.f()}var o=_(this.playDivContainers.values()),a;try{for(o.s();!(a=o.n()).done;){var s=a.value;s.HTMLElement&&s.HTMLElement.remove()}}catch(e){o.e(e)}finally{o.f()}this.playDivContainers.clear();return}if(t.audio){this.closeAudio()}var u=this.getHRTCTracks({hasTrack:true}).every((function(e){return e.isClosed()}));if(u){this.mediaStream=undefined}}},{key:"closeAudio",value:function e(){var t=this.getAudioHRTCTrack();if(t){var r=t.getElementId();t.close();if(r){var n=this.playDivContainers.get(r);if(n){var i;n.hasAudioTrack=false;N.debug(this.module_,"closeAudio, elementId:".concat(r,", divInfo: ").concat((i=n.HTMLElement)===null||i===void 0?void 0:i.id,", hasAudioTrack: ").concat(n.hasAudioTrack,", hasVideoTrack: ").concat(n.hasVideoTrack,"}"));if(!n.hasVideoTrack){var o;(o=this.playDivContainers.get(r))===null||o===void 0||(o=o.HTMLElement)===null||o===void 0||o.remove();this.playDivContainers["delete"](r);N.info(this.module_,"closeAudio, release elementId: ".concat(r))}}}}}},{key:"muteAudio",value:function e(){return this.muteAudioImpl()}},{key:"muteAudioImpl",value:function e(){try{var t=this.getAudioHRTCTrack();if(t){t.muteTrack();return true}return false}catch(e){N.error(this.module_,"muteAudio failed: ".concat(e));return false}}},{key:"muteVideo",value:function e(){return this.muteVideoImpl()}},{key:"muteVideoImpl",value:function e(){try{if(!this.hasVideoTrack()){return false}var t=_(this.getHRTCTracks({hasTrack:true,mediaType:n.MediaType.TRACK_TYPE_VIDEO})),r;try{for(t.s();!(r=t.n()).done;){var i=r.value;i.muteTrack()}}catch(e){t.e(e)}finally{t.f()}return true}catch(e){N.error(this.module_,"muteVideo failed: ".concat(e));return false}}},{key:"unmuteAudio",value:function e(){return this.unmuteAudioImpl()}},{key:"unmuteAudioImpl",value:function e(){try{var t=this.getAudioHRTCTrack();if(t){t.unmuteTrack();return true}return false}catch(e){N.error(this.module_,"unmuteAudio failed: ".concat(e));return false}}},{key:"unmuteVideo",value:function e(){return this.unmuteVideoImpl()}},{key:"unmuteVideoImpl",value:function e(){try{if(!this.hasVideoTrack()){return false}var t=_(this.getHRTCTracks({hasTrack:true,mediaType:n.MediaType.TRACK_TYPE_VIDEO})),r;try{for(t.s();!(r=t.n()).done;){var i=r.value;i.unmuteTrack()}}catch(e){t.e(e)}finally{t.f()}return true}catch(e){N.error(this.module_,"unmuteVideo failed: ".concat(e));return false}}},{key:"getId",value:function e(){var t;return(t=this.getMaxResolutionHRTCTrack(true))===null||t===void 0?void 0:t.getTrackId()}},{key:"getUserId",value:function e(){return this.userId_}},{key:"getType",value:function e(){return this.type_}},{key:"setAudioOutput",value:function(){var e=l(u().mark((function e(t){return u().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",this.setAudioOutputImpl(t));case 1:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAudioOutputImpl",value:function(){var e=l(u().mark((function e(t){var r;return u().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:r=this.getAudioHRTCTrack();if(!r){n.next=4;break}n.next=4;return r.setSinkId(t);case 4:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAudioVolume",value:function e(t){this.setAudioVolumeImpl(t)}},{key:"setAudioVolumeImpl",value:function e(t){var r=this.getAudioHRTCTrack();if(r){r.setAudioVolume(t)}}},{key:"getAudioLevel",value:function e(){var t=this.getAudioHRTCTrack();if(t){return t.getAudioLevel()}return 0}},{key:"hasAudioTrack",value:function e(){return!!this.getAudioHRTCTrack()}},{key:"hasVideoTrack",value:function e(){var t=Array.from(this.tracks[n.MediaType.TRACK_TYPE_VIDEO].values()).filter((function(e){return e.getTrack()}));return t.length>0}},{key:"getAudioTrack",value:function e(){var t=this.getAudioHRTCTrack();if(t){return t.getTrack()}return undefined}},{key:"getVideoTrack",value:function e(t){var r=this.getVideoHRTCTrack(t);if(r){return r.getTrack()}return undefined}},{key:"restart",value:function(){var e=l(u().mark((function e(t){var r,n,i,o,a;return u().wrap((function e(s){while(1)switch(s.prev=s.next){case 0:if(!t){s.next=4;break}s.next=3;return(r=this.getVideoHRTCTrack(t))===null||r===void 0?void 0:r.restart();case 3:return s.abrupt("return");case 4:n=[];i=_(this.getHRTCTracks({hasTrack:true}));try{for(i.s();!(o=i.n()).done;){a=o.value;n.push(a.restart())}}catch(e){i.e(e)}finally{i.f()}s.next=9;return Promise.all(n);case 9:case"end":return s.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStatInfo",value:function e(){return{isRemote_:this.isRemote_,type_:this.type_,userId_:this.userId_,id_:this.id_}}},{key:"getStatExtraInfo",value:function e(){return{isRemote:this.isRemote_,id:this.id_,userId:this.userId_}}},{key:"hasAudio",value:function e(){var t;var r=(t=this.getAudioHRTCTrack())===null||t===void 0?void 0:t.getTrack();var e=!!r;N.debug(this.module_,"hasAudio: ".concat(e));return e}}])}(o["default"]);D([(0,r.api)("Stream$getStreamInfo#StreamInfo")],j.prototype,"getStreamInfo",null);D([(0,r.api)("Stream$stop#void#StreamOption")],j.prototype,"stop",null);D([(0,r.asyncApi)("Stream$resume#Promise<void>#StreamOption")],j.prototype,"resume",null);D([(0,r.api)("Stream$close#void#StreamOption")],j.prototype,"close",null);D([(0,r.api)("Stream$muteAudio#boolean")],j.prototype,"muteAudio",null);D([(0,r.api)("Stream$muteVideo#boolean")],j.prototype,"muteVideo",null);D([(0,r.api)("Stream$unmuteAudio#boolean")],j.prototype,"unmuteAudio",null);D([(0,r.api)("Stream$unmuteVideo#boolean")],j.prototype,"unmuteVideo",null);D([(0,r.asyncApi)("Stream$setAudioOutput#Promise<void>#string")],j.prototype,"setAudioOutput",null);D([(0,r.api)("Stream$setAudioVolume#void#number")],j.prototype,"setAudioVolume",null)}))},3444:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(4341),r(5268)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==n(t)?t:t+""}function f(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e){var r=t.RTCVideoProfileList.find((function(r){return r.startsWith("".concat(e.height))&&t.RTCVideoProfileMap[r].width===e.width||parseInt(r)>(e.height||0)}));if(r){if(!e.maxBitrate||!e.minBitrate){e.maxBitrate=t.RTCVideoProfileMap[r].maxBitrate;e.minBitrate=t.RTCVideoProfileMap[r].minBitrate}if(!e.frameRate){e.frameRate=t.RTCVideoProfileMap[r].frameRate}}}var h=e["default"]=function(){function e(){s(this,e)}return c(e,null,[{key:"getLocalProfileByTrack",value:function e(t){var n={};var i=t.getSettings();if(t.kind===r.MediaType.TRACK_TYPE_AUDIO){n.sampleRate=i.sampleRate;n.channelCount=1}else{var o,a,s,u;var c=t.getConstraints();n.width=(typeof c.width==="number"?c.width:(o=c.width)===null||o===void 0?void 0:o.ideal)||i.width;n.height=(typeof c.height==="number"?c.height:(a=c.height)===null||a===void 0?void 0:a.ideal)||i.height;n.frameRate=(typeof c.frameRate==="number"?c.frameRate:(s=c.frameRate)===null||s===void 0?void 0:s.ideal)||parseInt(((u=i.frameRate)===null||u===void 0?void 0:u.toString())||"0");n.minBitrate=null;n.maxBitrate=null;d(n)}return n}},{key:"formatVideoProfile",value:function e(r){var n={height:0,width:0};if(!r){var i=t.RTCVideoProfileMap["360p_2"];n=o({},i);return n}if(typeof r==="string"){if(t.RTCVideoProfileList.includes(r)){var a=t.RTCVideoProfileMap[r];n=o({},a)}}else{n.height=r.height;n.width=r.width;n.frameRate=r.frameRate;n.maxBitrate=r.maxBitrate;n.minBitrate=r.minBitrate;if(n.width===undefined||n.height===undefined){n.width=t.RTCVideoProfileMap["360p_2"].width;n.height=t.RTCVideoProfileMap["360p_2"].height}d(n)}return n}},{key:"formatAudioProfile",value:function e(r){var n={};if(!r){var i=t.RTCAudioProfileMap.standard;n=o({},i);return n}if(typeof r==="string"){if(t.RTCAudioProfileList.includes(r)){var a=t.RTCAudioProfileMap[r];n=o({},a)}}else{n.bitrate=r.bitrate;n.channelCount=r.channelCount;n.sampleRate=r.sampleRate;if(!n.sampleRate){n.sampleRate=16e3}if(!n.channelCount){n.channelCount=1}if(!n.bitrate){n.bitrate=24e3}}return n}},{key:"formatScreenProfile",value:function e(r){var n={};if(!r){var i=t.RTCScreenProfileMap["720p"];n=o({},i);return n}if(typeof r==="string"){if(t.RTCScreenProfileList.includes(r)){var a=t.RTCScreenProfileMap[r];n=o({},a)}}else{n.height=r.height;n.width=r.width;n.bitrate=r.bitrate;n.frameRate=r.frameRate;if(!n.width||!n.height){n.width=t.RTCScreenProfileMap["720p"].width;n.height=t.RTCScreenProfileMap["720p"].height}if(!n.frameRate){n.frameRate=15}if(!n.bitrate){n.bitrate=t.RTCScreenProfileMap["720p"].bitrate}}return n}}])}()}))},1960:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(7354)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.SysEventsBus=e.InternalSysEventsBus=void 0;t=r(t);function r(e){return e&&e.__esModule?e:{default:e}}function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return s=t.done,t},e:function e(t){u=!0,a=t},f:function e(){try{s||null==r["return"]||r["return"]()}finally{if(u)throw a}}}}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==n(t)?t:t+""}function f(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=e.InternalSysEventsBus=function(){function e(){var r=this;s(this,e);this.eventHandlers={visibilitychange:function e(){var t="FOREGROUND";if(document.hidden){t="BACKGROUND"}var n=i(r.eventBus.values()),o;try{for(n.s();!(o=n.n()).done;){var a=o.value;a.emit(t)}}catch(e){n.e(e)}finally{n.f()}}};this.eventListeners={visibilitychange:function e(t){if(t==="ADD"){document.addEventListener("visibilitychange",r.eventHandlers.visibilitychange)}else{document.removeEventListener("visibilitychange",r.eventHandlers.visibilitychange)}}};this.eventBus=new Map;this.addListener("visibilitychange",t["default"].isMobileDevice.bind(t["default"]))}return c(e,[{key:"register",value:function e(r){var n=t["default"].generateRandomId(32);this.eventBus.set(n,r);return n}},{key:"unregister",value:function e(t){if(!t){return}this.eventBus["delete"](t)}},{key:"addListener",value:function e(t,r){if(r&&!r()){return}if(this.eventListeners[t]){this.eventListeners[t]("ADD")}}},{key:"removeListener",value:function e(t){if(this.eventListeners[t]){this.eventListeners[t]("REMOVE")}}}])}();var h=e.SysEventsBus=new d}))},7098:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(9974),r(8418),r(3652)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return s=t.done,t},e:function e(t){u=!0,o=t},f:function e(){try{s||null==r["return"]||r["return"]()}finally{if(u)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(){"use strict";u=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),s=new M(n||[]);return o(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function e(n,i){function o(){return new t((function(e,t){r(n,i,e,t)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return b.prototype=E,o(C,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=v(e,"string");return"symbol"==i(t)?t:t+""}function v(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g=new n.Log({module:"System"});var m=function(){function e(){f(this,e)}return h(e,null,[{key:"checkSystemRequirements",value:function(){var e=l(u().mark((function e(){return u().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return this.webRTCCapabilityCheck();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isOnlySupportUnfiedPlan",value:function t(){var r=true;if(e.isChrome){var n=e.getBrowserVersion();r=n>90}else if(e.isSafari){r=!!(window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype)}g.info("isOnlySupportUnfiedPlan",r);return r}},{key:"webRTCCapabilityCheck",value:function(){var r=l(u().mark((function r(){var n,i;return u().wrap((function r(o){while(1)switch(o.prev=o.next){case 0:if(!(!window||!navigator)){o.next=2;break}throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_WEBRTC_UNSUPPORTED,"window or navigator error");case 2:if(window.RTCPeerConnection){o.next=4;break}throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_WEBRTC_UNSUPPORTED,"RTCPeerConnection Object not exist");case 4:o.prev=4;i=new RTCPeerConnection;o.next=8;return i.createOffer({offerToReceiveAudio:false,offerToReceiveVideo:true});case 8:n=o.sent;if(!(e.isChrome&&!/H264/i.test(n.sdp))){o.next=15;break}i.close();i=new RTCPeerConnection;o.next=14;return i.createOffer({offerToReceiveAudio:false,offerToReceiveVideo:true});case 14:n=o.sent;case 15:i.close();o.next=21;break;case 18:o.prev=18;o.t0=o["catch"](4);throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_WEBRTC_UNSUPPORTED,"RTCPeerConnection construct error: ".concat(o.t0.message));case 21:if(/H264/i.test(n.sdp)){o.next=23;break}throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_WEBRTC_UNSUPPORTED,"RTCPeerConnection unsupport AVC codec.");case 23:if(!(e.isChrome&&!e.browserSupportCheckByPolicy())){o.next=25;break}throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_WEBRTC_UNSUPPORTED,"browser version not support: ".concat(navigator.userAgent));case 25:return o.abrupt("return",true);case 26:case"end":return o.stop()}}),r,null,[[4,18]])})));function n(){return r.apply(this,arguments)}return n}()},{key:"browserSupportCheckByPolicy",value:function e(){var t=false;var n=r.browserConfigs.POLICY===0?r.browserConfigs.WEBRTC_UNSUPPORT_BLACKLIST:r.browserConfigs.WEBRTC_UNSUPPORT_WHITELIST;var i=o(n),a;try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.test(navigator.userAgent)){t=true;break}}}catch(e){i.e(e)}finally{i.f()}return r.browserConfigs.POLICY===0?!t:t}},{key:"getBrowserVersion",value:function t(){var r=e.detectBrowser();if(r.browser==="safari"){var n=/.*Version\/(\d+).*/gi.exec(navigator.userAgent);if(n&&n.length===2){return parseInt(n[1])}}if(r.browser==="chrome"){return r.version||91}return r.version||0}},{key:"detectBrowser",value:function t(){var r={browser:"",version:0,supportsUnifiedPlan:false};if(navigator.webkitGetUserMedia||!window.isSecureContext&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer){r.browser="chrome";r.version=e.extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2)}else if(window.RTCPeerConnection&&navigator.userAgent.match(/AppleWebKit\/(\d+)\./)){r.browser="safari";r.version=e.extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1);r.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}else{r.browser="Not a supported browser.";return r}return r}},{key:"extractVersion",value:function e(t,r,n){var i=t.match(r);return i&&i.length>=n&&parseInt(i[n],10)}}])}();m.isChrome=!!navigator.webkitGetUserMedia||!window.isSecureContext&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer;m.isSafari=window.RTCPeerConnection&&!!navigator.userAgent.match(/AppleWebKit\/(\d+)\./);var y=e["default"]=m}))},3442:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.UserTrack=void 0;function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var r=a(e,"string");return"symbol"==t(r)?r:r+""}function a(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var s=e.UserTrack=function(){function e(){r(this,e)}return i(e,null,[{key:"setUserTrackCallback",value:function t(r){if(typeof r!=="function"){return}e.addUserTrack=r}}])}();s.addUserTrack=function(){}}))},7354:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(2216)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(){"use strict";n=function e(){return t};var e,t={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:I(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,u,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==i&&o.call(T,u)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,l,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var n=this;function i(t,i){return u.type="throw",u.arg=r,n.next=t,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=l(e,"string");return"symbol"==r(t)?t:t+""}function l(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f={Mac:/(mac os x)\s+([\w_]+)/,Windows:/(windows nt)\s+([\w.]+)/,Ios:/(i(?:pad|phone|pod)).*cpu(?: i(?:pad|phone|pod))? os (\d+(?:[.|_]\d+)+)/,Android:/(android)\s+([\d.]+)/,Ipad:/(ipad).*os\s([\d_]+)/,Iphone:/(iphone\sos)\s([\d_]+)/,Linux:/(x11;)\s(linux)\s(x86_64|mips64|aarch64)/,ChromiumOS:/(x11;)\s(cros)\s(x86_64|mips64|aarch64)\s([\w.]+)\)/};var d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","_"];var h=function e(){var t=navigator.userAgent.toLowerCase();var r=t.match(/(micromessenger)\/([\w.()]+)/i);var n=r?" -WeChat".concat(r[2]):"";var i;for(var o in f){if(Object.prototype.hasOwnProperty.call(f,o)){var a=t.match(f[o]);if(a){if(o==="Ios"){i=a[2].replace(/_/g,".")}else if(o==="Linux"){i=a[3]}else if(o==="ChromiumOS"){i=a[4]}else{i=a[2]}return"".concat(o," ").concat(i).concat(n)}}}return"unknown"};var p=function e(){var t=navigator.userAgent.match(/(chrome|CriOS|safari|firefox|microMessenger)\/(\d+(\.\d+)*)/i);if(t&&t.length>2){var r=t[2];if(/safari/gi.test(t[1])){var n=/.*Version\/([\d.]+)\s.*/gi.exec(navigator.userAgent);if(n&&n.length===2){r=n[1]}}return"".concat(t[1]==="CriOS"?"Chrome":t[1],"-").concat(r)}return t&&t.length>1?t[1]:""};var v=function(){function e(){a(this,e);this.uuidCount=0;this.timeDiff=0;this.platform=h();this.browserVersion=p();this.areaDetectionCompleted=false}return u(e,[{key:"sleep",value:function(){var e=o(n().mark((function e(t){return n().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(e){var r=setTimeout((function(){clearTimeout(r);e()}),t)})));case 1:case"end":return r.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDeviceID",value:function e(){if(!this.deviceID){this.deviceID=this.generateStandardUuid();return this.deviceID}return this.deviceID}},{key:"generateStandardUuid",value:function e(){var t,r=this;var n="";if((t=window.crypto)!==null&&t!==void 0&&t.randomUUID){n=window.crypto.randomUUID()}if(!n){var i=(new Date).getTime();if(window.performance&&typeof window.performance.now==="function"){i+=performance.now()}n="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/[x]/g,(function(){var e=(i+r.getRandom()*16)%16|0;i=Math.floor(i/16);return e.toString(16)}))}return n}},{key:"getRandom",value:function e(){return this.getRandomArray(1)[0]/256}},{key:"generateUuid",value:function e(t){var r="";var n=this.getRandomArray(33);var i=t?22:33;for(var o=0;o<i;o++){r+=d[Math.round(n[o]%64)]}var a="";for(var s=0;s<33-i;s++){a+=d[t&63];t=t>>6}var u=this.uuidCount.toString(16);for(var c=3-u.length;c>0;c--){u="0"+u}this.uuidCount>4094?this.uuidCount=0:this.uuidCount++;return"".concat(r).concat(a).concat(u)}},{key:"generateRandomId",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:62;var n="";var i=this.getRandomArray(t);for(var o=0;o<t;o++){n+=d[Math.round(i[o]%r)]}return n}},{key:"getPlatform",value:function e(){return this.platform}},{key:"getBrowserVersion",value:function e(){return this.browserVersion}},{key:"syncLocalTime",value:function e(t){if(t){var r=new Date(t).getTime();this.timeDiff=(new Date).getTime()-r}}},{key:"getTimeDiff",value:function e(){return this.timeDiff}},{key:"getCurrentLocalTimestamp",value:function e(){return(new Date).getTime()}},{key:"getCurrentSyncTimestamp",value:function e(){if(Math.abs(this.timeDiff)>=60*60*1e3){return(new Date).getTime()-this.timeDiff}return(new Date).getTime()}},{key:"getCurrentTimeInfo",value:function e(){var t=new Date(this.getCurrentLocalTimestamp());var r=t.getFullYear();var n=t.getMonth()+1;var i=n<10?"0".concat(n):n;var o=t.getDate();var a=o<10?"0".concat(o):o;var s=t.getHours();var u=s<10?"0".concat(s):s;var c=t.getMinutes();var l=c<10?"0".concat(c):c;var f=t.getSeconds();var d=f<10?"0".concat(f):f;var h=t.getMilliseconds();var p="".concat(h+1e3).substring(1);var v=t.getTimezoneOffset()/60;var g=v<=0?"+":"-";var m=v>=0?v:-v;var y=g+(m<10?"0".concat(m):"".concat(m))+":00";return{year:"".concat(r),month:"".concat(i),day:"".concat(a),hour:"".concat(u),min:"".concat(l),sec:"".concat(d),millsec:p,zoneOff:y}}},{key:"adjustTimeByServerTime",value:function e(t){return t-this.timeDiff}},{key:"convertString2Timestamp",value:function e(t){return new Date(t).getTime()}},{key:"generateStreamId",value:function e(){var t=this;return"2xxxxxxx-8xxx-xxxx-yxxx-xxxx".replace(/[xy]/g,(function(e){var r=16*t.getRandom()|0;return(e==="x"?r:3&r|8).toString(16)}))}},{key:"isWKWebview",value:function e(){return/I.*-WeChat.*/gi.test(this.platform)}},{key:"isAppleDevice",value:function e(){return/^(Mac|I).*/gi.test(this.platform)}},{key:"isMobileDevice",value:function e(){return!/^(Mac|Windows).*/gi.test(this.platform)}},{key:"isTencentX5BrowserKernel",value:function e(){return/.*(tbs|xweb).*/gi.test(navigator.userAgent)}},{key:"isMobileWeChatBrowser",value:function e(){return this.isMobileDevice()&&/.*MicroMessenger.*/gi.test(navigator.userAgent)}},{key:"getAppUrl",value:function e(){var t=window.location,r=t.origin,n=t.pathname;return"".concat(r).concat(n)}},{key:"getValue",value:function e(t,r){return t||r}},{key:"setValue",value:function e(t,r){if(!t||t<0){return r}return t}},{key:"createLoadingMask",value:function e(){var t=document.createElement("div");t.setAttribute("id","loadingMask");t.style.display="block";t.style.width="100%";t.style.height="100%";t.style.position="absolute";t.style["z-index"]=99;t.style.background="rgba(0,0,0,0.8) url(data:image/jpeg;base64,R0lGODlhgACAAOMAAP///93d3bu7u5mZmf///wAAAAAAAAAAAP///////////////////////////////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAEACwAAAAAgACAAAAE/pDISau9OOvNu/9gKI5kaZ6oCKxA6r5wyLJxbdvzfO98mdO9oHDzWw2PyEmxlWwGl87oDiqtEgLYwIlaGngHVlE2a+KOvt/wZzz2FbvotJrDJpPMobh8rqnbVW9nel58G35/IHgeg3uFGIdagD+Cg450h5I5IoxgloaYMoEgnJ6XfqGTo4ylpqcfihqcnax9oB6wGaS0n7YcuBeyu61sr6IcusK8dbfGsavJw20dvxXI0LWuRM0Y1tcZkJEa1BLB3tGIGOME3eaPkNqpueztF+/wQM6VfAL8Ain24vDJ03cCzYl+/VAATDEvT5wSCCOe6IXiGRyCISJqLEGxIEaH/g05aBxJYlkMPSRkNQIxkuQIaTUMUlIJseVGetxUrhRh0yVOcjp3kuh5s11QoSaISjR3lJANpQihNZ21A2pCVlOPWOVXKmuSrZaaVoEaVuccomVDRumZ9uO+oo7cWoqKFenPu3jz6t3Lt6/fv4ADCx5MuDDhqeWMIrZIYXHia467RX4sbLI1y4wrY0Y5YTNnqZ5lAg3tFDRpqutIKw4NzDNO1oZjy55Nu7bt27hz697Nu/cO0Z6Ad/0cl3ghymqQW6FZXC2SoG2d9xDb3GwSr9GZC8EenDoP7rTAvxCv+ehJ70zRmyCf3vx693vVq7K+ya7H0iC155eeUzjDhzPx2NeagAMC6EJm8yG4iIIJ+veecfXJtaCD+1GYEoMNohahhgFa2Jl9o0E403EYfuhhiAb2pVxjEprY4k/SlYjiiau9OCN+/dnYnogWyHgjjncJ6OOPHNIjpI5E6kXgkEkGuSSSRBZpGo850sgilN0x+WOGVmZJZZUg9qgliVi62OWVXw5X5pYVhlldih+MaeaZYay4gZxRTglnnGvO6WZyffop5TGBOoGnoBftWRedYqZ5p6Lh/TkQpHwCKduhvrGZ6YaMbqqpp5VSCiqYlo6aj6SmupjqqqZGAAAh+QQFBQAEACwAAAAAgACAAAAE/pDISau9OOvNu/9gKI5kaZ6oGKxB6r5wyLJxbdvzfO98mdO9oHDzWw2PyEmxlWwGl87oDiqtEgRYwYlaAngBVlE2a+KOvt/wZzz2FbvotJrDJpPMobh8rqnbVW9nel58G35/IHgeg3uFGIdagD+Cg450h5I5IoxgloaYMoEgnJ6XfqGTo4ylpqcfihqcnax9oB6wGaS0n7YcuBeyu61sr6IcusK8dbfGsavJw20dvxXI0LWuRM0Y1tcZkJEa1BLB3tGIGOME3eaPkNqpueztF+/wQM6VfAP8Ayn24vDJ03einz8TBvmhAJhiXoiEB0dA7HeiF4pnJSYqlKhx4wiL/icwiujo8SHJkiCWxdBD4iTKDy5fepBWA03LmBljRqRnQedOjjp5UvD5M2dQekRjJDW3tEbTXU9vRHU0dUdVNVd5+LS0VQpOqi7nnORKEqxGsmc9TSy1FipFVgaFyp1Lt67du3jz6t3Lt6/fv4AD9yTakSfhwoMPp/WmGPGExmWvQXZMYPLiZJbbSsgMkTHnuI8/v4UmevRm0e1KX/hsmLPg17Bjy55Nu7bt27hz6959U+Y+02w7qxWOVvPvy1gjFxqbnPnysF6PPv+KJKsV60q7BpduVbtb7jCwDwePQvx26gW9tyZvEj1d9SDYdwDtFDhM9/edt7dfPmFv5fsZ4hcgf0b595+A+RF3IIEL+paggUAx+CB9KVC2YHoOxofcahKehmCE0ymIgYgcfviehYlBOCKKJ5o4lIuhwYgUixVsmCKJctFYo4we4riejzd2GCOQTNlYoooa6OgZj0NSuIGSmEH5IpE7GkmalUc6+SSW3zHZpJBTelkckhxwGSSYY2pZpphfohkimWtSmaWatEg5Z4YZ2CmWnlXCGSebVfDZJ51/+pkmnkkCGiahZhlaqJtnFgWXo48imiij40mqoZxbWsqXmbytyGmokZI6kqKkgmrqopCuWhmlrh4Z66yuRgAAIfkEBQUABAAsAAAAAIAAgAAABP6QyEmrvTjrzbv/YCiOZGmeqCisQuq+cMiycW3b83zvfJnTvaBw81sNj8hJsZVsBpfO6A4qrRIG2MGJWgp4A1ZRNmvijr7f8Gc89hW76LSawyaTzKG4fK6p21VvZ3pefBt+fyB4HoN7hRiHWoA/goOOdIeSOSKMYJaGmDKBIJyel36hk6OMpaanH4oanJ2sfaAesBmktJ+2HLgXsrutbK+iHLrCvHW3xrGrycNtHb8VyNC1rkTNGNbXGZCRGtQSwd7RiBjjBN3mj5Daqbns7Rfv8EDOlXzSJ/bi+PL0nQBAEEA/YgezpZgXomDBEv5I9ELxrITDixLBQVRIUaCIi/4gM4ILF2JZDD0kQKoUOZLlDTQpVYZk2ZIeBpkrTYxEaFMCzpwodvIz93PmC6HokhXFaAMpFmhLHQZxStJS1IdDqJa6SrCJU6tXqwgFW3ROzUJlC2l09LMURz5AWQ0la7Cn3bt48+rdy7ev37+AAwseTLhwBapr2yGOOGFx4muOGUd+LGxyRMsTd2FWuNkktM48r4BOSms0OtOKR9frbBO04dewY8ueTbu27du4c+ve7VIuaUdvzXoGzlgN5TBn9x2PMpZ4cq9ILX1NotVTdSHXrU/nkb309hjdk4VP2Dx19BTjzaVfc17v95Ll4T9t+vtc8A7xQQx3sZ/9c/+ZAdU4F3kDCtifB8XJF1pQ9xlYXzQMNjhCggrOt5GFOgV42IMSUKigWhpScOCGEva0nIglnmiXh42VKJqL6rHYoYsq0iPjjCOSmKN5O6LYY4swiheijgWuFqRmQxLJoY8/Ipkkk0UaeaR2Uz4JZZSV3XglhvZxCZmVW1bVpY1ghilGmcpNieOC+KFpnJtrYvkNnFLUOGeTFtiZJp55qgkkn1bQGeeSd7Lplp9/yomNoYcquqijhXrppJgVErpobYLylulum+rWaW6f4haqqIzyBqCpqKbKQQQAIfkEBQUABAAsAAAAAIAAgAAABP6QyEmrvTjrzbv/YCiOZGmeqDisQ+q+cMiycW3b83zvfJnTvaBw81sNj8hJsZVsBpfO6A4qrRJ0JmpJwBVYVbls0dTtfj9a8G9bNp85admY1Ha/NUumOjyq2+8YeXogcR5+f4AXeSOFHYdeiUSNkmshj5Fwk3hzIJeYlJVonIaHn5maiqMcj5Cmm6qgWKR+rqewGagVrLW2fB25FJ68sbLERo6lw73Fr74bwsrNzri3FtDR1MDAu9jLQNLfGdfdgYvgx+Lj5KnVFKHptHfMJObNq8knAfoBJ+/0wJ3wldi3zwfAc4NQCBxBsOG/envmkYnHsKFDRoLQyZF4og4Ji/4gH2YUeaPMR5AWDWbUuK4CypBiVrJc9xImCpnhsNVMCQPnTF47L9bwmdBUUIJPfLo6WnAI0U9M9TVRmihqFZmRjr4ZWbVmIkFZX35qZ8WmKY5vkLZcy7at27dw48qdS7eu3bt48+qNSZSsKwCAAwseTHgwu74HARVezFhwBcQrsTWezNgdZLDRKGs2rOQyRF6bQwOw7NlvItGbH5eeNgz15MOlW7pevLe27du4c+vezbu379/Ag/NAe4b4Vn/ykB9PfARz8s/FnVvB+jWyFKqAsDfXnp37cO/dcSYVP+wpDvC1zL9Q3409X+ts3UeU7hb9L+p7bhjPxnW+6XL7zdAnEnQe9OdfUe/lRAh9ovyHUE8O8sdagwoeiKBKym1U4YI/WWiLNx1qGF6GpG1Y4oT1EXiiiRIwmKJp2jBXnoorhtiZjOkBpCOOZx3kI4+Y0KgaiUMSGY2QRQbYIpDPRZiYi0cyJyWTX0AJIIpXGtljhEtqmaSS1XHZJZYSgtkkmVmymKaakSC55oXG2BimmGOaeSOdUbj55oB2XodnnWyWKeeZge7J56CEJohome0VKiicBTpKF5XBUQqcpb9h6pumvXHaKZrC3bdoqKSWSkAEACH5BAUFAAQALAAAAACAAIAAAAT+kMhJq7046827/2AojmRpnqg4rEPqvnDIsnFt2/N873yZ072gcPNbDY/ISbGVbAaXzugOKq0SdCaqD2gF/bJFMLbb0arCJDM5o/aiR+21Zck8f+FxOYVed99ldHpEeYN/foaCGIGAiGWEiUqPim8fi5Aalh6Sc5uXfIdjjp2eoxKlV6eJn5qUha2XmKWyqaSvk423uLCxthejmbuiuhWdwMEcq7w5yMbHrsvPXGy0x8m5ob7NztHS133e3VbYaZvjnL0hAuoCJ8OV1NPoH+vrW/LC5vbQJfT95Nr4wonZJ6KfwX/WQH1L4U6DwYcIE74zgkNgh4cQI0rchgFjRn3+fChyvODxY7uQ+Y6VPAgDZUpYK/1VdLnwUkx6T2jWlHOz3hCdO7v0VNdEZ6KhVVwejbkm5FKPgjZaKVnrZRWTVXfhHMm1q9evYMOKHUu2rNmzaNOqXcs2HtB7sALInUu3rt262d4CjHu3r9+5xPQ65fi3sN89gqVeMswYb6TE8KI0nhwAMWS4eig3DnzZKiTNhfN2/gq6b9vTqFOrXs26tevXsGPLnn3WcxUAuAFUayglt++qvJv4Hq5bz2A9xIc3RZkoOfGkNJs7f54E6KXpyY9Yh4WdOo/tx7orn6mUq/jfLY16PZ/bBXiw7HGfLF82Psi9ym7YvsBeI2bRIr3GEBx/4vm3H4AWGVhCdwYGxcqADxI0wnT3oYAfIxBm4B1CDJWT4GMZatieHBfydqFXiplyT4pflQjXiSOxiIqJMG5zYjGRqfLLfzUGA+OO//k4C4Q9QiIjiAceCUuPpxRpHJNBzhjlk1Om4iQZTtJypThaTimlhLt5+eWHboG55JXUKNnFlvBsWZSYKoZomZlGwjlmgBgeuCadEep5Dpk64mkHnxHGliNtcRKKaECCLqpQo472CWik4DhIqTKQXiqMppx2akEEACH5BAUFAAQALAAAAACAAIAAAAT+kMhJq7046827/2AojmRpnqg4rEPqvnDIsnFt2/N873yZ072gcPNbDY/ISbGVbAaXzugOKq0SdCaqD2gF/bJFMLbb0arCJDM5o/aiR+21Zck8f+FxOYVed99ldHpEeYN/foaCGIGAiGWEiUqPim8fi5Aalh6Sc5uXfIdjjp2eoxKlV6eJn5qUha2XmKWyqaSvk423uLCxthejmbuiuhWdwMEcq7w5yMbHrsvPXGy0x8m5ob7NztHS133e3VbYaZvjnL2M33bh69Au2qDqldR76HjDrPbK+vvsW/jczAmDF60GwGl85A0kqOyGQGYJFS5kuC1SRIn5LlZEqDHFRX/+1T5ivNdxo8iR/0oGO/lE5C6WQ2CqcpmEph6bTlSu0Skl4UyKNYEGpdfSnSB+XR6SUbqxqdOnUKNKnUq1qtWrWLNq3cq160lrGwWIHUu2rNmy2b4K1XO2rVuyxNT6rPi2rtt6cteSscsXrcW8SOX0HSwAL+CDbAnzjXuYKSTFddM2hgq5bdfLmDNr3sy5s+fPoEOLHv3ZcZUAqAOENKontetagZG4nq36JlgytGfvjJgoN+0qONf4zt1EpqDhxGMGP45cdw/ju5o7N7j8mPTXMKBXvJ76XfWm3FGf+A41fMrbGW8AWA+ABHdyc9uhFMGevXvp8IkSvVC/fonm+bHKJp8RL/RnnwnDnTdfQAt6YOCBCE6Xn0flgDTBg+ulgN1u/ByEYXtaoWcYUx+CiBVFm3yYlYgjWihBiScWg5SKVgk1Co1U2RgYjlKtVQqPT7F4joAZwBiVXqcAaRKSsRFgpFN6oYIYBUo6E6WURG5Q5Uq00LIlLFdiaZoFX/7U5F9jVvAkl2ei6WKRGG6jX5sXPignnabg6aSdd6YpmZ9k9tcUoEMSqiaEpelJWosELipGlo7OM2Wk4DRIaaFvXspRo5qS1OmnoGYQAQAh+QQFBQAEACwAAAAAgACAAAAE/pDISau9OOvNu/9gKI5kaZ6oOKxD6r5wyLJxbdvzfO98mdO9oHDzWw2PyEmxlWwGl87oDiqtEnQmqg9oBf2yRTC229GqwiQzOaP2okfttWXJPH/hcTmFXnffZXR6RHmDf36GghiBgIhlhIlKj4pvH4uQGpYeknObl3yHY46dnqMSpVeniZ+alIWtl5ilsqmkr5ONt7iwsbYXo5m7oroVncDBHKu8OcjGx67Lz1xstMfJuaG+zc7R0td93t1W2Gmb45y9jN924evQLtqg6pXUe+h4w6z2yvr77Fv43MwJgxetBsBpfOQNJKjshkBmCRUuZLgtUkSJ+S5WRKgxxUV//tU+YrzXcaPIkf9KBjv5ROQulkNgqnKZhKYem05UrtEpJeFMijWBBqXX0p0gfl0eklG6sanTp1CjSp1KtarVq1izat3KtetJaya/xhEL1hlZYGfLvkxrhi3RnG4NxT14c24ou0yP4jVSz67TvdniQvXbtbDhw4gTK17MuLHjx5AjM85bRYBlASGN6rnMuRbSJJxDY64rFIno0DsjJjotugrONaxPN5EpKLbsmK9r20bdg/au3bwN5j4GvDMM3xWLX343vKlyyyeaQ32eUq2wGwGyByChnJxPknxhaNfOHbh3om8tjB9fYvd5ze1AjlhP3kTs6igh0v1Av7794Od5xrQJAAQCwEF/2aVgXGr8FFjggQhuZd0EDjq4AYIJZkVRhQ9eGCFWE1LIoYEefmgVUCOSWCJ9VwmVogcYnjjKix3ESFVpNNZo4mA4jsifjTx+JkGOOvYXVYgWEAnhjmEJOaSPIADZ5H4UKFkki02VJiKHIkhpFjVWXrleRUhiEOaSRn7pZJVQdskkLESdKaZ/K63JJpckvAknfCDIOWeW8nXg55WQDSqZB4YeykGiimrAaKNmtgmpCI9OmmSFlppgYaacdopBBAAh+QQFBQAEACwAAAAAgACAAAAE/pDISau9OOvNu/9gKI5kaZ6oOKxD6r5wyLJxbdvzfO98mdO9oHDzWw2PyEmxlWwGl87oDiqtEnQmqg9oBf2yRTC229GqwiQzOaP2okfttWXJPH/hcTmFXnffZXR6RHmDf36GghiBgIhlhIlKj4pvH4uQGpYeknObl3yHY46dnqMSpVeniZ+alIWtl5ilsqmkr5ONt7iwsbYXo5m7oroVncDBHKu8OcjGx67Lz1xstMfJuaG+zc7R0td93t1W2Gmb45y9jN924evQLtqg6pXUe+h4w6z2yvr77Fv43MwJgxetBsBpfOQNJKjshkBmCRUuZLgtUkSJ+S5WRKgxxUV//tU+YrzXcaPIkf9KBjv5ROQulkNgqnKZhKYem05UrtEpJeFMijWBBqXX0p0gfl0eklG6sanTp1CjSp1KtarVq1izat3KtetJaya/xhEL1hlZYGfLvkxrhi3RnG4NxT14c24ou0yP4jVSz67TvdniQvXbtbDhw4gTK17MuLHjx5AjM85bhbI4unCN1n3rUOgRn3o99+CZNGLljz9NDyW9FOdo16FZw5C5EvY727VRz8YdUjcK2oN5ZwRtVXhAzBYAKAdwQ4BzAeRUt6O3fHmN58+jq51o+UL16jCwY0+JNDByDN+tvxCfXcx5YppHpFfvgn1793xTppivnEOA/wFw2GCfcx6B5AR/zG0AIIACDrgVgglmsOCCGwxIYFYI+jfhfw3ah2GGCm4YYIUWYgViiBt2UKJVJ6I4oQcrUtWiBiKO2CF7Vc1Io4gfxAgVhB/U2KOPTum4Y4pDevijkRLymKSSRfIXgpAgELkNAFhmmaUIVFbpYFNahsmlk15CeWWYW46JZAhWwoKmliN0WaaZu7yJJQlyzinemWiWkKee9wVjp59kivClM30SuuYIOG4Epwl/shkoY5FKpuaLlp5QaaZBFsrppRR+iqenooKwaKmXoqrqqhlEAAAh+QQFBQAEACwAAAAAgACAAAAE/pDISau9OOvNu/9gKI5kaZ6oOKxD6r5wyLJxbdvzfO98mdO9oHDzWw2PyEmxlWwGl87oDiqtEnQmqg9oBf2yRTC229GqwiQzOaP2okfttWXJPH/hcTmFXnffZXR6RHmDf36GghiBgIhlhIlKj4pvH4uQGpYeknObl3yHY46dnqMSpVeniZ+alIWtl5ilsqmkr5ONt7iwsbYXo5m7oroVncDBHKu8OcjGx67Lz1xstMfJuaG+zc7R0td93t1W2Gmb45y9jN924evQLtqg6pXUe+h4w6z2yvr77Fv43MwJgxetBsBpfOQNJKjshkBmCRUuZLgtUkSJ+S5WRKgxxUV//tU+YrzXcaPIkf9KBjv5ROQulkNgqnKZhKYem05UrtEpJeFMijWBBqXX0p0gfl0eklG6sanTp1CjSp1KtarVq1izat3KtetJaya/xhEL1hlZYGfLvkxrhi3RnG4NxT14c24ou0yP4jVSz67TvdniQvXbtbDhw4gTK17MuLHjx5AjMwZAGcBavrsqa66VN4rmz5b1vrUB+vPP0S9Kgz4t9Ibq0qzV9ngNG5LMILRXw7rtOvdmszhh+P4d9mOM4ZUHBy+BnDJV3iKaY13+ATmJANgDOAQZkO6F4dezYzdoNB7S77RLiBcPg6jPEQDiy5d/Yn329uc5lgcxPz4K+/e92NCafihtMF8KAI63gQAMCgCRd67okaB2CzbI4IP7VTUhhRlYaGF3BTY1IQceNohhZxttSGKJDoKI1YgrljgRZlTBGKOHGWX4lI0VyjhjiMHw2COOOaIIi4oesNjij0BCIuSQH86TXyJIJsmiedzt8iSUJmLZpBxbcnlhOjpqmaAISrZj5BphirmklxVVCUKaaq5ZRZtukjPlnQCWQCdJdkpxJgl/1vkln+z5eWVKNDqTqKI+pgRZoZJBSmSlJlCKKZqLbkpop55yGmmoonZJ6qdjnqrqqhdEAAAh+QQFBQAEACwAAAAAgACAAAAE/pDISau9OOvNu/9gKI5kaZ6oOKxD6r5wyLJxbdvzfO98mdO9oHDzWw2PyEmxlWwGl87oDiqtEnQmqg9oBf2yRTC229GqwiQzOaP2okfttWXJPH/hcTmFXnffZXR6RHmDf36GghiBgIhlhIlKj4pvH4uQGpYeknObl3yHY46dnqMSpVeniZ+alIWtl5ilsqmkr5ONt7iwsbYXo5m7oroVncDBHKu8OcjGx67Lz1xstMfJuaG+zc7R0td93t1W2Gmb45y9jN924evQLtqg6pXUe+h4w6z2yvr77Fv43MwJgxetBsBpfOQNJKjshkBmCRUuZLgtUkSJ+S5WRKgxxUV//tU+YrzXcaPIkf9KBjv5ROQulkNgqnKZhKYem05UrtEpJeFMijWBBqXX0p0gfl0eklG6sanTp1CjSp1KtarVq1izat3KtSuAr2DDih0rFupJaxPIql0b1ulZnxTYyl1r8i1cCXPzlq1o9y4BvYAB1O1rJrDewYQRGZbrNrHRtIvJmnVspKvly5gza97MubPnz6BDi+4coHSAlyDlmF5di6mU1bBPHxV6JDbsn0Rj2I6Nm7aN3bZ7oxUCPDgkmUGK84aF/Iby286av3jOuqn0E9RNT/7oIntpqtdBeMeKM0R2EgLSC3CYuh896ujVpzf4eJ5f8cVLyJcPg+j9D8Cd0LCfev0h5V5lIyxnwoAEvuCbN9hphwKD87kC0UHC6EHhegUFhNJTG3LIEVPDUbXhha49eEyIKLaHSm6JnNgiggd+uI2MM9qo4iU4BpRRfSBSaB+Q4NAYpJA/umiRgTwimaSRHkbF4pCu1QOjFD1OZOOSRAaTpZbtVCnIlzmGqaSGTsYDpZZbdjFlOmISs6MTZIJJUpdjMphSnOfgieaAe56ZDYZrABromlS2SQZ/Yvh5YWhXjvaio5KWWWmjfF7aZ6aaWklppxCCmpKopJaaQQQAIfkEBQUABAAsAAAAAIAAgAAABP6QyEmrvTjrzbv/YCiOZGmeqDisQ+q+cMiycW3b83zvfJnTvaBw81sNj8hJsZVsBpfO6A4qrRJ0JqoPaAX9skUwttvRqsIkMzmj9qJH7bVlyTx/4XE5hV5332V0ekR5g39+hoIYgYCIZYSJSo+Kbx+LkBqWHpJzm5d8h2OOnZ6jEqVXp4mfmpSFrZeYpbKppK+Tjbe4sLG2F6OZu6K6FZ3AwRyrvDnIxseuy89cbLTHybmhvs3O0dLXfd7dVgDjACnae+GcvYzfIuTkKOd465XQI+/4J9TTw6z0GvgCbulnx17BfxkCKkxj0AVBftZAKFw4r53DdMIiSpwocFtGjf4hOFL0mI0PthIiO5I0ZfLkiZT5VrZ0mQLmu20zMcKwCQ9WTiNDeI6rNbOJUFU5q9hEanJNSqb7doiE+jDKSEEIu9z0qXOl169gw4odS7as2bNo06pdy7btygBw48qdS3cu2J9NLdTdy1euV7wtK/QdzJck4KITCCu26/Fw4MSLIxt2bC2y5MaUgVkm/Dczrs2Fv3qm6ba06dOoU6tezbq169ewY4MVQFvALtJyausm2rWK7t+2scpzAvw31apCigM/nnWH8uLMo5Z4Dh0S3iPUl3NN2iO7cWfXbXjfLfNnjPG175pPgZ422fDT0aNdP0J+xRu4lYHsMJ5h/opAHbW0T3YDNaRPcyUNqNyByPljIDsPeqCdGA1+1NtHJ5DH4EP/DeegHh5yKN12/0iyn1ghIuRheZu0uCJmWRUzIoi/NPdiNTUid+NtszS4o3U39oggkEOe8iONRhZ55Bo/prJkF0fS8mQVUQ7JkpVQUqPljEecqN+FCVZI5T5kcilEVGhiGUWaYqLTphRvRhLnlWAiaREodUL0mpmw8bmnmrIRA2igckZIqIP/Hfqlohsy6uijHEQAACH5BAkFAAQALAAAAACAAIAAAAT+kMhJq7046827/2AojmRpnqg4rEPqvnDIsnFt2/N873yZ072gcPNbDY/ISbGVbAaXzugOKq0SAFjAieoDWkHZrIk7+n0/4XDXTCKfM2lxu7jOvTlxuYpedt8teXogfh1LRn8agVp7bDKEiBWKjHaOfJCJgZM6lY2XcJmDlh6GnniSH48YhkylmHmhnRykrRuKi4WiRLO0rnGouRq7vL1po8CqqcMUp7LHF8LKn6/NscjO0ZHMGckSq9gd2taUwdzfEra61RXe5qbT5Jvw6lIB9QEp4c9e2+W4hyX27KHIN6Zfun0hAio8AcqFQX7XNiicWKJhiocWVrFKOJHiCF/+MeZRYyeiY0cSanAg/KVxI0eTC9uJ03gC5kmZSlquJGHTozmdO030jIkN6L8YQwMqM+rSRlKBpZgeeVrPk9QkVCEZrZJUa8s3Pb1C+2JTbESuPhGdPaM0alCccOPKnUu3rt27ePPq3cu3r9++AgILHky4MGGZTElSMMy48eCfiRUTcEy5cdHINCdU3nw4GubMEjiLFnD5M5nRnEubjoWaMuTV8Ra3NowY9tG/uHPr3s27t+/fwIMLH068RmyzvNZGUe5E8hnnVkDfkV5Fp9mxSLaqBdrk6nXqPLxfEn+DvFvuKtGr/grD/FLtKNx/k8+SPV34mrD7a+rw7UHo++nNN9JtF43DiYD/iTSgf/kRWB9zGWGkj4IN8gcLhfI4eOBxW0g4IYMjFbgWhxFCKM8fCHZj4EwkygVgThS+iFOKBJRD43w02nijZ/306OF5GKoYZI0/jmfQkUVuB+FDOwI5JJFPypgcRlQm+YWU65iIpVUSdmmlFE3CuGKALbYSppBjLgiikk9S8OOZ1cEJZZpqrvlckXh+eUSSfJoYZ5tZAuqmn3/ayaKGxpTJJaKJ0lnfb3oKF2lwkwJXKaSEFiemopom2GlBjH4qqqgRAAA7) no-repeat center/80px";return t}},{key:"debounce",value:function e(t){var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var o;return{exec:function e(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++){s[u]=arguments[u]}if(o){clearTimeout(o);o=null}if(i&&!o){t.apply(r,s)}o=setTimeout((function(){t.apply(r,s)}),n)},cancel:function e(){clearTimeout(o);o=null}}}},{key:"isIpv6",value:function e(t){return!(!t||/^(\d{1,3}\.){3}\d{1,3}$/gi.test(t))}},{key:"configurationEnvironment",value:function e(){var t=Intl.DateTimeFormat().resolvedOptions().timeZone;var r=!/Shanghai/.test(t);this.configuringTheEnvironment(r)}},{key:"getAreaDetectionCompleted",value:function e(){return this.areaDetectionCompleted}},{key:"isSupportConstraints",value:function e(t){var r;var n=(r=navigator.mediaDevices)===null||r===void 0?void 0:r.getSupportedConstraints();return!!n[t]}},{key:"getCurrentTimestamp",value:function e(){return(new Date).getTime()-this.timeDiff}},{key:"configuringTheEnvironment",value:function e(r){if(r){t.configs.OPS_REPORT_DOMAIN="log-collection-ap-southeast-3.rocket-cdn.com";t.configs.PUBLIC_DNS_SERVER=["dns.google","cloudflare-dns.com"]}else{t.configs.OPS_REPORT_DOMAIN="log-collection-new.hwcloudlive.com";t.configs.PUBLIC_DNS_SERVER=["dns.alidns.com","doh.pub"]}}},{key:"getRandomArray",value:function e(t){var r=new Uint8Array(t);if(window.crypto){window.crypto.getRandomValues(r)}return r}}])}();var g=new v;var m=e["default"]=g}))},5575:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(9974)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.FunctionUtil=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u=e.FunctionUtil=function(){function e(){n(this,e)}return o(e,null,[{key:"callWithTimeout",value:function e(r,n){var i;var o=new Promise((function(e,t){i=t}));var a;if(n){a=setTimeout((function(){clearTimeout(a);i(new t.HwLLSError(t.ErrorCode.HWLLS_INTERNAL_ERROR))}),n)}return Promise.race([r,o])["finally"]((function(){clearTimeout(a)}))}}])}()}))},4878:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(8024),r(9974),r(7354),r(2216)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;n=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(){"use strict";l=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:I(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function E(){}var S={};f(S,s,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(x([])));T&&T!==r&&n.call(T,s)&&(S=T);var C=E.prototype=_.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=h(t,r,n);if("normal"===c.type){if(i=n.done?m:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function k(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new R(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),f(C,c,"Generator"),f(C,s,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:x(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){f(o,n,i,a,s,"next",e)}function s(e){f(o,n,i,a,s,"throw",e)}a(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=m(e,"string");return"symbol"==a(t)?t:t+""}function m(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var y="httpRequest";var _=function(){function e(){h(this,e);this.defaultRequestOption={method:"GET",mode:"cors",cache:"default",referrerPolicy:"strict-origin-when-cross-origin"}}return v(e,[{key:"fetch",value:function(){var e=d(l().mark((function e(r){var o,a,s,u,c,f,d,h,p,v,g,m=arguments;return l().wrap((function e(l){while(1)switch(l.prev=l.next){case 0:o=m.length>1&&m[1]!==undefined?m[1]:{};a=m.length>2&&m[2]!==undefined?m[2]:{};s=m.length>3&&m[3]!==undefined?m[3]:i.configs.REQUEST_DEFAULT_TIMEOUT;u=m.length>4&&m[4]!==undefined?m[4]:1;c=m.length>5?m[5]:undefined;f="";d=null;u=u||1;h=null;p=0;case 10:if(!(p<u)){l.next=42;break}v=0;case 12:if(!(v<r.length)){l.next=40;break}g={};f=n["default"].generateRandomId(16,10);t.LoggerFactory.debug(y,"[HTTP_ID:".concat(f,"] fetch request start: ").concat(t.LoggerFactory.shieldUrlParameters(r[v])));l.prev=16;this.extendInfosHandle(r[v],"start",g,c);l.next=20;return this.doFetch(r[v],o,a,s,f);case 20:h=l.sent;this.extendInfosHandle(r[v],"end",g,c,h);t.LoggerFactory.debug(y,"[HTTP_ID:".concat(f,"] fetch request success"));l.next=35;break;case 25:l.prev=25;l.t0=l["catch"](16);t.LoggerFactory.error(y,"[HTTP_ID:".concat(f,"], requestUrl: ").concat(t.LoggerFactory.shieldUrlParameters(r[v]),", fetch request failed"));this.extendInfosHandle(r[v],"end",g,c,l.t0);if(!(v>=r.length-1)){l.next=34;break}p++;if(!(p<u)){l.next=34;break}l.next=34;return n["default"].sleep(n["default"].getRandom()*500+500);case 34:d=l.t0;case 35:if(!h){l.next=37;break}return l.abrupt("return",h);case 37:v++;l.next=12;break;case 40:l.next=10;break;case 42:if(!d){l.next=44;break}throw d;case 44:return l.abrupt("return",h);case 45:case"end":return l.stop()}}),e,this,[[16,25]])})));function r(t){return e.apply(this,arguments)}return r}()},{key:"doFetch",value:function e(i){var o=this;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var c=arguments.length>3?arguments[3]:undefined;var l=arguments.length>4?arguments[4]:undefined;var f;var d;var h;if(AbortController){d=new AbortController;h=d.signal}var p=new Promise((function(e,t){f=setTimeout((function(){clearTimeout(f);t(new r.HwLLSError(r.ErrorCode.HWLLS_ERROR_SERVER_NO_RESPONSE));d&&d.abort()}),c)}));var v=new Promise((function(e,c){var d;if(h){d=fetch(i,u(u(u(u({},o.defaultRequestOption),a),{headers:s}),{signal:h}))}else{d=fetch(i,u(u(u({},o.defaultRequestOption),a),{headers:s}))}d.then((function(o){if(/webrtc\/v1\/pullstream/gi.test(i)){n["default"].syncLocalTime(o.headers.get("Date"))}if(!o.ok){t.LoggerFactory.error(y,"[HTTP_ID:".concat(l,"] doFetch failed: ").concat(o.status));if(o.status>=500||o.status===0){c(new r.HwLLSError(r.ErrorCode.HWLLS_ERROR_SERVER_CONNECT_FAIL,"".concat(o.status," _ ").concat(o.statusText||"fetch failed",".")))}else{e({httpCode:o.status})}return}var a;var u=o.headers.get("Content-Type")||s["Content-Type"];if(/.*application\/json.*/.test(u)){var f=Number(o.headers.get("content-length"));a=f>0?o.json():Promise.resolve()}else if(/^text.*/.test(u)){a=o.text()}else{a=o.arrayBuffer()}a.then((function(t){e({httpCode:o.status,data:t})}))["catch"]((function(e){t.LoggerFactory.error(y,"[HTTP_ID:".concat(l,"], requestUrl: ").concat(t.LoggerFactory.shieldUrlParameters(i),", doFetch get response failed: ").concat(e));c(new r.HwLLSError(r.ErrorCode.HWLLS_INTERNAL_ERROR,e.message||"get respone error."))}))}))["catch"]((function(e){t.LoggerFactory.error(y,"[HTTP_ID:".concat(l,"], requestUrl: ").concat(t.LoggerFactory.shieldUrlParameters(i),", doFetch failed for exception: ").concat(e));c(new r.HwLLSError(r.ErrorCode.HWLLS_ERROR_SERVER_CONNECT_FAIL,e.getMsg?e.getMsg():e.message))}))["finally"]((function(){clearTimeout(f)}))}));return Promise.race([p,v])}},{key:"extendInfosHandle",value:function e(i,o,a,s,u){if(s){if(o==="start"){Object.assign(a,{id:s.length+1,domain:i,start_ms:n["default"].getCurrentLocalTimestamp(),end_ms:0,rspCode:"",errMsg:""})}else if(o==="end"){if(u instanceof r.HwLLSError){a.end_ms=n["default"].getCurrentLocalTimestamp();a.rspCode=u.getCode();a.errMsg=u.getMsg()}else{a.end_ms=n["default"].getCurrentLocalTimestamp();a.rspCode=u.httpCode}a.delay_ms=a.end_ms-a.start_ms;s.push(a)}else{t.LoggerFactory.info(y,"cannot handle")}}}}])}();var b=new _;var E=e["default"]=b}))},2363:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(8024)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parametersUtil=e.parameterValidKeys=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u=e.parameterValidKeys={OPS_STATISC_ENABLE:"OPS_STATISC_ENABLE",LOADING_CONFIG:"LOADING_CONFIG",ACCESS_DOMAIN:"ACCESS_DOMAIN",DNS_QUERY_ENABLE:"DNS_QUERY_ENABLE",GLSB_DOMAIN:"GLSB_DOMAIN"};var c="ParametersUtil";var l=function(){function e(){n(this,e);this.parameters=new Map}return o(e,[{key:"setParameter",value:function e(r,n){if(!r){t.LoggerFactory.error(c,"setParameter, parameterKey is null");return false}try{t.LoggerFactory.debug(c,"setParameter, parameterKey: ".concat(r,", parameterValue: ").concat(n));this.parameters.set(r.toLowerCase(),n);return true}catch(e){t.LoggerFactory.error(c,"setParameter occur error: ".concat(e));return false}}},{key:"getParameter",value:function e(r){try{if(!r||!this.parameters.has(r.toLowerCase())){return null}return this.parameters.get(r.toLowerCase())}catch(e){t.LoggerFactory.error(c,"getParameter occur error: ".concat(e));return null}}}])}();var f=e.parametersUtil=new l}))},5457:function(e,t,r){var n,i,o;(function(a,s){if(true){!(i=[t,r(9974)],n=s,o=typeof n==="function"?n.apply(t,i):n,o!==undefined&&(e.exports=o))}else{var u}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.ValidatorUtil=void 0;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u=e.ValidatorUtil=function(){function e(){n(this,e)}return o(e,null,[{key:"checkStringParameter",value:function e(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Infinity;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3?arguments[3]:undefined;if(!r&&i<=0){return true}if(typeof r!=="string"){throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER,"invalid type: ".concat(r))}var a=this.getStringBytes(r);if(a>n||a<i){throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER,"invalid length: ".concat(r))}if(o){var s=new RegExp(o);var u=s.test(r);if(!u){throw new t.HwLLSError(t.ErrorCode.HWLLS_ERROR_INVALID_PARAMETER,"invalid format: ".concat(r))}}return true}},{key:"checkPlayOpt",value:function e(t){if(!t.elementId){return false}if(Object.prototype.hasOwnProperty.call(t,"objectFit")&&!["cover","contain","fill"].includes(t.objectFit||"")){return false}return!!t.p2pUserId}},{key:"getStringBytes",value:function e(t){if(!t){return 0}var r=0;if(window.TextEncoder){var n=new TextEncoder;r=n.encode(t).length;return r}var i=t.length;for(var o=0;o<i;o++){if(t.charCodeAt(o)>255){r+=2}else{r++}}return r}}])}()}))},5268:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.StreamType=e.MediaType=e.ContentType=void 0;var t;(function(e){e["TRACK_TYPE_AUDIO"]="audio";e["TRACK_TYPE_VIDEO"]="video"})(t||(e.MediaType=t={}));var r;(function(e){e["STREAM_TYPE_MAIN"]="main"})(r||(e.StreamType=r={}));var n;(function(e){e["main"]="main";e["middle1"]="middle1";e["middle2"]="middle2";e["middle3"]="middle3";e["middle4"]="middle4";e["slides"]="slides";e["desktop"]="desktop"})(n||(e.ContentType=n={}))}))},1762:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.PlayerStateTraceType=e.PlayerStateTraceEvent=void 0;var t;(function(e){e["PLAYER_PAUSE"]="playerPause";e["FOREGROUND"]="foreground";e["BACKGROUND"]="background";e["PALYER_CANPLAY"]="playerCanplay";e["PALYER_PLAYING"]="playerPlaying";e["PLAYER_ENDED"]="playerEnded";e["TRACK_ENDED"]="trackEnded";e["TRACK_MUTE"]="trackMute";e["TRACK_UNMUTE"]="trackUnmute"})(t||(e.PlayerStateTraceEvent=t={}));var r;(function(e){e["RTC_VIDEO_PLAYER"]="RTCVideoPlayer";e["RTC_AUDIO_PLAYER"]="RTCAudioPlayer";e["RTC_PLAYER"]="RTCPlayer"})(r||(e.PlayerStateTraceType=r={}))}))},3388:function(e,t){var r,n,i;(function(o,a){if(true){!(n=[t],r=a,i=typeof r==="function"?r.apply(t,n):r,i!==undefined&&(e.exports=i))}else{var s}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.RTCClientEvent=void 0;var t=e.RTCClientEvent={Error:"Error",StreamAdded:"stream-added",StreamRemoved:"stream-removed",StreamUpdated:"stream-updated",StreamSubscribed:"stream-subscribed",ClientBanned:"client-banned",NetworkQuality:"network-quality",ConnectionStateChanged:"connection-state-changed",PeerJoin:"peer-join",PeerLeave:"peer-leave",MuteAudio:"mute-audio",UnmuteAudio:"unmute-audio",MuteVideo:"mute-video",UnmuteVideo:"unmute-video",LogUploaded:"log-upload-result",SignatureExpired:"signature-expired",CameraChanged:"camera-changed",RecordingDeviceChanged:"recording-device-changed",PlaybackDeviceChanged:"playback-device-changed",StreamInterrupted:"stream-interrupted",StreamRecovered:"stream-recovered",VolumeIndicator:"volume-indicator",UserNameChanged:"remote-user-name-changed",BatchSubscribeFailed:"batch-subscribe-failed",LiveStreamingUpdated:"live-streaming-updated",RtcStats:"rtc-stats",CmdMsgReceived:"cmd-msg-received",CmdChannelEstablished:"cmd-channel-established",CmdChannelDisconnect:"cmd-channel-disconnect",MediaConnectionStateChanged:"media-connection-state-changed",TransportProtocolChanged:"transport-protocol-changed",TransportStats:"transport-stats",RoomStreamStatus:"room-stream-status"}}))},7007:e=>{"use strict";var t=typeof Reflect==="object"?Reflect:null;var r=t&&typeof t.apply==="function"?t.apply:function e(t,r,n){return Function.prototype.apply.call(t,r,n)};var n;if(t&&typeof t.ownKeys==="function"){n=t.ownKeys}else if(Object.getOwnPropertySymbols){n=function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}}else{n=function e(t){return Object.getOwnPropertyNames(t)}}function i(e){if(console&&console.warn)console.warn(e)}var o=Number.isNaN||function e(t){return t!==t};function a(){a.init.call(this)}e.exports=a;e.exports.once=y;a.EventEmitter=a;a.prototype._events=undefined;a.prototype._eventsCount=0;a.prototype._maxListeners=undefined;var s=10;function u(e){if(typeof e!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:true,get:function(){return s},set:function(e){if(typeof e!=="number"||e<0||o(e)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".")}s=e}});a.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};a.prototype.setMaxListeners=function e(t){if(typeof t!=="number"||t<0||o(t)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".")}this._maxListeners=t;return this};function c(e){if(e._maxListeners===undefined)return a.defaultMaxListeners;return e._maxListeners}a.prototype.getMaxListeners=function e(){return c(this)};a.prototype.emit=function e(t){var n=[];for(var i=1;i<arguments.length;i++)n.push(arguments[i]);var o=t==="error";var a=this._events;if(a!==undefined)o=o&&a.error===undefined;else if(!o)return false;if(o){var s;if(n.length>0)s=n[0];if(s instanceof Error){throw s}var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));u.context=s;throw u}var c=a[t];if(c===undefined)return false;if(typeof c==="function"){r(c,this,n)}else{var l=c.length;var f=v(c,l);for(var i=0;i<l;++i)r(f[i],this,n)}return true};function l(e,t,r,n){var o;var a;var s;u(r);a=e._events;if(a===undefined){a=e._events=Object.create(null);e._eventsCount=0}else{if(a.newListener!==undefined){e.emit("newListener",t,r.listener?r.listener:r);a=e._events}s=a[t]}if(s===undefined){s=a[t]=r;++e._eventsCount}else{if(typeof s==="function"){s=a[t]=n?[r,s]:[s,r]}else if(n){s.unshift(r)}else{s.push(r)}o=c(e);if(o>0&&s.length>o&&!s.warned){s.warned=true;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");l.name="MaxListenersExceededWarning";l.emitter=e;l.type=t;l.count=s.length;i(l)}}return e}a.prototype.addListener=function e(t,r){return l(this,t,r,false)};a.prototype.on=a.prototype.addListener;a.prototype.prependListener=function e(t,r){return l(this,t,r,true)};function f(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function d(e,t,r){var n={fired:false,wrapFn:undefined,target:e,type:t,listener:r};var i=f.bind(n);i.listener=r;n.wrapFn=i;return i}a.prototype.once=function e(t,r){u(r);this.on(t,d(this,t,r));return this};a.prototype.prependOnceListener=function e(t,r){u(r);this.prependListener(t,d(this,t,r));return this};a.prototype.removeListener=function e(t,r){var n,i,o,a,s;u(r);i=this._events;if(i===undefined)return this;n=i[t];if(n===undefined)return this;if(n===r||n.listener===r){if(--this._eventsCount===0)this._events=Object.create(null);else{delete i[t];if(i.removeListener)this.emit("removeListener",t,n.listener||r)}}else if(typeof n!=="function"){o=-1;for(a=n.length-1;a>=0;a--){if(n[a]===r||n[a].listener===r){s=n[a].listener;o=a;break}}if(o<0)return this;if(o===0)n.shift();else{g(n,o)}if(n.length===1)i[t]=n[0];if(i.removeListener!==undefined)this.emit("removeListener",t,s||r)}return this};a.prototype.off=a.prototype.removeListener;a.prototype.removeAllListeners=function e(t){var r,n,i;n=this._events;if(n===undefined)return this;if(n.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(n[t]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete n[t]}return this}if(arguments.length===0){var o=Object.keys(n);var a;for(i=0;i<o.length;++i){a=o[i];if(a==="removeListener")continue;this.removeAllListeners(a)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}r=n[t];if(typeof r==="function"){this.removeListener(t,r)}else if(r!==undefined){for(i=r.length-1;i>=0;i--){this.removeListener(t,r[i])}}return this};function h(e,t,r){var n=e._events;if(n===undefined)return[];var i=n[t];if(i===undefined)return[];if(typeof i==="function")return r?[i.listener||i]:[i];return r?m(i):v(i,i.length)}a.prototype.listeners=function e(t){return h(this,t,true)};a.prototype.rawListeners=function e(t){return h(this,t,false)};a.listenerCount=function(e,t){if(typeof e.listenerCount==="function"){return e.listenerCount(t)}else{return p.call(e,t)}};a.prototype.listenerCount=p;function p(e){var t=this._events;if(t!==undefined){var r=t[e];if(typeof r==="function"){return 1}else if(r!==undefined){return r.length}}return 0}a.prototype.eventNames=function e(){return this._eventsCount>0?n(this._events):[]};function v(e,t){var r=new Array(t);for(var n=0;n<t;++n)r[n]=e[n];return r}function g(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function m(e){var t=new Array(e.length);for(var r=0;r<t.length;++r){t[r]=e[r].listener||e[r]}return t}function y(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o);n(r)}function o(){if(typeof e.removeListener==="function"){e.removeListener("error",i)}r([].slice.call(arguments))}b(e,t,o,{once:true});if(t!=="error"){_(e,i,{once:true})}}))}function _(e,t,r){if(typeof e.on==="function"){b(e,"error",t,r)}}function b(e,t,r,n){if(typeof e.on==="function"){if(n.once){e.once(t,r)}else{e.on(t,r)}}else if(typeof e.addEventListener==="function"){e.addEventListener(t,(function i(o){if(n.once){e.removeEventListener(t,i)}r(o)}))}else{throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}}},5951:function(e){(function(t,r){true?e.exports=r():0})(this,(function(){"use strict";var e=Math.imul,t=Math.clz32;function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r,n=0;n<t.length;n++)r=t[n],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(){return l=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=Function.bind.apply(e,n),o=new i;return r&&u(o,r.prototype),o},l.apply(null,arguments)}function f(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){function r(){return l(e,arguments,s(this).constructor)}if(null===e||!f(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},d(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function v(e){var t=c();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function g(e,t){return m(e)||y(e,t)||_(e,t)||E()}function m(e){if(Array.isArray(e))return e}function y(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!(t&&o.length===t));a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function _(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var w=function(e){var t=Math.abs,i=Math.max,s=Math.floor;function u(e,t){var r;if(n(this,u),r=c.call(this,e),r.sign=t,Object.setPrototypeOf(h(r),u.prototype),e>u.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r}a(u,e);var c=v(u);return o(u,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=S(this);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push((n?(n>>>0).toString(16):n)+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?u.__toStringBasePowerOfTwo(this,e):u.__toStringGeneric(this,e,!1)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new u(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)e--,t=this[e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return u.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=32767&e,i=e>>>15,o=0,a=t,s=0;s<r;s++){var c=this.__digit(s),l=32767&c,f=c>>>15,d=u.__imul(l,n),h=u.__imul(l,i),p=u.__imul(f,n),v=u.__imul(f,i),g=a+d+o;o=g>>>30,g&=1073741823,g+=((32767&h)<<15)+((32767&p)<<15),o+=g>>>30,a=v+(h>>>15)+(p>>>15),this.__setDigit(s,1073741823&g)}if(0!==o||0!==a)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,i=0,o=0;o<r;o++)n=this.__halfDigit(t+o)+e.__halfDigit(o)+i,i=n>>>15,this.__setHalfDigit(t+o,32767&n);return i}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=32767&i,a=0;a<r-1>>>1;a++){var s=e.__digit(a),u=(i>>>15)-(32767&s)-n;n=1&u>>>15,this.__setDigit(t+a,(32767&u)<<15|32767&o),i=this.__digit(t+a+1),o=(32767&i)-(s>>>15)-n,n=1&o>>>15}var c=e.__digit(a),l=(i>>>15)-(32767&c)-n;n=1&l>>>15,this.__setDigit(t+a,(32767&l)<<15|32767&o);if(t+a+1>=this.length)throw new RangeError("out of bounds");0==(1&r)&&(i=this.__digit(t+a+1),o=(32767&i)-(c>>>15)-n,n=1&o>>>15,this.__setDigit(t+e.length,1073709056&i|32767&o))}else{t>>=1;for(var f=0;f<e.length-1;f++){var d=this.__digit(t+f),h=e.__digit(f),p=(32767&d)-(32767&h)-n;n=1&p>>>15;var v=(d>>>15)-(h>>>15)-n;n=1&v>>>15,this.__setDigit(t+f,(32767&v)<<15|32767&p)}var g=this.__digit(t+f),m=e.__digit(f),y=(32767&g)-(32767&m)-n;n=1&y>>>15;var _=0;0==(1&r)&&(_=(g>>>15)-(m>>>15)-n,n=1&_>>>15),this.__setDigit(t+f,(32767&_)<<15|32767&y)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,i=0;i<n;i++)t=this.__digit(i+1),this.__setDigit(i,1073741823&t<<30-e|r),r=t>>>e;this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),i=1&e?32767&n|t<<15:1073709056&n|32767&t;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return u.__zero();if(u.__isOneDigitInt(e))return 0>e?u.__oneDigit(-e,!0):u.__oneDigit(e,!1);if(!t(e)||s(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return u.__fromDouble(e)}if("string"==typeof e){var n=u.__fromString(e);if(null===n)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return n}if("boolean"==typeof e)return!0===e?u.__oneDigit(1,!1):u.__zero();if("object"===r(e)){if(e.constructor===u)return e;var i=u.__toPrimitive(e);return u.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),i=u.__clz30(n),o=30*t-i;if(1024<o)return e.sign?-Infinity:1/0;var a=o-1,s=n,c=t-1,l=i+3,f=32===l?0:s<<l;f>>>=12;var d=l-12,h=12<=l?0:s<<20+l,p=20+l;for(0<d&&0<c&&(c--,s=e.__digit(c),f|=s>>>30-d,h=s<<d+2,p=d+2);0<p&&0<c;)c--,s=e.__digit(c),h|=30<=p?s<<p-30:s>>>30-p,p-=30;var v=u.__decideRounding(e,p,c,s);if((1===v||0===v&&1==(1&h))&&(h=h+1>>>0,0===h&&(f++,0!=f>>>20&&(f=0,a++,1023<a))))return e.sign?-Infinity:1/0;var g=e.sign?-2147483648:0;return a=a+1023<<20,u.__kBitConversionInts[1]=g|a|f,u.__kBitConversionInts[0]=h,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?u.__absoluteSubOne(e).__trim():u.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return u.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?u.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(r>=u.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var n=1+(0|r/30),i=e.sign&&0!=(1&r),o=new u(n,i);o.__initializeDigits();var a=1<<r%30;return o.__setDigit(n-1,a),o}var s=null,c=e;for(0!=(1&r)&&(s=e),r>>=1;0!==r;r>>=1)c=u.multiply(c,c),0!=(1&r)&&(null===s?s=c:s=u.multiply(s,c));return s}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new u(r,e.sign!==t.sign);n.__initializeDigits();for(var i=0;i<e.length;i++)u.__multiplyAccumulate(t,e.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(e,t))return u.__zero();var r,n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return n===e.sign?e:u.unaryMinus(e);r=u.__absoluteDivSmall(e,i,null)}else r=u.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function e(t,r){if(0===r.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(t,r))return t;var n=r.__unsignedDigit(0);if(1===r.length&&32767>=n){if(1===n)return u.__zero();var i=u.__absoluteModSmall(t,n);return 0===i?u.__zero():u.__oneDigit(i,t.sign)}var e=u.__absoluteDivLarge(t,r,!1,!0);return e.sign=t.sign,e.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?u.__absoluteAdd(e,t,r):0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,r):u.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,r):u.__absoluteSub(t,e,!r):u.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__rightShiftByAbsolute(e,t):u.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__leftShiftByAbsolute(e,t):u.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>u.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=u.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<u.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=u.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!u.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return u.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length)+1,n=u.__absoluteSubOne(e,r),o=u.__absoluteSubOne(t);return n=u.__absoluteOr(n,o,n),u.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}return u.__absoluteAndNot(e,u.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return u.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length),n=u.__absoluteSubOne(e,r),o=u.__absoluteSubOne(t);return u.__absoluteXor(n,o,n).__trim()}var a=i(e.length,t.length)+1;if(e.sign){var s=[t,e];e=s[0],t=s[1]}var c=u.__absoluteSubOne(t,a);return c=u.__absoluteXor(c,e,c),u.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=i(e.length,t.length);if(!e.sign&&!t.sign)return u.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=u.__absoluteSubOne(e,r),o=u.__absoluteSubOne(t);return n=u.__absoluteAnd(n,o,n),u.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}var s=u.__absoluteSubOne(t,r);return s=u.__absoluteAndNot(s,e,s),u.__absoluteAddOne(s,!0,s).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(e=s(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return u.__zero();if(e>=u.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=t.__unsignedDigit(r-1),i=1<<(e-1)%30;if(t.length===r&&n<i)return t;if(!((n&i)===i))return u.__truncateToNBits(e,t);if(!t.sign)return u.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(n&i-1)){for(var o=r-2;0<=o;o--)if(0!==t.__digit(o))return u.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===i?t:u.__truncateToNBits(e,t)}return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(e=s(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return u.__zero();if(t.sign){if(e>u.__kMaxLengthBits)throw new RangeError("BigInt too big");return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=u.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=e%30;if(t.length==r){if(0===n)return t;var i=t.__digit(r-1);if(0==i>>>n)return t}return u.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)&&u.__isBigInt(t))return u.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return u.__compare(e,t,0)}},{key:"LE",value:function(e,t){return u.__compare(e,t,1)}},{key:"GT",value:function(e,t){return u.__compare(e,t,2)}},{key:"GE",value:function(e,t){return u.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(u.__isBigInt(e))return u.__isBigInt(t)?u.equal(e,t):u.EQ(t,e);if("number"==typeof e){if(u.__isBigInt(t))return u.__equalToNumber(t,e);if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else if("string"==typeof e){if(u.__isBigInt(t))return e=u.__fromString(e),null!==e&&u.equal(e,t);if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else if("boolean"==typeof e){if(u.__isBigInt(t))return u.__equalToNumber(t,+e);if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else if("symbol"===r(e)){if(u.__isBigInt(t))return!1;if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else if("object"===r(e)){if("object"===r(t)&&t.constructor!==u)return e==t;e=u.__toPrimitive(e)}else return e==t}}},{key:"NE",value:function(e,t){return!u.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return u.asIntN(64,u.DataViewGetBigUint64(e,t,r))}},{key:"DataViewGetBigUint64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=r?[4,0]:[0,4],i=g(n,2),o=i[0],a=i[1],s=e.getUint32(t+o,r),c=e.getUint32(t+a,r),l=new u(3,!1);return l.__setDigit(0,1073741823&c),l.__setDigit(1,(268435455&s)<<2|c>>>30),l.__setDigit(2,s>>>28),l.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];u.DataViewSetBigUint64(e,t,r,n)}},{key:"DataViewSetBigUint64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];r=u.asUintN(64,r);var i=0,o=0;if(0<r.length&&(o=r.__digit(0),1<r.length)){var a=r.__digit(1);o|=a<<30,i=a>>>2,2<r.length&&(i|=r.__digit(2)<<28)}var s=n?[4,0]:[0,4],c=g(s,2),l=c[0],f=c[1];e.setUint32(t+l,i,n),e.setUint32(t+f,o,n)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new u(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===r)return-1;r--,n=e.__digit(r),i=29}var o=1<<i;if(0==(n&o))return-1;if(o-=1,0!=(n&o))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){u.__kBitConversionDouble[0]=e;var t,r=2047&u.__kBitConversionInts[1]>>>20,n=r-1023,i=(0|n/30)+1,o=new u(i,0>e),a=1048575&u.__kBitConversionInts[1]|1048576,s=u.__kBitConversionInts[0],c=20,l=n%30,f=0;if(l<c){var d=c-l;f=d+32,t=a>>>d,a=a<<32-d|s>>>d,s<<=32-d}else if(l===c)f=32,t=a,a=s,s=0;else{var h=l-c;f=32-h,t=a<<h|s>>>32-h,a=s<<h,s=0}o.__setDigit(i-1,t);for(var p=i-2;0<=p;p--)0<f?(f-=30,t=a>>>2,a=a<<30|s>>>2,s<<=30):t=0,o.__setDigit(p,t);return o.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?(e&=131071,10>=e||40==e||41==e||47==e||95==e||4096==e):65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,i=0;if(i===n)return u.__zero();for(var o=e.charCodeAt(i);u.__isWhitespace(o);){if(++i===n)return u.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===n)return null;o=e.charCodeAt(i),r=1}else if(45===o){if(++i===n)return null;o=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===o){if(++i===n)return u.__zero();if(o=e.charCodeAt(i),88===o||120===o){if(t=16,++i===n)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===n)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===n)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===n)return u.__zero();if(o=e.charCodeAt(i),88===o||120===o){if(++i===n)return null;o=e.charCodeAt(i)}}if(0!==r&&10!==t)return null;for(;48===o;){if(++i===n)return u.__zero();o=e.charCodeAt(i)}var a=n-i,s=u.__kMaxBitsPerChar[t],c=u.__kBitsPerCharTableMultiplier-1;if(a>1073741824/s)return null;var l=s*a+c>>>u.__kBitsPerCharTableShift,f=new u(0|(l+29)/30,!1),d=10>t?t:10,h=10<t?t-10:0;if(0==(t&t-1)){s>>=u.__kBitsPerCharTableShift;var p=[],v=[],g=!1;do{for(var m,y=0,_=0;;){if(m=void 0,o-48>>>0<d)m=o-48;else if((32|o)-97>>>0<h)m=(32|o)-87;else{g=!0;break}if(_+=s,y=y<<s|m,++i===n){g=!0;break}if(o=e.charCodeAt(i),30<_+s)break}p.push(y),v.push(_)}while(!g);u.__fillFromParts(f,p,v)}else{f.__initializeDigits();var b=!1,E=0;do{for(var S,w=0,T=1;;){if(S=void 0,o-48>>>0<d)S=o-48;else if((32|o)-97>>>0<h)S=(32|o)-87;else{b=!0;break}var C=T*t;if(1073741823<C)break;if(T=C,w=w*t+S,E++,++i===n){b=!0;break}o=e.charCodeAt(i)}c=30*u.__kBitsPerCharTableMultiplier-1;var A=0|(s*E+c>>>u.__kBitsPerCharTableShift)/30;f.__inplaceMultiplyAdd(T,w,A)}while(!b)}if(i!==n){if(!u.__isWhitespace(o))return null;for(i++;i<n;i++)if(o=e.charCodeAt(i),!u.__isWhitespace(o))return null}return f.sign=-1===r,f.__trim()}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,i=0,o=0,a=t.length-1;0<=a;a--){var s=t[a],u=r[a];i|=s<<o,o+=u,30===o?(e.__setDigit(n++,i),o=0,i=0):30<o&&(e.__setDigit(n++,1073741823&i),o-=30,i=s>>>u-o)}if(0!==i){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1;n=(85&n>>>1)+(85&n),n=(51&n>>>2)+(51&n),n=(15&n>>>4)+(15&n);var i=n,o=t-1,a=e.__digit(r-1),s=u.__clz30(a),c=0|(30*r-s+i-1)/i;if(e.sign&&c++,268435456<c)throw new Error("string too long");for(var l=Array(c),f=c-1,d=0,h=0,p=0;p<r-1;p++){var v=e.__digit(p),g=(d|v<<h)&o;l[f--]=u.__kConversionChars[g];var m=i-h;for(d=v>>>m,h=30-m;h>=i;)l[f--]=u.__kConversionChars[d&o],d>>>=i,h-=i}var y=(d|a<<h)&o;for(l[f--]=u.__kConversionChars[y],d=a>>>i-h;0!==d;)l[f--]=u.__kConversionChars[d&o],d>>>=i;if(e.sign&&(l[f--]="-"),-1!==f)throw new Error("implementation bug");return l.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n)return"";if(1===n){var i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}var o=30*n-u.__clz30(e.__digit(n-1)),a=u.__kMaxBitsPerChar[t],s=a-1,c=o*u.__kBitsPerCharTableMultiplier;c+=s-1,c=0|c/s;var l,f,d=c+1>>1,h=u.exponentiate(u.__oneDigit(t,!1),u.__oneDigit(d,!1)),p=h.__unsignedDigit(0);if(1===h.length&&32767>=p){l=new u(e.length,!1),l.__initializeDigits();for(var v,g=0,m=2*e.length-1;0<=m;m--)v=g<<15|e.__halfDigit(m),l.__setHalfDigit(m,0|v/p),g=0|v%p;f=g.toString(t)}else{var y=u.__absoluteDivLarge(e,h,!0,!0);l=y.quotient;var _=y.remainder.__trim();f=u.__toStringGeneric(_,t,!0)}l.__trim();for(var b=u.__toStringGeneric(l,t,!0);f.length<d;)f="0"+f;return!1===r&&e.sign&&(b="-"+b),b+f}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return u.__unequalSign(r);var n=u.__absoluteCompare(e,t);return 0<n?u.__absoluteGreater(r):0>n?u.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,r){if(u.__isOneDigitInt(r)){var n=e.sign,i=0>r;if(n!==i)return u.__unequalSign(n);if(0===e.length){if(i)throw new Error("implementation bug");return 0===r?0:-1}if(1<e.length)return u.__absoluteGreater(n);var o=t(r),a=e.__unsignedDigit(0);return a>o?u.__absoluteGreater(n):a<o?u.__absoluteLess(n):0}return u.__compareToDouble(e,r)}},{key:"__compareToDouble",value:function(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-Infinity)return 1;var r=e.sign;if(r!==0>t)return u.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;u.__kBitConversionDouble[0]=t;var n=2047&u.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(0>i)return u.__absoluteGreater(r);var o=e.length,a=e.__digit(o-1),s=u.__clz30(a),c=30*o-s,l=i+1;if(c<l)return u.__absoluteLess(r);if(c>l)return u.__absoluteGreater(r);var f=1048576|1048575&u.__kBitConversionInts[1],d=u.__kBitConversionInts[0],h=20,p=29-s;if(p!==(0|(c-1)%30))throw new Error("implementation bug");var v,g=0;if(p<h){var m=h-p;g=m+32,v=f>>>m,f=f<<32-m|d>>>m,d<<=32-m}else if(p===h)g=32,v=f,f=d,d=0;else{var y=p-h;g=32-y,v=f<<y|d>>>32-y,f=d<<y,d=0}if(a>>>=0,v>>>=0,a>v)return u.__absoluteGreater(r);if(a<v)return u.__absoluteLess(r);for(var _=o-2;0<=_;_--){0<g?(g-=30,v=f>>>2,f=f<<30|d>>>2,d<<=30):v=0;var b=e.__unsignedDigit(_);if(b>v)return u.__absoluteGreater(r);if(b<v)return u.__absoluteLess(r)}if(0!==f||0!==d){if(0===g)throw new Error("implementation bug");return u.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,r){return u.__isOneDigitInt(r)?0===r?0===e.length:1===e.length&&e.sign===0>r&&e.__unsignedDigit(0)===t(r):0===u.__compareToDouble(e,r)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,r){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(u.__isBigInt(e)&&"string"==typeof t)return t=u.__fromString(t),null!==t&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if("string"==typeof e&&u.__isBigInt(t))return e=u.__fromString(e),null!==e&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)){if(u.__isBigInt(t))return u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return u.__comparisonResultToBool(u.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(u.__isBigInt(t))return u.__comparisonResultToBool(u.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return u.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:u.unaryMinus(e);var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var i,o=new u(n,r),a=0,s=0;s<t.length;s++)i=e.__digit(s)+t.__digit(s)+a,a=i>>>30,o.__setDigit(s,1073741823&i);for(;s<e.length;s++){var c=e.__digit(s)+a;a=c>>>30,o.__setDigit(s,1073741823&c)}return s<o.length&&o.__setDigit(s,a),o.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:u.unaryMinus(e);for(var n,i=new u(e.length,r),o=0,a=0;a<t.length;a++)n=e.__digit(a)-t.__digit(a)-o,o=1&n>>>30,i.__setDigit(a,1073741823&n);for(;a<e.length;a++){var s=e.__digit(a)-o;o=1&s>>>30,i.__setDigit(a,1073741823&s)}return i.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new u(n,t):r.sign=t;for(var i,o=1,a=0;a<n;a++)i=e.__digit(a)+o,o=i>>>30,r.__setDigit(a,1073741823&i);return 0!==o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){var r=e.length;t=t||r;for(var n,i=new u(t,!1),o=1,a=0;a<r;a++)n=e.__digit(a)-o,o=1&n>>>30,i.__setDigit(a,1073741823&n);if(0!==o)throw new Error("implementation bug");for(var s=r;s<t;s++)i.__setDigit(s,0);return i}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var c=o;null===r?r=new u(c,!1):c=r.length;for(var l=0;l<o;l++)r.__setDigit(l,e.__digit(l)&t.__digit(l));for(;l<c;l++)r.__setDigit(l,0);return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;n<i&&(o=n);var a=n;null===r?r=new u(a,!1):a=r.length;for(var s=0;s<o;s++)r.__setDigit(s,e.__digit(s)&~t.__digit(s));for(;s<n;s++)r.__setDigit(s,e.__digit(s));for(;s<a;s++)r.__setDigit(s,0);return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var c=n;null===r?r=new u(c,!1):c=r.length;for(var l=0;l<o;l++)r.__setDigit(l,e.__digit(l)|t.__digit(l));for(;l<n;l++)r.__setDigit(l,e.__digit(l));for(;l<c;l++)r.__setDigit(l,0);return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var c=n;null===r?r=new u(c,!1):c=r.length;for(var l=0;l<o;l++)r.__setDigit(l,e.__digit(l)^t.__digit(l));for(;l<n;l++)r.__setDigit(l,e.__digit(l));for(;l<c;l++)r.__setDigit(l,0);return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var i=32767&t,o=t>>>15,a=0,s=0,c=0;c<e.length;c++,n++){var l=r.__digit(n),f=e.__digit(c),d=32767&f,h=f>>>15,p=u.__imul(d,i),v=u.__imul(d,o),g=u.__imul(h,i),m=u.__imul(h,o);l+=s+p+a,a=l>>>30,l&=1073741823,l+=((32767&v)<<15)+((32767&g)<<15),a+=l>>>30,s=m+(v>>>15)+(g>>>15),r.__setDigit(n,1073741823&l)}for(;0!==a||0!==s;n++){var y=r.__digit(n);y+=a+s,s=0,a=y>>>30,r.__setDigit(n,1073741823&y)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,i){for(var o=r,a=0,s=0;s<n;s++){var c=e.__digit(s),l=u.__imul(32767&c,t),f=u.__imul(c>>>15,t),d=l+((32767&f)<<15)+a+o;o=d>>>30,a=f>>>15,i.__setDigit(s,1073741823&d)}if(i.length>n)for(i.__setDigit(n++,o+a);n<i.length;)i.__setDigit(n++,0);else if(0!==o+a)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new u(e.length,!1));for(var n=0,i=2*e.length-1;0<=i;i-=2){var o=(n<<15|e.__halfDigit(i))>>>0,a=0|o/t;n=0|o%t,o=(n<<15|e.__halfDigit(i-1))>>>0;var s=0|o/t;n=0|o%t,r.__setDigit(i>>>1,a<<15|s)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r,n=0,i=2*e.length-1;0<=i;i--)r=(n<<15|e.__halfDigit(i))>>>0,n=0|r%t;return n}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var i=t.__halfDigitLength(),o=t.length,a=e.__halfDigitLength()-i,s=null;r&&(s=new u(a+2>>>1,!1),s.__initializeDigits());var c=new u(i+2>>>1,!1);c.__initializeDigits();var l=u.__clz15(t.__halfDigit(i-1));0<l&&(t=u.__specialLeftShift(t,l,0));for(var f=u.__specialLeftShift(e,l,1),d=t.__halfDigit(i-1),h=0,p=a;0<=p;p--){var v=32767,g=f.__halfDigit(p+i);if(g!==d){var m=(g<<15|f.__halfDigit(p+i-1))>>>0;v=0|m/d;for(var y=0|m%d,_=t.__halfDigit(i-2),b=f.__halfDigit(p+i-2);u.__imul(v,_)>>>0>(y<<16|b)>>>0&&(v--,y+=d,!(32767<y)););}u.__internalMultiplyAdd(t,v,0,o,c);var E=f.__inplaceSub(c,p,i+1);0!==E&&(E=f.__inplaceAdd(t,p,i),f.__setHalfDigit(p+i,32767&f.__halfDigit(p+i)+E),v--),r&&(1&p?h=v<<15:s.__setDigit(p>>>1,h|v))}if(n)return f.__inplaceRightShift(l),r?{quotient:s,remainder:f}:f;if(r)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return u.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,i=new u(n+r,!1);if(0===t){for(var o=0;o<n;o++)i.__setDigit(o,e.__digit(o));return 0<r&&i.__setDigit(n,0),i}for(var a,s=0,c=0;c<n;c++)a=e.__digit(c),i.__setDigit(c,1073741823&a<<t|s),s=a>>>30-t;return 0<r&&i.__setDigit(n,s),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=u.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");var n=0|r/30,i=r%30,o=e.length,a=0!==i&&0!=e.__digit(o-1)>>>30-i,s=o+n+(a?1:0),c=new u(s,e.sign);if(0===i){for(var l=0;l<n;l++)c.__setDigit(l,0);for(;l<s;l++)c.__setDigit(l,e.__digit(l-n))}else{for(var f=0,d=0;d<n;d++)c.__setDigit(d,0);for(var h,p=0;p<o;p++)h=e.__digit(p),c.__setDigit(p+n,1073741823&h<<i|f),f=h>>>30-i;if(a)c.__setDigit(o+n,f);else if(0!==f)throw new Error("implementation bug")}return c.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,i=u.__toShiftAmount(t);if(0>i)return u.__rightShiftByMaximum(n);var o=0|i/30,a=i%30,s=r-o;if(0>=s)return u.__rightShiftByMaximum(n);var c=!1;if(n){if(0!=(e.__digit(o)&(1<<a)-1))c=!0;else for(var l=0;l<o;l++)if(0!==e.__digit(l)){c=!0;break}}if(c&&0===a){var f=e.__digit(r-1);0==~f&&s++}var d=new u(s,n);if(0===a){d.__setDigit(s-1,0);for(var h=o;h<r;h++)d.__setDigit(h-o,e.__digit(h))}else{for(var p,v=e.__digit(o)>>>a,g=r-o-1,m=0;m<g;m++)p=e.__digit(m+o+1),d.__setDigit(m,1073741823&p<<30-a|v),v=p>>>a;d.__setDigit(g,v)}return c&&(d=u.__absoluteAddOne(d,!0,d)),d.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>u.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==r(e))return e;if(e.constructor===u)return e;if("undefined"!=typeof Symbol&&"symbol"===r(Symbol.toPrimitive)){var n=e[Symbol.toPrimitive];if(n){var i=n(t);if("object"!==r(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var o=e.valueOf;if(o){var a=o.call(e);if("object"!==r(a))return a}var s=e.toString;if(s){var c=s.call(e);if("object"!==r(c))return c}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return u.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===r(e)&&null!==e&&e.constructor===u}},{key:"__truncateToNBits",value:function(e,t){for(var r=0|(e+29)/30,n=new u(r,t.sign),i=r-1,o=0;o<i;o++)n.__setDigit(o,t.__digit(o));var a=t.__digit(i);if(0!=e%30){var s=32-e%30;a=a<<s>>>s}return n.__setDigit(i,a),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n=Math.min,i,o=0|(e+29)/30,a=new u(o,r),s=0,c=o-1,l=0,f=n(c,t.length);s<f;s++)i=0-t.__digit(s)-l,l=1&i>>>30,a.__setDigit(s,1073741823&i);for(;s<c;s++)a.__setDigit(s,0|1073741823&-l);var d,h=c<t.length?t.__digit(c):0,p=e%30;if(0===p)d=0-h-l,d&=1073741823;else{var v=32-p;h=h<<v>>>v;var g=1<<32-v;d=g-h-l,d&=g-1}return a.__setDigit(c,d),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),u}(d(Array));return w.__kMaxLength=33554432,w.__kMaxLengthBits=w.__kMaxLength<<5,w.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],w.__kBitsPerCharTableShift=5,w.__kBitsPerCharTableMultiplier=1<<w.__kBitsPerCharTableShift,w.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],w.__kBitConversionBuffer=new ArrayBuffer(8),w.__kBitConversionDouble=new Float64Array(w.__kBitConversionBuffer),w.__kBitConversionInts=new Int32Array(w.__kBitConversionBuffer),w.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},w.__imul=e||function(e,t){return 0|e*t},w}))},5602:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";t+=e.raddr!=null?" raddr %s rport %d":"%v%v";t+=e.tcptype!=null?" tcptype %s":"%v";if(e.generation!=null){t+=" generation %d"}t+=e["network-id"]!=null?" network-id %d":"%v";t+=e["network-cost"]!=null?" network-cost %d":"%v";return t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";if(e.attribute!=null){t+=" %s";if(e.value!=null){t+=":%s"}}return t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)"+"[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)"+"(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:"+"(send|recv) ([a-zA-Z0-9\\-_~;,]+)"+"(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?"+"$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";t+=e.id!=null?"id=%s %s":"%v%s";t+=e.mediaClockValue!=null?"=%s":"";t+=e.rateNumerator!=null?" rate=%s":"";t+=e.rateDenominator!=null?"/%s":"";return t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){var r=t[e];r.forEach((function(e){if(!e.reg){e.reg=/(.*)/}if(!e.format){e.format="%s"}}))}))},7363:(e,t,r)=>{var n=r(5020);var i=r(3804);t.write=i;t.parse=n.parse;t.parseParams=n.parseParams;t.parseFmtpConfig=n.parseFmtpConfig;t.parsePayloads=n.parsePayloads;t.parseRemoteCandidates=n.parseRemoteCandidates;t.parseImageAttributes=n.parseImageAttributes;t.parseSimulcastStreamList=n.parseSimulcastStreamList},5020:(e,t,r)=>{var n=function(e){return String(Number(e))===e?Number(e):e};var i=function(e,t,r,i){if(i&&!r){t[i]=n(e[1])}else{for(var o=0;o<r.length;o+=1){if(e[o+1]!=null){t[r[o]]=n(e[o+1])}}}};var o=function(e,t,r){var n=e.name&&e.names;if(e.push&&!t[e.push]){t[e.push]=[]}else if(n&&!t[e.name]){t[e.name]={}}var o=e.push?{}:n?t[e.name]:t;i(r.match(e.reg),o,e.names,e.name);if(e.push){t[e.push].push(o)}};var a=r(5602);var s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;e.split(/(\r\n|\r|\n)/).filter(s).forEach((function(e){var t=e[0];var i=e.slice(2);if(t==="m"){r.push({rtp:[],fmtp:[]});n=r[r.length-1]}for(var s=0;s<(a[t]||[]).length;s+=1){var u=a[t][s];if(u.reg.test(i)){return o(u,n,i)}}}));t.media=r;return t};var u=function(e,t){var r=t.split(/=(.+)/,2);if(r.length===2){e[r[0]]=n(r[1])}else if(r.length===1&&t.length>1){e[r[0]]=undefined}return e};t.parseParams=function(e){return e.split(/;\s?/).reduce(u,{})};t.parseFmtpConfig=t.parseParams;t.parsePayloads=function(e){return e.toString().split(" ").map(Number)};t.parseRemoteCandidates=function(e){var t=[];var r=e.split(" ").map(n);for(var i=0;i<r.length;i+=3){t.push({component:r[i],ip:r[i+1],port:r[i+2]})}return t};t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(u,{})}))};t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=false;if(e[0]!=="~"){t=n(e)}else{t=n(e.substring(1,e.length));r=true}return{scid:t,paused:r}}))}))}},3804:(e,t,r)=>{var n=r(5602);var i=/%[sdv%]/g;var o=function(e){var t=1;var r=arguments;var n=r.length;return e.replace(i,(function(e){if(t>=n){return e}var i=r[t];t+=1;switch(e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))};var a=function(e,t,r){var n=t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format;var i=[e+"="+n];if(t.names){for(var a=0;a<t.names.length;a+=1){var s=t.names[a];if(t.name){i.push(r[t.name][s])}else{i.push(r[t.names[a]])}}}else{i.push(r[t.name])}return o.apply(null,i)};var s=["v","o","s","i","u","e","p","c","b","t","r","z","a"];var u=["i","c","b","a"];e.exports=function(e,t){t=t||{};if(e.version==null){e.version=0}if(e.name==null){e.name=" "}e.media.forEach((function(e){if(e.payloads==null){e.payloads=""}}));var r=t.outerOrder||s;var i=t.innerOrder||u;var o=[];r.forEach((function(t){n[t].forEach((function(r){if(r.name in e&&e[r.name]!=null){o.push(a(t,r,e))}else if(r.push in e&&e[r.push]!=null){e[r.push].forEach((function(e){o.push(a(t,r,e))}))}}))}));e.media.forEach((function(e){o.push(a("m",n.m[0],e));i.forEach((function(t){n[t].forEach((function(r){if(r.name in e&&e[r.name]!=null){o.push(a(t,r,e))}else if(r.push in e&&e[r.push]!=null){e[r.push].forEach((function(e){o.push(a(t,r,e))}))}}))}))}));return o.join("\r\n")+"\r\n"}}};var t={};function r(n){var i=t[n];if(i!==undefined){return i.exports}var o=t[n]={exports:{}};e[n].call(o.exports,o,o.exports,r);return o.exports}var n=r(4317);return n})()))},56831:(e,t,r)=>{r.r(t);r.d(t,{EnhancerArray:()=>mt,MiddlewareArray:()=>gt,SHOULD_AUTOBATCH:()=>un,TaskAbortError:()=>Fr,__DO_NOT_USE__ActionTypes:()=>Se,addListener:()=>rn,applyMiddleware:()=>Ue,autoBatchEnhancer:()=>pn,bindActionCreators:()=>Ne,clearAllListeners:()=>nn,combineReducers:()=>Le,compose:()=>je,configureStore:()=>jt,createAction:()=>Ut,createAsyncThunk:()=>hr,createDraftSafeSelector:()=>ft,createEntityAdapter:()=>ar,createImmutableStateInvariantMiddleware:()=>It,createListenerMiddleware:()=>sn,createNextState:()=>me,createReducer:()=>Yt,createSelector:()=>Ke,createSerializableStateInvariantMiddleware:()=>Mt,createSlice:()=>$t,createStore:()=>ke,current:()=>j,findNonSerializableValue:()=>Ot,freeze:()=>m,getDefaultMiddleware:()=>Dt,getType:()=>Vt,isAction:()=>Bt,isAllOf:()=>_r,isAnyOf:()=>yr,isAsyncThunkAction:()=>Ar,isDraft:()=>i,isFluxStandardAction:()=>Ft,isFulfilled:()=>Cr,isImmutableDefault:()=>Tt,isPending:()=>Sr,isPlain:()=>kt,isPlainObject:()=>pt,isRejected:()=>wr,isRejectedWithValue:()=>Tr,legacy_createStore:()=>Oe,miniSerializeError:()=>dr,nanoid:()=>ur,original:()=>a,prepareAutoBatched:()=>cn,removeListener:()=>on,unwrapResult:()=>pr});function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(false){var i,o}throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[Q]}function o(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===re}(e)||Array.isArray(e)||!!e[X]||!!(null===(t=e.constructor)||void 0===t?void 0:t[X])||h(e)||p(e))}function a(e){return i(e)||n(23,e),e[Q].t}function s(e,t,r){void 0===r&&(r=!1),0===u(e)?(r?Object.keys:ne)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function u(e){var t=e[Q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:p(e)?3:0}function c(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===u(e)?e.get(t):e[t]}function f(e,t,r){var n=u(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return q&&e instanceof Map}function p(e){return $&&e instanceof Set}function v(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ie(e);delete t[Q];for(var r=ne(t),n=0;n<r.length;n++){var i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),_(e)||i(e)||!o(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&s(e,(function(e,t){return m(t,!0)}),!0)),e}function y(){n(2)}function _(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=oe[e];return t||n(18,e),t}function E(e,t){oe[e]||(oe[e]=t)}function S(){return true||0,Y}function w(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function T(e){C(e),e.p.forEach(R),e.p=null}function C(e){e===Y&&(Y=e.l)}function A(e){return Y={p:[],l:Y,h:e,m:!0,_:0}}function R(e){var t=e[Q];0===t.i||1===t.i?t.j():t.g=!0}function I(e,t){t._=t.p.length;var r=t.p[0],i=void 0!==e&&e!==r;return t.h.O||b("ES5").S(t,e,i),i?(r[Q].P&&(T(t),n(4)),o(e)&&(e=k(t,e),t.l||P(t,e)),t.u&&b("Patches").M(r[Q].t,e,t.u,t.s)):e=k(t,r,[]),T(t),t.u&&t.v(t.u,t.s),e!==Z?e:void 0}function k(e,t,r){if(_(t))return t;var n=t[Q];if(!n)return s(t,(function(i,o){return O(e,n,t,i,o,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return P(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=g(n.k):n.o,o=i,a=!1;3===n.i&&(o=new Set(i),i.clear(),a=!0),s(o,(function(t,o){return O(e,n,i,t,o,r,a)})),P(e,i,!1),r&&e.u&&b("Patches").N(n,r,e.u,e.s)}return n.o}function O(e,t,r,n,a,s,u){if(false&&0,i(a)){var l=k(e,a,s&&t&&3!==t.i&&!c(t.R,n)?s.concat(n):void 0);if(f(r,n,l),!i(l))return;e.m=!1}else u&&r.add(a);if(o(a)&&!_(a)){if(!e.h.D&&e._<1)return;k(e,a),t&&t.A.l||P(e,a)}}function P(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&m(t,r)}function M(e,t){var r=e[Q];return(r?v(r):e)[t]}function x(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function L(e){e.P||(e.P=!0,e.l&&L(e.l))}function D(e){e.o||(e.o=g(e.t))}function N(e,t,r){var n=h(t)?b("MapSet").F(t,r):p(t)?b("MapSet").T(t,r):e.O?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:S(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=n,o=ae;r&&(i=[n],o=se);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return n.k=u,n.j=s,u}(t,r):b("ES5").J(t,r);return(r?r.A:S()).p.push(n),n}function j(e){return i(e)||n(22,e),function e(t){if(!o(t))return t;var r,n=t[Q],i=u(t);if(n){if(!n.P&&(n.i<4||!b("ES5").K(n)))return n.t;n.I=!0,r=U(t,i),n.I=!1}else r=U(t,i);return s(r,(function(t,i){n&&l(n.t,t)===i||f(r,t,e(i))})),3===i?new Set(r):r}(e)}function U(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}function B(){function e(e,t){var r=u[e];return r?r.enumerable=t:u[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[Q];return false&&0,ae.get(t,e)},set:function(t){var r=this[Q];false&&0,ae.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var n=e[t][Q];if(!n.P)switch(n.i){case 5:o(n)&&L(n);break;case 4:r(n)&&L(n)}}}function r(e){for(var t=e.t,r=e.k,n=ne(r),i=n.length-1;i>=0;i--){var o=n[i];if(o!==Q){var a=t[o];if(void 0===a&&!c(t,o))return!0;var s=r[o],u=s&&s[Q];if(u?u.t!==a:!d(s,a))return!0}}var l=!!t[Q];return n.length!==ne(t).length+(l?0:1)}function o(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}function a(e){e.g&&n(3,JSON.stringify(v(e)))}var u={};E("ES5",{J:function(t,r){var n=Array.isArray(t),i=function(t,r){if(t){for(var n=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(n,""+i,e(i,!0));return n}var o=ie(r);delete o[Q];for(var a=ne(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(n,t),o={i:n?5:4,A:r?r.A:S(),P:!1,I:!1,R:{},l:r,t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(e,r,n){n?i(r)&&r[Q].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[Q];if(r){var n=r.t,i=r.k,a=r.R,u=r.i;if(4===u)s(i,(function(t){t!==Q&&(void 0!==n[t]||c(n,t)?a[t]||e(i[t]):(a[t]=!0,L(r)))})),s(n,(function(e){void 0!==i[e]||c(i,e)||(a[e]=!1,L(r))}));else if(5===u){if(o(r)&&(L(r),a.length=!0),i.length<n.length)for(var l=i.length;l<n.length;l++)a[l]=!1;else for(var f=n.length;f<i.length;f++)a[f]=!0;for(var d=Math.min(i.length,n.length),h=0;h<d;h++)i.hasOwnProperty(h)||(a[h]=!0),void 0===a[h]&&e(i[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):o(e)}})}function F(){function e(t){if(!o(t))return t;if(Array.isArray(t))return t.map(e);if(h(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(p(t))return new Set(Array.from(t).map(e));var r=Object.create(Object.getPrototypeOf(t));for(var n in t)r[n]=e(t[n]);return c(t,X)&&(r[X]=t[X]),r}function t(t){return i(t)?e(t):t}var r="add";E("Patches",{$:function(t,i){return i.forEach((function(i){for(var o=i.path,a=i.op,s=t,c=0;c<o.length-1;c++){var f=u(s),d=o[c];"string"!=typeof d&&"number"!=typeof d&&(d=""+d),0!==f&&1!==f||"__proto__"!==d&&"constructor"!==d||n(24),"function"==typeof s&&"prototype"===d&&n(24),"object"!=typeof(s=l(s,d))&&n(15,o.join("/"))}var h=u(s),p=e(i.value),v=o[o.length-1];switch(a){case"replace":switch(h){case 2:return s.set(v,p);case 3:n(16);default:return s[v]=p}case r:switch(h){case 1:return"-"===v?s.push(p):s.splice(v,0,p);case 2:return s.set(v,p);case 3:return s.add(p);default:return s[v]=p}case"remove":switch(h){case 1:return s.splice(v,1);case 2:return s.delete(v);case 3:return s.delete(i.value);default:return delete s[v]}default:n(17,a)}})),t},N:function(e,n,i,o){switch(e.i){case 0:case 4:case 2:return function(e,n,i,o){var a=e.t,u=e.o;s(e.R,(function(e,s){var f=l(a,e),d=l(u,e),h=s?c(a,e)?"replace":r:"remove";if(f!==d||"replace"!==h){var p=n.concat(e);i.push("remove"===h?{op:h,path:p}:{op:h,path:p,value:d}),o.push(h===r?{op:"remove",path:p}:"remove"===h?{op:r,path:p,value:t(f)}:{op:"replace",path:p,value:t(f)})}}))}(e,n,i,o);case 5:case 1:return function(e,n,i,o){var a=e.t,s=e.R,u=e.o;if(u.length<a.length){var c=[u,a];a=c[0],u=c[1];var l=[o,i];i=l[0],o=l[1]}for(var f=0;f<a.length;f++)if(s[f]&&u[f]!==a[f]){var d=n.concat([f]);i.push({op:"replace",path:d,value:t(u[f])}),o.push({op:"replace",path:d,value:t(a[f])})}for(var h=a.length;h<u.length;h++){var p=n.concat([h]);i.push({op:r,path:p,value:t(u[h])})}a.length<u.length&&o.push({op:"replace",path:n.concat(["length"]),value:a.length})}(e,n,i,o);case 3:return function(e,t,n,i){var o=e.t,a=e.o,s=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([s]);n.push({op:"remove",path:o,value:e}),i.unshift({op:r,path:o,value:e})}s++})),s=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([s]);n.push({op:r,path:a,value:e}),i.unshift({op:"remove",path:a,value:e})}s++}))}(e,n,i,o)}},M:function(e,t,r,n){r.push({op:"replace",path:[],value:t===Z?void 0:t}),n.push({op:"replace",path:[],value:e})}})}function H(){function e(e,t){function r(){this.constructor=e}a(e,t),e.prototype=(r.prototype=t.prototype,new r)}function t(e){e.o||(e.R=new Map,e.o=new Map(e.t))}function r(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(o(t)){var r=N(e.A.h,t,e);e.p.set(t,r),e.o.add(r)}else e.o.add(t)})))}function i(e){e.g&&n(3,JSON.stringify(v(e)))}var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},u=function(){function r(e,t){return this[Q]={i:2,l:t,A:t?t.A:S(),P:!1,I:!1,o:void 0,R:void 0,t:e,k:this,C:!1,g:!1},this}e(r,Map);var n=r.prototype;return Object.defineProperty(n,"size",{get:function(){return v(this[Q]).size}}),n.has=function(e){return v(this[Q]).has(e)},n.set=function(e,r){var n=this[Q];return i(n),v(n).has(e)&&v(n).get(e)===r||(t(n),L(n),n.R.set(e,!0),n.o.set(e,r),n.R.set(e,!0)),this},n.delete=function(e){if(!this.has(e))return!1;var r=this[Q];return i(r),t(r),L(r),r.t.has(e)?r.R.set(e,!1):r.R.delete(e),r.o.delete(e),!0},n.clear=function(){var e=this[Q];i(e),v(e).size&&(t(e),L(e),e.R=new Map,s(e.t,(function(t){e.R.set(t,!1)})),e.o.clear())},n.forEach=function(e,t){var r=this;v(this[Q]).forEach((function(n,i){e.call(t,r.get(i),i,r)}))},n.get=function(e){var r=this[Q];i(r);var n=v(r).get(e);if(r.I||!o(n))return n;if(n!==r.t.get(e))return n;var a=N(r.A.h,n,r);return t(r),r.o.set(e,a),a},n.keys=function(){return v(this[Q]).keys()},n.values=function(){var e,t=this,r=this.keys();return(e={})[ee]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},n.entries=function(){var e,t=this,r=this.keys();return(e={})[ee]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},n[ee]=function(){return this.entries()},r}(),c=function(){function t(e,t){return this[Q]={i:3,l:t,A:t?t.A:S(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(t,Set);var n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return v(this[Q]).size}}),n.has=function(e){var t=this[Q];return i(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},n.add=function(e){var t=this[Q];return i(t),this.has(e)||(r(t),L(t),t.o.add(e)),this},n.delete=function(e){if(!this.has(e))return!1;var t=this[Q];return i(t),r(t),L(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},n.clear=function(){var e=this[Q];i(e),v(e).size&&(r(e),L(e),e.o.clear())},n.values=function(){var e=this[Q];return i(e),r(e),e.o.values()},n.entries=function(){var e=this[Q];return i(e),r(e),e.o.entries()},n.keys=function(){return this.values()},n[ee]=function(){return this.values()},n.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}();E("MapSet",{F:function(e,t){return new u(e,t)},T:function(e,t){return new c(e,t)}})}function V(){B(),H(),F()}function W(e){return e}function z(e){return e}var G,Y,K="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),q="undefined"!=typeof Map,$="undefined"!=typeof Set,J="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Z=K?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),X=K?Symbol.for("immer-draftable"):"__$immer_draftable",Q=K?Symbol.for("immer-state"):"__$immer_state",ee="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",te={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},re=""+Object.prototype.constructor,ne="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ie=Object.getOwnPropertyDescriptors||function(e){var t={};return ne(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},oe={},ae={get:function(e,t){if(t===Q)return e;var r=v(e);if(!c(r,t))return function(e,t,r){var n,i=x(t,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!o(n)?n:n===M(e.t,t)?(D(e),e.o[t]=N(e.A.h,n,e)):n},has:function(e,t){return t in v(e)},ownKeys:function(e){return Reflect.ownKeys(v(e))},set:function(e,t,r){var n=x(v(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=M(v(e),t),o=null==i?void 0:i[Q];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(d(r,i)&&(void 0!==r||c(e.t,t)))return!0;D(e),L(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==M(e.t,t)||t in e.t?(e.R[t]=!1,D(e),L(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=v(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},se={};s(ae,(function(e,t){se[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),se.deleteProperty=function(e,t){return false&&0,se.set.call(this,e,t,void 0)},se.set=function(e,t,r){return false&&0,ae.set.call(this,e[0],t,r,e[0])};var ue=function(){function e(e){var t=this;this.O=J,this.D=!0,this.produce=function(e,r,i){if("function"==typeof e&&"function"!=typeof r){var a=r;r=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return s.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(i))}))}}var u;if("function"!=typeof r&&n(6),void 0!==i&&"function"!=typeof i&&n(7),o(e)){var c=A(t),l=N(t,e,void 0),f=!0;try{u=r(l),f=!1}finally{f?T(c):C(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return w(c,i),I(e,c)}),(function(e){throw T(c),e})):(w(c,i),I(u,c))}if(!e||"object"!=typeof e){if(void 0===(u=r(e))&&(u=e),u===Z&&(u=void 0),t.D&&m(u,!0),i){var d=[],h=[];b("Patches").M(e,u,d,h),i(d,h)}return u}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(i))}))};var n,i,o=t.produce(e,r,(function(e,t){n=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,n,i]})):[o,n,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||n(8),i(e)&&(e=j(e));var t=A(this),r=N(this,e,void 0);return r[Q].C=!0,C(t),r},t.finishDraft=function(e,t){var r=e&&e[Q];false&&0;var n=r.A;return w(n,t),I(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!J&&n(20),this.O=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var o=b("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),ce=new ue,le=ce.produce,fe=ce.produceWithPatches.bind(ce),de=ce.setAutoFreeze.bind(ce),he=ce.setUseProxies.bind(ce),pe=ce.applyPatches.bind(ce),ve=ce.createDraft.bind(ce),ge=ce.finishDraft.bind(ce);const me=le;var ye=r(1413);function _e(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or "+"use the non-minified dev environment for full errors. "}var be=function(){return typeof Symbol==="function"&&Symbol.observable||"@@observable"}();var Ee=function e(){return Math.random().toString(36).substring(7).split("").join(".")};var Se={INIT:"@@redux/INIT"+Ee(),REPLACE:"@@redux/REPLACE"+Ee(),PROBE_UNKNOWN_ACTION:function e(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ee()}};function we(e){if(typeof e!=="object"||e===null)return false;var t=e;while(Object.getPrototypeOf(t)!==null){t=Object.getPrototypeOf(t)}return Object.getPrototypeOf(e)===t}function Te(e){if(e===void 0)return"undefined";if(e===null)return"null";var t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":{return t}}if(Array.isArray(e))return"array";if(Re(e))return"date";if(Ae(e))return"error";var r=Ce(e);switch(r){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return r}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}function Ce(e){return typeof e.constructor==="function"?e.constructor.name:null}function Ae(e){return e instanceof Error||typeof e.message==="string"&&e.constructor&&typeof e.constructor.stackTraceLimit==="number"}function Re(e){if(e instanceof Date)return true;return typeof e.toDateString==="function"&&typeof e.getDate==="function"&&typeof e.setDate==="function"}function Ie(e){var t=typeof e;if(false){}return t}function ke(e,t,r){var n;if(typeof t==="function"&&typeof r==="function"||typeof r==="function"&&typeof arguments[3]==="function"){throw new Error(true?_e(0):0)}if(typeof t==="function"&&typeof r==="undefined"){r=t;t=undefined}if(typeof r!=="undefined"){if(typeof r!=="function"){throw new Error(true?_e(1):0)}return r(ke)(e,t)}if(typeof e!=="function"){throw new Error(true?_e(2):0)}var i=e;var o=t;var a=[];var s=a;var u=false;function c(){if(s===a){s=a.slice()}}function l(){if(u){throw new Error(true?_e(3):0)}return o}function f(e){if(typeof e!=="function"){throw new Error(true?_e(4):0)}if(u){throw new Error(true?_e(5):0)}var t=true;c();s.push(e);return function r(){if(!t){return}if(u){throw new Error(true?_e(6):0)}t=false;c();var n=s.indexOf(e);s.splice(n,1);a=null}}function d(e){if(!we(e)){throw new Error(true?_e(7):0)}if(typeof e.type==="undefined"){throw new Error(true?_e(8):0)}if(u){throw new Error(true?_e(9):0)}try{u=true;o=i(o,e)}finally{u=false}var t=a=s;for(var r=0;r<t.length;r++){var n=t[r];n()}return e}function h(e){if(typeof e!=="function"){throw new Error(true?_e(10):0)}i=e;d({type:Se.REPLACE})}function p(){var e;var t=f;return e={subscribe:function e(r){if(typeof r!=="object"||r===null){throw new Error(true?_e(11):0)}function n(){if(r.next){r.next(l())}}n();var i=t(n);return{unsubscribe:i}}},e[be]=function(){return this},e}d({type:Se.INIT});return n={dispatch:d,subscribe:f,getState:l,replaceReducer:h},n[be]=p,n}var Oe=ke;function Pe(e){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(e)}try{throw new Error(e)}catch(e){}}function Me(e,t,r,n){var i=Object.keys(t);var o=r&&r.type===Se.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(i.length===0){return"Store does not have a valid reducer. Make sure the argument passed "+"to combineReducers is an object whose values are reducers."}if(!we(e)){return"The "+o+' has unexpected type of "'+Ie(e)+'". Expected argument to be an object with the following '+('keys: "'+i.join('", "')+'"')}var a=Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)&&!n[e]}));a.forEach((function(e){n[e]=true}));if(r&&r.type===Se.REPLACE)return;if(a.length>0){return"Unexpected "+(a.length>1?"keys":"key")+" "+('"'+a.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+i.join('", "')+'". Unexpected keys will be ignored.')}}function xe(e){Object.keys(e).forEach((function(t){var r=e[t];var n=r(undefined,{type:Se.INIT});if(typeof n==="undefined"){throw new Error(true?_e(12):0)}if(typeof r(undefined,{type:Se.PROBE_UNKNOWN_ACTION()})==="undefined"){throw new Error(true?_e(13):0)}}))}function Le(e){var t=Object.keys(e);var r={};for(var n=0;n<t.length;n++){var i=t[n];if(false){}if(typeof e[i]==="function"){r[i]=e[i]}}var o=Object.keys(r);var a;if(false){}var s;try{xe(r)}catch(e){s=e}return function e(t,n){if(t===void 0){t={}}if(s){throw s}if(false){var i}var a=false;var u={};for(var c=0;c<o.length;c++){var l=o[c];var f=r[l];var d=t[l];var h=f(d,n);if(typeof h==="undefined"){var p=n&&n.type;throw new Error(true?_e(14):0)}u[l]=h;a=a||h!==d}a=a||o.length!==Object.keys(t).length;return a?u:t}}function De(e,t){return function(){return t(e.apply(this,arguments))}}function Ne(e,t){if(typeof e==="function"){return De(e,t)}if(typeof e!=="object"||e===null){throw new Error(true?_e(16):0)}var r={};for(var n in e){var i=e[n];if(typeof i==="function"){r[n]=De(i,t)}}return r}function je(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}if(t.length===0){return function(e){return e}}if(t.length===1){return t[0]}return t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ue(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return function(e){return function(){var r=e.apply(void 0,arguments);var n=function e(){throw new Error(true?_e(15):0)};var i={getState:r.getState,dispatch:function e(){return n.apply(void 0,arguments)}};var o=t.map((function(e){return e(i)}));n=je.apply(void 0,o)(r.dispatch);return(0,ye.Z)((0,ye.Z)({},r),{},{dispatch:n})}}}var Be="NOT_FOUND";function Fe(e){var t;return{get:function r(n){if(t&&e(t.key,n)){return t.value}return Be},put:function e(r,n){t={key:r,value:n}},getEntries:function e(){return t?[t]:[]},clear:function e(){t=undefined}}}function He(e,t){var r=[];function n(e){var n=r.findIndex((function(r){return t(e,r.key)}));if(n>-1){var i=r[n];if(n>0){r.splice(n,1);r.unshift(i)}return i.value}return Be}function i(t,i){if(n(t)===Be){r.unshift({key:t,value:i});if(r.length>e){r.pop()}}}function o(){return r}function a(){r=[]}return{get:n,put:i,getEntries:o,clear:a}}var Ve=function e(t,r){return t===r};function We(e){return function t(r,n){if(r===null||n===null||r.length!==n.length){return false}var i=r.length;for(var o=0;o<i;o++){if(!e(r[o],n[o])){return false}}return true}}function ze(e,t){var r=typeof t==="object"?t:{equalityCheck:t};var n=r.equalityCheck,i=n===void 0?Ve:n,o=r.maxSize,a=o===void 0?1:o,s=r.resultEqualityCheck;var u=We(i);var c=a===1?Fe(u):He(a,u);function l(){var t=c.get(arguments);if(t===Be){t=e.apply(null,arguments);if(s){var r=c.getEntries();var n=r.find((function(e){return s(e.value,t)}));if(n){t=n.value}}c.put(arguments,t)}return t}l.clearCache=function(){return c.clear()};return l}function Ge(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return typeof e==="function"}))){var r=t.map((function(e){return typeof e==="function"?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}function Ye(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}var i=function t(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}var a=0;var s;var u={memoizeOptions:undefined};var c=i.pop();if(typeof c==="object"){u=c;c=i.pop()}if(typeof c!=="function"){throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]")}var l=u,f=l.memoizeOptions,d=f===void 0?r:f;var h=Array.isArray(d)?d:[d];var p=Ge(i);var v=e.apply(void 0,[function e(){a++;return c.apply(null,arguments)}].concat(h));var g=e((function e(){var t=[];var r=p.length;for(var n=0;n<r;n++){t.push(p[n].apply(null,arguments))}s=v.apply(null,t);return s}));Object.assign(g,{resultFunc:c,memoizedResultFunc:v,dependencies:p,lastResult:function e(){return s},recomputations:function e(){return a},resetRecomputations:function e(){return a=0}});return g};return i}var Ke=Ye(ze);var qe=function e(t,r){if(r===void 0){r=Ke}if(typeof t!=="object"){throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof t))}var n=Object.keys(t);var i=r(n.map((function(e){return t[e]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return t.reduce((function(e,t,r){e[n[r]]=t;return e}),{})}));return i};function $e(e){var t=function t(r){var n=r.dispatch,i=r.getState;return function(t){return function(r){if(typeof r==="function"){return r(n,i,e)}return t(r)}}};return t}var Je=$e();Je.withExtraArgument=$e;const Ze=Je;var Xe=undefined&&undefined.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Qe=undefined&&undefined.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var et=undefined&&undefined.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};var tt=Object.defineProperty;var rt=Object.defineProperties;var nt=Object.getOwnPropertyDescriptors;var it=Object.getOwnPropertySymbols;var ot=Object.prototype.hasOwnProperty;var at=Object.prototype.propertyIsEnumerable;var st=function(e,t,r){return t in e?tt(e,t,{enumerable:true,configurable:true,writable:true,value:r}):e[t]=r};var ut=function(e,t){for(var r in t||(t={}))if(ot.call(t,r))st(e,r,t[r]);if(it)for(var n=0,i=it(t);n<i.length;n++){var r=i[n];if(at.call(t,r))st(e,r,t[r])}return e};var ct=function(e,t){return rt(e,nt(t))};var lt=function(e,t,r){return new Promise((function(n,i){var o=function(e){try{s(r.next(e))}catch(e){i(e)}};var a=function(e){try{s(r.throw(e))}catch(e){i(e)}};var s=function(e){return e.done?n(e.value):Promise.resolve(e.value).then(o,a)};s((r=r.apply(e,t)).next())}))};var ft=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r=Ke.apply(void 0,e);var n=function(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}return r.apply(void 0,et([i(e)?j(e):e],t))};return n};var dt=typeof window!=="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length===0)return void 0;if(typeof arguments[0]==="object")return je;return je.apply(null,arguments)};var ht=typeof window!=="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}};function pt(e){if(typeof e!=="object"||e===null)return false;var t=Object.getPrototypeOf(e);if(t===null)return true;var r=t;while(Object.getPrototypeOf(r)!==null){r=Object.getPrototypeOf(r)}return t===r}function vt(e,t){var r=0;return{measureTime:function(e){var t=Date.now();try{return e()}finally{var n=Date.now();r+=n-t}},warnIfExceeded:function(){if(r>e){console.warn(t+" took "+r+"ms, which is more than the warning threshold of "+e+"ms. \nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\nIt is disabled in production builds, so you don't need to worry about that.")}}}}var gt=function(e){Xe(t,e);function t(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}var i=e.apply(this,r)||this;Object.setPrototypeOf(i,t.prototype);return i}Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:false,configurable:true});t.prototype.concat=function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}return e.prototype.concat.apply(this,t)};t.prototype.prepend=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(e.length===1&&Array.isArray(e[0])){return new(t.bind.apply(t,et([void 0],e[0].concat(this))))}return new(t.bind.apply(t,et([void 0],e.concat(this))))};return t}(Array);var mt=function(e){Xe(t,e);function t(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}var i=e.apply(this,r)||this;Object.setPrototypeOf(i,t.prototype);return i}Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:false,configurable:true});t.prototype.concat=function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}return e.prototype.concat.apply(this,t)};t.prototype.prepend=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(e.length===1&&Array.isArray(e[0])){return new(t.bind.apply(t,et([void 0],e[0].concat(this))))}return new(t.bind.apply(t,et([void 0],e.concat(this))))};return t}(Array);function yt(e){return o(e)?me(e,(function(){})):e}var _t="production"==="production";var bt="Invariant failed";function Et(e,t){if(e){return}if(_t){throw new Error(bt)}throw new Error(bt+": "+(t||""))}function St(e,t,r,n){return JSON.stringify(e,wt(t,n),r)}function wt(e,t){var r=[],n=[];if(!t)t=function(e,t){if(r[0]===t)return"[Circular ~]";return"[Circular ~."+n.slice(0,r.indexOf(t)).join(".")+"]"};return function(i,o){if(r.length>0){var a=r.indexOf(this);~a?r.splice(a+1):r.push(this);~a?n.splice(a,Infinity,i):n.push(i);if(~r.indexOf(o))o=t.call(this,i,o)}else r.push(o);return e==null?o:e.call(this,i,o)}}function Tt(e){return typeof e!=="object"||e==null||Object.isFrozen(e)}function Ct(e,t,r){var n=At(e,t,r);return{detectMutations:function(){return Rt(e,t,n,r)}}}function At(e,t,r,n){if(t===void 0){t=[]}if(n===void 0){n=""}var i={value:r};if(!e(r)){i.children={};for(var o in r){var a=n?n+"."+o:o;if(t.length&&t.indexOf(a)!==-1){continue}i.children[o]=At(e,t,r[o],a)}}return i}function Rt(e,t,r,n,i,o){if(t===void 0){t=[]}if(i===void 0){i=false}if(o===void 0){o=""}var a=r?r.value:void 0;var s=a===n;if(i&&!s&&!Number.isNaN(n)){return{wasMutated:true,path:o}}if(e(a)||e(n)){return{wasMutated:false}}var u={};for(var c in r.children){u[c]=true}for(var c in n){u[c]=true}var l=t.length>0;var f=function(i){var a=o?o+"."+i:i;if(l){var u=t.some((function(e){if(e instanceof RegExp){return e.test(a)}return a===e}));if(u){return"continue"}}var c=Rt(e,t,r.children[i],n[i],s,a);if(c.wasMutated){return{value:c}}};for(var c in u){var d=f(c);if(typeof d==="object")return d.value}return{wasMutated:false}}function It(e){if(e===void 0){e={}}if(true){return function(){return function(e){return function(t){return e(t)}}}}var t=e.isImmutable,r=t===void 0?Tt:t,n=e.ignoredPaths,i=e.warnAfter,o=i===void 0?32:i,a=e.ignore;n=n||a;var s=Ct.bind(null,r,n);return function(e){var t=e.getState;var r=t();var n=s(r);var i;return function(e){return function(a){var u=vt(o,"ImmutableStateInvariantMiddleware");u.measureTime((function(){r=t();i=n.detectMutations();n=s(r);Et(!i.wasMutated,"A state mutation was detected between dispatches, in the path '"+(i.path||"")+"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")}));var c=e(a);u.measureTime((function(){r=t();i=n.detectMutations();n=s(r);i.wasMutated&&Et(!i.wasMutated,"A state mutation was detected inside a dispatch, in the path: "+(i.path||"")+". Take a look at the reducer(s) handling the action "+St(a)+". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")}));u.warnIfExceeded();return c}}}}function kt(e){var t=typeof e;return e==null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||pt(e)}function Ot(e,t,r,n,i,o){if(t===void 0){t=""}if(r===void 0){r=kt}if(i===void 0){i=[]}var a;if(!r(e)){return{keyPath:t||"<root>",value:e}}if(typeof e!=="object"||e===null){return false}if(o==null?void 0:o.has(e))return false;var s=n!=null?n(e):Object.entries(e);var u=i.length>0;var c=function(e,s){var c=t?t+"."+e:e;if(u){var l=i.some((function(e){if(e instanceof RegExp){return e.test(c)}return c===e}));if(l){return"continue"}}if(!r(s)){return{value:{keyPath:c,value:s}}}if(typeof s==="object"){a=Ot(s,c,r,n,i,o);if(a){return{value:a}}}};for(var l=0,f=s;l<f.length;l++){var d=f[l],h=d[0],p=d[1];var v=c(h,p);if(typeof v==="object")return v.value}if(o&&Pt(e))o.add(e);return false}function Pt(e){if(!Object.isFrozen(e))return false;for(var t=0,r=Object.values(e);t<r.length;t++){var n=r[t];if(typeof n!=="object"||n===null)continue;if(!Pt(n))return false}return true}function Mt(e){if(e===void 0){e={}}if(true){return function(){return function(e){return function(t){return e(t)}}}}var t=e.isSerializable,r=t===void 0?kt:t,n=e.getEntries,i=e.ignoredActions,o=i===void 0?[]:i,a=e.ignoredActionPaths,s=a===void 0?["meta.arg","meta.baseQueryMeta"]:a,u=e.ignoredPaths,c=u===void 0?[]:u,l=e.warnAfter,f=l===void 0?32:l,d=e.ignoreState,h=d===void 0?false:d,p=e.ignoreActions,v=p===void 0?false:p,g=e.disableCache,m=g===void 0?false:g;var y=!m&&WeakSet?new WeakSet:void 0;return function(e){return function(t){return function(i){var a=t(i);var u=vt(f,"SerializableStateInvariantMiddleware");if(!v&&!(o.length&&o.indexOf(i.type)!==-1)){u.measureTime((function(){var e=Ot(i,"",r,n,s,y);if(e){var t=e.keyPath,o=e.value;console.error("A non-serializable value was detected in an action, in the path: `"+t+"`. Value:",o,"\nTake a look at the logic that dispatched this action: ",i,"\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)","\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)")}}))}if(!h){u.measureTime((function(){var t=e.getState();var o=Ot(t,"",r,n,c,y);if(o){var a=o.keyPath,s=o.value;console.error("A non-serializable value was detected in the state, in the path: `"+a+"`. Value:",s,"\nTake a look at the reducer(s) handling this action type: "+i.type+".\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)")}}));u.warnIfExceeded()}return a}}}}function xt(e){return typeof e==="boolean"}function Lt(){return function e(t){return Dt(t)}}function Dt(e){if(e===void 0){e={}}var t=e.thunk,r=t===void 0?true:t,n=e.immutableCheck,i=n===void 0?true:n,o=e.serializableCheck,a=o===void 0?true:o;var s=new gt;if(r){if(xt(r)){s.push(Ze)}else{s.push(Ze.withExtraArgument(r.extraArgument))}}if(false){var u,c}return s}var Nt="production"==="production";function jt(e){var t=Lt();var r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,a=o===void 0?t():o,s=r.devTools,u=s===void 0?true:s,c=r.preloadedState,l=c===void 0?void 0:c,f=r.enhancers,d=f===void 0?void 0:f;var h;if(typeof i==="function"){h=i}else if(pt(i)){h=Le(i)}else{throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers')}var p=a;if(typeof p==="function"){p=p(t);if(!Nt&&!Array.isArray(p)){throw new Error("when using a middleware builder function, an array of middleware must be returned")}}if(!Nt&&p.some((function(e){return typeof e!=="function"}))){throw new Error("each middleware provided to configureStore must be a function")}var v=Ue.apply(void 0,p);var g=je;if(u){g=dt(ut({trace:!Nt},typeof u==="object"&&u))}var m=new mt(v);var y=m;if(Array.isArray(d)){y=et([v],d)}else if(typeof d==="function"){y=d(m)}var _=g.apply(void 0,y);return ke(h,l,_)}function Ut(e,t){function r(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}if(t){var i=t.apply(void 0,r);if(!i){throw new Error("prepareAction did not return an object")}return ut(ut({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:r[0]}}r.toString=function(){return""+e};r.type=e;r.match=function(t){return t.type===e};return r}function Bt(e){return pt(e)&&"type"in e}function Ft(e){return Bt(e)&&typeof e.type==="string"&&Object.keys(e).every(Ht)}function Ht(e){return["type","payload","error","meta"].indexOf(e)>-1}function Vt(e){return""+e}function Wt(e){var t={};var r=[];var n;var i={addCase:function(e,r){if(false){}var n=typeof e==="string"?e:e.type;if(n in t){throw new Error("addCase cannot be called with two reducers for the same action type")}t[n]=r;return i},addMatcher:function(e,t){if(false){}r.push({matcher:e,reducer:t});return i},addDefaultCase:function(e){if(false){}n=e;return i}};e(i);return[t,r,n]}function zt(e){return typeof e==="function"}var Gt=false;function Yt(e,t,r,n){if(r===void 0){r=[]}if(false){}var a=typeof t==="function"?Wt(t):[t,r,n],s=a[0],u=a[1],c=a[2];var l;if(zt(e)){l=function(){return yt(e())}}else{var f=yt(e);l=function(){return f}}function d(e,t){if(e===void 0){e=l()}var r=et([s[t.type]],u.filter((function(e){var r=e.matcher;return r(t)})).map((function(e){var t=e.reducer;return t})));if(r.filter((function(e){return!!e})).length===0){r=[c]}return r.reduce((function(e,r){if(r){if(i(e)){var n=e;var a=r(n,t);if(a===void 0){return e}return a}else if(!o(e)){var a=r(e,t);if(a===void 0){if(e===null){return e}throw Error("A case reducer on a non-draftable value must not return undefined")}return a}else{return me(e,(function(e){return r(e,t)}))}}return e}),e)}d.getInitialState=l;return d}var Kt=false;function qt(e,t){return e+"/"+t}function $t(e){var t=e.name;if(!t){throw new Error("`name` is a required option for createSlice")}if(typeof process!=="undefined"&&"production"==="development"){}var r=typeof e.initialState=="function"?e.initialState:yt(e.initialState);var n=e.reducers||{};var i=Object.keys(n);var o={};var a={};var s={};i.forEach((function(e){var r=n[e];var i=qt(t,e);var u;var c;if("reducer"in r){u=r.reducer;c=r.prepare}else{u=r}o[e]=u;a[i]=u;s[e]=c?Ut(i,c):Ut(i)}));function u(){if(false){}var t=typeof e.extraReducers==="function"?Wt(e.extraReducers):[e.extraReducers],n=t[0],i=n===void 0?{}:n,o=t[1],s=o===void 0?[]:o,u=t[2],c=u===void 0?void 0:u;var l=ut(ut({},i),a);return Yt(r,(function(e){for(var t in l){e.addCase(t,l[t])}for(var r=0,n=s;r<n.length;r++){var i=n[r];e.addMatcher(i.matcher,i.reducer)}if(c){e.addDefaultCase(c)}}))}var c;return{name:t,reducer:function(e,t){if(!c)c=u();return c(e,t)},actions:s,caseReducers:o,getInitialState:function(){if(!c)c=u();return c.getInitialState()}}}function Jt(){return{ids:[],entities:{}}}function Zt(){function e(e){if(e===void 0){e={}}return Object.assign(Jt(),e)}return{getInitialState:e}}function Xt(){function e(e){var t=function(e){return e.ids};var r=function(e){return e.entities};var n=ft(t,r,(function(e,t){return e.map((function(e){return t[e]}))}));var i=function(e,t){return t};var o=function(e,t){return e[t]};var a=ft(t,(function(e){return e.length}));if(!e){return{selectIds:t,selectEntities:r,selectAll:n,selectTotal:a,selectById:ft(r,i,o)}}var s=ft(e,r);return{selectIds:ft(e,t),selectEntities:s,selectAll:ft(e,n),selectTotal:ft(e,a),selectById:ft(s,i,o)}}return{getSelectors:e}}function Qt(e){var t=er((function(t,r){return e(r)}));return function e(r){return t(r,void 0)}}function er(e){return function t(r,n){function o(e){return Ft(e)}var a=function(t){if(o(n)){e(n.payload,t)}else{e(n,t)}};if(i(r)){a(r);return r}else{return me(r,a)}}}function tr(e,t){var r=t(e);if(false){}return r}function rr(e){if(!Array.isArray(e)){e=Object.values(e)}return e}function nr(e,t,r){e=rr(e);var n=[];var i=[];for(var o=0,a=e;o<a.length;o++){var s=a[o];var u=tr(s,t);if(u in r.entities){i.push({id:u,changes:s})}else{n.push(s)}}return[n,i]}function ir(e){function t(t,r){var n=tr(t,e);if(n in r.entities){return}r.ids.push(n);r.entities[n]=t}function r(e,r){e=rr(e);for(var n=0,i=e;n<i.length;n++){var o=i[n];t(o,r)}}function n(t,r){var n=tr(t,e);if(!(n in r.entities)){r.ids.push(n)}r.entities[n]=t}function i(e,t){e=rr(e);for(var r=0,i=e;r<i.length;r++){var o=i[r];n(o,t)}}function o(e,t){e=rr(e);t.ids=[];t.entities={};r(e,t)}function a(e,t){return s([e],t)}function s(e,t){var r=false;e.forEach((function(e){if(e in t.entities){delete t.entities[e];r=true}}));if(r){t.ids=t.ids.filter((function(e){return e in t.entities}))}}function u(e){Object.assign(e,{ids:[],entities:{}})}function c(t,r,n){var i=n.entities[r.id];var o=Object.assign({},i,r.changes);var a=tr(o,e);var s=a!==r.id;if(s){t[r.id]=a;delete n.entities[r.id]}n.entities[a]=o;return s}function l(e,t){return f([e],t)}function f(e,t){var r={};var n={};e.forEach((function(e){if(e.id in t.entities){n[e.id]={id:e.id,changes:ut(ut({},n[e.id]?n[e.id].changes:null),e.changes)}}}));e=Object.values(n);var i=e.length>0;if(i){var o=e.filter((function(e){return c(r,e,t)})).length>0;if(o){t.ids=Object.keys(t.entities)}}}function d(e,t){return h([e],t)}function h(t,n){var i=nr(t,e,n),o=i[0],a=i[1];f(a,n);r(o,n)}return{removeAll:Qt(u),addOne:er(t),addMany:er(r),setOne:er(n),setMany:er(i),setAll:er(o),updateOne:er(l),updateMany:er(f),upsertOne:er(d),upsertMany:er(h),removeOne:er(a),removeMany:er(s)}}function or(e,t){var r=ir(e),n=r.removeOne,i=r.removeMany,o=r.removeAll;function a(e,t){return s([e],t)}function s(t,r){t=rr(t);var n=t.filter((function(t){return!(tr(t,e)in r.entities)}));if(n.length!==0){g(n,r)}}function u(e,t){return c([e],t)}function c(e,t){e=rr(e);if(e.length!==0){g(e,t)}}function l(e,t){e=rr(e);t.entities={};t.ids=[];s(e,t)}function f(e,t){return d([e],t)}function d(t,r){var n=false;for(var i=0,o=t;i<o.length;i++){var a=o[i];var s=r.entities[a.id];if(!s){continue}n=true;Object.assign(s,a.changes);var u=e(s);if(a.id!==u){delete r.entities[a.id];r.entities[u]=s}}if(n){m(r)}}function h(e,t){return p([e],t)}function p(t,r){var n=nr(t,e,r),i=n[0],o=n[1];d(o,r);s(i,r)}function v(e,t){if(e.length!==t.length){return false}for(var r=0;r<e.length&&r<t.length;r++){if(e[r]===t[r]){continue}return false}return true}function g(t,r){t.forEach((function(t){r.entities[e(t)]=t}));m(r)}function m(r){var n=Object.values(r.entities);n.sort(t);var i=n.map(e);var o=r.ids;if(!v(o,i)){r.ids=i}}return{removeOne:n,removeMany:i,removeAll:o,addOne:er(a),updateOne:er(f),upsertOne:er(h),setOne:er(u),setMany:er(c),setAll:er(l),addMany:er(s),updateMany:er(d),upsertMany:er(p)}}function ar(e){if(e===void 0){e={}}var t=ut({sortComparer:false,selectId:function(e){return e.id}},e),r=t.selectId,n=t.sortComparer;var i=Zt();var o=Xt();var a=n?or(r,n):ir(r);return ut(ut(ut({selectId:r,sortComparer:n},i),o),a)}var sr="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW";var ur=function(e){if(e===void 0){e=21}var t="";var r=e;while(r--){t+=sr[Math.random()*64|0]}return t};var cr=["name","message","stack","code"];var lr=function(){function e(e,t){this.payload=e;this.meta=t}return e}();var fr=function(){function e(e,t){this.payload=e;this.meta=t}return e}();var dr=function(e){if(typeof e==="object"&&e!==null){var t={};for(var r=0,n=cr;r<n.length;r++){var i=n[r];if(typeof e[i]==="string"){t[i]=e[i]}}return t}return{message:String(e)}};var hr=function(){function e(e,t,r){var n=Ut(e+"/fulfilled",(function(e,t,r,n){return{payload:e,meta:ct(ut({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})}}));var i=Ut(e+"/pending",(function(e,t,r){return{payload:void 0,meta:ct(ut({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})}}));var o=Ut(e+"/rejected",(function(e,t,n,i,o){return{payload:i,error:(r&&r.serializeError||dr)(e||"Rejected"),meta:ct(ut({},o||{}),{arg:n,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:(e==null?void 0:e.name)==="AbortError",condition:(e==null?void 0:e.name)==="ConditionError"})}}));var a=false;var s=typeof AbortController!=="undefined"?AbortController:function(){function e(){this.signal={aborted:false,addEventListener:function(){},dispatchEvent:function(){return false},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}e.prototype.abort=function(){if(false){}};return e}();function u(e){return function(a,u,c){var l=(r==null?void 0:r.idGenerator)?r.idGenerator(e):ur();var f=new s;var d;var h=false;function p(e){d=e;f.abort()}var v=function(){return lt(this,null,(function(){var s,v,g,m,y,_,b;return Qe(this,(function(E){switch(E.label){case 0:E.trys.push([0,4,,5]);m=(s=r==null?void 0:r.condition)==null?void 0:s.call(r,e,{getState:u,extra:c});if(!vr(m))return[3,2];return[4,m];case 1:m=E.sent();E.label=2;case 2:if(m===false||f.signal.aborted){throw{name:"ConditionError",message:"Aborted due to condition callback returning false."}}h=true;y=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:d||"Aborted"})}))}));a(i(l,e,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:l,arg:e},{getState:u,extra:c})));return[4,Promise.race([y,Promise.resolve(t(e,{dispatch:a,getState:u,extra:c,requestId:l,signal:f.signal,abort:p,rejectWithValue:function(e,t){return new lr(e,t)},fulfillWithValue:function(e,t){return new fr(e,t)}})).then((function(t){if(t instanceof lr){throw t}if(t instanceof fr){return n(t.payload,l,e,t.meta)}return n(t,l,e)}))])];case 3:g=E.sent();return[3,5];case 4:_=E.sent();g=_ instanceof lr?o(null,l,e,_.payload,_.meta):o(_,l,e);return[3,5];case 5:b=r&&!r.dispatchConditionRejection&&o.match(g)&&g.meta.condition;if(!b){a(g)}return[2,g]}}))}))}();return Object.assign(v,{abort:p,requestId:l,arg:e,unwrap:function(){return v.then(pr)}})}}return Object.assign(u,{pending:i,rejected:o,fulfilled:n,typePrefix:e})}e.withTypes=function(){return e};return e}();function pr(e){if(e.meta&&e.meta.rejectedWithValue){throw e.payload}if(e.error){throw e.error}return e.payload}function vr(e){return e!==null&&typeof e==="object"&&typeof e.then==="function"}var gr=function(e){return e&&typeof e.match==="function"};var mr=function(e,t){if(gr(e)){return e.match(t)}else{return e(t)}};function yr(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return function(t){return e.some((function(e){return mr(e,t)}))}}function _r(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return function(t){return e.every((function(e){return mr(e,t)}))}}function br(e,t){if(!e||!e.meta)return false;var r=typeof e.meta.requestId==="string";var n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function Er(e){return typeof e[0]==="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Sr(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(e.length===0){return function(e){return br(e,["pending"])}}if(!Er(e)){return Sr()(e[0])}return function(t){var r=e.map((function(e){return e.pending}));var n=yr.apply(void 0,r);return n(t)}}function wr(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(e.length===0){return function(e){return br(e,["rejected"])}}if(!Er(e)){return wr()(e[0])}return function(t){var r=e.map((function(e){return e.rejected}));var n=yr.apply(void 0,r);return n(t)}}function Tr(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r=function(e){return e&&e.meta&&e.meta.rejectedWithValue};if(e.length===0){return function(t){var n=_r(wr.apply(void 0,e),r);return n(t)}}if(!Er(e)){return Tr()(e[0])}return function(t){var n=_r(wr.apply(void 0,e),r);return n(t)}}function Cr(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(e.length===0){return function(e){return br(e,["fulfilled"])}}if(!Er(e)){return Cr()(e[0])}return function(t){var r=e.map((function(e){return e.fulfilled}));var n=yr.apply(void 0,r);return n(t)}}function Ar(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(e.length===0){return function(e){return br(e,["pending","fulfilled","rejected"])}}if(!Er(e)){return Ar()(e[0])}return function(t){var r=[];for(var n=0,i=e;n<i.length;n++){var o=i[n];r.push(o.pending,o.rejected,o.fulfilled)}var a=yr.apply(void 0,r);return a(t)}}var Rr=function(e,t){if(typeof e!=="function"){throw new TypeError(t+" is not a function")}};var Ir=function(){};var kr=function(e,t){if(t===void 0){t=Ir}e.catch(t);return e};var Or=function(e,t){e.addEventListener("abort",t,{once:true});return function(){return e.removeEventListener("abort",t)}};var Pr=function(e,t){var r=e.signal;if(r.aborted){return}if(!("reason"in r)){Object.defineProperty(r,"reason",{enumerable:true,value:t,configurable:true,writable:true})}e.abort(t)};var Mr="task";var xr="listener";var Lr="completed";var Dr="cancelled";var Nr="task-"+Dr;var jr="task-"+Lr;var Ur=xr+"-"+Dr;var Br=xr+"-"+Lr;var Fr=function(){function e(e){this.code=e;this.name="TaskAbortError";this.message=Mr+" "+Dr+" (reason: "+e+")"}return e}();var Hr=function(e){if(e.aborted){throw new Fr(e.reason)}};function Vr(e,t){var r=Ir;return new Promise((function(n,i){var o=function(){return i(new Fr(e.reason))};if(e.aborted){o();return}r=Or(e,o);t.finally((function(){return r()})).then(n,i)})).finally((function(){r=Ir}))}var Wr=function(e,t){return lt(void 0,null,(function(){var r,n;return Qe(this,(function(i){switch(i.label){case 0:i.trys.push([0,3,4,5]);return[4,Promise.resolve()];case 1:i.sent();return[4,e()];case 2:r=i.sent();return[2,{status:"ok",value:r}];case 3:n=i.sent();return[2,{status:n instanceof Fr?"cancelled":"rejected",error:n}];case 4:t==null?void 0:t();return[7];case 5:return[2]}}))}))};var zr=function(e){return function(t){return kr(Vr(e,t).then((function(t){Hr(e);return t})))}};var Gr=function(e){var t=zr(e);return function(e){return t(new Promise((function(t){return setTimeout(t,e)})))}};var Yr=Object.assign;var Kr={};var qr="listenerMiddleware";var $r=function(e){var t=function(t){return Or(e,(function(){return Pr(t,e.reason)}))};return function(r){Rr(r,"taskExecutor");var n=new AbortController;t(n);var i=Wr((function(){return lt(void 0,null,(function(){var t;return Qe(this,(function(i){switch(i.label){case 0:Hr(e);Hr(n.signal);return[4,r({pause:zr(n.signal),delay:Gr(n.signal),signal:n.signal})];case 1:t=i.sent();Hr(n.signal);return[2,t]}}))}))}),(function(){return Pr(n,jr)}));return{result:zr(e)(i),cancel:function(){Pr(n,Nr)}}}};var Jr=function(e,t){var r=function(r,n){return lt(void 0,null,(function(){var i,o,a,s;return Qe(this,(function(u){switch(u.label){case 0:Hr(t);i=function(){};o=new Promise((function(t,n){var o=e({predicate:r,effect:function(e,r){r.unsubscribe();t([e,r.getState(),r.getOriginalState()])}});i=function(){o();n()}}));a=[o];if(n!=null){a.push(new Promise((function(e){return setTimeout(e,n,null)})))}u.label=1;case 1:u.trys.push([1,,3,4]);return[4,Vr(t,Promise.race(a))];case 2:s=u.sent();Hr(t);return[2,s];case 3:i();return[7];case 4:return[2]}}))}))};return function(e,t){return kr(r(e,t))}};var Zr=function(e){var t=e.type,r=e.actionCreator,n=e.matcher,i=e.predicate,o=e.effect;if(t){i=Ut(t).match}else if(r){t=r.type;i=r.match}else if(n){i=n}else if(i){}else{throw new Error("Creating or removing a listener requires one of the known fields for matching an action")}Rr(o,"options.listener");return{predicate:i,type:t,effect:o}};var Xr=function(e){var t=Zr(e),r=t.type,n=t.predicate,i=t.effect;var o=ur();var a={id:o,effect:i,type:r,predicate:n,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return a};var Qr=function(e){e.pending.forEach((function(e){Pr(e,Ur)}))};var en=function(e){return function(){e.forEach(Qr);e.clear()}};var tn=function(e,t,r){try{e(t,r)}catch(e){setTimeout((function(){throw e}),0)}};var rn=Ut(qr+"/add");var nn=Ut(qr+"/removeAll");var on=Ut(qr+"/remove");var an=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}console.error.apply(console,et([qr+"/error"],e))};function sn(e){var t=this;if(e===void 0){e={}}var r=new Map;var n=e.extra,i=e.onError,o=i===void 0?an:i;Rr(o,"onError");var a=function(e){e.unsubscribe=function(){return r.delete(e.id)};r.set(e.id,e);return function(t){e.unsubscribe();if(t==null?void 0:t.cancelActive){Qr(e)}}};var s=function(e){for(var t=0,n=Array.from(r.values());t<n.length;t++){var i=n[t];if(e(i)){return i}}return void 0};var u=function(e){var t=s((function(t){return t.effect===e.effect}));if(!t){t=Xr(e)}return a(t)};var c=function(e){var t=Zr(e),r=t.type,n=t.effect,i=t.predicate;var o=s((function(e){var t=typeof r==="string"?e.type===r:e.predicate===i;return t&&e.effect===n}));if(o){o.unsubscribe();if(e.cancelActive){Qr(o)}}return!!o};var l=function(e,i,a,s){return lt(t,null,(function(){var t,c,l;return Qe(this,(function(f){switch(f.label){case 0:t=new AbortController;c=Jr(u,t.signal);f.label=1;case 1:f.trys.push([1,3,4,5]);e.pending.add(t);return[4,Promise.resolve(e.effect(i,Yr({},a,{getOriginalState:s,condition:function(e,t){return c(e,t).then(Boolean)},take:c,delay:Gr(t.signal),pause:zr(t.signal),extra:n,signal:t.signal,fork:$r(t.signal),unsubscribe:e.unsubscribe,subscribe:function(){r.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach((function(e,r,n){if(e!==t){Pr(e,Ur);n.delete(e)}}))}})))];case 2:f.sent();return[3,5];case 3:l=f.sent();if(!(l instanceof Fr)){tn(o,l,{raisedBy:"effect"})}return[3,5];case 4:Pr(t,Br);e.pending.delete(t);return[7];case 5:return[2]}}))}))};var f=en(r);var d=function(e){return function(t){return function(n){if(!Bt(n)){return t(n)}if(rn.match(n)){return u(n.payload)}if(nn.match(n)){f();return}if(on.match(n)){return c(n.payload)}var i=e.getState();var a=function(){if(i===Kr){throw new Error(qr+": getOriginalState can only be called synchronously")}return i};var s;try{s=t(n);if(r.size>0){var d=e.getState();var h=Array.from(r.values());for(var p=0,v=h;p<v.length;p++){var g=v[p];var m=false;try{m=g.predicate(n,d,i)}catch(e){m=false;tn(o,e,{raisedBy:"predicate"})}if(!m){continue}l(g,n,e,a)}}}finally{i=Kr}return s}}};return{middleware:d,startListening:u,stopListening:c,clearListeners:f}}var un="RTK_autoBatch";var cn=function(){return function(e){var t;return{payload:e,meta:(t={},t[un]=true,t)}}};var ln;var fn=typeof queueMicrotask==="function"?queueMicrotask.bind(typeof window!=="undefined"?window:typeof r.g!=="undefined"?r.g:globalThis):function(e){return(ln||(ln=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))};var dn=function(e){return function(t){setTimeout(t,e)}};var hn=typeof window!=="undefined"&&window.requestAnimationFrame?window.requestAnimationFrame:dn(10);var pn=function(e){if(e===void 0){e={type:"raf"}}return function(t){return function(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}var i=t.apply(void 0,r);var o=true;var a=false;var s=false;var u=new Set;var c=e.type==="tick"?fn:e.type==="raf"?hn:e.type==="callback"?e.queueNotification:dn(e.timeout);var l=function(){s=false;if(a){a=false;u.forEach((function(e){return e()}))}};return Object.assign({},i,{subscribe:function(e){var t=function(){return o&&e()};var r=i.subscribe(t);u.add(e);return function(){r();u.delete(e)}},dispatch:function(e){var t;try{o=!((t=e==null?void 0:e.meta)==null?void 0:t[un]);a=!o;if(a){if(!s){s=true;c(l)}}return i.dispatch(e)}finally{o=true}}})}}};B()},79132:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(35520);var o=r(67294);var a=l(r(96930));var s=u(r(93967));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}const f=20;const d="no_device";const h=e=>{const t=Math.round(e/30*f);if(t>f){return f}else if(t<0){return 0}return t};const p=({language:e,deviceType:t,onDeviceChange:r,defaultDeviceId:u,title:c,startBtnTitle:l,noDeviceTip:p,noDevice:v,notSupportChangeTip:g})=>{const m=t==="audiooutput";const y=m?a.default.getInstance().speaker:a.default.getInstance().microphone;const[_,b]=(0,o.useState)(false);const[E,S]=(0,o.useState)(0);const[w,T]=(0,o.useState)([]);const[C,A]=(0,o.useState)(undefined);const R=(0,o.useRef)(undefined);const I=(0,o.useMemo)((()=>w.length>0?w:[{deviceId:d,label:v}]),[w,v]);const k=y.isSupportDeviceSwitch();const O=()=>{if(!w.length){return}if(_){y.stopDetect()}else{if(C!==null&&C!==void 0&&C.deviceId){y.startDetect(C.deviceId)}}};const P=async(e,t)=>{var n;const i=await y.getDevices();T(i);const o=await y.getPreferred(i,((n=e.current)===null||n===void 0?void 0:n.deviceId)||t);A(o);r(o===null||o===void 0?void 0:o.deviceId);if(!i.some((e=>a.AudioDevice.isDeviceSame(o,e)))){y.stopDetect()}};const M=e=>{if(e===(C===null||C===void 0?void 0:C.deviceId)){return}y.stopDetect();const t=w.find((t=>t.deviceId===e));R.current=t;A(t);r(t===null||t===void 0?void 0:t.deviceId)};(0,o.useEffect)((()=>{const e=y.subscribe({onDetect:({volume:e})=>S(h(e)),onDetectStateChange:e=>{b(e);S(0)},onDeviceChange:()=>P(R,u)});return()=>{y.stopDetect();e()}}),[]);(0,o.useEffect)((()=>{P(R,u)}),[u]);return(0,n.jsxs)("div",{className:"device-item",children:[(0,n.jsx)("div",{className:(0,s.default)("device-item-title device-item-h",m?"speaker":"mic"),children:c}),!k&&(0,n.jsx)("div",{className:"device-item-tip",children:g}),(0,n.jsxs)("div",{className:"device-item-content device-item-h",children:[(0,n.jsx)("div",{className:"device-item-select",children:(0,n.jsx)(i.Select,{value:(C===null||C===void 0?void 0:C.deviceId)||d,onChange:M,disabled:!w.length||!k,children:I.map(((e,t)=>(0,n.jsx)(i.Option,{title:e.label,value:e.deviceId,children:(0,n.jsx)("span",{children:e.label})},t)))})}),(0,n.jsx)(i.Button,{type:_?i.Button.typeMap.FILL:i.Button.typeMap.STROKE,dataTestid:"device-detection-speaker",className:"device-detection-btn",onClick:O,disabled:!w.length,children:_?e.stopDetection:l})]}),(0,n.jsx)("div",{className:"device-item-warn-tip device-item-h",children:w.length?(0,n.jsx)(i.SoundColumn,{className:"sound-column",columnCount:f,currColumnValue:E}):(0,n.jsx)("span",{className:"no-device-tip",children:p})})]})};var v=t["default"]=p},395:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=h(r(62058));var o=r(14274);var a=r(35520);var s=r(62850);var u=h(r(96930));var c=h(r(79132));var l=r(12262);var f=r(86706);var d=r(33181);r(15495);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==typeof t?t:t+""}function y(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r){return t=w(t),b(e,S()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}var A=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const R=new s.Log({module:"HwICS.UI.DeviceDetection"});let I=function(e){function t(e){var r;p(this,t);r=_(this,t,[e]);r._pageName="DeviceDetection";r._handleOpenModal=async()=>{const e=await d.Utils.isAudioDeviceDenied();if(e){R.info("DeviceDetection _handleOpenModal, user media not allow");(0,a.Toast)({content:r.props.language.audioDeviceNotAllow});return}const t=await u.default.getInstance().microphone.getUsed();const n=await u.default.getInstance().speaker.getUsed();r.setState({micId:t===null||t===void 0?void 0:t.deviceId,speakerId:n===null||n===void 0?void 0:n.deviceId,isShow:true})};r._handleCloseModal=()=>{R.info("DeviceDetection _handleCloseModal");r.setState({isShow:false})};r._handleApply=()=>{const{pickSpeakerId:e,pickMicId:t}=r.state;R.info("DeviceDetection _handleApply",{pickSpeakerId:e,pickMicId:t});if(e){u.default.getInstance().speaker.saveUsed(e)}if(t){u.default.getInstance().microphone.saveUsed(t)}r._handleCloseModal()};r.state={isShow:false,speakerId:"",micId:""};return r}T(t,e);return g(t,[{key:"render",value:function e(){const{className:t,language:r,langCode:i,children:o,enableDeviceSetting:s}=this.props;const{isShow:u,speakerId:l,micId:f}=this.state;if(!s){return null}return(0,n.jsxs)("div",{className:t+" device-detection",children:[(0,n.jsx)("div",{className:"device-detection-action","data-testid":"device-detection-open",onClick:this._handleOpenModal,children:o}),u&&(0,n.jsx)("div",{className:"device-detection-mask",children:(0,n.jsxs)("div",{className:"device-detection-modal",children:[(0,n.jsxs)("div",{className:"device-detection-header",children:[(0,n.jsx)("div",{className:"device-detection-header-text",children:r.audioDevice}),(0,n.jsx)("div",{className:"device-detection-header-close","data-testid":"device-detection-close",onClick:this._handleCloseModal})]}),(0,n.jsxs)("div",{className:"device-detection-content",children:[(0,n.jsx)(c.default,{deviceType:"audiooutput",onDeviceChange:e=>this.setState({pickSpeakerId:e}),defaultDeviceId:l,language:r,langCode:i,title:r.speaker,startBtnTitle:r.detectingSpeaker,noDeviceTip:r.noSpeakerTip,noDevice:r.noSpeaker,notSupportChangeTip:r.notSupportChangeSpeaker}),(0,n.jsx)(c.default,{deviceType:"audioinput",onDeviceChange:e=>this.setState({pickMicId:e}),defaultDeviceId:f,language:r,langCode:i,title:r.microphone,startBtnTitle:r.detectingMicrophone,noDeviceTip:r.noMicrophoneTip,noDevice:r.noMicrophone,notSupportChangeTip:""})]}),(0,n.jsxs)("div",{className:"device-detection-footer",children:[(0,n.jsx)("div",{className:"footer-space"}),(0,n.jsx)(a.Button,{type:a.Button.typeMap.STROKE,dataTestid:"device-detection-cancel",className:"device-detection-btn",onClick:this._handleCloseModal,children:r.cancel}),(0,n.jsx)(a.Button,{dataTestid:"device-detection-apply",className:"device-detection-btn",onClick:this._handleApply,children:r.apply})]})]})})]})}}])}(i.default);I.defaultProps={className:""};I=A([(0,o.componentDecorator)(R)],I);const k=e=>({language:e.lang.language,langCode:e.lang.langCode,enableDeviceSetting:e.config[l.ConfigKey.ENABLE_DEVICE_SETTING]});var O=t["default"]=(0,f.connect)(k)(I)},84982:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(51988);var o=r(67294);var a=r(86706);var s=f(r(94026));r(79965);var u=r(31194);var c=r(14274);var l=r(62850);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=g(e,"string");return"symbol"==typeof t?t:t+""}function g(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e,t,r){return t=E(t),y(e,b()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}function y(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var T=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const C=new l.Log({module:"HwICS.UI.LanguageUI"});let A=function(e){function t(e){var r;d(this,t);r=m(this,t,[e]);r._onPopupVisibleChange=e=>{r.setState({popupVisible:e})};r._handleSelected=async e=>{r.setState({popupVisible:false});u.LanguageManager.setRemoteAndLocalLangCode({entry:"_handleSelected",langCode:e,remember:true})};r.state={popupVisible:false};return r}S(t,e);return p(t,[{key:"render",value:function e(){const{languageList:t,langCode:r}=this.props;const{popupVisible:i}=this.state;const o=(t===null||t===void 0?void 0:t.find((e=>e.language===r)))||t[0];if(!o||t.length<=1){return null}const a=(0,n.jsx)("div",{className:"language-ui-list",children:t.map((e=>(0,n.jsx)("div",{"data-testid":"languageItem",className:`language-ui-item ${r===e.language?"active":""}`,onClick:()=>this._handleSelected(e.language),children:e.language_desc},e.language_desc)))});return(0,n.jsx)(s.default,{action:["click"],popup:a,popupPlacement:"right",zIndex:99999,autoDestroy:true,stretch:"width",popupAlign:{points:["tl","bl"],offset:[0,6]},onPopupVisibleChange:this._onPopupVisibleChange,popupVisible:i,children:(0,n.jsxs)("div",{className:"language-ui","data-testid":"languageList",children:[(0,n.jsx)("div",{className:"language-ui-icon"}),(0,n.jsx)("div",{className:"language-ui-title",children:o===null||o===void 0?void 0:o.language_desc}),(0,n.jsx)("div",{className:"arrow-icon"})]})})}}])}(o.Component);A=T([(0,c.componentDecorator)(C)],A);const R=e=>({language:e.lang.language,langCode:e.lang.langCode,languageList:e.lang.languageList||[],defaultLanguage:e.lang.defaultLanguage||i.LanguageCode.ZH_CN,chatBtnState:e.main.chatBtnState});var I=t["default"]=(0,a.connect)(R)(A)},77230:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.DebugTools=void 0;var n=r(85893);var i=r(35520);var o=r(66541);const a=()=>{const e=o.StreamAdapter.getLocalMediaStream("DebugTools");if(e){o.StreamAdapter.startLocalRecord(e);(0,i.toast)({content:"开始录制本地声音"})}};const s=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Button,{onClick:a,children:"开始录制"}),(0,n.jsx)(i.Button,{onClick:o.StreamAdapter.stopLocalRecord,children:"结束录制"})]});t.DebugTools=s},43715:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);var o=r(86706);r(90598);var a=r(12262);var s=h(r(395));var u=h(r(84982));var c=h(r(93967));var l=r(25725);var f=r(14274);var d=r(77230);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==typeof t?t:t+""}function y(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r){return t=w(t),b(e,S()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}const A=f.UrlUtil.getSearchValue(location.href,"showDebugTools");let R=function(e){function t(){p(this,t);return _(this,t,arguments)}T(t,e);return g(t,[{key:"render",value:function e(){const{language:t,enableDeviceSetting:r,showLanguageUI:i,className:o}=this.props;const a=l.HWIcsElectron.isHWIcsElectron();return(0,n.jsxs)("div",{className:(0,c.default)("caption-container-tools",o),children:[A==="1"?(0,n.jsx)(d.DebugTools,{}):null,r&&!a&&(0,n.jsxs)("div",{className:"tools-item audio-item",children:[(0,n.jsx)("div",{className:"audio-ico"}),(0,n.jsx)(s.default,{children:(0,n.jsx)("span",{className:"audio-item-text",children:t.audioDevice})})]}),i&&(0,n.jsx)("div",{className:"tools-item",children:(0,n.jsx)(u.default,{})})]})}}])}(i.Component);const I=e=>({language:e.lang.language,enableDeviceSetting:e.config.enableDeviceSetting,showLanguageUI:e.config[a.ConfigKey.SHOW_LANGUAGE_UI]});var k=t["default"]=(0,o.connect)(I)(R)},62058:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(67294);var i=r(14274);var o=r(83353);var a=r(30265);var s=r(62850);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=d(e,"string");return"symbol"==typeof t?t:t+""}function d(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function h(e,t,r){return t=m(t),p(e,g()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}var b=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const E=new s.Log({module:"UserTrackComp"});let S=function(e){function t(){var e;u(this,t);e=h(this,t,arguments);e._compId=(0,i.createEntry)();e._pageName="";return e}y(t,e);return l(t,[{key:"componentDidMount",value:function e(){E.info("componentDidMount",this._pageName,this._compId);a.UserTrack.startUserTrack({arg1:o.Arg1Map.PAGE_USE_TIME,eventKey:this._compId})}},{key:"componentWillUnmount",value:function e(){E.info("componentWillUnmount",this._pageName,this._compId);a.UserTrack.endUserTrack({arg1:o.Arg1Map.PAGE_USE_TIME,arg2:this._pageName,eventKey:this._compId})}}])}(n.Component);S=b([(0,i.componentDecorator)(E)],S);var w=t["default"]=S},66541:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.StreamAdapter=void 0;var n=f(r(77692));var i=r(98951);var o=r(33181);var a=r(86062);var s=r(14274);var u=r(62850);var c=f(r(35391));var l=r(11579);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=_(e,"string");return"symbol"==typeof t?t:t+""}function _(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const E=new u.Log({module:"StreamAdapter"});const S=()=>function(e,t,r){const n=r===null||r===void 0?void 0:r.value;async function s(e){if(!await o.Utils.checkAudioDevice()){(0,a.dealSparkRTCError)({error:{error_code:i.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR,error_msg:i.msgMap[i.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR],request_id:Date.now().toString()},entry:t});return{result:false,errorCode:i.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR,errorMsg:i.msgMap[i.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR]}}return n===null||n===void 0?void 0:n(e)}return g(g({},r),{},{writable:true,value:s})};let w=t.StreamAdapter=function(){function e(){d(this,e)}return p(e,null,[{key:"createStreamConnector",value:async function t(r){if(r===l.DeploymentMode.HCSO){e.CurrUseStream=c.default}await e.CurrUseStream.createStreamConnector(r||"")}},{key:"startSendLocalStream",value:async function t(r){return e.CurrUseStream.startSendLocalStream(r)}},{key:"setHeartbeatState",value:async function t(r){return e.CurrUseStream.setHeartbeatState(r)}},{key:"destroy",value:async function t(r){return e.CurrUseStream.destroy(r)}},{key:"muteRemoteAudio",value:async function t(){return e.CurrUseStream.muteRemoteAudio()}},{key:"unmuteRemoteAudio",value:async function t(){return e.CurrUseStream.unmuteRemoteAudio()}},{key:"muteLocalAudio",value:function t(r){E.info("muteLocalAudio",r);return e.CurrUseStream.muteLocalAudio(r)}},{key:"unmuteLocalAudio",value:function t(r){E.info("unmuteLocalAudio",r);return e.CurrUseStream.unmuteLocalAudio(r)}},{key:"checkSignature",value:function t(r){return e.CurrUseStream.checkSignature(r)}},{key:"setSpeaker",value:async function t(r){if(!r){return undefined}return e.CurrUseStream.setSpeaker(r)}},{key:"setMicrophone",value:async function t(r){if(!r){return undefined}return e.CurrUseStream.setMicrophone(r)}},{key:"setLogLevel",value:function t(r){if(!r){return undefined}return e.CurrUseStream.setLogLevel(r)}},{key:"setShouldSendLocalStream",value:function t(r){return e.CurrUseStream.setShouldSendLocalStream(r)}},{key:"startLocalRecord",value:function t(r){return e.CurrUseStream.startLocalRecord(r)}},{key:"stopLocalRecord",value:async function t(){return e.CurrUseStream.stopLocalRecord()}},{key:"getLocalMediaStream",value:function t(r){return e.CurrUseStream.getLocalMediaStream(r)}},{key:"clearPeerLeaveTimer",value:function t(r){return e.CurrUseStream.clearPeerLeaveTimer(r)}}])}();w.CurrUseStream=n.default;b([(0,s.printfDecorator)(E),S()],w,"startSendLocalStream",null);b([(0,s.printfDecorator)(E)],w,"setHeartbeatState",null);b([(0,s.printfDecorator)(E)],w,"destroy",null);b([(0,s.printfDecorator)(E)],w,"muteRemoteAudio",null);b([(0,s.printfDecorator)(E)],w,"unmuteRemoteAudio",null);b([(0,s.printfDecorator)(E)],w,"muteLocalAudio",null);b([(0,s.printfDecorator)(E)],w,"unmuteLocalAudio",null);b([(0,s.printfDecorator)(E)],w,"checkSignature",null);b([(0,s.printfDecorator)(E)],w,"setSpeaker",null);b([(0,s.printfDecorator)(E)],w,"setMicrophone",null);b([(0,s.printfDecorator)(E)],w,"setLogLevel",null);b([(0,s.printfDecorator)(E)],w,"setShouldSendLocalStream",null);b([(0,s.printfDecorator)(E)],w,"startLocalRecord",null);b([(0,s.printfDecorator)(E)],w,"stopLocalRecord",null);b([(0,s.printfDecorator)(E)],w,"getLocalMediaStream",null);b([(0,s.printfDecorator)(E)],w,"clearPeerLeaveTimer",null)},77692:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(74452);var i=r(98951);var o=r(31747);var a=r(48551);var s=r(38598);var u=r(62850);var c=r(14274);var l=h(r(88789));var f=r(76391);var d=r(40946);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==typeof t?t:t+""}function y(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const b=new u.Log({module:"CloudStreamManager"});let E=t["default"]=function(){function e(){p(this,e)}return g(e,null,[{key:"createStreamConnector",value:async function e(t){b.info("createStreamConnector",t);await n.SparkRTC.getInstance().init();await n.SparkRTC.getInstance().joinRoom()}},{key:"setHeartbeatState",value:function e(){}},{key:"unmuteLocalAudio",value:function e(t){t+=", unmuteLocalAudio";const r=o.StreamManager.getInstance().getLocalStream(t);const n=r===null||r===void 0?void 0:r.getAudioHRTCTrack();if(n){var a;r===null||r===void 0?void 0:(a=r.getAudioHRTCTrack())===null||a===void 0?void 0:a.unmuteTrack();return{result:true}}return{result:false,errorCode:i.SDKErrorCode.RTC_NOT_INIT,errorMsg:i.msgMap[i.SDKErrorCode.RTC_NOT_INIT]}}},{key:"muteLocalAudio",value:function e(t){t+=", muteLocalAudio";const r=o.StreamManager.getInstance().getLocalStream(t);const n=r===null||r===void 0?void 0:r.getAudioHRTCTrack();if(n){var i;r===null||r===void 0?void 0:(i=r.getAudioHRTCTrack())===null||i===void 0?void 0:i.muteTrack()}return{result:true}}},{key:"unmuteRemoteAudio",value:async function e(){const t=o.StreamManager.getRemoteStream();return(t===null||t===void 0?void 0:t.unmuteAudio())||false}},{key:"muteRemoteAudio",value:async function e(){const t=o.StreamManager.getRemoteStream();return(t===null||t===void 0?void 0:t.muteAudio())||false}},{key:"checkSignature",value:function e({result:t,entry:r}){var i,o,u;const c=(i=t.rtc_room_info)===null||i===void 0?void 0:(o=i.users)===null||o===void 0?void 0:o.find((({user_type:e})=>e===a.USER_TYPE.PLAYER));if(c&&c.ctime!==((u=s.ConfigManager.getPlayerUserInfo(r))===null||u===void 0?void 0:u.ctime)){s.ConfigManager.setChatInfo({chatInfo:t,entry:r});n.SparkRTC.getInstance().renewSignature({entry:r})}}},{key:"setSpeaker",value:async function e(t){return o.StreamManager.getInstance().setSpeaker(t)}},{key:"setMicrophone",value:async function e(t){return o.StreamManager.getInstance().setMicrophone(t)}},{key:"destroy",value:async function e(t){return n.SparkRTC.getInstance().destroy(t)}},{key:"startSendLocalStream",value:async function e(t){return n.SparkRTC.getInstance().startSendLocalStream({entry:t,audio:true})}},{key:"setLogLevel",value:function e(t){l.default.setLogLevel(t)}},{key:"setShouldSendLocalStream",value:function e(t){return o.StreamManager.setShouldSendLocalStream(t)}},{key:"startLocalRecord",value:function e(t){return f.RecordManager.startLocalRecord(t)}},{key:"stopLocalRecord",value:function e(){return f.RecordManager.stopLocalRecord()}},{key:"getLocalMediaStream",value:function e(t){var r;return(r=o.StreamManager.getInstance().getLocalStream(t))===null||r===void 0?void 0:r.getMediaStream()}},{key:"clearPeerLeaveTimer",value:function e(t){return d.RemoteManager.clearPeerLeaveTimer(t)}}])}();_([(0,c.printfDecorator)(b)],E,"setMicrophone",null);_([(0,c.printfDecorator)(b)],E,"setLogLevel",null);_([(0,c.printfDecorator)(b)],E,"setShouldSendLocalStream",null);_([(0,c.printfDecorator)(b)],E,"startLocalRecord",null);_([(0,c.printfDecorator)(b)],E,"stopLocalRecord",null);_([(0,c.printfDecorator)(b)],E,"getLocalMediaStream",null);_([(0,c.printfDecorator)(b)],E,"clearPeerLeaveTimer",null)},83522:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.NetworkQualityCheck=void 0;var n=r(19795);var i=r(41483);var o=r(6070);var a=r(12262);var s=r(38598);var u=r(14274);var c=r(62850);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=p(e,"string");return"symbol"==typeof t?t:t+""}function p(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const g=new c.Log({module:"NetworkQualityCheck"});let m=t.NetworkQualityCheck=function(){function e(){l(this,e)}return d(e,null,[{key:"networkLevelCheck",value:function t(r){if(!s.ConfigManager.getConfig(a.ConfigKey.ENABLE_NETWORK_CHECK)){return}const{language:c}=(0,n.$getState)().lang;const{downlinkNetworkQuality:l}=r;let f=i.NETWORK_QUALITY_LEVEL.GOOD;const d=u.UrlUtil.getSearchValue(location.href,"networkQuality");if(d!==null){f=Number(d);f=f in i.NETWORK_QUALITY_LEVEL?f:i.NETWORK_QUALITY_LEVEL.GOOD}if(l>=f){var h;(h=e._disconnectToast)===null||h===void 0?void 0:h.hide();e._disconnectToast=(0,o.toast)({content:c.warnNetwrokQualityLeaveTips,className:"warn-toast",type:1})}else{var p;(p=e._disconnectToast)===null||p===void 0?void 0:p.hide()}}},{key:"streamCheck",value:function t(r){if(!s.ConfigManager.getConfig(a.ConfigKey.ENABLE_NETWORK_CHECK)){return}const{language:u}=(0,n.$getState)().lang;const c={content:u.warnNetwrokQualityLeaveTips,className:"warn-toast",type:1};const l=r.find((e=>!e.isRemote));if(l&&l.rtt>=i.NetworkQualityToast.LOCALE_STREAM.rtt){var f;(f=e._disconnectToast)===null||f===void 0?void 0:f.hide();e._disconnectToast=(0,o.toast)(c);return}const d=r.find((e=>e.isRemote&&e.mediaType==="audio"));const{pktLossRate:h,jitter:p}=i.NetworkQualityToast.REMOTE_AUDIO_STREAM;if(d&&d.pktLossRate>=h&&d.jitter>=p){var v;(v=e._disconnectToast)===null||v===void 0?void 0:v.hide();e._disconnectToast=(0,o.toast)(c);return}const g=r.find((e=>e.isRemote&&e.mediaType==="video"));const{pktLossRate:m,jitter:y}=i.NetworkQualityToast.REMOTE_VIDEO_STREAM;if(g&&(g===null||g===void 0?void 0:g.pktLossRate)>=m&&(g===null||g===void 0?void 0:g.jitter)>=y){var _;(_=e._disconnectToast)===null||_===void 0?void 0:_.hide();e._disconnectToast=(0,o.toast)(c)}}}])}();v([(0,u.printfDecorator)(g)],m,"networkLevelCheck",null);v([(0,u.printfDecorator)(g)],m,"streamCheck",null)},74452:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.SparkRTC=void 0;var n=O(r(88789));var i=O(r(81354));var o=r(14274);var a=r(19795);var s=r(84343);var u=r(41483);var c=r(30265);var l=r(83353);var f=r(83978);var d=r(47584);var h=r(62850);var p=r(38598);var v=r(33181);var g=r(86062);var m=r(98951);var y=O(r(97218));var _=r(25725);var b=r(6070);var E=r(31747);var S=r(93367);var w=r(40946);var T=r(83522);var C=r(3924);var A=r(25139);var R=r(28205);var I=r(61129);var k=r(12262);function O(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K(n.key),n)}}function x(e,t,r){return t&&M(e.prototype,t),r&&M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e,t,r){return t=H(t),D(e,j()?Reflect.construct(t,r||[],H(e).constructor):t.apply(e,r))}function D(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}function U(e,t,r,n){var i=B(H(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof i?function(e){return i.apply(r,e)}:i}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=F(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},B.apply(null,arguments)}function F(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t,r){return(t=K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e){var t=q(e,"string");return"symbol"==typeof t?t:t+""}function q(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var $=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const J=new h.Log({module:"HwICS.SparkRTC"});let Z;const X=async()=>{var e,t;const r=await n.default.checkSystemRequirements(false,"recvonly");if(r===true){return true}(0,g.dealSparkRTCError)({error:{error_code:r===null||r===void 0?void 0:(e=r.getCode)===null||e===void 0?void 0:e.call(r).toString(),error_msg:(r===null||r===void 0?void 0:(t=r.getMsg)===null||t===void 0?void 0:t.call(r))||(r===null||r===void 0?void 0:r.toString()),request_id:Date.now().toString()},entry:"checkBrowserSupport"});return false};const Q=async()=>{if((0,o.formatType)(Z)!==o.formatType.BOOLEAN){Z=await X()}return Z};const ee=(e,t,r)=>n=>{J.error(`dealApplyUnhandleError ${t}`,r,"reject",n);if(n.code){(0,g.dealSparkRTCError)({error:{error_code:n.code.toString(),error_msg:n.message,request_id:Date.now().toString()},entry:r});if(n.code.toString()===u.SparkRTCErrorCode.RTC_ERR_CODE_WEBSOCKET_CONNECT_ERROR&&p.ConfigManager.isGammaEnv()){const{debug_ca_error_url:t}=e.getGammaConfig();(0,a.$dispatch)((0,f.toggleShowCaError)({showCaError:true,caErrorUrl:t}))}if(n.code.toString()===u.SparkRTCErrorCode.RTC_ERR_CODE_SFU_ERROR){window.dispatchEvent(new CustomEvent(m.InnerICSEventKey.REJOIN_EVENT,{detail:{method:m.InnerICSEventMethod.REJOIN,entry:"sparkrtc error",reason:R.RejoinReason.UPGRADING,errorCode:u.SparkRTCErrorCode.RTC_ERR_CODE_SFU_ERROR}}))}}else{J.error("dealApplyUnhandleError",n===null||n===void 0?void 0:n.toString())}};const te=(e,t,r)=>G(G({},r),{},{writable:true,value:async function(...n){const i=r===null||r===void 0?void 0:r.value;const a=(0,o.createEntry)(`supportCheckDecorator ${t}`);if(!await Q()){J.error(`supportCheckDecorator ${t}`,a,"is not support, do nothing");return null}try{var s;J.info(`supportCheckDecorator ${t}`,a);return(s=i.apply(this,n))===null||s===void 0?void 0:s.catch(ee(e,t,a))}catch(e){J.error(`supportCheckDecorator ${t}`,a,"catch",e);await(0,g.dealSparkRTCError)({error:{error_code:m.SDKErrorCode.RTC_CATCH_ERROR,error_msg:e.toString(),request_id:Date.now().toString()},entry:a});return null}}});let re=t.SparkRTC=function(e){function t(){var e;P(this,t);e=L(this,t);e.isJoinRoom=false;e._videoSize="";e._containerSize="";e._windowSize="";e._videoCheckCount=100;e._rtcStatsTime=3e3;e._maxBandwidth=3e4;e.startDetectionVideoSize=()=>{J.info("startDetectionVideoSize");e._videoCheckCount=100;e.detectionVideoSize()};e.debounceStartDetectionVideoSize=(0,o.debounce)(e.startDetectionVideoSize,50);e.addStreamEvent=e.addStreamEvent.bind(e);e.updatedStreamEvent=e.updatedStreamEvent.bind(e);e.removedStreamEvent=e.removedStreamEvent.bind(e);e.subscribedStreamEvent=e.subscribedStreamEvent.bind(e);e.peerLeaveEvent=e.peerLeaveEvent.bind(e);e.clientBanned=e.clientBanned.bind(e);e.kickRoomEvent=e.kickRoomEvent.bind(e);e.signatureExpiredEvent=e.signatureExpiredEvent.bind(e);e.errorEvent=e.errorEvent.bind(e);e.mediaConnectionStateChangedEvent=e.mediaConnectionStateChangedEvent.bind(e);e.peerJoinEvent=e.peerJoinEvent.bind(e);e.rtcStatsEvent=e.rtcStatsEvent.bind(e);return e}V(t,e);return x(t,[{key:"getGammaConfig",value:function e(){return t._gammaConfig||{}}},{key:"init",value:async function e(){var r;const i=(0,o.createEntry)("init");c.UserTrack.addUserTrack({arg1:l.Arg1Map.SPARK_RTC,arg2:"init"});const a=p.ConfigManager.getChatInfo(i);J.debug("init",a);if(p.ConfigManager.isGammaEnv()){c.UserTrack.addUserTrack({arg1:l.Arg1Map.SPARK_RTC,arg2:"init gamma param"});const e=await y.default.get("icswebclient/rtc_gamma_config.json");J.debug("rtc_gamma_config",e);if(e!==null&&e!==void 0&&e.data){t._gammaConfig=e===null||e===void 0?void 0:e.data;n.default.setParameter("GRS_LOCAL_EXT_INFO",t._gammaConfig)}n.default.setParameter("ENVIRONMENT_SUFFIX",{grsKey:"GREEN",pathSuffix:"gammagreen"})}n.default.setParameter("FRAME_ENCRYPTION_MODE",3);if(a!==null&&a!==void 0&&(r=a.rtc_room_info)!==null&&r!==void 0&&r.app_id){var s;this._client=n.default.createClient({appId:a===null||a===void 0?void 0:(s=a.rtc_room_info)===null||s===void 0?void 0:s.app_id,countryCode:"CN"});this._client.setNetworkBandwidth({maxBandwidth:this._maxBandwidth});this._client.enableCommandMsg(true)}}},{key:"joinRoom",value:async function e(){const t=(0,o.createEntry)("joinRoom");c.UserTrack.addUserTrack({arg1:l.Arg1Map.SPARK_RTC,arg2:"joinRoom"});this.addListener();const r=p.ConfigManager.getPlayerUserInfo(t);const n=p.ConfigManager.getChatInfo(t);if(r&&n){var i,a,s;J.info("joinRoom",G(G({},r),{},{roomId:n===null||n===void 0?void 0:(i=n.rtc_room_info)===null||i===void 0?void 0:i.room_id,signature:(0,o.handleAccountPrint)(r.signature)}));if((a=n.rtc_room_info)!==null&&a!==void 0&&a.room_id){var u,f;if(v.Utils.getIosVersion()>0&&v.Utils.getIosVersion()<13){if(!await v.Utils.checkAudioDevice()){await(0,g.dealSparkRTCError)({error:{error_code:m.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR,error_msg:"",request_id:Date.now().toString()},entry:t})}}this._clearRejoinTimer();this._rejoinTimer=setTimeout((()=>{window.dispatchEvent(new CustomEvent(m.InnerICSEventKey.REJOIN_EVENT,{detail:{method:m.InnerICSEventMethod.REJOIN,entry:"rtc join room timeout",reason:R.RejoinReason.LOADING,errorCode:m.SDKErrorCode.RTC_JOIN_TIMEOUT}}))}),C.HRTC_JOIN_ROOM_TIMEOUT);if(p.ConfigManager.getConfig(k.ConfigKey.FIRST_CREATE_LOCAL_STREAM)){await E.StreamManager.createLocalStream(this._client,{entry:t,audio:true,video:false})}await((u=this._client)===null||u===void 0?void 0:u.join((f=n.rtc_room_info)===null||f===void 0?void 0:f.room_id,{userId:r.user_id||"",signature:r.signature||"",ctime:r.ctime.toString()||"0",role:0}))}(s=this._client)===null||s===void 0?void 0:s.enableRtcStats(true,this._rtcStatsTime)}}},{key:"mockJoinRoom",value:async function e(){var r,a;const s=(0,o.createEntry)("mockJoinRoom");await this.init();const u=0;const c=72e5;const l=Math.floor((c+Date.now())/1e3).toString();const f=`cbu_hmac+${t._mockRoomId}+${t._mockUserId}+${l}`;const d=i.default.HmacSHA256(f,t._mockAppKey).toString();this.addListener();J.info(s,{signature:d});await((r=this._client)===null||r===void 0?void 0:r.join(t._mockRoomId,{userId:t._mockUserId,signature:d,ctime:l,role:u}));(a=this._client)===null||a===void 0?void 0:a.enableRtcStats(true,1e3);const h=await n.default.getCameras().catch((e=>{J.error(s,"cameras error",e);return[]}));const p=await n.default.getMicrophones().catch((e=>{J.error(s,"microphones error",e);return[]}));J.info(s,"microphones",p);await this.startSendLocalStream({entry:s,audio:true,video:(h===null||h===void 0?void 0:h.length)>0})}},{key:"mockSendCmdMessage",value:async function e(t){var r;return(r=this._client)===null||r===void 0?void 0:r.sendCommandMsg(JSON.stringify(t))}},{key:"startSendLocalStream",value:async function e({entry:t="",audio:r=false,video:n=false}){c.UserTrack.addUserTrack({arg1:l.Arg1Map.SPARK_RTC,arg2:"startSendLocalStream",args:{entry:t,param:`${r},${n}`}});t+=",startSendLocalStream";if(!this._client){J.error("startSendLocalStream","_client not exist",t);return{result:false,errorCode:m.SDKErrorCode.RTC_NOT_INIT,errorMsg:m.msgMap[m.SDKErrorCode.RTC_NOT_INIT]}}if(!E.StreamManager.getShouldSendLocalStream(t)){J.warn("startSendLocalStream","no need send local stream",t);return{result:false}}const i=await E.StreamManager.publishStream(this._client,{entry:t,audio:r,video:n});J.debug(t,i);E.StreamManager.playRemoteStream(t);return{result:true}}},{key:"destroy",value:async function e(r){r+=",destroy";try{this._clearRejoinTimer();if(this._client){J.info("destroy",r);this.removeListener();this.closeRemoteStream(r);await E.StreamManager.destroyStreamManager(this._client,r);await Promise.race([this._client.leave().catch((e=>{J.error("destroy",r,"_client.leave",e)})),(0,o.sleep)(5e3)]);this._client.destroyClient();delete this._client;delete t.sparkRtc}}catch(e){J.error("destroy",r,e)}}},{key:"renewSignature",value:function e({entry:t}){const r=p.ConfigManager.getPlayerUserInfo(t);if(r){var n;J.info("renewSignature",t,r.ctime);(n=this._client)===null||n===void 0?void 0:n.renewSignature(r.ctime.toString(),r.signature)}}},{key:"_clearRejoinTimer",value:function e(){if(this._rejoinTimer){clearTimeout(this._rejoinTimer);delete this._rejoinTimer}}},{key:"closeRemoteStream",value:function e(t){this.isJoinRoom=false;J.info("closeRemoteStream",t);window.removeEventListener("resize",this.debounceStartDetectionVideoSize);A.NotifyManager.sendJobInfoChange({isReady:false,entry:"closeRemoteStream"});E.StreamManager.closeRemoteStream(t)}},{key:"reCalcRemoteContainerWidth",value:async function e({width:t,height:r,entry:n}){await(0,o.sleep)(0);n+=",reCalcRemoteContainerWidth";J.debug(n,t,r);const i=p.ConfigManager.getContainerDom();if(!i){return}let u=Math.round(i.clientHeight*t/r);let f=i.clientHeight;if(u>i.clientWidth){u=i.clientWidth;f=Math.round(u*r/t)}c.UserTrack.addUserTrack({arg1:l.Arg1Map.SPARK_RTC,arg2:"reCalcRemoteContainerWidth",args:{entry:n,param:`${i===null||i===void 0?void 0:i.clientHeight},${t},${r}->${u},${f}`}});(0,a.$dispatch)((0,s.setRemoteContainerSize)({width:u,height:f}))}},{key:"detectionVideoSize",value:async function e(){var t,r,n,i,a,s;this._videoCheckCount--;const u=`,detectionVideoSize,${this._videoCheckCount}`;const c=(t=E.StreamManager.getRemoteStream())===null||t===void 0?void 0:(r=t.getVideoTrack())===null||r===void 0?void 0:r.getSettings();const l=(c===null||c===void 0?void 0:c.width)||0;const f=(c===null||c===void 0?void 0:c.height)||0;const d=JSON.stringify([l,f]);const h=JSON.stringify([(n=window)===null||n===void 0?void 0:n.innerWidth,(i=window)===null||i===void 0?void 0:i.innerHeight]);const v=JSON.stringify([(a=p.ConfigManager.getContainerDom())===null||a===void 0?void 0:a.clientWidth,(s=p.ConfigManager.getContainerDom())===null||s===void 0?void 0:s.clientHeight]);J.debug(u,c,d,h,v);if(l&&(this._videoSize!==d||this._windowSize!==h||this._containerSize!==v)){this.reCalcRemoteContainerWidth({width:l,height:f,entry:u});this._videoSize=d;this._windowSize=h;this._containerSize=v}if(this._videoCheckCount>0){await(0,o.sleep)(100);this.detectionVideoSize()}}},{key:"removedStreamEvent",value:function e(r){U(t,"removedStreamEvent",this,3)([r]);if(E.StreamManager.checkIgnoreStream(r.stream,"removedStreamEvent")){return}this.closeRemoteStream("removedStreamEvent");w.RemoteManager.showUploadingInfo("removedStreamEvent")}},{key:"addStreamEvent",value:function e(r){var n;U(t,"addStreamEvent",this,3)([r]);if(E.StreamManager.checkIgnoreStream(r.stream,"addStreamEvent")){return}(0,a.$dispatch)((0,s.toggleShowLoading)({show:false}));this._clearRejoinTimer();A.NotifyManager.sendJobInfoChange({isReady:true,entry:"addStreamEvent"});I.RouteManager.showMainPage();(n=this._client)===null||n===void 0?void 0:n.subscribe(r.stream,{video:true,audio:true})}},{key:"updatedStreamEvent",value:function e(r){var n;U(t,"updatedStreamEvent",this,3)([r]);if(E.StreamManager.checkIgnoreStream(r.stream,"updatedStreamEvent")){return}this._clearRejoinTimer();I.RouteManager.showMainPage();(n=this._client)===null||n===void 0?void 0:n.subscribe(r.stream,{video:true,audio:true})}},{key:"subscribedStreamEvent",value:async function e(r){U(t,"subscribedStreamEvent",this,3)([r]);if(E.StreamManager.checkIgnoreStream(r.stream,"subscribedStreamEvent")){return}this.isJoinRoom=true;E.StreamManager.setRemoteStream(r.stream,"subscribedStreamEvent");await E.StreamManager.playRemoteStream("subscribedStreamEvent");this.startDetectionVideoSize();window.addEventListener("resize",this.debounceStartDetectionVideoSize);_.HWIcsElectron.showAdvertiseMoreInfo("subscribedStreamEvent")}},{key:"peerJoinEvent",value:function e(r){U(t,"peerJoinEvent",this,3)([r]);w.RemoteManager.clearPeerLeaveTimer("peerJoinEvent");_.HWIcsElectron.showAdvertise("peerJoinEvent");_.HWIcsElectron.hideAdvertiseMoreInfo("peerJoinEvent")}},{key:"peerLeaveEvent",value:function e(r){U(t,"peerLeaveEvent",this,3)([r]);this.closeRemoteStream("peerLeaveEvent");w.RemoteManager.dealPeerLeave()}},{key:"clientBanned",value:function e(r){U(t,"clientBanned",this,3)([r]);this.destroy("clientBanned");window.dispatchEvent(new CustomEvent(m.InnerICSEventKey.HEARTBEAT_EVENT,{detail:{method:"stopHeartBeat",entry:"clientBanned"}}));(0,g.dealSparkRTCError)({error:{error_code:m.SDKErrorCode.RTC_KICK_OUT,error_msg:"",request_id:Date.now().toString()},entry:"clientBanned"})}},{key:"errorEvent",value:async function e(r){var n;U(t,"errorEvent",this,3)([r]);J.error("errorEvent",r);if((r===null||r===void 0?void 0:(n=r.errCode)===null||n===void 0?void 0:n.toString())===u.SparkRTCErrorCode.RTC_ERR_CODE_MEDIA_NETWORK_ERROR){var i;(i=t._disconnectToast)===null||i===void 0?void 0:i.hide();t._disconnectToast=(0,b.toast)({content:(0,S.getErrorMessage)({errorCode:u.SparkRTCErrorCode.RTC_ERR_CODE_MEDIA_NETWORK_ERROR}),type:0})}}},{key:"rtcStatsEvent",value:function e(r){U(t,"rtcStatsEvent",this,3)([r]);T.NetworkQualityCheck.streamCheck(r)}},{key:"kickRoomEvent",value:function e(r){U(t,"kickRoomEvent",this,3)([r]);this.closeRemoteStream("kickRoomEvent");(0,g.dealSparkRTCError)({error:{error_code:m.SDKErrorCode.RTC_KICK_ROOM,error_msg:"",request_id:Date.now().toString()},entry:"kickRoomEvent"})}},{key:"signatureExpiredEvent",value:async function e(r){const n=(0,o.createEntry)("signatureExpiredEvent");U(t,"signatureExpiredEvent",this,3)([r]);this.renewSignature({entry:n})}},{key:"mediaConnectionStateChangedEvent",value:async function e(r){U(t,"mediaConnectionStateChangedEvent",this,3)([r]);J.info("media-connection-state-changed",r);if((r===null||r===void 0?void 0:r.state)==="CONNECTED"){var n;(n=t._disconnectToast)===null||n===void 0?void 0:n.hide()}}},{key:"connectionStateChangedEvent",value:async function e(r){U(t,"connectionStateChanged",this,3)([r]);J.info("connection-state-changed",r);if(r.code===u.SparkRTCErrorCode.RTC_WEBSOCKET_ERR_NEED_REJOIN){window.dispatchEvent(new CustomEvent(m.InnerICSEventKey.REJOIN_EVENT,{detail:{method:m.InnerICSEventMethod.REJOIN,entry:"rtc websocket error",reason:R.RejoinReason.NETWORK_ERROR,errorCode:u.SparkRTCErrorCode.RTC_WEBSOCKET_ERR_NEED_REJOIN}}))}}},{key:"addListener",value:function e(){var r,n,i,o,a,s,u,c,l,f,d,h,p;U(t,"addListener",this,3)([this._client]);(r=this._client)===null||r===void 0?void 0:r.on("stream-added",this.addStreamEvent);(n=this._client)===null||n===void 0?void 0:n.on("stream-updated",this.updatedStreamEvent);(i=this._client)===null||i===void 0?void 0:i.on("stream-removed",this.removedStreamEvent);(o=this._client)===null||o===void 0?void 0:o.on("stream-subscribed",this.subscribedStreamEvent);(a=this._client)===null||a===void 0?void 0:a.on("Error",this.errorEvent);(s=this._client)===null||s===void 0?void 0:s.on("rtc-stats",this.rtcStatsEvent);(u=this._client)===null||u===void 0?void 0:u.on("peer-join",this.peerJoinEvent);(c=this._client)===null||c===void 0?void 0:c.on("peer-leave",this.peerLeaveEvent);(l=this._client)===null||l===void 0?void 0:l.on("client-banned",this.clientBanned);(f=this._client)===null||f===void 0?void 0:f.on("kick-room",this.kickRoomEvent);(d=this._client)===null||d===void 0?void 0:d.on("signature-expired",this.signatureExpiredEvent);(h=this._client)===null||h===void 0?void 0:h.on("media-connection-state-changed",this.mediaConnectionStateChangedEvent);(p=this._client)===null||p===void 0?void 0:p.on("connection-state-changed",this.connectionStateChangedEvent)}},{key:"removeListener",value:function e(){var r,n,i,o,a,s,u,c,l,f,d,h,p;U(t,"removeListener",this,3)([this._client]);(r=this._client)===null||r===void 0?void 0:r.off("stream-added",this.addStreamEvent);(n=this._client)===null||n===void 0?void 0:n.off("stream-updated",this.updatedStreamEvent);(i=this._client)===null||i===void 0?void 0:i.off("stream-removed",this.removedStreamEvent);(o=this._client)===null||o===void 0?void 0:o.off("stream-subscribed",this.subscribedStreamEvent);(a=this._client)===null||a===void 0?void 0:a.off("Error",this.errorEvent);(s=this._client)===null||s===void 0?void 0:s.off("rtc-stats",this.rtcStatsEvent);(u=this._client)===null||u===void 0?void 0:u.off("peer-join",this.peerJoinEvent);(c=this._client)===null||c===void 0?void 0:c.off("peer-leave",this.peerLeaveEvent);(l=this._client)===null||l===void 0?void 0:l.off("client-banned",this.clientBanned);(f=this._client)===null||f===void 0?void 0:f.off("kick-room",this.kickRoomEvent);(d=this._client)===null||d===void 0?void 0:d.off("signature-expired",this.signatureExpiredEvent);(h=this._client)===null||h===void 0?void 0:h.off("media-connection-state-changed",this.mediaConnectionStateChangedEvent);(p=this._client)===null||p===void 0?void 0:p.off("connection-state-changed",this.connectionStateChangedEvent)}}],[{key:"getInstance",value:function e(){if(!t.sparkRtc){t.sparkRtc=new t}return t.sparkRtc}}])}(d.WebrtcTrack);re._mockRoomId="room0";re._mockUserId=(0,o.getClientId)().toString();re._mockAppKey="";$([(0,o.printfDecorator)(J),te],re.prototype,"init",null);$([(0,o.printfDecorator)(J),te],re.prototype,"joinRoom",null);$([(0,o.printfDecorator)(J),te],re.prototype,"mockJoinRoom",null);$([(0,o.printfDecorator)(J),te],re.prototype,"mockSendCmdMessage",null);$([(0,o.printfDecorator)(J),te],re.prototype,"startSendLocalStream",null);$([(0,o.printfDecorator)(J)],re.prototype,"renewSignature",null);$([(0,o.printfDecorator)(J),te],re.prototype,"reCalcRemoteContainerWidth",null);$([(0,o.printfDecorator)(J)],re.prototype,"removedStreamEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"addStreamEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"updatedStreamEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"subscribedStreamEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"peerJoinEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"peerLeaveEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"clientBanned",null);$([(0,o.printfDecorator)(J)],re.prototype,"errorEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"rtcStatsEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"kickRoomEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"signatureExpiredEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"mediaConnectionStateChangedEvent",null);$([(0,o.printfDecorator)(J)],re.prototype,"addListener",null);$([(0,o.printfDecorator)(J)],re.prototype,"removeListener",null)},72390:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.LocalManager=void 0;var n=r(14274);var i=r(62850);var o=s(r(88789));var a=r(38598);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=d(e,"string");return"symbol"==typeof t?t:t+""}function d(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const p=new i.Log({module:"LocalManager"});let v=t.LocalManager=function(){function e(){u(this,e);this.published=false}return l(e,[{key:"closeLocalStream",value:async function e(t,r){p.info("closeLocalStream",r);if(this._stream){try{var n,i;await t.unpublish(this._stream);(n=this._stream)===null||n===void 0?void 0:n.stop();(i=this._stream)===null||i===void 0?void 0:i.close()}catch(e){p.error("client unpublish error",r,e)}delete this._stream}}},{key:"getLocalStream",value:function e(t){p.info("getLocalStream",t,!!this._stream);return this._stream}},{key:"publishStream",value:async function e(t,{audio:r=false,video:n=false,entry:i=""}){const o=this.getLocalStream("publishStream");const a=await this.createLocalStream(t,{entry:i,audio:r,video:n});p.info("publishStream",i,o===a,this.published);if(o!==a||!this.published){t.publish(a);this.published=true}return a}},{key:"createLocalStream",value:async function e(t,{audio:r=false,video:n=false,entry:i=""}){i+=",createLocalStream";p.info("createLocalStream",i,r,n,!!this._stream,this._micId);if(!this._stream){const e=a.ConfigManager.getPlayerUserInfo(i);this._stream=o.default.createStream({audio:r,video:n,userId:(e===null||e===void 0?void 0:e.user_id)||"",microphoneId:this._micId||"default"});this._stream.setAudioProfile({sampleRate:8e3});await this._stream.initialize();await this.setMicrophone()}else{const e=this._stream.getAudioTrack();if((e===null||e===void 0?void 0:e.readyState)==="ended"){p.error(i,"audioTrack readyState ended");await this.rePublishStream(t,i)}else{var s,u;(s=this._stream)===null||s===void 0?void 0:(u=s.getAudioHRTCTrack())===null||u===void 0?void 0:u.unmuteTrack();p.info(i,"has already init, use it")}}this.addLocalStreamEvent(i);return this._stream}},{key:"rePublishStream",value:async function e(t,r){p.info("rePublishStream",r);if(!this._stream){return}const n=this._stream.hasAudio();const i=this._stream.hasVideo();await this.closeLocalStream(t,r);const s=a.ConfigManager.getPlayerUserInfo(r);this._stream=o.default.createStream({audio:n,video:i,userId:(s===null||s===void 0?void 0:s.user_id)||""});this._stream.setAudioProfile({sampleRate:8e3});await this._stream.initialize();this.setMicrophone();p.info("rePublishStream end",r)}},{key:"addLocalStreamEvent",value:function e(t){p.info("addLocalStreamEvent",t);if(!this._stream){p.info("addLocalStreamEvent","_stream not created",t);return}const r=this._stream.getAudioTrack();if(!r){p.error("addLocalStreamEvent"," no audioTrack",t)}r.onended=async()=>{p.error("addLocalStreamEvent","audioTrack onended",t)}}},{key:"setMicrophone",value:async function e(t){this._micId=t||this._micId;p.info("setMicrophone",this._micId);if(this._micId){var r;await((r=this._stream)===null||r===void 0?void 0:r.switchDevice("audio",this._micId))}}}])}();h([(0,n.printfDecorator)(p)],v.prototype,"setMicrophone",null)},76391:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.RecordManager=void 0;var n=r(14274);var i=r(62850);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==typeof t?t:t+""}function c(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const f=new i.Log({module:"SparkRTC.RecordManager"});let d=t.RecordManager=function(){function e(){o(this,e)}return s(e,null,[{key:"startLocalRecord",value:async function t(r){var n,i;await Promise.all([(n=e.localRecorder)===null||n===void 0?void 0:n.startRecord({stream:r}),(i=e.localRecorder2)===null||i===void 0?void 0:i.startRecord()])}},{key:"stopLocalRecord",value:async function t(){var r,n,i,o;e.downloadAudio.downloadFile("record.pcm");e.downloadAudio2.downloadFile("recordSelf.pcm");(r=e.downloadAudio)===null||r===void 0?void 0:r.clearData();(n=e.downloadAudio2)===null||n===void 0?void 0:n.clearData();await((i=e.localRecorder)===null||i===void 0?void 0:i.stopRecord());await((o=e.localRecorder2)===null||o===void 0?void 0:o.stopRecord())}},{key:"audioCallback",value:function t(r){try{e.downloadAudio.addDownloadData(r.pcm.buffer)}catch(e){f.error("audioCallback",e)}}},{key:"audioCallback2",value:function t(r){try{e.downloadAudio2.addDownloadData(r.pcm.buffer)}catch(e){f.error("audioCallback2",e)}}}])}();d.localRecorder=new n.AudioContextLocalRecorder({bufferSize:1024,useScriptProcessor:true,audioCallback:d.audioCallback});d.localRecorder2=new n.AudioContextLocalRecorder({bufferSize:1024,useScriptProcessor:true,audioCallback:d.audioCallback2});d.downloadAudio=new n.DownloadAudio;d.downloadAudio2=new n.DownloadAudio;l([(0,n.printfDecorator)(f)],d,"startLocalRecord",null);l([(0,n.printfDecorator)(f)],d,"stopLocalRecord",null)},40946:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.RemoteManager=void 0;var n=r(86062);var i=r(98951);var o=r(14274);var a=r(12197);var s=r(62850);var u=r(28205);var c=r(47365);var l=r(19795);var f=r(84343);var d=r(54439);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const y=new s.Log({module:"RemoteManager"});let _=t.RemoteManager=function(){function e(){h(this,e)}return v(e,null,[{key:"dealPeerLeave",value:function t(){y.info("dealPeerLeave");c.ChatDataManager.resetChatData("dealPeerLeave");e.timer.cancel().schedule(e.peerLeaveTask,e.peerRejoinTime)}},{key:"clearPeerLeaveTimer",value:function t(r){y.info("clearPeerLeaveTimer",r);e.timer.cancel()}},{key:"showUploadingInfo",value:async function e(t){y.info("showUploadingInfo",t);if(await d.JobManager.checkJobAlive(t)){(0,l.$dispatch)((0,f.toggleShowLoading)({show:true,contentKey:u.RejoinReason.UPGRADING}))}}},{key:"showPeerLeaveError",value:async function t(){y.info("showPeerLeaveError");const r=(0,o.createEntry)("showPeerLeaveError");e.timer.cancel();(0,n.dealSparkRTCError)({error:{error_code:i.SDKErrorCode.RTC_PEER_LEAVE,error_msg:"",request_id:""},entry:"showPeerLeaveError"});if(!await d.JobManager.checkJobAlive(r)){y.info("showPeerLeaveError","job not alive, no need rejoin");return}window.dispatchEvent(new CustomEvent(i.InnerICSEventKey.REJOIN_EVENT,{detail:{method:i.InnerICSEventMethod.REJOIN,entry:"peerLeave",reason:u.RejoinReason.UPGRADING,errorCode:i.SDKErrorCode.RTC_PEER_LEAVE}}))}}])}();_.timer=new o.Timer;_.peerLeaveTask=new a.TimerTask(_.showPeerLeaveError);_.peerRejoinTime=2e4},31747:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.StreamManager=void 0;var n=r(62850);var i=r(30265);var o=r(83353);var a=r(41483);var s=r(35520);var u=r(93367);var c=r(60867);var l=r(19795);var f=r(14274);var d=r(72390);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var y=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const _=new n.Log({module:"HwICS.SparkRTC.StreamManager"});let b=t.StreamManager=function(){function e(){h(this,e);this.localStreamManager=new d.LocalManager}return v(e,[{key:"closeRemoteStream",value:function e(t){var r,n;_.info("closeRemoteStream",t);(r=this._remoteStream)===null||r===void 0?void 0:r.close();delete this._remoteStream;(n=this.transparentBg)===null||n===void 0?void 0:n.destory();delete this.transparentBg}},{key:"getLocalStream",value:function e(t){return this.localStreamManager.getLocalStream(t)}},{key:"handleTransparentBg",value:function e(){const t=(0,l.$getState)();_.info("handleTransparentBg",t.main.isShowTransparentBg);if(!t.main.isShowTransparentBg){return}this.transparentBg=new c.TransparentBg}},{key:"playRemoteStream",value:async function t(r){var n,i,o;_.info("playRemoteStream",r);(n=this._remoteStream)===null||n===void 0?void 0:n.setAudioVolume(100);if(!this._audioLevelTimer){this.startLoopTrack()}const c=document.querySelector(`#${e._remoteContainerId}`);const f=(0,l.$getState)();if(f.main.isShowTransparentBg&&c){c.style.display="none"}await((i=this._remoteStream)===null||i===void 0?void 0:(o=i.play(e._remoteContainerId,{muted:false,objectFit:"contain"}))===null||o===void 0?void 0:o.catch((e=>{_.error("playRemoteStream error",e);if(e.code===a.SparkRTCErrorCode.RTC_ERR_CODE_PLAY_NOT_ALLOW){s.Modal.alert({content:(0,u.getErrorMessage)({errorCode:a.SparkRTCErrorCode.RTC_ERR_CODE_PLAY_NOT_ALLOW})}).then((()=>{var e;(e=this._remoteStream)===null||e===void 0?void 0:e.resume()}))}})));this.handleTransparentBg()}},{key:"startLoopTrack",value:function t(r=0){this._trackAudioLevel(this._remoteStream,r);this._audioLevelTimer=setTimeout((()=>{r++;this.startLoopTrack(r)}),e._audioLevelCheckTime)}},{key:"_trackAudioLevel",value:function e(t,r){if(t){const e=t.getAudioLevel();_.debug("_trackAudioLevel",r,e);if(e>0||e!==this._remoteAudioLevel){i.UserTrack.addUserTrack({arg1:o.Arg1Map.SPARK_RTC,arg2:"_remoteAudioLevel",args:{entry:r.toString(),result:e.toString()}});this._remoteAudioLevel=e}}}},{key:"setSpeaker",value:async function e(t){this._speakerId=t||this._speakerId;_.info("setSpeaker",this._speakerId);if(this._speakerId){var r;await((r=this._remoteStream)===null||r===void 0?void 0:r.setAudioOutput(this._speakerId))}}},{key:"setMicrophone",value:async function e(t){return this.localStreamManager.setMicrophone(t)}}],[{key:"getInstance",value:function t(){if(!e._streamManager){e._streamManager=new e}return e._streamManager}},{key:"closeRemoteStream",value:function t(r){return e.getInstance().closeRemoteStream(r)}},{key:"destroyStreamManager",value:async function t(r,n){await e.getInstance().localStreamManager.closeLocalStream(r,n);delete e._streamManager}},{key:"playRemoteStream",value:async function t(r){return e.getInstance().playRemoteStream(r)}},{key:"setRemoteStream",value:function t(r,n){_.info("setRemoteStream",n);e.getInstance()._remoteStream=r;e.getInstance().setSpeaker()}},{key:"getRemoteStream",value:function t(){return e.getInstance()._remoteStream}},{key:"publishStream",value:async function t(r,{audio:n=false,video:i=false,entry:o=""}){return e.getInstance().localStreamManager.publishStream(r,{audio:n,video:i,entry:o})}},{key:"createLocalStream",value:async function t(r,{audio:n=false,video:i=false,entry:o=""}){return e.getInstance().localStreamManager.createLocalStream(r,{audio:n,video:i,entry:o})}},{key:"setShouldSendLocalStream",value:function t(r){_.info("setShouldSendLocalStream",r);e.shouldSendLocalStream=r}},{key:"getShouldSendLocalStream",value:function t(r){_.info("getShouldSendLocalStream",r,e.shouldSendLocalStream);return e.shouldSendLocalStream}},{key:"checkIgnoreStream",value:function e(t,r){_.info("getShouldSendLocalStream",r,t.getUserId());return!t.getUserId().endsWith("render")}}])}();b._remoteContainerId="remoteContainer";b._audioLevelCheckTime=5e3;b.shouldSendLocalStream=true;y([(0,f.printfDecorator)(_)],b.prototype,"setMicrophone",null)},47584:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.WebrtcTrack=void 0;var n=r(14274);var i=r(30265);var o=r(83353);var a=r(62850);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==typeof t?t:t+""}function f(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const h=new a.Log({module:"HwICS.WebrtcTrack"});const p=(e,t)=>i.UserTrack.addUserTrack({arg1:o.Arg1Map.SPARK_RTC,arg2:e,args:{message:JSON.stringify(t)}});let v=t.WebrtcTrack=function(){function e(){s(this,e)}return c(e,[{key:"removedStreamEvent",value:function e(t){return this._streamEvent("stream-removed",t)}},{key:"addStreamEvent",value:function e(t){return this._streamEvent("stream-added",t)}},{key:"updatedStreamEvent",value:function e(t){return this._streamEvent("stream-updated",t)}},{key:"subscribedStreamEvent",value:function e(t){return this._streamEvent("stream-subscribed",t)}},{key:"errorEvent",value:function e(t){p("Error",t)}},{key:"clientBanned",value:function e({reason:t,userId:r}){p("client-banned",{reason:t,userId:r})}},{key:"peerLeaveEvent",value:function e({reason:t,userId:r,userName:n}){p("peer-leave",{reason:t,userId:r,userName:n})}},{key:"kickRoomEvent",value:function e(t){p("kick-room",t)}},{key:"signatureExpiredEvent",value:function e(t){p("signature-expired",t)}},{key:"mediaConnectionStateChangedEvent",value:function e(t){p("media-connection-state-changed",t)}},{key:"networkQualityEvent",value:function e(t){p("network-quality",t)}},{key:"addListener",value:function e(t){if(t){t.on("stream-interrupted",this.interruptedStreamEvent);t.on("cmd-msg-received",this.cmdMsgReceived);t.on("connection-state-changed",this.connectionStateChanged);t.on("mute-audio",this.muteAudioEvent);t.on("unmute-audio",this.unmuteAudioEvent);t.on("mute-video",this.muteVideoEvent);t.on("unmute-video",this.unmuteVideoEvent);t.on("recording-device-changed",this.recordingDeviceChangedEvent);t.on("playback-device-changed",this.playbackDeviceChangedEvent);t.on("stream-recovered",this.streamRecoveredEvent);t.on("media-connection-state-changed",this.mediaConnectionStateChangedEvent);t.on("room-stream-status",this.roomStreamStatusEvent);t.on("network-quality",this.networkQualityEvent)}}},{key:"removeListener",value:function e(t){if(t){t.off("stream-interrupted",this.interruptedStreamEvent);t.off("cmd-msg-received",this.cmdMsgReceived);t.off("connection-state-changed",this.connectionStateChanged);t.off("mute-audio",this.muteAudioEvent);t.off("unmute-audio",this.unmuteAudioEvent);t.off("mute-video",this.muteVideoEvent);t.off("unmute-video",this.unmuteVideoEvent);t.off("recording-device-changed",this.recordingDeviceChangedEvent);t.off("playback-device-changed",this.playbackDeviceChangedEvent);t.off("stream-recovered",this.streamRecoveredEvent);t.off("media-connection-state-changed",this.mediaConnectionStateChangedEvent);t.off("room-stream-status",this.roomStreamStatusEvent);t.off("network-quality",this.networkQualityEvent)}}},{key:"_streamEvent",value:function e(t,r){p(t,{userId:r.stream.getUserId(),type:r.stream.getType()})}},{key:"rtcStatsEvent",value:function e(t){p("rtc-stats",t)}},{key:"cmdMsgReceived",value:function e({msg:t}){p("cmd-msg-received",{msg:t})}},{key:"connectionStateChanged",value:function e({prevState:t,curState:r,code:n,reason:i}){p("connection-state-changed",{prevState:t,curState:r,code:n,reason:i})}},{key:"peerJoinEvent",value:function e({userId:t,userName:r}){p("peer-join",{userId:t,userName:r})}},{key:"muteAudioEvent",value:function e(t){p("mute-audio",t)}},{key:"unmuteAudioEvent",value:function e(t){p("unmute-audio",t)}},{key:"muteVideoEvent",value:function e(t){p("mute-video",t)}},{key:"unmuteVideoEvent",value:function e(t){p("unmute-video",t)}},{key:"recordingDeviceChangedEvent",value:function e(t){p("recording-device-changed",t)}},{key:"playbackDeviceChangedEvent",value:function e(t){p("playback-device-changed",t)}},{key:"streamRecoveredEvent",value:function e(t){p("stream-recovered",t)}},{key:"interruptedStreamEvent",value:function e(t){p("stream-interrupted",t)}},{key:"roomStreamStatusEvent",value:function e(t){p("room-stream-status",t)}}])}();d([(0,n.printfDecorator)(h)],v.prototype,"errorEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"clientBanned",null);d([(0,n.printfDecorator)(h)],v.prototype,"peerLeaveEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"kickRoomEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"signatureExpiredEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"mediaConnectionStateChangedEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"networkQualityEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"addListener",null);d([(0,n.printfDecorator)(h)],v.prototype,"removeListener",null);d([(0,n.printfDecorator)(h)],v.prototype,"cmdMsgReceived",null);d([(0,n.printfDecorator)(h)],v.prototype,"connectionStateChanged",null);d([(0,n.printfDecorator)(h)],v.prototype,"peerJoinEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"muteAudioEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"unmuteAudioEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"muteVideoEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"unmuteVideoEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"recordingDeviceChangedEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"playbackDeviceChangedEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"streamRecoveredEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"interruptedStreamEvent",null);d([(0,n.printfDecorator)(h)],v.prototype,"roomStreamStatusEvent",null)},35391:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(98951);var i=r(62850);var o=r(14274);var a=r(19795);var s=r(84343);var u=r(12262);var c=r(20012);var l=r(34676);var f=r(35520);var d=r(48551);var h=r(33181);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==typeof t?t:t+""}function y(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r){return t=w(t),b(e,S()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}var A=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const R=new i.Log({module:"P2pStreamManager"});const I=[d.JOB_STATE.CANCELED,d.JOB_STATE.FAILED,d.JOB_STATE.PROCESSING,d.JOB_STATE.SUCCEED,d.JOB_STATE.WAITING,d.JOB_STATE.HEARTBEAT];let k=function(e){function t(){p(this,t);return _(this,t,arguments)}T(t,e);return g(t,null,[{key:"createStreamConnector",value:async function e(r){R.info("createStreamConnector",r);t.addListener();t.streamStatistic();await t.statePromise.wait(d.JOB_STATE.PROCESSING);const{answerSdp:n,iceCandidates:i}=await l.SDPManager.getAnswerOffer();if(!n){f.Modal.alert({content:"协商失败，检查是否畅通"});return}t.client.p2pPlay({elementId:"remoteContainer",p2pUserId:"6961a7fff97942aca02fb246f8c27lhj_player",answerSdp:n,iceCandidates:i});(0,a.$dispatch)((0,s.togglePageState)(u.PageState.MAIN))}},{key:"setHeartbeatState",value:function e(r){return t.statePromise.setState(r)}},{key:"unmuteLocalAudio",value:function e(){const r=t.client.localStream;const i=r===null||r===void 0?void 0:r.getAudioHRTCTrack();if(i){var o;r===null||r===void 0?void 0:(o=r.getAudioHRTCTrack())===null||o===void 0?void 0:o.unmuteTrack();return{result:true}}return{result:false,errorCode:n.SDKErrorCode.RTC_NOT_INIT,errorMsg:n.msgMap[n.SDKErrorCode.RTC_NOT_INIT]}}},{key:"muteLocalAudio",value:function e(){const r=t.client.localStream;const n=r===null||r===void 0?void 0:r.getAudioHRTCTrack();if(n){var i;r===null||r===void 0?void 0:(i=r.getAudioHRTCTrack())===null||i===void 0?void 0:i.muteTrack()}return{result:true}}},{key:"unmuteRemoteAudio",value:async function e(){const r=t.client.liveStream;return(r===null||r===void 0?void 0:r.unmuteAudio())||false}},{key:"muteRemoteAudio",value:async function e(){const r=t.client.liveStream;return(r===null||r===void 0?void 0:r.muteAudio())||false}},{key:"checkSignature",value:function e({entry:t}){R.info("checkSignature",t)}},{key:"setSpeaker",value:async function e(r){const n=t.client.liveStream;if(r){await(n===null||n===void 0?void 0:n.setAudioOutput(r))}}},{key:"setMicrophone",value:async function e(t){R.info("setMicrophone",t)}},{key:"destroy",value:async function e(r){R.info("destroy",r);t.client.destroyClient();t.client.stopPlay()}},{key:"startSendLocalStream",value:async function e(r){R.info("startSendLocalStream",r);const n=t.createStream({audio:true});await n.initialize();t.client.publishStream(n);return{result:true}}},{key:"setShouldSendLocalStream",value:function e(t){R.info("setShouldSendLocalStream",t)}},{key:"startLocalRecord",value:async function e(t){R.debug("startLocalRecord",t)}},{key:"stopLocalRecord",value:async function e(){R.info("stopLocalRecord")}},{key:"getLocalMediaStream",value:function e(t){R.info("getLocalMediaStream",t)}},{key:"clearPeerLeaveTimer",value:function e(t){R.info("clearPeerLeaveTimer",t)}}])}(c.P2pSDK);k.statePromise=new h.StatePromise(I);var O=t["default"]=k;A([(0,o.printfDecorator)(R)],k,"setMicrophone",null);A([(0,o.printfDecorator)(R)],k,"destroy",null);A([(0,o.printfDecorator)(R)],k,"startSendLocalStream",null)},20012:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.P2pSDK=void 0;var n=r(5424);var i=l(r(56361));var o=r(14274);var a=r(62850);var s=r(30265);var u=r(25725);var c=r(61129);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=v(e,"string");return"symbol"==typeof t?t:t+""}function v(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(e,t,r){return t=b(t),m(e,_()?Reflect.construct(t,r||[],b(e).constructor):t.apply(e,r))}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var w=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const T=new a.Log({module:"P2pSDK"});i.default.setUserTrackCallback((e=>{s.UserTrack.addUserTrack(e)}));let C=t.P2pSDK=function(e){function t(){f(this,t);return g(this,t,arguments)}E(t,e);return h(t,null,[{key:"setLogLevel",value:function e(t){i.default.setLogLevel(t)}},{key:"streamStatistic",value:function e(){t.client.streamStatistic(true)}},{key:"createStream",value:function e(t){return i.default.createStream(t)}},{key:"addStreamEvent",value:function e(t){T.info("addStreamEvent",t);c.RouteManager.showMainPage()}},{key:"removedStreamEvent",value:function e(){T.info("removedStreamEvent")}},{key:"errorEvent",value:function e(t){T.error("errorEvent",t)}},{key:"networkQualityEvent",value:function e(t){T.info("networkQualityEvent",t)}},{key:"peerJoinEvent",value:function e(){T.info("peerJoinEvent");u.HWIcsElectron.showAdvertise("peerJoinEvent");u.HWIcsElectron.hideAdvertiseMoreInfo("peerJoinEvent")}},{key:"peerLeaveEvent",value:function e(){T.info("peerLeaveEvent")}},{key:"rtcStatsEvent",value:function e(t){T.info("rtcStatsEvent",t)}},{key:"mediaConnectionStateChangedEvent",value:function e(t){T.info("mediaConnectionStateChangedEvent",t)}},{key:"addListener",value:function e(){var r,n,i,o,a,s,u,c;(r=t.client)===null||r===void 0?void 0:r.on("stream-added",t.addStreamEvent);(n=t.client)===null||n===void 0?void 0:n.on("stream-removed",t.removedStreamEvent);(i=t.client)===null||i===void 0?void 0:i.on("Error",t.errorEvent);(o=t.client)===null||o===void 0?void 0:o.on("network-quality",t.networkQualityEvent);(a=t.client)===null||a===void 0?void 0:a.on("rtc-stats",t.rtcStatsEvent);(s=t.client)===null||s===void 0?void 0:s.on("peer-join",t.peerJoinEvent);(u=t.client)===null||u===void 0?void 0:u.on("peer-leave",t.peerLeaveEvent);(c=t.client)===null||c===void 0?void 0:c.on("media-connection-state-changed",t.mediaConnectionStateChangedEvent)}},{key:"removeListener",value:function e(){var r,n,i,o,a,s,u,c;(r=t.client)===null||r===void 0?void 0:r.off("stream-added",t.addStreamEvent);(n=t.client)===null||n===void 0?void 0:n.off("stream-removed",t.removedStreamEvent);(i=t.client)===null||i===void 0?void 0:i.off("Error",t.errorEvent);(o=t.client)===null||o===void 0?void 0:o.off("network-quality",t.networkQualityEvent);(a=t.client)===null||a===void 0?void 0:a.off("rtc-stats",t.rtcStatsEvent);(s=t.client)===null||s===void 0?void 0:s.off("peer-join",t.peerJoinEvent);(u=t.client)===null||u===void 0?void 0:u.off("peer-leave",t.peerLeaveEvent);(c=t.client)===null||c===void 0?void 0:c.off("media-connection-state-changed",t.mediaConnectionStateChangedEvent)}}])}(n.P2pTrack);C.client=i.default.createClient();w([(0,o.printfDecorator)(T)],C,"setLogLevel",null);w([(0,o.printfDecorator)(T)],C,"streamStatistic",null);w([(0,o.printfDecorator)(T)],C,"createStream",null);w([(0,o.printfDecorator)(T)],C,"addStreamEvent",null);w([(0,o.printfDecorator)(T)],C,"removedStreamEvent",null);w([(0,o.printfDecorator)(T)],C,"errorEvent",null);w([(0,o.printfDecorator)(T)],C,"networkQualityEvent",null);w([(0,o.printfDecorator)(T)],C,"peerJoinEvent",null);w([(0,o.printfDecorator)(T)],C,"peerLeaveEvent",null);w([(0,o.printfDecorator)(T)],C,"rtcStatsEvent",null);w([(0,o.printfDecorator)(T)],C,"mediaConnectionStateChangedEvent",null);w([(0,o.printfDecorator)(T)],C,"addListener",null);w([(0,o.printfDecorator)(T)],C,"removeListener",null)},5424:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.P2pTrack=void 0;function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=o(e,"string");return"symbol"==typeof t?t:t+""}function o(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}let s=t.P2pTrack=n((function e(){a(this,e)}))},34676:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.SDPManager=void 0;var n=r(20012);var i=c(r(25157));var o=r(11579);var a=r(38598);var s=r(14274);var u=r(62850);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=p(e,"string");return"symbol"==typeof t?t:t+""}function p(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function v(e,t,r){return t=_(t),g(e,y()?Reflect.construct(t,r||[],_(e).constructor):t.apply(e,r))}function g(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var S=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const w=new u.Log({module:"SDPManager"});let T=t.SDPManager=function(e){function t(){l(this,t);return v(this,t,arguments)}b(t,e);return d(t,null,[{key:"getAnswerOffer",value:async function e(){var r;const n=await t.getLocalSDP();const u=a.ConfigManager.getChatInfo("getAnswerOffer");const c=a.ConfigManager.getPlayerUserInfo("getAnswerOffer");const l=1;const f=2;const d={signature:(c===null||c===void 0?void 0:c.signature)||"",id:(c===null||c===void 0?void 0:c.user_id)||(0,s.getClientId)().toString(),proto:"webrtc",desc:n,pull:[{name:"main",type:l},{name:"main",type:f}]};const h=await i.default.post(o.BaseUrl.POST_MEDIA_NEGOTIATE.replace("{job_id}",(u===null||u===void 0?void 0:u.job_id)||""),d,{headers:{[o.HttpHeaders.AUTH_TOKEN]:((r=a.ConfigManager.getAuthInfo("getAnswerOffer"))===null||r===void 0?void 0:r.access_token)||""}});w.debug("getAnswerOffer",h);return{answerSdp:h.data.desc,iceCandidates:h.data.access}}},{key:"getLocalSDP",value:async function e(){await t.client.createPeerConnection();return t.client.getLocalSDP()}}])}(n.P2pSDK);S([(0,s.printfDecorator)(w)],T,"getAnswerOffer",null);S([(0,s.printfDecorator)(w)],T,"getLocalSDP",null)},94877:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.ImageItem=void 0;var n=r(85893);var i=r(14274);var o=r(62850);r(49377);var a=r(16812);var s=r(19795);var u=r(20552);var c=r(29014);var l=r(38925);var f=r(9395);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=g(e,"string");return"symbol"==typeof t?t:t+""}function g(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e,t,r){return t=T(t),y(e,b()?Reflect.construct(t,r||[],T(e).constructor):t.apply(e,r))}function y(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function E(e,t,r,n){var i=S(T(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof i?function(e){return i.apply(r,e)}:i}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=w(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},S.apply(null,arguments)}function w(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}const R=new o.Log({module:"UI.ImageItem"});let I=t.ImageItem=function(e){function t(e){var r;d(this,t);r=m(this,t,[e]);r.setImgRef=e=>{r.imgElem=e};r.onLoad=async()=>{const{dealLoad:e}=r.props;e===null||e===void 0?void 0:e();r.calcPoint()};r.calcPoint=async()=>{await(0,i.sleep)(10);if(!r.imgElem){R.error("calcPoint not get ref element");return}const{src:e}=r.props;const t=decodeURI(e).replace(/ /g,"");const n=(0,a.getPointByUrl)({url:t,imageWidth:r.imgElem.width,imageHeight:r.imgElem.height});r.setState({pointInfo:n})};r.handleClick=()=>{const{chatId:e}=r.props;const t=(0,u.getMediaId)(e,c.MediaType.IMAGE,0);(0,s.$dispatch)((0,l.showMediaView)());(0,s.$dispatch)((0,l.setMediaViewCurId)(t))};r.state={pointInfo:{pointX:0,pointY:0},zoomRatio:1};return r}C(t,e);return p(t,[{key:"componentDidMount",value:function e(){E(t,"componentDidMount",this,3)([]);if(!this.imgElem){return}const r=this.imgElem.width;const n=this.imgElem.naturalWidth;R.info("componentDidMount",r,n)}},{key:"render",value:function e(){const{src:t,alt:r,title:o,dealError:s,className:u}=this.props;const{pointInfo:c}=this.state;if((0,i.isNullOrEmpty)(t===null||t===void 0?void 0:t.trim())){return null}const l=decodeURI(t).replace(/ /g,"");return(0,n.jsxs)("div",{className:"image-item",children:[(0,n.jsx)("img",{"data-testid":"media-view-show",src:l,alt:r,title:o,onLoad:this.onLoad,onError:s,className:u,ref:this.setImgRef,onClick:this.handleClick}),(0,n.jsx)(a.PointCircle,{left:c.pointX,top:c.pointY})]})}}])}(f.PointCircleContainer)},37747:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.VideoItem=void 0;var n=r(85893);var i=r(14274);const o=e=>{var t,r,o;if((0,i.isNullOrEmpty)((t=e.src)===null||t===void 0?void 0:t.trim())&&(0,i.isNullOrEmpty)((r=e.sources)===null||r===void 0?void 0:r.filter((({src:e})=>e===null||e===void 0?void 0:e.trim())))){return null}return(0,n.jsx)("video",{src:decodeURI(e.src).replace(/ /g,""),controls:e.controls,preload:"metadata",onLoadedMetadata:e.dealLoad,onError:e.dealError,className:e.className,children:e===null||e===void 0?void 0:(o=e.sources)===null||o===void 0?void 0:o.map(((e,t)=>(0,n.jsx)("source",{src:decodeURI(e.src).replace(/ /g,""),type:e.type},t)))})};t.VideoItem=o},93671:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.MediaCard=void 0;var n=r(85893);var i=r(58955);var o=r(74013);var a=r(94877);var s=r(37747);r(28910);var u=r(67294);var c=r(62850);var l=f(r(93967));function f(e){return e&&e.__esModule?e:{default:e}}const d=new c.Log({module:"UI.MediaCard"});const h=({message:e,scrollIntoView:t})=>{const[r,c]=(0,u.useState)(false);const[f,h]=(0,u.useState)(false);if(!(e!==null&&e!==void 0&&e.text)){return null}const p=o.XssManager.getRenderNode(e.text);if(!i.RichTextUtils.hasMedia(p)){return null}const{imgList:v,videoList:g}=i.RichTextUtils.getMediaInfo(p);const m=()=>{var e,r;d.info("dealLoad",v===null||v===void 0?void 0:(e=v[0])===null||e===void 0?void 0:e.src,g===null||g===void 0?void 0:(r=g[0])===null||r===void 0?void 0:r.src);h(true);setTimeout((()=>{t===null||t===void 0?void 0:t()}))};const y=()=>{var e,t;d.error("dealError",v===null||v===void 0?void 0:(e=v[0])===null||e===void 0?void 0:e.src,g===null||g===void 0?void 0:(t=g[0])===null||t===void 0?void 0:t.src);c(true);m()};if(r){return null}if(v[0]){var _;return(0,n.jsx)(a.ImageItem,{chatId:e.chatId,src:((_=v[0])===null||_===void 0?void 0:_.getAttribute("src"))||"",alt:v[0].alt,title:v[0].title,dealLoad:m,dealError:y,className:(0,l.default)("media-card",{show:f})})}if(g[0]){var b,E;const e=[];(b=g[0].querySelectorAll("source"))===null||b===void 0?void 0:b.forEach((t=>{e.push({src:t.src,type:t.type})}));return(0,n.jsx)(s.VideoItem,{src:((E=g[0])===null||E===void 0?void 0:E.getAttribute("src"))||"",sources:e,controls:g[0].controls,dealLoad:m,dealError:y,className:(0,l.default)("media-card",{show:f})})}return null};t.MediaCard=h},9395:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.PointCircleContainer=void 0;var n=r(67294);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=u(e,"string");return"symbol"==typeof t?t:t+""}function u(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function c(e,t,r){return t=h(t),l(e,d()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function l(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}let g=t.PointCircleContainer=function(e){function t(){i(this,t);return c(this,t,arguments)}p(t,e);return a(t,[{key:"componentDidMount",value:function e(){window.addEventListener("documentFontsizeChange",this.calcPoint)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("documentFontsizeChange",this.calcPoint)}},{key:"calcPoint",value:function e(){}}])}(n.Component)},16812:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.getPointByUrl=t.PointCircle=void 0;var n=r(85893);r(93231);var i=r(62850);const o=new i.Log({module:"UI.PointCircle"});const a=e=>{const t=e.size||20;const r={left:e.left-t/2,top:e.top-t/2,width:t,height:t};if(e.left>0&&e.top>0){return(0,n.jsx)("div",{className:"point-circle",style:r})}return null};t.PointCircle=a;let s="";const u=e=>{const{url:t,imageWidth:r,imageHeight:n}=e;try{const e=r/800;const i=new URL(t);const a=Number(i.searchParams.get("xtip"));const u=Number(i.searchParams.get("ytip"));if(s!==JSON.stringify([r,a,u,t])){o.info("getPointByUrl",r,a,u,t);s=JSON.stringify([r,a,u,t])}if(isNaN(a)||isNaN(u)){return{pointX:0,pointY:0}}const c={pointX:a*e,pointY:u*e};if(c.pointX>0&&c.pointX<r&&c.pointY>0&&c.pointY<n){return c}return{pointX:0,pointY:0}}catch(e){o.error("getPointByUrl",t,e);return{pointX:0,pointY:0}}};t.getPointByUrl=u},44423:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(62850);var o=r(14274);var a=r(86706);r(77756);var s=r(93671);var u=r(4757);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t,r){return t=y(t),v(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var E=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const S=new i.Log({module:"UI.RichTextCard"});let w=function(e){function t(){var e;c(this,t);e=p(this,t,arguments);e._getMediaComp=()=>{const{scrollIntoView:t,message:r}=e.props;return(0,n.jsx)(s.MediaCard,{message:r,scrollIntoView:t})};return e}_(t,e);return f(t,[{key:"render",value:function e(){const{currentSayText:t}=this.state;const{message:r}=this.props;if(!r){return null}return(0,n.jsx)("div",{className:"rich-text-card text-card",ref:this._setScrollRef,children:(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)("pre",{children:t===null||t===void 0?void 0:t.trim()}),this._getMediaComp()]})})}}])}(u.TextCard);w=E([(0,o.componentDecorator)(S)],w);const T=e=>({showAllContentChatId:e.caption.showAllContentChatId});var C=t["default"]=(0,a.connect)(T)(w)},4757:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.TextCard=void 0;var n=r(85893);var i=r(67294);var o=r(62850);var a=r(14274);var s=r(13599);var u=r(86706);var c=r(19128);r(87076);var l=r(30265);var f=r(83353);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=g(e,"string");return"symbol"==typeof t?t:t+""}function g(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e,t,r){return t=E(t),y(e,b()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}function y(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var T=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const C=new o.Log({module:"UI.TextCard"});let A=t.TextCard=function(e){function t(e){var r;var n;d(this,t);n=m(this,t,[e]);n.itemId=(0,a.getClientId)();n._updateText=e=>{const{text:t}=n.props;if(n._verbatimObj){n._verbatimObj.updateText(t,e)}else{n.setState({currentSayText:t||""})}};n._checkToShowAll=()=>{const{message:e,showAllContentChatId:t,enableVerbatim:r,text:i}=n.props;return!!(i&&((e===null||e===void 0?void 0:e.messageType)===s.CaptionMessageType.QUESTION||e!==null&&e!==void 0&&e.chatId&&t.includes(e.chatId)||!r))};n._setScrollRef=e=>{if(e){n._scrollElem=e}};n._scrollToBottom=()=>{var e,t;const{enableVerbatim:r}=n.props;(e=(t=n.props).scrollIntoView)===null||e===void 0?void 0:e.call(t);if(n._scrollElem&&r){n._scrollElem.scrollTop=n._scrollElem.scrollHeight}};n.state={currentSayText:""};if(((r=n.props.message)===null||r===void 0?void 0:r.messageType)===s.CaptionMessageType.ANSWER){var i;n._verbatimObj=new c.Verbatim({chatId:(i=n.props.message)===null||i===void 0?void 0:i.chatId,onChange:e=>{if(n.state.currentSayText===e){return}n.setState({currentSayText:e})}})}return n}S(t,e);return p(t,[{key:"componentDidMount",value:function e(){var t,r,n,i;this._updateText("componentDidMount");l.UserTrack.addUserTrack({arg1:f.Arg1Map.MESSAGE_ITEM_RENDER,arg2:"componentDidMount",args:{entry:this.props.itemKey,key:this.itemId.toString(),message:`${(t=this.props.message)===null||t===void 0?void 0:t.timestamp}-${(r=this.props.message)===null||r===void 0?void 0:r.resultId}-${(n=this.props)===null||n===void 0?void 0:(i=n.text)===null||i===void 0?void 0:i.length}`}})}},{key:"componentDidUpdate",value:function e(t,r){var n;if((t===null||t===void 0?void 0:t.text)!==((n=this.props)===null||n===void 0?void 0:n.text)){var i,o,a,s;this._updateText("componentDidUpdate");l.UserTrack.addUserTrack({arg1:f.Arg1Map.MESSAGE_ITEM_RENDER,arg2:"componentDidUpdate",args:{entry:this.props.itemKey,key:this.itemId.toString(),message:`${(i=this.props.message)===null||i===void 0?void 0:i.timestamp}-${(o=this.props.message)===null||o===void 0?void 0:o.resultId}-${(a=this.props)===null||a===void 0?void 0:(s=a.text)===null||s===void 0?void 0:s.length}`}})}if(r.currentSayText!==this.state.currentSayText){this._scrollToBottom();if(this._checkToShowAll()){var u;(u=this._verbatimObj)===null||u===void 0?void 0:u.goToEnd("componentDidUpdate")}}}},{key:"componentWillUnmount",value:function e(){var t;(t=this._verbatimObj)===null||t===void 0?void 0:t.destroy()}},{key:"render",value:function e(){const{currentSayText:t}=this.state;const{message:r}=this.props;if(!r){return null}return(0,n.jsx)("div",{className:"text-card",ref:this._setScrollRef,children:(0,n.jsx)("div",{className:"content",children:(0,n.jsx)("pre",{children:t===null||t===void 0?void 0:t.trim()})})})}}])}(i.Component);t.TextCard=A=T([(0,a.componentDecorator)(C)],A);const R=e=>({showAllContentChatId:e.caption.showAllContentChatId});var I=t["default"]=(0,u.connect)(R)(A)},64999:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);r(71822);const i=()=>(0,n.jsx)("div",{className:"waiting-card box-shadow",children:(0,n.jsx)("div",{className:"content-1"})});var o=t["default"]=i},78577:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=c(r(44423));var o=r(93671);var a=r(21871);var s=c(r(4757));var u=c(r(64999));function c(e){return e&&e.__esModule?e:{default:e}}const l=({showMode:e,message:t,enableVerbatim:r,scrollIntoView:c,itemKey:l,text:f})=>{switch(e){case a.ShowMode.WAITING:return(0,n.jsx)(u.default,{});case a.ShowMode.MEDIA:return(0,n.jsx)(o.MediaCard,{message:t,scrollIntoView:c});case a.ShowMode.TEXT_CONTENT:return(0,n.jsx)(s.default,{message:t,scrollIntoView:c,enableVerbatim:r,itemKey:l,text:f||(t===null||t===void 0?void 0:t.text)});default:return(0,n.jsx)(i.default,{message:t,scrollIntoView:c,enableVerbatim:r,itemKey:l,text:f||(t===null||t===void 0?void 0:t.text)})}};var f=t["default"]=l},48417:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(19795);var o=r(86706);r(3963);var a=r(62850);var s=r(38925);var u=d(r(11949));r(3195);var c=r(16812);var l=r(14274);var f=r(9395);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function y(e,t,r){return t=C(t),_(e,E()?Reflect.construct(t,r||[],C(e).constructor):t.apply(e,r))}function _(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function S(e,t,r,n){var i=w(C(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof i?function(e){return i.apply(r,e)}:i}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=T(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},w.apply(null,arguments)}function T(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}var I=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const k=new a.Log({module:"UI.MediaView"});let O=function(e){function t(e){var n;h(this,t);n=y(this,t,[e]);n.viewer=null;n.clickStartTime=0;n.isMove=false;n.handlePointerDown=()=>{n.isMove=false;n.clickStartTime=Date.now()};n.handlePointerMove=()=>{n.isMove=true};n.handlePointerup=()=>{if(Date.now()-n.clickStartTime<200&&!n.isMove){n.handleClose()}};n.handleClose=()=>{(0,i.$dispatch)((0,s.hideMediaView)())};n.handleChange=e=>{n.setState({activeIndex:e},(()=>{n.calcPoint()}))};n.slidePrev=()=>{var e;(e=n.viewer)===null||e===void 0?void 0:e.prev()};n.slideNext=()=>{var e;(e=n.viewer)===null||e===void 0?void 0:e.next()};n.getExtendRef=e=>{if(e){n.extendElement=e}};n.handleError=async e=>{var t;const i=e.target;if(i){i.src=r(84063);i.onerror=null}await n.initPromise;const{activeIndex:o}=n.state;(t=n.viewer)===null||t===void 0?void 0:t.view(o)};n.init=()=>{const{activeIndex:e}=n.state;let t;n.initPromise=new Promise((e=>t=e));const r={inline:true,backdrop:false,button:false,focus:false,fullscreen:false,loading:true,loop:true,keyboard:true,movable:true,navbar:false,rotatable:true,scalable:true,slideOnTouch:true,title:false,toggleOnDblclick:false,toolbar:false,tooltip:false,transition:true,zoomable:true,zoomOnTouch:true,zoomOnWheel:true,container:".viewer-contianer",ready:()=>{t()},viewed:e=>{n.handleChange(e.detail.index)},zoomed:()=>{n.calcPoint()},zoom:()=>{n.hidePoint()},move:()=>{n.calcPoint()},moved:()=>{n.calcPoint()}};if(!n.containerElement){return}n.viewer=new u.default(n.containerElement,r);n.viewer.view(e)};n.getViewRef=e=>{n.containerElement=e;n.init()};n.calcPoint=()=>{var e,t;if(!n.extendElement){return}const r=(e=n.viewer)===null||e===void 0?void 0:e.imageData;if(n.extendElement&&r){n.extendElement.style.left=r.left+"px";n.extendElement.style.top=r.top+"px";n.extendElement.style.width=r.width+"px";n.extendElement.style.height=r.height+"px"}const{mediaList:i}=n.props;const{activeIndex:o}=n.state;const a=(0,c.getPointByUrl)({url:(t=i[o])===null||t===void 0?void 0:t.src,imageWidth:n.extendElement.clientWidth,imageHeight:n.extendElement.clientHeight});n.setState({pointInfo:a})};n.hidePoint=()=>{n.setState({pointInfo:{pointX:0,pointY:0}})};const{mediaList:o,mediaViewCurId:a}=n.props;const l=Math.max(o.findIndex((e=>e.id===a)),0);n.state={activeIndex:l,total:o.length,pointInfo:{pointX:0,pointY:0}};return n}A(t,e);return v(t,[{key:"componentDidMount",value:function e(){window.addEventListener("resize",(0,l.debounce)((()=>{var e;(e=this.viewer)===null||e===void 0?void 0:e.destroy();this.init()}),100))}},{key:"componentWillUnmount",value:function e(){var r;S(t,"componentWillUnmount",this,3)([]);(r=this.viewer)===null||r===void 0?void 0:r.destroy()}},{key:"componentDidUpdate",value:function e(){const{mediaList:t}=this.props;if(t.length===0){this.handleClose()}}},{key:"render",value:function e(){const{mediaList:t,language:r}=this.props;const{activeIndex:i,total:o,pointInfo:a}=this.state;return(0,n.jsxs)("div",{className:"media-view",children:[(0,n.jsxs)("div",{className:"viewer-contianer",id:"mediaView",onPointerMove:this.handlePointerMove,onPointerUp:this.handlePointerup,onPointerDown:this.handlePointerDown,children:[(0,n.jsx)("div",{className:"media-view-close-tip",children:r.clickToExitPreview}),(0,n.jsxs)("div",{className:"media-view-pages",children:[(i||0)+1,"/",o]}),(0,n.jsx)("div",{style:{display:"none"},ref:this.getViewRef,children:t.map(((e,t)=>(0,n.jsx)("img",{className:"media-view-item-img",alt:"",onError:this.handleError,src:e.src},t)))}),(0,n.jsx)("div",{className:"extend-container",ref:this.getExtendRef,children:(0,n.jsx)(c.PointCircle,{left:a.pointX,top:a.pointY,size:40})})]}),i>0&&(0,n.jsx)("div",{className:"media-view-prev","data-testid":"media-view-prev",onClick:this.slidePrev}),i<o-1&&(0,n.jsx)("div",{className:"media-view-next","data-testid":"media-view-next",onClick:this.slideNext})]})}}])}(f.PointCircleContainer);O=I([(0,l.componentDecorator)(k)],O);const P=e=>({language:e.lang.language,mediaList:e.caption.mediaList,mediaViewCurId:e.mediaView.mediaViewCurId});var M=t["default"]=(0,o.connect)(P)(O)},21470:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.Direction=void 0;var n=r(85893);var i=r(67294);r(54329);var o=r(14274);var a=r(62850);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==typeof t?t:t+""}function f(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t,r){return t=g(t),h(e,v()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var _=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const b=.8;const E=.3;var S;(function(e){e["ROW"]="row";e["COLUMN"]="column"})(S||(t.Direction=S={}));const w=new a.Log({module:"HwICS.UI.ScrollContainer"});let T=function(e){function t(e){var r;s(this,t);r=d(this,t,[e]);r._getContentComp=e=>{const{direction:t}=r.props;if(t===S.ROW){const t=e.join(" ");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:t}),(0,n.jsx)("span",{className:"scroll-container-text-copy",children:t})]})}const i=e.map(((e,t)=>(0,n.jsx)("div",{children:e},t)));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:i}),(0,n.jsx)("div",{className:"scroll-container-text-copy",children:i})]})};r._computeTime=e=>{var t;const{direction:n}=r.props;if(n===S.ROW){return e.join("").length*b}return((t=r.textElem)===null||t===void 0?void 0:t.clientHeight)*E};r._computeSize=e=>{var t,n,i,o;w.debug("_computeSize",e.type||e,{"textElem.clientWidth":(t=r.textElem)===null||t===void 0?void 0:t.clientWidth,"textElem.clientHeight":(n=r.textElem)===null||n===void 0?void 0:n.clientHeight,"contentElem.clientWidth":(i=r.contentElem)===null||i===void 0?void 0:i.clientWidth,"contentElem.clientHeight":(o=r.contentElem)===null||o===void 0?void 0:o.clientHeight});const{direction:a}=r.props;const s=a===S.ROW?"clientWidth":"clientHeight";const u=a===S.ROW?"digital-intelligent-keyframes-move-x":"digital-intelligent-keyframes-move-y";const c=a===S.ROW?"digital-intelligent-keyframes-restart-move-x":"digital-intelligent-keyframes-restart-move-y";if(r.contentElem&&r.textElem){if(r.contentElem[s]===0){return}const e=r.textElem[s]>r.contentElem[s];if(e!==r.state.isScroll){r.setState({isScroll:e,animationName:e?u:c})}}};r._setTextRef=e=>{if(e){r.textElem=e}};r._setContentRef=e=>{if(e){r.contentElem=e}};r.state={isScroll:false,animationName:"move"};return r}m(t,e);return c(t,[{key:"componentDidMount",value:function e(){this._computeSize({type:"componentDidMount"});window.addEventListener("resize",this._computeSize);window.addEventListener("documentFontsizeChange",this._computeSize)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this._computeSize);window.removeEventListener("documentFontsizeChange",this._computeSize)}},{key:"componentDidUpdate",value:function e(t){if(t.data!==this.props.data){this._computeSize({type:"componentDidUpdate"})}}},{key:"render",value:function e(){const{data:t,direction:r}=this.props;const{isScroll:i,animationName:o}=this.state;const a=this._getContentComp(t);const s={"--animation-time":`${this._computeTime(t)}s`,animationName:o};return(0,n.jsx)("div",{className:`scroll-container ${r===S.ROW?"scroll-row":"scroll-column"}`,style:{visibility:t.length>0?"visible":"hidden"},children:(0,n.jsx)("div",{className:"scroll-container-content transparent-scrollbar",ref:this._setContentRef,children:(0,n.jsx)("div",{className:`scroll-container-text ${i?"animation-run":"animation-paused"}`,style:s,ref:this._setTextRef,children:a})})})}}])}(i.Component);T=_([(0,o.componentDecorator)(w)],T);var C=t["default"]=T},19782:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);r(82347);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==typeof t?t:t+""}function c(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e,t,r){return t=p(t),f(e,h()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}let m=function(e){function t(){o(this,t);return l(this,t,arguments)}v(t,e);return s(t,[{key:"render",value:function e(){const{content:t,clickText:r,handleClick:i}=this.props;return(0,n.jsxs)(n.Fragment,{children:[t,(0,n.jsx)("div",{"data-testid":"toastLink",className:"toast-link",onClick:e=>i(e),children:r})]})}}])}(i.Component);var y=t["default"]=m},6070:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.wsRetryToastShow=t.wsRetryToastHide=t.toast=t.ToastItem=void 0;var n=r(85893);var i=r(14274);var o=r(20745);var a=d(r(49153));var s=d(r(19782));var u=r(62850);var c=r(19795);var l=r(38598);var f=r(12262);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=g(e,"string");return"symbol"==typeof t?t:t+""}function g(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}const y=new u.Log({module:"HwICS.UI.Toast"});var _;(function(e){e[e["FIXED"]=0]="FIXED";e[e["UNFIXED"]=1]="UNFIXED"})(_||(_={}));const b=".digital-intelligent-interaction";let E=t.ToastItem=p((function e(t){m(this,e);this.bindToastManager=e=>{this.manager=e;if(this.type===_.UNFIXED){this._task=new i.Timer.TimerTask((()=>this.hide()));this._timerManager&&this._timerManager.cancel().schedule(this._task,this.timeOut)}};this.hide=()=>{y.info("ToastItem hide");this._timerManager&&this._timerManager.cancel();this.show=false;this.manager&&this.manager.render();this._onClose()};this.type=t.type;this.className=t.className||"";this.timeOut=t.timeOut||3e3;this.content=t.content||"";this.entry=t.entry||"";this._onClose=t.onClose||function(){};this.manager=null;this.show=true;this._task=null;this._timerManager=new i.Timer}));let S=p((function e(){m(this,e);this.removeContainerDom=e=>{e+=",removeToastDom";y.info(e);if(this.domNode&&this.root){this.root.unmount();this._container.removeChild(this.domNode);this.domNode=undefined;this.root=undefined}y.info(e,"over")};this.addContainerDom=e=>{if(this.domNode&&this.root){return}this.removeContainerDom(e);this._container=document.querySelector(b);if(!this._container){y.info("addContainerDom not found container");return}this.domNode=document.createElement("div");this._container.appendChild(this.domNode);this.root=(0,o.createRoot)(this.domNode)};this.render=()=>{var e;const t=this.toastShowList.filter((e=>e.show));y.info("render",t.length);(e=this.root)===null||e===void 0?void 0:e.render((0,n.jsx)(a.default,{list:t}))};this.addToastShowList=e=>{y.info("addToastShowList");this.toastShowList=this.toastShowList.filter((e=>e.show&&e.type===_.FIXED));this.toastShowList.push(e);e.bindToastManager(this);this.render()};this.toast=({content:e="no text!",timeOut:t=3e3,className:r="",type:n=_.UNFIXED,onClose:i=()=>{},entry:o=""})=>{try{if(!l.ConfigManager.getConfig(f.ConfigKey.ENABLE_WEAK_ERROR_INFO)){return null}y.info("toast",o,"start",t,r,n);this.addContainerDom(o);const a=new E({type:n,className:r,timeOut:t,content:e,onClose:i,entry:o});this.addToastShowList(a);return a}catch(e){y.error(o,t,r,n,e);return null}};this.domNode=undefined;this.root=undefined;this.toastShowList=[]}));const w=new S;const T=t.toast=w.toast;let C=null;let A;const R=({content:e="no text!",clickText:t="",handleClick:r=()=>{},timeOut:i=3e3,onClose:o=()=>{}})=>w.toast({content:(0,n.jsx)(s.default,{content:e,clickText:t,handleClick:r}),timeOut:i,type:_.FIXED,onClose:o});const I=e=>{y.info("wsRetryToastHide",e,C);if(!C){return}C.hide();C=null;A=false};t.wsRetryToastHide=I;const k=({handleClick:e},t)=>{const{language:r}=(0,c.$getState)().lang;y.info("wsRetryToastShow",t,A);if(A){return}A=true;C=R({content:`${r.webSocketOpenFailed},`,clickText:r.clickToCeconnect,handleClick:()=>{y.info("handleClick",t);e===null||e===void 0?void 0:e();I("handleClick")},onClose:()=>{y.info("onClose",t);C=null;A=false}})};t.wsRetryToastShow=k},8259:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);r(82347);var o=r(14274);var a=r(62850);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==typeof t?t:t+""}function f(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t,r){return t=g(t),h(e,v()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var _=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const b=new a.Log({module:"HwICS.UI.Toast"});let E=function(e){function t(){s(this,t);return d(this,t,arguments)}m(t,e);return c(t,[{key:"render",value:function e(){const{item:t}=this.props;let r=t.className;const i=t.content;r+=" toast-content";return(0,n.jsxs)("div",{className:r,children:[(0,n.jsx)("div",{className:"icon"}),(0,n.jsx)("div",{className:"toast-text",title:i,children:i}),(0,n.jsx)("div",{className:"close","data-testid":"toast-close",onClick:()=>t.hide()})]})}}])}(i.Component);E=_([(0,o.componentDecorator)(b)],E);var S=t["default"]=E},49153:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);r(82347);var o=l(r(8259));var a=r(14274);var s=r(62850);var u=l(r(93967));var c=r(25725);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=v(e,"string");return"symbol"==typeof t?t:t+""}function v(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(e,t,r){return t=b(t),m(e,_()?Reflect.construct(t,r||[],b(e).constructor):t.apply(e,r))}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var w=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const T=new s.Log({module:"HwICS.UI.Toast"});let C=function(e){function t(){f(this,t);return g(this,t,arguments)}E(t,e);return h(t,[{key:"render",value:function e(){const{list:t}=this.props;return(0,n.jsx)("div",{className:(0,u.default)("toast-container",{"in-app":c.HWIcsElectron.isHWIcsElectron()}),children:t.map(((e,t)=>(0,n.jsx)(o.default,{item:e},t)))})}}])}(i.Component);C=w([(0,a.componentDecorator)(T)],C);var A=t["default"]=C},20552:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.stopChatUpdateList=t.getMediaId=t.dealMediaList=t.dealChatList=void 0;var n=r(13599);var i=r(62850);var o=r(14274);var a=r(58955);var s=r(74013);var u=r(29014);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const p=new i.Log({module:"HwICS.store.dealChatList"});const v=e=>{if((e===null||e===void 0?void 0:e.messageType)===n.CaptionMessageType.WAITING_ANSWER){return l({},e)}if((e===null||e===void 0?void 0:e.messageType)===n.CaptionMessageType.QUESTION){return l(l({},e),{},{text:(0,o.handleAccountPrint)(e===null||e===void 0?void 0:e.text)})}return l(l({},e),{},{text:(0,o.handleAccountPrint)(e===null||e===void 0?void 0:e.text),questionText:(0,o.handleAccountPrint)(e===null||e===void 0?void 0:e.questionText)})};const g=(e,t)=>{if(t.messageType===n.CaptionMessageType.QUESTION){if(t.chatId&&e.chatId&&t.chatId!==e.chatId){if(t.isLast){return[e,t,{messageType:n.CaptionMessageType.WAITING_ANSWER,timestamp:Date.now(),chatId:t.chatId}]}return[e,t]}if(t.isLast){return[t,{messageType:n.CaptionMessageType.WAITING_ANSWER,timestamp:Date.now(),chatId:t.chatId}]}return[t]}return[e,t]};const m=(e,t)=>{if(t.messageType===n.CaptionMessageType.QUESTION&&t.isLast){return[e,t,{messageType:n.CaptionMessageType.WAITING_ANSWER,timestamp:Date.now(),chatId:t.chatId}]}if(t.messageType===n.CaptionMessageType.ANSWER){if((0,o.isNullOrEmpty)(t.isLast)){return[e,t]}if(!t.chatId||!e.chatId||t.chatId!==e.chatId){return[e,t]}t.text=e.text+t.text;return[l({},t)]}return[e,t]};const y=(e,t)=>{let r=[...e];t.forEach((e=>{const t=r.pop();if(!t){p.info("dealChatList, no lastMessage",v(e));r=[e];if(e.messageType===n.CaptionMessageType.QUESTION&&e.isLast){r.push({messageType:n.CaptionMessageType.WAITING_ANSWER,timestamp:Date.now(),chatId:e.chatId})}return}switch(t.messageType){case n.CaptionMessageType.QUESTION:r.push(...g(t,e));break;case n.CaptionMessageType.WAITING_ANSWER:r.push(t,e);break;case n.CaptionMessageType.ANSWER:r.push(...m(t,e));break;default:break}p.info("dealChatList",v(t),v(e))}));return r};t.dealChatList=y;const _=e=>{const t=[...e];const r=t.pop();p.info("stopChatUpdateList ",r===null||r===void 0?void 0:r.messageType);if(r&&r.messageType!==n.CaptionMessageType.WAITING_ANSWER){r.isLast=true;t.push(r)}return t};t.stopChatUpdateList=_;const b=(e,t,r)=>[e,t,r].join("_");t.getMediaId=b;const E=e=>{p.debug("dealMediaList",e);const t=[];e.forEach((e=>{const r=s.XssManager.getRenderNode(e.text);p.debug("dealMediaList",r,a.RichTextUtils.hasMedia(r));if(!a.RichTextUtils.hasMedia(r)){return}const{imgList:n,videoList:i}=a.RichTextUtils.getMediaInfo(r);p.debug("dealMediaList",n,i);n.forEach(((r,n)=>{const i=b(e.chatId,u.MediaType.IMAGE,n);t.push({type:u.MediaType.IMAGE,src:decodeURI(r.src).replace(/ /g,""),chatId:e.chatId||"",id:i})}));i.forEach(((r,n)=>{const i=b(e.chatId,u.MediaType.VIDEO,n);t.push({type:u.MediaType.VIDEO,src:decodeURI(r.src).replace(/ /g,""),chatId:e.chatId||"",id:i})}))}));p.debug("dealMediaList end",t);return t};t.dealMediaList=E},51852:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.updateShowAllContentChatId=t.updateCaptionMessageList=t.stopChatUpdateCaptionMessageList=t.resetCaptionState=t.removeWaitingMessage=t.mainSlice=t["default"]=t.clearCaptionMessageList=t.addShowAnswerChatIdList=void 0;var n=r(56831);var i=r(12262);var o=r(20552);var a=r(13599);const s={captionList:[],showAnswerChatIdList:[],showAllContentChatId:[],mediaList:[]};const u=t.mainSlice=(0,n.createSlice)({name:i.ReduxModule.CAPTION,initialState:s,reducers:{resetCaptionState:e=>{Object.assign(e,s)},updateCaptionMessageList:(e,t)=>{e.captionList=(0,o.dealChatList)(e.captionList,t.payload);e.mediaList=(0,o.dealMediaList)(e.captionList)},removeWaitingMessage:e=>{const t=[...e.captionList];const r=t.pop();if(r!==null&&r!==void 0&&r.messageType&&r.messageType!==a.CaptionMessageType.WAITING_ANSWER){t.push(r)}e.captionList=t},stopChatUpdateCaptionMessageList:e=>{e.captionList=(0,o.stopChatUpdateList)(e.captionList)},addShowAnswerChatIdList:(e,t)=>{if(!e.showAnswerChatIdList.includes(t.payload)){e.showAnswerChatIdList=[...e.showAnswerChatIdList,t.payload]}},updateShowAllContentChatId:(e,t)=>{e.showAllContentChatId.push(t.payload)},clearCaptionMessageList:e=>{e.captionList=[];e.showAnswerChatIdList=[];e.showAllContentChatId=[];e.mediaList=[]}}});const{resetCaptionState:c,updateCaptionMessageList:l,clearCaptionMessageList:f,stopChatUpdateCaptionMessageList:d,addShowAnswerChatIdList:h,updateShowAllContentChatId:p,removeWaitingMessage:v}=u.actions;t.removeWaitingMessage=v;t.updateShowAllContentChatId=p;t.addShowAnswerChatIdList=h;t.stopChatUpdateCaptionMessageList=d;t.clearCaptionMessageList=f;t.updateCaptionMessageList=l;t.resetCaptionState=c;var g=t["default"]=u},38925:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.showMediaView=t.setMediaViewCurId=t.mediaViewSlice=t.hideMediaView=t["default"]=void 0;var n=r(56831);var i=r(12262);const o={mediaViewShow:false,mediaViewCurId:""};const a=t.mediaViewSlice=(0,n.createSlice)({name:i.ReduxModule.MEDIAVIEW,initialState:o,reducers:{showMediaView:e=>{e.mediaViewShow=true},hideMediaView:e=>{e.mediaViewShow=false;e.mediaViewCurId=""},setMediaViewCurId:(e,t)=>{e.mediaViewCurId=t.payload}}});const{showMediaView:s,hideMediaView:u,setMediaViewCurId:c}=a.actions;t.setMediaViewCurId=c;t.hideMediaView=u;t.showMediaView=s;var l=t["default"]=a},79633:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.setUiConfig=t.resetConfigState=t.mainSlice=t.initialConfigState=t["default"]=void 0;var n=r(56831);var i=r(12262);const o=t.initialConfigState={[i.ConfigKey.ENABLE_CAPTION]:false,[i.ConfigKey.ENABLE_CHAT_BTN]:false,[i.ConfigKey.ENABLE_HOT_ISSUES]:false,[i.ConfigKey.USE_DEFAULT_TITLE]:false,[i.ConfigKey.ENABLE_BUSINESS_TRACK]:true,[i.ConfigKey.ENABLE_WEAK_ERROR_INFO]:true,[i.ConfigKey.ENABLE_JOB_CACHE]:true,[i.ConfigKey.USE_DEFAULT_BACKGROUND]:true,[i.ConfigKey.ENABLE_NETWORK_CHECK]:true,[i.ConfigKey.ENABLE_DEVICE_SETTING]:false,[i.ConfigKey.SHOW_LANGUAGE_UI]:false,[i.ConfigKey.DESTROY_BEFORE_CLOSE]:false,[i.ConfigKey.ENABLE_LOCAL_WAKEUP]:false,[i.ConfigKey.ENABLE_VAD_INTERRUPT]:false,[i.ConfigKey.FIRST_CREATE_LOCAL_STREAM]:false,[i.ConfigKey.ENABLE_STORAGE_CACHE]:false,[i.ConfigKey.ENABLE_MEDIA_VIEWER]:true};const a=t.mainSlice=(0,n.createSlice)({name:i.ReduxModule.CONFIG,initialState:o,reducers:{resetConfigState:e=>{Object.assign(e,o)},setUiConfig:(e,t)=>{Object.assign(e,t.payload)}}});const{resetConfigState:s,setUiConfig:u}=a.actions;t.setUiConfig=u;t.resetConfigState=s;var c=t["default"]=a},83978:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.toggleShowCaError=t.setWebsocketError=t.setSparkRTCError=t.setHttpError=t.resetErrorState=t.mainSlice=t["default"]=t.clearHttpError=void 0;var n=r(56831);var i=r(12262);var o=r(41483);var a=r(11579);const s=e=>{const{httpError:t}=e;return!!(t!==null&&t!==void 0&&t.error_code&&(t===null||t===void 0?void 0:t.error_code)!==a.RetCodes.SUCCESS&&(t===null||t===void 0?void 0:t.error_code)!==a.MPSRetCodes.SUCCESS)};const u=e=>{const{sparkRTCError:t}=e;return!!(t!==null&&t!==void 0&&t.error_code&&(t===null||t===void 0?void 0:t.error_code)!==o.SparkRTCErrorCode.RTC_ERR_CODE_SUCCESS)};const c=e=>{const{websocketError:t}=e;return!!(t!==null&&t!==void 0&&t.error_code&&(t===null||t===void 0?void 0:t.error_code)!==a.RetCodes.SUCCESS)};const l=e=>{e.showErrorPage=s(e)||u(e)||c(e)};const f={httpError:undefined,websocketError:undefined,sparkRTCError:undefined,showCaError:false,caErrorUrl:"",showErrorPage:false};const d=t.mainSlice=(0,n.createSlice)({name:i.ReduxModule.ERROR,initialState:f,reducers:{resetErrorState:e=>{Object.assign(e,f)},setHttpError:(e,t)=>{if(t.payload&&!e.httpError){e.httpError=t.payload;l(e)}},clearHttpError:e=>{e.httpError=undefined;l(e)},setWebsocketError:(e,t)=>{if(t.payload&&!e.websocketError){e.websocketError=t.payload;l(e)}},setSparkRTCError:(e,t)=>{if(t.payload&&!e.sparkRTCError){e.sparkRTCError=t.payload;l(e)}},toggleShowCaError:(e,t)=>{if(t.payload){e.showCaError=t.payload.showCaError;e.caErrorUrl=t.payload.caErrorUrl;l(e)}}}});const{resetErrorState:h,setHttpError:p,setWebsocketError:v,setSparkRTCError:g,toggleShowCaError:m,clearHttpError:y}=d.actions;t.clearHttpError=y;t.toggleShowCaError=m;t.setSparkRTCError=g;t.setWebsocketError=v;t.setHttpError=p;t.resetErrorState=h;var _=t["default"]=d},19795:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.store=t.$getState=t.$dispatch=void 0;var n=r(56831);var i=g(r(84343));var o=g(r(83978));var a=g(r(51852));var s=g(r(38925));var u=g(r(79633));var c=r(12262);var l=r(30265);var f=r(83353);var d=r(62850);var h=r(78966);var p=r(25427);var v=r(84343);function g(e){return e&&e.__esModule?e:{default:e}}const m=new d.Log({module:"HwICS.store.redux"});const y=[`${c.ReduxModule.CAPTION}/updateShowAllContentChatId`];const _=t.store=(0,n.configureStore)({reducer:{[c.ReduxModule.MAIN]:i.default.reducer,[c.ReduxModule.ERROR]:o.default.reducer,[c.ReduxModule.CAPTION]:a.default.reducer,[c.ReduxModule.MEDIAVIEW]:s.default.reducer,[c.ReduxModule.CONFIG]:u.default.reducer,[c.ReduxModule.LANG]:h.langSlice.reducer},middleware:[()=>e=>t=>{m.debug("redux.action",t);l.UserTrack===null||l.UserTrack===void 0?void 0:l.UserTrack.addUserTrack({arg1:f.Arg1Map.REDUX_ACTION,arg2:t.type,args:{param:y.includes(t.type)?JSON.stringify(t.payload):""}});return e(t)}]});p.ScreenOrientationPolyfill.addChangeEvent((e=>{_.dispatch((0,v.toggleOrientationType)(e))}));const b=t.$dispatch=_.dispatch;const E=t.$getState=_.getState},78966:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.setLanguageList=t.setLangCode=t.setDefaultLanguage=t.resetLangState=t.langSlice=t["default"]=void 0;var n=r(56831);var i=r(12262);var o=c(r(15625));var a=r(51988);var s=c(r(52696));var u=r(33181);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=p(e,"string");return"symbol"==typeof t?t:t+""}function p(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const v={language:o.default,langCode:a.LanguageCode.ZH_CN,languageList:[],defaultLanguage:a.LanguageCode.ZH_CN};const g={[a.LanguageCode.ZH_CN]:o.default,[a.LanguageCode.EN_US]:f(f({},o.default),s.default)};const m=t.langSlice=(0,n.createSlice)({name:i.ReduxModule.LANG,initialState:v,reducers:{resetLangState:e=>{Object.assign(e,v)},setLangCode:(e,t)=>{if(t.payload){const r=u.Utils.formatLangCode(t.payload);e.langCode=r;e.language=g[r]||o.default}},setLanguageList:(e,t)=>{e.languageList=t.payload},setDefaultLanguage:(e,t)=>{var r;e.defaultLanguage=t.payload||a.LanguageCode.ZH_CN;e.languageList=(r=e.languageList)===null||r===void 0?void 0:r.map((t=>f(f({},t),{},{isDefault:t.language===e.defaultLanguage})))}}});const{resetLangState:y,setLangCode:_,setLanguageList:b,setDefaultLanguage:E}=m.actions;t.setDefaultLanguage=E;t.setLanguageList=b;t.setLangCode=_;t.resetLangState=y;var S=t["default"]=m},84343:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.toggleShowLoading=t.togglePageState=t.toggleOrientationType=t.toggleIsShowTransparentBg=t.toggleChatBtnState=t.setRemoteContainerSize=t.setLayoutMode=t.resetMainState=t.mainSlice=t["default"]=void 0;var n=r(56831);var i=r(12262);var o=r(25427);var a=r(62850);var s=r(48551);const u=new a.Log({module:"HwICS.ducks.main"});const c={showLoading:true,loadingContentKey:"",chatBtnState:i.ChatBtnState.INIT,remoteContainerSize:{},pageState:i.PageState.ACTIVATION,orientationType:o.ScreenOrientationPolyfill.type,videoOrientation:o.VidoOrientationTypesMap.LANDSCAPE_PRIMARY,layoutMode:s.LayoutMode.COMPUTER,isShowTransparentBg:false};const l=t.mainSlice=(0,n.createSlice)({name:i.ReduxModule.MAIN,initialState:c,reducers:{resetMainState:e=>{Object.assign(e,c)},toggleShowLoading:(e,t)=>{var r,n;e.showLoading=(r=t.payload)===null||r===void 0?void 0:r.show;e.loadingContentKey=(n=t.payload)===null||n===void 0?void 0:n.contentKey},toggleChatBtnState:(e,t)=>{u.info("toggleChatBtnState",t.payload);e.chatBtnState=t.payload},setRemoteContainerSize:(e,t)=>{const{width:r,height:n}=t.payload;e.remoteContainerSize={width:r,height:n};e.videoOrientation=r>n?o.VidoOrientationTypesMap.LANDSCAPE_PRIMARY:o.VidoOrientationTypesMap.PORTRAIT_PRIMARY},togglePageState:(e,t)=>{e.pageState=t.payload},toggleOrientationType:(e,t)=>{e.orientationType=t.payload},setLayoutMode:(e,t)=>{e.layoutMode=t.payload},toggleIsShowTransparentBg:(e,t)=>{e.isShowTransparentBg=t.payload}}});const{resetMainState:f,toggleShowLoading:d,toggleChatBtnState:h,setRemoteContainerSize:p,togglePageState:v,toggleOrientationType:g,setLayoutMode:m,toggleIsShowTransparentBg:y}=l.actions;t.toggleIsShowTransparentBg=y;t.setLayoutMode=m;t.toggleOrientationType=g;t.togglePageState=v;t.setRemoteContainerSize=p;t.toggleChatBtnState=h;t.toggleShowLoading=d;t.resetMainState=f;var _=t["default"]=l},93367:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.getErrorMessage=void 0;var n=r(11579);var i=r(41483);var o=r(19795);var a=r(98951);const s={[n.RetCodes.DIALOG_CONCURRENT_EXCEED_MAX_VALUE]:"errorDialogConcurrentExceedMaxValue",[n.RetCodes.ACTIVE_CODE_AUTH_FAILED]:"errorActiveCodeAuthFailed",[n.RetCodes.ACTIVE_CODE_AUTH_LOCKED]:"errorActiveCodeAuthLocked",[n.RetCodes.ACTIVE_CODE_AUTH_EXPIRED]:"errorActiveCodeAuthExpired",[n.RetCodes.ONCE_CODE_AUTH_FAILED]:"errorActiveCodeAuthFailed",[n.RetCodes.ONCE_CODE_AUTH_LOCKED]:"errorOnceCodeAuthLocked",[n.RetCodes.SLIDE_VERIFICATON_VERIFY_FAILED]:"jigsawStatusFail",[n.RetCodes.SLIDE_VERIFICATON_VERIFY_FAILED_AND_EXCEED_MAX_TIMES]:"errorSlideVerificatonVerifyFailedAndExceedMaxTimes",[n.RetCodes.FAILED_TO_QUERY_TENANT_ID]:"errorConnectionInterrupted",[n.RetCodes.INTERACTIVE_NUMBER_IS_INSUFFICIENT]:"errorTokenNumberIsInsufficient",[n.RetCodes.TOKEN_NUMBER_IS_INSUFFICIENT]:"errorInteractiveNumberIsInsufficient",[n.RetCodes.GET_DHM_STYLE_FAIL]:"subscriptionResourceHasExpired",[n.RetCodes.RPC_CALL_FAILED]:"errorRPCCallFailed",[n.RetCodes.AIUI_UNAUTHORIZED]:"errorAIUIUnauthorized",[n.RetCodes.SPARK_UNAUTHORIZED]:"errorSpeakUnauthorized",[n.RetCodes.IFLY_APPLICATION_SCENE_CONFIG_ERROR]:"iflytekApplicationSceneConfigError",[n.RetCodes.MOBVOI_QUANTITY_NOT_ENOUGH]:"mobvoiQuantityNotEnough",[n.RetCodes.MOBVOI_UNAUTHORIZED]:"mobvoiUnauthorized",[n.RetCodes.MOBVOI_ROLE_ID_IS_INVALID]:"mobvoiRoleIdIsInvalid",[n.RetCodes.NO_PERMISSION_USE]:"domainIsNotAllowed",[n.RetCodes.SIS_AUTHORIZATION_FAILED]:"SISAuthorizationFailed",[n.RetCodes.CURRENT_LANGUAGE_NOT_SUPPORT_RECOGNITION]:"currentLanguageNotSupportRecognition",[n.RetCodes.SINGLE_TENANT_WEBSOCKET_LINKS_EXCEEDS]:"singleTenantWebsocketLinksExceeds",[n.RetCodes.WEBSOCKET_LINKS_EXCEEDS]:"websocketLinksExceeds",[n.RetCodes.DIALOG_NOT_EXIST]:"DIALOG_NOT_EXIST",[n.RetCodes.RPC_ACTION_NOT_EXIST]:"RPC_ACTION_NOT_EXIST",[n.RetCodes.ICS_EXCEPTION]:"ICS_EXCEPTION",[n.RetCodes.REQUEST_TOO_FREQUENTLY]:"REQUEST_TOO_FREQUENTLY",[n.RetCodes.TENANT_CLEANUP_JOB_STOPPED]:"TENANT_CLEANUP_JOB_STOPPED",[n.RetCodes.ROBOT_NOT_EXIST]:"ROBOT_NOT_EXIST",[n.RetCodes.ROBOT_NO_PERMISSION]:"ROBOT_NO_PERMISSION",[n.RetCodes.START_SMART_CHAT_FAILED]:"START_SMART_CHAT_FAILED",[n.RetCodes.STOP_SMART_CHAT_FAILED]:"STOP_SMART_CHAT_FAILED",[n.RetCodes.SHOW_SMART_CHAT_FAILED]:"SHOW_SMART_CHAT_FAILED",[n.RetCodes.GENERATE_SLIDE_VERIFICATON_FAILED]:"GENERATE_SLIDE_VERIFICATON_FAILED",[n.RetCodes.SLIDE_VERIFICATON_NOT_EXIST]:"SLIDE_VERIFICATON_NOT_EXIST",[n.RetCodes.DIALOG_NO_PERMISSION]:"DIALOG_NO_PERMISSION",[n.RetCodes.HOT_QUESTION_NOT_EXIST]:"HOT_QUESTION_NOT_EXIST",[n.RetCodes.MESSAGE_PARSE_ERROR]:"MESSAGE_PARSE_ERROR",[n.RetCodes.UNKNOWN_ACTION]:"UNKNOWN_ACTION",[n.RetCodes.CONNECT_APP_TIMEOUT]:"CONNECT_APP_TIMEOUT",[n.RetCodes.AUTHTOKEN_INVALID]:"AUTHTOKEN_INVALID",[n.RetCodes.QUERYPARAM_INVALID]:"QUERYPARAM_INVALID",[n.RetCodes.CLIENT_ERROR_MESSAGE]:"CLIENT_ERROR_MESSAGE",[n.RetCodes.WEBCLIENT_START_CHAT_WORKER_DISCONNECT]:"WEBCLIENT_START_CHAT_WORKER_DISCONNECT",[n.RetCodes.CHANNEL_RECORED_NOT_FOUND]:"CHANNEL_RECORED_NOT_FOUND",[n.RetCodes.ICS_NOT_IN_TEXT_MODE]:"ICS_NOT_IN_TEXT_MODE",[n.RetCodes.ICS_TEXT_QUESTION_LENGTH_LIMITED]:"ICS_TEXT_QUESTION_LENGTH_LIMITED",[n.RetCodes.ICS_TEXT_QUESTION_IS_EMPTY]:"ICS_TEXT_QUESTION_IS_EMPTY",[n.RetCodes.ICS_TEXT_QUESTION_NOT_IN_WAIT_QUESTION_STATUS]:"ICS_TEXT_QUESTION_NOT_IN_WAIT_QUESTION_STATUS",[n.RetCodes.ICS_INVALID_INTERACTION_MODE]:"ICS_INVALID_INTERACTION_MODE",[n.RetCodes.MOBVOI_REQUEST_FLOW_LIMITED]:"MOBVOI_REQUEST_FLOW_LIMITED",[n.RetCodes.UPLOAD_LOG_COUNT_EXCEED_MAX_COUNT]:"UPLOAD_LOG_COUNT_EXCEED_MAX_COUNT",[n.RetCodes.ICS_EXTEND_PARAM_INVALID]:"ICS_EXTEND_PARAM_INVALID",[n.RetCodes.PACIFY_WORDS_EXIST]:"PACIFY_WORDS_EXIST",[n.RetCodes.PACIFY_WORDS_COUNT_EXCEED_MAX_VALUE]:"PACIFY_WORDS_COUNT_EXCEED_MAX_VALUE",[n.RetCodes.PACIFY_WORDS_NOT_EXIST]:"PACIFY_WORDS_NOT_EXIST",[n.RetCodes.PACIFY_WORDS_NO_PERMISSION]:"PACIFY_WORDS_NO_PERMISSION",[n.RetCodes.PACIFY_WORDS_INTENT_NOT_SUPPORT]:"PACIFY_WORDS_INTENT_NOT_SUPPORT",[n.RetCodes.ICS_UNMATCHED_APP_TYPE_AIUI]:"ICS_UNMATCHED_APP_TYPE_AIUI",[n.RetCodes.ICS_UNMATCHED_APP_TYPE_SPARK]:"ICS_UNMATCHED_APP_TYPE_SPARK",[n.RetCodes.ICS_THIRD_PARTY_DRIVER_NOT_ALLOWED_WEB_START_CHAT]:"ICS_THIRD_PARTY_DRIVER_NOT_ALLOWED_WEB_START_CHAT",[n.RetCodes.ICS_MEDIA_SERVICE_ADDR_IS_EMPTY]:"ICS_MEDIA_SERVICE_ADDR_IS_EMPTY",[n.RetCodes.ICS_MEDIA_NEGOTIATE_FAILED]:"ICS_MEDIA_NEGOTIATE_FAILED",[n.RetCodes.ICS_SIS_FROZEN_ERROR]:"ICS_SIS_FROZEN_ERROR",[n.RetCodes.ICS_THIRD_PARTY_DRIVE_NOT_ALLOWED_THIS_WEB_MESSAGE]:"ICS_THIRD_PARTY_DRIVE_NOT_ALLOWED_THIS_WEB_MESSAGE",[n.MPSRetCodes.INVALID_PARAMETER]:"invalidParamter",[n.MPSRetCodes.ILLEGAL_ACCESS]:"authorizationExpired",[n.MPSRetCodes.TONE_RESOURCE_ERROR]:"toneResourceError",[n.MPSRetCodes.NO_ENOUGH_RESOURCE]:"errorNoEnoughResource2",[n.MPSRetCodes.REFRESH_ASSET_FAILED]:"refreshAssetFailed",[n.MPSRetCodes.MPS_CHANGE_FINISHED_JOB_STATE_FAILED]:"MPS_CHANGE_FINISHED_JOB_STATE_FAILED",[n.MPSRetCodes.MPS_ROOM_INFO_NOT_FOUND]:"MPS_ROOM_INFO_NOT_FOUND",[n.MPSRetCodes.MPS_TASK_EXPIRED]:"MPS_TASK_EXPIRED",[n.MPSRetCodes.MPS_ASSET_ID_UNAVAILABLE]:"MPS_ASSET_ID_UNAVAILABLE",[n.MPSRetCodes.MPS_JOB_NOT_EXISTED]:"MPS_JOB_NOT_EXISTED",[n.MPSRetCodes.CHAT_QUOTA_INSUFFICIENT]:"errorChatQuotaInsufficient",[n.MPSRetCodes.CONVERSATION_RESOURCE_FULL]:"conversationResourceFull",[n.MPSRetCodes.CHAT_JOBS_NUM_IS_OVER_CONCURRENCY]:"conversationNoResource",[n.MPSRetCodes.CHAT_SUM_CONCURRENCY_OR_JOBS_NUM_IS_OVER_RESOURCES_NUM]:"errorOrderResourcesFull2",[n.MPSRetCodes.MPS_ROOM_NAME_DUPLICATE]:"MPS_ROOM_NAME_DUPLICATE",[n.MPSRetCodes.MPS_JOB_HEARTBEAT_FAILED]:"MPS_JOB_HEARTBEAT_FAILED",[n.MPSRetCodes.MPS_ASSET_ID_INVALID]:"MPS_ASSET_ID_INVALID",[n.MPSRetCodes.MPS_NAME_INCLUDE_INVALID_SYMBOL]:"MPS_NAME_INCLUDE_INVALID_SYMBOL",[n.TTSCRetCodes.TTS_ACCESS_CONFIG_ERROR]:"TTS_ACCESS_CONFIG_ERROR",[n.TTSCRetCodes.TTS_INSUFFICIENT_ACCOUNT_BALANCE]:"ttsInsufficientAccountBalance",[n.TTSCRetCodes.TTS_INVALID_TEXT]:"TTS_INVALID_TEXT",[n.TTSCRetCodes.TTS_NO_ACCESS_CONFIG]:"TTS_NO_ACCESS_CONFIG",[n.TTSCRetCodes.TTS_TO_LONG_WORD_TEXT]:"TTS_INVALID_TEXT",[n.TTSCRetCodes.TTS_UNSUPPORTED_LANGUAGE_TEXT]:"TTS_UNSUPPORTED_LANGUAGE_TEXT",[a.SDKErrorCode.MPS_JOB_STATE_NULL]:"errorConnectionInterrupted",[a.SDKErrorCode.MPS_JOB_STATE_ERROR]:"errorConversationEnded",[a.SDKErrorCode.RTC_PEER_LEAVE]:"errorConversationEnded",[a.SDKErrorCode.RTC_KICK_ROOM]:"errorConversationEnded",[a.SDKErrorCode.RTC_KICK_OUT]:"errorKickOut",[a.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR]:"errorNoAudioDevicePermission",[a.SDKErrorCode.WEBSOCKET_RESPONSE_TIMEOUT]:"requestTimedOutTrayAgain",[a.SDKErrorCode.WEBSOCKET_NETWORK_ERROR]:"errorNetworkError",[a.SDKErrorCode.WEBSOCKET_KICK_OUT]:"errorKickOut",[a.SDKErrorCode.WEBSOCKET_CONNECT_ERROR]:"errorNetworkError",[a.SDKErrorCode.WEBCLIENT_WEBSOCKET_CHANNEL_ABNORMAL]:"WEBCLIENT_WEBSOCKET_CHANNEL_ABNORMAL",[i.SparkRTCErrorCode.RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES]:"errorBrowserNotSupport",[i.SparkRTCErrorCode.RTC_ERR_CODE_ANSWER_SDP_INVALID]:"RTC_ERR_CODE_ANSWER_SDP_INVALID",[i.SparkRTCErrorCode.RTC_ERR_CODE_MEDIA_UPSTREAM_UNSUPPORTED]:"errorBrowserNotSupport",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBRTC_UNSUPPORTED]:"errorBrowserNotSupport",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT]:"errorNetworkError",[i.SparkRTCErrorCode.RTC_ERR_CODE_MEDIA_NETWORK_ERROR]:"mediaLinkEstablishmentFailed",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED]:"errorNetworkError",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBSOCKET_RECONNECT_TIMEOUT]:"errorNetworkError",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBSOCKET_NOT_OPEN]:"errorNetworkError",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBSOCKET_CONNECT_ERROR]:"errorNetworkError",[i.SparkRTCErrorCode.RTC_ERR_CODE_PLAY_NOT_ALLOW]:"errorPlayNotAllow",[i.SparkRTCErrorCode.RTC_ERR_CODE_RTC_SDK_ERROR]:"RTC_ERR_CODE_RTC_SDK_ERROR",[i.SparkRTCErrorCode.RTC_ERR_CODE_WAIT_RSP_TIMEOUT]:"RTC_ERR_CODE_WAIT_RSP_TIMEOUT",[i.SparkRTCErrorCode.RTC_ERR_CODE_INVALID_PARAMETER]:"RTC_ERR_CODE_INVALID_PARAMETER",[i.SparkRTCErrorCode.RTC_ERR_CODE_INVALID_OPERATION]:"RTC_ERR_CODE_INVALID_OPERATION",[i.SparkRTCErrorCode.RTC_ERR_CODE_NO_AVAILABLE_DEVICES]:"RTC_ERR_CODE_NO_AVAILABLE_DEVICES",[i.SparkRTCErrorCode.RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES]:"RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES",[i.SparkRTCErrorCode.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES]:"RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES",[i.SparkRTCErrorCode.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES]:"RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES",[i.SparkRTCErrorCode.RTC_ERR_CODE_STATUS_ERROR]:"RTC_ERR_CODE_STATUS_ERROR",[i.SparkRTCErrorCode.RTC_ERR_CODE_WAIT_CONFIG_FAIL]:"RTC_ERR_CODE_WAIT_CONFIG_FAIL",[i.SparkRTCErrorCode.RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL]:"RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL",[i.SparkRTCErrorCode.RTC_ERR_CODE_REGION_NOT_COVERED]:"RTC_ERR_CODE_REGION_NOT_COVERED",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED]:"RTC_ERR_CODE_WEBSOCKET_INTERRUPTED",[i.SparkRTCErrorCode.RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED]:"RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED",[i.SparkRTCErrorCode.RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED]:"RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED",[i.SparkRTCErrorCode.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND]:"RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND",[i.SparkRTCErrorCode.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE]:"RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE",[i.SparkRTCErrorCode.RTC_ERR_CODE_ROLE_NO_PERMISSION]:"RTC_ERR_CODE_ROLE_NO_PERMISSION",[i.SparkRTCErrorCode.RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED]:"RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED",[i.SparkRTCErrorCode.RTC_ERR_CODE_SIGNATURE_EXPIRED]:"RTC_ERR_CODE_SIGNATURE_EXPIRED",[i.SparkRTCErrorCode.RTC_ERR_CODE_SIGNATURE_INVALID]:"RTC_ERR_CODE_SIGNATURE_INVALID",[i.SparkRTCErrorCode.RTC_ERR_CODE_WINDOW_OR_NAVIGATOR_UNSUPPORTED]:"errorBrowserNotSupport",[i.SparkRTCErrorCode.RTC_ERR_CODE_CHROME_VERSION_UNSUPPORTED]:"errorBrowserNotSupport",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBSOCKET_UNSUPPORTED]:"errorBrowserNotSupport",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBRTC_AVC_ENCODE_UNSUPPORTED]:"errorBrowserNotSupport",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBRTC_AVC_DECODE_UNSUPPORTED]:"errorBrowserNotSupport",[i.SparkRTCErrorCode.RTC_ERR_CODE_WEBRTC_WECHAT_UNSUPPORTED]:"errorBrowserNotSupport",[n.WorkerRetCodes.DHICIS_ERROR]:"DHICIS_ERROR",[n.WorkerRetCodes.DHICIS_INFER_SERVICE_ERROR]:"DHICIS_INFER_SERVICE_ERROR",[n.WorkerRetCodes.DHICIS_TASK_READY_ERROR]:"DHICIS_TASK_READY_ERROR",[n.WorkerRetCodes.DHICIS_CREATE_INFER_MODEL_ERROR]:"DHICIS_CREATE_INFER_MODEL_ERROR",[n.WorkerRetCodes.DHICIS_WORKER_JOIN_ROOM_FAIL]:"DHICIS_WORKER_JOIN_ROOM_FAIL",[n.WorkerRetCodes.DHICIS_MANAGER_SERVICE_ERROR]:"DHICIS_MANAGER_SERVICE_ERROR",[n.WorkerRetCodes.DHICIS_JOB_STOP_BY_COMMAND]:"DHICIS_JOB_STOP_BY_COMMAND",[n.WorkerRetCodes.DHICIS_FSM_STATE_TIME_OUT]:"DHICIS_FSM_STATE_TIME_OUT",[n.WorkerRetCodes.DHICIS_ICS_ERROR]:"DHICIS_ICS_ERROR",[n.WorkerRetCodes.DHICIS_RTSA_ROOM_EMPTY]:"DHICIS_RTSA_ROOM_EMPTY",[n.WorkerRetCodes.DHICIS_RTSA_REPORT_LEAVE_ROOM]:"DHICIS_RTSA_REPORT_LEAVE_ROOM",[n.WorkerRetCodes.DHICIS_MODEL_FILE_DOWN_FAIL]:"DHICIS_MODEL_FILE_DOWN_FAIL",[n.WorkerRetCodes.DHICIS_BACKGROUND_FILE_DOWN_FAIL]:"DHICIS_BACKGROUND_FILE_DOWN_FAIL",[n.WorkerRetCodes.DHICIS_WORKER_JOIN_ROOM_TIMEOUT]:"DHICIS_WORKER_JOIN_ROOM_TIMEOUT",[n.WorkerRetCodes.DHICIS_JOIN_ROOM_TASK_FAIL]:"DHICIS_JOIN_ROOM_TASK_FAIL",[n.WorkerRetCodes.DHICIS_TTS_PREHEAT_TASK_FAIL]:"DHICIS_TTS_PREHEAT_TASK_FAIL",[n.WorkerRetCodes.DHICIS_DATA_PACKAGE_IS_NOT_ZIP]:"DHICIS_DATA_PACKAGE_IS_NOT_ZIP",[n.WorkerRetCodes.DHICIS_TOO_MANY_ENTRIES_IN_PACKAGE]:"DHICIS_TOO_MANY_ENTRIES_IN_PACKAGE",[n.WorkerRetCodes.DHICIS_PACKAGE_TOO_LARGE]:"DHICIS_PACKAGE_TOO_LARGE",[n.WorkerRetCodes.DHICIS_FILE_IN_PACKAGE_TOO_LARGE]:"DHICIS_FILE_IN_PACKAGE_TOO_LARGE",[n.WorkerRetCodes.DHICIS_UNEXPECTED_DIRECTORY_IN_PACKAGE]:"DHICIS_UNEXPECTED_DIRECTORY_IN_PACKAGE",[n.WorkerRetCodes.DHICIS_PACKAGE_ENTRY_ILLEGAL_NAME]:"DHICIS_PACKAGE_ENTRY_ILLEGAL_NAME",[n.WorkerRetCodes.DHICIS_FILE_NAME_INVALID]:"DHICIS_FILE_NAME_INVALID",[n.WorkerRetCodes.DHICIS_JOB_INFO_PARA_INVALID]:"DHICIS_JOB_INFO_PARA_INVALID",[n.WorkerRetCodes.DHICIS_FSM_STATE_ERROR]:"DHICIS_FSM_STATE_ERROR",[n.WorkerRetCodes.DHICIS_TTS_CONVERT_FAIL]:"DHICIS_TTS_CONVERT_FAIL",[n.WorkerRetCodes.DHICIS_NO_IDLE_WORK]:"DHICIS_NO_IDLE_WORK",[n.WorkerRetCodes.DHICIS_NO_RESOURCE]:"DHICIS_NO_RESOURCE",[n.WorkerRetCodes.DHICIS_RESOURCE_LIMITED]:"DHICIS_RESOURCE_LIMITED"};const u=({errorCode:e,useDefaultMsg:t=true})=>{var r;const{language:n}=(0,o.$getState)().lang;if(!e){if(t){return n.ERR_GENERAL}return""}const i=e===null||e===void 0?void 0:(r=e.replace)===null||r===void 0?void 0:r.call(e,"MSS.","");const a=s[e]||s[i]||s[`MSS.${i}`];const u=n[a];if(u){return u}if(t){return n.ERR_GENERAL}return""};t.getErrorMessage=u},19346:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);r(68106);var i=h(r(62058));var o=r(86706);var a=r(14274);var s=r(93367);var u=r(35520);var c=r(62850);var l=r(38598);var f=h(r(42152));var d=r(25725);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==typeof t?t:t+""}function y(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t,r){return t=w(t),b(e,S()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}var A=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const R=new c.Log({module:"HwICS.UI.ErrorPage"});let I=function(e){function t(e){var r;p(this,t);r=_(this,t,[e]);r._pageName="ErrorPage";r._getError=()=>{const{httpError:e,websocketError:t,sparkRTCError:n}=r.props;const i=t||e||n;return i};r._copyErrorInfo=()=>{const{language:e}=r.props;const t="_copyErrorInfo";R.info(t,"init");r._clipboard=new f.default(".error-copy-info",{text:()=>{var e,n,i,o,a,s;R.info(t,"copy start");const u=r.state.error;const c={jobId:(e=l.ConfigManager.getChatInfo(t))===null||e===void 0?void 0:e.job_id,robotId:l.ConfigManager.getRobotId(t),timeStamp:Date.now(),host:(n=l.ConfigManager.getBaseUrl())===null||n===void 0?void 0:n.host,error_code:u===null||u===void 0?void 0:u.error_code,error_msg:u===null||u===void 0?void 0:u.error_msg,request_id:u===null||u===void 0?void 0:u.request_id,error_data:{errorMessage:u===null||u===void 0?void 0:(i=u.data)===null||i===void 0?void 0:(o=i[0])===null||o===void 0?void 0:o.errorMessage,parameter:u===null||u===void 0?void 0:(a=u.data)===null||a===void 0?void 0:(s=a[0])===null||s===void 0?void 0:s.parameter}};return JSON.stringify(c)}});r._clipboard.on("success",(()=>{R.info(t,"copy success");(0,u.Toast)({content:e.copySuccess})}));r._clipboard.on("error",(r=>{R.info(t,"copy error:",JSON.stringify(r));(0,u.Toast)({content:e.copyFail})}))};r._fresh=()=>{R.info("_fresh");location.reload()};r._clipboard=undefined;r.state={};return r}T(t,e);return g(t,[{key:"componentDidMount",value:function e(){this._copyErrorInfo()}},{key:"componentWillUnmount",value:function e(){var t;(t=this._clipboard)===null||t===void 0?void 0:t.destroy()}},{key:"componentDidUpdate",value:function e(){const t=this._getError();if(t!==this.state.error&&(!this.state.error||!t)){this.setState({error:t});t?d.HWIcsElectron.hideAdvertiseMoreInfo("has new error"):d.HWIcsElectron.showAdvertiseMoreInfo("no error")}}},{key:"render",value:function e(){const{showCaError:t,language:r,caErrorUrl:i,showErrorPage:o}=this.props;const a=this.state.error;if(!(a!==null&&a!==void 0&&a.error_code)){return null}if(!o){return null}return(0,n.jsxs)("div",{className:"error-page",children:[(0,n.jsxs)("div",{className:"error-ico",children:[(0,n.jsx)("div",{className:"tip",children:(0,s.getErrorMessage)({errorCode:a===null||a===void 0?void 0:a.error_code})}),(0,n.jsxs)("div",{className:"tip with-copy",children:[a===null||a===void 0?void 0:a.error_code,(0,n.jsx)("div",{className:"error-copy-info",children:r.copyErrorInfo})]}),t&&i&&(0,n.jsx)("a",{className:"error-link",target:"_blank",href:i,children:i})]}),(0,n.jsx)(u.Button,{className:"error-btn",onClick:this._fresh,dataTestid:"error-page-refresh",children:r.refresh})]})}}])}(i.default);I=A([(0,a.componentDecorator)(R)],I);const k=e=>({httpError:e.error.httpError,sparkRTCError:e.error.sparkRTCError,websocketError:e.error.websocketError,showCaError:e.error.showCaError,caErrorUrl:e.error.caErrorUrl,language:e.lang.language,showErrorPage:e.error.showErrorPage});var O=t["default"]=(0,o.connect)(k)(I)},52160:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);var o=r(86706);r(18136);var a=r(19795);var s=r(14274);var u=r(51852);var c=r(62850);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=p(e,"string");return"symbol"==typeof t?t:t+""}function p(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function v(e,t,r){return t=_(t),g(e,y()?Reflect.construct(t,r||[],_(e).constructor):t.apply(e,r))}function g(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var S=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const w=new c.Log({module:"HwICS.UI.ClearBtn"});let T=function(e){function t(){var e;l(this,t);e=v(this,t,arguments);e._onClick=async()=>{w.info("_onClick");(0,a.$dispatch)((0,u.clearCaptionMessageList)())};return e}b(t,e);return d(t,[{key:"render",value:function e(){const{language:t}=this.props;return(0,n.jsxs)("div",{className:"clear-btn box-shadow",onClick:this._onClick,children:[(0,n.jsx)("div",{className:"clear-btn-bg","data-testid":"clearBtn"}),(0,n.jsx)("div",{className:"clear-btn-content",children:t.brandNewConversation})]})}}])}(i.Component);T=S([(0,s.componentDecorator)(w)],T);const C=e=>({language:e.lang.language});var A=t["default"]=(0,o.connect)(C)(T)},61805:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);r(63944);var o=r(86706);var a=r(14274);var s=r(62850);var u=r(49270);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t,r){return t=y(t),v(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var E=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const S=3e3;const w=.8;const T=new s.Log({module:"HwICS.UI.HotIssues"});let C=function(e){function t(e){var r;c(this,t);r=p(this,t,[e]);r._computeSize=e=>{var t,n,i;T.debug("_computeSize",e.type||e,(t=r.textElem)===null||t===void 0?void 0:t.clientWidth,(n=r.textElem)===null||n===void 0?void 0:n.textContent,(i=r.contentElem)===null||i===void 0?void 0:i.clientWidth);if(r.contentElem&&r.textElem){if(r.contentElem.clientWidth===0){return}const e=r.textElem.clientWidth>r.contentElem.clientWidth;if(e!==r.state.isScroll){r.setState({isScroll:e,animationName:e?"digital-intelligent-keyframes-move":"digital-intelligent-keyframes-restart"})}}};r._setTextRef=e=>{if(e){r.textElem=e}};r._setContentRef=e=>{if(e){r.contentElem=e}};r._handleMouseEnter=()=>{r.expandTimer.cancel()};r._handleMouseLeave=()=>{r.expandTimer.cancel().schedule(r.expandTask,S)};r._expandContent=()=>{const{expandStatusChange:e}=r.props;if(!r.state.isExpand){r.setState({isExpand:true});e(true)}};r._expandReset=()=>{const{expandStatusChange:e}=r.props;r.setState({isExpand:false});e(false)};r._getHotQuestion=async()=>{r.setState({hotQuestions:[]});const{langCode:e}=r.props;const t=await u.RtcInfoManager.getInstance().getHotQuestion({language:e,entry:"_getHotQuestion"});if(t&&t.data){r.setState({hotQuestions:t.data.map((e=>e.hot_question))})}};r.state={hotQuestions:[],isExpand:false,isScroll:false,animationName:"move"};const{expandStatusChange:n}=r.props;n(r.state.isExpand);r.expandTimer=new a.Timer;r.expandTask=new a.Timer.TimerTask((()=>{r._expandReset()}));return r}_(t,e);return f(t,[{key:"componentDidMount",value:function e(){this._getHotQuestion();window.addEventListener("resize",this._computeSize);window.addEventListener("documentFontsizeChange",this._computeSize)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this._computeSize);window.removeEventListener("documentFontsizeChange",this._computeSize)}},{key:"componentDidUpdate",value:function e(t,r){if(r.hotQuestions!==this.state.hotQuestions){this._computeSize({type:"componentDidUpdate"})}if(t.langCode!==this.props.langCode){this._getHotQuestion()}}},{key:"render",value:function e(){const{language:t}=this.props;const{hotQuestions:r,isExpand:i,isScroll:o,animationName:a}=this.state;const s=r.map((e=>`“${e}”`));const u=s.join("");const c={"--animation-time":`${u.length*w}s`,animationName:a};return(0,n.jsxs)("div",{className:`hot-issues box-shadow ${i?"expand":"normal"}`,"data-testid":"hot-issues-expand",onClick:this._expandContent,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave,style:{visibility:r.length>0?"visible":"hidden"},children:[(0,n.jsxs)("div",{className:"hot-issues-placeholder",children:[t.guessYouWantToAsk,"："]}),(0,n.jsx)("div",{className:"hot-issues-content transparent-scrollbar",ref:this._setContentRef,children:(0,n.jsxs)("div",{className:`hot-issues-text ${o?"animation-run":"animation-paused"}`,style:i?{}:c,ref:this._setTextRef,children:[i?s.map(((e,t)=>(0,n.jsx)("span",{className:"hot-issues-content-item",children:e},t))):u,!i&&(0,n.jsx)("span",{className:"hot-issues-text-copy",children:u})]})}),i&&(0,n.jsx)("div",{className:"hot-issues-expand","data-testid":"hot-issues-reset",onClick:this._expandReset})]})}}])}(i.Component);C=E([(0,a.componentDecorator)(T)],C);const A=e=>({language:e.lang.language,langCode:e.lang.langCode,captionList:e.caption.captionList});var R=t["default"]=(0,o.connect)(A)(C)},66677:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);var o=r(86706);r(68723);var a=r(14274);var s=r(35520);var u=r(62850);var c=r(50730);var l=r(12262);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=v(e,"string");return"symbol"==typeof t?t:t+""}function v(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(e,t,r){return t=b(t),m(e,_()?Reflect.construct(t,r||[],b(e).constructor):t.apply(e,r))}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var w=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const T=new u.Log({module:"HwICS.UI.StopChatBtn"});let C=function(e){function t(e){var r;f(this,t);r=g(this,t,[e]);r._onClick=async()=>{T.info("_onClick");r.setState({loadingShow:true});await Promise.race([c.ChatManager.interruptSpeaking("stop-chat-btn"),(0,a.sleep)(2e3)]);r.setState({loadingShow:false})};r.state={loadingShow:false};return r}E(t,e);return h(t,[{key:"render",value:function e(){const{loadingShow:t}=this.state;const{language:r,chatBtnState:i,enableVadInterrupt:o}=this.props;let a=r.stopAnswering;if(o){a=r.CLICK_OR_SPEAK_TO_INTERRUPT}return(0,n.jsx)("div",{className:"ai-chat-top-btn-container stop-chat",style:{display:i===l.ChatBtnState.ANSWERING?"flex":"none"},children:(0,n.jsx)(s.Button,{className:"stop-chat-btn box-shadow",dataTestid:"stopChatBtn",onClick:this._onClick,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"stop-chat-btn-bg"}),(0,n.jsx)("div",{className:"stop-chat-btn-content",children:a}),t&&(0,n.jsx)("div",{className:"loading-ico"})]})})})}}])}(i.Component);C=w([(0,a.componentDecorator)(T)],C);const A=e=>({language:e.lang.language,chatBtnState:e.main.chatBtnState,enableVadInterrupt:e.config.enableVadInterrupt});var R=t["default"]=(0,o.connect)(A)(C)},57311:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);r(55462);var o=m(r(93967));var a=r(86706);var s=r(14274);var u=m(r(52160));var c=m(r(61805));var l=m(r(66677));var f=r(12262);var d=r(62850);var h=r(50730);var p=r(25725);var v=r(33181);var g=r(38921);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function b(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e){var t=S(e,"string");return"symbol"==typeof t?t:t+""}function S(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function w(e,t,r){return t=R(t),T(e,A()?Reflect.construct(t,r||[],R(e).constructor):t.apply(e,r))}function T(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}var O=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const P=new d.Log({module:"HwICS.UI.AIChatBtn"});function M(e,t,r){const n={[f.ChatBtnState.INIT]:r.clickToStart,[f.ChatBtnState.LOADING]:r.connecting,[f.ChatBtnState.PLAY]:r.recognizingAndClickToStopV2,[f.ChatBtnState.THINKING]:r.recognizingAndClickToStopV2,[f.ChatBtnState.STOPPING]:r.stopping,[f.ChatBtnState.ANSWERING]:r.answeringV3};if(p.HWIcsElectron.isHWIcsElectron()){const e=p.HWIcsElectron.getWakeupWords();const i=e[t];n[f.ChatBtnState.INIT]=v.Utils.formatLanguage(r.sayHelloToStart,i.startChatWord);n[f.ChatBtnState.PLAY]=v.Utils.formatLanguage(r.sayGoodbyeToStopChatV2,i.stopChatWord);n[f.ChatBtnState.THINKING]=v.Utils.formatLanguage(r.sayGoodbyeToStopChatV2,i.stopChatWord);n[f.ChatBtnState.ANSWERING]=v.Utils.formatLanguage(r.sayStopAnswerToStopSpeaking,i.stopSpeakingWord)}return n[e]}let x=function(e){function t(e){var r;y(this,t);r=w(this,t,[e]);r._clicking=false;r._onClick=async()=>{try{if(!r._clicking){const e=(0,s.createEntry)("AIChatBtn click");r._clicking=true;const{chatBtnState:t}=r.props;if(t===f.ChatBtnState.INIT){await h.ChatManager.startChat({entry:e,interactionMode:g.InteractionMode.AUDIO})}else if(h.ChatManager.canStop()){await h.ChatManager.stopChat({entry:e})}r._clicking=false}}catch(e){P.error("_onClick",e);r._clicking=false}};r._expandStatusChange=e=>{r.setState({isExpand:e})};r.state={isExpand:false};return r}I(t,e);return b(t,[{key:"render",value:function e(){const{chatBtnState:t,enableCaption:r,language:i,captionList:a,enableHotIssues:s,langCode:d}=this.props;const{isExpand:h}=this.state;const p=(0,o.default)("ai-chat-btn box-shadow",{animation:t===f.ChatBtnState.PLAY||t===f.ChatBtnState.THINKING});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"ai-chat-top-btn",children:[(0,n.jsxs)("div",{className:"ai-chat-top-btn-container",style:{display:t!==f.ChatBtnState.ANSWERING?"flex":"none"},children:[(0,n.jsx)("div",{className:"clear-btn-container",style:{visibility:r&&a.length>0&&!h?"visible":"hidden"},children:(0,n.jsx)(u.default,{})}),(0,n.jsx)("div",{className:"hot-container",children:s&&(0,n.jsx)(c.default,{expandStatusChange:this._expandStatusChange})})]}),(0,n.jsx)(l.default,{})]}),(0,n.jsxs)("div",{className:p,children:[(0,n.jsx)("div",{className:"btn-bg-container",children:(0,n.jsx)("div",{id:"ai_chat_btn_ball",className:"btn-bg","data-testid":"aiChatBtn",onClick:this._onClick})}),(0,n.jsx)("div",{className:"ai-chat-btn-content",children:M(t,d,i)})]})]})}}])}(i.Component);x=O([(0,s.componentDecorator)(P)],x);const L=e=>({enableHotIssues:e.config[f.ConfigKey.ENABLE_HOT_ISSUES],chatBtnState:e.main.chatBtnState,captionList:e.caption.captionList,language:e.lang.language,langCode:e.lang.langCode});var D=t["default"]=(0,a.connect)(L)(x)},65559:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(13599);var o=r(67294);var a=r(86706);var s=u(r(49087));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t,r){return t=y(t),v(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}let E=function(e){function t(){c(this,t);return p(this,t,arguments)}_(t,e);return f(t,[{key:"render",value:function e(){const{captionList:t,showAnswerChatIdList:r,hideAvatar:o,showAllContentChatId:a}=this.props;const u=t.filter((e=>{if(e.messageType===i.CaptionMessageType.ANSWER){return r.includes(e.chatId)&&e.text}return e.messageType===i.CaptionMessageType.WAITING_ANSWER||e.text}));return u.map(((e,t)=>{if(e.messageType===i.CaptionMessageType.WAITING_ANSWER&&(t!==u.length-1||a.includes(e.chatId))){return null}return(0,n.jsx)(s.default,{itemKey:e.messageType+t,item:e,isLastMessage:t===u.length-1,hideAvatar:o},e.messageType+t)}))}}])}(o.Component);const S=e=>({captionList:e.caption.captionList,showAnswerChatIdList:e.caption.showAnswerChatIdList,videoOrientation:e.main.videoOrientation,showAllContentChatId:e.caption.showAllContentChatId});var w=t["default"]=(0,a.connect)(S)(E)},27100:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);r(78490);var i=u(r(62058));var o=r(14274);var a=r(62850);var s=u(r(65559));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t,r){return t=y(t),v(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var E=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const S=new a.Log({module:"HwICS.UI.CaptionPageHub"});let w=function(e){function t(){var e;c(this,t);e=p(this,t,arguments);e._pageName="CaptionPageHub";return e}_(t,e);return f(t,[{key:"render",value:function e(){return(0,n.jsx)("div",{className:"caption-hub transparent-scrollbar",children:(0,n.jsx)(s.default,{hideAvatar:true})},"caption-hub")}}])}(i.default);w=E([(0,o.componentDecorator)(S)],w);var T=t["default"]=w},1688:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);r(78490);var i=u(r(62058));var o=r(14274);var a=r(62850);var s=u(r(65559));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t,r){return t=y(t),v(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var E=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const S=new a.Log({module:"HwICS.UI.CaptionPageLandscape"});let w=function(e){function t(){var e;c(this,t);e=p(this,t,arguments);e._pageName="CaptionPageLandscape";return e}_(t,e);return f(t,[{key:"render",value:function e(){return(0,n.jsx)("div",{className:"caption-landscape transparent-scrollbar",children:(0,n.jsx)(s.default,{})},"caption")}}])}(i.default);w=E([(0,o.componentDecorator)(S)],w);var T=t["default"]=w},64760:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);r(78490);var i=u(r(62058));var o=r(14274);var a=r(62850);var s=u(r(65559));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t,r){return t=y(t),v(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var E=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const S=new a.Log({module:"HwICS.UI.CaptionPagePortrait"});let w=function(e){function t(){var e;c(this,t);e=p(this,t,arguments);e._pageName="CaptionPagePortrait";return e}_(t,e);return f(t,[{key:"render",value:function e(){return(0,n.jsx)("div",{className:"caption-portrait transparent-scrollbar",children:(0,n.jsx)("div",{className:"message-container transparent-scrollbar",children:(0,n.jsx)(s.default,{})})},"caption-portrait")}}])}(i.default);w=E([(0,o.componentDecorator)(S)],w);var T=t["default"]=w},49087:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);var o=r(13599);r(34298);var a=r(14274);var s=r(62850);var u=r(25725);var c=d(r(78577));var l=r(21871);var f=d(r(93967));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function y(e,t,r){return t=S(t),_(e,E()?Reflect.construct(t,r||[],S(e).constructor):t.apply(e,r))}function _(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}var C=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const A=new s.Log({module:"HwICS.UI.MessageItem"});let R=function(e){function t(){var e;h(this,t);e=y(this,t,arguments);e._setRef=t=>{if(t){e.itemElem=t}};e._scrollIntoView=()=>{if(e.props.isLastMessage){var t;(t=e.itemElem)===null||t===void 0?void 0:t.scrollIntoView(false)}};return e}w(t,e);return v(t,[{key:"componentDidMount",value:function e(){this._scrollIntoView()}},{key:"render",value:function e(){const{item:t,isLastMessage:r,itemKey:i,hideAvatar:a}=this.props;let s;let d=(0,f.default)("message-item answer",{"width-avatar":!a});const h=(0,n.jsx)("div",{className:"item-content box-shadow",children:(0,n.jsx)(c.default,{itemKey:i,text:t.text,message:t,scrollIntoView:this._scrollIntoView,enableVerbatim:u.HWIcsElectron.isHWIcsElectron()&&r,showMode:l.ShowMode.RICH_TEXT})});switch(t.messageType){case o.CaptionMessageType.WAITING_ANSWER:s=(0,n.jsxs)(n.Fragment,{children:[!a&&(0,n.jsx)("div",{className:"user-ico"}),(0,n.jsx)(c.default,{showMode:l.ShowMode.WAITING,message:t})]});break;case o.CaptionMessageType.QUESTION:d="message-item question";s=(0,n.jsxs)(n.Fragment,{children:[h,!a&&(0,n.jsx)("div",{className:"user-ico"})]});break;case o.CaptionMessageType.ANSWER:s=(0,n.jsxs)(n.Fragment,{children:[!a&&(0,n.jsx)("div",{className:"user-ico"}),h]});break;default:break}return(0,n.jsx)("div",{className:d,ref:this._setRef,children:s})}}])}(i.Component);R=C([(0,a.componentDecorator)(A)],R);var I=t["default"]=R},65981:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=b(r(57311));var o=b(r(6584));r(84313);var a=r(86706);var s=r(14274);var u=b(r(62058));var c=b(r(1688));var l=b(r(64760));var f=r(12262);var d=r(62850);var h=r(25427);var p=r(38598);var v=r(48551);var g=b(r(43715));var m=r(25725);var y=b(r(48417));var _=b(r(93967));function b(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function A(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e){var t=I(e,"string");return"symbol"==typeof t?t:t+""}function I(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function k(e,t,r){return t=x(t),O(e,M()?Reflect.construct(t,r||[],x(e).constructor):t.apply(e,r))}function O(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}var N=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const j=new d.Log({module:"HwICS.UI.ChatContainer"});const U={[v.LayoutMode.HUB]:{width:"45%",left:"50%",top:"20%"},[v.LayoutMode.COMPUTER]:{width:"41.25%",height:"80%",left:"50%",top:"10%"},[v.LayoutMode.MOBILE]:undefined};let B=function(e){function t(e){var r;T(this,t);r=k(this,t,[e]);r._pageName="ChatContainer";r.state={remoteContainerStyle:{width:"100%",height:"100%"},layoutStyle:{}};return r}L(t,e);return A(t,[{key:"componentDidMount",value:function e(){this.setLayoutStyle();this.setRemoteContainerStyle()}},{key:"componentDidUpdate",value:function e(t){const{width:r,height:n}=t.remoteContainerSize;const{width:i,height:o}=this.props.remoteContainerSize;if(r!==i&&n!==o){j.info("componentDidUpdate dispatch remoteContainerSizeChange");window.dispatchEvent(new Event("remoteContainerSizeChange"));this.setLayoutStyle();this.setRemoteContainerStyle()}}},{key:"setLayoutStyle",value:function e(){var t,r;const n=(t=this.props.remoteContainerSize)===null||t===void 0?void 0:t.width;const i=(r=this.props.remoteContainerSize)===null||r===void 0?void 0:r.height;const o=this.props.layoutMode;const a="setLayoutStyle";const u=p.ConfigManager.getChatInfo(a);const c=u===null||u===void 0?void 0:u.chat_subtitle_config;const l=u===null||u===void 0?void 0:u.video_config;const f=S({},U[o]||U[v.LayoutMode.COMPUTER]);if(c&&l&&n&&i){const e=n/l.width;j.info(a,"setLayoutStyle",S({},f),e,c);const t=n*(1-parseFloat(f.width)/100);if(!(0,s.isNullOrEmpty)(c.dx)){f.left=`${Math.max(0,Math.min(e*c.dx,t))}px`}if(!(0,s.isNullOrEmpty)(c.dy)){f.top=`${Math.max(0,e*c.dy)}px`}}this.setState({layoutStyle:f})}},{key:"setRemoteContainerStyle",value:function e(){var t,r;const n=(t=this.props.remoteContainerSize)===null||t===void 0?void 0:t.width;const i=(r=this.props.remoteContainerSize)===null||r===void 0?void 0:r.height;const o={};j.info("setRemoteContainerStyle",n,i);if(n){o.width=`${n}px`}if(i){o.height=`${i}px`}this.setState({remoteContainerStyle:S(S({},this.state.remoteContainerStyle),o)})}},{key:"render",value:function e(){const{enableCaption:t,enableChatBtn:r,videoOrientation:a,layoutMode:s,mediaViewShow:u}=this.props;const{remoteContainerStyle:d,layoutStyle:b}=this.state;let E="";const S=p.ConfigManager.getConfig(f.ConfigKey.ENABLE_MEDIA_VIEWER);const w=m.HWIcsElectron.isHWIcsElectron();let T;if(s===v.LayoutMode.HUB){E=(0,_.default)("caption-container","");T=(0,n.jsx)("div",{className:"caption-container-hub",style:b,children:t&&r?(0,n.jsx)(o.default,{}):null})}else if(a===h.VidoOrientationTypesMap.PORTRAIT_PRIMARY){E=(0,_.default)("caption-container","video-portrait-primary");T=(0,n.jsxs)("div",{className:"caption-container-right",children:[t&&(0,n.jsx)(l.default,{}),r&&(0,n.jsx)(i.default,{enableCaption:t})]})}else{E=(0,_.default)("caption-container","video-landscape-primary");T=(0,n.jsxs)("div",{className:"caption-container-right",style:b,children:[t&&(0,n.jsx)(c.default,{}),r&&(0,n.jsx)(i.default,{enableCaption:t})]})}return(0,n.jsxs)("div",{className:E,style:d,children:[u&&S&&(0,n.jsx)(y.default,{}),T,!w&&(0,n.jsx)(g.default,{className:"page-tools-pos"})]})}}])}(u.default);B=N([(0,s.componentDecorator)(j)],B);const F=e=>({enableCaption:e.config[f.ConfigKey.ENABLE_CAPTION],enableChatBtn:e.config[f.ConfigKey.ENABLE_CHAT_BTN],remoteContainerSize:e.main.remoteContainerSize,videoOrientation:e.main.videoOrientation,mediaViewShow:e.mediaView.mediaViewShow,layoutMode:e.main.layoutMode,language:e.lang.language,langCode:e.lang.langCode});var H=t["default"]=(0,a.connect)(F)(B)},6584:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);r(91378);var o=r(86706);var a=r(14274);var s=r(12262);var u=r(62850);var c=r(25725);var l=r(33181);var f=r(50730);var d=r(13599);var h=r(49270);var p=b(r(21470));var v=r(38921);var g=r(38598);var m=y(r(27100));function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}}function w(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e){var t=C(e,"string");return"symbol"==typeof t?t:t+""}function C(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function A(e,t,r){return t=O(t),R(e,k()?Reflect.construct(t,r||[],O(e).constructor):t.apply(e,r))}function R(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}var x=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const L=new u.Log({module:"HwICS.UI.LayoutHUB"});function D(e,t,r){const n={[s.ChatBtnState.INIT]:r.clickToStart,[s.ChatBtnState.LOADING]:r.activating,[s.ChatBtnState.PLAY]:`${r.I_AM_LISTENING_PLEASE_SPEAK}...`,[s.ChatBtnState.THINKING]:`${r.PLEASE_WAIT}...`,[s.ChatBtnState.STOPPING]:r.stopping,[s.ChatBtnState.ANSWERING]:r.clickToStopAnswer};if(c.HWIcsElectron.isHWIcsElectron()){const e=c.HWIcsElectron.getWakeupWords();const i=e[t];n[s.ChatBtnState.INIT]=l.Utils.formatLanguage(r.sayHelloToStart2,i.startChatWord);n[s.ChatBtnState.ANSWERING]=l.Utils.formatLanguage(r.sayToStopSpeakingHub,i.stopSpeakingWord)}if(g.ConfigManager.getConfig(s.ConfigKey.ENABLE_VAD_INTERRUPT)){n[s.ChatBtnState.ANSWERING]=r.CLICK_OR_SPEAK_TO_INTERRUPT}return n[e]}let N=function(e){function t(e){var r;E(this,t);r=A(this,t,[e]);r._clicking=false;r._useMessageItemIndex=0;r._getBottomShowComp=()=>{const{chatBtnState:e,language:t}=r.props;const{hotQuestions:i}=r.state;if(![s.ChatBtnState.ANSWERING,s.ChatBtnState.INIT,s.ChatBtnState.LOADING,s.ChatBtnState.THINKING].includes(e)&&i.length>0){return(0,n.jsxs)("div",{className:"layout-hub-hot",children:[(0,n.jsxs)("div",{className:"layout-hub-hot-title",children:[t.youCanAlsoAskMe,"："]}),(0,n.jsx)("div",{className:"layout-hub-hot-issues",children:(0,n.jsx)(p.default,{data:i,direction:p.Direction.COLUMN})})]})}return null};r._getLastMessage=()=>{const{captionList:e,showAnswerChatIdList:t,chatBtnState:n}=r.props;if([s.ChatBtnState.INIT,s.ChatBtnState.LOADING].includes(n)){return undefined}const i=e.filter((e=>{if(e.messageType===d.CaptionMessageType.ANSWER){return t.includes(e.chatId)&&e.text}if(e.messageType===d.CaptionMessageType.WAITING_ANSWER){return n!==s.ChatBtnState.THINKING}return!!e.text}));return i[i.length-1]};r._changeColor=e=>{const t=e.match(/[\u201c"][\w\W]+[\u201d"]/);if(!t){return e}const r=t[0];const i=t.index||0;return(0,n.jsxs)("span",{children:[e.substring(0,i),(0,n.jsx)("span",{className:"text-blue",children:r}),e.substring(i+r.length)]})};r._getHotQuestion=async()=>{r.setState({hotQuestions:[]});const{langCode:e}=r.props;const t=await h.RtcInfoManager.getInstance().getHotQuestion({language:e,entry:"_getHotQuestion"});if(t&&t.data){r.setState({hotQuestions:t.data.map((e=>e.hot_question))})}};r._onClick=async()=>{try{if(!r._clicking){const e=(0,a.createEntry)("AIChatBtn click");r._clicking=true;const{chatBtnState:t}=r.props;L.info("_onClick",t);if(t===s.ChatBtnState.INIT){await f.ChatManager.startChat({entry:e,interactionMode:v.InteractionMode.AUDIO})}else if(t===s.ChatBtnState.ANSWERING||t===s.ChatBtnState.THINKING){await f.ChatManager.interruptSpeaking(e)}else if(t===s.ChatBtnState.PLAY){await f.ChatManager.stopChat({entry:e})}r._clicking=false}}catch(e){L.error("_onClick",e);r._clicking=false}};r.state={hotQuestions:[]};return r}P(t,e);return w(t,[{key:"componentDidMount",value:function e(){this._getHotQuestion()}},{key:"componentDidUpdate",value:function e(t){if(t.langCode!==this.props.langCode){this._getHotQuestion()}}},{key:"render",value:function e(){var t,r;const{chatBtnState:i,language:o,langCode:a}=this.props;const u=this._getLastMessage();if(((t=this._preLastMsg)===null||t===void 0?void 0:t.chatId)!==(u===null||u===void 0?void 0:u.chatId)||((r=this._preLastMsg)===null||r===void 0?void 0:r.messageType)!==(u===null||u===void 0?void 0:u.messageType)){this._useMessageItemIndex=1-this._useMessageItemIndex;this._preLastMsg=u}return(0,n.jsxs)("div",{className:"layout-hub",children:[(0,n.jsxs)("div",{className:"layout-hub-top",children:[i===s.ChatBtnState.INIT&&(0,n.jsxs)("div",{className:"layout-hub-sleep btn-bg-container",onClick:this._onClick,children:[(0,n.jsx)("div",{id:"ai_chat_btn_ball",className:"btn-bg","data-testid":"layoutHUBBtnInit"}),(0,n.jsx)("div",{className:"layout-hub-tip",children:this._changeColor(D(i,a,o))})]}),i!==s.ChatBtnState.INIT&&(0,n.jsxs)("div",{className:"layout-hub-action btn-bg-container animation",onClick:this._onClick,children:[i===s.ChatBtnState.PLAY&&(0,n.jsx)("div",{id:"ai_chat_btn_ball",className:"btn-bg","data-testid":"layoutHUBBtn"}),(i===s.ChatBtnState.ANSWERING||i===s.ChatBtnState.THINKING)&&(0,n.jsx)("div",{className:"icon icon-close-mic"}),(0,n.jsx)("div",{className:"layout-hub-tip",children:this._changeColor(D(i,a,o))})]}),i!==s.ChatBtnState.INIT&&(0,n.jsx)("div",{className:"layout-hub-message transparent-scrollbar",children:(0,n.jsx)(m.default,{})})]}),this._getBottomShowComp()]})}}])}(i.Component);N=x([(0,a.componentDecorator)(L)],N);const j=e=>({enableHotIssues:e.config[s.ConfigKey.ENABLE_HOT_ISSUES],chatBtnState:e.main.chatBtnState,captionList:e.caption.captionList,language:e.lang.language,langCode:e.lang.langCode,showAnswerChatIdList:e.caption.showAnswerChatIdList});var U=t["default"]=(0,o.connect)(j)(N)},41952:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(86706);var o=r(35520);var a=r(67294);var s=r(12262);var u=r(3924);const c=e=>{const{language:t,showLoading:r,pageState:i,loadingContentKey:c}=e;const[l,f]=(0,a.useState)(0);(0,a.useEffect)((()=>{if(!r||i===s.PageState.ACTIVATION){return()=>{}}f(0);const e=setInterval((()=>{f((t=>{if(t<99){return t+Math.floor(window.crypto.getRandomValues(new Uint8Array(1))[0]%100/100+.5)}clearInterval(e);return t}))}),u.PROGRESS_INTERVAL);return()=>{clearInterval(e)}}),[r,i]);return(0,n.jsxs)("div",{className:"main-page-loading",children:[(0,n.jsxs)("div",{className:"progress-value",children:[l,"%"]}),(0,n.jsx)("div",{className:"progress",children:(0,n.jsx)(o.LineProgress,{progress:l,color:"linear-gradient(90deg,#1476ff, #14b1ff)",backColor:"rgba(27,29,34,0.13)"})}),(0,n.jsx)("div",{className:"loading-tip",children:c&&t[c]||t.loading})]})};const l=e=>({language:e.lang.language,showLoading:e.main.showLoading,loadingContentKey:e.main.loadingContentKey,pageState:e.main.pageState});var f=t["default"]=(0,i.connect)(l)(c)},74577:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);r(47610);var i=r(86706);var o=l(r(41952));var a=r(14274);var s=l(r(62058));var u=l(r(65981));var c=r(62850);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=v(e,"string");return"symbol"==typeof t?t:t+""}function v(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(e,t,r){return t=b(t),m(e,_()?Reflect.construct(t,r||[],b(e).constructor):t.apply(e,r))}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var w=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const T=new c.Log({module:"MainPage"});let C=function(e){function t(){var e;f(this,t);e=g(this,t,arguments);e._pageName="MainPage";return e}E(t,e);return h(t,[{key:"render",value:function e(){const{showLoading:t}=this.props;return(0,n.jsxs)("div",{className:"main-page",onContextMenu:this.dealContextMenu,children:[t?(0,n.jsx)(o.default,{}):(0,n.jsx)("div",{className:"main-page-container",children:(0,n.jsx)(u.default,{})}),(0,n.jsx)("div",{className:"remote-container",children:(0,n.jsx)("div",{style:{visibility:t?"hidden":"visible"},id:"remoteContainer"})})]})}},{key:"dealContextMenu",value:function e(t){T.info("dealContextMenu",t.currentTarget.className||t.currentTarget.tagName);t.preventDefault()}}])}(s.default);C=w([(0,a.componentDecorator)(T)],C);const A=e=>({showLoading:e.main.showLoading});var R=t["default"]=(0,i.connect)(A)(C)},65653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(85893);var i=r(67294);var o=r(86706);var a=u(r(74577));var s=u(r(19346));r(55628);r(42260);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t,r){return t=y(t),v(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}let E=function(e){function t(){c(this,t);return p(this,t,arguments)}_(t,e);return f(t,[{key:"render",value:function e(){const{useDefaultBackground:t}=this.props;return(0,n.jsxs)("div",{className:`digital-intelligent-interaction ${t?"digital-intelligent-interaction-bg":""}`,children:[(0,n.jsx)(a.default,{}),(0,n.jsx)(s.default,{})]})}}])}(i.Component);const S=e=>({useDefaultBackground:e.config.useDefaultBackground});var w=t["default"]=(0,o.connect)(S)(E)},96930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.SpeakerDevice=t.MicrophoneDevice=t.AudioDevice=void 0;var n=r(62850);var i=r(66541);var o=r(14274);var a=r(22155);var s=r(64680);function u(e,t,r){return t=v(t),c(e,f()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function d(e,t,r,n){var i=h(v(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof i?function(e){return i.apply(r,e)}:i}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=p(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},h.apply(null,arguments)}function p(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function b(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e){var t=S(e,"string");return"symbol"==typeof t?t:t+""}function S(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var w=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const T=new n.Log({module:"HwICS.AudioDeviceManager"});const C=new Set(["communications","default"]);let A=t.AudioDevice=function(){function e(t){y(this,e);this.type="audioinput";this.callbacks=new Set;this.detecting=false;this.deviceLen=0;this.type=t;this.getDevices()}return b(e,[{key:"publishDetect",value:function e(t){this.callbacks.forEach((e=>{var r;return(r=e.onDetect)===null||r===void 0?void 0:r.call(e,t)}))}},{key:"publishDetectStateChange",value:function e(){this.callbacks.forEach((e=>{var t;return(t=e.onDetectStateChange)===null||t===void 0?void 0:t.call(e,this.detecting)}))}},{key:"publishDeviceChange",value:function e(){this.callbacks.forEach((e=>{var t;return(t=e.onDeviceChange)===null||t===void 0?void 0:t.call(e)}))}},{key:"getCacheDevice",value:function e(){return sessionStorage.getItem(this.type)}},{key:"setCacheDevice",value:function e(t){sessionStorage.setItem(this.type,t)}},{key:"getAllDevices",value:async function e(){const t=await navigator.mediaDevices.enumerateDevices();return t.filter((e=>e.deviceId&&!C.has(e.deviceId)))}},{key:"getDevices",value:async function e(){let t=await this.getAllDevices();t=t.filter((e=>e.kind===this.type));this.deviceLen=t.length;const r=await o.MediaDeviceManager.getDefaultDeviceId(this.type);this.defaultDevice=t.find((e=>e.deviceId===r));return t}},{key:"getPreferred",value:async function e(t,r){if(!r){r=await o.MediaDeviceManager.getDefaultDeviceId(this.type)}const n=t.find((e=>r&&e.deviceId===r));if(n){return n}return t[0]}},{key:"isExist",value:async function e(t){if(!t){return false}const r=await this.getDevices();const n=r.find((e=>e.deviceId===t));return!!n}},{key:"getUsed",value:async function e(){const t=await this.getDevices();const r=this.getCacheDevice();return this.getPreferred(t,r||undefined)}},{key:"saveUsed",value:async function e(t){const r=this.getCacheDevice();if(r===t){return true}const n=await this.getDevices();const i=n.find((e=>t&&e.deviceId===t));if(i){this.setCacheDevice(t);this.publishDeviceChange();return true}return false}},{key:"isSupportDeviceSwitch",value:function e(){return true}},{key:"isDetecting",value:function e(){return this.detecting}},{key:"setDetecting",value:function e(t){if(t===this.detecting){return}this.detecting=t;this.publishDetectStateChange()}},{key:"handleDeviceChange",value:async function t(){const r=this.deviceLen;const n=this.defaultDevice;await this.getDevices();if(this.deviceLen===r&&e.isDeviceSame(n,this.defaultDevice)){return}this.publishDeviceChange()}},{key:"subscribe",value:function e(t){this.callbacks.add(t);return()=>this.callbacks.delete(t)}},{key:"startAudioProcess",value:async function e(t){T.debug("startAudioProcess, deviceId",t);const r=new AudioContext;const n=this.getAudioSource(r);if(!n){r.close();return false}await r.audioWorklet.addModule((0,s.getAudioProcessorUrl)());const i=new AudioWorkletNode(r,"AudioVolumeProcessor");n.connect(i).connect(r.destination);i.port.onmessage=e=>{this.publishDetect(e.data)};this.source=n;this.audioContext=r;return true}},{key:"close",value:function e(){this.stopDetect();this.callbacks.clear()}},{key:"stopDetect",value:function e(){if(!this.isDetecting()){return}if(this.source){this.source.disconnect();this.source=undefined}if(this.audioContext){this.audioContext.close();this.audioContext=undefined}this.setDetecting(false)}},{key:"startDetect",value:async function e(t){this.stopDetect();this.setDetecting(true);let r=await this.prepareAudioProcess(t);if(!r){this.stopDetect()}r=await this.startAudioProcess(t);if(!r){this.stopDetect()}}},{key:"prepareAudioProcess",value:async function e(t){T.debug("prepareAudioProcess, deviceId",t);return false}},{key:"getAudioSource",value:function e(t){T.debug("getAudioSource, audioContext",!!t);return undefined}}],[{key:"isDeviceSame",value:function e(t,r){if(t===r){return true}if(!t||!r){return false}return t.deviceId===r.deviceId&&t.groupId===r.groupId}}])}();let R=t.MicrophoneDevice=function(e){function t(){y(this,t);return u(this,t,["audioinput"])}g(t,e);return b(t,[{key:"prepareAudioProcess",value:async function e(t){const r=await this.isExist(t);if(!r){T.warn("cannot start mic test, have no device");return false}const n={audio:{deviceId:{exact:t}},video:false};try{const e=await navigator.mediaDevices.getUserMedia(n);this.stream=e;return true}catch(e){var i;T.error("prepareAudioProcess",e===null||e===void 0?void 0:(i=e.toString)===null||i===void 0?void 0:i.call(e));return false}}},{key:"getAudioSource",value:function e(t){if(!this.stream){return undefined}return t.createMediaStreamSource(this.stream)}},{key:"stopDetect",value:function e(){if(this.stream){this.stream.getTracks().forEach((e=>{e.stop()}))}d(t,"stopDetect",this,3)([])}}])}(A);let I=t.SpeakerDevice=function(e){function t(){var e;y(this,t);e=u(this,t,["audiooutput"]);e.audio=new Audio;return e}g(t,e);return b(t,[{key:"isSupportDeviceSwitch",value:function e(){return"setSinkId"in AudioContext.prototype}},{key:"getAudioSource",value:function e(t){return t.createMediaElementSource(this.audio)}},{key:"prepareAudioProcess",value:async function e(t){T.debug("prepareAudioProcess, deviceId",t);this.audio.src="";this.audio=new Audio("icswebclient/SoundTest.mp3");this.audio.loop=true;this.audio.volume=1;this.audio.onerror=()=>{T.error("prepareAudioProcess load wav failed")};this.audio.play().catch((e=>{var t;T.error("prepareAudioProcess play wav",e===null||e===void 0?void 0:(t=e.toString)===null||t===void 0?void 0:t.call(e))}));return true}},{key:"startAudioProcess",value:async function e(r){var n,i;const o=await this.isExist(r);if(!o){T.warn("cannot start speaker test, have no device");return false}const a=await d(t,"startAudioProcess",this,3)([r]);if(!a){return false}if(this.source&&this.audioContext){this.source.connect(this.audioContext.destination)}await((n=(i=this.audioContext).setSinkId)===null||n===void 0?void 0:n.call(i,r));return true}},{key:"stopDetect",value:function e(){d(t,"stopDetect",this,3)([]);this.audio.pause()}}])}(A);let k=t["default"]=function(){function e(){y(this,e);this.microphone=new R;this.speaker=new I;this.handleDeviceChange=async()=>{await this.speaker.handleDeviceChange();await this.microphone.handleDeviceChange()}}return b(e,[{key:"initDeviceAndListeners",value:async function e(){const[t,r]=await Promise.all([this.speaker.getUsed(),this.microphone.getUsed()]);T.info("initDeviceAndListeners",t===null||t===void 0?void 0:t.deviceId,r===null||r===void 0?void 0:r.deviceId);i.StreamAdapter.setSpeaker(t===null||t===void 0?void 0:t.deviceId);this.speaker.subscribe({onDeviceChange:async()=>{const e=await this.speaker.getUsed();T.info("initDeviceAndListeners, change speaker",e===null||e===void 0?void 0:e.deviceId);if(e){i.StreamAdapter.setSpeaker(e.deviceId)}}});i.StreamAdapter.setMicrophone(r===null||r===void 0?void 0:r.deviceId);this.microphone.subscribe({onDeviceChange:async()=>{const e=await this.microphone.getUsed();T.info("initDeviceAndListeners, change microphone",e===null||e===void 0?void 0:e.deviceId);if(e){i.StreamAdapter.setMicrophone(e===null||e===void 0?void 0:e.deviceId);a.LocalWakeup.updateMicrophoneDevice(e.deviceId)}}});navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceChange)}}],[{key:"getInstance",value:function t(){if(!e.ins){e.ins=new e}return e.ins}}])}();w([(0,o.printfDecorator)(T)],k.prototype,"initDeviceAndListeners",null);k.getInstance().initDeviceAndListeners()},38598:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.ConfigManager=void 0;var n=r(14274);var i=r(19795);var o=r(79633);var a=r(62850);var s=r(30265);var u=d(r(88789));var c=r(48551);var l=r(84343);var f=r(41850);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=b(e,"string");return"symbol"==typeof t?t:t+""}function b(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const E=new a.Log({module:"HwICS.ConfigManager"});const S=m({},o.initialConfigState);let w=t.ConfigManager=function(){function e(){h(this,e)}return v(e,null,[{key:"setConfig",value:function t(r){if((0,n.formatType)(r)===n.formatType.OBJECT){Object.keys(r).forEach((t=>{e._config[t]=r[t]}))}if((r===null||r===void 0?void 0:r.enableBusinessTrack)===false){u.default.setParameter("STATISTIC_ENABLE","off");s.UserTrack.toggleBusinessTrack({enableBusinessTrack:false});f.HwKwsWakeup.enableTrack(false)}else{u.default.setParameter("STATISTIC_ENABLE","on");s.UserTrack.toggleBusinessTrack({enableBusinessTrack:true});f.HwKwsWakeup.enableTrack(true)}E.info("setConfig",e._config);(0,i.$dispatch)((0,o.setUiConfig)(e._config))}},{key:"getConfig",value:function t(r){if(e.cacheConfig[r]!==e._config[r]){E.info("getConfig",r,e._config[r]);e.cacheConfig[r]=e._config[r]}return e._config[r]}},{key:"getChatInfo",value:function t(r){var n;E.info("getChatInfo",r,(n=e._chatInfo)===null||n===void 0?void 0:n.job_id);return e._chatInfo}},{key:"getPlayerUserInfo",value:function t(r){var n,i,o;const a=(n=e._chatInfo)===null||n===void 0?void 0:(i=n.rtc_room_info)===null||i===void 0?void 0:(o=i.users)===null||o===void 0?void 0:o.find((({user_type:e})=>e===c.USER_TYPE.PLAYER));E.info("getPlayerUserInfo",r,a===null||a===void 0?void 0:a.user_id,a===null||a===void 0?void 0:a.ctime);return a}},{key:"setChatInfo",value:function t({chatInfo:r,entry:n}){E.info("setChatInfo",n);e._chatInfo=r;if(r&&Object.prototype.hasOwnProperty.call(r,"is_transparent")){(0,i.$dispatch)((0,l.toggleIsShowTransparentBg)(r.is_transparent))}}},{key:"updateAuthInfo",value:function t({authInfo:r,entry:n}){E.debug("updateAuthInfo",n,r);e._authInfo=r;s.UserTrack.updateUtParam({random:r===null||r===void 0?void 0:r.access_token,baseUrl:e._baseUrl});f.HwKwsWakeup.setIcsToken((r===null||r===void 0?void 0:r.access_token)||"")}},{key:"getAuthInfo",value:function t(r){E.debug("getAuthInfo",r,e._authInfo);return e._authInfo}},{key:"setInitParam",value:function t(r){E.info("setInitParam",r);e._baseUrl=new URL(r.serverAddress);if(r.robotId){e._robotId=r.robotId}else if(r.taskUrl){e._robotId=n.UrlUtil.getSearchValue(r.taskUrl,"robot_id")||""}if(!r.config){r.config={}}e.setConfig(m(m({},S),r.config));e._container=document.getElementById((r===null||r===void 0?void 0:r.containerId)||"")||document.body;e._extendParamStr=r.extendParamStr||"";s.UserTrack.updateUtParam({robotId:e._robotId,customInfoStr:e._extendParamStr,enableStorageCache:r.config.enableStorageCache})}},{key:"getContainerDom",value:function t(){return e._container}},{key:"getBaseUrl",value:function t(){E.debug("getBaseUrl",e._baseUrl);return e._baseUrl}},{key:"getExtendParamStr",value:function t(){E.debug("getExtendParamStr",e._extendParamStr);return e._extendParamStr}},{key:"getRobotId",value:function t(r){E.debug("getRobotId",r,e._robotId);return e._robotId}},{key:"clearAuthInfo",value:function t(r){E.info("clearAuthInfo",r);delete e._authInfo}},{key:"clearChatInfo",value:function t(r){E.info("clearChatInfo",r);delete e._chatInfo}},{key:"clearConfig",value:function t(){E.info("clearConfig");(0,i.$dispatch)((0,o.resetConfigState)());e._config={};delete e._baseUrl;e._robotId="";e._extendParamStr="";delete e._container;u.default.setParameter("STATISTIC_ENABLE","on");s.UserTrack.resetUtParam()}},{key:"isGammaEnv",value:function t(){var r,i;const o=e.getChatInfo("isGammaEnv");E.info("isGammaEnv",o===null||o===void 0?void 0:(r=o.rtc_room_info)===null||r===void 0?void 0:r.app_id);return(o===null||o===void 0?void 0:(i=o.rtc_room_info)===null||i===void 0?void 0:i.app_id)==="cbu_hmac"||n.UrlUtil.checkIPV4Url((o===null||o===void 0?void 0:o.media_access_url)||"")}}])}();w._config=m({},S);w.cacheConfig={};w._robotId="";w._extendParamStr=""},91194:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.EventManager=void 0;var n=r(14274);var i=r(83353);var o=r(54073);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=l(e,"string");return"symbol"==typeof t?t:t+""}function l(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};let d=t.EventManager=function(){function e(){a(this,e)}return u(e,null,[{key:"addEventListeners",value:function t(r){if((0,n.formatType)(r)===n.formatType.OBJECT){Object.keys(r).forEach((t=>{e._eventMap[t]=r[t]}))}}},{key:"dispatchICSEvent",value:function t(r,n){var i,o;(i=(o=e._eventMap)[r])===null||i===void 0?void 0:i.call(o,n)}},{key:"clearEventListeners",value:function t(){e._eventMap={}}}])}();d._eventMap={};f([(0,o.methodDecorator)(i.Arg1Map.HWICSUISDK_NOTIFY)],d,"dispatchICSEvent",null)},25725:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.HWIcsElectron=void 0;var n=r(62850);var i=r(51988);var o=r(14274);var a=r(33181);var s=r(38598);var u=r(59578);var c=r(12262);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var y=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const _=new n.Log({module:"HwICS.HWIcsElectron"});let b=t.HWIcsElectron=function(){function e(){h(this,e)}return v(e,null,[{key:"isHWIcsElectron",value:function e(){return!!window.hwIcsElectron&&(navigator.userAgent.includes("Electron")||navigator.userAgent.includes("IntelligentInteraction"))}},{key:"registerWakeup",value:function e(t){var r,n;_.info("registerWakeup");(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.registerWakeup)===null||n===void 0?void 0:n.call(r,t)}},{key:"registerUserTrack",value:function e(t){var r,n;_.info("registerUserTrack");(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.registerUserTrack)===null||n===void 0?void 0:n.call(r,t)}},{key:"registerMaximize",value:function e(t){var r,n;_.info("registerMaximize");(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.registerMaximize)===null||n===void 0?void 0:n.call(r,t)}},{key:"registerMinimize",value:function e(t){var r,n;_.info("registerMinimize");(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.registerMinimize)===null||n===void 0?void 0:n.call(r,t)}},{key:"registerUnMaximize",value:function e(t){var r,n;_.info("registerUnMaximize");(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.registerUnMaximize)===null||n===void 0?void 0:n.call(r,t)}},{key:"maximizeWindow",value:function e(){var t,r;_.info("maximizeWindow");(t=window.hwIcsElectron)===null||t===void 0?void 0:(r=t.maximizeWindow)===null||r===void 0?void 0:r.call(t)}},{key:"minimizeWindow",value:function e(){var t,r;_.info("minimizeWindow");(t=window.hwIcsElectron)===null||t===void 0?void 0:(r=t.minimizeWindow)===null||r===void 0?void 0:r.call(t)}},{key:"unMaximizeWindow",value:function e(){var t,r;_.info("unMaximizeWindow");(t=window.hwIcsElectron)===null||t===void 0?void 0:(r=t.unMaximizeWindow)===null||r===void 0?void 0:r.call(t)}},{key:"closeWindow",value:function e(){var t,r;_.info("closeWindow");(t=window.hwIcsElectron)===null||t===void 0?void 0:(r=t.closeWindow)===null||r===void 0?void 0:r.call(t)}},{key:"isMaximizedWindow",value:async function e(){var t,r;_.info("isMaximizedWindow start");const n=await((t=window.hwIcsElectron)===null||t===void 0?void 0:(r=t.isMaximizedWindow)===null||r===void 0?void 0:r.call(t));_.info("isMaximizedWindow result: ",n);return n}},{key:"getAppLangCode",value:async function e(){var t,r;_.info("getAppLangCode start");const n=await((t=window.hwIcsElectron)===null||t===void 0?void 0:(r=t.getAppLang)===null||r===void 0?void 0:r.call(t));_.info("getAppLangCode result: ",n);return a.Utils.formatLangCode(n)}},{key:"setJobInfo",value:function e(t){var r,n;_.info("setJobInfo",t);(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.setJobInfo)===null||n===void 0?void 0:n.call(r,t)}},{key:"getWakeupWords",value:function e(){var t,r;_.info("getWakeupWords");return((t=window.hwIcsElectron)===null||t===void 0?void 0:(r=t.getWakeupWords)===null||r===void 0?void 0:r.call(t))||{[i.LanguageCode.ZH_CN]:{startChatWord:"你好 云笙",stopChatWord:"再见 云笙",stopSpeakingWord:"停止回答"},[i.LanguageCode.EN_US]:{startChatWord:"Hello sara",stopChatWord:"Goodbye sara",stopSpeakingWord:"Stop answer"}}}},{key:"showAdvertise",value:function e(t){var r,n;_.info("showAdvertise",t);(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.showAdvertise)===null||n===void 0?void 0:n.call(r)}},{key:"hideAdvertise",value:function e(t){var r,n;_.info("hideAdvertise",t);(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.hideAdvertise)===null||n===void 0?void 0:n.call(r)}},{key:"hideAdvertiseStartSpeak",value:function e(t){var r,n;_.info("hideAdvertiseStartSpeak",t);(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.hideAdvertiseStartSpeak)===null||n===void 0?void 0:n.call(r)}},{key:"showAdvertiseMoreInfo",value:function e(t){var r,n;_.info("showAdvertiseMoreInfo",t);(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.showAdvertiseMoreInfo)===null||n===void 0?void 0:n.call(r)}},{key:"hideAdvertiseMoreInfo",value:function e(t){var r,n;_.info("hideAdvertiseMoreInfo",t);(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.hideAdvertiseMoreInfo)===null||n===void 0?void 0:n.call(r)}},{key:"addConfig",value:async function e(t){var r,n;_.info("addConfig",t.entry,t.key);return(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.addConfig)===null||n===void 0?void 0:n.call(r,t.key,JSON.stringify(t.value))}},{key:"queryConfig",value:async function e(t){try{var r,n;_.info("queryConfig",t);const e=await((r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.queryConfig)===null||n===void 0?void 0:n.call(r,t.key));if(e){return JSON.parse(e)}return null}catch(e){_.error("queryConfig",t,e);return null}}},{key:"deleteConfig",value:function e(t){var r,n;_.info("deleteConfig",t);return(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.deleteConfig)===null||n===void 0?void 0:n.call(r,t.key)}},{key:"saveAuthInfo",value:async function t(r){var n;_.info("saveAuthInfo",r.entry);const i=await u.StorageManager.formatKey(e._cacheAuthInfoKey);if(i===e._cacheAuthInfoKey&&a.Utils.functionCheck((n=window.hwIcsElectron)===null||n===void 0?void 0:n.saveAuthInfo)){var o;return(o=window.hwIcsElectron)===null||o===void 0?void 0:o.saveAuthInfo(r.value)}return e.addConfig({key:i,value:r.value,entry:`${r.entry},saveAuthInfo`})}},{key:"queryAuthInfo",value:async function t(r){var n;_.info("queryAuthInfo",r);const i=await u.StorageManager.formatKey(e._cacheAuthInfoKey);if(i===e._cacheAuthInfoKey&&a.Utils.functionCheck((n=window.hwIcsElectron)===null||n===void 0?void 0:n.queryAuthInfo)){return window.hwIcsElectron.queryAuthInfo()}return e.queryConfig({key:i,entry:`${r},queryAuthInfo`})}},{key:"deleteAuthInfo",value:async function t(r){var n;_.info("deleteAuthInfo",r);const i=await u.StorageManager.formatKey(e._cacheAuthInfoKey);if(i===e._cacheAuthInfoKey&&a.Utils.functionCheck((n=window.hwIcsElectron)===null||n===void 0?void 0:n.deleteAuthInfo)){return window.hwIcsElectron.deleteAuthInfo()}return e.deleteConfig({key:i,entry:`${r},deleteAuthInfo`})}},{key:"callCloudWatch",value:function e(t){var r,n;_.info("callCloudWatch",t);return(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.callCloudWatch)===null||n===void 0?void 0:n.call(r)}},{key:"registerMethod",value:function e(t){var r,n;_.info("registerMethod");(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.registerMethod)===null||n===void 0?void 0:n.call(r,t)}},{key:"saveChatInfo",value:async function t(r,n){try{var i,o;const t=s.ConfigManager.getRobotId(n);const l={job_id:r.job_id,chat_subtitle_config:r.chat_subtitle_config,video_config:r.video_config,chat_access_address:r.chat_access_address,chat_access_rest_address:r.chat_access_rest_address,media_access_url:r.media_access_url,region:r.region,voice_config_list:r.voice_config_list,default_language:r.default_language,deployment_mode:r.deployment_mode,cacheRobotId:t,enableVadInterrupt:s.ConfigManager.getConfig(c.ConfigKey.ENABLE_VAD_INTERRUPT)};_.info("saveChatInfo",n,l);const d=await u.StorageManager.formatKey(e.cacheJobInfoKey);if(d===e.cacheJobInfoKey&&a.Utils.functionCheck((i=window.hwIcsElectron)===null||i===void 0?void 0:i.saveChatInfo)){return window.hwIcsElectron.saveChatInfo(f(f({},r),{},{cacheRobotId:t,enableVadInterrupt:s.ConfigManager.getConfig(c.ConfigKey.ENABLE_VAD_INTERRUPT)}))}if(a.Utils.functionCheck((o=window.hwIcsElectron)===null||o===void 0?void 0:o.addConfig)){return e.addConfig({key:d,value:f(f({},r),{},{cacheRobotId:t,enableVadInterrupt:s.ConfigManager.getConfig(c.ConfigKey.ENABLE_VAD_INTERRUPT)}),entry:`${n},saveChatInfo`})}return u.StorageManager.setLocalStorageItem({key:e.cacheJobInfoKey,value:JSON.stringify(l),isForce:true})}catch(e){_.error("saveChatInfo",r,e);return null}}},{key:"setLangCode",value:async function e(t,r){var n,i;_.info("setLangCode",r,t,!!((n=window.hwIcsElectron)!==null&&n!==void 0&&n.setLangCode));if(a.Utils.functionCheck((i=window.hwIcsElectron)===null||i===void 0?void 0:i.setLangCode)){window.hwIcsElectron.setLangCode(t)}}},{key:"queryChatInfo",value:async function t(r){var n,i;_.info("queryChatInfo",r);const o=await u.StorageManager.formatKey(e.cacheJobInfoKey);if(o===e.cacheJobInfoKey&&a.Utils.functionCheck((n=window.hwIcsElectron)===null||n===void 0?void 0:n.queryChatInfo)){const e=await window.hwIcsElectron.queryChatInfo();_.info("queryChatInfo",r,e.job_id,e.cacheRobotId);return e}if(a.Utils.functionCheck((i=window.hwIcsElectron)===null||i===void 0?void 0:i.queryConfig)){const t=await e.queryConfig({key:o,entry:`${r},queryChatInfo`});_.info("queryChatInfo",r,t.job_id,t.cacheRobotId);return t}const s=await u.StorageManager.getLocalStorageItem(e.cacheJobInfoKey);_.info("queryChatInfo",r,s);if(!s){return undefined}try{return JSON.parse(s)}catch(e){return undefined}}},{key:"deleteChatInfo",value:async function t(r){var n,i;_.info("deleteChatInfo",r);const o=await u.StorageManager.formatKey(e.cacheJobInfoKey);if(o===e.cacheJobInfoKey&&a.Utils.functionCheck((n=window.hwIcsElectron)===null||n===void 0?void 0:n.deleteChatInfo)){return window.hwIcsElectron.deleteChatInfo()}if(a.Utils.functionCheck((i=window.hwIcsElectron)===null||i===void 0?void 0:i.deleteConfig)){return e.deleteConfig({key:o,entry:`${r},deleteAuthInfo`})}return u.StorageManager.remoteLocalStorageItem(e.cacheJobInfoKey)}},{key:"getActiveHumanIndex",value:function e(){var t,r;_.info("getActiveHumanIndex");return(t=window.hwIcsElectron)===null||t===void 0?void 0:(r=t.getActiveHumanIndex)===null||r===void 0?void 0:r.call(t)}},{key:"selectActiveHuman",value:function e(t){var r,n;_.info("selectActiveHuman",t);(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.selectActiveHuman)===null||n===void 0?void 0:n.call(r,t)}},{key:"getMultipleDigitalHumanConfig",value:function e(){var t,r;_.info("getMultipleDigitalHumanConfig");return(t=window.hwIcsElectron)===null||t===void 0?void 0:(r=t.getMultipleDigitalHumanConfig)===null||r===void 0?void 0:r.call(t)}},{key:"registerActivePageChange",value:function e(t){var r,n;_.info("registerActivePageChange");(r=window.hwIcsElectron)===null||r===void 0?void 0:(n=r.registerActivePageChange)===null||n===void 0?void 0:n.call(r,t)}}])}();b._cacheAuthInfoKey="cacheAuthInfo";b.cacheJobInfoKey="cacheJobInfo";y([(0,o.printfDecorator)(_)],b,"isHWIcsElectron",null);y([(0,o.printfDecorator)(_)],b,"registerWakeup",null);y([(0,o.printfDecorator)(_)],b,"registerUserTrack",null);y([(0,o.printfDecorator)(_)],b,"registerMaximize",null);y([(0,o.printfDecorator)(_)],b,"registerUnMaximize",null);y([(0,o.printfDecorator)(_)],b,"maximizeWindow",null);y([(0,o.printfDecorator)(_)],b,"unMaximizeWindow",null);y([(0,o.printfDecorator)(_)],b,"closeWindow",null);y([(0,o.printfDecorator)(_)],b,"isMaximizedWindow",null);y([(0,o.printfDecorator)(_)],b,"getAppLangCode",null);y([(0,o.printfDecorator)(_)],b,"setJobInfo",null);y([(0,o.printfDecorator)(_)],b,"getWakeupWords",null);y([(0,o.printfDecorator)(_)],b,"showAdvertise",null);y([(0,o.printfDecorator)(_)],b,"hideAdvertise",null);y([(0,o.printfDecorator)(_)],b,"hideAdvertiseStartSpeak",null);y([(0,o.printfDecorator)(_)],b,"showAdvertiseMoreInfo",null);y([(0,o.printfDecorator)(_)],b,"hideAdvertiseMoreInfo",null);y([(0,o.printfDecorator)(_)],b,"addConfig",null);y([(0,o.printfDecorator)(_)],b,"queryConfig",null);y([(0,o.printfDecorator)(_)],b,"deleteConfig",null);y([(0,o.printfDecorator)(_)],b,"saveAuthInfo",null);y([(0,o.printfDecorator)(_)],b,"queryAuthInfo",null);y([(0,o.printfDecorator)(_)],b,"deleteAuthInfo",null);y([(0,o.printfDecorator)(_)],b,"callCloudWatch",null);y([(0,o.printfDecorator)(_)],b,"registerMethod",null);y([(0,o.printfDecorator)(_)],b,"saveChatInfo",null);y([(0,o.printfDecorator)(_)],b,"setLangCode",null);y([(0,o.printfDecorator)(_)],b,"queryChatInfo",null);y([(0,o.printfDecorator)(_)],b,"deleteChatInfo",null);y([(0,o.printfDecorator)(_)],b,"getActiveHumanIndex",null);y([(0,o.printfDecorator)(_)],b,"selectActiveHuman",null);y([(0,o.printfDecorator)(_)],b,"getMultipleDigitalHumanConfig",null);y([(0,o.printfDecorator)(_)],b,"registerActivePageChange",null)},85351:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.HttpHeartBeatManager=void 0;var n=r(14274);var i=r(3924);var o=r(38598);var a=r(62850);var s=r(48551);var u=r(80175);var c=r(98951);var l=r(11579);var f=r(86062);var d=r(19795);var h=r(83978);var p=r(66541);var v=r(28205);var g=r(31194);var m=r(54439);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=T(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}}function w(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e){var t=C(e,"string");return"symbol"==typeof t?t:t+""}function C(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var A=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const R=new a.Log({module:"HttpHeartBeatManager"});let I=t.HttpHeartBeatManager=function(){function e(){E(this,e)}return w(e,null,[{key:"startHeartBeat",value:function t(r){R.info("startHeartBeat",r);e._heartBeatTask=new n.Timer.TimerTask(e._roomHeartbeat);e._heartCount=0;e._timerManager.cancel().schedule(e._heartBeatTask,i.HEART_BEAT_TIME)}},{key:"stopHeartBeat",value:function t(r){r+=",stopHeartBeat";R.info("stopHeartBeat",r);e._heartCount=0;e._heartFailCount=0;e._timerManager.cancel();u.PortalWssManager.getInstance().closeOldWebsocket(r);p.StreamAdapter.destroy(r);p.StreamAdapter.clearPeerLeaveTimer(r)}},{key:"_roomHeartbeat",value:async function t(){e._heartCount++;const r=`_roomHeartbeat ${e._heartCount}`;const i=o.ConfigManager.getChatInfo(r);const a=Date.now();const s=await m.JobManager.getChatJobState({entry:r,jobId:(i===null||i===void 0?void 0:i.job_id)||""});p.StreamAdapter.setHeartbeatState(s===null||s===void 0?void 0:s.state);const u=Date.now()-a;R.debug(r,{result:s});R.info("_roomHeartbeat",r,(0,n.formatType)(s),u);await e.handleHeartbeatResult({result:s,consummTime:u,entry:r})}},{key:"handleHeartbeatResult",value:async function t({result:r,consummTime:o,entry:a}){a+=",handleHeartbeatResult";if(!r||(0,n.formatType)(r)!==n.formatType.OBJECT){e.handleHeartbeatRequestFailed(r,a);return}if(r.chat_state===s.CHAT_STATE.SUSPEND&&o<i.HTTP_HEART_BEAT_INVALID_TIME&&u.PortalWssManager.getInstance().checkCanSynChatState()){u.PortalWssManager.getInstance().recordStop(a)}if(e.ignoreErrorCodes.includes(r===null||r===void 0?void 0:r.error_code)){return}e._heartFailCount=0;if([s.JOB_STATE.SUCCEED,s.JOB_STATE.FAILED,s.JOB_STATE.CANCELED,s.JOB_STATE.IDLE].includes(r.state)){e.handleJobEnd(r,a);return}if(e.checkError(r,a)){return}p.StreamAdapter.checkSignature({result:r,entry:a});await e.checkLanguage({result:r,entry:a});const{httpError:c}=(0,d.$getState)().error;c&&(0,d.$dispatch)((0,h.clearHttpError)())}},{key:"handleHeartbeatRequestFailed",value:function t(r,n){if(e.checkMaxErrorCount({error:{error_code:c.SDKErrorCode.MPS_JOB_STATE_NULL,error_msg:"no job state,"+JSON.stringify(r),request_id:""},entry:n})){e._heartFailCount=0;window.dispatchEvent(new CustomEvent(c.InnerICSEventKey.REJOIN_EVENT,{detail:{method:c.InnerICSEventMethod.REJOIN,entry:"heartbeat failed",reason:v.RejoinReason.NETWORK_ERROR,errorCode:c.SDKErrorCode.MPS_JOB_STATE_NULL}}))}}},{key:"checkError",value:function t(r,n){if(e.checkRejoinErrorCodes(r===null||r===void 0?void 0:r.error_code)){return true}if(r!==null&&r!==void 0&&r.error_code&&r.error_code!==l.RetCodes.SUCCESS){(0,f.dealHttpError)({url:"_roomHeartbeat",error:{error_code:r.error_code,error_msg:r.error_msg||"",request_id:r.request_id||""},entry:n});return true}return false}},{key:"handleJobEnd",value:function t(r,n){n+=",handleJobEnd";const i=r.error_info?_(_({},r.error_info),{},{request_id:""}):{error_code:c.SDKErrorCode.MPS_JOB_STATE_ERROR,error_msg:"job state error: "+r.state,request_id:""};e.stopHeartBeat(n);if(e.checkRejoinErrorCodes(i.error_code)){return}(0,f.dealHttpError)({url:"_roomHeartbeat state not normal",error:i,entry:n})}},{key:"checkMaxErrorCount",value:function t({error:r,entry:n}){n+=",checkMaxErrorCount";e._heartFailCount++;R.info("checkMaxErrorCount",n,e._heartFailCount);if(e._heartFailCount>e.MAX_HEART_FAIL_COUNT){(0,f.dealHttpError)({url:"checkMaxErrorCount",error:r,entry:n});e.stopHeartBeat(n);return true}return false}},{key:"checkLanguage",value:async function e({result:t,entry:r}){r+=",checkLanguage";g.LanguageManager.setLanguageInfo({chatInfo:t,entry:r});o.ConfigManager.setChatInfo({chatInfo:t,entry:r});if(t.voice_config_list){await g.LanguageManager.setLocalLangCode({entry:r,remember:true})}else{await g.LanguageManager.setLocalLangCode({entry:r,langCode:t.language,remember:true})}}},{key:"checkRejoinErrorCodes",value:function t(r){if(e.upgradeErrorCodes.includes(r)){window.dispatchEvent(new CustomEvent(c.InnerICSEventKey.REJOIN_EVENT,{detail:{method:c.InnerICSEventMethod.REJOIN,entry:"heartbeat handleJobEnd",reason:v.RejoinReason.UPGRADING,errorCode:r}}));return true}if(e.netErrorCodes.includes(r)){window.dispatchEvent(new CustomEvent(c.InnerICSEventKey.REJOIN_EVENT,{detail:{method:c.InnerICSEventMethod.REJOIN,entry:"heartbeat handleJobEnd",reason:v.RejoinReason.NETWORK_ERROR,errorCode:r}}));return true}return false}}])}();I._timerManager=new n.Timer({userWebWorker:false});I._heartCount=0;I._heartFailCount=0;I.MAX_HEART_FAIL_COUNT=3;I.upgradeErrorCodes=[l.MPSRetCodes.MPS_JOB_HEARTBEAT_FAILED,l.WorkerRetCodes.DHICIS_RTSA_REPORT_LEAVE_ROOM];I.netErrorCodes=[l.RetCodes.FAILED_TO_QUERY_TENANT_ID];I.ignoreErrorCodes=[l.RetCodes.SHOW_SMART_CHAT_FAILED];A([(0,n.printfDecorator)(R)],I,"startHeartBeat",null);A([(0,n.printfDecorator)(R)],I,"stopHeartBeat",null);A([(0,n.printfDecorator)(R)],I,"_roomHeartbeat",null);A([(0,n.printfDecorator)(R)],I,"handleHeartbeatResult",null);A([(0,n.printfDecorator)(R)],I,"handleHeartbeatRequestFailed",null);A([(0,n.printfDecorator)(R)],I,"checkError",null);A([(0,n.printfDecorator)(R)],I,"handleJobEnd",null);A([(0,n.printfDecorator)(R)],I,"checkMaxErrorCount",null);A([(0,n.printfDecorator)(R)],I,"checkLanguage",null);A([(0,n.printfDecorator)(R)],I,"checkRejoinErrorCodes",null);window.addEventListener(c.InnerICSEventKey.HEARTBEAT_EVENT,(e=>{const{method:t,entry:r}=e.detail;if(t===c.InnerICSEventMethod.STOP_HEARTBEAT){I.stopHeartBeat(r)}}))},98535:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.HwICS=void 0;r(92676);r(35666);var n=r(49270);var i=r(14274);var o=r(80175);var a=r(30265);var s=r(19795);var u=r(98951);var c=r(83978);var l=r(25568);var f=r(38598);var d=r(23577);var h=r(62850);var p=r(91194);var v=r(3467);var g=M(r(88789));var m=r(85351);var y=r(78966);var _=r(51852);var b=r(84343);var E=r(33181);var S=r(66541);var w=r(56346);var T=r(31194);var C=r(83353);var A=r(25725);var R=r(56718);var I=r(22155);var k=r(51988);var O=r(50730);var P=r(54439);function M(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function D(e,t,r){return t&&L(e.prototype,t),r&&L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(e){var t=j(e,"string");return"symbol"==typeof t?t:t+""}function j(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const U=new h.Log({module:"HwICS"});(0,l.addGlobalUtEvent)();g.default.setParameter("LOG_CACHES_ENABLE","off");let B=t.HwICS=function(){function e(){x(this,e)}return D(e,null,[{key:"dealInitParam",value:function t({param:r,forceCheck:n=true,entry:i}){i+=",dealInitParam";r.logLevel&&e.setLogLevel(r.logLevel);r.eventListeners&&e.addEventListeners(r.eventListeners);U.debug(i,r);r.serverAddress=E.Utils.formatOrigin(r.serverAddress);if(n){if(!e._containerCheck(r.containerId)){return false}if(!e._authCheck(r)){return false}}f.ConfigManager.setInitParam(r);T.LanguageManager.setRemoteAndLocalLangCode({entry:"dealInitParam"});d.UIManager.renderPage(r===null||r===void 0?void 0:r.containerId);return true}},{key:"setLogLevel",value:function e(t){U.info("setLogLevel",t);h.Log.setLogLevel(t);I.LocalWakeup.setLogLevel(t);S.StreamAdapter.setLogLevel(t)}},{key:"addEventListeners",value:function e(t){U.info("addEventListeners");return p.EventManager.addEventListeners(t)}},{key:"destroy",value:async function t(){const r=(0,i.createEntry)("destroy");U.info("destroy",r);await e.clearBase(r);await e.clearAuthData(r);await I.LocalWakeup.clearWakeup(r);e.clearUI(r);e.clearConfig(r);p.EventManager.clearEventListeners()}},{key:"clearUI",value:function e(t){U.info("clearUI",t);d.UIManager.destroyPage()}},{key:"clearBase",value:async function e(t){var r;t+=",clearBase";U.info("clearBase",t);m.HttpHeartBeatManager.stopHeartBeat(t);await P.JobManager.stopChatJob({jobId:((r=f.ConfigManager.getChatInfo(t))===null||r===void 0?void 0:r.job_id)||"",entry:t});await S.StreamAdapter.destroy(t);(0,s.$dispatch)((0,c.resetErrorState)());(0,s.$dispatch)((0,_.resetCaptionState)());(0,s.$dispatch)((0,b.resetMainState)());f.ConfigManager.clearChatInfo(t);R.TextDriveManager.resetCache({entry:t})}},{key:"clearConfig",value:function t(r){U.info("clearConfig",r);e.setLogLevel("info");f.ConfigManager.clearConfig();T.LanguageManager.clearConfig();(0,s.$dispatch)((0,y.resetLangState)())}},{key:"clearAuthData",value:async function e(t){U.info("clearAuthData",t);await n.RtcInfoManager.getInstance().deleteToken({entry:t});f.ConfigManager.clearAuthInfo(t)}},{key:"joinChatRoom",value:async function e(t=""){var r;t+=",joinChatRoom";U.info("joinChatRoom");const n=await P.JobManager.startChatJob({entry:t});if(!n){return}U.info("joinChatRoom result",{chat_subtitle_config:n.chat_subtitle_config,video_config:n.video_config,chat_video_type:n.chat_video_type,chat_access_address:n.chat_access_address,is_transparent:n.is_transparent,default_language:n.default_language,voice_config_list:(r=n.voice_config_list)===null||r===void 0?void 0:r.map((e=>e.language)),deployment_mode:n.deployment_mode});a.UserTrack.updateUtParam({chatInfo:n});T.LanguageManager.initLanguageInJoinRoom({chatInfo:n,entry:t});f.ConfigManager.setChatInfo({chatInfo:n,entry:t});(0,s.$dispatch)((0,b.setLayoutMode)(n.chat_video_type));m.HttpHeartBeatManager.startHeartBeat(t);o.PortalWssManager.getInstance().initWebsocket(t);if(n.isReuse){await Promise.race([o.PortalWssManager.getInstance().stopChat({entry:t,needErrorDeal:false}),(0,i.sleep)(3e3)])}I.LocalWakeup.initWakeup({entry:t,language:T.LanguageManager.getLocalLangCode(t)===k.LanguageCode.EN_US?"en":"zh",wakeupCallback:O.ChatManager.wakeupCallback});await S.StreamAdapter.createStreamConnector(n.deployment_mode)}},{key:"getJobInfo",value:async function e(){const t=f.ConfigManager.getChatInfo("getJobInfo");return{jobId:(t===null||t===void 0?void 0:t.job_id)||"",websocketAddr:(t===null||t===void 0?void 0:t.chat_access_address)||""}}},{key:"_authCheck",value:function e({taskUrl:t,onceCode:r,robotId:n,serverAddress:o}){try{if(!o){U.makeError({code:u.SDKErrorCode.UI_PARAM_ERROR,message:`${v.ICSErrorMessage.errorParam}: serverAddress must have a value`});return false}if(!n){if(!t){U.makeError({code:u.SDKErrorCode.UI_PARAM_ERROR,message:`${v.ICSErrorMessage.errorParam}: at least one of taskUrl and robotId has a value`});return false}if(!i.UrlUtil.getSearchValue(t,"robot_id")){U.makeError({code:u.SDKErrorCode.UI_PARAM_ERROR,message:`${v.ICSErrorMessage.errorParam}: taskUrl is incorrect`});return false}}if(!r){U.makeError({code:u.SDKErrorCode.UI_PARAM_ERROR,message:`${v.ICSErrorMessage.errorParam}: onceCode must have a value`});return false}return true}catch(e){U.error("_authCheck",e===null||e===void 0?void 0:e.toString());U.makeError({code:u.SDKErrorCode.UI_PARAM_ERROR,message:`${v.ICSErrorMessage.errorParam}: unknown`});return false}}},{key:"_containerCheck",value:function e(t){const r=!!(t&&document.getElementById(t));!r&&U.makeError({code:u.SDKErrorCode.UI_NO_PARENT,message:w.SDKErrorCodeMsgMap[u.SDKErrorCode.UI_NO_PARENT]});return r}}])}();A.HWIcsElectron.registerUserTrack((e=>{U.debug("registerUserTrack",e);e===null||e===void 0?void 0:e.forEach((e=>{if([C.Arg1Map.ELECTRON_MESSAGE,C.Arg1Map.C_NATIVE].includes(e.arg1)){a.UserTrack.addUserTrack({arg1:e.arg1,arg2:e.arg2,arg3:e.arg3,args:e.args})}}))}))},30546:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.ICSError=void 0;var n=r(30265);var i=r(83353);var o=r(98951);var a=r(91194);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=l(e,"string");return"symbol"==typeof t?t:t+""}function l(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}let d=t.ICSError=u((function e({message:t,code:r,module:s}){f(this,e);this.code=r;this.message=t;this.module=s;n.UserTrack.addUserTrack({arg1:i.Arg1Map.ICS_SDK_ERROR,arg2:s,args:{message:t,error:r}});a.EventManager.dispatchICSEvent(o.ICSEventKey.ERROR,this)}))},31194:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.LanguageManager=void 0;var n=r(98951);var i=r(51988);var o=r(12262);var a=r(19795);var s=r(78966);var u=r(38598);var c=r(62850);var l=r(25139);var f=r(80175);var d=r(33181);var h=r(22155);var p=r(59578);var v=r(25725);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function y(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){var t=b(e,"string");return"symbol"==typeof t?t:t+""}function b(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const E=new c.Log({module:"HwICS.LanguageManager"});let S=t.LanguageManager=function(){function e(){g(this,e)}return y(e,null,[{key:"canUploadLanguage",value:function t(r){const n=(0,a.$getState)().main.pageState;const i=(0,a.$getState)().main.showLoading;E.info("canUploadLanguage",e.remoteLangCode,r,n,i,e.isNewVersion);return e.remoteLangCode!==r&&n===o.PageState.MAIN&&!i&&e.isNewVersion}},{key:"setVersion",value:function t(r){e.isNewVersion=!!r.voice_config_list}},{key:"getVersion",value:function t(){return e.isNewVersion}},{key:"clearConfig",value:function t(){E.info("clearConfig");e.localLangCode=d.Utils.formatLangCode(navigator.language);e.remoteLangCode=undefined}},{key:"getLocalLangCode",value:function t(r){E.info("getLocalLangCode",r,e.localLangCode);return e.localLangCode}},{key:"getRemoteLangCode",value:function t(r){E.info("getRemoteLangCode",r,e.remoteLangCode);return e.remoteLangCode}},{key:"getLanguageInfo",value:function t(r){r+="getLanguageInfo";const n=(0,a.$getState)().lang.languageList;E.info("getLangList",r,n===null||n===void 0?void 0:n.length);const i=e.validParam();if(!i.result){return i}return{result:true,languageList:n||[],currentLanguage:e.getLocalLangCode(r)}}},{key:"initLanguageInJoinRoom",value:async function t({chatInfo:r,entry:n}){e.setVersion(r);let i=e.isNewVersion?r.default_language:r.language;e.setLanguageInfo({chatInfo:r,entry:n});if(r.isReuse){i=await p.StorageManager.getLocalStorageItem("oldLangCode")||i}e.setRemoteAndLocalLangCode({entry:n,langCode:i,remember:true,needErrorDeal:false})}},{key:"setLanguageInfo",value:function t({chatInfo:r,entry:n}){var i;e.setVersion(r);E.info("setLanguageInfo",n,r===null||r===void 0?void 0:(i=r.voice_config_list)===null||i===void 0?void 0:i.length,r===null||r===void 0?void 0:r.default_language);(0,a.$dispatch)((0,s.setLanguageList)(r.voice_config_list));(0,a.$dispatch)((0,s.setDefaultLanguage)(r.default_language));e.languageInfoChange("setLanguageInfo")}},{key:"validParam",value:function e(t){const r=(0,a.$getState)().lang.languageList;if(!r||r.length<=0){return{result:false,errorCode:n.SDKErrorCode.UI_LANGUAGE_LIST_EMPTY,errorMsg:n.msgMap[n.SDKErrorCode.UI_LANGUAGE_LIST_EMPTY]}}if(t&&!r.find((e=>e.language===t))){return{result:false,errorCode:n.SDKErrorCode.UI_LANGUAGE_CODE_NOT_SUPPORT,errorMsg:n.msgMap[n.SDKErrorCode.UI_LANGUAGE_CODE_NOT_SUPPORT]}}return{result:true}}},{key:"checkLangCode",value:function t(r){if(!r){r=e.getLocalLangCode("checkLangCode")||d.Utils.formatLangCode(navigator.language)}const n=(0,a.$getState)().lang.languageList;const i=(0,a.$getState)().lang.defaultLanguage;E.info("checkLangCode",r,n,i);if(n&&i&&n.length>0&&!n.find((e=>e.language===r))){r=i}return r}},{key:"setRemoteAndLocalLangCode",value:async function t({langCode:r,needErrorDeal:n,remember:s,entry:u}){var c,l;u+=",setRemoteAndLocalLangCode";let d={result:true};d=e.validParam(r);if(!((c=d)!==null&&c!==void 0&&c.result)){return d}r=e.checkLangCode(r);if(e.canUploadLanguage(r)){var p;d=await f.PortalWssManager.getInstance().changeLanguage({entry:u,langCode:r,needErrorDeal:n});if((p=d)!==null&&p!==void 0&&p.result){const{chatBtnState:t}=(0,a.$getState)().main;e.remoteLangCode=r;if(t!==o.ChatBtnState.INIT){f.PortalWssManager.getInstance().interruptSpeaking(u)}}}if(!((l=d)!==null&&l!==void 0&&l.result)){E.error("changeLanguage failed",u,r);return d}await e.setLocalLangCode({langCode:r,remember:s,entry:u});h.LocalWakeup.setLanguageCode(e.getLocalLangCode(u)===i.LanguageCode.EN_US?"en":"zh");return d}},{key:"setLocalLangCode",value:async function t({langCode:r,remember:n=false,entry:i}){E.info("setLocalLangCode",i,r);r=e.checkLangCode(r);if(e.localLangCode===r){return}e.localLangCode=r;(0,a.$dispatch)((0,s.setLangCode)(r));if(u.ConfigManager.getConfig(o.ConfigKey.USE_DEFAULT_TITLE)){document.title=(0,a.$getState)().lang.language.pageTitle}if(n){await p.StorageManager.setLocalStorageItem({key:"oldLangCode",value:r})}e.languageInfoChange("setLocalLangCode");v.HWIcsElectron.setLangCode(r,"setLocalLangCode")}},{key:"languageInfoChange",value:function t(r){r+="languageInfoChange";const n=e.getLanguageInfo("languageInfoChange");if(JSON.stringify(e.lastLanguageInfo)!==JSON.stringify(n)){e.lastLanguageInfo=n;l.NotifyManager.sendLanguageInfoChange({entry:r,data:n})}}}])}();S.localLangCode=d.Utils.formatLangCode(navigator.language);S.isNewVersion=false;window.addEventListener(n.InnerICSEventKey.WS_CHANGE_LANGUAGE,(e=>{if(S.getVersion()){return}S.setLocalLangCode({entry:"websocket language change",langCode:e.detail.language})}))},22155:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.LocalWakeup=void 0;var n=r(41850);var i=r(62850);var o=r(14274);var a=r(38598);var s=r(12262);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=d(e,"string");return"symbol"==typeof t?t:t+""}function d(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const p=new i.Log({module:"LocalWakeup"});let v=t.LocalWakeup=function(){function e(){u(this,e)}return l(e,null,[{key:"initResourcePath",value:async function e(t){try{p.info("initResourcePath",t);n.HwKwsWakeup.initResourcePath(t);t.initModel!==false&&await n.HwKwsWakeup.init()}catch(e){p.error("initResourcePath",t,e)}}},{key:"initWakeup",value:async function e({entry:t,language:r,wakeupCallback:o}){t+=",initWakeup";if(!a.ConfigManager.getConfig(s.ConfigKey.ENABLE_LOCAL_WAKEUP)){p.info("initWakeup",t,"no wakeup");return}const u=a.ConfigManager.getChatInfo(t);if(!u){p.info("initWakeup",t,"no job_id");return}try{var c,l,f;p.info("initWakeup",t,"use wakeup");let e=(u===null||u===void 0?void 0:u.chat_access_rest_address)||(u===null||u===void 0?void 0:u.chat_access_address)||"";if(!((c=e)!==null&&c!==void 0&&c.startsWith("https"))){e=`https://${e}`}await n.HwKwsWakeup.create({jobId:(u===null||u===void 0?void 0:u.job_id)||"",token:((l=a.ConfigManager.getAuthInfo(t))===null||l===void 0?void 0:l.access_token)||"",icsHost:e,icsManagerHost:((f=a.ConfigManager.getBaseUrl())===null||f===void 0?void 0:f.origin)||"",logLevel:i.Log.getLogLevel(),robotId:a.ConfigManager.getRobotId(t),language:r});n.HwKwsWakeup.registerWakeupNotify(o);await n.HwKwsWakeup.beginSession()}catch(e){p.error("initWakeup",e)}}},{key:"clearWakeup",value:async function e(t){try{p.info("clearWakeup",t);await n.HwKwsWakeup.endSession()}catch(e){p.error("clearWakeup",t,e)}}},{key:"setLogLevel",value:function e(t){try{if(!a.ConfigManager.getConfig(s.ConfigKey.ENABLE_LOCAL_WAKEUP)){p.info("setLogLevel","no wakeup",t);return}p.info("setLogLevel",t);n.HwKwsWakeup.setLogLevel(t)}catch(e){p.error("setLogLevel",t,e)}}},{key:"setLanguageCode",value:function e(t){try{if(!a.ConfigManager.getConfig(s.ConfigKey.ENABLE_LOCAL_WAKEUP)){p.info("setLanguageCode","no wakeup",t);return}p.info("setLanguageCode",t);n.HwKwsWakeup.setLanguage(t)}catch(e){p.error("setLanguageCode",t,e)}}},{key:"startRecord",value:function e(){p.info("startRecord");n.HwKwsWakeup.startRecord()}},{key:"stopRecord",value:function e(){p.info("stopRecord");n.HwKwsWakeup.stopRecord()}},{key:"updateMicrophoneDevice",value:async function e(t){if(!a.ConfigManager.getConfig(s.ConfigKey.ENABLE_LOCAL_WAKEUP)){p.info("updateMicrophoneDevice","no wakeup",t);return}await n.HwKwsWakeup.updateMicrophoneDevice(t)}}])}();h([(0,o.printfDecorator)(p)],v,"initResourcePath",null);h([(0,o.printfDecorator)(p)],v,"initWakeup",null);h([(0,o.printfDecorator)(p)],v,"clearWakeup",null);h([(0,o.printfDecorator)(p)],v,"setLogLevel",null);h([(0,o.printfDecorator)(p)],v,"setLanguageCode",null);h([(0,o.printfDecorator)(p)],v,"startRecord",null);h([(0,o.printfDecorator)(p)],v,"stopRecord",null);h([(0,o.printfDecorator)(p)],v,"updateMicrophoneDevice",null)},62850:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.Log=void 0;var n=r(29125);var i=r(30546);var o=r(14274);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let p=t.Log=function(){function e({module:t}){c(this,e);this._logger=(0,n.getLogger)(t);this._module=t;this.debug=this._printf("debug");this.info=this._printf("info");this.warn=this._printf("warn");this.error=this._printf("error")}return f(e,[{key:"throwError",value:function e(t){throw this.makeError(t)}},{key:"makeError",value:function e(t){return new i.ICSError(s(s({},t),{},{module:this._module}))}},{key:"rejectError",value:function e(t){return Promise.reject(this.makeError(t))}},{key:"_printf",value:function t(r){const n=e._logLevelList.indexOf(r);return(...t)=>{if(e._logLevelIndex>-1&&n>=e._logLevelIndex){var i,o;(i=(o=this._logger)[r])===null||i===void 0?void 0:i.call(o,...t)}}}}],[{key:"setLogLevel",value:function t(r){e._logLevelIndex=e._logLevelList.indexOf(r)}},{key:"getLogLevel",value:function t(){return e._logLevelList[e._logLevelIndex]||"info"}}])}();p._logLevelList=["debug","info","warn","error","none"];p._logLevelIndex=1;(0,o.setPLogger)(new p({module:"meta-util"}))},25139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.NotifyManager=void 0;var n=r(38598);var i=r(91194);var o=r(98951);var a=r(62850);var s=r(19795);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=d(e,"string");return"symbol"==typeof t?t:t+""}function d(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const h=new a.Log({module:"NotifyManager"});let p=t.NotifyManager=function(){function e(){u(this,e)}return l(e,null,[{key:"sendJobInfoChange",value:function e({isReady:t,entry:r}){r+=",sendJobInfoChange";h.info("sendJobInfoChange",r,t);const a=n.ConfigManager.getChatInfo(r);i.EventManager.dispatchICSEvent(o.ICSEventKey.JOB_INFO_CHANGE,{jobId:a===null||a===void 0?void 0:a.job_id,websocketAddr:(a===null||a===void 0?void 0:a.chat_access_address)||"",isReady:t})}},{key:"sendEnterSleep",value:function e(t){const{chatBtnState:r}=(0,s.$getState)().main;h.info("sendEnterSleep",t,r);i.EventManager.dispatchICSEvent(o.ICSEventKey.ENTER_SLEEP)}},{key:"sendEnterActive",value:function e(t){const{chatBtnState:r}=(0,s.$getState)().main;h.info("sendEnterActive",t,r);i.EventManager.dispatchICSEvent(o.ICSEventKey.ENTER_ACTIVE)}},{key:"sendLanguageInfoChange",value:function e({entry:t,data:r}){h.info("sendLanguageInfoChange",t,r);i.EventManager.dispatchICSEvent(o.ICSEventKey.LANGUAGE_INFO_CHANGE,r)}}])}()},80175:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.PortalWssManager=void 0;var n=r(14274);var i=r(19795);var o=r(84343);var a=r(11579);var s=r(86062);var u=r(51852);var c=r(13599);var l=r(62850);var f=r(38598);var d=r(12262);var h=r(38921);var p=r(3924);var v=r(6070);var g=r(93367);var m=r(51722);var y=r(98951);var _=r(25725);var b=r(91194);var E=r(74013);var S=r(58955);var w=r(51988);var T=r(25139);var C=r(56718);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M(n.key),n)}}function P(e,t,r){return t&&O(e.prototype,t),r&&O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M(e){var t=x(e,"string");return"symbol"==typeof t?t:t+""}function x(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var L=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const D=new l.Log({module:"HwICS.PortalWssManager"});const N=[h.CloudWssAction.INTERRUPT,h.CloudWssAction.INTERRUPT_RESULT,h.CloudWssAction.START_CHAT,h.CloudWssAction.START_CHAT_RSP,h.CloudWssAction.STOP_CHAT,h.CloudWssAction.STOP_CHAT_RSP];var j;(function(e){e["SPEAKING"]="SPEAKING";e["NOT_SPEAKING"]="NOT_SPEAKING"})(j||(j={}));var U;(function(e){e["SUCCESS"]="success";e["WAIT"]="wait";e["FAIL"]="fail"})(U||(U={}));const B=[" "," "," ","\t","\n","","\f","\r","","","",""];const F=e=>{if(!e.is_last){return}const t=e.chat_id;const r=(0,i.$getState)().caption.captionList;const n=r[r.length-1];if(!n||!n.text||!n.chatId||n.chatId!==t){return}const o=n.text.split("").filter((e=>!B.includes(e))).join("");const a=E.XssManager.getRenderNode(o);const s=S.RichTextUtils.textToTextContent(o);const c=S.RichTextUtils.hasMedia(a);if(!s&&c){(0,i.$dispatch)((0,u.addShowAnswerChatIdList)(t));(0,i.$dispatch)((0,u.updateShowAllContentChatId)(t))}};let H=t.PortalWssManager=function(){function e(){k(this,e);this.chatId="";this._synManager=new n.Timer;this._canSynChatState=true;this.websocketManager=new m.WebsocketManager({onmessage:this._handleNoCallbackMsg.bind(this)})}return P(e,[{key:"closeOldWebsocket",value:function e(t){var r;t+=",closeOldWebsocket";(r=this.websocketManager)===null||r===void 0?void 0:r.destroy(t)}},{key:"initWebsocket",value:function e(t){var r;t+=",openWebsocket";(r=this.websocketManager)===null||r===void 0?void 0:r.init(t)}},{key:"startChat",value:async function e({entry:t="",interactionMode:r,wakeupType:n}){t+=",startChat";const{chatBtnState:s}=(0,i.$getState)().main;if(s!==d.ChatBtnState.INIT&&s!==d.ChatBtnState.STOPPING&&s!==d.ChatBtnState.LOADING){D.info("startChat","now is not sleep, do nothing");return{result:true,errorCode:a.RetCodes.SUCCESS,errorMsg:"",chatId:this.chatId||""}}(0,i.$dispatch)((0,o.toggleChatBtnState)(d.ChatBtnState.LOADING));const u=await this.websocketManager.send({param:{action:h.CloudWssAction.START_CHAT,interaction_mode:r,wakeup_type:n},rsp_action:h.CloudWssAction.START_CHAT_RSP,entry:t});this.handleResult(u);if((u===null||u===void 0?void 0:u.error_code)!==a.RetCodes.SUCCESS){(0,i.$dispatch)((0,o.toggleChatBtnState)(d.ChatBtnState.INIT));return{result:false,chatId:(u===null||u===void 0?void 0:u.chat_id)||"",errorCode:u===null||u===void 0?void 0:u.error_code,errorMsg:u===null||u===void 0?void 0:u.error_msg}}_.HWIcsElectron.hideAdvertise(t);(0,i.$dispatch)((0,o.toggleChatBtnState)(d.ChatBtnState.PLAY));T.NotifyManager.sendEnterActive(t);this.chatId=u.chat_id||"";return{result:true,errorCode:u===null||u===void 0?void 0:u.error_code,errorMsg:u===null||u===void 0?void 0:u.error_msg,chatId:this.chatId}}},{key:"stopChat",value:async function e({entry:t,needErrorDeal:r=true}){var n;t+=",stopChat";D.info("stopChat send bef");const i=await this.websocketManager.send({param:{job_id:(n=f.ConfigManager.getChatInfo(t))===null||n===void 0?void 0:n.job_id,action:h.CloudWssAction.STOP_CHAT,chat_id:this.chatId},rsp_action:h.CloudWssAction.STOP_CHAT_RSP,entry:t});D.info("stopChat send aft",i);r&&this.handleResult(i);return{result:(i===null||i===void 0?void 0:i.error_code)===a.RetCodes.SUCCESS,errorCode:i===null||i===void 0?void 0:i.error_code,errorMsg:i===null||i===void 0?void 0:i.error_msg,chatId:this.chatId}}},{key:"stopJob",value:async function e(t){var r;t+=",stopJob";D.info("stopJob send bef");const n=await this.websocketManager.send({param:{job_id:(r=f.ConfigManager.getChatInfo(t))===null||r===void 0?void 0:r.job_id,action:h.CloudWssAction.STOP_JOB,chat_id:this.chatId},rsp_action:h.CloudWssAction.STOP_JOB_RSP,entry:t});D.info("stopJob send aft",n);this.handleResult(n);return{result:(n===null||n===void 0?void 0:n.error_code)===a.RetCodes.SUCCESS,errorCode:n===null||n===void 0?void 0:n.error_code,errorMsg:n===null||n===void 0?void 0:n.error_msg,chatId:this.chatId}}},{key:"interruptSpeaking",value:async function e(t){t+=",interruptSpeaking";try{var r;const e=this.chatId;const n=await this.websocketManager.send({param:{job_id:(r=f.ConfigManager.getChatInfo(t))===null||r===void 0?void 0:r.job_id,action:h.CloudWssAction.INTERRUPT,chat_id:e},rsp_action:h.CloudWssAction.INTERRUPT_RESULT,entry:t});this.handleResult(n);if((n===null||n===void 0?void 0:n.error_code)===a.RetCodes.SUCCESS){(0,i.$dispatch)((0,u.addShowAnswerChatIdList)(e));(0,i.$dispatch)((0,u.updateShowAllContentChatId)(e));(0,i.$dispatch)((0,u.removeWaitingMessage)());const{chatBtnState:t}=(0,i.$getState)().main;if(t===d.ChatBtnState.THINKING){(0,i.$dispatch)((0,o.toggleChatBtnState)(d.ChatBtnState.PLAY))}return{result:true}}return{result:false,errorCode:n===null||n===void 0?void 0:n.error_code,errorMsg:n===null||n===void 0?void 0:n.error_msg}}catch(e){D.error("interruptSpeaking",t,e);return{result:false,errorCode:y.SDKErrorCode.RTC_PROMISE_ERROR,errorMsg:e===null||e===void 0?void 0:e.toString()}}}},{key:"activeInteractionMode",value:async function e(t){t+=",activeInteractionMode";const r=await this.websocketManager.send({param:{action:h.CloudWssAction.ACTIVE_INTERACTION_MODE},rsp_action:h.CloudWssAction.ACTIVE_INTERACTION_MODE_RSP,entry:t});this.handleResult(r);return{result:(r===null||r===void 0?void 0:r.error_code)===a.RetCodes.SUCCESS,errorCode:r===null||r===void 0?void 0:r.error_code,errorMsg:r===null||r===void 0?void 0:r.error_msg,interactionMode:r===null||r===void 0?void 0:r.interaction_mode}}},{key:"interactionModeSwitch",value:async function e({entry:t,interactionMode:r}){t+=",interactionModeSwitch";const n=await this.websocketManager.send({param:{action:h.CloudWssAction.INTERACTION_MODE_SWITCH,interaction_mode:r},rsp_action:h.CloudWssAction.INTERACTION_MODE_SWITCH_RSP,entry:t});this.handleResult(n);return{result:(n===null||n===void 0?void 0:n.error_code)===a.RetCodes.SUCCESS,errorCode:n===null||n===void 0?void 0:n.error_code,errorMsg:n===null||n===void 0?void 0:n.error_msg,interactionMode:n===null||n===void 0?void 0:n.interaction_mode}}},{key:"textQuestion",value:async function e({entry:t,text:r}){t+=",textQuestion";const n=await this.websocketManager.send({param:{action:h.CloudWssAction.TEXT_QUESTION,text:r},rsp_action:h.CloudWssAction.TEXT_QUESTION_RSP,entry:t});this.handleResult(n);if((n===null||n===void 0?void 0:n.error_code)===a.RetCodes.SUCCESS){this.chatId=n.chat_id||"";const e={text:r,isLast:true,resultId:0,chatId:this.chatId,requestId:n.request_id||"",messageType:c.CaptionMessageType.QUESTION,timestamp:Date.now()};(0,i.$dispatch)((0,u.updateCaptionMessageList)([e]));const{chatBtnState:t}=(0,i.$getState)().main;if(t===d.ChatBtnState.PLAY){(0,i.$dispatch)((0,o.toggleChatBtnState)(d.ChatBtnState.THINKING))}}return{result:(n===null||n===void 0?void 0:n.error_code)===a.RetCodes.SUCCESS,errorCode:n===null||n===void 0?void 0:n.error_code,errorMsg:n===null||n===void 0?void 0:n.error_msg,chatId:this.chatId}}},{key:"changeLanguage",value:async function e({entry:t,langCode:r,needErrorDeal:n=true}){t+=",changeLanguage";try{var i;if(!r){D.error(t,"langCode is empty");return(0,s.formatParamError)("langCode")}const e=await this.websocketManager.send({param:{job_id:(i=f.ConfigManager.getChatInfo(t))===null||i===void 0?void 0:i.job_id,action:h.CloudWssAction.LANGUAGE_CHANGE,chat_id:this.chatId,language:w.Webclient2VoiceLanguage[r]},rsp_action:h.CloudWssAction.LANGUAGE_CHANGE_RSP,entry:t});n&&this.handleResult(e);if((e===null||e===void 0?void 0:e.error_code)===a.RetCodes.SUCCESS){return{result:true}}return{result:false,errorCode:e===null||e===void 0?void 0:e.error_code,errorMsg:e===null||e===void 0?void 0:e.error_msg}}catch(e){D.error("changeLanguage",t,e);return{result:false,errorCode:y.SDKErrorCode.RTC_PROMISE_ERROR,errorMsg:e===null||e===void 0?void 0:e.toString()}}}},{key:"textDriven",value:async function e({entry:t,text:r,isLast:n=true,chatId:i}){t+=",textDriven";const o=await this.websocketManager.send({param:{action:h.CloudWssAction.TEXT_DRIVE,text:r,is_last:n,chat_id:i},rsp_action:h.CloudWssAction.TEXT_DRIVE_RSP,entry:t});this.handleResult(o);if((o===null||o===void 0?void 0:o.error_code)===a.RetCodes.SUCCESS){this.chatId=o.chat_id||""}return{result:(o===null||o===void 0?void 0:o.error_code)===a.RetCodes.SUCCESS,errorCode:o===null||o===void 0?void 0:o.error_code,errorMsg:o===null||o===void 0?void 0:o.error_msg,chatId:this.chatId}}},{key:"checkCanSynChatState",value:function e(){return this._canSynChatState}},{key:"synChatState",value:function e(t,r){const{chatBtnState:n}=(0,i.$getState)().main;D.debug("synChatState",r,t,this._canSynChatState,n);if(!this.checkCanSynChatState()){return}switch(t){case j.SPEAKING:if(n===d.ChatBtnState.PLAY){(0,i.$dispatch)((0,o.toggleChatBtnState)(d.ChatBtnState.ANSWERING))}break;case j.NOT_SPEAKING:if(n===d.ChatBtnState.ANSWERING){(0,i.$dispatch)((0,o.toggleChatBtnState)(d.ChatBtnState.PLAY))}break;default:break}}},{key:"recordStop",value:function t(r){r+=",recordStop";const{chatBtnState:n}=(0,i.$getState)().main;if(n!==d.ChatBtnState.INIT){D.info(r,n);if(n!==d.ChatBtnState.LOADING){_.HWIcsElectron.showAdvertise(r);(0,i.$dispatch)((0,o.toggleChatBtnState)(d.ChatBtnState.INIT));T.NotifyManager.sendEnterSleep(r)}(0,i.$dispatch)((0,u.clearCaptionMessageList)());e.clearChatIdStatusList(r);C.TextDriveManager.resetCache({entry:r})}}},{key:"handleResult",value:function e(t){const r="handleResult";D.info(r,t);if(!t||!t.error_code||t.error_code===a.RetCodes.SUCCESS){return false}if(t.error_level===h.ERROR_LEVEL.MINOR||N.includes(t.action)||[y.SDKErrorCode.WEBCLIENT_WEBSOCKET_CHANNEL_ABNORMAL,y.SDKErrorCode.WEBSOCKET_RESPONSE_TIMEOUT].includes(t.error_code)){D.error(r,t);(0,v.toast)({content:`${this._getWeakErrorMessage(t)}`});return true}(0,s.dealWebsocketError)({error:{error_code:t.error_code,error_msg:this._getErrorMessage(t),request_id:t.request_id},entry:r});return true}},{key:"_getWeakErrorMessage",value:function e(t){return`${(0,g.getErrorMessage)({errorCode:t===null||t===void 0?void 0:t.error_code})}`}},{key:"_getErrorMessage",value:function e(t){var r;return`WebSocket:${t===null||t===void 0?void 0:t.error_msg},jobId:${(r=f.ConfigManager.getChatInfo("getWsUrl"))===null||r===void 0?void 0:r.job_id}`}},{key:"_handleNoCallbackMsg",value:function e(t){const r={[h.CloudWssAction.PONG]:e=>this.synChatState(e.speak_status,"_handleNoCallbackMsg"),[h.CloudWssAction.ENTER_SLEEP]:()=>this.recordStop(h.CloudWssAction.ENTER_SLEEP),[h.CloudWssAction.SPEECH_RECOGNIZED]:e=>this.dealSpeechRecognized(e),[h.CloudWssAction.SEMANTIC_RECOGNIZED]:e=>this.dealSemanticRecognized(e),[h.CloudWssAction.ACCEPT_NEW_QUESTION]:e=>{this._limitSyn();(0,i.$dispatch)((0,u.addShowAnswerChatIdList)(this.chatId));(0,i.$dispatch)((0,u.updateShowAllContentChatId)(this.chatId));this.hasChatIdToStopChat();this.dealSpeakStateToggle(e);b.EventManager.dispatchICSEvent(y.ICSEventKey.SPEAKING_STOP);this.chatId=(e===null||e===void 0?void 0:e.chat_id)||""},[h.CloudWssAction.LANGUAGE_CHANGE]:e=>{window.dispatchEvent(new CustomEvent(y.InnerICSEventKey.WS_CHANGE_LANGUAGE,{detail:e}))}};if(t!==null&&t!==void 0&&t.action&&r[t.action]){r[t.action](t);return}switch(t===null||t===void 0?void 0:t.action){case null:case h.CloudWssAction.ERROR:this.handleResult(t);break;case h.CloudWssAction.START_SPEAKING:this._limitSyn();(0,n.sleep)(p.SPEAKING_TIMEOUT).then((()=>(0,i.$dispatch)((0,u.addShowAnswerChatIdList)((t===null||t===void 0?void 0:t.chat_id)||""))));this.dealSpeakStateToggle(t);b.EventManager.dispatchICSEvent(y.ICSEventKey.SPEAKING_START);_.HWIcsElectron.hideAdvertiseStartSpeak("start_speaking");break;default:break}}},{key:"_limitSyn",value:function e(){D.info("_limitSyn start",this._canSynChatState);this._canSynChatState=false;const t=new n.Timer.TimerTask((()=>{D.info("_limitSyn do task",this._canSynChatState);this._canSynChatState=true;this._synManager.cancel()}));this._synManager.cancel().schedule(t,p.LIMIT_SYN_TIME)}},{key:"dealSpeechRecognized",value:function e(t){this.chatId=t.chat_id||"";if(t.text){const e={text:t.text,isLast:t.is_last,resultId:t.result_id||0,chatId:this.chatId};const r=R(R({},e),{},{requestId:t.request_id,messageType:c.CaptionMessageType.QUESTION,timestamp:Date.now()});(0,i.$dispatch)((0,u.updateCaptionMessageList)([r]));b.EventManager.dispatchICSEvent(y.ICSEventKey.SPEECH_RECOGNIZED,e);const{chatBtnState:n}=(0,i.$getState)().main;if(t.is_last&&n===d.ChatBtnState.PLAY){(0,i.$dispatch)((0,o.toggleChatBtnState)(d.ChatBtnState.THINKING))}}}},{key:"dealSemanticRecognized",value:function e(t){this.chatId=t.chat_id||"";const r={text:t.text,questionText:t.question_text,isLast:t.is_last,resultId:t.result_id||0,chatId:this.chatId};const n=R(R({},r),{},{requestId:t.request_id,messageType:c.CaptionMessageType.ANSWER,timestamp:Date.now()});(0,i.$dispatch)((0,u.updateCaptionMessageList)([n]));F(t);b.EventManager.dispatchICSEvent(y.ICSEventKey.SEMANTIC_RECOGNIZED,r);this.checkHumanService(n)}},{key:"dealSpeakStateToggle",value:function e(t){const{chatBtnState:r}=(0,i.$getState)().main;if(r===d.ChatBtnState.INIT||r===d.ChatBtnState.STOPPING){return}(0,i.$dispatch)((0,o.toggleChatBtnState)(t.action===h.CloudWssAction.START_SPEAKING?d.ChatBtnState.ANSWERING:d.ChatBtnState.PLAY))}},{key:"checkHumanService",value:async function t(r){var n;if(!r.isLast){return}const o=(0,i.$getState)().caption.captionList;const a=((n=o.find((e=>e.chatId===r.chatId&&e.messageType===c.CaptionMessageType.ANSWER)))===null||n===void 0?void 0:n.text)||"";const s=(0,i.$getState)().caption.showAllContentChatId;if(S.RichTextUtils.hasHumanservice(a)){var u;const t={chatId:r.chatId,status:U.WAIT};const n=await _.HWIcsElectron.callCloudWatch("checkHumanService");D.info("checkHumanService => callCloudWatchRes",n);if((n===null||n===void 0?void 0:(u=n.data)===null||u===void 0?void 0:u.code)===0){t.status=U.SUCCESS;if(s.includes(r.chatId)){window.dispatchEvent(new CustomEvent(y.InnerICSEventKey.STOP_CHAT_EVENT,{detail:{entry:"checkHumanService"}}))}}else{t.status=U.FAIL}e.cloudWatchChatIdStatus.push(t)}}},{key:"hasChatIdToStopChat",value:function t(){D.info("hasChatIdToStopChat",e.cloudWatchChatIdStatus);if(e.cloudWatchChatIdStatus.find((e=>e.chatId===this.chatId&&e.status===U.SUCCESS))){window.dispatchEvent(new CustomEvent(y.InnerICSEventKey.STOP_CHAT_EVENT,{detail:{entry:"hasChatIdToStopChat"}}))}}}],[{key:"getInstance",value:function t(){if(!e.portalManager){e.portalManager=new e}return e.portalManager}},{key:"clearChatIdStatusList",value:function e(t){D.info("clearChatIdStatusList",t);this.cloudWatchChatIdStatus=[]}}])}();H.cloudWatchChatIdStatus=[];L([(0,n.printfDecorator)(D)],H.prototype,"closeOldWebsocket",null);L([(0,n.printfDecorator)(D)],H.prototype,"initWebsocket",null);L([(0,n.printfDecorator)(D)],H.prototype,"startChat",null);L([(0,n.printfDecorator)(D)],H.prototype,"stopChat",null);L([(0,n.printfDecorator)(D)],H.prototype,"stopJob",null);L([(0,n.printfDecorator)(D)],H.prototype,"interruptSpeaking",null);L([(0,n.printfDecorator)(D)],H.prototype,"activeInteractionMode",null);L([(0,n.printfDecorator)(D)],H.prototype,"interactionModeSwitch",null);L([(0,n.printfDecorator)(D)],H.prototype,"textQuestion",null);L([(0,n.printfDecorator)(D)],H.prototype,"textDriven",null);L([(0,n.printfDecorator)(D)],H.prototype,"recordStop",null);L([(0,n.printfDecorator)(D)],H.prototype,"_limitSyn",null);L([(0,n.printfDecorator)(D)],H.prototype,"dealSpeechRecognized",null);L([(0,n.printfDecorator)(D)],H.prototype,"dealSemanticRecognized",null);L([(0,n.printfDecorator)(D)],H.prototype,"dealSpeakStateToggle",null);L([(0,n.printfDecorator)(D)],H.prototype,"checkHumanService",null);L([(0,n.printfDecorator)(D)],H.prototype,"hasChatIdToStopChat",null);L([(0,n.printfDecorator)(D)],H,"clearChatIdStatusList",null)},45159:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(14274);var i=r(12262);var o=r(62850);var a=r(19795);var s=r(84343);var u=r(38598);var c=r(98535);var l=r(25725);var f=r(28205);var d=r(98951);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const y=new o.Log({module:"RejoinManager"});var _;(function(e){e["INIT"]="init";e["DOING"]="doing";e["WAITING"]="waiting"})(_||(_={}));let b=t["default"]=function(){function e(){h(this,e);this._status=_.INIT;this._delayInterval=3e4;this._timerManager=new n.Timer;this._count=0}return v(e,[{key:"rejoin",value:async function e(t){var r;let n=t.entry+",rejoin";const o=((r=u.ConfigManager.getChatInfo(t.entry))===null||r===void 0?void 0:r.job_id)||"";n+=`,${o}`;y.info("rejoin start",t.errorCode,this._status,this._count,n);if(this._status===_.DOING){y.info("rejoin status is doing",n);return}this._count++;this._status=_.DOING;this._timerManager.cancel();await c.HwICS.clearBase(n);(0,a.$dispatch)((0,s.toggleShowLoading)({show:true,contentKey:t.reason}));(0,a.$dispatch)((0,s.togglePageState)(i.PageState.MAIN));l.HWIcsElectron.hideAdvertiseMoreInfo(n);await c.HwICS.joinChatRoom(n);this._status=_.INIT;y.info("rejoin end",n)}},{key:"waitRejoin",value:async function e(t){y.info("rejoin waitRejoin",t);this._status=_.WAITING;this.rejoinTask=new n.Timer.TimerTask((()=>this.rejoin({entry:"rejoin failed",reason:f.RejoinReason.NETWORK_ERROR,errorCode:d.SDKErrorCode.MPS_JOB_STATE_NULL})));this._timerManager.cancel().schedule(this.rejoinTask,this._delayInterval)}},{key:"clearCount",value:function e(t){y.info("rejoin clearCount",t);this._count=0}}],[{key:"getInstance",value:function t(){if(!e.rejoinManager){e.rejoinManager=new e}return e.rejoinManager}}])}();window.addEventListener(d.InnerICSEventKey.REJOIN_EVENT,(e=>{const{method:t,entry:r}=e.detail;if(t===d.InnerICSEventMethod.REJOIN){b.getInstance().rejoin(e.detail)}else if(t===d.InnerICSEventMethod.WAIT_REJOIN){b.getInstance().waitRejoin(r)}}))},3017:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.Machine2MachineVerification=void 0;var n=r(62850);var i=r(30683);var o=r(84343);var a=r(12262);var s=r(19795);var u=r(11579);var c=r(38598);var l=r(81439);var f=r(14274);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=g(e,"string");return"symbol"==typeof t?t:t+""}function g(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var m=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const y=new n.Log({module:"HwICS.Machine2MachineVerification"});let _=t.Machine2MachineVerification=function(){function e(){d(this,e)}return p(e,null,[{key:"onceCodeAuth",value:async function e({onceCode:t,entry:r}){const n=await l.HttpRequestManager.doPost({url:u.BaseUrl.AUTH_ONCE_CODE,data:{robot_id:c.ConfigManager.getRobotId(r),once_code:t},entry:r});if(!n){return false}(0,s.$dispatch)((0,o.togglePageState)(a.PageState.MAIN));i.TokenManager.setCacheCodeAuthInfo({authInfo:n,entry:r});i.TokenManager.startRefreshToken({authInfo:n});y.debug("onceCodeAuth",r,n);return true}}])}();m([(0,f.printfDecorator)(y)],_,"onceCodeAuth",null)},30683:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.TokenManager=void 0;var n=r(62850);var i=r(14274);var o=r(38598);var a=r(25725);var s=r(81439);var u=r(11579);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const p=new n.Log({module:"HwICS.TokenManager"});let v=t.TokenManager=function(){function e(){c(this,e)}return f(e,null,[{key:"startRefreshToken",value:async function t({authInfo:r,entry:n=0}){n++;const{valid_period:o,refresh_token:a}=r;p.info("startRefreshToken",n,o);await(0,i.sleep)(o*500);const c=await s.HttpRequestManager.doPut({url:u.BaseUrl.TOKEN,config:{headers:{[u.HttpHeaders.AUTH_TOKEN]:a}},entry:`startRefreshToken,${n}`});if(c){r=c;e.setCacheCodeAuthInfo({authInfo:r,entry:`startRefreshToken,${n}`})}e.startRefreshToken({authInfo:r,entry:n})}},{key:"setCacheCodeAuthInfo",value:function e({authInfo:t,entry:r}){try{p.info("setCacheCodeAuthInfo",r);o.ConfigManager.updateAuthInfo({authInfo:t,entry:r});if(t){a.HWIcsElectron.saveAuthInfo({value:{authInfo:t,robotId:o.ConfigManager.getRobotId(r)},entry:`${r},setCacheCodeAuthInfo`})}else{a.HWIcsElectron.deleteAuthInfo(`${r},setCacheCodeAuthInfo`)}return true}catch(e){p.error("setCodeAuthInfo",e);return false}}},{key:"getCacheAuthInfo",value:async function e(t){p.info("getCacheAuthInfo",t);if(!a.HWIcsElectron.isHWIcsElectron()){return null}const r=await a.HWIcsElectron.queryAuthInfo(`${t},getCacheAuthInfo`);if(r!==null&&r!==void 0&&r.robotId&&(r===null||r===void 0?void 0:r.robotId)===o.ConfigManager.getRobotId(t)){return r.authInfo}return null}}])}()},60867:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.TransparentBg=void 0;var n=r(14274);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=u(e,"string");return"symbol"==typeof t?t:t+""}function u(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let c=t.TransparentBg=function(){function e(){var t,r;i(this,e);e.remoteContainer=document.querySelector("#remoteContainer");const o=(t=e.remoteContainer)===null||t===void 0?void 0:t.querySelector("video");if(!o){return}e.remoteContainer.style.display="none";const a=new n.LocalTransparentVideoBg({videoElem:o,rootElem:document.querySelector(".digital-intelligent-interaction"),similarity:.03,spill:.1,smoothness:.22,canvasId:"transparentCanvasElem"});(r=e.cvsVideo)===null||r===void 0?void 0:r.destroy();e.cvsVideo=a}return a(e,[{key:"destory",value:function t(){var r;if(e.remoteContainer){e.remoteContainer.style.display="block"}(r=e.cvsVideo)===null||r===void 0?void 0:r.destroy()}}])}()},33181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.Utils=t.StatePromise=void 0;var n=r(62850);var i=r(98951);var o=r(14274);var a=r(51988);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=p(e,"string");return"symbol"==typeof t?t:t+""}function p(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const v=new n.Log({module:"HwICS.Utils"});function g(e){if(e!==null&&e!==void 0&&e.shadow_image){var t;e.shadow_image=(t=e.shadow_image)===null||t===void 0?void 0:t.length}if(e!==null&&e!==void 0&&e.cut_image){var r;e.cut_image=(r=e.cut_image)===null||r===void 0?void 0:r.length}}function m(e){if(e!==null&&e!==void 0&&e.slide_token){e.slide_token=(0,o.handleTokenPrint)(e.slide_token)}if(e!==null&&e!==void 0&&e.access_token){e.access_token=(0,o.handleTokenPrint)(e.access_token)}if(e!==null&&e!==void 0&&e.refresh_token){e.refresh_token=(0,o.handleTokenPrint)(e.refresh_token)}if(e!==null&&e!==void 0&&e.active_code){e.active_code=(0,o.handleTokenPrint)(e.active_code)}if(e!==null&&e!==void 0&&e.user_key){e.user_key=(0,o.handleTokenPrint)(e.user_key)}if(e!==null&&e!==void 0&&e.verification_id){e.verification_id=(0,o.handleTokenPrint)(e.verification_id)}}function y(e){if(e!==null&&e!==void 0&&e.robot_id){e.robot_id=(0,o.handleTokenPrint)(e.robot_id)}}function _(e){var t;if(e!==null&&e!==void 0&&e.rtc_room_info&&e!==null&&e!==void 0&&(t=e.rtc_room_info)!==null&&t!==void 0&&t.users){var r,n;e.rtc_room_info=f({},e.rtc_room_info);e.rtc_room_info.users=e===null||e===void 0?void 0:(r=e.rtc_room_info)===null||r===void 0?void 0:(n=r.users)===null||n===void 0?void 0:n.length}}let b=t.Utils=function(){function e(){s(this,e)}return c(e,null,[{key:"checkAudioDevice",value:async function e(){try{const e=await navigator.mediaDevices.getUserMedia({audio:true});v.info("checkAudioDevice",e);return true}catch(e){v.error("checkAudioDevice",e===null||e===void 0?void 0:e.toString());return false}}},{key:"isAudioDeviceDenied",value:async function e(){try{await navigator.mediaDevices.getUserMedia({audio:true});v.info("isAudioDeviceDenied, false");return false}catch(e){const t=(e===null||e===void 0?void 0:e.toString())||"";v.error("isAudioDeviceDenied",t);return t.includes("Permission denied")}}},{key:"handleHttpResult",value:function e(t){if((0,o.formatType)(t)!==o.formatType.OBJECT){return t}t=(0,o.deepCopy)(t);g(t);m(t);y(t);_(t);return t}},{key:"handleHttpParam",value:function e(t){if((0,o.formatType)(t)!==o.formatType.OBJECT){return t}t=(0,o.deepCopy)(t);m(t);y(t);return t}},{key:"getIosVersion",value:function e(){var t,r,n;const i=navigator.userAgent.toLowerCase();return parseInt(((t=i.match(/cpu iphone os (.*?) like mac os/))===null||t===void 0?void 0:(r=t[1])===null||r===void 0?void 0:(n=r.split("_"))===null||n===void 0?void 0:n[0])||"-1")}},{key:"getBrowserInfo",value:function e(){const t={[i.BrowserType.CHROME]:/chrome\/([\d.]+)/,[i.BrowserType.EDGE]:/edg\/([\d.]+)/,[i.BrowserType.SAFARI]:/safari\/([\d.]+)/,[i.BrowserType.WE_CHAT]:/micromessenger\/([\d.]+)/};const r=Object.keys(t);const n=navigator.userAgent.toLowerCase();for(let e=0;e<r.length;e++){if(t[r[e]].test(n)){return r[e]}}return i.BrowserType.UNSUPPORTED}},{key:"formatLangCode",value:function e(t){if((0,o.formatType)(t)!==o.formatType.STRING){return a.LanguageCode.ZH_CN}return t.toLocaleLowerCase().startsWith("zh")?a.LanguageCode.ZH_CN:a.LanguageCode.EN_US}},{key:"formatLanguage",value:function e(t,...r){return(0,o.replaceStringPlaceholder)(t,"%s",[...r])}},{key:"formatOrigin",value:function e(t){if(t&&!(t!==null&&t!==void 0&&t.startsWith("https://"))){return`https://${t}`}return t}},{key:"checkDomain",value:function e(t){if((0,o.checkIPV4)(t.replace("https://",""))){return true}return(t===null||t===void 0?void 0:t.startsWith("https://metastudio-api"))&&(t===null||t===void 0?void 0:t.endsWith(".myhuaweicloud.com"))}},{key:"functionCheck",value:function e(t){return(0,o.formatType)(t)===o.formatType.FUNCTION||(0,o.formatType)(t)===o.formatType.ASYNCFUNCTION}}])}();b.safeJSONParse=function(e){try{return JSON.parse(e)}catch(e){return null}};b.waitTask=e=>{let t;let r;return{promise:new Promise((n=>{t=n;r=setTimeout((()=>{n(true)}),e)})),stop:()=>{clearTimeout(r);t(false)}}};b.getRequestId=()=>{let e=(new Date).getTime();return"xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const r=window.crypto.getRandomValues(new Uint8Array(1))[0];const n=(e+r*16/100)%16|0;e=Math.floor(e/16);return(t==="x"?n:n&7|8).toString(16)}))};let E=t.StatePromise=function(){function e(t){s(this,e);this.resolveMap=new Map;this.promiseMap=new Map;t.forEach((e=>{this.promiseMap.set(e,new Promise((t=>{this.resolveMap.set(e,t)})))}))}return c(e,[{key:"getState",value:function e(){return this.state}},{key:"setState",value:function e(t){this.state=t;if(t){var r,n,i;(r=this.resolveMap.get(t))===null||r===void 0?void 0:r();(n=this.getNextResolve)===null||n===void 0?void 0:(i=n.call(this,t))===null||i===void 0?void 0:i()}}},{key:"wait",value:function e(t){if(!t){return Promise.resolve()}return this.promiseMap.get(t)}},{key:"waitNext",value:function e(t){return new Promise((e=>{this.getNextResolve=r=>{if(r===t){return e}return null}}))}}])}()},19128:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.Verbatim=void 0;var n=r(3924);var i=r(62850);var o=r(14274);var a=r(58955);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==typeof t?t:t+""}function f(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const h=new i.Log({module:"HwICS.Verbatim"});let p=t.Verbatim=function(){function e({onChange:t,chatId:r}){s(this,e);this._currentIndex=0;this._originalText="";this._finished=true;this._destroyed=false;this._id=(0,o.createEntry)();this._onChange=(e,r)=>{this.debug("_onChange",r,e.length);t(e)};this.chatId=r}return c(e,[{key:"updateText",value:function e(t,r){var n;this.info("updateText",r,(n=t)===null||n===void 0?void 0:n.length,this._destroyed,this._originalText.length);if(!t){t=""}if(this._destroyed){return}if(!this.startTime){this.startTime=Date.now()}if(t.length<=this._originalText.length){return}this._originalText=a.RichTextUtils.textToTextContent(t);if(this._finished){this._finished=false;this._updateNewContent("updateText 2")}}},{key:"goToEnd",value:function e(t){const r=this.startTime?Date.now()-this.startTime:0;const n=this.getTotalTime();this.info("goToEnd",JSON.stringify({entry:t,realConsume:r,expectConsume:n,isFinished:this._finished,isDestroyed:this._destroyed}));if(this._destroyed){return}this._currentIndex=this._originalText.length;this._updateNewContent("goToEnd")}},{key:"destroy",value:function e(){this.info("destroy");this._clearTimer();this._destroyed=true}},{key:"_isEnglishContent",value:function e(t){return/[a-zA-Z]/.test(t)}},{key:"_getWordsUseTime",value:function e(t){if(t.length>1){return t.length*n.English_WORD_USE_TIME}return n.PUNCTUATION_USE_TIME_MAP[t]||n.CHINESE_WORD_USE_TIME}},{key:"_getEnglishWord",value:function e(t){let r="";for(let e=0;e<t.length;e++){if(this._isEnglishContent(t[e])){r+=t[e]}else{return r}}return r}},{key:"_getNextContent",value:function e(t){const r=t[0];if(this._isEnglishContent(r)){return this._getEnglishWord(t)}return r}},{key:"_clearTimer",value:function e(){if(this._timer){clearInterval(this._timer);this._timer=null}}},{key:"_finish",value:function e(t){t+=",_finish";const r=this.startTime?Date.now()-this.startTime:0;const n=this.getTotalTime();this.info("finish",JSON.stringify({entry:t,realConsume:r,expectConsume:n,isFinished:this._finished}));if(this._finished){return}this._clearTimer();this._onChange(this._originalText,t);this._finished=true}},{key:"_updateNewContent",value:function e(t){this.debug(t,this._destroyed,this._currentIndex);if(this._destroyed){return}const r=this._originalText.substring(this._currentIndex);this.debug(t,"noSayWords",r.length);if(!r){this._finish(t);return}const n=this._getNextContent(r);this.debug(t,"newWords",n);this._currentIndex+=n.length;this._onChange(this._originalText.substring(0,this._currentIndex),t);const i=this._getWordsUseTime(n);this._clearTimer();this._timer=setTimeout((()=>{this._updateNewContent(t)}),i)}},{key:"getTotalTime",value:function e(){const t=this._originalText.slice(0,this._currentIndex);let r=0;for(let e=0;e<t.length;){const n=this._getNextContent(t.slice(e));e+=n.length;r+=this._getWordsUseTime(n)}return r}},{key:"debug",value:function e(t,...r){h.debug(t,this._id,this.chatId,...r)}},{key:"info",value:function e(t,...r){h.info(t,this._id,this.chatId,...r)}}])}();d([(0,o.printfDecorator)(h)],p.prototype,"updateText",null);d([(0,o.printfDecorator)(h)],p.prototype,"goToEnd",null);d([(0,o.printfDecorator)(h)],p.prototype,"destroy",null);d([(0,o.printfDecorator)(h)],p.prototype,"_isEnglishContent",null);d([(0,o.printfDecorator)(h)],p.prototype,"_getWordsUseTime",null);d([(0,o.printfDecorator)(h)],p.prototype,"_getEnglishWord",null);d([(0,o.printfDecorator)(h)],p.prototype,"_getNextContent",null);d([(0,o.printfDecorator)(h)],p.prototype,"_clearTimer",null);d([(0,o.printfDecorator)(h)],p.prototype,"_finish",null);d([(0,o.printfDecorator)(h)],p.prototype,"_updateNewContent",null)},81439:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.HttpRequestManager=void 0;var n=r(11579);var i=r(86062);var o=r(62850);var a=r(14274);var s=u(r(25157));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const v=new o.Log({module:"HttpRequestManager"});let g=t.HttpRequestManager=function(){function e(){c(this,e)}return f(e,null,[{key:"doPost",value:async function t(r){const i=await s.default.post(r.url,r.data,r.config);return e.dealHttpResult({entry:r.entry,result:i,url:n.BaseUrl.CREATE_ONCE_TOKEN,showErrorTips:r.showErrorTips})}},{key:"doGet",value:async function t(r){const i=await s.default.get(r.url,r.config);return e.dealHttpResult({entry:r.entry,result:i,url:n.BaseUrl.CREATE_ONCE_TOKEN,showErrorTips:r.showErrorTips})}},{key:"doPut",value:async function t(r){const i=await s.default.put(r.url,r.data,r.config);return e.dealHttpResult({entry:r.entry,result:i,url:n.BaseUrl.CREATE_ONCE_TOKEN,showErrorTips:r.showErrorTips})}},{key:"dealHttpResult",value:function t({entry:r,result:n,url:i,showErrorTips:o=true}){r+=",dealResult";v.debug(r,n);if(e.dealDataErrorInfo({result:n,url:i,entry:r,showErrorTips:o})){return null}if(e.dealErrorData({result:n,url:i,entry:r,showErrorTips:o})){return null}if(e.dealNormalErrorData({result:n,url:i,entry:r,showErrorTips:o})){return null}if(e.dealHttpCodeError({result:n,url:i,entry:r,showErrorTips:o})){return null}return n.data}}])}();g.dealHttpCodeError=({result:e,url:t,entry:r,showErrorTips:o})=>{if(e.status&&e.status!==n.HttpCodes.OK){(0,i.dealHttpError)({url:t,error:{error_code:e.status.toString(),error_msg:e.statusText,request_id:e===null||e===void 0?void 0:e.headers["x-request-id"]},entry:r,showErrorTips:o});return true}return false};g.dealDataErrorInfo=({result:e,url:t,entry:r,showErrorTips:o})=>{var a,s,u;if((a=e.data)!==null&&a!==void 0&&(s=a.error_info)!==null&&s!==void 0&&s.error_code&&((u=e.data.error_info)===null||u===void 0?void 0:u.error_code)!==n.MPSRetCodes.SUCCESS){e.data.error_info.request_id=e.headers["x-request-id"];(0,i.dealHttpError)({url:t,error:e.data.error_info,entry:r,showErrorTips:o});return true}return false};g.dealErrorData=({result:e,url:t,entry:r,showErrorTips:o})=>{var a,s;if((a=e.data)!==null&&a!==void 0&&a.error_code&&((s=e.data)===null||s===void 0?void 0:s.error_code)!==n.RetCodes.SUCCESS){(0,i.dealHttpError)({url:t,error:e.data,entry:r,showErrorTips:o});return true}return false};g.dealNormalErrorData=({result:e,url:t,entry:r,showErrorTips:o})=>{if(e.error){var a,s;let u=e.error.code;if(!u&&!e.error.response){u=n.HttpCodes.NO_RESP.toString()}(0,i.dealHttpError)({url:t,error:{error_code:u,error_msg:e.error.message,request_id:(a=e.error)===null||a===void 0?void 0:(s=a.config)===null||s===void 0?void 0:s.headers["x-request-id"]},entry:r,showErrorTips:o});return true}return false};p([(0,a.printfDecorator)(v)],g,"dealHttpResult",null)},49270:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.RtcInfoManager=void 0;var n=l(r(25157));var i=r(11579);var o=r(14274);var a=r(62850);var s=r(38598);var u=r(51988);var c=r(81439);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=v(e,"string");return"symbol"==typeof t?t:t+""}function v(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const m=new a.Log({module:"HwICS.RtcInfoManager"});let y=t.RtcInfoManager=function(){function e(){f(this,e)}return h(e,[{key:"getHotQuestion",value:async function e({limit:t,language:r=u.LanguageCode.ZH_CN,entry:o}){var a;o+=",getHotQuestion";const c=await n.default.get(i.BaseUrl.GET_HOT_QUESTION,{headers:{[i.HttpHeaders.AUTH_TOKEN]:((a=s.ConfigManager.getAuthInfo(o))===null||a===void 0?void 0:a.access_token)||""},params:{limit:t,language:u.Webclient2VoiceLanguage[r]}});return c===null||c===void 0?void 0:c.data}},{key:"deleteToken",value:async function e({entry:t}){var r;t+=",deleteToken";if((r=s.ConfigManager.getAuthInfo(t))!==null&&r!==void 0&&r.access_token){var o;await n.default.delete(i.BaseUrl.TOKEN,{headers:{[i.HttpHeaders.AUTH_TOKEN]:((o=s.ConfigManager.getAuthInfo(t))===null||o===void 0?void 0:o.access_token)||""}})}}},{key:"queryJigsaw",value:async function e({width:t,height:r,entry:o}){var a;o+=",queryJigsaw";const u=await n.default.post(i.BaseUrl.VERIFICATION_SLIDE,{verify_type:0,user_key:s.ConfigManager.getRobotId(o),width:t,height:r});let l=false;if((u===null||u===void 0?void 0:(a=u.data)===null||a===void 0?void 0:a.error_code)===i.RetCodes.NO_PERMISSION_USE){l=true}return c.HttpRequestManager.dealHttpResult({entry:o,result:u,url:i.BaseUrl.VERIFICATION_SLIDE,showErrorTips:l})}},{key:"verifyJigsaw",value:async function e({verification_id:t,point_x:r,slide_time:o,entry:a}){a+=",verifyJigsaw";const s=await n.default.post(i.BaseUrl.VERIFICATION_SLIDE_VERIFY,{verification_id:t,point_x:r,slide_time:o});return c.HttpRequestManager.dealHttpResult({entry:a,result:s,url:i.BaseUrl.VERIFICATION_SLIDE_VERIFY,showErrorTips:false})}}],[{key:"getInstance",value:function t(){if(!e.rtcManager){e.rtcManager=new e}return e.rtcManager}}])}();g([(0,o.printfDecorator)(m)],y.prototype,"getHotQuestion",null);g([(0,o.printfDecorator)(m)],y.prototype,"deleteToken",null);g([(0,o.printfDecorator)(m)],y.prototype,"queryJigsaw",null);g([(0,o.printfDecorator)(m)],y.prototype,"verifyJigsaw",null)},25157:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=c(r(97218));var i=r(30265);var o=r(83353);var a=r(11579);var s=r(38598);var u=r(33181);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=p(e,"string");return"symbol"==typeof t?t:t+""}function p(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const v="x-request-id";const g=[a.BaseUrl.REPORT];var m;(function(e){e["MATCH"]="match";e["MISMATCH"]="mismatch"})(m||(m={}));var y;(function(e){e["REQUEST_ERROR"]="request_error";e["RESPONSE_ERROR"]="response_error";e["RESPONSE"]="response"})(y||(y={}));function _(e){var t,r,n,i,o;return(e===null||e===void 0?void 0:(t=e.headers)===null||t===void 0?void 0:t[v])||(e===null||e===void 0?void 0:(r=e.response)===null||r===void 0?void 0:(n=r.headers)===null||n===void 0?void 0:n[v])||(e===null||e===void 0?void 0:(i=e.config)===null||i===void 0?void 0:(o=i.headers)===null||o===void 0?void 0:o[v])||""}function b(e){var t;const{config:r}=e;const n=r===null||r===void 0?void 0:(t=r.headers)===null||t===void 0?void 0:t["x-request-id"];const i=_(e);return n===i}function E(e,t){const{config:r}=t;if(!g.includes((r===null||r===void 0?void 0:r.url)||"")){var n,a,s;const u={arg1:o.Arg1Map.SERVER_API,arg2:`${r===null||r===void 0?void 0:r.method}-${r===null||r===void 0?void 0:r.url}`,args:{error:(t===null||t===void 0?void 0:(n=t.response)===null||n===void 0?void 0:(a=n.status)===null||a===void 0?void 0:a.toString())||"",key:_(t),result:(t===null||t===void 0?void 0:(s=t.response)===null||s===void 0?void 0:s.data)||""}};i.UserTrack.endUserTrack(f(f({},u),{},{eventKey:_(t),args:f(f({},u.args),{},{type:`${m.MATCH}-${e}`})}));if(!b(t)){i.UserTrack.addUserTrack(f(f({},u),{},{args:f(f({},u.args),{},{type:`${m.MISMATCH}-${e}`})}))}}}function S(e){const{headers:t}=e;if(!g.includes((e===null||e===void 0?void 0:e.url)||"")){const r={arg1:o.Arg1Map.SERVER_API,arg2:e===null||e===void 0?void 0:e.url,args:{param:JSON.stringify(u.Utils.handleHttpParam(e.data)),key:t===null||t===void 0?void 0:t[v]}};i.UserTrack.startUserTrack(f(f({},r),{},{eventKey:t===null||t===void 0?void 0:t[v]}));i.UserTrack.addUserTrack(r)}}function w(e){const{config:t}=e;if(!g.includes((t===null||t===void 0?void 0:t.url)||"")){var r;const n={arg1:o.Arg1Map.SERVER_API,arg2:`${t===null||t===void 0?void 0:t.method}-${t===null||t===void 0?void 0:t.url}`,args:{error:e===null||e===void 0?void 0:(r=e.status)===null||r===void 0?void 0:r.toString(),result:JSON.stringify(u.Utils.handleHttpResult(e.data)),key:e.headers[v]}};i.UserTrack.endUserTrack(f(f({},n),{},{eventKey:e.headers[v],args:f(f({},n.args),{},{type:m.MATCH})}));if(!b(e)){i.UserTrack.addUserTrack(f(f({},n),{},{args:f(f({},n.args),{},{type:m.MISMATCH})}))}}}const T=e=>{const t=[];Object.keys(e).forEach((r=>{const n=e[r];if(n===null||typeof n==="undefined"){return}t.push(`${r}=${encodeURIComponent(n)}`)}));return t.join("&")};const C=n.default.create({timeout:3e4,paramsSerializer:T});C.interceptors.request.use((e=>{var t;const{headers:r}=e;r[v]=u.Utils.getRequestId();r["x-request-terminal-version"]="3.2.0";r["x-request-terminal-platform"]="websdk";e.baseURL=(t=s.ConfigManager.getBaseUrl())===null||t===void 0?void 0:t.origin;S(e);return e}),(e=>{E(y.REQUEST_ERROR,e);return Promise.reject(e)}));C.interceptors.response.use((e=>{w(e);return e}),(e=>{E(y.RESPONSE_ERROR,e);if(e!==null&&e!==void 0&&e.response){return e===null||e===void 0?void 0:e.response}return{error:e}}));var A=t["default"]=C},59578:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.StorageManager=void 0;var n=r(14274);var i=r(62850);var o=r(38598);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=l(e,"string");return"symbol"==typeof t?t:t+""}function l(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const d=new i.Log({module:"StorageManager"});let h=t.StorageManager=function(){function e(){a(this,e)}return u(e,null,[{key:"setLocalStorageItem",value:async function t(r){r.key=await e.formatKey(r.key);return(0,n.setLocalStorageItem)(r)}},{key:"getLocalStorageItem",value:async function t(r){return localStorage.getItem(await e.formatKey(r))}},{key:"remoteLocalStorageItem",value:async function t(r){return localStorage.removeItem(await e.formatKey(r))}},{key:"formatKey",value:async function t(r){if(!e.digitalHumanConfig){var n,i;e.digitalHumanConfig=await((n=window.hwIcsElectron)===null||n===void 0?void 0:(i=n.getMultipleDigitalHumanConfig)===null||i===void 0?void 0:i.call(n))}if(!e.digitalHumanConfig||e.digitalHumanConfig.count<=1||e.digitalHumanConfig.urlListLength<=1||e.digitalHumanConfig.avatarList.length<=1){return r}return`${r}-${o.ConfigManager.getRobotId("getAuthCacheKey")}`}},{key:"checkLocalStorage",value:async function t(){const r=await e.setLocalStorageItem({key:"checkLocalStorageData",value:new Array(1024*40/2).fill("a").join(""),isForce:true});if(r){await e.remoteLocalStorageItem("checkLocalStorageData")}}}])}();f([(0,n.printfDecorator)(d)],h,"setLocalStorageItem",null);f([(0,n.printfDecorator)(d)],h,"getLocalStorageItem",null);f([(0,n.printfDecorator)(d)],h,"remoteLocalStorageItem",null);f([(0,n.printfDecorator)(d)],h,"formatKey",null);f([(0,n.printfDecorator)(d)],h,"checkLocalStorage",null)},47365:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.ChatDataManager=void 0;var n=r(14274);var i=r(25725);var o=r(19795);var a=r(51852);var s=r(84343);var u=r(12262);var c=r(80175);var l=r(62850);var f=r(56718);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=g(e,"string");return"symbol"==typeof t?t:t+""}function g(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var m=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const y=new l.Log({module:"ChatDataManager"});let _=t.ChatDataManager=function(){function e(){d(this,e)}return p(e,null,[{key:"resetChatData",value:function e(t){i.HWIcsElectron.showAdvertise(t);(0,o.$dispatch)((0,a.clearCaptionMessageList)());(0,o.$dispatch)((0,s.toggleChatBtnState)(u.ChatBtnState.INIT));c.PortalWssManager.clearChatIdStatusList(t);f.TextDriveManager.resetCache({entry:t})}}])}();m([(0,n.printfDecorator)(y)],_,"resetChatData",null)},50730:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.ChatManager=void 0;var n=r(33181);var i=r(19795);var o=r(35520);var a=r(84343);var s=r(12262);var u=r(80175);var c=r(62850);var l=r(51852);var f=r(98951);var d=r(93367);var h=r(11579);var p=r(25725);var v=r(14274);var g=r(66541);var m=r(38921);var y=r(25139);var _=r(51988);var b=r(31194);var E=r(28205);var S=r(86062);var w=r(47365);var T=r(56718);var C=r(88003);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M(n.key),n)}}function P(e,t,r){return t&&O(e.prototype,t),r&&O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M(e){var t=x(e,"string");return"symbol"==typeof t?t:t+""}function x(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var L=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const D=new c.Log({module:"HwICS.ChatManager"});const N=(0,v.frequentTasksDecoratorFactory)(D);let j=t.ChatManager=function(){function e(){k(this,e)}return P(e,null,[{key:"startChat",value:async function e({entry:t,interactionMode:r=m.InteractionMode.AUDIO,wakeupType:c}){D.info("startChat",t,r,c);if((0,v.formatType)(r)!==v.formatType.STRING||![m.InteractionMode.AUDIO,m.InteractionMode.TEXT].includes(r)){return Promise.resolve(R(R({},(0,S.formatParamError)("interactionMode")),{},{chatId:""}))}if(!await n.Utils.checkAudioDevice()){o.Modal.alert({content:(0,d.getErrorMessage)({errorCode:f.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR}),zIndex:1e5});(0,i.$dispatch)((0,a.toggleChatBtnState)(s.ChatBtnState.INIT));D.rejectError({code:f.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR,message:f.msgMap[f.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR]});return{result:false,chatId:"",errorCode:f.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR,errorMsg:f.msgMap[f.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR]}}D.info("startChat start",t);const l=await u.PortalWssManager.getInstance().startChat({entry:t,interactionMode:r,wakeupType:c});if(!(l!==null&&l!==void 0&&l.result)){return l}T.TextDriveManager.resetCache({entry:t});D.info("startChat startSendLocalStream",t);const h=await g.StreamAdapter.startSendLocalStream(t);D.info("startChat end",t);return R(R({},l),h)}},{key:"stopChat",value:async function e({entry:t,needErrorDeal:r=true}){var n;D.info("stopChat start",t);(0,i.$dispatch)((0,a.toggleChatBtnState)(s.ChatBtnState.STOPPING));const o=await u.PortalWssManager.getInstance().stopChat({entry:t,needErrorDeal:r});if((o===null||o===void 0?void 0:o.errorCode)===h.RetCodes.SUCCESS){w.ChatDataManager.resetChatData(t);y.NotifyManager.sendEnterSleep(t)}else if(((n=(0,i.$getState)().main)===null||n===void 0?void 0:n.chatBtnState)===s.ChatBtnState.STOPPING){(0,i.$dispatch)((0,a.toggleChatBtnState)(s.ChatBtnState.PLAY));(0,i.$dispatch)((0,l.stopChatUpdateCaptionMessageList)())}D.info("stopChat end",t);return o}},{key:"stopJob",value:function e(t){return u.PortalWssManager.getInstance().stopJob(t)}},{key:"interactionModeSwitch",value:async function t(r){if((0,v.formatType)(r===null||r===void 0?void 0:r.interactionMode)!==v.formatType.STRING||![m.InteractionMode.AUDIO,m.InteractionMode.TEXT].includes(r.interactionMode)){return Promise.resolve((0,S.formatParamError)("interactionMode"))}const n=await u.PortalWssManager.getInstance().interactionModeSwitch({entry:"SDK",interactionMode:r.interactionMode});if(n.result){await e.interruptSpeaking(r.entry);return n}return n}},{key:"interruptSpeaking",value:async function e(t){const r=await u.PortalWssManager.getInstance().interruptSpeaking(t);if(r.result){T.TextDriveManager.resetCache({entry:t})}return r}},{key:"textQuestion",value:function e(t){if((0,v.formatType)(t===null||t===void 0?void 0:t.text)!==v.formatType.STRING){return Promise.resolve(R(R({},(0,S.formatParamError)("text")),{},{chatId:""}))}return u.PortalWssManager.getInstance().textQuestion({entry:"SDK",text:t.text})}},{key:"startUserSpeak",value:async function t(){var r,n;if(((r=(0,i.$getState)().main)===null||r===void 0?void 0:r.chatBtnState)===s.ChatBtnState.ANSWERING){return{result:false,errorCode:f.SDKErrorCode.METHOD_PROHIBITED_EXECUTION,errorMsg:f.msgMap[f.SDKErrorCode.METHOD_PROHIBITED_EXECUTION]}}if(((n=(0,i.$getState)().main)===null||n===void 0?void 0:n.chatBtnState)===s.ChatBtnState.INIT){const t=await e.startChat({entry:"SDK.startUserSpeak",interactionMode:m.InteractionMode.AUDIO});if(!t.result){return t}}return g.StreamAdapter.unmuteLocalAudio("SDK.startUserSpeak")}},{key:"sendDrivenText",value:async function e(t){const r=(0,v.createEntry)("sendDrivenText");if((0,v.formatType)(t===null||t===void 0?void 0:t.text)!==v.formatType.STRING){return R(R({},(0,S.formatParamError)("text")),{},{chatId:""})}const n=T.TextDriveManager.formatTextDrivenParam(t,r);D.info("sendDrivenText",n.isLast,n.chatId,n.seq);return u.PortalWssManager.getInstance().textDriven(n)}},{key:"wakeupCallback",value:function t(r){D.info("wakeupCallback",r);const n=(0,v.createEntry)(`wakeupCallback,${r.keyword}`);switch(r.intentions){case C.WakeupIntentions.START:e.startChat({entry:n,interactionMode:m.InteractionMode.AUDIO,wakeupType:f.WakeupType.VOICE});break;case C.WakeupIntentions.STOP:e.stopChat({entry:n});break;case C.WakeupIntentions.INTERRUPT:e.interruptSpeaking(n);break;default:break}}}])}();j.canStop=()=>{const{chatBtnState:e}=(0,i.$getState)().main;return[s.ChatBtnState.PLAY,s.ChatBtnState.THINKING,s.ChatBtnState.ANSWERING].includes(e)};L([N("ChatManager.startChat")],j,"startChat",null);L([(0,v.printfDecorator)(D)],j,"stopJob",null);L([(0,v.printfDecorator)(D)],j,"interactionModeSwitch",null);L([(0,v.printfDecorator)(D)],j,"interruptSpeaking",null);L([(0,v.printfDecorator)(D)],j,"textQuestion",null);L([(0,v.printfDecorator)(D)],j,"startUserSpeak",null);L([(0,v.printfDecorator)(D)],j,"wakeupCallback",null);window.addEventListener(f.InnerICSEventKey.STOP_CHAT_EVENT,(e=>{const{entry:t}=e.detail;j.stopChat({entry:t,needErrorDeal:false})}));const U={[_.LanguageCode.ZH_CN]:["ni2-hao3-yun2-sheng1","yun2-sheng1-yun2-sheng1"],[_.LanguageCode.EN_US]:["hi-sara","hello-sara"]};const B={[_.LanguageCode.ZH_CN]:["ting2-zhi3-bo1-fang4","ting2-zhi3-hui2-da2"],[_.LanguageCode.EN_US]:["stop-answer"]};const F={[_.LanguageCode.ZH_CN]:["ting2-zhi3-dui4-hua4","zai4-jian4-yun2-sheng1"],[_.LanguageCode.EN_US]:["goodbye-sara"]};const H=()=>{const e=(0,i.$getState)();const t=e.error.httpError||e.error.sparkRTCError||e.error.websocketError;D.info("checkHasError",t);return t};const V=e=>{let t=f.WakeupType.VOICE;if(e.radarKeyword){t=f.WakeupType.RADAR}else if(e.faceKeyword){t=f.WakeupType.CAMERA}return t};p.HWIcsElectron.registerWakeup((async e=>{var t;const r=(0,v.createEntry)("registerWakeup，"+(e===null||e===void 0?void 0:e.keyword));const n=(0,i.$getState)();const o=b.LanguageManager.getLocalLangCode(r);D.info("registerWakeup",n.main.pageState,n.main.chatBtnState,n.main.showLoading,o,e);if(n.main.showLoading||n.main.pageState!==s.PageState.MAIN){return}if(H()){window.dispatchEvent(new CustomEvent(f.InnerICSEventKey.REJOIN_EVENT,{detail:{method:f.InnerICSEventMethod.REJOIN,entry:r,reason:E.RejoinReason.NETWORK_ERROR}}));return}if(n.main.chatBtnState===s.ChatBtnState.INIT&&(t=U[o])!==null&&t!==void 0&&t.includes(e.keyword)){await j.startChat({entry:r,interactionMode:m.InteractionMode.AUDIO,wakeupType:V(e)})}if(j.canStop()){var a,u;if((a=F[o])!==null&&a!==void 0&&a.includes(e.keyword)){await j.stopChat({entry:r})}if((u=B[o])!==null&&u!==void 0&&u.includes(e.keyword)){await j.interruptSpeaking(r)}}}));p.HWIcsElectron.registerMethod((async e=>{const t=(0,v.createEntry)("registerMethod, "+(e===null||e===void 0?void 0:e.method));const r=(0,i.$getState)();D.info("registerMethod",e===null||e===void 0?void 0:e.method,r.main.pageState,r.main.chatBtnState,r.main.showLoading,e);if((e===null||e===void 0?void 0:e.method)==="startUserSpeak"){g.StreamAdapter.unmuteLocalAudio(t);return}if((e===null||e===void 0?void 0:e.method)==="stopUserSpeak"){g.StreamAdapter.muteLocalAudio(t);return}if((e===null||e===void 0?void 0:e.method)==="nativeRTCJoinRoom"){g.StreamAdapter.setShouldSendLocalStream(false)}}))},58955:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.RichTextUtils=void 0;var n=r(74013);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=u(e,"string");return"symbol"==typeof t?t:t+""}function u(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let c=t.RichTextUtils=function(){function e(){i(this,e)}return a(e,null,[{key:"getMediaInfo",value:function e(t){const r=t.querySelector("img");const n=t.querySelector("video");const i={imgList:[],videoList:[]};if(r){i.imgList.push(r)}else if(n){i.videoList.push(n)}return i}},{key:"hasMedia",value:function e(t){const r=t.querySelector("img");const n=t.querySelector("video");return!!(r||n)}},{key:"textToTextContent",value:function t(r){var i,o;const a=n.XssManager.getRenderNode(r);const s=((i=a.textContent)===null||i===void 0?void 0:(o=i.trim())===null||o===void 0?void 0:o.replace(/\\n/g,"\n"))||"";return e.filterRedundantPunctuation(s)}},{key:"hasHumanservice",value:function e(t){const r=n.XssManager.getRenderNode(t);const i=r.querySelector("human-service");return Boolean(i)}},{key:"filterRedundantPunctuation",value:function e(t){const r="！？：；、。，";const n=[];let i="";t.split("").forEach((e=>{if(r.includes(e)&&r.includes(i)){n.pop()}n.push(e);i=e}));return n.join("")}}])}()},56718:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.TextDriveManager=void 0;var n=r(14274);var i=r(62850);var o=r(33181);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const v=new i.Log({module:"TextDriveManager"});let g=t.TextDriveManager=function(){function e(){c(this,e)}return f(e,null,[{key:"formatTextDrivenParam",value:function t(r,n){const i=s(s({},r),{},{chatId:e.chatId,seq:e.seq,entry:n});e.seq++;if(r.isLast){e.resetCache({entry:n})}return i}},{key:"resetCache",value:function t(r){v.info("resetCache",r.entry);e.chatId=o.Utils.getRequestId().replace(/-/g,"");e.seq=1}}])}();g.chatId=o.Utils.getRequestId().replace(/-/g,"");g.seq=1;p([(0,n.printfDecorator)(v)],g,"resetCache",null)},18225:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.whiteList=t.stripIgnoreTagBody=t.onTagAttr=t.onTag=t.onIgnoreTagAttr=t.onIgnoreTag=t.cssWhiteList=void 0;var n=r(62850);const i=new n.Log({module:"xss"});const o=t.whiteList={b:[],br:[],code:[],div:[],em:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title"],video:["src","controls"],source:["src","type"],p:[],pre:[],span:[],strong:[],u:[],"human-service":[]};const a=t.cssWhiteList={color:true};const s=t.stripIgnoreTagBody=["script","style","head-area"];const u=function(e,t,r){i.debug("onTag",e,t,r)};t.onTag=u;const c=function(e,t,r,n){i.debug("onTagAttr",e,t,r,n)};t.onTagAttr=c;const l=function(e,t,r){i.debug("onIgnoreTag",e,t,r)};t.onIgnoreTag=l;const f=function(e,t,r){i.debug("onIgnoreTagAttr",e,t,r)};t.onIgnoreTagAttr=f},63:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.xml2String=t.string2HTML=void 0;const r=e=>e.replace(/[\u0000-\u001f]/g,(e=>["\n","\t","\r"].includes(e)?e:""));const n=function(e){const t=document.createElement("div");if(e.indexOf("<!DOCTYPE")!==-1||e===""){return t}e=r(e);const n=(new DOMParser).parseFromString(e,"text/html");const i=n.querySelector("body");if(i!==null&&i!==void 0&&i.childNodes){t.append(...i.childNodes)}return t};t.string2HTML=n;const i=function(e){return(new XMLSerializer).serializeToString(e).replace(' xmlns="http://www.w3.org/1999/xhtml"',"")};t.xml2String=i},74013:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.XssManager=void 0;var n=r(18225);var i=r(68924);var o=r(63);var a=r(14274);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==typeof t?t:t+""}function f(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let d=t.XssManager=function(){function e(){s(this,e)}return c(e,null,[{key:"xssFilter",value:function t(r){if(!r||(0,a.formatType)(r)!==a.formatType.STRING){return""}const n=e._preFilter(r);return e._xssFilterConfig.process(n)}},{key:"_preFilter",value:function t(r){if(!r||(0,a.formatType)(r)!==a.formatType.STRING){return""}const n=e._dealLastLt(r);return n}},{key:"_dealLastLt",value:function t(r){const n=r.lastIndexOf("<");const i=r.lastIndexOf(">");const o=r.split("");if(n>i){o.splice(n,1,"&lt;");return e._dealLastLt(o.join(""))}return r}}])}();d._xssFilterConfig=new i.FilterXSS({whiteList:n.whiteList,stripIgnoreTag:true,stripIgnoreTagBody:n.stripIgnoreTagBody,allowCommentTag:false,stripBlankChar:true,onTag:n.onTag,onTagAttr:n.onTagAttr,onIgnoreTagAttr:n.onIgnoreTagAttr,css:{whiteList:n.cssWhiteList}});d.getRenderNode=e=>{if(!e){e=""}const t=d.xssFilter(e);const r=(0,o.string2HTML)(t);const n=r.querySelectorAll("video");n.forEach((e=>{if(!e.getAttribute("controls")){e.setAttribute("controls","")}}));return r}},86062:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.showGammaEnvCaError=t.formatParamError=t.dealWebsocketError=t.dealSparkRTCError=t.dealHttpError=t.dealHcsoError=t.checkGammaEnvCaError=void 0;var n=r(19795);var i=r(83978);var o=r(30265);var a=r(83353);var s=r(62850);var u=r(38598);var c=h(r(97218));var l=r(98951);var f=r(33181);var d=r(56346);function h(e){return e&&e.__esModule?e:{default:e}}const p=new s.Log({module:"HwICS.dealError"});const v=({error:e,entry:t,type:r})=>{t+=",dealError";o.UserTrack.addUserTrack({arg1:a.Arg1Map.APP_ERROR,arg2:r,args:{message:e===null||e===void 0?void 0:e.error_msg,error:e===null||e===void 0?void 0:e.error_code,key:e===null||e===void 0?void 0:e.request_id,entry:t}});return p.makeError({code:e===null||e===void 0?void 0:e.error_code,message:e===null||e===void 0?void 0:e.error_msg})};const g=({error:e,entry:t,url:r,showErrorTips:s=true})=>{t+=",dealHttpError";if(!s){o.UserTrack.addUserTrack({arg1:a.Arg1Map.APP_ERROR,arg2:r,args:{message:e===null||e===void 0?void 0:e.error_msg,error:e===null||e===void 0?void 0:e.error_code,key:e===null||e===void 0?void 0:e.request_id,entry:t}});return}(0,n.$dispatch)((0,i.setHttpError)(e));v({error:e,entry:t,type:r})};t.dealHttpError=g;const m=async({error:e,entry:t})=>{t+=",dealSparkRTCError";(0,n.$dispatch)((0,i.setSparkRTCError)(e));return v({error:e,entry:t,type:"SparkRTC"})};t.dealSparkRTCError=m;const y=async({error:e,entry:t})=>{t+=",dealWebsocketError";(0,n.$dispatch)((0,i.setWebsocketError)(e));return v({error:e,entry:t,type:"Websocket"})};t.dealWebsocketError=y;const _=async({error:e,entry:t})=>{t+=",dealHcsoError";(0,n.$dispatch)((0,i.setWebsocketError)(e));return v({error:e,entry:t,type:"Hcso"})};t.dealHcsoError=_;const b=async e=>{if(!u.ConfigManager.isGammaEnv()){return false}y({error:{error_code:l.SDKErrorCode.WEBSOCKET_NETWORK_ERROR,error_msg:"check host network",request_id:""},entry:"gammaEnvCheckCaError"});(0,n.$dispatch)((0,i.toggleShowCaError)({showCaError:true,caErrorUrl:e}));return true};t.showGammaEnvCaError=b;const E=async e=>{if(!u.ConfigManager.isGammaEnv()){return false}const t=await c.default.get(e).catch((e=>e));p.debug("gammaEnvCheckCaError",t);if(t.code!==c.default.AxiosError.ERR_NETWORK){return false}return b(e)};t.checkGammaEnvCaError=E;const S=e=>({result:false,errorCode:l.SDKErrorCode.UI_PARAM_ERROR,errorMsg:f.Utils.formatLanguage(d.SDKErrorCodeMsgMap[l.SDKErrorCode.UI_PARAM_ERROR],e)});t.formatParamError=S},54073:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.methodDecorator=void 0;var n=r(30265);var i=r(98951);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==typeof t?t:t+""}function c(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e){if(e[0]&&e[1]&&[i.ICSEventKey.SPEECH_RECOGNIZED,i.ICSEventKey.SEMANTIC_RECOGNIZED].includes(e[0])){var t,r;e[1]=a(a({},e[1]),{},{text:(t=e[1].text)===null||t===void 0?void 0:t.length,questionText:(r=e[1].questionText)===null||r===void 0?void 0:r.length})}return e}const f=e=>function(t,r,i){let o;function s(...t){const i=Date.now();const a=o.apply(this,t);if(a!==null&&a!==void 0&&a.then){n.UserTrack.addUserTrack({arg1:e,arg2:r,args:{type:"async start",param:JSON.stringify(t)}});return a.then((o=>{n.UserTrack.addUserTrack({arg1:e,arg2:r,arg3:Date.now()-i,args:{type:"async end",result:JSON.stringify(o),param:JSON.stringify(l(t))}});return o}))}n.UserTrack.addUserTrack({arg1:e,arg2:r,args:{type:"sync end",param:JSON.stringify(l(t))}});return a}if(i!==null&&i!==void 0&&i.initializer){return a(a({},i),{},{writable:true,initializer:function(){o=i.initializer.call(this);return s}})}o=i===null||i===void 0?void 0:i.value;return a(a({},i),{},{writable:true,value:s})};t.methodDecorator=f},54439:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.JobManager=void 0;var n=r(38598);var i=r(48551);var o=r(62850);var a=r(25725);var s=r(14274);var u=r(12262);var c=v(r(25157));var l=r(11579);var f=r(33181);var d=r(98951);var h=r(51988);var p=r(81439);function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function E(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){var t=w(e,"string");return"symbol"==typeof t?t:t+""}function w(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var T=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const C=new o.Log({module:"JobManager"});let A=t.JobManager=function(){function e(){_(this,e)}return E(e,null,[{key:"checkJobAlive",value:async function t(r){const n=await e.getJobState(r);return!n||n===i.JOB_STATE.WAITING||n===i.JOB_STATE.PROCESSING}},{key:"getJobState",value:async function t(r){var i;const o=((i=n.ConfigManager.getChatInfo(r))===null||i===void 0?void 0:i.job_id)||"";if(!o){return undefined}const a=await e.getChatJobState({entry:r,jobId:o});C.info("checkJobState",a===null||a===void 0?void 0:a.state);return a===null||a===void 0?void 0:a.state}},{key:"stopChatJob",value:async function e({jobId:t,entry:r}){var i;r+=",stopChatJob";if(!t){return}await p.HttpRequestManager.doPost({url:l.BaseUrl.POST_STOP_SMART_CHAT_JOBS.replace("{job_id}",t),config:{headers:{[l.HttpHeaders.AUTH_TOKEN]:((i=n.ConfigManager.getAuthInfo(r))===null||i===void 0?void 0:i.access_token)||""}},entry:r})}},{key:"getChatJobState",value:async function t({jobId:r,entry:i}){var o;i+=",getChatJobState";const a=await c.default.get(l.BaseUrl.GET_SMART_CHAT_JOBS_STATE.replace("{job_id}",r),{headers:{[l.HttpHeaders.AUTH_TOKEN]:((o=n.ConfigManager.getAuthInfo(i))===null||o===void 0?void 0:o.access_token)||""}});const s=a===null||a===void 0?void 0:a.data;if(!s){return s}return m(m(m({},s),e.convertLanguage({languageList:s===null||s===void 0?void 0:s.voice_config_list,defaultLanguage:s===null||s===void 0?void 0:s.default_language})),{},{enableVadInterrupt:n.ConfigManager.getConfig(u.ConfigKey.ENABLE_VAD_INTERRUPT)})}},{key:"startChatJob",value:async function t({entry:r}){var i;r+=",startChatJob";C.info("startChatJob",r);const o=await e.getReuseJobInfo(r);C.info("startChatJob isReuseJobInfo",!!o);if(o){return o}let h=n.ConfigManager.getExtendParamStr();const v=n.ConfigManager.getConfig(u.ConfigKey.ENABLE_VAD_INTERRUPT);if((0,s.formatType)(f.Utils.safeJSONParse(h))!==s.formatType.OBJECT){h=null}if(v){if(h){const e=JSON.parse(h);e.enable_vad_interrupt="1";h=JSON.stringify(e)}else{h=JSON.stringify({enable_vad_interrupt:"1"})}}const g=await c.default.post(l.BaseUrl.POST_START_SMART_CHAT_JOBS,{extend_param:h},{headers:{[l.HttpHeaders.AUTH_TOKEN]:((i=n.ConfigManager.getAuthInfo(r))===null||i===void 0?void 0:i.access_token)||""}});if(!(g!==null&&g!==void 0&&g.data)||(0,s.formatType)(g===null||g===void 0?void 0:g.data)!==s.formatType.OBJECT){window.dispatchEvent(new CustomEvent(d.InnerICSEventKey.REJOIN_EVENT,{detail:{method:d.InnerICSEventMethod.WAIT_REJOIN,entry:"startchatjob axios failed"}}));return null}let y=p.HttpRequestManager.dealHttpResult({entry:r,result:g,url:l.BaseUrl.POST_START_SMART_CHAT_JOBS});if(y){y=m(m(m({},y),e.convertLanguage({languageList:y.voice_config_list,defaultLanguage:y.default_language})),{},{enableVadInterrupt:n.ConfigManager.getConfig(u.ConfigKey.ENABLE_VAD_INTERRUPT)});a.HWIcsElectron.saveChatInfo(y,r)}return y}},{key:"convertLanguage",value:function e({languageList:t,defaultLanguage:r}){const n={};if(r){n.default_language=h.Ics2WebclientLanguage[r]}if(t){n.voice_config_list=t.map((e=>m(m({},e),{},{language:h.Ics2WebclientLanguage[e.language],isDefault:false})))}return n}},{key:"getReuseJobInfo",value:async function t(r){r+=",getReuseJobInfo";const o=await e.getCacheJobInfo({entry:r});const s=o===null||o===void 0?void 0:o.job_id;if(s){if(!n.ConfigManager.getConfig(u.ConfigKey.ENABLE_JOB_CACHE)){await e.stopChatJob({entry:r,jobId:s});return null}const t=await e.getChatJobState({entry:r,jobId:s});if(t&&[i.JOB_STATE.WAITING,i.JOB_STATE.PROCESSING].includes(t.state)){C.info("startChatJob","curr job is running, use it");a.HWIcsElectron.saveChatInfo(t,r);return m(m({},t),{},{chat_subtitle_config:o===null||o===void 0?void 0:o.chat_subtitle_config,video_config:o===null||o===void 0?void 0:o.video_config,isReuse:true})}}return null}},{key:"getCacheJobInfo",value:async function e({entry:t}){t+=",getCacheJobInfo";try{const e=await a.HWIcsElectron.queryChatInfo(t);if((e===null||e===void 0?void 0:e.cacheRobotId)===n.ConfigManager.getRobotId(t)&&(e===null||e===void 0?void 0:e.enableVadInterrupt)===n.ConfigManager.getConfig(u.ConfigKey.ENABLE_VAD_INTERRUPT)){return e}return{}}catch(e){C.error("getCacheJobInfo",t,e);return{}}}}])}();T([(0,s.printfDecorator)(C)],A,"stopChatJob",null);T([(0,s.printfDecorator)(C)],A,"getChatJobState",null);T([(0,s.printfDecorator)(C)],A,"startChatJob",null);T([(0,s.printfDecorator)(C)],A,"convertLanguage",null);T([(0,s.printfDecorator)(C)],A,"getReuseJobInfo",null);T([(0,s.printfDecorator)(C)],A,"getCacheJobInfo",null)},29125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.getLogger=void 0;var n=r(30265);var i=r(83353);var o=r(14274);const a=()=>{};const s=(e,t="")=>(r,...a)=>{try{var s,u;if(e==="none"){return""}const c=(0,o.formatDate)(new Date,"yyyy-MM-dd hh:mm:ss.S");(s=window.console)===null||s===void 0?void 0:(u=s[e])===null||u===void 0?void 0:u.call(s,`[${c}][${e}][${t}]`,r,...a);const l=`[${c}][${e}][${t}] ${r} ${JSON.stringify(a)}`;if(e!=="debug"){n.UserTrack===null||n.UserTrack===void 0?void 0:n.UserTrack.addUserTrack({arg1:i.Arg1Map.LOGGER_MESSAGE,arg2:t,args:{type:e,entry:r,message:JSON.stringify(a)}})}return l}catch(e){return""}};const u=e=>({debug:s("debug",e),info:s("info",e),log:a,warn:s("warn",e),error:s("error",e),none:a});t.getLogger=u},61129:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.RouteManager=void 0;var n=r(19795);var i=r(84343);var o=r(31194);var a=r(62850);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==typeof t?t:t+""}function f(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const d=new a.Log({module:"HwICS.RouteManager"});let h=t.RouteManager=function(){function e(){s(this,e)}return c(e,null,[{key:"showMainPage",value:function e(){d.info("showMainPage");(0,n.$dispatch)((0,i.toggleShowLoading)({show:false}));o.LanguageManager.setRemoteAndLocalLangCode({entry:"showMainPage"})}}])}()},23577:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.UIManager=void 0;var n=r(85893);var i=r(20745);var o=r(67294);var a=r(86706);var s=r(19795);var u=r(62850);var c=d(r(65653));var l=r(25427);var f=r(25568);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=m(e,"string");return"symbol"==typeof t?t:t+""}function m(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const y=new u.Log({module:"HwICS.UIManager"});let _=t.UIManager=function(){function e(){h(this,e)}return v(e,null,[{key:"renderPage",value:function t(r){e.rootDom=document.getElementById(r);if(!e.rootDom){y.error("renderPage","no root dom",r);return}y.info("renderPage",r);e._addSizeChange();e._root=(0,i.createRoot)(e.rootDom);e._root.render((0,n.jsx)(o.Suspense,{fallback:"",children:(0,n.jsx)(a.Provider,{store:s.store,children:(0,n.jsx)(c.default,{})})}))}},{key:"destroyPage",value:function t(){var r,n;y.info("destroyPage");(r=e._root)===null||r===void 0?void 0:r.unmount();(n=e.rootDom)===null||n===void 0?void 0:n.removeEventListener("click",f.dealGlobalClick);e._removeSizeChange()}},{key:"_addSizeChange",value:function t(){l.ScreenOrientationPolyfill.addChangeEvent(e.reCalcScreenOrientation);window.addEventListener("visibilitychange",e.reCalcScreenOrientation,false);window.addEventListener("pageshow",e.reCalcScreenOrientation,false);document.addEventListener("fullscreenchange",e.reCalcScreenOrientation);e.reCalcScreenOrientation()}},{key:"_removeSizeChange",value:function t(){l.ScreenOrientationPolyfill.removeChangeEvent(e.reCalcScreenOrientation);window.removeEventListener("visibilitychange",e.reCalcScreenOrientation,false);window.removeEventListener("pageshow",e.reCalcScreenOrientation,false);document.removeEventListener("fullscreenchange",e.reCalcScreenOrientation)}},{key:"reCalcScreenOrientation",value:function t(){if(document.visibilityState==="visible"){var r,n,i,o;(r=e.rootDom)===null||r===void 0?void 0:(n=r.classList)===null||n===void 0?void 0:n.remove("portrait-primary");(i=e.rootDom)===null||i===void 0?void 0:(o=i.classList)===null||o===void 0?void 0:o.remove("landscape-primary");if(l.ScreenOrientationPolyfill.type==="portrait-primary"){var a,s;(a=e.rootDom)===null||a===void 0?void 0:(s=a.classList)===null||s===void 0?void 0:s.add("portrait-primary")}else{var u,c;(u=e.rootDom)===null||u===void 0?void 0:(c=u.classList)===null||c===void 0?void 0:c.add("landscape-primary")}}}}])}()},30265:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.UserTrack=void 0;var n=r(14274);var i=l(r(88789));var o=l(r(97218));var a=r(11579);var s,u,c;function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==typeof t?t:t+""}function y(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _;(function(e){e["ui"]="meta_studio_web_client"})(_||(_={}));const b=`${"websdk"}-${"3.2.0"}-${((s=window.hwIcsElectron)===null||s===void 0?void 0:s.version)||""}-${i.default.VERSION}-${"202503101423"}`;window.icsSDKBuildVersion=b;let E=t.UserTrack=function(){function e(){p(this,e)}return g(e,null,[{key:"addUserTrack",value:function t({arg1:r,arg2:n=location.hash,arg3:i=-1,args:o={}}){try{var a;const t={eventId:_.ui,timestamp:Date.now(),version:e._version,userAgent:e._userAgent,devicePixelRatio,args:d(d({},o),{},{arg1:r,arg2:n,arg3:i,currPageId:e._currPageId,availHeight:screen.availHeight,availWidth:screen.availWidth,pixelDepth:screen.pixelDepth,innerHeight,innerWidth,appId:e._rtcAppId,jobId:e._rtcJobId,roomId:e._rtcRoomId,token:e._robotId,domain:(a=e._baseUrl)===null||a===void 0?void 0:a.hostname,region:e._region,lineno:this._order,pageName:e.customInfoStr})};e.setCacheInfo(t);this._order++;if(!e._uploading){e._uploadUserTrack()}}catch(e){var s;(s=window.console)===null||s===void 0?void 0:s.warn("addUserTrack",{arg1:r,arg2:n,arg3:i,args:o},e)}}},{key:"startUserTrack",value:function t({arg1:r,eventKey:n="",args:i}){if(!e._eventMap[r+n]){e._eventMap[r+n]={arg1:r,args:i,startTime:Date.now()}}e._checkEventMap()}},{key:"endUserTrack",value:function t({eventKey:r="",arg1:n,arg2:i=location.hash,arg3:o=-1,args:a}){try{const t=e._eventMap[n+r];if(t){const o=Date.now()-t.startTime;e.addUserTrack({arg1:n,arg2:i,arg3:o,args:d(d({eventKey:r},t.args),a)});delete e._eventMap[n+r]}}catch(e){var s;(s=window.console)===null||s===void 0?void 0:s.warn("endUserTrack",{eventKey:r,arg1:n,arg2:i,arg3:o,args:a},e)}}},{key:"toggleBusinessTrack",value:function t({enableBusinessTrack:r=true}){e._enableBusinessTrack=r;if(r){e._userAgent=navigator.userAgent;return}e._userAgent=""}},{key:"updateUtParam",value:function t({chatInfo:r,random:i,baseUrl:o,robotId:a,customInfoStr:s,enableStorageCache:u}){if(r){var c,l,f;e._rtcAppId=r===null||r===void 0?void 0:(c=r.rtc_room_info)===null||c===void 0?void 0:(l=c.app_id)===null||l===void 0?void 0:l.slice(0,4);e._rtcJobId=r===null||r===void 0?void 0:r.job_id;e._region=r===null||r===void 0?void 0:r.region;e._rtcRoomId=r===null||r===void 0?void 0:(f=r.rtc_room_info)===null||f===void 0?void 0:f.room_id}if(i){e._token=i}if(o){e._baseUrl=o}if(a){e._robotId=a}if(n.StringUtil.safeJSONParse(s)){e.customInfoStr=s}if(u&&window.sessionStorage){e.enableStorageCache=u;e.initCacheInfo()}}},{key:"resetUtParam",value:function t(){e._rtcAppId="";e._rtcJobId="";e._rtcRoomId="";e._token="";delete e._baseUrl;e._robotId="";e._enableBusinessTrack=false;e.customInfoStr="";e.enableStorageCache=false}},{key:"_uploadUserTrack",value:async function t(){var r;const i=e.getCacheInfoList();if(i.length>0&&(r=e._baseUrl)!==null&&r!==void 0&&r.origin&&e._enableBusinessTrack&&e._token){var s;e._uploading=true;await(0,n.sleep)(e._uploadCycle);if(i.length<e._uploadSize&&Date.now()-e._lastUploadTime<e._uploadCycle*5){e._uploadUserTrack();return}const t=await o.default.post(`${a.BaseUrl.REPORT}`,{data:i.map((({value:e})=>e))},{baseURL:(s=e._baseUrl)===null||s===void 0?void 0:s.origin,headers:{[a.HttpHeaders.AUTH_TOKEN]:e._token,"x-request-terminal-version":"3.2.0","x-request-terminal-platform":"websdk"}}).catch((e=>{window.console.error("_uploadUserTrack",e)}));if((t===null||t===void 0?void 0:t.status)===a.HttpCodes.OK){e.deleteCacheInfoList(i);e._lastUploadTime=Date.now();e._uploadUserTrack();return}}e._uploading=false}},{key:"_checkEventMap",value:function t(){Object.keys(e._eventMap).forEach((t=>{if(Date.now()-e._eventMap[t].startTime>e._maxCacheTime){delete e._eventMap[t]}}))}},{key:"preUpload",value:function t(r){return r.map((t=>{if(!t.value.args.token){t.value.args.token=e._robotId}if(!t.value.args.jobId){t.value.args.jobId=e._rtcJobId}if(!t.value.args.roomId){t.value.args.roomId=e._rtcRoomId}return t}))}},{key:"initCacheInfo",value:function t(){const r=e.getAllSessionCacheList();r.forEach((t=>{if(!e.cacheList.find((({key:e})=>t.key===e))){e.cacheList.push(t)}}))}},{key:"setCacheInfo",value:function t(r){const i={value:r,key:`${e.cacheKeyPrefix}${(0,n.getClientId)()}`};e.cacheList.push(i);if(e.cacheList.length>e._cacheDataSize){e.cacheList.shift()}if(e.enableStorageCache){if(sessionStorage.length<e._cacheDataSize){sessionStorage.setItem(i.key,JSON.stringify(i.value))}}}},{key:"getCacheInfoList",value:function t(){if(e.cacheList.length===0){return[]}const r=Math.min(e._uploadSize,e.cacheList.length);return e.preUpload(e.cacheList.slice(0,r))}},{key:"getAllSessionCacheList",value:function t(){if(window.sessionStorage){const t=[];const r=Math.min(sessionStorage.length,e._cacheDataSize);for(let n=0;n<r;n++){const r=sessionStorage.key(n);if(!r||!r.startsWith(e.cacheKeyPrefix)){continue}const i=sessionStorage.getItem(r);if(i){t[n]={key:r,value:JSON.parse(i)}}}return t}return[]}},{key:"deleteCacheInfoList",value:function t(r){r.forEach((t=>{const r=e.cacheList.findIndex((({key:e})=>e===t.key));if(r>-1){e.cacheList.splice(r,1)}if(e.enableStorageCache){sessionStorage.removeItem(t.key)}}))}}])}();E.cacheList=[];E._currPageId=`${Date.now().toString()}-${((u=window.hwIcsElectron)===null||u===void 0?void 0:u.pid)||""}-${((c=window.hwIcsElectron)===null||c===void 0?void 0:c.appId)||""}`;E._version=b;E._eventMap={};E._cacheDataSize=5e3;E._maxCacheTime=432e5;E._uploading=false;E._uploadSize=20;E._uploadCycle=1e3;E._lastUploadTime=0;E._rtcAppId="";E._rtcJobId="";E._rtcRoomId="";E._token="";E._robotId="";E._region="";E._order=0;E._enableBusinessTrack=false;E._userAgent="";E.customInfoStr="";E.enableStorageCache=false;E.cacheKeyPrefix="userTrack"},25568:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.dealGlobalClick=t.addGlobalUtEvent=void 0;var n=r(30265);var i=r(83353);const o=e=>{var t;if(e!==null&&e!==void 0&&(t=e.dataset)!==null&&t!==void 0&&t.testid){return{tagName:e===null||e===void 0?void 0:e.tagName,key:"testid",value:e.dataset.testid}}if(e!==null&&e!==void 0&&e.id){return{tagName:e===null||e===void 0?void 0:e.tagName,key:"id",value:e.id}}if(e!==null&&e!==void 0&&e.className){return{tagName:e===null||e===void 0?void 0:e.tagName,key:"className",value:e.className}}return{tagName:e===null||e===void 0?void 0:e.tagName,key:"",value:""}};let a="";let s;const u=1e4;const c=()=>{if(s){clearTimeout(s)}s=setTimeout((()=>{a=""}),u)};window.addEventListener("visibilitychange",(()=>{n.UserTrack.addUserTrack({arg1:i.Arg1Map.PAGE_STATUS,arg2:document.visibilityState})}));window.addEventListener("hashchange",(()=>{n.UserTrack.addUserTrack({arg1:i.Arg1Map.ROUTE_CHANGE,arg2:location.hash})}));const l=e=>{var t;if(a!==e.message+(e===null||e===void 0?void 0:e.filename)+(e===null||e===void 0?void 0:(t=e.error)===null||t===void 0?void 0:t.stack)){var r,o;n.UserTrack.addUserTrack({arg1:i.Arg1Map.CODE_ERROR,arg2:"onerror",args:{message:e.message,source:e===null||e===void 0?void 0:e.filename,colno:e===null||e===void 0?void 0:e.colno,error:e===null||e===void 0?void 0:(r=e.error)===null||r===void 0?void 0:r.stack}});a=e.message+(e===null||e===void 0?void 0:e.filename)+(e===null||e===void 0?void 0:(o=e.error)===null||o===void 0?void 0:o.stack)}c()};const f=e=>{var t;if(a!==((t=e.reason)===null||t===void 0?void 0:t.stack)||e.reason){var r,o;n.UserTrack.addUserTrack({arg1:i.Arg1Map.CODE_ERROR,arg2:"unhandledrejection",args:{message:e.reason,error:((r=e.reason)===null||r===void 0?void 0:r.stack)||e.reason}});a=((o=e.reason)===null||o===void 0?void 0:o.stack)||e.reason}c()};function d(){if(!window.performance){return}const e=window.performance.memory||{};n.UserTrack.addUserTrack({arg1:i.Arg1Map.MEMORY,arg2:"performance.memory",args:{param:JSON.stringify({jsHeapSizeLimit:e.jsHeapSizeLimit,totalJSHeapSize:e.totalJSHeapSize,usedJSHeapSize:e.usedJSHeapSize})}})}const h=e=>{const t=e.target;if(!t){return}let r=o(t);if(!r.key){let e=t.parentNode;while(e){r=o(t);if(r.key){break}e=e.parentNode}}if(r.key){n.UserTrack.addUserTrack({arg1:i.Arg1Map.USER_CLICK,arg2:r.key,args:r})}};t.dealGlobalClick=h;const p=()=>{window.addEventListener("error",l);window.addEventListener("unhandledrejection",f);setInterval((()=>{d()}),6e4)};t.addGlobalUtEvent=p},90176:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.WebsocketState=t.WebSocketCodeMap=t.WebSocketCode=t.WebSocketBase=void 0;var n=r(14274);var i=r(3924);var o=r(11579);var a=r(98951);var s=r(83353);var u=r(62850);var c=r(30265);var l=r(38921);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==typeof t?t:t+""}function y(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const b=new u.Log({module:"HwICS.WebsocketBase"});var E;(function(e){e[e["WS_CODE_CLOSE"]=4001]="WS_CODE_CLOSE"})(E||(t.WebSocketCode=E={}));var S;(function(e){e["INIT"]="INIT";e["CONNECTING"]="CONNECTING";e["CONNECTED"]="CONNECTED";e["CLOSE"]="CLOSE";e["ERROR"]="ERROR"})(S||(t.WebsocketState=S={}));const w=t.WebSocketCodeMap={[E.WS_CODE_CLOSE]:"client close"};let T=t.WebSocketBase=function(){function e(){p(this,e);this._wsId=(0,n.getClientId)().toString();this._sendMessageMap=new Map;this._state=S.INIT}return g(e,[{key:"infoWidthId",value:function e(...t){b.info(t[0],`${this._wsId}-`,...t)}},{key:"errorWidthId",value:function e(...t){b.error(t[0],`${this._wsId}-`,...t)}},{key:"connect",value:function e({url:t,onclose:r=()=>{},onerror:i=()=>{},onopen:o=()=>{},onmessage:a=()=>{}}){if(this._webSocket){this.infoWidthId("WebSocket has new");return this._connectProm}const u=(0,n.getClientId)().toString();c.UserTrack.startUserTrack({arg1:s.Arg1Map.WEBSOCKET,eventKey:u});this._connectProm=new Promise(((e,n)=>{try{this.infoWidthId("connect, pre");this._initResolve=e;this.setState(S.CONNECTING);if(!t){this.setState(S.ERROR);const e=new Error("url is empty");i(e);n(e);return}this._webSocket=new WebSocket(t);this._webSocket.onclose=e=>{this.setState(S.CLOSE);this.infoWidthId("onclose",e===null||e===void 0?void 0:e.code);this.clear("onclose");r(e)};this._webSocket.onerror=e=>{this.setState(S.ERROR);this.infoWidthId("onerror",e);n(e);this.clear("onerror");i(e)};this._webSocket.onopen=()=>{this.setState(S.CONNECTED);this.infoWidthId("onopen");c.UserTrack.endUserTrack({arg1:s.Arg1Map.WEBSOCKET,arg2:"initSocket",eventKey:u,args:{message:JSON.stringify([this._wsId])}});o()};this._webSocket.onmessage=this._receiveMessage.bind(this);this._onmessage=a}catch(e){this.setState(S.CLOSE);this.errorWidthId("connect",e);i(e);n(e)}}));return this._connectProm}},{key:"setState",value:function e(t){this.infoWidthId("setState",t);this._state=t}},{key:"getState",value:function e(){return this._state}},{key:"isConnectEnd",value:function e(){return[S.CLOSE,S.ERROR,S.CONNECTED].includes(this._state)}},{key:"clear",value:function e(t){this.infoWidthId("clear",t);this.removeEventListener(t);delete this._connectProm;delete this._webSocket}},{key:"close",value:function e(t){t+=",close";this.infoWidthId("close",t,this.isOpen());if(this.isOpen()){var r;(r=this._webSocket)===null||r===void 0?void 0:r.close(E.WS_CODE_CLOSE,w[E.WS_CODE_CLOSE])}this.clear(t)}},{key:"removeEventListener",value:function e(t){this.infoWidthId("removeEvent",t,!!this._webSocket);if(this._webSocket){this._webSocket.onclose=()=>{};this._webSocket.onerror=()=>{};this._webSocket.onopen=()=>{}}this._onmessage=()=>{}}},{key:"getMapId",value:function e(t,r){return`${t}-${r}`}},{key:"isOpen",value:function e(){var t;return((t=this._webSocket)===null||t===void 0?void 0:t.readyState)===l.ReadyState.OPEN}},{key:"send",value:async function e({param:t,rsp_action:r,timeout:o=i.WEBSOCKET_TIMEOUT,entry:u}){if(!this._webSocket||!this._connectProm){this.errorWidthId("websocket instance is not exist");return{action:t.action,error_code:a.SDKErrorCode.WEBCLIENT_WEBSOCKET_CHANNEL_ABNORMAL,error_msg:"websocket instance is not exist"}}try{await this._connectProm;const e=(0,n.getClientId)().toString();t.request_id=e;c.UserTrack.addUserTrack({arg1:s.Arg1Map.WEBSOCKET,arg2:t.action,args:{entry:u,param:JSON.stringify(t),message:JSON.stringify([this._wsId])}});return new Promise((n=>{var i;const s=JSON.stringify(t);if(!this.isOpen()){n({action:t.action,error_msg:"websocket readyState is not open",error_code:a.SDKErrorCode.WEBCLIENT_WEBSOCKET_CHANNEL_ABNORMAL});return}(i=this._webSocket)===null||i===void 0?void 0:i.send(s);const c=setTimeout((()=>{this.errorWidthId("send time out",t.action,u);n({action:t.action,error_msg:"websocket send message time out",error_code:a.SDKErrorCode.WEBSOCKET_RESPONSE_TIMEOUT})}),o);this._sendMessageMap.set(this.getMapId(r,e),(e=>{clearTimeout(c);n(e)}))}))}catch(e){this.errorWidthId("send error",u,e);return{action:t.action,error_code:a.SDKErrorCode.WEBCLIENT_WEBSOCKET_CHANNEL_ABNORMAL,error_msg:"websocket connect error"}}}},{key:"_receiveMessage",value:function e(t){var r,n,i;const a="_receiveMessage";const u=JSON.parse(t.data);const l=d(d({},u),{},{question_text:(r=u.question_text)===null||r===void 0?void 0:r.length,text:(n=u.text)===null||n===void 0?void 0:n.length});const f=this.getMapId(u.action,u.request_id);const h=this._sendMessageMap.get(f);c.UserTrack.addUserTrack({arg1:s.Arg1Map.WEBSOCKET,arg2:u.action,args:{entry:a,result:l,param:JSON.stringify({request_id:u.request_id,chat_id:u.chat_id,hasCallback:!!h}),message:JSON.stringify([this._wsId])}});if(u.action===null&&u.error_code===o.RetCodes.SUCCESS){var p;(p=this._initResolve)===null||p===void 0?void 0:p.call(this)}if(h){h(u)}(i=this._onmessage)===null||i===void 0?void 0:i.call(this,u);this._sendMessageMap.delete(f)}}])}();_([(0,n.printfDecorator)(b)],T.prototype,"connect",null);_([(0,n.printfDecorator)(b)],T.prototype,"clear",null);_([(0,n.printfDecorator)(b)],T.prototype,"close",null);_([(0,n.printfDecorator)(b)],T.prototype,"removeEventListener",null);_([(0,n.printfDecorator)(b)],T.prototype,"send",null);_([(0,n.printfDecorator)(b)],T.prototype,"_receiveMessage",null)},51722:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.WebsocketManager=void 0;var n=r(14274);var i=r(38598);var o=r(62850);var a=r(6070);var s=r(59543);var u=r(90176);var c=r(98951);var l=r(33181);var f=r(38921);var d=r(86062);var h=r(81439);var p=r(11579);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=_(e,"string");return"symbol"==typeof t?t:t+""}function _(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const E=new o.Log({module:"HwICS.Websocket"});const S=30;const w=6e4;let T=t.WebsocketManager=function(){function e({onmessage:t}){v(this,e);this._websocketItem=null;this.realConnect=(0,n.debounce)((async e=>{var t,r;e+=",reconnect";const n=this._wsRetryCount;const i=(t=this._websocketItem)===null||t===void 0?void 0:t.isConnectEnd();E.info("reconnect",e,n,i);if(!i||this._wsRetryCount>=S){return}if(this._wsRetryCount>=1){this._showRetryToast();this._waitRetryTask=l.Utils.waitTask(w);if(!await this._waitRetryTask.promise){return}delete this._waitRetryTask}this._wsRetryCount++;if((r=this._websocketItem)!==null&&r!==void 0&&r.isOpen()){E.info("reconnect cancel, has connected");return}const o=await this.init(e);E.info("reconnect end",e,n,o);window.dispatchEvent(new CustomEvent(c.InnerICSEventKey.STOP_CHAT_EVENT,{detail:{entry:e}}))}),100);this._onmessage=t;this._wsRetryCount=0}return m(e,[{key:"init",value:async function e(t){E.info("create",t,!!this._initProm);if(this._initProm){return this._initProm}this._websocketItem=new s.WebsocketWithHeartBeat;this._initProm=this._getWsUrl().then((async e=>{try{var t;await((t=this._websocketItem)===null||t===void 0?void 0:t.connect({url:e,onerror:this._handleError.bind(this),onclose:this._handleClose.bind(this),onopen:this._handleOpen.bind(this),onmessage:this._onmessage,onHeartbeatTimeOut:this._handleHeartbeatTimeOut.bind(this)}));this._clearReconnectCount("after connect");return true}catch(e){return false}}));return this._initProm}},{key:"send",value:async function e({param:t,rsp_action:r,timeout:n,entry:i}){if(await this.init(i)){var o;return(o=this._websocketItem)===null||o===void 0?void 0:o.send({param:t,rsp_action:r,timeout:n,entry:i})}E.info("websocket init failed");return{action:t.action,error_code:c.SDKErrorCode.WEBCLIENT_WEBSOCKET_CHANNEL_ABNORMAL,error_msg:"websocket init failed",error_level:f.ERROR_LEVEL.MAJOR}}},{key:"reconnect",value:function e(t){this.realConnect(t)}},{key:"clickToReconnect",value:async function e(t){t+=",clickToReconnect";E.info("clickToReconnect",t);const r=await this.init(t);E.info("clickToReconnect end",t,r);if(!r){this._showRetryToast()}}},{key:"destroy",value:function e(t){var r;t+=",destroy";(r=this._waitRetryTask)===null||r===void 0?void 0:r.stop();this._clearOldWebsocket(t);if(this._websocketItem){this._websocketItem.close(t)}}},{key:"_getWsUrl",value:async function e(){var t,r,o;const a=i.ConfigManager.getChatInfo("getWsUrl");const s=await h.HttpRequestManager.doPost({url:p.BaseUrl.CREATE_ONCE_TOKEN,config:{headers:{[p.HttpHeaders.AUTH_TOKEN]:((t=i.ConfigManager.getAuthInfo("getWsUrl"))===null||t===void 0?void 0:t.access_token)||""}},entry:"getWsUrl"});if(!(s!==null&&s!==void 0&&s.access_token)){return""}const u=a===null||a===void 0?void 0:(r=a.chat_access_address)===null||r===void 0?void 0:r.replace(/http[s]?:\/\//,"");const c=u||((o=i.ConfigManager.getBaseUrl())===null||o===void 0?void 0:o.host)||"";if(await(0,d.checkGammaEnvCaError)(`https://${c}/v1/digital-human-chat/chat`)){return""}if(!(a!==null&&a!==void 0&&a.job_id)||!s.access_token){return""}return n.UrlUtil.addQuery(`wss://${c}/v1/digital-human-chat/chat`,{job_id:(a===null||a===void 0?void 0:a.job_id)||"",token:s.access_token})}},{key:"_handleHeartbeatTimeOut",value:function e(){E.info("_handleHeartbeatTimeOut");this._clearOldWebsocket("_handleHeartbeatTimeOut");this.reconnect("_handleHeartbeatTimeOut")}},{key:"_handleError",value:function e(){E.info("_handleError");this._clearOldWebsocket("_handleError");this.reconnect("_handleError")}},{key:"_handleClose",value:function e(t){E.info("_handleClose",t===null||t===void 0?void 0:t.code);this._clearOldWebsocket("_handleClose");if((t===null||t===void 0?void 0:t.code)===u.WebSocketCode.WS_CODE_CLOSE){return}this.reconnect("_handleClose")}},{key:"_handleOpen",value:function e(){E.info("_handleOpen");(0,a.wsRetryToastHide)("_handleOpen")}},{key:"_showRetryToast",value:function e(){(0,a.wsRetryToastShow)({handleClick:()=>{const e="_showRetryToast, click";this._clearReconnectCount(e);this._clearOldWebsocket(e);this.clickToReconnect(e)}},"_showRetryToast")}},{key:"_clearOldWebsocket",value:function e(t){E.info("_clearOldWebsocket",t);delete this._initProm}},{key:"_clearReconnectCount",value:function e(t){E.info("_clearReconnectCount",t);this._wsRetryCount=0}}])}();b([(0,n.printfDecorator)(E)],T.prototype,"_getWsUrl",null)},59543:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.WebsocketWithHeartBeat=void 0;var n=r(14274);var i=r(3924);var o=r(98951);var a=r(62850);var s=r(90176);var u=r(38921);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t,r){return t=E(t),v(e,m()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e,t,r,n){var i=_(E(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof i?function(e){return i.apply(r,e)}:i}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=b(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},_.apply(null,arguments)}function b(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var T=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const C=new a.Log({module:"HwICS.HBWebsocket"});let A=t.WebsocketWithHeartBeat=function(e){function t(){var e;c(this,t);e=p(this,t);e._timerManager=new n.Timer({userWebWorker:false});e._heartbeatFailCount=0;return e}S(t,e);return f(t,[{key:"connect",value:function e({url:r,onclose:n=()=>{},onerror:i=()=>{},onopen:o=()=>{},onmessage:a=()=>{},onHeartbeatTimeOut:s=()=>{}}){this._onHeartbeatTimeOut=s;return y(t,"connect",this,3)([{url:r,onclose:n,onerror:i,onopen:()=>{this.startHeartbeatLoop();o()},onmessage:a}])}},{key:"startHeartbeatLoop",value:function e(){this._heartBeatTask=new n.Timer.TimerTask((()=>this.heartbeat()));this.resetHeartbeat("startHeartbeatLoop");this._timerManager.cancel().scheduleFixedInterval(this._heartBeatTask,i.ICS_WS_HEART_BEAT_TIME)}},{key:"resetHeartbeat",value:function e(t){C.info("resetHeartbeat",t);this._heartbeatFailCount=0}},{key:"heartbeat",value:async function e(){const t=",heartbeat";try{const e=await this.send({param:{action:u.CloudWssAction.PING},rsp_action:u.CloudWssAction.PONG,entry:t,timeout:i.ICS_WS_HEART_BEAT_TIMEOUT});if((e===null||e===void 0?void 0:e.error_code)===o.SDKErrorCode.WEBSOCKET_RESPONSE_TIMEOUT){this._heartbeatFailCount++;if(this._heartbeatFailCount>3){var r;(r=this._onHeartbeatTimeOut)===null||r===void 0?void 0:r.call(this);this.close("heartbeat time out");this.clear("heartbeat time out")}}else if(this._heartbeatFailCount!==0){this.resetHeartbeat("heartbeat success")}}catch(e){this.errorWidthId("heartbeat",t,e)}}},{key:"removeEventListener",value:function e(r){y(t,"removeEventListener",this,3)([r]);this._onHeartbeatTimeOut=()=>{}}},{key:"clear",value:function e(r){this._timerManager.cancel();this.resetHeartbeat("clear");y(t,"clear",this,3)([r])}}])}(s.WebSocketBase);T([(0,n.printfDecorator)(C)],A.prototype,"connect",null);T([(0,n.printfDecorator)(C)],A.prototype,"startHeartbeatLoop",null);T([(0,n.printfDecorator)(C)],A.prototype,"heartbeat",null);T([(0,n.printfDecorator)(C)],A.prototype,"removeEventListener",null);T([(0,n.printfDecorator)(C)],A.prototype,"clear",null)},25427:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.VidoOrientationTypesMap=t.ScreenOrientationPolyfill=t.OrientationTypesMap=void 0;var n=r(62850);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=u(e,"string");return"symbol"==typeof t?t:t+""}function u(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const c=new n.Log({module:"HwICS.service.polyfill"});const l=()=>{var e,t,r,n,i,o,a,s;return typeof((e=window)===null||e===void 0?void 0:e.ScreenOrientation)==="function"&&((t=screen)===null||t===void 0?void 0:t.orientation)instanceof ScreenOrientation&&typeof((r=screen)===null||r===void 0?void 0:(n=r.orientation)===null||n===void 0?void 0:n.addEventListener)==="function"&&((i=screen)===null||i===void 0?void 0:(o=i.orientation)===null||o===void 0?void 0:o.onchange)===null&&typeof((a=screen)===null||a===void 0?void 0:(s=a.orientation)===null||s===void 0?void 0:s.type)==="string"};var f;(function(e){e["LANDSCAPE_PRIMARY"]="landscape-primary";e["PORTRAIT_PRIMARY"]="portrait-primary"})(f||(t.VidoOrientationTypesMap=f={}));var d;(function(e){e["LANDSCAPE_PRIMARY"]="landscape-primary";e["PORTRAIT_PRIMARY"]="portrait-primary";e["LANDSCAPE_SECONDARY"]="landscape-secondary";e["PORTRAIT_SECONDARY"]="portrait-secondary"})(d||(t.OrientationTypesMap=d={}));const h={90:d.LANDSCAPE_PRIMARY,"-90":d.LANDSCAPE_SECONDARY,0:d.PORTRAIT_PRIMARY,180:d.PORTRAIT_SECONDARY};let p=function(){function e(){i(this,e);this.changeCallback=[];if(l()){c.info("onchange orientation.onchange");screen.orientation.addEventListener("change",(()=>this.doCallback()))}else if(Object.prototype.hasOwnProperty.call(window,"onorientationchange")){c.info("onchange orientationchange");window.addEventListener("orientationchange",(()=>this.doCallback()),false)}else{c.info("onchange resize");window.addEventListener("resize",(()=>this.doCallback()),false)}}return a(e,[{key:"type",get:function(){if(l()){return window.screen.orientation.type}return h[window.orientation]||(window.matchMedia("(orientation: landscape)").matches?d.LANDSCAPE_PRIMARY:d.PORTRAIT_PRIMARY)}},{key:"addChangeEvent",value:function e(t){this.changeCallback.push(t)}},{key:"removeChangeEvent",value:function e(t){this.changeCallback=this.changeCallback.filter((e=>e!==t))}},{key:"doCallback",value:function e(){this.changeCallback.forEach((e=>{e(this.type)}))}}])}();const v=t.ScreenOrientationPolyfill=new p},56346:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.SDKErrorCodeMsgMap=void 0;var n=r(98951);const i=t.SDKErrorCodeMsgMap={[n.SDKErrorCode.RTC_NOT_INIT]:"rtc not init",[n.SDKErrorCode.METHOD_PROHIBITED_EXECUTION]:"method prohibited execution",[n.SDKErrorCode.RTC_AUDIO_DEVICE_ERROR]:"audio device check error",[n.SDKErrorCode.UI_PARAM_ERROR]:"param error:%s is empty or incorrect",[n.SDKErrorCode.UI_NO_PARENT]:"container node no exist"}},3924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.WEBSOCKET_TIMEOUT=t.SPEAKING_TIMEOUT=t.PUNCTUATION_USE_TIME_MAP=t.PROGRESS_INTERVAL=t.LIMIT_SYN_TIME=t.ICS_WS_HEART_BEAT_TIMEOUT=t.ICS_WS_HEART_BEAT_TIME=t.HTTP_HEART_BEAT_INVALID_TIME=t.HRTC_JOIN_ROOM_TIMEOUT=t.HEART_BEAT_TIME=t.English_WORD_USE_TIME=t.CHINESE_WORD_USE_TIME=void 0;const r=t.PROGRESS_INTERVAL=100;const n=t.HEART_BEAT_TIME=9e3;const i=t.ICS_WS_HEART_BEAT_TIME=5e3;const o=t.ICS_WS_HEART_BEAT_TIMEOUT=5e3;const a=t.HTTP_HEART_BEAT_INVALID_TIME=5e3;const s=t.HRTC_JOIN_ROOM_TIMEOUT=5*6e4;const u=t.SPEAKING_TIMEOUT=800;const c=t.LIMIT_SYN_TIME=1e3;const l=t.WEBSOCKET_TIMEOUT=2e4;const f=t.CHINESE_WORD_USE_TIME=180;const d=350;const h=180;const p=1;const v=t.PUNCTUATION_USE_TIME_MAP={"。":d,"？":d,"：":d,"—":h,"…":h,".":h,"?":h,"、":h,"，":p,",":p," ":p,"’":p,"“":p,'"':p,"《":p,"》":p,"*":p};const g=t.English_WORD_USE_TIME=50},48551:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.USER_TYPE=t.TokenType=t.LayoutMode=t.JOB_STATE=t.CHAT_STATE=void 0;var r;(function(e){e["CAPTURE"]="CAPTURE";e["ANIMATION"]="ANIMATION";e["RENDER"]="RENDER";e["PLAYER"]="PLAYER"})(r||(t.USER_TYPE=r={}));var n;(function(e){e["WAITING"]="WAITING";e["PROCESSING"]="PROCESSING";e["SUCCEED"]="SUCCEED";e["FAILED"]="FAILED";e["CANCELED"]="CANCELED";e["IDLE"]="IDLE";e["HEARTBEAT"]="HEARTBEAT"})(n||(t.JOB_STATE=n={}));var i;(function(e){e[e["WAITING"]=0]="WAITING";e[e["WAITING_CLOSE"]=1]="WAITING_CLOSE";e[e["SUCCEED"]=2]="SUCCEED";e[e["SUSPEND"]=3]="SUSPEND";e[e["WAITING_SUSPEND"]=4]="WAITING_SUSPEND"})(i||(t.CHAT_STATE=i={}));var o;(function(e){e[e["ACCESS_TOKEN"]=0]="ACCESS_TOKEN";e[e["REFRESH_TOKEN"]=1]="REFRESH_TOKEN";e[e["ONCE_TOKEN"]=1]="ONCE_TOKEN"})(o||(t.TokenType=o={}));var a;(function(e){e["COMPUTER"]="COMPUTER";e["MOBILE"]="MOBILE";e["HUB"]="HUB"})(a||(t.LayoutMode=a={}))},21871:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.ShowMode=void 0;var r;(function(e){e["WAITING"]="waiting";e["TEXT_CONTENT"]="textContent";e["RICH_TEXT"]="richText";e["MEDIA"]="media"})(r||(t.ShowMode=r={}))},13599:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.CaptionMessageType=void 0;var r;(function(e){e["QUESTION"]="question";e["ANSWER"]="answer";e["WAITING_ANSWER"]="waiting_answer"})(r||(t.CaptionMessageType=r={}))},11579:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.WorkerRetCodes=t.TTSCRetCodes=t.RetCodes=t.RecognitionType=t.MPSRetCodes=t.HttpHeaders=t.HttpCodes=t.DeploymentMode=t.BaseUrl=void 0;var r;(function(e){e["REPORT"]="v1/digital-human-chat/endpoint/stats";e["POST_START_SMART_CHAT_JOBS"]="/v1/digital-human-chat/smart-chat-jobs";e["POST_STOP_SMART_CHAT_JOBS"]="/v1/digital-human-chat/smart-chat-jobs/{job_id}/stop";e["GET_SMART_CHAT_JOBS_STATE"]="/v1/digital-human-chat/smart-chat-jobs/{job_id}/state";e["CREATE_ONCE_TOKEN"]="/v1/digital-human-chat/create-once-token";e["AUTH_ACTIVE_CODE"]="/v1/digital-human-chat/auth-active-code";e["AUTH_ONCE_CODE"]="/v1/digital-human-chat/auth-once-code";e["TOKEN"]="/v1/digital-human-chat/token";e["VERIFICATION_SLIDE"]="/v1/digital-human-chat/verification/slide";e["VERIFICATION_SLIDE_VERIFY"]="/v1/digital-human-chat/verification/slide/verify";e["RECOGNITION_RESULT"]="/v1/digital-human-chat/recognition-result";e["GET_HOT_QUESTION"]="/v1/digital-human-chat/hot-question";e["POST_MEDIA_NEGOTIATE"]="/v1/digital-human-chat/smart-chat-jobs/{job_id}/media-negotiate"})(r||(t.BaseUrl=r={}));var n;(function(e){e["AUTH_TOKEN"]="x-auth-token"})(n||(t.HttpHeaders=n={}));var i;(function(e){e[e["QUESTION"]=0]="QUESTION";e[e["ANSWER"]=1]="ANSWER"})(i||(t.RecognitionType=i={}));var o;(function(e){e["HCSO"]="HCSO";e["CLOUD"]="CLOUD"})(o||(t.DeploymentMode=o={}));var a;(function(e){e[e["NO_RESP"]=-100]="NO_RESP";e[e["OK"]=200]="OK";e[e["NO_CONTENT"]=204]="NO_CONTENT";e[e["MULTIPLE_CHOICES"]=300]="MULTIPLE_CHOICES";e[e["BAD_REQUEST"]=400]="BAD_REQUEST";e[e["UNAUTHORIZED"]=401]="UNAUTHORIZED";e[e["FORBIDDEN"]=403]="FORBIDDEN";e[e["INTERNAL_SERVER_ERROR"]=500]="INTERNAL_SERVER_ERROR";e[e["HTTP_VERSION_NOT_SUPPORTED"]=505]="HTTP_VERSION_NOT_SUPPORTED"})(a||(t.HttpCodes=a={}));var s;(function(e){e["SUCCESS"]="MSS.00000000";e["NORMAL_FAILED"]="MSS.00000001";e["SERVER_ERROR"]="MSS.00000002";e["ERROR_PARAM"]="MSS.00000003";e["AUTH_FAILED"]="MSS.00000004";e["DIALOG_NOT_EXIST"]="MSS.47010001";e["RPC_ACTION_NOT_EXIST"]="MSS.47010002";e["ICS_EXCEPTION"]="MSS.47010003";e["REQUEST_TOO_FREQUENTLY"]="MSS.47010004";e["GET_DAC_ASSERT_FAIL"]="MSS.47010005";e["GET_DHM_STYLE_FAIL"]="MSS.47010006";e["GET_SFS_CACHE_FAIL"]="MSS.47010007";e["TENANT_CLEANUP_JOB_STOPPED"]="MSS.47010008";e["NO_PERMISSION_USE"]="MSS.47010009";e["CHAT_SERVICE_IS_ACTIVED"]="MSS.47010010";e["CHAT_SERVICE_IS_INACTIVED"]="MSS.47010011";e["DIALOG_HAS_FINISH"]="MSS.47010012";e["CHAT_SERVICE_CONCURRENCY_NOT_ENOUGH"]="MSS.47010013";e["DIALOG_STATE_UNAVAILABLE"]="MSS.47010014";e["SEND_EVENT_CALLBACK_FAIL"]="MSS.47010015";e["DIALOG_WAIT_IS_NULL"]="MSS.47010016";e["SKILL_NAME_EXIST"]="MSS.47010020";e["SKILL_IDENTIFY_EXIST"]="MSS.47010021";e["SKILL_NOT_EXIST"]="MSS.47010022";e["SKILL_NO_PERMISSION"]="MSS.47010023";e["INTENT_NAME_EXIST"]="MSS.47010024";e["INTENT_IDENTIFY_CREATE_FAILED"]="MSS.47010025";e["INTENT_COUNT_EXCEED_MAX_VALUE"]="MSS.47010026";e["INTENT_NOT_EXIST"]="MSS.47010027";e["INTENT_NO_PERMISSION"]="MSS.47010028";e["QUESTION_EXIST"]="MSS.47010029";e["QUESTION_NOT_EXIST"]="MSS.47010030";e["QUESTION_NO_PERMISSION"]="MSS.47010031";e["QUESTION_BATCH_LIST_EMPTY"]="MSS.47010032";e["ROBOT_NAME_EXIST"]="MSS.47010033";e["ROBOT_NOT_EXIST"]="MSS.47010034";e["ROBOT_NO_PERMISSION"]="MSS.47010035";e["EXPORT_SKILL_FAILED"]="MSS.47010036";e["START_SMART_CHAT_FAILED"]="MSS.47010037";e["STOP_SMART_CHAT_FAILED"]="MSS.47010038";e["SHOW_SMART_CHAT_FAILED"]="MSS.47010039";e["DIALOG_CONCURRENT_EXCEED_MAX_VALUE"]="MSS.47010040";e["ACTIVE_CODE_AUTH_FAILED"]="MSS.47010043";e["ACTIVE_CODE_AUTH_LOCKED"]="MSS.47010044";e["ACTIVE_CODE_AUTH_EXPIRED"]="MSS.47010045";e["ONCE_CODE_AUTH_FAILED"]="MSS.47010046";e["ONCE_CODE_AUTH_LOCKED"]="MSS.47010047";e["GENERATE_SLIDE_VERIFICATON_FAILED"]="MSS.47010048";e["SLIDE_VERIFICATON_NOT_EXIST"]="MSS.47010049";e["SLIDE_VERIFICATON_VERIFY_FAILED"]="MSS.47010050";e["SLIDE_VERIFICATON_VERIFY_FAILED_AND_EXCEED_MAX_TIMES"]="MSS.47010051";e["DIALOG_NO_PERMISSION"]="MSS.47010063";e["FAILED_TO_QUERY_TENANT_ID"]="MSS.47010065";e["HOT_QUESTION_NOT_EXIST"]="MSS.47010066";e["WS_INTERNAL_ERROR"]="MSS.47010100";e["MESSAGE_PARSE_ERROR"]="MSS.47010101";e["WS_ROBOT_ID_IS_EMPTY"]="MSS.47010102";e["UNKNOWN_ACTION"]="MSS.47010103";e["CONNECT_AIUI_TIMEOUT"]="MSS.47010104";e["CONNECT_APP_TIMEOUT"]="MSS.47010104";e["AUTHTOKEN_INVALID"]="MSS.47010105";e["QUERYPARAM_INVALID"]="MSS.47010106";e["CLIENT_ERROR_MESSAGE"]="MSS.47010107";e["WEBCLIENT_START_CHAT_WORKER_DISCONNECT"]="MSS.47010111";e["CHANNEL_RECORED_NOT_FOUND"]="MSS.47010119";e["INTERACTIVE_NUMBER_IS_INSUFFICIENT"]="MSS.47010120";e["TOKEN_NUMBER_IS_INSUFFICIENT"]="MSS.47010121";e["RPC_CALL_FAILED"]="MSS.47010122";e["AIUI_UNAUTHORIZED"]="MSS.47010124";e["SPARK_UNAUTHORIZED"]="MSS.47010125";e["MOBVOI_QUANTITY_NOT_ENOUGH"]="MSS.47010126";e["MOBVOI_UNAUTHORIZED"]="MSS.47010127";e["MOBVOI_ROLE_ID_IS_INVALID"]="MSS.47010128";e["THIRD_PARTY_LANGUAGE_MODEL_EMPTY"]="MSS.47010130";e["THIRD_PARTY_LANGUAGE_MODEL_URL_EMPTY"]="MSS.47010131";e["THIRD_PARTY_LANGUAGE_MODEL_URL_INVALID"]="MSS.47010134";e["IFLY_APPLICATION_SCENE_CONFIG_ERROR"]="MSS.47010136";e["SIS_AUTHORIZATION_FAILED"]="MSS.47010141";e["CURRENT_LANGUAGE_NOT_SUPPORT_RECOGNITION"]="MSS.47010143";e["ICS_NOT_IN_TEXT_MODE"]="MSS.47010144";e["ICS_TEXT_QUESTION_LENGTH_LIMITED"]="MSS.47010145";e["ICS_TEXT_QUESTION_IS_EMPTY"]="MSS.47010146";e["ICS_TEXT_QUESTION_NOT_IN_WAIT_QUESTION_STATUS"]="MSS.47010147";e["ICS_INVALID_INTERACTION_MODE"]="MSS.47010148";e["MOBVOI_REQUEST_FLOW_LIMITED"]="MSS.47010150";e["UPLOAD_LOG_COUNT_EXCEED_MAX_COUNT"]="MSS.47010151";e["ICS_EXTEND_PARAM_INVALID"]="MSS.47010152";e["PACIFY_WORDS_EXIST"]="MSS.47010154";e["PACIFY_WORDS_COUNT_EXCEED_MAX_VALUE"]="MSS.47010155";e["PACIFY_WORDS_NOT_EXIST"]="MSS.47010156";e["PACIFY_WORDS_NO_PERMISSION"]="MSS.47010157";e["PACIFY_WORDS_INTENT_NOT_SUPPORT"]="MSS.47010158";e["SINGLE_TENANT_WEBSOCKET_LINKS_EXCEEDS"]="MSS.47015005";e["WEBSOCKET_LINKS_EXCEEDS"]="MSS.47015006";e["ICS_UNMATCHED_APP_TYPE_AIUI"]="MSS.47015008";e["ICS_UNMATCHED_APP_TYPE_SPARK"]="MSS.47015009";e["ICS_THIRD_PARTY_DRIVER_NOT_ALLOWED_WEB_START_CHAT"]="MSS.47015010";e["ICS_MEDIA_SERVICE_ADDR_IS_EMPTY"]="MSS.47015011";e["ICS_MEDIA_NEGOTIATE_FAILED"]="MSS.47015012";e["ICS_SIS_FROZEN_ERROR"]="MSS.47015015";e["ICS_THIRD_PARTY_DRIVE_NOT_ALLOWED_THIS_WEB_MESSAGE"]="MSS.47015017"})(s||(t.RetCodes=s={}));var u;(function(e){e["SUCCESS"]="00000000";e["FAILED"]="00000001";e["INTERNAL_ERROR"]="00000002";e["INVALID_PARAMETER"]="00000003";e["ILLEGAL_ACCESS"]="00000004";e["MPS_NAME_INCLUDE_INVALID_SYMBOL"]="20010001";e["NO_MATCH_TEMPLATE"]="20010003";e["REFRESH_ASSET_FAILED"]="20010010";e["NO_ENOUGH_RESOURCE"]="20010035";e["NATS_PUBLISH_FAILURE"]="20010040";e["NATS_SUBSCRIBE_FAILURE"]="20010041";e["NATS_DELETE_SUBJECT_FAILURE"]="20010042";e["NATS_INTERNAL_ERROR"]="20010043";e["DIGITAL_HUMAN_NOT_AVAILABLE"]="20010044";e["MPS_ROOM_INFO_NOT_FOUND"]="20010045";e["ROOM_ID_JOB_EXIST"]="20010046";e["ASSET_NOT_EXIST"]="20010047";e["ASSET_INFO_INVALID"]="20010050";e["INVALID_COMMAND"]="20010053";e["QUOTA_INSUFFICIENT"]="20010056";e["REQUEST_TMS_UNAVAILABLE"]="20010060";e["LIVE_QUOTA_INSUFFICIENT"]="20010065";e["MPS_CHANGE_FINISHED_JOB_STATE_FAILED"]="20010066";e["AUDIO_NOT_FOUND_URL"]="20010067";e["MPS_FIELD_VERIFY_FAIL"]="20010070";e["MPS_ASSET_ID_UNAVAILABLE"]="20010071";e["MPS_JOB_NOT_EXISTED"]="20010074";e["CHAT_QUOTA_INSUFFICIENT"]="20010075";e["MPS_TASK_EXPIRED"]="20010076";e["CONVERSATION_RESOURCE_FULL"]="20010089";e["TONE_RESOURCE_ERROR"]="20010131";e["CHAT_JOBS_NUM_IS_OVER_CONCURRENCY"]="20010135";e["CHAT_SUM_CONCURRENCY_OR_JOBS_NUM_IS_OVER_RESOURCES_NUM"]="20010139";e["MPS_ASSET_ID_INVALID"]="20010140";e["MPS_JOB_HEARTBEAT_FAILED"]="20010146";e["MPS_ROOM_NAME_DUPLICATE"]="20010148"})(u||(t.MPSRetCodes=u={}));var c;(function(e){e["DHICIS_ERROR"]="47000001";e["DHICIS_INFER_SERVICE_ERROR"]="47000002";e["DHICIS_TASK_READY_ERROR"]="47000003";e["DHICIS_CREATE_INFER_MODEL_ERROR"]="47000004";e["DHICIS_WORKER_JOIN_ROOM_FAIL"]="47000005";e["DHICIS_MANAGER_SERVICE_ERROR"]="47000006";e["DHICIS_JOB_STOP_BY_COMMAND"]="47000007";e["DHICIS_FSM_STATE_TIME_OUT"]="47000009";e["DHICIS_ICS_ERROR"]="47000010";e["DHICIS_RTSA_ROOM_EMPTY"]="47000011";e["DHICIS_RTSA_REPORT_LEAVE_ROOM"]="47000012";e["DHICIS_MODEL_FILE_DOWN_FAIL"]="47000013";e["DHICIS_BACKGROUND_FILE_DOWN_FAIL"]="47000014";e["DHICIS_WORKER_JOIN_ROOM_TIMEOUT"]="47000015";e["DHICIS_JOIN_ROOM_TASK_FAIL"]="47000016";e["DHICIS_TTS_PREHEAT_TASK_FAIL"]="47000017";e["DHICIS_DATA_PACKAGE_IS_NOT_ZIP"]="47000018";e["DHICIS_TOO_MANY_ENTRIES_IN_PACKAGE"]="47000019";e["DHICIS_PACKAGE_TOO_LARGE"]="47000020";e["DHICIS_FILE_IN_PACKAGE_TOO_LARGE"]="47000021";e["DHICIS_UNEXPECTED_DIRECTORY_IN_PACKAGE"]="47000022";e["DHICIS_PACKAGE_ENTRY_ILLEGAL_NAME"]="47000023";e["DHICIS_FILE_NAME_INVALID"]="47000024";e["DHICIS_JOB_INFO_PARA_INVALID"]="47000025";e["DHICIS_FSM_STATE_ERROR"]="47000027";e["DHICIS_TTS_CONVERT_FAIL"]="47000029";e["DHICIS_NO_IDLE_WORK"]="47002000";e["DHICIS_NO_RESOURCE"]="47002001";e["DHICIS_RESOURCE_LIMITED"]="47002002"})(c||(t.WorkerRetCodes=c={}));var l;(function(e){e["TTS_ACCESS_CONFIG_ERROR"]="20050038";e["TTS_INSUFFICIENT_ACCOUNT_BALANCE"]="20050039";e["TTS_INVALID_TEXT"]="20050040";e["TTS_NO_ACCESS_CONFIG"]="20050029";e["TTS_TO_LONG_WORD_TEXT"]="20051001";e["TTS_UNSUPPORTED_LANGUAGE_TEXT"]="20050064"})(l||(t.TTSCRetCodes=l={}))},98951:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.msgMap=t.WakeupType=t.SDKErrorCode=t.InnerICSEventMethod=t.InnerICSEventKey=t.ICSEventKey=t.BrowserType=void 0;var r;(function(e){e["MPS_JOB_STATE_NULL"]="999000001";e["MPS_JOB_STATE_ERROR"]="999000002";e["RTC_PROMISE_ERROR"]="999100001";e["RTC_CATCH_ERROR"]="999100002";e["RTC_KICK_OUT"]="999100003";e["RTC_AUDIO_DEVICE_ERROR"]="999100004";e["RTC_PEER_LEAVE"]="999100005";e["RTC_KICK_ROOM"]="999100006";e["RTC_NOT_INIT"]="999100007";e["RTC_JOIN_TIMEOUT"]="999100008";e["WEBSOCKET_CONNECT_ERROR"]="999200001";e["WEBSOCKET_RESPONSE_TIMEOUT"]="999200002";e["WEBCLIENT_WEBSOCKET_CHANNEL_ABNORMAL"]="999200003";e["WEBSOCKET_NETWORK_ERROR"]="999200004";e["WEBSOCKET_KICK_OUT"]="999200005";e["UI_NO_PARENT"]="999300001";e["UI_PARAM_ERROR"]="999300002";e["UI_LANGUAGE_LIST_EMPTY"]="999300003";e["UI_LANGUAGE_CODE_NOT_SUPPORT"]="999300004";e["METHOD_PROHIBITED_EXECUTION"]="999400001"})(r||(t.SDKErrorCode=r={}));var n;(function(e){e["ERROR"]="error";e["JOB_INFO_CHANGE"]="jobInfoChange";e["SPEAKING_START"]="speakingStart";e["SPEAKING_STOP"]="speakingStop";e["SPEECH_RECOGNIZED"]="speechRecognized";e["SEMANTIC_RECOGNIZED"]="semanticRecognized";e["ENTER_SLEEP"]="enterSleep";e["ENTER_ACTIVE"]="enterActive";e["LANGUAGE_INFO_CHANGE"]="languageInfoChange"})(n||(t.ICSEventKey=n={}));var i;(function(e){e["REJOIN_EVENT"]="icsSDKRejoinEvent";e["STOP_CHAT_EVENT"]="stopChatEvent";e["HEARTBEAT_EVENT"]="heartbeatEvent";e["WS_CHANGE_LANGUAGE"]="wsChangeLanguage"})(i||(t.InnerICSEventKey=i={}));var o;(function(e){e["STOP_HEARTBEAT"]="stopHeartBeat";e["REJOIN"]="rejoin";e["WAIT_REJOIN"]="waitRejoin"})(o||(t.InnerICSEventMethod=o={}));var a;(function(e){e["CHROME"]="CHROME";e["EDGE"]="EDGE";e["SAFARI"]="SAFARI";e["WE_CHAT"]="WE_CHAT";e["UNSUPPORTED"]="UNSUPPORTED"})(a||(t.BrowserType=a={}));const s=t.msgMap={[r.RTC_NOT_INIT]:"rtc not init",[r.METHOD_PROHIBITED_EXECUTION]:"method prohibited execution",[r.RTC_AUDIO_DEVICE_ERROR]:"audio device check error",[r.UI_LANGUAGE_LIST_EMPTY]:"language list is empty, make sure job is created",[r.UI_LANGUAGE_CODE_NOT_SUPPORT]:"langCode is not support"};var u;(function(e){e["VOICE"]="VOICE";e["RADAR"]="RADAR";e["INFRARED"]="INFRARED";e["CAMERA"]="CAMERA"})(u||(t.WakeupType=u={}))},51988:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.Webclient2VoiceLanguage=t.VoiceLanguageCode=t.LanguageCode=t.Ics2WebclientLanguage=void 0;var r;(function(e){e["ZH_CN"]="zh_CN";e["EN_US"]="en_US"})(r||(t.LanguageCode=r={}));var n;(function(e){e["CN"]="CN";e["EN"]="EN"})(n||(t.VoiceLanguageCode=n={}));const i=t.Ics2WebclientLanguage={CN:r.ZH_CN,EN:r.EN_US};const o=t.Webclient2VoiceLanguage={zh_CN:n.CN,en_US:n.EN}},88003:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.WakeupIntentions=void 0;var r;(function(e){e["START"]="start";e["INTERRUPT"]="interrupt";e["STOP"]="stop"})(r||(t.WakeupIntentions=r={}))},12262:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.ReduxModule=t.PageState=t.ConfigKey=t.ChatBtnState=void 0;var r;(function(e){e["MAIN"]="main";e["ERROR"]="error";e["CONFIG"]="config";e["CAPTION"]="caption";e["LANG"]="lang";e["MEDIAVIEW"]="mediaView"})(r||(t.ReduxModule=r={}));var n;(function(e){e["ACTIVATION"]="activation";e["LOADING"]="loading";e["MAIN"]="main"})(n||(t.PageState=n={}));var i;(function(e){e["INIT"]="init";e["LOADING"]="loading";e["PLAY"]="play";e["THINKING"]="thinking";e["ANSWERING"]="answering";e["STOPPING"]="stopping"})(i||(t.ChatBtnState=i={}));var o;(function(e){e["ENABLE_CAPTION"]="enableCaption";e["ENABLE_CHAT_BTN"]="enableChatBtn";e["ENABLE_HOT_ISSUES"]="enableHotIssues";e["USE_DEFAULT_TITLE"]="useDefaultTitle";e["ENABLE_BUSINESS_TRACK"]="enableBusinessTrack";e["ENABLE_WEAK_ERROR_INFO"]="enableWeakErrorInfo";e["ENABLE_JOB_CACHE"]="enableJobCache";e["USE_DEFAULT_BACKGROUND"]="useDefaultBackground";e["ENABLE_NETWORK_CHECK"]="enableNetworkCheck";e["ENABLE_DEVICE_SETTING"]="enableDeviceSetting";e["SHOW_LANGUAGE_UI"]="showLanguageUI";e["DESTROY_BEFORE_CLOSE"]="destroyBeforeClose";e["ENABLE_LOCAL_WAKEUP"]="enableLocalWakeup";e["ENABLE_VAD_INTERRUPT"]="enableVadInterrupt";e["FIRST_CREATE_LOCAL_STREAM"]="firstCreateLocalStream";e["ENABLE_STORAGE_CACHE"]="enableStorageCache";e["ENABLE_MEDIA_VIEWER"]="enableMediaViewer"})(o||(t.ConfigKey=o={}))},28205:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.RejoinReason=void 0;var r;(function(e){e["NETWORK_ERROR"]="networkAbnormalAndRecovering";e["UPGRADING"]="upgradingAndRejoing";e["LOADING"]="loading"})(r||(t.RejoinReason=r={}))},41483:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.SparkRTCErrorCode=t.NetworkQualityToast=t.NETWORK_QUALITY_LEVEL=t.ErrorMsg=void 0;var r;(function(e){e["RTC_ERR_CODE_SUCCESS"]="0";e["RTC_ERR_CODE_RTC_SDK_ERROR"]="90000001";e["RTC_ERR_CODE_WAIT_RSP_TIMEOUT"]="90000004";e["RTC_ERR_CODE_INVALID_PARAMETER"]="90000005";e["RTC_ERR_CODE_INVALID_OPERATION"]="90100001";e["RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES"]="90100002";e["RTC_ERR_CODE_NO_AVAILABLE_DEVICES"]="90100003";e["RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES"]="90100004";e["RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES"]="90100005";e["RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES"]="90100006";e["RTC_ERR_CODE_STATUS_ERROR"]="90100007";e["RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED"]="90100008";e["RTC_ERR_CODE_WAIT_CONFIG_FAIL"]="90100009";e["RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL"]="90100010";e["RTC_ERR_CODE_REGION_NOT_COVERED"]="90100011";e["RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT"]="90100012";e["RTC_ERR_CODE_WEBSOCKET_RECONNECT_TIMEOUT"]="90100013";e["RTC_ERR_CODE_WEBSOCKET_NOT_OPEN"]="90100014";e["RTC_ERR_CODE_WEBSOCKET_INTERRUPTED"]="90100015";e["RTC_ERR_CODE_WEBSOCKET_CONNECT_ERROR"]="90100016";e["RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED"]="90100017";e["RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED"]="90100018";e["RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND"]="90100019";e["RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE"]="90100020";e["RTC_ERR_CODE_PLAY_NOT_ALLOW"]="90100021";e["RTC_ERR_CODE_ROLE_NO_PERMISSION"]="90100022";e["RTC_ERR_CODE_ANSWER_SDP_INVALID"]="90100023";e["RTC_ERR_CODE_MEDIA_UPSTREAM_UNSUPPORTED"]="90100024";e["RTC_ERR_CODE_WEBRTC_UNSUPPORTED"]="90100025";e["RTC_ERR_CODE_MEDIA_NETWORK_ERROR"]="90100026";e["RTC_ERR_CODE_CLIENT_RELAY_ROOM_OVER_MAXNUM"]="90100027";e["RTC_ERR_CODE_CLIENT_RELAY_JOINER_OVER_MAXNUM"]="90100028";e["RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED"]="90100029";e["RTC_ERR_CODE_SIGNATURE_EXPIRED"]="90100030";e["RTC_ERR_CODE_SIGNATURE_INVALID"]="90100031";e["RTC_ERR_CODE_WINDOW_OR_NAVIGATOR_UNSUPPORTED"]="90100032";e["RTC_ERR_CODE_CHROME_VERSION_UNSUPPORTED"]="90100033";e["RTC_ERR_CODE_WEBSOCKET_UNSUPPORTED"]="90100034";e["RTC_ERR_CODE_WEBRTC_AVC_ENCODE_UNSUPPORTED"]="90100035";e["RTC_ERR_CODE_WEBRTC_AVC_DECODE_UNSUPPORTED"]="90100036";e["RTC_ERR_CODE_WEBRTC_WECHAT_UNSUPPORTED"]="90100037";e["RTC_ERR_CODE_RTC_ACS"]="90100100";e["RTC_ERR_CODE_RTC_CONTROL_ERROR"]="90100200";e["RTC_ERR_CODE_SFU_ERROR"]="90100600";e["RTC_WEBSOCKET_ERR_NEED_REJOIN"]="4005"})(r||(t.SparkRTCErrorCode=r={}));const n=t.ErrorMsg={[r.RTC_ERR_CODE_SUCCESS]:"success",[r.RTC_ERR_CODE_RTC_SDK_ERROR]:"sdk internal error",[r.RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES]:"not support enumerate devices",[r.RTC_ERR_CODE_NO_AVAILABLE_DEVICES]:"no available devices",[r.RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES]:"no available video input devices",[r.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES]:"no available audio input devices",[r.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES]:"no available audio output devices",[r.RTC_ERR_CODE_STATUS_ERROR]:"room status error",[r.RTC_ERR_CODE_INVALID_PARAMETER]:"invalid parameter",[r.RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED]:'websocket connection state is not "CONNECTED"',[r.RTC_ERR_CODE_WEBSOCKET_NOT_OPEN]:"websocket is not open",[r.RTC_ERR_CODE_WAIT_CONFIG_FAIL]:"wait server config fail",[r.RTC_ERR_CODE_WAIT_RSP_TIMEOUT]:"message response timeout",[r.RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL]:"publish response fail",[r.RTC_ERR_CODE_REGION_NOT_COVERED]:"current region is not covered, service unavailable",[r.RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT]:"websocket connect timeout",[r.RTC_ERR_CODE_WEBSOCKET_RECONNECT_TIMEOUT]:"websocket reconnect timeout",[r.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED]:"websocket connection state is idle, interrupt operation",[r.RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED]:"capture failed, permission denied",[r.RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED]:"capture failed, Constraint parameter invalid",[r.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND]:"capture failed, requested device not found",[r.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE]:"capture failed, maybe device is occupied by other application",[r.RTC_ERR_CODE_PLAY_NOT_ALLOW]:"the user didn't interact with the document first, please trigger by gesture",[r.RTC_ERR_CODE_ROLE_NO_PERMISSION]:"the user role have no permission to operate",[r.RTC_ERR_CODE_ANSWER_SDP_INVALID]:"the answer sdp is  invalid",[r.RTC_ERR_CODE_MEDIA_UPSTREAM_UNSUPPORTED]:"the upstream media is not supported",[r.RTC_ERR_CODE_WEBRTC_UNSUPPORTED]:"the browser does not support",[r.RTC_ERR_CODE_MEDIA_NETWORK_ERROR]:"media connection establish failed, please switch network or try again later",[r.RTC_ERR_CODE_CLIENT_RELAY_ROOM_OVER_MAXNUM]:"relay room number over maxium number.",[r.RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED]:"room stream status paused",[r.RTC_ERR_CODE_CLIENT_RELAY_JOINER_OVER_MAXNUM]:"joiner already exist in relay rooms.",[r.RTC_ERR_CODE_SIGNATURE_INVALID]:"signature invalid",[r.RTC_ERR_CODE_SIGNATURE_EXPIRED]:"signature expired"};var i;(function(e){e[e["UNKNOWN"]=0]="UNKNOWN";e[e["GREAT"]=1]="GREAT";e[e["GOOD"]=2]="GOOD";e[e["NOT_BAD"]=3]="NOT_BAD";e[e["BAD"]=4]="BAD";e[e["VERY_BAD"]=5]="VERY_BAD";e[e["DISCONNECTED"]=6]="DISCONNECTED"})(i||(t.NETWORK_QUALITY_LEVEL=i={}));const o=t.NetworkQualityToast={LOCALE_STREAM:{rtt:180},REMOTE_AUDIO_STREAM:{pktLossRate:4,jitter:25},REMOTE_VIDEO_STREAM:{pktLossRate:4,jitter:15}}},83353:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.Arg1Map=void 0;var r;(function(e){e["CODE_ERROR"]="ut_event_web_code_error";e["USER_CLICK"]="ut_event_web_user_click";e["PAGE_STATUS"]="ut_event_web_page_status";e["ROUTE_CHANGE"]="ut_event_web_route_change";e["REDUX_ACTION"]="ut_event_web_redux_action";e["SERVER_API"]="ut_event_web_server_api";e["COMMON_ERROR"]="ut_event_web_common_error";e["LOGGER_MESSAGE"]="ut_event_web_logger_message";e["NETWORK_CHANGE"]="ut_event_web_network_change";e["PAGE_CREATE"]="ut_event_web_page_create";e["PAGE_DESTROY"]="ut_event_web_page_destroy";e["PAGE_USE_TIME"]="ut_event_web_page_use_time";e["WEBSOCKET"]="ut_event_web_websocket";e["HCSO_WEBSOCKET"]="ut_event_web_hcso_websocket";e["SPARK_RTC"]="ut_event_web_sparkRTC";e["HCSO"]="ut_event_web_hcso";e["ICS_SDK_ERROR"]="ut_event_web_ics_sdk_error";e["APP_ERROR"]="ut_event_web_app_error";e["MESSAGE_ITEM_RENDER"]="ut_event_web_message_item_render";e["C_NATIVE"]="ut_event_web_c_native";e["ELECTRON_MESSAGE"]="ut_event_web_electron_message";e["HWICSUISDK_METHOD"]="ut_event_hwics_uisdk_method";e["HWICSUISDK_NOTIFY"]="ut_event_hwics_uisdk_notify";e["MEMORY"]="ut_event_web_memory"})(r||(t.Arg1Map=r={}))},38921:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.ReadyState=t.InteractionMode=t.HcsoWssAction=t.ERROR_LEVEL=t.CloudWssAction=void 0;var r;(function(e){e["MINOR"]="MINOR";e["MAJOR"]="MAJOR"})(r||(t.ERROR_LEVEL=r={}));var n;(function(e){e["START_CHAT"]="start_chat";e["START_CHAT_RSP"]="start_chat_rsp";e["STOP_CHAT"]="stop_chat";e["STOP_CHAT_RSP"]="stop_chat_rsp";e["STOP_JOB"]="stop_job";e["STOP_JOB_RSP"]="stop_job_rsp";e["ENTER_SLEEP"]="enter_sleep";e["SPEECH_RECOGNIZED"]="speech_recognized";e["SEMANTIC_RECOGNIZED"]="semantic_recognized";e["INTERRUPT"]="interrupt_chat";e["INTERRUPT_RESULT"]="interrupt_result";e["START_SPEAKING"]="start_speaking";e["STOP_SPEAKING"]="stop_speaking";e["PING"]="ping";e["PONG"]="pong";e["ERROR"]="error";e["ACCEPT_NEW_QUESTION"]="accept_new_question";e["LANGUAGE_CHANGE"]="change_language";e["ACTIVE_INTERACTION_MODE"]="active_interaction_mode";e["ACTIVE_INTERACTION_MODE_RSP"]="active_interaction_mode_rsp";e["INTERACTION_MODE_SWITCH"]="interaction_mode_switch";e["INTERACTION_MODE_SWITCH_RSP"]="interaction_mode_switch_rsp";e["TEXT_QUESTION"]="text_question";e["TEXT_QUESTION_RSP"]="text_question_rsp";e["LANGUAGE_CHANGE_RSP"]="change_language_rsp";e["TEXT_DRIVE"]="text_drive";e["TEXT_DRIVE_RSP"]="text_drive_rsp"})(n||(t.CloudWssAction=n={}));var i;(function(e){e["GET_VIDEO_CODES"]="get_video_codecs";e["GET_VIDEO_CODES_RSP"]="get_video_codecs_rsp";e["START_SEND"]="start_send";e["START_SEND_RSP"]="start_send_rsp";e["KICK_OUT"]="kick_out";e["PING"]="ping";e["PONG"]="pong"})(i||(t.HcsoWssAction=i={}));var o;(function(e){e[e["CONNECTING"]=0]="CONNECTING";e[e["OPEN"]=1]="OPEN";e[e["CLOSING"]=2]="CLOSING";e[e["CLOSED"]=3]="CLOSED"})(o||(t.ReadyState=o={}));var a;(function(e){e["AUDIO"]="AUDIO";e["TEXT"]="TEXT"})(a||(t.InteractionMode=a={}))},29014:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.MediaType=void 0;var r;(function(e){e["VIDEO"]="VIDEO";e["IMAGE"]="IMAGE"})(r||(t.MediaType=r={}))},3467:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.ICSErrorMessage=void 0;var r;(function(e){e["errorParam"]="param error";e["noParentNode"]="container node no exist";e["icsWSTimeout"]="ics websocket time out"})(r||(t.ICSErrorMessage=r={}))},88789:(e,t,r)=>{function n(e,t,r,n){var o=i(b(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof o?function(e){return o.apply(r,e)}:o}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=o(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},i.apply(null,arguments)}function o(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=l(e,"string");return"symbol"==typeof t?t:t+""}function l(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e,t,r){return t=b(t),d(e,m()?Reflect.construct(t,r||[],b(e).constructor):t.apply(e,r))}function d(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function v(e){var t="function"==typeof Map?new Map:void 0;return v=function(e){if(null===e||!y(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_(r,e)},v(e)}function g(e,t,r){if(m())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&_(i,r.prototype),i}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}!function(t,r){true?e.exports=r():0}(void 0,(function(){function e(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(r){if("default"!==r&&!(r in e)){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}))})),Object.freeze(e)}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function i(e){var r=function(e,r){if("object"!=t(e)||!e){return e}var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i)){return i}throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}function o(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:{};function l(e){var t=e.default;if("function"==typeof t){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else{r={}}return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var d=function(e){return e&&e.Math==Math&&e},g=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof c&&c)||function(){return this}()||Function("return this")(),m={},y=function(e){try{return!!e()}catch(e){return!0}},_=!y((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=!y((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),E=b,S=Function.prototype.call,w=E?S.bind(S):function(){return S.apply(S,arguments)},T={},C={}.propertyIsEnumerable,A=Object.getOwnPropertyDescriptor,R=A&&!C.call({1:2},1);T.f=R?function(e){var t=A(this,e);return!!t&&t.enumerable}:C;var I,k,O=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},P=b,M=Function.prototype,x=M.bind,L=M.call,D=P&&x.bind(L,L),N=P?function(e){return e&&D(e)}:function(e){return e&&function(){return L.apply(e,arguments)}},j=N,U=j({}.toString),B=j("".slice),F=function(e){return B(U(e),8,-1)},H=y,V=F,W=Object,z=N("".split),G=H((function(){return!W("z").propertyIsEnumerable(0)}))?function(e){return"String"==V(e)?z(e,""):W(e)}:W,Y=TypeError,K=function(e){if(null==e){throw Y("Can't call method on "+e)}return e},q=G,$=K,J=function(e){return q($(e))},Z=function(e){return"function"==typeof e},X=Z,Q=function(e){return"object"==typeof e?null!==e:X(e)},ee=g,te=Z,re=function(e,t){return arguments.length<2?(r=ee[e],te(r)?r:void 0):ee[e]&&ee[e][t];var r},ne=N({}.isPrototypeOf),ie=re("navigator","userAgent")||"",oe=g,ae=ie,se=oe.process,ue=oe.Deno,ce=se&&se.versions||ue&&ue.version,le=ce&&ce.v8;le&&(k=(I=le.split("."))[0]>0&&I[0]<4?1:+(I[0]+I[1])),!k&&ae&&(!(I=ae.match(/Edge\/(\d+)/))||I[1]>=74)&&(I=ae.match(/Chrome\/(\d+)/))&&(k=+I[1]);var fe=k,de=fe,he=y,pe=!!Object.getOwnPropertySymbols&&!he((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&de&&de<41})),ve=pe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ge=re,me=Z,ye=ne,_e=Object,be=ve?function(e){return"symbol"==typeof e}:function(e){var t=ge("Symbol");return me(t)&&ye(t.prototype,_e(e))},Ee=String,Se=function(e){try{return Ee(e)}catch(e){return"Object"}},we=Z,Te=Se,Ce=TypeError,Ae=function(e){if(we(e)){return e}throw Ce(Te(e)+" is not a function")},Re=Ae,Ie=function(e,t){var r=e[t];return null==r?void 0:Re(r)},ke=w,Oe=Z,Pe=Q,Me=TypeError,xe={exports:{}},Le=g,De=Object.defineProperty,Ne=function(e,t){try{De(Le,e,{value:t,configurable:!0,writable:!0})}catch(r){Le[e]=t}return t},je=Ne,Ue="__core-js_shared__",Be=g[Ue]||je(Ue,{}),Fe=Be;(xe.exports=function(e,t){return Fe[e]||(Fe[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var He=K,Ve=Object,We=function(e){return Ve(He(e))},ze=We,Ge=N({}.hasOwnProperty),Ye=Object.hasOwn||function(e,t){return Ge(ze(e),t)},Ke=N,qe=0,$e=Math.random(),Je=Ke(1..toString),Ze=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Je(++qe+$e,36)},Xe=g,Qe=xe.exports,et=Ye,tt=Ze,rt=pe,nt=ve,it=Qe("wks"),ot=Xe.Symbol,at=ot&&ot.for,st=nt?ot:ot&&ot.withoutSetter||tt,ut=function(e){if(!et(it,e)||!rt&&"string"!=typeof it[e]){var t="Symbol."+e;rt&&et(ot,e)?it[e]=ot[e]:it[e]=nt&&at?at(t):st(t)}return it[e]},ct=w,lt=Q,ft=be,dt=Ie,ht=function(e,t){var r,n;if("string"===t&&Oe(r=e.toString)&&!Pe(n=ke(r,e))){return n}if(Oe(r=e.valueOf)&&!Pe(n=ke(r,e))){return n}if("string"!==t&&Oe(r=e.toString)&&!Pe(n=ke(r,e))){return n}throw Me("Can't convert object to primitive value")},pt=TypeError,vt=ut("toPrimitive"),gt=function(e,t){if(!lt(e)||ft(e)){return e}var r,n=dt(e,vt);if(n){if(void 0===t&&(t="default"),r=ct(n,e,t),!lt(r)||ft(r)){return r}throw pt("Can't convert object to primitive value")}return void 0===t&&(t="number"),ht(e,t)},mt=gt,yt=be,_t=function(e){var t=mt(e,"string");return yt(t)?t:t+""},bt=Q,Et=g.document,St=bt(Et)&&bt(Et.createElement),wt=function(e){return St?Et.createElement(e):{}},Tt=wt,Ct=!_&&!y((function(){return 7!=Object.defineProperty(Tt("div"),"a",{get:function(){return 7}}).a})),At=_,Rt=w,It=T,kt=O,Ot=J,Pt=_t,Mt=Ye,xt=Ct,Lt=Object.getOwnPropertyDescriptor;m.f=At?Lt:function(e,t){if(e=Ot(e),t=Pt(t),xt){try{return Lt(e,t)}catch(e){}}if(Mt(e,t)){return kt(!Rt(It.f,e,t),e[t])}};var Dt={},Nt=_&&y((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),jt=Q,Ut=String,Bt=TypeError,Ft=function(e){if(jt(e)){return e}throw Bt(Ut(e)+" is not an object")},Ht=_,Vt=Ct,Wt=Nt,zt=Ft,Gt=_t,Yt=TypeError,Kt=Object.defineProperty,qt=Object.getOwnPropertyDescriptor,$t="enumerable",Jt="configurable",Zt="writable";Dt.f=Ht?Wt?function(e,t,r){if(zt(e),t=Gt(t),zt(r),"function"==typeof e&&"prototype"===t&&"value"in r&&Zt in r&&!r[Zt]){var n=qt(e,t);n&&n[Zt]&&(e[t]=r.value,r={configurable:Jt in r?r[Jt]:n[Jt],enumerable:$t in r?r[$t]:n[$t],writable:!1})}return Kt(e,t,r)}:Kt:function(e,t,r){if(zt(e),t=Gt(t),zt(r),Vt){try{return Kt(e,t,r)}catch(e){}}if("get"in r||"set"in r){throw Yt("Accessors not supported")}return"value"in r&&(e[t]=r.value),e};var Xt=Dt,Qt=O,er=_?function(e,t,r){return Xt.f(e,t,Qt(1,r))}:function(e,t,r){return e[t]=r,e},tr={exports:{}},rr=_,nr=Ye,ir=Function.prototype,or=rr&&Object.getOwnPropertyDescriptor,ar=nr(ir,"name"),sr={EXISTS:ar,PROPER:ar&&"something"===function(){}.name,CONFIGURABLE:ar&&(!rr||rr&&or(ir,"name").configurable)},ur=Z,cr=Be,lr=N(Function.toString);ur(cr.inspectSource)||(cr.inspectSource=function(e){return lr(e)});var fr,dr,hr,pr=cr.inspectSource,vr=Z,gr=pr,mr=g.WeakMap,yr=vr(mr)&&/native code/.test(gr(mr)),_r=xe.exports,br=Ze,Er=_r("keys"),Sr=function(e){return Er[e]||(Er[e]=br(e))},wr={},Tr=yr,Cr=g,Ar=N,Rr=Q,Ir=er,kr=Ye,Or=Be,Pr=Sr,Mr=wr,xr="Object already initialized",Lr=Cr.TypeError,Dr=Cr.WeakMap;if(Tr||Or.state){var Nr=Or.state||(Or.state=new Dr),jr=Ar(Nr.get),Ur=Ar(Nr.has),Br=Ar(Nr.set);fr=function(e,t){if(Ur(Nr,e)){throw new Lr(xr)}return t.facade=e,Br(Nr,e,t),t},dr=function(e){return jr(Nr,e)||{}},hr=function(e){return Ur(Nr,e)}}else{var Fr=Pr("state");Mr[Fr]=!0,fr=function(e,t){if(kr(e,Fr)){throw new Lr(xr)}return t.facade=e,Ir(e,Fr,t),t},dr=function(e){return kr(e,Fr)?e[Fr]:{}},hr=function(e){return kr(e,Fr)}}var Hr={set:fr,get:dr,has:hr,enforce:function(e){return hr(e)?dr(e):fr(e,{})},getterFor:function(e){return function(t){var r;if(!Rr(t)||(r=dr(t)).type!==e){throw Lr("Incompatible receiver, "+e+" required")}return r}}},Vr=y,Wr=Z,zr=Ye,Gr=_,Yr=sr.CONFIGURABLE,Kr=pr,qr=Hr.enforce,$r=Hr.get,Jr=Object.defineProperty,Zr=Gr&&!Vr((function(){return 8!==Jr((function(){}),"length",{value:8}).length})),Xr=String(String).split("String"),Qr=tr.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!zr(e,"name")||Yr&&e.name!==t)&&(Gr?Jr(e,"name",{value:t,configurable:!0}):e.name=t),Zr&&r&&zr(r,"arity")&&e.length!==r.arity&&Jr(e,"length",{value:r.arity});try{r&&zr(r,"constructor")&&r.constructor?Gr&&Jr(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=qr(e);return zr(n,"source")||(n.source=Xr.join("string"==typeof t?t:"")),e};Function.prototype.toString=Qr((function(){return Wr(this)&&$r(this).source||Kr(this)}),"toString");var en=Z,tn=Dt,rn=tr.exports,nn=Ne,on=function(e,t,r,n){n||(n={});var i=n.enumerable,o=void 0!==n.name?n.name:t;if(en(r)&&rn(r,o,n),n.global){i?e[t]=r:nn(t,r)}else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch(e){}i?e[t]=r:tn.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},an={},sn=Math.ceil,un=Math.floor,cn=Math.trunc||function(e){var t=+e;return(t>0?un:sn)(t)},ln=cn,fn=function(e){var t=+e;return t!=t||0===t?0:ln(t)},dn=fn,hn=Math.max,pn=Math.min,vn=function(e,t){var r=dn(e);return r<0?hn(r+t,0):pn(r,t)},gn=fn,mn=Math.min,yn=function(e){return e>0?mn(gn(e),9007199254740991):0},_n=yn,bn=function(e){return _n(e.length)},En=J,Sn=vn,wn=bn,Tn=function(e){return function(t,r,n){var i,o=En(t),a=wn(o),s=Sn(n,a);if(e&&r!=r){for(;a>s;){if((i=o[s++])!=i){return!0}}}else{for(;a>s;s++){if((e||s in o)&&o[s]===r){return e||s||0}}}return!e&&-1}},Cn={includes:Tn(!0),indexOf:Tn(!1)},An=Ye,Rn=J,In=Cn.indexOf,kn=wr,On=N([].push),Pn=function(e,t){var r,n=Rn(e),i=0,o=[];for(r in n){!An(kn,r)&&An(n,r)&&On(o,r)}for(;t.length>i;){An(n,r=t[i++])&&(~In(o,r)||On(o,r))}return o},Mn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xn=Pn,Ln=Mn.concat("length","prototype");an.f=Object.getOwnPropertyNames||function(e){return xn(e,Ln)};var Dn={};Dn.f=Object.getOwnPropertySymbols;var Nn=re,jn=an,Un=Dn,Bn=Ft,Fn=N([].concat),Hn=Nn("Reflect","ownKeys")||function(e){var t=jn.f(Bn(e)),r=Un.f;return r?Fn(t,r(e)):t},Vn=Ye,Wn=Hn,zn=m,Gn=Dt,Yn=function(e,t,r){for(var n=Wn(t),i=Gn.f,o=zn.f,a=0;a<n.length;a++){var s=n[a];Vn(e,s)||r&&Vn(r,s)||i(e,s,o(t,s))}},Kn=y,qn=Z,$n=/#|\.prototype\./,Jn=function(e,t){var r=Xn[Zn(e)];return r==ei||r!=Qn&&(qn(t)?Kn(t):!!t)},Zn=Jn.normalize=function(e){return String(e).replace($n,".").toLowerCase()},Xn=Jn.data={},Qn=Jn.NATIVE="N",ei=Jn.POLYFILL="P",ti=Jn,ri=g,ni=m.f,ii=er,oi=on,ai=Ne,si=Yn,ui=ti,ci=function(e,t){var r,n,i,o,a,s=e.target,u=e.global,c=e.stat;if(r=u?ri:c?ri[s]||ai(s,{}):(ri[s]||{}).prototype){for(n in t){if(o=t[n],i=e.dontCallGetSet?(a=ni(r,n))&&a.value:r[n],!ui(u?n:s+(c?".":"#")+n,e.forced)&&void 0!==i){if(typeof o==typeof i){continue}si(o,i)}(e.sham||i&&i.sham)&&ii(o,"sham",!0),oi(r,n,o,e)}}},li="process"==F(g.process),fi=Z,di=String,hi=TypeError,pi=N,vi=Ft,gi=function(e){if("object"==typeof e||fi(e)){return e}throw hi("Can't set "+di(e)+" as a prototype")},mi=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=pi(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return vi(r),gi(n),t?e(r,n):r.__proto__=n,r}}():void 0),yi=Dt.f,_i=Ye,bi=ut("toStringTag"),Ei=function(e,t,r){e&&!r&&(e=e.prototype),e&&!_i(e,bi)&&yi(e,bi,{configurable:!0,value:t})},Si=re,wi=Dt,Ti=_,Ci=ut("species"),Ai=function(e){var t=Si(e),r=wi.f;Ti&&t&&!t[Ci]&&r(t,Ci,{configurable:!0,get:function(){return this}})},Ri=ne,Ii=TypeError,ki=function(e,t){if(Ri(t,e)){return e}throw Ii("Incorrect invocation")},Oi={};Oi[ut("toStringTag")]="z";var Pi="[object z]"===String(Oi),Mi=Z,xi=F,Li=ut("toStringTag"),Di=Object,Ni="Arguments"==xi(function(){return arguments}()),ji=Pi?xi:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Di(e),Li))?r:Ni?xi(t):"Object"==(n=xi(t))&&Mi(t.callee)?"Arguments":n},Ui=N,Bi=y,Fi=Z,Hi=ji,Vi=pr,Wi=function(){},zi=[],Gi=re("Reflect","construct"),Yi=/^\s*(?:class|function)\b/,Ki=Ui(Yi.exec),qi=!Yi.exec(Wi),$i=function(e){if(!Fi(e)){return!1}try{return Gi(Wi,zi,e),!0}catch(e){return!1}},Ji=function(e){if(!Fi(e)){return!1}switch(Hi(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return qi||!!Ki(Yi,Vi(e))}catch(e){return!0}};Ji.sham=!0;var Zi,Xi,Qi,eo,to=!Gi||Bi((function(){var e;return $i($i.call)||!$i(Object)||!$i((function(){e=!0}))||e}))?Ji:$i,ro=to,no=Se,io=TypeError,oo=function(e){if(ro(e)){return e}throw io(no(e)+" is not a constructor")},ao=Ft,so=oo,uo=ut("species"),co=function(e,t){var r,n=ao(e).constructor;return void 0===n||null==(r=ao(n)[uo])?t:so(r)},lo=b,fo=Function.prototype,ho=fo.apply,po=fo.call,vo="object"==typeof Reflect&&Reflect.apply||(lo?po.bind(ho):function(){return po.apply(ho,arguments)}),go=Ae,mo=b,yo=N(N.bind),_o=function(e,t){return go(e),void 0===t?e:mo?yo(e,t):function(){return e.apply(t,arguments)}},bo=re("document","documentElement"),Eo=N([].slice),So=TypeError,wo=function(e,t){if(e<t){throw So("Not enough arguments")}return e},To=/(?:ipad|iphone|ipod).*applewebkit/i.test(ie),Co=g,Ao=vo,Ro=_o,Io=Z,ko=Ye,Oo=y,Po=bo,Mo=Eo,xo=wt,Lo=wo,Do=To,No=li,jo=Co.setImmediate,Uo=Co.clearImmediate,Bo=Co.process,Fo=Co.Dispatch,Ho=Co.Function,Vo=Co.MessageChannel,Wo=Co.String,zo=0,Go={},Yo="onreadystatechange";try{Zi=Co.location}catch(e){}var Ko=function(e){if(ko(Go,e)){var t=Go[e];delete Go[e],t()}},qo=function(e){return function(){Ko(e)}},$o=function(e){Ko(e.data)},Jo=function(e){Co.postMessage(Wo(e),Zi.protocol+"//"+Zi.host)};jo&&Uo||(jo=function(e){Lo(arguments.length,1);var t=Io(e)?e:Ho(e),r=Mo(arguments,1);return Go[++zo]=function(){Ao(t,void 0,r)},Xi(zo),zo},Uo=function(e){delete Go[e]},No?Xi=function(e){Bo.nextTick(qo(e))}:Fo&&Fo.now?Xi=function(e){Fo.now(qo(e))}:Vo&&!Do?(eo=(Qi=new Vo).port2,Qi.port1.onmessage=$o,Xi=Ro(eo.postMessage,eo)):Co.addEventListener&&Io(Co.postMessage)&&!Co.importScripts&&Zi&&"file:"!==Zi.protocol&&!Oo(Jo)?(Xi=Jo,Co.addEventListener("message",$o,!1)):Xi=Yo in xo("script")?function(e){Po.appendChild(xo("script"))[Yo]=function(){Po.removeChild(this),Ko(e)}}:function(e){setTimeout(qo(e),0)});var Zo,Xo,Qo,ea,ta,ra,na,ia,oa={set:jo,clear:Uo},aa=g,sa=/ipad|iphone|ipod/i.test(ie)&&void 0!==aa.Pebble,ua=/web0s(?!.*chrome)/i.test(ie),ca=g,la=_o,fa=m.f,da=oa.set,ha=To,pa=sa,va=ua,ga=li,ma=ca.MutationObserver||ca.WebKitMutationObserver,ya=ca.document,_a=ca.process,ba=ca.Promise,Ea=fa(ca,"queueMicrotask"),Sa=Ea&&Ea.value;Sa||(Zo=function(){var e,t;for(ga&&(e=_a.domain)&&e.exit();Xo;){t=Xo.fn,Xo=Xo.next;try{t()}catch(e){throw Xo?ea():Qo=void 0,e}}Qo=void 0,e&&e.enter()},ha||ga||va||!ma||!ya?!pa&&ba&&ba.resolve?((na=ba.resolve(void 0)).constructor=ba,ia=la(na.then,na),ea=function(){ia(Zo)}):ga?ea=function(){_a.nextTick(Zo)}:(da=la(da,ca),ea=function(){da(Zo)}):(ta=!0,ra=ya.createTextNode(""),new ma(Zo).observe(ra,{characterData:!0}),ea=function(){ra.data=ta=!ta}));var wa=Sa||function(e){var t={fn:e,next:void 0};Qo&&(Qo.next=t),Xo||(Xo=t,ea()),Qo=t},Ta=g,Ca=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Aa=function(){this.head=null,this.tail=null};Aa.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){return this.head=e.next,this.tail===e&&(this.tail=null),e.item}}};var Ra=Aa,Ia=g.Promise,ka="object"==typeof window&&"object"!=typeof Deno,Oa=g,Pa=Ia,Ma=Z,xa=ti,La=pr,Da=ut,Na=ka,ja=fe;Pa&&Pa.prototype;var Ua=Da("species"),Ba=!1,Fa=Ma(Oa.PromiseRejectionEvent),Ha=xa("Promise",(function(){var e=La(Pa),t=e!==String(Pa);if(!t&&66===ja){return!0}if(ja>=51&&/native code/.test(e)){return!1}var r=new Pa((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(r.constructor={})[Ua]=n,!(Ba=r.then((function(){}))instanceof n)||!t&&Na&&!Fa})),Va={CONSTRUCTOR:Ha,REJECTION_EVENT:Fa,SUBCLASSING:Ba},Wa={},za=Ae,Ga=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r){throw TypeError("Bad Promise constructor")}t=e,r=n})),this.resolve=za(t),this.reject=za(r)};Wa.f=function(e){return new Ga(e)};var Ya,Ka,qa,$a=ci,Ja=li,Za=g,Xa=w,Qa=on,es=mi,ts=Ei,rs=Ai,ns=Ae,is=Z,os=Q,as=ki,ss=co,us=oa.set,cs=wa,ls=function(e,t){var r=Ta.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))},fs=Ca,ds=Ra,hs=Hr,ps=Ia,vs=Wa,gs="Promise",ms=Va.CONSTRUCTOR,ys=Va.REJECTION_EVENT,_s=Va.SUBCLASSING,bs=hs.getterFor(gs),Es=hs.set,Ss=ps&&ps.prototype,ws=ps,Ts=Ss,Cs=Za.TypeError,As=Za.document,Rs=Za.process,Is=vs.f,ks=Is,Os=!!(As&&As.createEvent&&Za.dispatchEvent),Ps="unhandledrejection",Ms=function(e){var t;return!(!os(e)||!is(t=e.then))&&t},xs=function(e,t){var r,n,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&Us(t),t.rejection=1),!0===s?r=o:(l&&l.enter(),r=s(o),l&&(l.exit(),i=!0)),r===e.promise?c(Cs("Promise-chain cycle")):(n=Ms(r))?Xa(n,r,u,c):u(r)):c(o)}catch(e){l&&!i&&l.exit(),c(e)}},Ls=function(e,t){e.notified||(e.notified=!0,cs((function(){for(var r,n=e.reactions;r=n.get();){xs(r,e)}e.notified=!1,t&&!e.rejection&&Ns(e)})))},Ds=function(e,t,r){var n,i;Os?((n=As.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),Za.dispatchEvent(n)):n={promise:t,reason:r},!ys&&(i=Za["on"+e])?i(n):e===Ps&&ls("Unhandled promise rejection",r)},Ns=function(e){Xa(us,Za,(function(){var t,r=e.facade,n=e.value;if(js(e)&&(t=fs((function(){Ja?Rs.emit("unhandledRejection",n,r):Ds(Ps,r,n)})),e.rejection=Ja||js(e)?2:1,t.error)){throw t.value}}))},js=function(e){return 1!==e.rejection&&!e.parent},Us=function(e){Xa(us,Za,(function(){var t=e.facade;Ja?Rs.emit("rejectionHandled",t):Ds("rejectionhandled",t,e.value)}))},Bs=function(e,t,r){return function(n){e(t,n,r)}},Fs=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Ls(e,!0))},Hs=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t){throw Cs("Promise can't be resolved itself")}var n=Ms(t);n?cs((function(){var r={done:!1};try{Xa(n,t,Bs(Hs,r,e),Bs(Fs,r,e))}catch(t){Fs(r,t,e)}})):(e.value=t,e.state=1,Ls(e,!1))}catch(t){Fs({done:!1},t,e)}}};if(ms&&(Ts=(ws=function(e){as(this,Ts),ns(e),Xa(Ya,this);var t=bs(this);try{e(Bs(Hs,t),Bs(Fs,t))}catch(e){Fs(t,e)}}).prototype,(Ya=function(e){Es(this,{type:gs,done:!1,notified:!1,parent:!1,reactions:new ds,rejection:!1,state:0,value:void 0})}).prototype=Qa(Ts,"then",(function(e,t){var r=bs(this),n=Is(ss(this,ws));return r.parent=!0,n.ok=!is(e)||e,n.fail=is(t)&&t,n.domain=Ja?Rs.domain:void 0,0==r.state?r.reactions.add(n):cs((function(){xs(n,r)})),n.promise})),Ka=function(){var e=new Ya,t=bs(e);this.promise=e,this.resolve=Bs(Hs,t),this.reject=Bs(Fs,t)},vs.f=Is=function(e){return e===ws||undefined===e?new Ka(e):ks(e)},is(ps)&&Ss!==Object.prototype)){qa=Ss.then,_s||Qa(Ss,"then",(function(e,t){var r=this;return new ws((function(e,t){Xa(qa,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete Ss.constructor}catch(e){}es&&es(Ss,Ts)}$a({global:!0,constructor:!0,wrap:!0,forced:ms},{Promise:ws}),ts(ws,gs,!1),rs(gs);var Vs={},Ws=Vs,zs=ut("iterator"),Gs=Array.prototype,Ys=function(e){return void 0!==e&&(Ws.Array===e||Gs[zs]===e)},Ks=ji,qs=Ie,$s=Vs,Js=ut("iterator"),Zs=function(e){if(null!=e){return qs(e,Js)||qs(e,"@@iterator")||$s[Ks(e)]}},Xs=w,Qs=Ae,eu=Ft,tu=Se,ru=Zs,nu=TypeError,iu=function(e,t){var r=arguments.length<2?ru(e):t;if(Qs(r)){return eu(Xs(r,e))}throw nu(tu(e)+" is not iterable")},ou=w,au=Ft,su=Ie,uu=function(e,t,r){var n,i;au(e);try{if(!(n=su(e,"return"))){if("throw"===t){throw r}return r}n=ou(n,e)}catch(e){i=!0,n=e}if("throw"===t){throw r}if(i){throw n}return au(n),r},cu=_o,lu=w,fu=Ft,du=Se,hu=Ys,pu=bn,vu=ne,gu=iu,mu=Zs,yu=uu,_u=TypeError,bu=function(e,t){this.stopped=e,this.result=t},Eu=bu.prototype,Su=function(e,t,r){var n,i,o,a,s,u,c,l=r&&r.that,f=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),p=cu(t,l),v=function(e){return n&&yu(n,"normal",e),new bu(!0,e)},g=function(e){return f?(fu(e),h?p(e[0],e[1],v):p(e[0],e[1])):h?p(e,v):p(e)};if(d){n=e}else{if(!(i=mu(e))){throw _u(du(e)+" is not iterable")}if(hu(i)){for(o=0,a=pu(e);a>o;o++){if((s=g(e[o]))&&vu(Eu,s)){return s}}return new bu(!1)}n=gu(e,i)}for(u=n.next;!(c=lu(u,n)).done;){try{s=g(c.value)}catch(e){yu(n,"throw",e)}if("object"==typeof s&&s&&vu(Eu,s)){return s}}return new bu(!1)},wu=ut("iterator"),Tu=!1;try{var Cu=0,Au={next:function(){return{done:!!Cu++}},return:function(){Tu=!0}};Au[wu]=function(){return this},Array.from(Au,(function(){throw 2}))}catch(e){}var Ru=function(e,t){if(!t&&!Tu){return!1}var r=!1;try{var n={};n[wu]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},Iu=Ia,ku=Va.CONSTRUCTOR||!Ru((function(e){Iu.all(e).then(void 0,(function(){}))})),Ou=w,Pu=Ae,Mu=Wa,xu=Ca,Lu=Su;ci({target:"Promise",stat:!0,forced:ku},{all:function(e){var t=this,r=Mu.f(t),n=r.resolve,i=r.reject,o=xu((function(){var r=Pu(t.resolve),o=[],a=0,s=1;Lu(e,(function(e){var u=a++,c=!1;s++,Ou(r,t,e).then((function(e){c||(c=!0,o[u]=e,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise}});var Du=ci,Nu=Va.CONSTRUCTOR,ju=Ia,Uu=re,Bu=Z,Fu=on,Hu=ju&&ju.prototype;if(Du({target:"Promise",proto:!0,forced:Nu,real:!0},{catch:function(e){return this.then(void 0,e)}}),Bu(ju)){var Vu=Uu("Promise").prototype.catch;Hu.catch!==Vu&&Fu(Hu,"catch",Vu,{unsafe:!0})}var Wu=w,zu=Ae,Gu=Wa,Yu=Ca,Ku=Su;ci({target:"Promise",stat:!0,forced:ku},{race:function(e){var t=this,r=Gu.f(t),n=r.reject,i=Yu((function(){var i=zu(t.resolve);Ku(e,(function(e){Wu(i,t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var qu=w,$u=Wa;ci({target:"Promise",stat:!0,forced:Va.CONSTRUCTOR},{reject:function(e){var t=$u.f(this);return qu(t.reject,void 0,e),t.promise}});var Ju=Ft,Zu=Q,Xu=Wa,Qu=function(e,t){if(Ju(e),Zu(t)&&t.constructor===e){return t}var r=Xu.f(e);return(0,r.resolve)(t),r.promise},ec=ci,tc=Va.CONSTRUCTOR,rc=Qu;re("Promise"),ec({target:"Promise",stat:!0,forced:tc},{resolve:function(e){return rc(this,e)}});let nc=function(e){return e[e.RTC_ERR_CODE_SUCCESS=0]="RTC_ERR_CODE_SUCCESS",e[e.RTC_ERR_CODE_RTC_SDK_ERROR=90000001]="RTC_ERR_CODE_RTC_SDK_ERROR",e[e.RTC_ERR_CODE_WAIT_RSP_TIMEOUT=90000004]="RTC_ERR_CODE_WAIT_RSP_TIMEOUT",e[e.RTC_ERR_CODE_INVALID_PARAMETER=90000005]="RTC_ERR_CODE_INVALID_PARAMETER",e[e.RTC_ERR_CODE_INVALID_OPERATION=90100001]="RTC_ERR_CODE_INVALID_OPERATION",e[e.RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES=90100002]="RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES",e[e.RTC_ERR_CODE_NO_AVAILABLE_DEVICES=90100003]="RTC_ERR_CODE_NO_AVAILABLE_DEVICES",e[e.RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES=90100004]="RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES",e[e.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES=90100005]="RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES",e[e.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES=90100006]="RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES",e[e.RTC_ERR_CODE_STATUS_ERROR=90100007]="RTC_ERR_CODE_STATUS_ERROR",e[e.RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED=90100008]="RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED",e[e.RTC_ERR_CODE_WAIT_CONFIG_FAIL=90100009]="RTC_ERR_CODE_WAIT_CONFIG_FAIL",e[e.RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL=90100010]="RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL",e[e.RTC_ERR_CODE_REGION_NOT_COVERED=90100011]="RTC_ERR_CODE_REGION_NOT_COVERED",e[e.RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT=90100012]="RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT",e[e.RTC_ERR_CODE_WEBSOCKET_RECONNECT_TIMEOUT=90100013]="RTC_ERR_CODE_WEBSOCKET_RECONNECT_TIMEOUT",e[e.RTC_ERR_CODE_WEBSOCKET_NOT_OPEN=90100014]="RTC_ERR_CODE_WEBSOCKET_NOT_OPEN",e[e.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED=90100015]="RTC_ERR_CODE_WEBSOCKET_INTERRUPTED",e[e.RTC_ERR_CODE_WEBSOCKET_CONNECT_ERROR=90100016]="RTC_ERR_CODE_WEBSOCKET_CONNECT_ERROR",e[e.RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED=90100017]="RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED",e[e.RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED=90100018]="RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED",e[e.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND=90100019]="RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND",e[e.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE=90100020]="RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE",e[e.RTC_ERR_CODE_PLAY_NOT_ALLOW=90100021]="RTC_ERR_CODE_PLAY_NOT_ALLOW",e[e.RTC_ERR_CODE_ROLE_NO_PERMISSION=90100022]="RTC_ERR_CODE_ROLE_NO_PERMISSION",e[e.RTC_ERR_CODE_ANSWER_SDP_INVALID=90100023]="RTC_ERR_CODE_ANSWER_SDP_INVALID",e[e.RTC_ERR_CODE_MEDIA_UPSTREAM_UNSUPPORTED=90100024]="RTC_ERR_CODE_MEDIA_UPSTREAM_UNSUPPORTED",e[e.RTC_ERR_CODE_WEBRTC_UNSUPPORTED=90100025]="RTC_ERR_CODE_WEBRTC_UNSUPPORTED",e[e.RTC_ERR_CODE_MEDIA_NETWORK_ERROR=90100026]="RTC_ERR_CODE_MEDIA_NETWORK_ERROR",e[e.RTC_ERR_CODE_CLIENT_RELAY_ROOM_OVER_MAXNUM=90100027]="RTC_ERR_CODE_CLIENT_RELAY_ROOM_OVER_MAXNUM",e[e.RTC_ERR_CODE_CLIENT_RELAY_JOINER_OVER_MAXNUM=90100028]="RTC_ERR_CODE_CLIENT_RELAY_JOINER_OVER_MAXNUM",e[e.RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED=90100029]="RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED",e[e.RTC_ERR_CODE_SIGNATURE_EXPIRED=90100030]="RTC_ERR_CODE_SIGNATURE_EXPIRED",e[e.RTC_ERR_CODE_SIGNATURE_INVALID=90100031]="RTC_ERR_CODE_SIGNATURE_INVALID",e[e.RTC_ERR_CODE_WINDOW_OR_NAVIGATOR_UNSUPPORTED=90100032]="RTC_ERR_CODE_WINDOW_OR_NAVIGATOR_UNSUPPORTED",e[e.RTC_ERR_CODE_CHROME_VERSION_UNSUPPORTED=90100033]="RTC_ERR_CODE_CHROME_VERSION_UNSUPPORTED",e[e.RTC_ERR_CODE_WEBSOCKET_UNSUPPORTED=90100034]="RTC_ERR_CODE_WEBSOCKET_UNSUPPORTED",e[e.RTC_ERR_CODE_WEBRTC_AVC_ENCODE_UNSUPPORTED=90100035]="RTC_ERR_CODE_WEBRTC_AVC_ENCODE_UNSUPPORTED",e[e.RTC_ERR_CODE_WEBRTC_AVC_DECODE_UNSUPPORTED=90100036]="RTC_ERR_CODE_WEBRTC_AVC_DECODE_UNSUPPORTED",e[e.RTC_ERR_CODE_WEBRTC_WECHAT_UNSUPPORTED=90100037]="RTC_ERR_CODE_WEBRTC_WECHAT_UNSUPPORTED",e[e.RTC_ERR_CODE_RTC_ACS=90100100]="RTC_ERR_CODE_RTC_ACS",e[e.RTC_ERR_CODE_RTC_CONTROL_ERROR=90100200]="RTC_ERR_CODE_RTC_CONTROL_ERROR",e[e.RTC_ERR_CODE_SFU_ERROR=90100600]="RTC_ERR_CODE_SFU_ERROR",e}({});const ic={[nc.RTC_ERR_CODE_SUCCESS]:"success",[nc.RTC_ERR_CODE_RTC_SDK_ERROR]:"sdk internal error",[nc.RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES]:"not support enumerate devices",[nc.RTC_ERR_CODE_NO_AVAILABLE_DEVICES]:"no available devices",[nc.RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES]:"no available video input devices",[nc.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES]:"no available audio input devices",[nc.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES]:"no available audio output devices",[nc.RTC_ERR_CODE_STATUS_ERROR]:"room status error",[nc.RTC_ERR_CODE_INVALID_PARAMETER]:"invalid parameter",[nc.RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED]:'websocket connection state is not "CONNECTED"',[nc.RTC_ERR_CODE_WEBSOCKET_NOT_OPEN]:"websocket is not open",[nc.RTC_ERR_CODE_WAIT_CONFIG_FAIL]:"wait server config fail",[nc.RTC_ERR_CODE_WAIT_RSP_TIMEOUT]:"message response timeout",[nc.RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL]:"publish response fail",[nc.RTC_ERR_CODE_REGION_NOT_COVERED]:"current region is not covered, service unavailable",[nc.RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT]:"websocket connect timeout",[nc.RTC_ERR_CODE_WEBSOCKET_RECONNECT_TIMEOUT]:"websocket reconnect timeout",[nc.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED]:"websocket connection state is idle, interrupt operation",[nc.RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED]:"capture failed, permission denied",[nc.RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED]:"capture failed, Constraint parameter invalid",[nc.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND]:"capture failed, requested device not found",[nc.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE]:"capture failed, maybe device is occupied by other application",[nc.RTC_ERR_CODE_PLAY_NOT_ALLOW]:"the user didn't interact with the document first, please trigger by gesture",[nc.RTC_ERR_CODE_ROLE_NO_PERMISSION]:"the user role have no permission to operate",[nc.RTC_ERR_CODE_ANSWER_SDP_INVALID]:"the answer sdp is  invalid",[nc.RTC_ERR_CODE_MEDIA_UPSTREAM_UNSUPPORTED]:"the upstream media is not supported",[nc.RTC_ERR_CODE_WEBRTC_UNSUPPORTED]:"the browser does not support, the webrtc component is missing",[nc.RTC_ERR_CODE_MEDIA_NETWORK_ERROR]:"media connection establish failed, please switch network or try again later",[nc.RTC_ERR_CODE_CLIENT_RELAY_ROOM_OVER_MAXNUM]:"relay room number over maxium number.",[nc.RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED]:"room stream status paused",[nc.RTC_ERR_CODE_CLIENT_RELAY_JOINER_OVER_MAXNUM]:"joiner already exist in relay rooms.",[nc.RTC_ERR_CODE_SIGNATURE_INVALID]:"signature invalid",[nc.RTC_ERR_CODE_SIGNATURE_EXPIRED]:"signature expired",[nc.RTC_ERR_CODE_WINDOW_OR_NAVIGATOR_UNSUPPORTED]:"window or navigator error",[nc.RTC_ERR_CODE_CHROME_VERSION_UNSUPPORTED]:"the kernel Chrome version is earlier than 67.",[nc.RTC_ERR_CODE_WEBSOCKET_UNSUPPORTED]:"the websocket component is missing",[nc.RTC_ERR_CODE_WEBRTC_AVC_ENCODE_UNSUPPORTED]:"RTCPeerConnection unsupport AVC encoders.",[nc.RTC_ERR_CODE_WEBRTC_AVC_DECODE_UNSUPPORTED]:"RTCPeerConnection unsupport AVC decoders.",[nc.RTC_ERR_CODE_WEBRTC_WECHAT_UNSUPPORTED]:"browser not support, the model is not in the trustlist."};let oc=function(e){function t(e,r){var n;a(this,t);const i=e;let o,s="";i>9e7&&i<90100100||i<100?(o=i,s=r||i in nc&&ic[i]):i>=6e5&&i<7e5?(o=nc.RTC_ERR_CODE_SFU_ERROR,s="code: ".concat(i,", msg: ").concat(r)):i>=2e5&&i<3e5?(o=nc.RTC_ERR_CODE_RTC_CONTROL_ERROR,s="code: ".concat(i,", msg: ").concat(r)):i>=1e5&&i<2e5?(o=nc.RTC_ERR_CODE_RTC_ACS,s="code: ".concat(i,", msg: ").concat(r)):(s="unknow error",o=i),n=f(this,t,[s]),n.code=o,n.message=s;return n}p(t,e);return u(t,[{key:"getCode",value:function e(){return this.code}},{key:"getMsg",value:function e(){return this.message}},{key:"toString",value:function e(){return'["code": '.concat(this.code,', "message": "').concat(this.message,'"]')}}])}(v(Error));var ac=ji,sc=String,uc=function(e){if("Symbol"===ac(e)){throw TypeError("Cannot convert a Symbol value to a string")}return sc(e)},cc=ci,lc=_,fc=g,dc=N,hc=Ye,pc=Z,vc=ne,gc=uc,mc=Dt.f,yc=Yn,_c=fc.Symbol,bc=_c&&_c.prototype;if(lc&&pc(_c)&&(!("description"in bc)||void 0!==_c().description)){var Ec={},Sc=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:gc(arguments[0]),t=vc(bc,this)?new _c(e):void 0===e?_c():_c(e);return""===e&&(Ec[t]=!0),t};yc(Sc,_c),Sc.prototype=bc,bc.constructor=Sc;var wc="Symbol(test)"==String(_c("test")),Tc=dc(bc.toString),Cc=dc(bc.valueOf),Ac=/^Symbol\((.*)\)[^)]+$/,Rc=dc("".replace),Ic=dc("".slice);mc(bc,"description",{configurable:!0,get:function(){var e=Cc(this),t=Tc(e);if(hc(Ec,e)){return""}var r=wc?Ic(t,7,-1):Rc(t,Ac,"$1");return""===r?void 0:r}}),cc({global:!0,constructor:!0,forced:!0},{Symbol:Sc})}var kc={},Oc=Pn,Pc=Mn,Mc=Object.keys||function(e){return Oc(e,Pc)},xc=_,Lc=Nt,Dc=Dt,Nc=Ft,jc=J,Uc=Mc;kc.f=xc&&!Lc?Object.defineProperties:function(e,t){Nc(e);for(var r,n=jc(t),i=Uc(t),o=i.length,a=0;o>a;){Dc.f(e,r=i[a++],n[r])}return e};var Bc,Fc=Ft,Hc=kc,Vc=Mn,Wc=wr,zc=bo,Gc=wt,Yc="prototype",Kc="script",qc=Sr("IE_PROTO"),$c=function(){},Jc=function(e){return"<"+Kc+">"+e+"</"+Kc+">"},Zc=function(e){e.write(Jc("")),e.close();var t=e.parentWindow.Object;return e=null,t},Xc=function(){try{Bc=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;Xc="undefined"!=typeof document?document.domain&&Bc?Zc(Bc):(t=Gc("iframe"),r="java"+Kc+":",t.style.display="none",zc.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(Jc("document.F=Object")),e.close(),e.F):Zc(Bc);for(var n=Vc.length;n--;){delete Xc[Yc][Vc[n]]}return Xc()};Wc[qc]=!0;var Qc=Object.create||function(e,t){var r;return null!==e?($c[Yc]=Fc(e),r=new $c,$c[Yc]=null,r[qc]=e):r=Xc(),void 0===t?r:Hc.f(r,t)},el=ut,tl=Qc,rl=Dt.f,nl=el("unscopables"),il=Array.prototype;null==il[nl]&&rl(il,nl,{configurable:!0,value:tl(null)});var ol,al,sl,ul=function(e){il[nl][e]=!0},cl=!y((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),ll=Ye,fl=Z,dl=We,hl=cl,pl=Sr("IE_PROTO"),vl=Object,gl=vl.prototype,ml=hl?vl.getPrototypeOf:function(e){var t=dl(e);if(ll(t,pl)){return t[pl]}var r=t.constructor;return fl(r)&&t instanceof r?r.prototype:t instanceof vl?gl:null},yl=y,_l=Z,bl=ml,El=on,Sl=ut("iterator"),wl=!1;[].keys&&("next"in(sl=[].keys())?(al=bl(bl(sl)))!==Object.prototype&&(ol=al):wl=!0);var Tl=null==ol||yl((function(){var e={};return ol[Sl].call(e)!==e}));Tl&&(ol={}),_l(ol[Sl])||El(ol,Sl,(function(){return this}));var Cl={IteratorPrototype:ol,BUGGY_SAFARI_ITERATORS:wl},Al=Cl.IteratorPrototype,Rl=Qc,Il=O,kl=Ei,Ol=Vs,Pl=function(){return this},Ml=function(e,t,r,n){var i=t+" Iterator";return e.prototype=Rl(Al,{next:Il(+!n,r)}),kl(e,i,!1),Ol[i]=Pl,e},xl=ci,Ll=w,Dl=Z,Nl=Ml,jl=ml,Ul=mi,Bl=Ei,Fl=er,Hl=on,Vl=Vs,Wl=sr.PROPER,zl=sr.CONFIGURABLE,Gl=Cl.IteratorPrototype,Yl=Cl.BUGGY_SAFARI_ITERATORS,Kl=ut("iterator"),ql="keys",$l="values",Jl="entries",Zl=function(){return this},Xl=function(e,t,r,n,i,o,a){Nl(r,t,n);var s,u,c,l=function(e){if(e===i&&v){return v}if(!Yl&&e in h){return h[e]}switch(e){case ql:case $l:case Jl:return function(){return new r(this,e)}}return function(){return new r(this)}},f=t+" Iterator",d=!1,h=e.prototype,p=h[Kl]||h["@@iterator"]||i&&h[i],v=!Yl&&p||l(i),g="Array"==t&&h.entries||p;if(g&&(s=jl(g.call(new e)))!==Object.prototype&&s.next&&(jl(s)!==Gl&&(Ul?Ul(s,Gl):Dl(s[Kl])||Hl(s,Kl,Zl)),Bl(s,f,!0)),Wl&&i==$l&&p&&p.name!==$l&&(zl?Fl(h,"name",$l):(d=!0,v=function(){return Ll(p,this)})),i){if(u={values:l($l),keys:o?v:l(ql),entries:l(Jl)},a){for(c in u){(Yl||d||!(c in h))&&Hl(h,c,u[c])}}else{xl({target:t,proto:!0,forced:Yl||d},u)}}return h[Kl]!==v&&Hl(h,Kl,v,{name:i}),Vl[t]=v,u},Ql=J,ef=ul,tf=Vs,rf=Hr,nf=Dt.f,of=Xl,af=_,sf="Array Iterator",uf=rf.set,cf=rf.getterFor(sf),lf=of(Array,"Array",(function(e,t){uf(this,{type:sf,target:Ql(e),index:0,kind:t})}),(function(){var e=cf(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),ff=tf.Arguments=tf.Array;if(ef("keys"),ef("values"),ef("entries"),af&&"values"!==ff.name){try{nf(ff,"name",{value:"values"})}catch(e){}}var df=w,hf=Ae,pf=Ft,vf=function(){for(var e,t=pf(this),r=hf(t.delete),n=!0,i=0,o=arguments.length;i<o;i++){e=df(r,t,arguments[i]),n=n&&e}return!!n};ci({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:vf});var gf=w,mf=function(e){return gf(Map.prototype.entries,e)},yf=Ft,_f=_o,bf=mf,Ef=Su;ci({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=yf(this),r=bf(t),n=_f(e,arguments.length>1?arguments[1]:void 0);return!Ef(r,(function(e,r,i){if(!n(r,e,t)){return i()}}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var Sf=re,wf=_o,Tf=w,Cf=Ae,Af=Ft,Rf=co,If=mf,kf=Su;ci({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=Af(this),r=If(t),n=wf(e,arguments.length>1?arguments[1]:void 0),i=new(Rf(t,Sf("Map"))),o=Cf(i.set);return kf(r,(function(e,r){n(r,e,t)&&Tf(o,i,e,r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}});var Of=Ft,Pf=_o,Mf=mf,xf=Su;ci({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=Of(this),r=Mf(t),n=Pf(e,arguments.length>1?arguments[1]:void 0);return xf(r,(function(e,r,i){if(n(r,e,t)){return i(r)}}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var Lf=Ft,Df=_o,Nf=mf,jf=Su;ci({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=Lf(this),r=Nf(t),n=Df(e,arguments.length>1?arguments[1]:void 0);return jf(r,(function(e,r,i){if(n(r,e,t)){return i(e)}}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var Uf=Ft,Bf=mf,Ff=function(e,t){return e===t||e!=e&&t!=t},Hf=Su;ci({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return Hf(Bf(Uf(this)),(function(t,r,n){if(Ff(r,e)){return n()}}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var Vf=Ft,Wf=mf,zf=Su;ci({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){return zf(Wf(Vf(this)),(function(t,r,n){if(r===e){return n(t)}}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var Gf=re,Yf=_o,Kf=w,qf=Ae,$f=Ft,Jf=co,Zf=mf,Xf=Su;ci({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=$f(this),r=Zf(t),n=Yf(e,arguments.length>1?arguments[1]:void 0),i=new(Jf(t,Gf("Map"))),o=qf(i.set);return Xf(r,(function(e,r){Kf(o,i,n(r,e,t),r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}});var Qf=re,ed=_o,td=w,rd=Ae,nd=Ft,id=co,od=mf,ad=Su;ci({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=nd(this),r=od(t),n=ed(e,arguments.length>1?arguments[1]:void 0),i=new(id(t,Qf("Map"))),o=rd(i.set);return ad(r,(function(e,r){td(o,i,e,n(r,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}});var sd=Ae,ud=Ft,cd=Su;ci({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=ud(this),r=sd(t.set),n=arguments.length,i=0;i<n;){cd(arguments[i++],r,{that:t,AS_ENTRIES:!0})}return t}});var ld=Ft,fd=Ae,dd=mf,hd=Su,pd=TypeError;ci({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=ld(this),r=dd(t),n=arguments.length<2,i=n?void 0:arguments[1];if(fd(e),hd(r,(function(r,o){n?(n=!1,i=o):i=e(i,o,r,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),n){throw pd("Reduce of empty map with no initial value")}return i}});var vd=Ft,gd=_o,md=mf,yd=Su;ci({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=vd(this),r=md(t),n=gd(e,arguments.length>1?arguments[1]:void 0);return yd(r,(function(e,r,i){if(n(r,e,t)){return i()}}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var _d=w,bd=Ft,Ed=Ae,Sd=TypeError;ci({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var r=bd(this),n=Ed(r.get),i=Ed(r.has),o=Ed(r.set),a=arguments.length;Ed(t);var s=_d(i,r,e);if(!s&&a<3){throw Sd("Updating absent value")}var u=s?_d(n,r,e):Ed(a>2?arguments[2]:void 0)(e,r);return _d(o,r,e,t(u,e,r)),r}});var wd={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Td=wt("span").classList,Cd=Td&&Td.constructor&&Td.constructor.prototype,Ad=Cd===Object.prototype?void 0:Cd,Rd=g,Id=wd,kd=Ad,Od=lf,Pd=er,Md=ut,xd=Md("iterator"),Ld=Md("toStringTag"),Dd=Od.values,Nd=function(e,t){if(e){if(e[xd]!==Dd){try{Pd(e,xd,Dd)}catch(t){e[xd]=Dd}}if(e[Ld]||Pd(e,Ld,t),Id[t]){for(var r in Od){if(e[r]!==Od[r]){try{Pd(e,r,Od[r])}catch(t){e[r]=Od[r]}}}}}};for(var jd in Id){Nd(Rd[jd]&&Rd[jd].prototype,jd)}Nd(kd,"DOMTokenList");var Ud=F,Bd=Array.isArray||function(e){return"Array"==Ud(e)},Fd=to,Hd=Q,Vd=ut("species"),Wd=Array,zd=function(e){var t;return Bd(e)&&(t=e.constructor,(Fd(t)&&(t===Wd||Bd(t.prototype))||Hd(t)&&null===(t=t[Vd]))&&(t=void 0)),void 0===t?Wd:t},Gd=_o,Yd=G,Kd=We,qd=bn,$d=function(e,t){return new(zd(e))(0===t?0:t)},Jd=N([].push),Zd=function(e){var t=1==e,r=2==e,n=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(u,c,l,f){for(var d,h,p=Kd(u),v=Yd(p),g=Gd(c,l),m=qd(v),y=0,_=f||$d,b=t?_(u,m):r||a?_(u,0):void 0;m>y;y++){if((s||y in v)&&(h=g(d=v[y],y,p),e)){if(t){b[y]=h}else if(h){switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:Jd(b,d)}}else{switch(e){case 4:return!1;case 7:Jd(b,d)}}}}return o?-1:n||i?i:b}},Xd={forEach:Zd(0),map:Zd(1),filter:Zd(2),some:Zd(3),every:Zd(4),find:Zd(5),findIndex:Zd(6),filterReject:Zd(7)},Qd=y,eh=function(e,t){var r=[][e];return!!r&&Qd((function(){r.call(null,t||function(){return 1},1)}))},th=Xd.forEach,rh=eh("forEach")?[].forEach:function(e){return th(this,e,arguments.length>1?arguments[1]:void 0)},nh=g,ih=wd,oh=Ad,ah=rh,sh=er,uh=function(e){if(e&&e.forEach!==ah){try{sh(e,"forEach",ah)}catch(t){e.forEach=ah}}};for(var ch in ih){ih[ch]&&uh(nh[ch]&&nh[ch].prototype)}uh(oh);var lh=Cn.includes,fh=ul;ci({target:"Array",proto:!0,forced:y((function(){return!Array(1).includes()}))},{includes:function(e){return lh(this,e,arguments.length>1?arguments[1]:void 0)}}),fh("includes");var dh=Ft,hh=function(){var e=dh(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},ph=y,vh=g.RegExp,gh=ph((function(){var e=vh("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),mh=gh||ph((function(){return!vh("a","y").sticky})),yh=gh||ph((function(){var e=vh("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),_h={BROKEN_CARET:yh,MISSED_STICKY:mh,UNSUPPORTED_Y:gh},bh=y,Eh=g.RegExp,Sh=bh((function(){var e=Eh(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),wh=y,Th=g.RegExp,Ch=wh((function(){var e=Th("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Ah=w,Rh=N,Ih=uc,kh=hh,Oh=_h,Ph=xe.exports,Mh=Qc,xh=Hr.get,Lh=Sh,Dh=Ch,Nh=Ph("native-string-replace",String.prototype.replace),jh=RegExp.prototype.exec,Uh=jh,Bh=Rh("".charAt),Fh=Rh("".indexOf),Hh=Rh("".replace),Vh=Rh("".slice),Wh=function(){var e=/a/,t=/b*/g;return Ah(jh,e,"a"),Ah(jh,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),zh=Oh.BROKEN_CARET,Gh=void 0!==/()??/.exec("")[1];(Wh||Gh||zh||Lh||Dh)&&(Uh=function(e){var t,r,n,i,o,a,s,u=this,c=xh(u),l=Ih(e),f=c.raw;if(f){return f.lastIndex=u.lastIndex,t=Ah(Uh,f,l),u.lastIndex=f.lastIndex,t}var d=c.groups,h=zh&&u.sticky,p=Ah(kh,u),v=u.source,g=0,m=l;if(h&&(p=Hh(p,"y",""),-1===Fh(p,"g")&&(p+="g"),m=Vh(l,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==Bh(l,u.lastIndex-1))&&(v="(?: "+v+")",m=" "+m,g++),r=new RegExp("^(?:"+v+")",p)),Gh&&(r=new RegExp("^"+v+"$(?!\\s)",p)),Wh&&(n=u.lastIndex),i=Ah(jh,h?r:u,m),h?i?(i.input=Vh(i.input,g),i[0]=Vh(i[0],g),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:Wh&&i&&(u.lastIndex=u.global?i.index+i[0].length:n),Gh&&i&&i.length>1&&Ah(Nh,i[0],r,(function(){for(o=1;o<arguments.length-2;o++){void 0===arguments[o]&&(i[o]=void 0)}})),i&&d){for(i.groups=a=Mh(null),o=0;o<d.length;o++){a[(s=d[o])[0]]=i[s[1]]}}return i});var Yh=Uh;ci({target:"RegExp",proto:!0,forced:/./.exec!==Yh},{exec:Yh});var Kh=N,qh=on,$h=Yh,Jh=y,Zh=ut,Xh=er,Qh=Zh("species"),ep=RegExp.prototype,tp=N,rp=fn,np=uc,ip=K,op=tp("".charAt),ap=tp("".charCodeAt),sp=tp("".slice),up=function(e){return function(t,r){var n,i,o=np(ip(t)),a=rp(r),s=o.length;return a<0||a>=s?e?"":void 0:(n=ap(o,a))<55296||n>56319||a+1===s||(i=ap(o,a+1))<56320||i>57343?e?op(o,a):n:e?sp(o,a,a+2):i-56320+(n-55296<<10)+65536}},cp={codeAt:up(!1),charAt:up(!0)},lp=cp.charAt,fp=N,dp=We,hp=Math.floor,pp=fp("".charAt),vp=fp("".replace),gp=fp("".slice),mp=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,yp=/\$([$&'`]|\d{1,2})/g,_p=function(e,t,r,n,i,o){var a=r+e.length,s=n.length,u=yp;return void 0!==i&&(i=dp(i),u=mp),vp(o,u,(function(o,u){var c;switch(pp(u,0)){case"$":return"$";case"&":return e;case"`":return gp(t,0,r);case"'":return gp(t,a);case"<":c=i[gp(u,1,-1)];break;default:var l=+u;if(0===l){return o}if(l>s){var f=hp(l/10);return 0===f?o:f<=s?void 0===n[f-1]?pp(u,1):n[f-1]+pp(u,1):o}c=n[l-1]}return void 0===c?"":c}))},bp=w,Ep=Ft,Sp=Z,wp=F,Tp=Yh,Cp=TypeError,Ap=vo,Rp=w,Ip=N,kp=function(e,t,r,n){var i=Zh(e),o=!Jh((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!Jh((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[Qh]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return t=!0,null},r[i](""),!t}));if(!o||!a||r){var s=Kh(/./[i]),u=t(i,""[e],(function(e,t,r,n,i){var a=Kh(e),u=t.exec;return u===$h||u===ep.exec?o&&!i?{done:!0,value:s(t,r,n)}:{done:!0,value:a(r,t,n)}:{done:!1}}));qh(String.prototype,e,u[0]),qh(ep,i,u[1])}n&&Xh(ep[i],"sham",!0)},Op=y,Pp=Ft,Mp=Z,xp=fn,Lp=yn,Dp=uc,Np=K,jp=function(e,t,r){return t+(r?lp(e,t).length:1)},Up=Ie,Bp=_p,Fp=function(e,t){var r=e.exec;if(Sp(r)){var n=bp(r,e,t);return null!==n&&Ep(n),n}if("RegExp"===wp(e)){return bp(Tp,e,t)}throw Cp("RegExp#exec called on incompatible receiver")},Hp=ut("replace"),Vp=Math.max,Wp=Math.min,zp=Ip([].concat),Gp=Ip([].push),Yp=Ip("".indexOf),Kp=Ip("".slice),qp="$0"==="a".replace(/./,"$0"),$p=!!/./[Hp]&&""===/./[Hp]("a","$0"),Jp=!Op((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));kp("replace",(function(e,t,r){var n=$p?"$":"$0";return[function(e,r){var n=Np(this),i=null==e?void 0:Up(e,Hp);return i?Rp(i,e,n,r):Rp(t,Dp(n),e,r)},function(e,i){var o=Pp(this),a=Dp(e);if("string"==typeof i&&-1===Yp(i,n)&&-1===Yp(i,"$<")){var s=r(t,o,a,i);if(s.done){return s.value}}var u=Mp(i);u||(i=Dp(i));var c=o.global;if(c){var l=o.unicode;o.lastIndex=0}for(var f=[];;){var d=Fp(o,a);if(null===d){break}if(Gp(f,d),!c){break}""===Dp(d[0])&&(o.lastIndex=jp(a,Lp(o.lastIndex),l))}for(var h,p="",v=0,g=0;g<f.length;g++){for(var m=Dp((d=f[g])[0]),y=Vp(Wp(xp(d.index),a.length),0),_=[],b=1;b<d.length;b++){Gp(_,void 0===(h=d[b])?h:String(h))}var E=d.groups;if(u){var S=zp([m],_,y,a);void 0!==E&&Gp(S,E);var w=Dp(Ap(i,void 0,S))}else{w=Bp(m,a,y,_,E,i)}y>=v&&(p+=Kp(a,v,y)+w,v=y+m.length)}return p+Kp(a,v)}]}),!Jp||!qp||$p);var Zp=Q,Xp=F,Qp=ut("match"),ev=function(e){var t;return Zp(e)&&(void 0!==(t=e[Qp])?!!t:"RegExp"==Xp(e))},tv=w,rv=Ye,nv=ne,iv=hh,ov=RegExp.prototype,av=function(e){var t=e.flags;return void 0!==t||"flags"in ov||rv(e,"flags")||!nv(ov,e)?t:tv(iv,e)},sv=ci,uv=w,cv=N,lv=K,fv=Z,dv=ev,hv=uc,pv=Ie,vv=av,gv=_p,mv=ut("replace"),yv=TypeError,_v=cv("".indexOf);cv("".replace);var bv=cv("".slice),Ev=Math.max,Sv=function(e,t,r){return r>e.length?-1:""===t?r:_v(e,t,r)};sv({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,i,o,a,s,u,c,l=lv(this),f=0,d=0,h="";if(null!=e){if(dv(e)&&(r=hv(lv(vv(e))),!~_v(r,"g"))){throw yv("`.replaceAll` does not allow non-global regexes")}if(n=pv(e,mv)){return uv(n,e,l,t)}}for(i=hv(l),o=hv(e),(a=fv(t))||(t=hv(t)),s=o.length,u=Ev(1,s),f=Sv(i,o,0);-1!==f;){c=a?hv(t(o,f,i)):gv(o,i,f,[],void 0,t),h+=bv(i,d,f)+c,d=f+s,f=Sv(i,o,f+u)}return d<i.length&&(h+=bv(i,d)),h}});var wv=Z,Tv=Q,Cv=mi,Av=function(e,t,r){var n,i;return Cv&&wv(n=t.constructor)&&n!==r&&Tv(i=n.prototype)&&i!==r.prototype&&Cv(e,i),e},Rv=Dt.f,Iv=_,kv=g,Ov=N,Pv=ti,Mv=Av,xv=er,Lv=an.f,Dv=ne,Nv=ev,jv=uc,Uv=av,Bv=_h,Fv=function(e,t,r){r in e||Rv(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})},Hv=on,Vv=y,Wv=Ye,zv=Hr.enforce,Gv=Ai,Yv=Sh,Kv=Ch,qv=ut("match"),$v=kv.RegExp,Jv=$v.prototype,Zv=kv.SyntaxError,Xv=Ov(Jv.exec),Qv=Ov("".charAt),eg=Ov("".replace),tg=Ov("".indexOf),rg=Ov("".slice),ng=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,ig=/a/g,og=/a/g,ag=new $v(ig)!==ig,sg=Bv.MISSED_STICKY,ug=Bv.UNSUPPORTED_Y,cg=Iv&&(!ag||sg||Yv||Kv||Vv((function(){return og[qv]=!1,$v(ig)!=ig||$v(og)==og||"/a/i"!=$v(ig,"i")})));if(Pv("RegExp",cg)){for(var lg=function(e,t){var r,n,i,o,a,s,u=Dv(Jv,this),c=Nv(e),l=void 0===t,f=[],d=e;if(!u&&c&&l&&e.constructor===lg){return e}if((c||Dv(Jv,e))&&(e=e.source,l&&(t=Uv(d))),e=void 0===e?"":jv(e),t=void 0===t?"":jv(t),d=e,Yv&&"dotAll"in ig&&(n=!!t&&tg(t,"s")>-1)&&(t=eg(t,/s/g,"")),r=t,sg&&"sticky"in ig&&(i=!!t&&tg(t,"y")>-1)&&ug&&(t=eg(t,/y/g,"")),Kv&&(o=function(e){for(var t,r=e.length,n=0,i="",o=[],a={},s=!1,u=!1,c=0,l="";n<=r;n++){if("\\"===(t=Qv(e,n))){t+=Qv(e,++n)}else if("]"===t){s=!1}else if(!s){switch(!0){case"["===t:s=!0;break;case"("===t:Xv(ng,rg(e,n+1))&&(n+=2,u=!0),i+=t,c++;continue;case">"===t&&u:if(""===l||Wv(a,l)){throw new Zv("Invalid capture group name")}a[l]=!0,o[o.length]=[l,c],u=!1,l="";continue}}u?l+=t:i+=t}return[i,o]}(e),e=o[0],f=o[1]),a=Mv($v(e,t),u?this:Jv,lg),(n||i||f.length)&&(s=zv(a),n&&(s.dotAll=!0,s.raw=lg(function(e){for(var t,r=e.length,n=0,i="",o=!1;n<=r;n++){"\\"!==(t=Qv(e,n))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+Qv(e,++n)}return i}(e),r)),i&&(s.sticky=!0),f.length&&(s.groups=f)),e!==d){try{xv(a,"source",""===d?"(?:)":d)}catch(e){}}return a},fg=Lv($v),dg=0;fg.length>dg;){Fv(lg,$v,fg[dg++])}Jv.constructor=lg,lg.prototype=Jv,Hv(kv,"RegExp",lg,{constructor:!0})}Gv("RegExp");const hg=["none","error","warn","info","debug"];var pg="undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},vg=[],gg=[],mg="undefined"!=typeof Uint8Array?Uint8Array:Array,yg=!1;function _g(){yg=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t){vg[t]=e[t],gg[e.charCodeAt(t)]=t}gg["-".charCodeAt(0)]=62,gg["_".charCodeAt(0)]=63}function bg(e,t,r){for(var n,i,o=[],a=t;a<r;a+=3){n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(vg[(i=n)>>18&63]+vg[i>>12&63]+vg[i>>6&63]+vg[63&i])}return o.join("")}function Eg(e){var t;yg||_g();for(var r=e.length,n=r%3,i="",o=[],a=16383,s=0,u=r-n;s<u;s+=a){o.push(bg(e,s,s+a>u?u:s+a))}return 1===n?(t=e[r-1],i+=vg[t>>2],i+=vg[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=vg[t>>10],i+=vg[t>>4&63],i+=vg[t<<2&63],i+="="),o.push(i),o.join("")}function Sg(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8){}for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8){}if(0===o){o=1-c}else{if(o===u){return a?NaN:1/0*(h?-1:1)}a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)}function wg(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8){}for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8){}e[r+h-p]|=128*v}var Tg={}.toString,Cg=Array.isArray||function(e){return"[object Array]"==Tg.call(e)};function Ag(){return Ig.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Rg(e,t){if(Ag()<t){throw new RangeError("Invalid typed array length")}return Ig.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Ig.prototype:(null===e&&(e=new Ig(t)),e.length=t),e}function Ig(e,t,r){if(!(Ig.TYPED_ARRAY_SUPPORT||this instanceof Ig)){return new Ig(e,t,r)}if("number"==typeof e){if("string"==typeof t){throw new Error("If encoding is specified then the first argument must be a string")}return Pg(this,e)}return kg(this,e,t,r)}function kg(e,t,r,n){if("number"==typeof t){throw new TypeError('"value" argument must not be a number')}return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r){throw new RangeError("'offset' is out of bounds")}if(t.byteLength<r+(n||0)){throw new RangeError("'length' is out of bounds")}t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);Ig.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Ig.prototype:e=Mg(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!Ig.isEncoding(r)){throw new TypeError('"encoding" must be a valid string encoding')}var n=0|Dg(t,r);e=Rg(e,n);var i=e.write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(Lg(t)){var r=0|xg(t.length);return 0===(e=Rg(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t){return"number"!=typeof t.length||(n=t.length)!=n?Rg(e,0):Mg(e,t)}if("Buffer"===t.type&&Cg(t.data)){return Mg(e,t.data)}}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Og(e){if("number"!=typeof e){throw new TypeError('"size" argument must be a number')}if(e<0){throw new RangeError('"size" argument must not be negative')}}function Pg(e,t){if(Og(t),e=Rg(e,t<0?0:0|xg(t)),!Ig.TYPED_ARRAY_SUPPORT){for(var r=0;r<t;++r){e[r]=0}}return e}function Mg(e,t){var r=t.length<0?0:0|xg(t.length);e=Rg(e,r);for(var n=0;n<r;n+=1){e[n]=255&t[n]}return e}function xg(e){if(e>=Ag()){throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ag().toString(16)+" bytes")}return 0|e}function Lg(e){return!(null==e||!e._isBuffer)}function Dg(e,t){if(Lg(e)){return e.length}if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){return e.byteLength}"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r){return 0}for(var n=!1;;){switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return um(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return cm(e).length;default:if(n){return um(e).length}t=(""+t).toLowerCase(),n=!0}}}function Ng(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length){return""}if((void 0===r||r>this.length)&&(r=this.length),r<=0){return""}if((r>>>=0)<=(t>>>=0)){return""}for(e||(e="utf8");;){switch(e){case"hex":return Zg(this,t,r);case"utf8":case"utf-8":return Kg(this,t,r);case"ascii":return $g(this,t,r);case"latin1":case"binary":return Jg(this,t,r);case"base64":return Yg(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xg(this,t,r);default:if(n){throw new TypeError("Unknown encoding: "+e)}e=(e+"").toLowerCase(),n=!0}}}function jg(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Ug(e,t,r,n,i){if(0===e.length){return-1}if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i){return-1}r=e.length-1}else if(r<0){if(!i){return-1}r=0}if("string"==typeof t&&(t=Ig.from(t,n)),Lg(t)){return 0===t.length?-1:Bg(e,t,r,n,i)}if("number"==typeof t){return t&=255,Ig.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Bg(e,[t],r,n,i)}throw new TypeError("val must be string, number or Buffer")}function Bg(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2){return-1}a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++){if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u){return l*a}}else{-1!==l&&(o-=o-l),l=-1}}}else{for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++){if(c(e,o+d)!==c(t,d)){f=!1;break}}if(f){return o}}}return-1}function Fg(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0){throw new TypeError("Invalid hex string")}n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s)){return a}e[r+a]=s}return a}function Hg(e,t,r,n){return lm(um(t,e.length-r),e,r,n)}function Vg(e,t,r,n){return lm(function(e){for(var t=[],r=0;r<e.length;++r){t.push(255&e.charCodeAt(r))}return t}(t),e,r,n)}function Wg(e,t,r,n){return Vg(e,t,r,n)}function zg(e,t,r,n){return lm(cm(t),e,r,n)}function Gg(e,t,r,n){return lm(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a){n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n)}return o}(t,e.length-r),e,r,n)}function Yg(e,t,r){return 0===t&&r===e.length?Eg(e):Eg(e.slice(t,r))}function Kg(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r){switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=qg){return String.fromCharCode.apply(String,e)}var r="",n=0;for(;n<t;){r+=String.fromCharCode.apply(String,e.slice(n,n+=qg))}return r}(n)}Ig.TYPED_ARRAY_SUPPORT=void 0===pg.TYPED_ARRAY_SUPPORT||pg.TYPED_ARRAY_SUPPORT,Ag(),Ig.poolSize=8192,Ig._augment=function(e){return e.__proto__=Ig.prototype,e},Ig.from=function(e,t,r){return kg(null,e,t,r)},Ig.TYPED_ARRAY_SUPPORT&&(Ig.prototype.__proto__=Uint8Array.prototype,Ig.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Ig[Symbol.species]),Ig.alloc=function(e,t,r){return function(e,t,r,n){return Og(t),t<=0?Rg(e,t):void 0!==r?"string"==typeof n?Rg(e,t).fill(r,n):Rg(e,t).fill(r):Rg(e,t)}(null,e,t,r)},Ig.allocUnsafe=function(e){return Pg(null,e)},Ig.allocUnsafeSlow=function(e){return Pg(null,e)},Ig.isBuffer=fm,Ig.compare=function(e,t){if(!Lg(e)||!Lg(t)){throw new TypeError("Arguments must be Buffers")}if(e===t){return 0}for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i){if(e[i]!==t[i]){r=e[i],n=t[i];break}}return r<n?-1:n<r?1:0},Ig.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ig.concat=function(e,t){if(!Cg(e)){throw new TypeError('"list" argument must be an Array of Buffers')}if(0===e.length){return Ig.alloc(0)}var r;if(void 0===t){for(t=0,r=0;r<e.length;++r){t+=e[r].length}}var n=Ig.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!Lg(o)){throw new TypeError('"list" argument must be an Array of Buffers')}o.copy(n,i),i+=o.length}return n},Ig.byteLength=Dg,Ig.prototype._isBuffer=!0,Ig.prototype.swap16=function(){var e=this.length;if(e%2!=0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var t=0;t<e;t+=2){jg(this,t,t+1)}return this},Ig.prototype.swap32=function(){var e=this.length;if(e%4!=0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var t=0;t<e;t+=4){jg(this,t,t+3),jg(this,t+1,t+2)}return this},Ig.prototype.swap64=function(){var e=this.length;if(e%8!=0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var t=0;t<e;t+=8){jg(this,t,t+7),jg(this,t+1,t+6),jg(this,t+2,t+5),jg(this,t+3,t+4)}return this},Ig.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Kg(this,0,e):Ng.apply(this,arguments)},Ig.prototype.equals=function(e){if(!Lg(e)){throw new TypeError("Argument must be a Buffer")}return this===e||0===Ig.compare(this,e)},Ig.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Ig.prototype.compare=function(e,t,r,n,i){if(!Lg(e)){throw new TypeError("Argument must be a Buffer")}if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length){throw new RangeError("out of range index")}if(n>=i&&t>=r){return 0}if(n>=i){return-1}if(t>=r){return 1}if(this===e){return 0}for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),l=0;l<s;++l){if(u[l]!==c[l]){o=u[l],a=c[l];break}}return o<a?-1:a<o?1:0},Ig.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Ig.prototype.indexOf=function(e,t,r){return Ug(this,e,t,r,!0)},Ig.prototype.lastIndexOf=function(e,t,r){return Ug(this,e,t,r,!1)},Ig.prototype.write=function(e,t,r,n){if(void 0===t){n="utf8",r=this.length,t=0}else if(void 0===r&&"string"==typeof t){n=t,r=this.length,t=0}else{if(!isFinite(t)){throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length){throw new RangeError("Attempt to write outside buffer bounds")}n||(n="utf8");for(var o=!1;;){switch(n){case"hex":return Fg(this,e,t,r);case"utf8":case"utf-8":return Hg(this,e,t,r);case"ascii":return Vg(this,e,t,r);case"latin1":case"binary":return Wg(this,e,t,r);case"base64":return zg(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gg(this,e,t,r);default:if(o){throw new TypeError("Unknown encoding: "+n)}n=(""+n).toLowerCase(),o=!0}}},Ig.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var qg=4096;function $g(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i){n+=String.fromCharCode(127&e[i])}return n}function Jg(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i){n+=String.fromCharCode(e[i])}return n}function Zg(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o){i+=sm(e[o])}return i}function Xg(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2){i+=String.fromCharCode(n[o]+256*n[o+1])}return i}function Qg(e,t,r){if(e%1!=0||e<0){throw new RangeError("offset is not uint")}if(e+t>r){throw new RangeError("Trying to access beyond buffer length")}}function em(e,t,r,n,i,o){if(!Lg(e)){throw new TypeError('"buffer" argument must be a Buffer instance')}if(t>i||t<o){throw new RangeError('"value" argument is out of bounds')}if(r+n>e.length){throw new RangeError("Index out of range")}}function tm(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i){e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}}function rm(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i){e[r+i]=t>>>8*(n?i:3-i)&255}}function nm(e,t,r,n,i,o){if(r+n>e.length){throw new RangeError("Index out of range")}if(r<0){throw new RangeError("Index out of range")}}function im(e,t,r,n,i){return i||nm(e,0,r,4),wg(e,t,r,n,23,4),r+4}function om(e,t,r,n,i){return i||nm(e,0,r,8),wg(e,t,r,n,52,8),r+8}Ig.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Ig.TYPED_ARRAY_SUPPORT){(r=this.subarray(e,t)).__proto__=Ig.prototype}else{var i=t-e;r=new Ig(i,void 0);for(var o=0;o<i;++o){r[o]=this[o+e]}}return r},Ig.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Qg(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);){n+=this[e+o]*i}return n},Ig.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Qg(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);){n+=this[e+--t]*i}return n},Ig.prototype.readUInt8=function(e,t){return t||Qg(e,1,this.length),this[e]},Ig.prototype.readUInt16LE=function(e,t){return t||Qg(e,2,this.length),this[e]|this[e+1]<<8},Ig.prototype.readUInt16BE=function(e,t){return t||Qg(e,2,this.length),this[e]<<8|this[e+1]},Ig.prototype.readUInt32LE=function(e,t){return t||Qg(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Ig.prototype.readUInt32BE=function(e,t){return t||Qg(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Ig.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Qg(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);){n+=this[e+o]*i}return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Ig.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Qg(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);){o+=this[e+--n]*i}return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Ig.prototype.readInt8=function(e,t){return t||Qg(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Ig.prototype.readInt16LE=function(e,t){t||Qg(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Ig.prototype.readInt16BE=function(e,t){t||Qg(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Ig.prototype.readInt32LE=function(e,t){return t||Qg(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Ig.prototype.readInt32BE=function(e,t){return t||Qg(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Ig.prototype.readFloatLE=function(e,t){return t||Qg(e,4,this.length),Sg(this,e,!0,23,4)},Ig.prototype.readFloatBE=function(e,t){return t||Qg(e,4,this.length),Sg(this,e,!1,23,4)},Ig.prototype.readDoubleLE=function(e,t){return t||Qg(e,8,this.length),Sg(this,e,!0,52,8)},Ig.prototype.readDoubleBE=function(e,t){return t||Qg(e,8,this.length),Sg(this,e,!1,52,8)},Ig.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||em(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);){this[t+o]=e/i&255}return t+r},Ig.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||em(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);){this[t+i]=e/o&255}return t+r},Ig.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||em(this,e,t,1,255,0),Ig.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Ig.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||em(this,e,t,2,65535,0),Ig.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):tm(this,e,t,!0),t+2},Ig.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||em(this,e,t,2,65535,0),Ig.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):tm(this,e,t,!1),t+2},Ig.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||em(this,e,t,4,4294967295,0),Ig.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):rm(this,e,t,!0),t+4},Ig.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||em(this,e,t,4,4294967295,0),Ig.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):rm(this,e,t,!1),t+4},Ig.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);em(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);){e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255}return t+r},Ig.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);em(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);){e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255}return t+r},Ig.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||em(this,e,t,1,127,-128),Ig.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Ig.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||em(this,e,t,2,32767,-32768),Ig.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):tm(this,e,t,!0),t+2},Ig.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||em(this,e,t,2,32767,-32768),Ig.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):tm(this,e,t,!1),t+2},Ig.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||em(this,e,t,4,2147483647,-2147483648),Ig.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):rm(this,e,t,!0),t+4},Ig.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||em(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Ig.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):rm(this,e,t,!1),t+4},Ig.prototype.writeFloatLE=function(e,t,r){return im(this,e,t,!0,r)},Ig.prototype.writeFloatBE=function(e,t,r){return im(this,e,t,!1,r)},Ig.prototype.writeDoubleLE=function(e,t,r){return om(this,e,t,!0,r)},Ig.prototype.writeDoubleBE=function(e,t,r){return om(this,e,t,!1,r)},Ig.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r){return 0}if(0===e.length||0===this.length){return 0}if(t<0){throw new RangeError("targetStart out of bounds")}if(r<0||r>=this.length){throw new RangeError("sourceStart out of bounds")}if(n<0){throw new RangeError("sourceEnd out of bounds")}n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n){for(i=o-1;i>=0;--i){e[i+t]=this[i+r]}}else if(o<1e3||!Ig.TYPED_ARRAY_SUPPORT){for(i=0;i<o;++i){e[i+t]=this[i+r]}}else{Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t)}return o},Ig.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n){throw new TypeError("encoding must be a string")}if("string"==typeof n&&!Ig.isEncoding(n)){throw new TypeError("Unknown encoding: "+n)}}else{"number"==typeof e&&(e&=255)}if(t<0||this.length<t||this.length<r){throw new RangeError("Out of range index")}if(r<=t){return this}var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e){for(o=t;o<r;++o){this[o]=e}}else{var a=Lg(e)?e:um(new Ig(e,n).toString()),s=a.length;for(o=0;o<r-t;++o){this[o+t]=a[o%s]}}return this};var am=/[^+\/0-9A-Za-z-_]/g;function sm(e){return e<16?"0"+e.toString(16):e.toString(16)}function um(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else{i&&(t-=3)>-1&&o.push(239,191,189)}if(i=null,r<128){if((t-=1)<0){break}o.push(r)}else if(r<2048){if((t-=2)<0){break}o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0){break}o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112)){throw new Error("Invalid code point")}if((t-=4)<0){break}o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function cm(e){return function(e){var t,r,n,i,o,a;yg||_g();var s=e.length;if(s%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new mg(3*s/4-o),n=o>0?s-4:s;var u=0;for(t=0,r=0;t<n;t+=4,r+=3){i=gg[e.charCodeAt(t)]<<18|gg[e.charCodeAt(t+1)]<<12|gg[e.charCodeAt(t+2)]<<6|gg[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i}return 2===o?(i=gg[e.charCodeAt(t)]<<2|gg[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=gg[e.charCodeAt(t)]<<10|gg[e.charCodeAt(t+1)]<<4|gg[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(am,"")).length<2){return""}for(;e.length%4!=0;){e+="="}return e}(e))}function lm(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i){t[i+r]=e[i]}return i}function fm(e){return null!=e&&(!!e._isBuffer||dm(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&dm(e.slice(0,0))}(e))}function dm(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function hm(){throw new Error("setTimeout has not been defined")}function pm(){throw new Error("clearTimeout has not been defined")}var vm=hm,gm=pm;function mm(e){if(vm===setTimeout){return setTimeout(e,0)}if((vm===hm||!vm)&&setTimeout){return vm=setTimeout,setTimeout(e,0)}try{return vm(e,0)}catch(t){try{return vm.call(null,e,0)}catch(t){return vm.call(this,e,0)}}}"function"==typeof pg.setTimeout&&(vm=setTimeout),"function"==typeof pg.clearTimeout&&(gm=clearTimeout);var ym,_m=[],bm=!1,Em=-1;function Sm(){bm&&ym&&(bm=!1,ym.length?_m=ym.concat(_m):Em=-1,_m.length&&wm())}function wm(){if(!bm){var e=mm(Sm);bm=!0;for(var t=_m.length;t;){for(ym=_m,_m=[];++Em<t;){ym&&ym[Em].run()}Em=-1,t=_m.length}ym=null,bm=!1,function(e){if(gm===clearTimeout){return clearTimeout(e)}if((gm===pm||!gm)&&clearTimeout){return gm=clearTimeout,clearTimeout(e)}try{return gm(e)}catch(t){try{return gm.call(null,e)}catch(t){return gm.call(this,e)}}}(e)}}function Tm(e,t){this.fun=e,this.array=t}Tm.prototype.run=function(){this.fun.apply(null,this.array)};var Cm=pg.performance||{};function Am(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}Cm.now||Cm.mozNow||Cm.msNow||Cm.oNow||Cm.webkitNow;var Rm={exports:{}};!function(e){e.exports=function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){if(!s&&Am){return Am(a)}if(o){return o(a,!0)}var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,r,n)}return r[a].exports}for(var o=Am,a=0;a<n.length;a++){i(n[a])}return i}({1:[function(e,t,r){var n=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,i,a,s,u,c,l=[],f=0,d=e.length,h=d,p="string"!==n.getTypeOf(e);f<e.length;){h=d-f,i=p?(t=e[f++],r=f<d?e[f++]:0,f<d?e[f++]:0):(t=e.charCodeAt(f++),r=f<d?e.charCodeAt(f++):0,f<d?e.charCodeAt(f++):0),a=t>>2,s=(3&t)<<4|r>>4,u=1<h?(15&r)<<2|i>>6:64,c=2<h?63&i:64,l.push(o.charAt(a)+o.charAt(s)+o.charAt(u)+o.charAt(c))}return l.join("")},r.decode=function(e){var t,r,n,a,s,u,c=0,l=0,f="data:";if(e.substr(0,f.length)===f){throw new Error("Invalid base64 input, it looks like a data url.")}var d,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0){throw new Error("Invalid base64 input, bad content length.")}for(d=i.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;){t=o.indexOf(e.charAt(c++))<<2|(a=o.indexOf(e.charAt(c++)))>>4,r=(15&a)<<4|(s=o.indexOf(e.charAt(c++)))>>2,n=(3&s)<<6|(u=o.indexOf(e.charAt(c++))),d[l++]=t,64!==s&&(d[l++]=r),64!==u&&(d[l++]=n)}return d}},{"./support":30,"./utils":32}],2:[function(e,t,r){var n=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize){throw new Error("Bug : uncompressed data size mismatch")}})),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){var n=e("./utils"),i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++){e=1&e?3988292384^e>>>1:e>>>1}t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var o=i,a=n+r;e^=-1;for(var s=n;s<a;s++){e=e>>>8^o[255&(e^t[s])]}return~e}(0|t,e,e.length,0):function(e,t,r,n){var o=i,a=n+r;e^=-1;for(var s=n;s<a;s++){e=e>>>8^o[255&(e^t.charCodeAt(s))]}return~e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){var n=null;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=n?"uint8array":"array";function u(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",o.inherits(u,a),u.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new u("Deflate",e)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){function n(e,t){var r,n="";for(r=0;r<t;r++){n+=String.fromCharCode(255&e),e>>>=8}return n}function i(e,t,r,i,a,l){var f,d,h=e.file,p=e.compression,v=l!==s.utf8encode,g=o.transformTo("string",l(h.name)),m=o.transformTo("string",s.utf8encode(h.name)),y=h.comment,_=o.transformTo("string",l(y)),b=o.transformTo("string",s.utf8encode(y)),E=m.length!==h.name.length,S=b.length!==y.length,w="",T="",C="",A=h.dir,R=h.date,I={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(I.crc32=e.crc32,I.compressedSize=e.compressedSize,I.uncompressedSize=e.uncompressedSize);var k=0;t&&(k|=8),v||!E&&!S||(k|=2048);var O=0,P=0;A&&(O|=16),"UNIX"===a?(P=798,O|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(h.unixPermissions,A)):(P=20,O|=function(e){return 63&(e||0)}(h.dosPermissions)),f=R.getUTCHours(),f<<=6,f|=R.getUTCMinutes(),f<<=5,f|=R.getUTCSeconds()/2,d=R.getUTCFullYear()-1980,d<<=4,d|=R.getUTCMonth()+1,d<<=5,d|=R.getUTCDate(),E&&(T=n(1,1)+n(u(g),4)+m,w+="up"+n(T.length,2)+T),S&&(C=n(1,1)+n(u(_),4)+b,w+="uc"+n(C.length,2)+C);var M="";return M+="\n\0",M+=n(k,2),M+=p.magic,M+=n(f,2),M+=n(d,2),M+=n(I.crc32,4),M+=n(I.compressedSize,4),M+=n(I.uncompressedSize,4),M+=n(g.length,2),M+=n(w.length,2),{fileRecord:c.LOCAL_FILE_HEADER+M+g+w,dirRecord:c.CENTRAL_FILE_HEADER+n(P,2)+M+n(_.length,2)+"\0\0\0\0"+n(O,4)+n(i,4)+g+w+_}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),u=e("../crc32"),c=e("../signature");function l(e,t,r,n){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(l,a),l.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else{this.accumulate=!0}},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t){this.push({data:function(e){return c.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)}(e),meta:{percent:100}})}else{for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;){this.push(this.contentBuffer.shift())}}this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++){this.push({data:this.dirRecords[t],meta:{percent:100}})}var r=this.bytesWritten-e,i=function(e,t,r,i,a){var s=o.transformTo("string",a(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+n(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e)){return!1}for(var r=0;r<t.length;r++){try{t[r].error(e)}catch(e){}}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++){e[t].lock()}},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){var n=e("../compressions"),i=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var o=new i(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,r){a++;var i=function(e,t){var r=e||t,i=n[r];if(!i){throw new Error(r+" is not a valid compression method !")}return i}(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},u=r.dir,c=r.date;r._compressWorker(i,s).withStreamInfo("file",{name:e,dir:u,date:c,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){function n(){if(!(this instanceof n)){return new n}if(arguments.length){throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.")}this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this){"function"!=typeof this[t]&&(e[t]=this[t])}return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){var n=e("./utils"),i=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),u=e("./nodejsUtils");function c(e){return new i.Promise((function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){r(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new a(t);return r.load(e),r})).then((function(e){var r=[i.Promise.resolve(e)],n=e.files;if(t.checkCRC32){for(var o=0;o<n.length;o++){r.push(c(n[o]))}}return i.Promise.all(r)})).then((function(e){for(var i=e.shift(),o=i.files,a=0;a<o.length;a++){var s=o[a],u=s.fileNameStr,c=n.resolve(s.fileNameStr);r.file(c,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(r.file(c).unsafeOriginalName=u)}return i.zipComment.length&&(r.comment=i.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){var n=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){var n=e("readable-stream").Readable;function i(e,t,r){n.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),r&&r(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){t.exports={isNode:void 0!==Ig,newBufferFrom:function(e,t){if(Ig.from&&Ig.from!==Uint8Array.from){return Ig.from(e,t)}if("number"==typeof e){throw new Error('The "data" argument must not be a number')}return new Ig(e,t)},allocBuffer:function(e){if(Ig.alloc){return Ig.alloc(e)}var t=new Ig(e);return t.fill(0),t},isBuffer:function(e){return fm(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){function n(e,t,r){var n,i=o.getTypeOf(t),s=o.extend(r||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=v(e)),s.createFolders&&(n=p(e))&&g.call(this,n,!0);var f="string"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!f),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var m=null;m=t instanceof c||t instanceof a?t:d.isNode&&d.isStream(t)?new h(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new l(e,m,s);this.files[e]=y}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),u=e("./defaults"),c=e("./compressedObject"),l=e("./zipObject"),f=e("./generate"),d=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:u.createFolders,e=v(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files){n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)}},filter:function(e){var t=[];return this.forEach((function(r,n){e(r,n)&&t.push(n)})),t},file:function(e,t,r){if(1!==arguments.length){return e=this.root+e,n.call(this,e,t,r),this}if(m(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e){return this}if(m(e)){return this.filter((function(t,r){return r.dir&&e.test(t)}))}var t=this.root+e,r=g.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir){delete this.files[e]}else{for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),n=0;n<r.length;n++){delete this.files[r[n].name]}}return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type){throw new Error("No output type specified.")}o.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=f.generateWorker(this,r,n)}catch(e){(t=new a("error")).error(e)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){var n=e("./DataReader");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++){e[t]=255&e[t]}}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o){if(this.data[o]===t&&this.data[o+1]===r&&this.data[o+2]===n&&this.data[o+3]===i){return o-this.zero}}return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&r===o[1]&&n===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e){return[]}var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){var n=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0){throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")}},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--){r=(r<<8)+this.byteAt(t)}return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,r){var n=e("./Uint8ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){var n=e("./DataReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){var n=e("./ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e){return new Uint8Array(0)}var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){var n=e("../utils"),i=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),u=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new u(n.transformTo("uint8array",e)):new o(n.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){var n=e("./GenericWorker"),i=e("../utils");function o(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,n),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){var n=e("./GenericWorker"),i=e("../crc32");function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,n),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){var n=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){var n=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished){return!1}var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max){return this.end()}switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished){return!1}this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e]){for(var r=0;r<this._listeners[e].length;r++){this._listeners[e][r].call(this,t)}}},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked){throw new Error("The stream '"+this+"' has already been used.")}this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished){return!1}var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo){this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])}},lock:function(){if(this.isLocked){throw new Error("The stream '"+this+"' has already been used.")}this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,r){var n=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),u=e("../external"),c=null;if(s.nodestream){try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}}function l(e,t){return new u.Promise((function(r,i){var o=[],s=e._internalType,u=e._outputType,c=e._mimeType;e.on("data",(function(e,r){o.push(e),t&&t(r)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),r);case"base64":return a.encode(t);default:return n.transformTo(e,t)}}(u,function(e,t){var r,n=0,i=null,o=0;for(r=0;r<t.length;r++){o+=t[r].length}switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),r=0;r<t.length;r++){i.set(t[r],n),n+=t[r].length}return i;case"nodebuffer":return Ig.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),c);r(e)}catch(e){i(e)}o=[]})).resume()}))}function f(e,t,r){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=r,n.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){n.delay(t,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType){throw new Error(this._outputType+" is not supported by this method")}return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer=void 0!==Ig,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer){r.blob=!1}else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){for(var n=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),u=0;u<256;u++){s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1}function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,r,n,o,a,s=e.length,u=0;for(o=0;o<s;o++){55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4}for(t=i.uint8array?new Uint8Array(u):new Array(u),o=a=0;a<u;o++){55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r)}return t}(e)},r.utf8decode=function(e){return i.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,o,a=e.length,u=new Array(2*a);for(t=r=0;t<a;){if((i=e[t++])<128){u[r++]=i}else if(4<(o=s[i])){u[r++]=65533,t+=o-1}else{for(i&=2===o?31:3===o?15:7;1<o&&t<a;){i=i<<6|63&e[t++],o--}1<o?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}}return u.length!==r&&(u.subarray?u=u.subarray(0,r):u.length=r),n.applyFromCharCode(u)}(e=n.transformTo(i.uint8array?"uint8array":"array",e))},n.inherits(c,a),c.prototype.processChunk=function(e){var t=n.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else{t=this.leftOver.concat(t)}this.leftOver=null}var a=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);){r--}return r<0||0===r?t:r+s[e[r]]>t?r:t}(t),u=t;a!==t.length&&(i.uint8array?(u=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(u=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:r.utf8decode(u),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=c,n.inherits(l,a),l.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){var n=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function s(e){return e}function u(e,t){for(var r=0;r<e.length;++r){t[r]=255&e.charCodeAt(r)}return t}e("setimmediate"),r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,r){var n=[],i=0,o=e.length;if(o<=r){return String.fromCharCode.apply(null,e)}for(;i<o;){"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,o)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,o)))),i+=r}return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++){t+=String.fromCharCode(e[r])}return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function l(e){var t=65536,n=r.getTypeOf(e),i=!0;if("uint8array"===n?i=c.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=c.applyCanBeUsed.nodebuffer),i){for(;1<t;){try{return c.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}}}return c.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++){t[r]=e[r]}return t}r.applyFromCharCode=l;var d={};d.string={string:s,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,o.allocBuffer(e.length))}},d.array={string:l,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return l(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:l,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:l,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:s},r.transformTo=function(e,t){if(t=t||"",!e){return t}r.checkSupport(e);var n=r.getTypeOf(t);return d[n][e](t)},r.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var i=t[n];"."===i||""===i&&0!==n&&n!==t.length-1||(".."===i?r.pop():r.push(i))}return r.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&o.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()]){throw new Error(e+" is not supported by this platform")}},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++){n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase()}return n},r.delay=function(e,t,r){setImmediate((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++){for(t in arguments[e]){arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t])}}return r},r.prepareContent=function(e,t,o,s,c){return a.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var l=r.getTypeOf(t);return l?("arraybuffer"===l?t=r.transformTo("uint8array",t):"string"===l&&(c?t=i.decode(t):o&&!0!==s&&(t=function(e){return u(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){var n=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function u(e){this.files=[],this.loadOptions=e}u.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;){e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount){throw new Error("Multi-volumes zip are not supported")}},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++){t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()}},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);){(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e)}if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length){throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0){throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html")}this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0){throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator")}if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0)){throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n){this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n)}else if(n<0){throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")}},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){var n=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),u=e("./compressions"),c=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize){throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)")}if(null===(t=function(e){for(var t in u){if(u.hasOwnProperty(t)&&u[t].magic===e){return u[t]}}return null}(this.compressionMethod))){throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")")}this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted()){throw new Error("Encrypted zip are not supported")}e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;){t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n}}e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8()){this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment)}else{var t=this.findExtraFieldUnicodePath();if(null!==t){this.fileNameStr=t}else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n){this.fileCommentStr=n}else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),u=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e){throw new Error("No output type specified.")}var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new u("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic){return this._data.getCompressedWorker()}var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++){n.prototype[c[f]]=l}t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel){r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)}}else{var u=new e.MessageChannel;u.port1.onmessage=l,r=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;){t[e]()}r=c.length}n=!1}t.exports=function(e){1!==c.push(e)||n||r()}}).call(this,void 0!==c?c:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){var n=e("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e){throw new TypeError("resolver must be a function")}this.state=u,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function l(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,t,r){n((function(){var n;try{n=t(r)}catch(n){return o.reject(e,n)}n===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,n)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t){return function(){t.apply(e,arguments)}}}function h(e,t){var r=!1;function n(t){r||(r=!0,o.reject(e,t))}function i(t){r||(r=!0,o.resolve(e,t))}var a=p((function(){t(i,n)}));"error"===a.status&&n(a.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e){return this}var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a){return this}var r=new this.constructor(i);return this.state!==u?f(r,this.state===s?e:t,this.outcome):this.queue.push(new l(r,e,t)),r},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},o.resolve=function(e,t){var r=p(d,t);if("error"===r.status){return o.reject(e,r.value)}var n=r.value;if(n){h(e,n)}else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;){e.queue[i].callFulfilled(t)}}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;){e.queue[r].callRejected(t)}return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e)){return this.reject(new TypeError("must be an array"))}var r=e.length,n=!1;if(!r){return this.resolve([])}for(var a=new Array(r),s=0,u=-1,c=new this(i);++u<r;){l(e[u],u)}return c;function l(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==r||n||(n=!0,o.resolve(c,a))}),(function(e){n||(n=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e)){return this.reject(new TypeError("must be an array"))}var r=e.length,n=!1;if(!r){return this.resolve([])}for(var a,s=-1,u=new this(i);++s<r;){a=e[s],t.resolve(a).then((function(e){n||(n=!0,o.resolve(u,e))}),(function(e){n||(n=!0,o.reject(u,e))}))}return u}},{immediate:36}],38:[function(e,t,r){var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){var n=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),u=Object.prototype.toString,c=0,l=-1,f=0,d=8;function h(e){if(!(this instanceof h)){return new h(e)}this.options=i.assign({level:l,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==c){throw new Error(a[r])}if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==c){throw new Error(a[r])}this._dict_set=!0}}function p(e,t){var r=new h(t);if(r.push(e,!0),r.err){throw r.msg||a[r.err]}return r.result}h.prototype.push=function(e,t){var r,a,s=this.strm,l=this.options.chunkSize;if(this.ended){return!1}a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(l),s.next_out=0,s.avail_out=l),1!==(r=n.deflate(s,a))&&r!==c){return this.onEnd(r),!(this.ended=!0)}0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===c):2!==a||(this.onEnd(c),!(s.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=h,r.deflate=p,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){var n=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),u=e("./zlib/zstream"),c=e("./zlib/gzheader"),l=Object.prototype.toString;function f(e){if(!(this instanceof f)){return new f(e)}this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK){throw new Error(s[r])}this.header=new c,n.inflateGetHeader(this.strm,this.header)}function d(e,t){var r=new f(t);if(r.push(e,!0),r.err){throw r.msg||s[r.err]}return r.result}f.prototype.push=function(e,t){var r,s,u,c,f,d,h=this.strm,p=this.options.chunkSize,v=this.options.dictionary,g=!1;if(this.ended){return!1}s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(r=n.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&v&&(d="string"==typeof v?o.string2buf(v):"[object ArrayBuffer]"===l.call(v)?new Uint8Array(v):v,r=n.inflateSetDictionary(this.strm,d)),r===a.Z_BUF_ERROR&&!0===g&&(r=a.Z_OK,g=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK){return this.onEnd(r),!(this.ended=!0)}h.next_out&&(0!==h.avail_out&&r!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(h.output,h.next_out),c=h.next_out-u,f=o.buf2string(h.output,u),h.next_out=c,h.avail_out=p-c,c&&i.arraySet(h.output,h.output,u,c,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=f,r.inflate=d,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},r.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r){throw new TypeError(r+"must be non-object")}for(var n in r){r.hasOwnProperty(n)&&(e[n]=r[n])}}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),i)}else{for(var o=0;o<n;o++){e[i+o]=t[r+o]}}},flattenChunks:function(e){var t,r,n,i,o,a;for(t=n=0,r=e.length;t<r;t++){n+=e[t].length}for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++){o=e[t],a.set(o,i),i+=o.length}return a}},o={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++){e[i+o]=t[r+o]}},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},{}],42:[function(e,t,r){var n=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++){a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1}function u(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i)){return String.fromCharCode.apply(null,n.shrinkBuf(e,t))}for(var r="",a=0;a<t;a++){r+=String.fromCharCode(e[a])}return r}a[254]=a[254]=1,r.string2buf=function(e){var t,r,i,o,a,s=e.length,u=0;for(o=0;o<s;o++){55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4}for(t=new n.Buf8(u),o=a=0;a<u;o++){55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r)}return t},r.buf2binstring=function(e){return u(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++){t[r]=e.charCodeAt(r)}return t},r.buf2string=function(e,t){var r,n,i,o,s=t||e.length,c=new Array(2*s);for(r=n=0;r<s;){if((i=e[r++])<128){c[n++]=i}else if(4<(o=a[i])){c[n++]=65533,r+=o-1}else{for(i&=2===o?31:3===o?15:7;1<o&&r<s;){i=i<<6|63&e[r++],o--}1<o?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}}return u(c,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);){r--}return r<0||0===r?t:r+a[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){t.exports=function(e,t,r,n){for(var i=65535&e,o=e>>>16&65535,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;o=o+(i=i+t[n++]|0)|0,--a;){}i%=65521,o%=65521}return i|o<<16}},{}],44:[function(e,t,r){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++){e=1&e?3988292384^e>>>1:e>>>1}t[r]=e}return t}();t.exports=function(e,t,r,i){var o=n,a=i+r;e^=-1;for(var s=i;s<a;s++){e=e>>>8^o[255&(e^t[s])]}return~e}},{}],46:[function(e,t,r){var n,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),u=e("./messages"),c=0,l=4,f=0,d=-2,h=-1,p=4,v=2,g=8,m=9,y=286,_=30,b=19,E=2*y+1,S=15,w=3,T=258,C=T+w+1,A=42,R=113,I=1,k=2,O=3,P=4;function M(e,t){return e.msg=u[t],t}function x(e){return(e<<1)-(4<e?9:0)}function L(e){for(var t=e.length;0<=--t;){e[t]=0}}function D(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function N(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function j(e,t){e.pending_buf[e.pending++]=t}function U(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function B(e,t){var r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-C?e.strstart-(e.w_size-C):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+T,h=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(r=t)+a]===p&&c[r+a-1]===h&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do{}while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<d);if(n=T-(d-o),o=d-T,a<n){if(e.match_start=t,s<=(a=n)){break}h=c[o+a-1],p=c[o+a]}}}while((t=f[t&l])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead}function F(e){var t,r,n,o,u,c,l,f,d,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-C)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;n=e.head[--t],e.head[t]=p<=n?n-p:0,--r;){}for(t=r=p;n=e.prev[--t],e.prev[t]=p<=n?n-p:0,--r;){}o+=p}if(0===e.strm.avail_in){break}if(c=e.strm,l=e.window,f=e.strstart+e.lookahead,h=void 0,(d=o)<(h=c.avail_in)&&(h=d),r=0===h?0:(c.avail_in-=h,i.arraySet(l,c.input,c.next_in,h,f),1===c.state.wrap?c.adler=a(c.adler,l,h,f):2===c.state.wrap&&(c.adler=s(c.adler,l,h,f)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=r,e.lookahead+e.insert>=w){for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+w-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<w));){}}}while(e.lookahead<C&&0!==e.strm.avail_in)}function H(e,t){for(var r,n;;){if(e.lookahead<C){if(F(e),e.lookahead<C&&t===c){return I}if(0===e.lookahead){break}}if(r=0,e.lookahead>=w&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-C&&(e.match_length=B(e,r)),e.match_length>=w){if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-w),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=w){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;){}e.strstart++}else{e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask}}else{n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++}if(n&&(N(e,!1),0===e.strm.avail_out)){return I}}return e.insert=e.strstart<w-1?e.strstart:w-1,t===l?(N(e,!0),0===e.strm.avail_out?O:P):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?I:k}function V(e,t){for(var r,n,i;;){if(e.lookahead<C){if(F(e),e.lookahead<C&&t===c){return I}if(0===e.lookahead){break}}if(r=0,e.lookahead>=w&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=w-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-C&&(e.match_length=B(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===w&&4096<e.strstart-e.match_start)&&(e.match_length=w-1)),e.prev_length>=w&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-w,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-w),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;){}if(e.match_available=0,e.match_length=w-1,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out)){return I}}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out){return I}}else{e.match_available=1,e.strstart++,e.lookahead--}}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<w-1?e.strstart:w-1,t===l?(N(e,!0),0===e.strm.avail_out?O:P):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?I:k}function W(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*E),this.dyn_dtree=new i.Buf16(2*(2*_+1)),this.bl_tree=new i.Buf16(2*(2*b+1)),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(S+1),this.heap=new i.Buf16(2*y+1),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=v,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?A:R,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),f):M(e,d)}function Y(e){var t=G(e);return t===f&&function(e){e.window_size=2*e.w_size,L(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=w-1,e.match_available=0,e.ins_h=0}(e.state),t}function K(e,t,r,n,o,a){if(!e){return d}var s=1;if(t===h&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),o<1||m<o||r!==g||n<8||15<n||t<0||9<t||a<0||p<a){return M(e,d)}8===n&&(n=9);var u=new z;return(e.state=u).strm=e,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+w-1)/w),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=r,Y(e)}n=[new W(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(F(e),0===e.lookahead&&t===c){return I}if(0===e.lookahead){break}}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,N(e,!1),0===e.strm.avail_out)){return I}if(e.strstart-e.block_start>=e.w_size-C&&(N(e,!1),0===e.strm.avail_out)){return I}}return e.insert=0,t===l?(N(e,!0),0===e.strm.avail_out?O:P):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),I)})),new W(4,4,8,4,H),new W(4,5,16,8,H),new W(4,6,32,32,H),new W(4,4,16,16,V),new W(8,16,32,32,V),new W(8,16,128,128,V),new W(8,32,128,256,V),new W(32,128,258,1024,V),new W(32,258,258,4096,V)],r.deflateInit=function(e,t){return K(e,t,g,15,8,0)},r.deflateInit2=K,r.deflateReset=Y,r.deflateResetKeep=G,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,f):d},r.deflate=function(e,t){var r,i,a,u;if(!e||!e.state||5<t||t<0){return e?M(e,d):d}if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==l){return M(e,0===e.avail_out?-5:d)}if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===A){if(2===i.wrap){e.adler=0,j(i,31),j(i,139),j(i,8),i.gzhead?(j(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),j(i,255&i.gzhead.time),j(i,i.gzhead.time>>8&255),j(i,i.gzhead.time>>16&255),j(i,i.gzhead.time>>24&255),j(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),j(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(j(i,255&i.gzhead.extra.length),j(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(j(i,0),j(i,0),j(i,0),j(i,0),j(i,0),j(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),j(i,3),i.status=R)}else{var h=g+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=R,U(i,h),0!==i.strstart&&(U(i,e.adler>>>16),U(i,65535&e.adler)),e.adler=1}}if(69===i.status){if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),D(e),a=i.pending,i.pending!==i.pending_buf_size));){j(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++}i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else{i.status=73}}if(73===i.status){if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),D(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,j(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else{i.status=91}}if(91===i.status){if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),D(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,j(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else{i.status=103}}if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&D(e),i.pending+2<=i.pending_buf_size&&(j(i,255&e.adler),j(i,e.adler>>8&255),e.adler=0,i.status=R)):i.status=R),0!==i.pending){if(D(e),0===e.avail_out){return i.last_flush=-1,f}}else if(0===e.avail_in&&x(t)<=x(r)&&t!==l){return M(e,-5)}if(666===i.status&&0!==e.avail_in){return M(e,-5)}if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var p=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(F(e),0===e.lookahead)){if(t===c){return I}break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out)){return I}}return e.insert=0,t===l?(N(e,!0),0===e.strm.avail_out?O:P):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?I:k}(i,t):3===i.strategy?function(e,t){for(var r,n,i,a,s=e.window;;){if(e.lookahead<=T){if(F(e),e.lookahead<=T&&t===c){return I}if(0===e.lookahead){break}}if(e.match_length=0,e.lookahead>=w&&0<e.strstart&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+T;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=T-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=w?(r=o._tr_tally(e,1,e.match_length-w),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(N(e,!1),0===e.strm.avail_out)){return I}}return e.insert=0,t===l?(N(e,!0),0===e.strm.avail_out?O:P):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?I:k}(i,t):n[i.level].func(i,t);if(p!==O&&p!==P||(i.status=666),p===I||p===O){return 0===e.avail_out&&(i.last_flush=-1),f}if(p===k&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(L(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),D(e),0===e.avail_out)){return i.last_flush=-1,f}}return t!==l?f:i.wrap<=0?1:(2===i.wrap?(j(i,255&e.adler),j(i,e.adler>>8&255),j(i,e.adler>>16&255),j(i,e.adler>>24&255),j(i,255&e.total_in),j(i,e.total_in>>8&255),j(i,e.total_in>>16&255),j(i,e.total_in>>24&255)):(U(i,e.adler>>>16),U(i,65535&e.adler)),D(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?f:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==A&&69!==t&&73!==t&&91!==t&&103!==t&&t!==R&&666!==t?M(e,d):(e.state=null,t===R?M(e,-3):f):d},r.deflateSetDictionary=function(e,t){var r,n,o,s,u,c,l,h,p=t.length;if(!e||!e.state){return d}if(2===(s=(r=e.state).wrap)||1===s&&r.status!==A||r.lookahead){return d}for(1===s&&(e.adler=a(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(L(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new i.Buf8(r.w_size),i.arraySet(h,t,p-r.w_size,r.w_size,0),t=h,p=r.w_size),u=e.avail_in,c=e.next_in,l=e.input,e.avail_in=p,e.next_in=0,e.input=t,F(r);r.lookahead>=w;){for(n=r.strstart,o=r.lookahead-(w-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+w-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--o;){}r.strstart=n,r.lookahead=w-1,F(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=w-1,r.match_available=0,e.next_in=c,e.input=l,e.avail_in=u,r.wrap=s,f},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){t.exports=function(e,t){var r,n,i,o,a,s,u,c,l,f,d,h,p,v,g,m,y,_,b,E,S,w,T,C,A;r=e.state,n=e.next_in,C=e.input,i=n+(e.avail_in-5),o=e.next_out,A=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=r.dmax,c=r.wsize,l=r.whave,f=r.wnext,d=r.window,h=r.hold,p=r.bits,v=r.lencode,g=r.distcode,m=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;e:do{p<15&&(h+=C[n++]<<p,p+=8,h+=C[n++]<<p,p+=8),_=v[h&m];t:for(;;){if(h>>>=b=_>>>24,p-=b,0==(b=_>>>16&255)){A[o++]=65535&_}else{if(!(16&b)){if(!(64&b)){_=v[(65535&_)+(h&(1<<b)-1)];continue t}if(32&b){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}E=65535&_,(b&=15)&&(p<b&&(h+=C[n++]<<p,p+=8),E+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=C[n++]<<p,p+=8,h+=C[n++]<<p,p+=8),_=g[h&y];r:for(;;){if(h>>>=b=_>>>24,p-=b,!(16&(b=_>>>16&255))){if(!(64&b)){_=g[(65535&_)+(h&(1<<b)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(S=65535&_,p<(b&=15)&&(h+=C[n++]<<p,(p+=8)<b&&(h+=C[n++]<<p,p+=8)),u<(S+=h&(1<<b)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=b,p-=b,(b=o-a)<S){if(l<(b=S-b)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(T=d,(w=0)===f){if(w+=c-b,b<E){for(E-=b;A[o++]=d[w++],--b;){}w=o-S,T=A}}else if(f<b){if(w+=c+f-b,(b-=f)<E){for(E-=b;A[o++]=d[w++],--b;){}if(w=0,f<E){for(E-=b=f;A[o++]=d[w++],--b;){}w=o-S,T=A}}}else if(w+=f-b,b<E){for(E-=b;A[o++]=d[w++],--b;){}w=o-S,T=A}for(;2<E;){A[o++]=T[w++],A[o++]=T[w++],A[o++]=T[w++],E-=3}E&&(A[o++]=T[w++],1<E&&(A[o++]=T[w++]))}else{for(w=o-S;A[o++]=A[w++],A[o++]=A[w++],A[o++]=A[w++],2<(E-=3);){}E&&(A[o++]=A[w++],1<E&&(A[o++]=A[w++]))}break}}break}}while(n<i&&o<s);n-=E=p>>3,h&=(1<<(p-=E<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=o<s?s-o+257:257-(o-s),r.hold=h,r.bits=p}},{}],49:[function(e,t,r){var n=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),u=1,c=2,l=0,f=-2,d=1,h=852,p=592;function v(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(h),t.distcode=t.distdyn=new n.Buf32(p),t.sane=1,t.back=-1,l):f}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,m(e)):f}function _(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?f:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,y(e))):f}function b(e,t){var r,n;return e?(n=new g,(e.state=n).window=null,(r=_(e,t))!==l&&(e.state=null),r):f}var E,S,w=!0;function T(e){if(w){var t;for(E=new n.Buf32(512),S=new n.Buf32(32),t=0;t<144;){e.lens[t++]=8}for(;t<256;){e.lens[t++]=9}for(;t<280;){e.lens[t++]=7}for(;t<288;){e.lens[t++]=8}for(s(u,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;){e.lens[t++]=5}s(c,e.lens,0,32,S,0,e.work,{bits:5}),w=!1}e.lencode=E,e.lenbits=9,e.distcode=S,e.distbits=5}function C(e,t,r,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),n.arraySet(a.window,t,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}r.inflateReset=y,r.inflateReset2=_,r.inflateResetKeep=m,r.inflateInit=function(e){return b(e,15)},r.inflateInit2=b,r.inflate=function(e,t){var r,h,p,g,m,y,_,b,E,S,w,A,R,I,k,O,P,M,x,L,D,N,j,U,B=0,F=new n.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in){return f}12===(r=e.state).mode&&(r.mode=13),m=e.next_out,p=e.output,_=e.avail_out,g=e.next_in,h=e.input,y=e.avail_in,b=r.hold,E=r.bits,S=y,w=_,N=l;e:for(;;){switch(r.mode){case d:if(0===r.wrap){r.mode=13;break}for(;E<16;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}if(2&r.wrap&&35615===b){F[r.check=0]=255&b,F[1]=b>>>8&255,r.check=o(r.check,F,2,0),E=b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&b)){e.msg="unknown compression method",r.mode=30;break}if(E-=4,D=8+(15&(b>>>=4)),0===r.wbits){r.wbits=D}else if(D>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<D,e.adler=r.check=1,r.mode=512&b?10:12,E=b=0;break;case 2:for(;E<16;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}if(r.flags=b,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=b>>8&1),512&r.flags&&(F[0]=255&b,F[1]=b>>>8&255,r.check=o(r.check,F,2,0)),E=b=0,r.mode=3;case 3:for(;E<32;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}r.head&&(r.head.time=b),512&r.flags&&(F[0]=255&b,F[1]=b>>>8&255,F[2]=b>>>16&255,F[3]=b>>>24&255,r.check=o(r.check,F,4,0)),E=b=0,r.mode=4;case 4:for(;E<16;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}r.head&&(r.head.xflags=255&b,r.head.os=b>>8),512&r.flags&&(F[0]=255&b,F[1]=b>>>8&255,r.check=o(r.check,F,2,0)),E=b=0,r.mode=5;case 5:if(1024&r.flags){for(;E<16;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}r.length=b,r.head&&(r.head.extra_len=b),512&r.flags&&(F[0]=255&b,F[1]=b>>>8&255,r.check=o(r.check,F,2,0)),E=b=0}else{r.head&&(r.head.extra=null)}r.mode=6;case 6:if(1024&r.flags&&(y<(A=r.length)&&(A=y),A&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,h,g,A,D)),512&r.flags&&(r.check=o(r.check,h,A,g)),y-=A,g+=A,r.length-=A),r.length)){break e}r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===y){break e}for(A=0;D=h[g+A++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D)),D&&A<y;){}if(512&r.flags&&(r.check=o(r.check,h,A,g)),y-=A,g+=A,D){break e}}else{r.head&&(r.head.name=null)}r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===y){break e}for(A=0;D=h[g+A++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D)),D&&A<y;){}if(512&r.flags&&(r.check=o(r.check,h,A,g)),y-=A,g+=A,D){break e}}else{r.head&&(r.head.comment=null)}r.mode=9;case 9:if(512&r.flags){for(;E<16;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}if(b!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}E=b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;E<32;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}e.adler=r.check=v(b),E=b=0,r.mode=11;case 11:if(0===r.havedict){return e.next_out=m,e.avail_out=_,e.next_in=g,e.avail_in=y,r.hold=b,r.bits=E,2}e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t){break e}case 13:if(r.last){b>>>=7&E,E-=7&E,r.mode=27;break}for(;E<3;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}switch(r.last=1&b,E-=1,3&(b>>>=1)){case 0:r.mode=14;break;case 1:if(T(r),r.mode=20,6!==t){break}b>>>=2,E-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}b>>>=2,E-=2;break;case 14:for(b>>>=7&E,E-=7&E;E<32;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&b,E=b=0,r.mode=15,6===t){break e}case 15:r.mode=16;case 16:if(A=r.length){if(y<A&&(A=y),_<A&&(A=_),0===A){break e}n.arraySet(p,h,g,A,m),y-=A,g+=A,_-=A,m+=A,r.length-=A;break}r.mode=12;break;case 17:for(;E<14;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}if(r.nlen=257+(31&b),b>>>=5,E-=5,r.ndist=1+(31&b),b>>>=5,E-=5,r.ncode=4+(15&b),b>>>=4,E-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;E<3;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}r.lens[H[r.have++]]=7&b,b>>>=3,E-=3}for(;r.have<19;){r.lens[H[r.have++]]=0}if(r.lencode=r.lendyn,r.lenbits=7,j={bits:r.lenbits},N=s(0,r.lens,0,19,r.lencode,0,r.work,j),r.lenbits=j.bits,N){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;O=(B=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,P=65535&B,!((k=B>>>24)<=E);){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}if(P<16){b>>>=k,E-=k,r.lens[r.have++]=P}else{if(16===P){for(U=k+2;E<U;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}if(b>>>=k,E-=k,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}D=r.lens[r.have-1],A=3+(3&b),b>>>=2,E-=2}else if(17===P){for(U=k+3;E<U;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}E-=k,D=0,A=3+(7&(b>>>=k)),b>>>=3,E-=3}else{for(U=k+7;E<U;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}E-=k,D=0,A=11+(127&(b>>>=k)),b>>>=7,E-=7}if(r.have+A>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;A--;){r.lens[r.have++]=D}}}if(30===r.mode){break}if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,j={bits:r.lenbits},N=s(u,r.lens,0,r.nlen,r.lencode,0,r.work,j),r.lenbits=j.bits,N){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,j={bits:r.distbits},N=s(c,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,j),r.distbits=j.bits,N){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t){break e}case 20:r.mode=21;case 21:if(6<=y&&258<=_){e.next_out=m,e.avail_out=_,e.next_in=g,e.avail_in=y,r.hold=b,r.bits=E,a(e,w),m=e.next_out,p=e.output,_=e.avail_out,g=e.next_in,h=e.input,y=e.avail_in,b=r.hold,E=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;O=(B=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,P=65535&B,!((k=B>>>24)<=E);){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}if(O&&!(240&O)){for(M=k,x=O,L=P;O=(B=r.lencode[L+((b&(1<<M+x)-1)>>M)])>>>16&255,P=65535&B,!(M+(k=B>>>24)<=E);){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}b>>>=M,E-=M,r.back+=M}if(b>>>=k,E-=k,r.back+=k,r.length=P,0===O){r.mode=26;break}if(32&O){r.back=-1,r.mode=12;break}if(64&O){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&O,r.mode=22;case 22:if(r.extra){for(U=r.extra;E<U;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,E-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;O=(B=r.distcode[b&(1<<r.distbits)-1])>>>16&255,P=65535&B,!((k=B>>>24)<=E);){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}if(!(240&O)){for(M=k,x=O,L=P;O=(B=r.distcode[L+((b&(1<<M+x)-1)>>M)])>>>16&255,P=65535&B,!(M+(k=B>>>24)<=E);){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}b>>>=M,E-=M,r.back+=M}if(b>>>=k,E-=k,r.back+=k,64&O){e.msg="invalid distance code",r.mode=30;break}r.offset=P,r.extra=15&O,r.mode=24;case 24:if(r.extra){for(U=r.extra;E<U;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,E-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===_){break e}if(A=w-_,r.offset>A){if((A=r.offset-A)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}R=A>r.wnext?(A-=r.wnext,r.wsize-A):r.wnext-A,A>r.length&&(A=r.length),I=r.window}else{I=p,R=m-r.offset,A=r.length}for(_<A&&(A=_),_-=A,r.length-=A;p[m++]=I[R++],--A;){}0===r.length&&(r.mode=21);break;case 26:if(0===_){break e}p[m++]=r.length,_--,r.mode=21;break;case 27:if(r.wrap){for(;E<32;){if(0===y){break e}y--,b|=h[g++]<<E,E+=8}if(w-=_,e.total_out+=w,r.total+=w,w&&(e.adler=r.check=r.flags?o(r.check,p,w,m-w):i(r.check,p,w,m-w)),w=_,(r.flags?b:v(b))!==r.check){e.msg="incorrect data check",r.mode=30;break}E=b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;E<32;){if(0===y){break e}y--,b+=h[g++]<<E,E+=8}if(b!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}E=b=0}r.mode=29;case 29:N=1;break e;case 30:N=-3;break e;case 31:return-4;default:return f}}return e.next_out=m,e.avail_out=_,e.next_in=g,e.avail_in=y,r.hold=b,r.bits=E,(r.wsize||w!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&C(e,e.output,e.next_out,w-e.avail_out)?(r.mode=31,-4):(S-=e.avail_in,w-=e.avail_out,e.total_in+=S,e.total_out+=w,r.total+=w,r.wrap&&w&&(e.adler=r.check=r.flags?o(r.check,p,w,e.next_out-w):i(r.check,p,w,e.next_out-w)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==S&&0===w||4===t)&&N===l&&(N=-5),N)},r.inflateEnd=function(e){if(!e||!e.state){return f}var t=e.state;return t.window&&(t.window=null),e.state=null,l},r.inflateGetHeader=function(e,t){var r;return e&&e.state&&2&(r=e.state).wrap?((r.head=t).done=!1,l):f},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?f:11===r.mode&&i(1,t,n,0)!==r.check?-3:C(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,l):f},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){var n=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,u,c,l,f,d){var h,p,v,g,m,y,_,b,E,S=d.bits,w=0,T=0,C=0,A=0,R=0,I=0,k=0,O=0,P=0,M=0,x=null,L=0,D=new n.Buf16(16),N=new n.Buf16(16),j=null,U=0;for(w=0;w<=15;w++){D[w]=0}for(T=0;T<u;T++){D[t[r+T]]++}for(R=S,A=15;1<=A&&0===D[A];A--){}if(A<R&&(R=A),0===A){return c[l++]=20971520,c[l++]=20971520,d.bits=1,0}for(C=1;C<A&&0===D[C];C++){}for(R<C&&(R=C),w=O=1;w<=15;w++){if(O<<=1,(O-=D[w])<0){return-1}}if(0<O&&(0===e||1!==A)){return-1}for(N[1]=0,w=1;w<15;w++){N[w+1]=N[w]+D[w]}for(T=0;T<u;T++){0!==t[r+T]&&(f[N[t[r+T]]++]=T)}if(y=0===e?(x=j=f,19):1===e?(x=i,L-=257,j=o,U-=257,256):(x=a,j=s,-1),w=C,m=l,k=T=M=0,v=-1,g=(P=1<<(I=R))-1,1===e&&852<P||2===e&&592<P){return 1}for(;;){for(_=w-k,E=f[T]<y?(b=0,f[T]):f[T]>y?(b=j[U+f[T]],x[L+f[T]]):(b=96,0),h=1<<w-k,C=p=1<<I;c[m+(M>>k)+(p-=h)]=_<<24|b<<16|E,0!==p;){}for(h=1<<w-1;M&h;){h>>=1}if(0!==h?(M&=h-1,M+=h):M=0,T++,0==--D[w]){if(w===A){break}w=t[r+f[T]]}if(R<w&&(M&g)!==v){for(0===k&&(k=R),m+=C,O=1<<(I=w-k);I+k<A&&!((O-=D[I+k])<=0);){I++,O<<=1}if(P+=1<<I,1===e&&852<P||2===e&&592<P){return 1}c[v=M&g]=R<<24|I<<16|m-l}}return 0!==M&&(c[m+M]=w-k<<24|64<<16),d.bits=R,0}},{"../utils/common":41}],51:[function(e,t,r){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){var n=e("../utils/common"),i=0,o=1;function a(e){for(var t=e.length;0<=--t;){e[t]=0}}var s=0,u=29,c=256,l=c+1+u,f=30,d=19,h=2*l+1,p=15,v=16,g=7,m=256,y=16,_=17,b=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(2*(l+2));a(C);var A=new Array(2*f);a(A);var R=new Array(512);a(R);var I=new Array(256);a(I);var k=new Array(u);a(k);var O,P,M,x=new Array(f);function L(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?R[e]:R[256+(e>>>7)]}function j(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function U(e,t,r){e.bi_valid>v-r?(e.bi_buf|=t<<e.bi_valid&65535,j(e,e.bi_buf),e.bi_buf=t>>v-e.bi_valid,e.bi_valid+=r-v):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function B(e,t,r){U(e,r[2*t],r[2*t+1])}function F(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;){}return r>>>1}function H(e,t,r){var n,i,o=new Array(p+1),a=0;for(n=1;n<=p;n++){o[n]=a=a+r[n-1]<<1}for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=F(o[s]++,s))}}function V(e){var t;for(t=0;t<l;t++){e.dyn_ltree[2*t]=0}for(t=0;t<f;t++){e.dyn_dtree[2*t]=0}for(t=0;t<d;t++){e.bl_tree[2*t]=0}e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){8<e.bi_valid?j(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function z(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&z(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!z(t,n,e.heap[i],e.depth));){e.heap[r]=e.heap[i],r=i,i<<=1}e.heap[r]=n}function Y(e,t,r){var n,i,o,a,s=0;if(0!==e.last_lit){for(;n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===n?B(e,i,t):(B(e,(o=I[i])+c+1,t),0!==(a=E[o])&&U(e,i-=k[o],a),B(e,o=N(--n),r),0!==(a=S[o])&&U(e,n-=x[o],a)),s<e.last_lit;){}}B(e,m,t)}function K(e,t){var r,n,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,r=0;r<u;r++){0!==o[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):o[2*r+1]=0}for(;e.heap_len<2;){o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1])}for(t.max_code=c,r=e.heap_len>>1;1<=r;r--){G(e,o,r)}for(i=u;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,G(e,o,1),2<=e.heap_len;){}e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,a,s,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,v=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=p;o++){e.bl_count[o]=0}for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<h;r++){g<(o=u[2*u[2*(n=e.heap[r])+1]+1]+1)&&(o=g,m++),u[2*n+1]=o,c<n||(e.bl_count[o]++,a=0,v<=n&&(a=d[n-v]),s=u[2*n],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(l[2*n+1]+a)))}if(0!==m){do{for(o=g-1;0===e.bl_count[o];){o--}e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(0<m);for(o=g;0!==o;o--){for(n=e.bl_count[o];0!==n;){c<(i=e.heap[--r])||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}}}(e,t),H(o,c,e.bl_count)}function q(e,t,r){var n,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++){i=a,a=t[2*(n+1)+1],++s<u&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*_]++:e.bl_tree[2*b]++,o=i,c=(s=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4))}}function $(e,t,r){var n,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),n=0;n<=r;n++){if(i=a,a=t[2*(n+1)+1],!(++s<u&&i===a)){if(s<c){for(;B(e,i,e.bl_tree),0!=--s;){}}else{0!==i?(i!==o&&(B(e,i,e.bl_tree),s--),B(e,y,e.bl_tree),U(e,s-3,2)):s<=10?(B(e,_,e.bl_tree),U(e,s-3,3)):(B(e,b,e.bl_tree),U(e,s-11,7))}o=i,c=(s=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4)}}}a(x);var J=!1;function Z(e,t,r,i){U(e,(s<<1)+(i?1:0),3),function(e,t,r,i){W(e),i&&(j(e,r),j(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){J||(function(){var e,t,r,n,i,o=new Array(p+1);for(n=r=0;n<u-1;n++){for(k[n]=r,e=0;e<1<<E[n];e++){I[r++]=n}}for(I[r-1]=n,n=i=0;n<16;n++){for(x[n]=i,e=0;e<1<<S[n];e++){R[i++]=n}}for(i>>=7;n<f;n++){for(x[n]=i<<7,e=0;e<1<<S[n]-7;e++){R[256+i++]=n}}for(t=0;t<=p;t++){o[t]=0}for(e=0;e<=143;){C[2*e+1]=8,e++,o[8]++}for(;e<=255;){C[2*e+1]=9,e++,o[9]++}for(;e<=279;){C[2*e+1]=7,e++,o[7]++}for(;e<=287;){C[2*e+1]=8,e++,o[8]++}for(H(C,l+1,o),e=0;e<f;e++){A[2*e+1]=5,A[2*e]=F(e,5)}O=new L(C,E,c+1,l,p),P=new L(A,S,0,f,p),M=new L(new Array(0),w,0,d,g)}(),J=!0),e.l_desc=new D(e.dyn_ltree,O),e.d_desc=new D(e.dyn_dtree,P),e.bl_desc=new D(e.bl_tree,M),e.bi_buf=0,e.bi_valid=0,V(e)},r._tr_stored_block=Z,r._tr_flush_block=function(e,t,r,n){var a,s,u=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1){if(1&r&&0!==e.dyn_ltree[2*t]){return i}}if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26]){return o}for(t=32;t<c;t++){if(0!==e.dyn_ltree[2*t]){return o}}return i}(e)),K(e,e.l_desc),K(e,e.d_desc),u=function(e){var t;for(q(e,e.dyn_ltree,e.l_desc.max_code),q(e,e.dyn_dtree,e.d_desc.max_code),K(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*T[t]+1];t--){}return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=r+5,r+4<=a&&-1!==t?Z(e,t,r,n):4===e.strategy||s===a?(U(e,2+(n?1:0),3),Y(e,C,A)):(U(e,4+(n?1:0),3),function(e,t,r,n){var i;for(U(e,t-257,5),U(e,r-1,5),U(e,n-4,4),i=0;i<n;i++){U(e,e.bl_tree[2*T[i]+1],3)}$(e,e.dyn_ltree,t-1),$(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),Y(e,e.dyn_ltree,e.dyn_dtree)),V(e),n&&W(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(I[r]+c+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){U(e,2,3),B(e,m,C),function(e){16===e.bi_valid?(j(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){if(!e.setImmediate){var r,n,i,o,a=1,s={},u=!1,c=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,r="[object process]"==={}.toString.call(e.process)?function(e){!function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}_m.push(new Tm(e,t)),1!==_m.length||bm||mm(wm)}((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){i.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):function(e){setTimeout(d,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++){t[n]=arguments[n+1]}var i={callback:e,args:t};return s[a]=i,r(a),a++},l.clearImmediate=f}function f(e){delete s[e]}function d(e){if(u){setTimeout(d,0,e)}else{var r=s[e];if(r){u=!0;try{!function(e){var r=e.callback,n=e.args;switch(n.length){case 0:r();break;case 1:r(n[0]);break;case 2:r(n[0],n[1]);break;case 3:r(n[0],n[1],n[2]);break;default:r.apply(t,n)}}(r)}finally{f(e),u=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&d(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==c?c:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}(Rm);var Im=Rm.exports,km="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Om=on,Pm=function(e,t,r){for(var n in t){Om(e,n,t[n],r)}return e},Mm=fn,xm=yn,Lm=RangeError,Dm=function(e){if(void 0===e){return 0}var t=Mm(e),r=xm(t);if(t!==r){throw Lm("Wrong length or index")}return r},Nm=Array,jm=Math.abs,Um=Math.pow,Bm=Math.floor,Fm=Math.log,Hm=Math.LN2,Vm={pack:function(e,t,r){var n,i,o,a=Nm(r),s=8*r-t-1,u=(1<<s)-1,c=u>>1,l=23===t?Um(2,-24)-Um(2,-77):0,f=e<0||0===e&&1/e<0?1:0,d=0;for((e=jm(e))!=e||e===1/0?(i=e!=e?1:0,n=u):(n=Bm(Fm(e)/Hm),e*(o=Um(2,-n))<1&&(n--,o*=2),(e+=n+c>=1?l/o:l*Um(2,1-c))*o>=2&&(n++,o/=2),n+c>=u?(i=0,n=u):n+c>=1?(i=(e*o-1)*Um(2,t),n+=c):(i=e*Um(2,c-1)*Um(2,t),n=0));t>=8;){a[d++]=255&i,i/=256,t-=8}for(n=n<<t|i,s+=t;s>0;){a[d++]=255&n,n/=256,s-=8}return a[--d]|=128*f,a},unpack:function(e,t){var r,n=e.length,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;){l=256*l+e[u--],s-=8}for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;){r=256*r+e[u--],s-=8}if(0===l){l=1-a}else{if(l===o){return r?NaN:c?-1/0:1/0}r+=Um(2,t),l-=a}return(c?-1:1)*r*Um(2,l-t)}},Wm=We,zm=vn,Gm=bn,Ym=function(e){for(var t=Wm(this),r=Gm(t),n=arguments.length,i=zm(n>1?arguments[1]:void 0,r),o=n>2?arguments[2]:void 0,a=void 0===o?r:zm(o,r);a>i;){t[i++]=e}return t},Km=_t,qm=Dt,$m=O,Jm=function(e,t,r){var n=Km(t);n in e?qm.f(e,n,$m(0,r)):e[n]=r},Zm=vn,Xm=bn,Qm=Jm,ey=Array,ty=Math.max,ry=function(e,t,r){for(var n=Xm(e),i=Zm(t,n),o=Zm(void 0===r?n:r,n),a=ey(ty(o-i,0)),s=0;i<o;i++,s++){Qm(a,s,e[i])}return a.length=s,a},ny=g,iy=N,oy=_,ay=km,sy=sr,uy=er,cy=Pm,ly=y,fy=ki,dy=fn,hy=yn,py=Dm,vy=Vm,gy=ml,my=mi,yy=an.f,_y=Dt.f,by=Ym,Ey=ry,Sy=Ei,wy=sy.PROPER,Ty=sy.CONFIGURABLE,Cy=Hr.get,Ay=Hr.set,Ry="ArrayBuffer",Iy="DataView",ky="prototype",Oy="Wrong index",Py=ny[Ry],My=Py,xy=My&&My[ky],Ly=ny[Iy],Dy=Ly&&Ly[ky],Ny=Object.prototype,jy=ny.Array,Uy=ny.RangeError,By=iy(by),Fy=iy([].reverse),Hy=vy.pack,Vy=vy.unpack,Wy=function(e){return[255&e]},zy=function(e){return[255&e,e>>8&255]},Gy=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Yy=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Ky=function(e){return Hy(e,23,4)},qy=function(e){return Hy(e,52,8)},$y=function(e,t){_y(e[ky],t,{get:function(){return Cy(this)[t]}})},Jy=function(e,t,r,n){var i=py(r),o=Cy(e);if(i+t>o.byteLength){throw Uy(Oy)}var a=Cy(o.buffer).bytes,s=i+o.byteOffset,u=Ey(a,s,s+t);return n?u:Fy(u)},Zy=function(e,t,r,n,i,o){var a=py(r),s=Cy(e);if(a+t>s.byteLength){throw Uy(Oy)}for(var u=Cy(s.buffer).bytes,c=a+s.byteOffset,l=n(+i),f=0;f<t;f++){u[c+f]=l[o?f:t-f-1]}};if(ay){var Xy=wy&&Py.name!==Ry;if(ly((function(){Py(1)}))&&ly((function(){new Py(-1)}))&&!ly((function(){return new Py,new Py(1.5),new Py(NaN),Xy&&!Ty}))){Xy&&Ty&&uy(Py,"name",Ry)}else{(My=function(e){return fy(this,xy),new Py(py(e))})[ky]=xy;for(var Qy,e_=yy(Py),t_=0;e_.length>t_;){(Qy=e_[t_++])in My||uy(My,Qy,Py[Qy])}xy.constructor=My}my&&gy(Dy)!==Ny&&my(Dy,Ny);var r_=new Ly(new My(2)),n_=iy(Dy.setInt8);r_.setInt8(0,2147483648),r_.setInt8(1,2147483649),!r_.getInt8(0)&&r_.getInt8(1)||cy(Dy,{setInt8:function(e,t){n_(this,e,t<<24>>24)},setUint8:function(e,t){n_(this,e,t<<24>>24)}},{unsafe:!0})}else{My=function(e){fy(this,xy);var t=py(e);Ay(this,{bytes:By(jy(t),0),byteLength:t}),oy||(this.byteLength=t)},xy=My[ky],Ly=function(e,t,r){fy(this,Dy),fy(e,xy);var n=Cy(e).byteLength,i=dy(t);if(i<0||i>n){throw Uy("Wrong offset")}if(i+(r=void 0===r?n-i:hy(r))>n){throw Uy("Wrong length")}Ay(this,{buffer:e,byteLength:r,byteOffset:i}),oy||(this.buffer=e,this.byteLength=r,this.byteOffset=i)},Dy=Ly[ky],oy&&($y(My,"byteLength"),$y(Ly,"buffer"),$y(Ly,"byteLength"),$y(Ly,"byteOffset")),cy(Dy,{getInt8:function(e){return Jy(this,1,e)[0]<<24>>24},getUint8:function(e){return Jy(this,1,e)[0]},getInt16:function(e){var t=Jy(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Jy(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Yy(Jy(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return Yy(Jy(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return Vy(Jy(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return Vy(Jy(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Zy(this,1,e,Wy,t)},setUint8:function(e,t){Zy(this,1,e,Wy,t)},setInt16:function(e,t){Zy(this,2,e,zy,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Zy(this,2,e,zy,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Zy(this,4,e,Gy,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Zy(this,4,e,Gy,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Zy(this,4,e,Ky,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Zy(this,8,e,qy,t,arguments.length>2?arguments[2]:void 0)}})}Sy(My,Ry),Sy(Ly,Iy);var i_={ArrayBuffer:My,DataView:Ly},o_=ci,a_=N,s_=y,u_=Ft,c_=vn,l_=yn,f_=co,d_=i_.ArrayBuffer,h_=i_.DataView,p_=h_.prototype,v_=a_(d_.prototype.slice),g_=a_(p_.getUint8),m_=a_(p_.setUint8);o_({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:s_((function(){return!new d_(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(v_&&void 0===t){return v_(u_(this),e)}for(var r=u_(this).byteLength,n=c_(e,r),i=c_(void 0===t?r:t,r),o=new(f_(this,d_))(l_(i-n)),a=new h_(this),s=new h_(o),u=0;n<i;){m_(s,u++,g_(a,n++))}return o}});var y_,__,b_,E_={exports:{}},S_=km,w_=_,T_=g,C_=Z,A_=Q,R_=Ye,I_=ji,k_=Se,O_=er,P_=on,M_=Dt.f,x_=ne,L_=ml,D_=mi,N_=ut,j_=Ze,U_=Hr.enforce,B_=Hr.get,F_=T_.Int8Array,H_=F_&&F_.prototype,V_=T_.Uint8ClampedArray,W_=V_&&V_.prototype,z_=F_&&L_(F_),G_=H_&&L_(H_),Y_=Object.prototype,K_=T_.TypeError,q_=N_("toStringTag"),$_=j_("TYPED_ARRAY_TAG"),J_="TypedArrayConstructor",Z_=S_&&!!D_&&"Opera"!==I_(T_.opera),X_=!1,Q_={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},eb={BigInt64Array:8,BigUint64Array:8},tb=function(e){var t=L_(e);if(A_(t)){var r=B_(t);return r&&R_(r,J_)?r[J_]:tb(t)}},rb=function(e){if(!A_(e)){return!1}var t=I_(e);return R_(Q_,t)||R_(eb,t)};for(y_ in Q_){(b_=(__=T_[y_])&&__.prototype)?U_(b_)[J_]=__:Z_=!1}for(y_ in eb){(b_=(__=T_[y_])&&__.prototype)&&(U_(b_)[J_]=__)}if((!Z_||!C_(z_)||z_===Function.prototype)&&(z_=function(){throw K_("Incorrect invocation")},Z_)){for(y_ in Q_){T_[y_]&&D_(T_[y_],z_)}}if((!Z_||!G_||G_===Y_)&&(G_=z_.prototype,Z_)){for(y_ in Q_){T_[y_]&&D_(T_[y_].prototype,G_)}}if(Z_&&L_(W_)!==G_&&D_(W_,G_),w_&&!R_(G_,q_)){for(y_ in X_=!0,M_(G_,q_,{get:function(){return A_(this)?this[$_]:void 0}}),Q_){T_[y_]&&O_(T_[y_],$_,y_)}}var nb={NATIVE_ARRAY_BUFFER_VIEWS:Z_,TYPED_ARRAY_TAG:X_&&$_,aTypedArray:function(e){if(rb(e)){return e}throw K_("Target is not a typed array")},aTypedArrayConstructor:function(e){if(C_(e)&&(!D_||x_(z_,e))){return e}throw K_(k_(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(w_){if(r){for(var i in Q_){var o=T_[i];if(o&&R_(o.prototype,e)){try{delete o.prototype[e]}catch(r){try{o.prototype[e]=t}catch(e){}}}}}G_[e]&&!r||P_(G_,e,r?t:Z_&&H_[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(w_){if(D_){if(r){for(n in Q_){if((i=T_[n])&&R_(i,e)){try{delete i[e]}catch(e){}}}}if(z_[e]&&!r){return}try{return P_(z_,e,r?t:Z_&&z_[e]||t)}catch(e){}}for(n in Q_){!(i=T_[n])||i[e]&&!r||P_(i,e,t)}}},getTypedArrayConstructor:tb,isView:function(e){if(!A_(e)){return!1}var t=I_(e);return"DataView"===t||R_(Q_,t)||R_(eb,t)},isTypedArray:rb,TypedArray:z_,TypedArrayPrototype:G_},ib=g,ob=y,ab=Ru,sb=nb.NATIVE_ARRAY_BUFFER_VIEWS,ub=ib.ArrayBuffer,cb=ib.Int8Array,lb=!sb||!ob((function(){cb(1)}))||!ob((function(){new cb(-1)}))||!ab((function(e){new cb,new cb(null),new cb(1.5),new cb(e)}),!0)||ob((function(){return 1!==new cb(new ub(2),1,void 0).length})),fb=Q,db=Math.floor,hb=Number.isInteger||function(e){return!fb(e)&&isFinite(e)&&db(e)===e},pb=fn,vb=RangeError,gb=function(e){var t=pb(e);if(t<0){throw vb("The argument can't be less than 0")}return t},mb=RangeError,yb=function(e,t){var r=gb(e);if(r%t){throw mb("Wrong offset")}return r},_b=_o,bb=w,Eb=oo,Sb=We,wb=bn,Tb=iu,Cb=Zs,Ab=Ys,Rb=nb.aTypedArrayConstructor,Ib=ci,kb=g,Ob=w,Pb=_,Mb=lb,xb=nb,Lb=i_,Db=ki,Nb=O,jb=er,Ub=hb,Bb=yn,Fb=Dm,Hb=yb,Vb=_t,Wb=Ye,zb=ji,Gb=Q,Yb=be,Kb=Qc,qb=ne,$b=mi,Jb=an.f,Zb=function(e){var t,r,n,i,o,a,s=Eb(this),u=Sb(e),c=arguments.length,l=c>1?arguments[1]:void 0,f=void 0!==l,d=Cb(u);if(d&&!Ab(d)){for(a=(o=Tb(u,d)).next,u=[];!(i=bb(a,o)).done;){u.push(i.value)}}for(f&&c>2&&(l=_b(l,arguments[2])),r=wb(u),n=new(Rb(s))(r),t=0;r>t;t++){n[t]=f?l(u[t],t):u[t]}return n},Xb=Xd.forEach,Qb=Ai,eE=Dt,tE=m,rE=Av,nE=Hr.get,iE=Hr.set,oE=Hr.enforce,aE=eE.f,sE=tE.f,uE=Math.round,cE=kb.RangeError,lE=Lb.ArrayBuffer,fE=lE.prototype,dE=Lb.DataView,hE=xb.NATIVE_ARRAY_BUFFER_VIEWS,pE=xb.TYPED_ARRAY_TAG,vE=xb.TypedArray,gE=xb.TypedArrayPrototype,mE=xb.aTypedArrayConstructor,yE=xb.isTypedArray,_E="BYTES_PER_ELEMENT",bE="Wrong length",EE=function(e,t){mE(e);for(var r=0,n=t.length,i=new e(n);n>r;){i[r]=t[r++]}return i},SE=function(e,t){aE(e,t,{get:function(){return nE(this)[t]}})},wE=function(e){var t;return qb(fE,e)||"ArrayBuffer"==(t=zb(e))||"SharedArrayBuffer"==t},TE=function(e,t){return yE(e)&&!Yb(t)&&t in e&&Ub(+t)&&t>=0},CE=function(e,t){return t=Vb(t),TE(e,t)?Nb(2,e[t]):sE(e,t)},AE=function(e,t,r){return t=Vb(t),!(TE(e,t)&&Gb(r)&&Wb(r,"value"))||Wb(r,"get")||Wb(r,"set")||r.configurable||Wb(r,"writable")&&!r.writable||Wb(r,"enumerable")&&!r.enumerable?aE(e,t,r):(e[t]=r.value,e)};Pb?(hE||(tE.f=CE,eE.f=AE,SE(gE,"buffer"),SE(gE,"byteOffset"),SE(gE,"byteLength"),SE(gE,"length")),Ib({target:"Object",stat:!0,forced:!hE},{getOwnPropertyDescriptor:CE,defineProperty:AE}),E_.exports=function(e,t,r){var n=e.match(/\d+$/)[0]/8,i=e+(r?"Clamped":"")+"Array",o="get"+e,a="set"+e,s=kb[i],u=s,c=u&&u.prototype,l={},f=function(e,t){aE(e,t,{get:function(){return function(e,t){var r=nE(e);return r.view[o](t*n+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var o=nE(e);r&&(i=(i=uE(i))<0?0:i>255?255:255&i),o.view[a](t*n+o.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};hE?Mb&&(u=t((function(e,t,r,i){return Db(e,c),rE(Gb(t)?wE(t)?void 0!==i?new s(t,Hb(r,n),i):void 0!==r?new s(t,Hb(r,n)):new s(t):yE(t)?EE(u,t):Ob(Zb,u,t):new s(Fb(t)),e,u)})),$b&&$b(u,vE),Xb(Jb(s),(function(e){e in u||jb(u,e,s[e])})),u.prototype=c):(u=t((function(e,t,r,i){Db(e,c);var o,a,s,l=0,d=0;if(Gb(t)){if(!wE(t)){return yE(t)?EE(u,t):Ob(Zb,u,t)}o=t,d=Hb(r,n);var h=t.byteLength;if(void 0===i){if(h%n){throw cE(bE)}if((a=h-d)<0){throw cE(bE)}}else if((a=Bb(i)*n)+d>h){throw cE(bE)}s=a/n}else{s=Fb(t),o=new lE(a=s*n)}for(iE(e,{buffer:o,byteOffset:d,byteLength:a,length:s,view:new dE(o)});l<s;){f(e,l++)}})),$b&&$b(u,vE),c=u.prototype=Kb(gE)),c.constructor!==u&&jb(c,"constructor",u),oE(c).TypedArrayConstructor=u,pE&&jb(c,pE,i);var d=u!=s;l[i]=u,Ib({global:!0,constructor:!0,forced:d,sham:!hE},l),_E in u||jb(u,_E,n),_E in c||jb(c,_E,n),Qb(i)}):E_.exports=function(){},(0,E_.exports)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}));var RE=gt,IE=TypeError,kE=Ym,OE=function(e){var t=RE(e,"number");if("number"==typeof t){throw IE("Can't convert number to bigint")}return BigInt(t)},PE=ji,ME=w,xE=y,LE=nb.aTypedArray,DE=nb.exportTypedArrayMethod,NE=N("".slice);DE("fill",(function(e){var t=arguments.length;LE(this);var r="Big"===NE(PE(this),0,3)?OE(e):+e;return ME(kE,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),xE((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})));var jE=g,UE=w,BE=nb,FE=bn,HE=yb,VE=We,WE=y,zE=jE.RangeError,GE=jE.Int8Array,YE=GE&&GE.prototype,KE=YE&&YE.set,qE=BE.aTypedArray,$E=BE.exportTypedArrayMethod,JE=!WE((function(){var e=new Uint8ClampedArray(2);return UE(KE,e,{length:1,0:3},1),3!==e[1]})),ZE=JE&&BE.NATIVE_ARRAY_BUFFER_VIEWS&&WE((function(){var e=new GE(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));$E("set",(function(e){qE(this);var t=HE(arguments.length>1?arguments[1]:void 0,1),r=VE(e);if(JE){return UE(KE,this,r,t)}var n=this.length,i=FE(r),o=0;if(i+t>n){throw zE("Wrong length")}for(;o<i;){this[t+o]=r[o++]}}),!JE||ZE);var XE=ry,QE=Math.floor,eS=function(e,t){var r=e.length,n=QE(r/2);return r<8?tS(e,t):rS(e,eS(XE(e,0,n),t),eS(XE(e,n),t),t)},tS=function(e,t){for(var r,n,i=e.length,o=1;o<i;){for(n=o,r=e[o];n&&t(e[n-1],r)>0;){e[n]=e[--n]}n!==o++&&(e[n]=r)}return e},rS=function(e,t,r,n){for(var i=t.length,o=r.length,a=0,s=0;a<i||s<o;){e[a+s]=a<i&&s<o?n(t[a],r[s])<=0?t[a++]:r[s++]:a<i?t[a++]:r[s++]}return e},nS=eS,iS=ie.match(/firefox\/(\d+)/i),oS=!!iS&&+iS[1],aS=/MSIE|Trident/.test(ie),sS=ie.match(/AppleWebKit\/(\d+)\./),uS=!!sS&&+sS[1],cS=N,lS=y,fS=Ae,dS=nS,hS=oS,pS=aS,vS=fe,gS=uS,mS=nb.aTypedArray,yS=nb.exportTypedArrayMethod,_S=g.Uint16Array,bS=_S&&cS(_S.prototype.sort),ES=!(!bS||lS((function(){bS(new _S(2),null)}))&&lS((function(){bS(new _S(2),{})}))),SS=!!bS&&!lS((function(){if(vS){return vS<74}if(hS){return hS<67}if(pS){return!0}if(gS){return gS<602}var e,t,r=new _S(516),n=Array(516);for(e=0;e<516;e++){t=e%4,r[e]=515-e,n[e]=e-2*t+3}for(bS(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++){if(r[e]!==n[e]){return!0}}}));yS("sort",(function(e){return void 0!==e&&fS(e),SS?bS(this,e):dS(mS(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!SS||ES);var wS,TS={exports:{}},CS={exports:{}},AS=l(Object.freeze({__proto__:null,default:{}}));function RS(){return wS||(wS=1,function(e){var t;e.exports=(t=t||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==c&&c.crypto&&(r=c.crypto),!r){try{r=AS}catch(e){}}var n=function(){if(r){if("function"==typeof r.getRandomValues){try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}}if("function"==typeof r.randomBytes){try{return r.randomBytes(4).readInt32LE()}catch(e){}}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),o={},a=o.lib={},s=a.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e){e.hasOwnProperty(t)&&(this[t]=e[t])}e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=a.WordArray=s.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4){for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}}else{for(var s=0;s<i;s+=4){t[n+s>>>2]=r[s>>>2]}}return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4){t.push(n())}return new u.init(t,e)}}),l=o.enc={},f=l.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2){r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4}return new u.init(r,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++){r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8}return new u.init(r,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var f=0;f<c;f+=a){this._doProcessBlock(i,f)}r=i.splice(0,c),n.sigBytes-=l}return new u.init(r,l)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=p.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new v.HMAC.init(e,r).finalize(t)}}});var v=o.algo={};return o}(Math),t)}(CS)),CS.exports}var IS,kS={exports:{}};function OS(){return IS||(IS=1,function(e){var t;e.exports=(t=RS(),function(e){var r=t,n=r.lib,i=n.Base,o=n.WordArray,a=r.x64={};a.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=i.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:8*t.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var i=e[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++){t[n]=t[n].clone()}return e}})}(),t)}(kS)),kS.exports}var PS,MS={exports:{}};function xS(){return PS||(PS=1,function(e){var t;e.exports=(t=RS(),function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,r=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++){n[i>>>2]|=e[i]<<24-i%4*8}r.call(this,n,t)}else{r.apply(this,arguments)}};n.prototype=e}}(),t.lib.WordArray)}(MS)),MS.exports}var LS,DS={exports:{}};function NS(){return LS||(LS=1,function(e){var t;e.exports=(t=RS(),function(){var e=t,r=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++){n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16}return r.create(n,2*t)}},n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o+=2){var a=i(t[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++){n[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16)}return r.create(n,2*t)}}}(),t.enc.Utf16)}(DS)),DS.exports}var jS,US={exports:{}};function BS(){return jS||(jS=1,function(e){var t;e.exports=(t=RS(),function(){var e=t,r=e.lib.WordArray;function n(e,t,n){for(var i=[],o=0,a=0;a<t;a++){if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}}return r.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3){for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++){i.push(n.charAt(a>>>6*(3-s)&63))}}var u=n.charAt(64);if(u){for(;i.length%4;){i.push(u)}}return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++){i[r.charCodeAt(o)]=o}}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64)}(US)),US.exports}var FS,HS={exports:{}};function VS(){return FS||(FS=1,function(e){var t;e.exports=(t=RS(),function(){var e=t,r=e.lib.WordArray;function n(e,t,n){for(var i=[],o=0,a=0;a<t;a++){if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}}return r.create(i,o)}e.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var r=e.words,n=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],a=0;a<n;a+=3){for(var s=(r[a>>>2]>>>24-a%4*8&255)<<16|(r[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|r[a+2>>>2]>>>24-(a+2)%4*8&255,u=0;u<4&&a+.75*u<n;u++){o.push(i.charAt(s>>>6*(3-u)&63))}}var c=i.charAt(64);if(c){for(;o.length%4;){o.push(c)}}return o.join("")},parse:function(e,t){void 0===t&&(t=!0);var r=e.length,i=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++){o[i.charCodeAt(a)]=a}}var s=i.charAt(64);if(s){var u=e.indexOf(s);-1!==u&&(r=u)}return n(e,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),t.enc.Base64url)}(HS)),HS.exports}var WS,zS={exports:{}};function GS(){return WS||(WS=1,function(e){var t;e.exports=(t=RS(),function(e){var r=t,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,s=[];!function(){for(var t=0;t<64;t++){s[t]=4294967296*e.abs(e.sin(t+1))|0}}();var u=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],u=e[t+1],h=e[t+2],p=e[t+3],v=e[t+4],g=e[t+5],m=e[t+6],y=e[t+7],_=e[t+8],b=e[t+9],E=e[t+10],S=e[t+11],w=e[t+12],T=e[t+13],C=e[t+14],A=e[t+15],R=o[0],I=o[1],k=o[2],O=o[3];R=c(R,I,k,O,a,7,s[0]),O=c(O,R,I,k,u,12,s[1]),k=c(k,O,R,I,h,17,s[2]),I=c(I,k,O,R,p,22,s[3]),R=c(R,I,k,O,v,7,s[4]),O=c(O,R,I,k,g,12,s[5]),k=c(k,O,R,I,m,17,s[6]),I=c(I,k,O,R,y,22,s[7]),R=c(R,I,k,O,_,7,s[8]),O=c(O,R,I,k,b,12,s[9]),k=c(k,O,R,I,E,17,s[10]),I=c(I,k,O,R,S,22,s[11]),R=c(R,I,k,O,w,7,s[12]),O=c(O,R,I,k,T,12,s[13]),k=c(k,O,R,I,C,17,s[14]),R=l(R,I=c(I,k,O,R,A,22,s[15]),k,O,u,5,s[16]),O=l(O,R,I,k,m,9,s[17]),k=l(k,O,R,I,S,14,s[18]),I=l(I,k,O,R,a,20,s[19]),R=l(R,I,k,O,g,5,s[20]),O=l(O,R,I,k,E,9,s[21]),k=l(k,O,R,I,A,14,s[22]),I=l(I,k,O,R,v,20,s[23]),R=l(R,I,k,O,b,5,s[24]),O=l(O,R,I,k,C,9,s[25]),k=l(k,O,R,I,p,14,s[26]),I=l(I,k,O,R,_,20,s[27]),R=l(R,I,k,O,T,5,s[28]),O=l(O,R,I,k,h,9,s[29]),k=l(k,O,R,I,y,14,s[30]),R=f(R,I=l(I,k,O,R,w,20,s[31]),k,O,g,4,s[32]),O=f(O,R,I,k,_,11,s[33]),k=f(k,O,R,I,S,16,s[34]),I=f(I,k,O,R,C,23,s[35]),R=f(R,I,k,O,u,4,s[36]),O=f(O,R,I,k,v,11,s[37]),k=f(k,O,R,I,y,16,s[38]),I=f(I,k,O,R,E,23,s[39]),R=f(R,I,k,O,T,4,s[40]),O=f(O,R,I,k,a,11,s[41]),k=f(k,O,R,I,p,16,s[42]),I=f(I,k,O,R,m,23,s[43]),R=f(R,I,k,O,b,4,s[44]),O=f(O,R,I,k,w,11,s[45]),k=f(k,O,R,I,A,16,s[46]),R=d(R,I=f(I,k,O,R,h,23,s[47]),k,O,a,6,s[48]),O=d(O,R,I,k,y,10,s[49]),k=d(k,O,R,I,C,15,s[50]),I=d(I,k,O,R,g,21,s[51]),R=d(R,I,k,O,w,6,s[52]),O=d(O,R,I,k,p,10,s[53]),k=d(k,O,R,I,E,15,s[54]),I=d(I,k,O,R,u,21,s[55]),R=d(R,I,k,O,_,6,s[56]),O=d(O,R,I,k,A,10,s[57]),k=d(k,O,R,I,m,15,s[58]),I=d(I,k,O,R,T,21,s[59]),R=d(R,I,k,O,v,6,s[60]),O=d(O,R,I,k,S,10,s[61]),k=d(k,O,R,I,h,15,s[62]),I=d(I,k,O,R,b,21,s[63]),o[0]=o[0]+R|0,o[1]=o[1]+I|0,o[2]=o[2]+k|0,o[3]=o[3]+O|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var o=e.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,n,i,o,a){var s=e+(t&r|~t&n)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,r,n,i,o,a){var s=e+(t&n|r&~n)+i+a;return(s<<o|s>>>32-o)+t}function f(e,t,r,n,i,o,a){var s=e+(t^r^n)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,r,n,i,o,a){var s=e+(r^(t|~n))+i+a;return(s<<o|s>>>32-o)+t}r.MD5=o._createHelper(u),r.HmacMD5=o._createHmacHelper(u)}(Math),t.MD5)}(zS)),zS.exports}var YS,KS={exports:{}};function qS(){return YS||(YS=1,function(e){var t;e.exports=(t=RS(),function(){var e=t,r=e.lib,n=r.WordArray,i=r.Hasher,o=e.algo,a=[],s=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],u=r[4],c=0;c<80;c++){if(c<16){a[c]=0|e[t+c]}else{var l=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=l<<1|l>>>31}var f=(n<<5|n>>>27)+u+a[c];f+=c<20?1518500249+(i&o|~i&s):c<40?1859775393+(i^o^s):c<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,u=s,s=o,o=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s)}(),t.SHA1)}(KS)),KS.exports}var $S,JS={exports:{}};function ZS(){return $S||($S=1,function(e){var t;e.exports=(t=RS(),function(e){var r=t,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,s=[],u=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++){if(!(t%n)){return!1}}return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;){t(n)&&(i<8&&(s[i]=r(e.pow(n,.5))),u[i]=r(e.pow(n,1/3)),i++),n++}}();var c=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],f=r[6],d=r[7],h=0;h<64;h++){if(h<16){c[h]=0|e[t+h]}else{var p=c[h-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=c[h-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[h]=v+c[h-7]+m+c[h-16]}var y=n&i^n&o^i&o,_=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+u[h]+c[h];d=f,f=l,l=s,s=a+b|0,a=o,o=i,i=n,n=b+(_+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+l|0,r[6]=r[6]+f|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=o._createHelper(l),r.HmacSHA256=o._createHmacHelper(l)}(Math),t.SHA256)}(JS)),JS.exports}var XS,QS={exports:{}};var ew,tw={exports:{}};function rw(){return ew||(ew=1,function(e){var t;e.exports=(t=RS(),OS(),function(){var e=t,r=e.lib.Hasher,n=e.x64,i=n.Word,o=n.WordArray,a=e.algo;function s(){return i.create.apply(i,arguments)}var u=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++){c[e]=s()}}();var l=a.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],f=r[6],d=r[7],h=n.high,p=n.low,v=i.high,g=i.low,m=o.high,y=o.low,_=a.high,b=a.low,E=s.high,S=s.low,w=l.high,T=l.low,C=f.high,A=f.low,R=d.high,I=d.low,k=h,O=p,P=v,M=g,x=m,L=y,D=_,N=b,j=E,U=S,B=w,F=T,H=C,V=A,W=R,z=I,G=0;G<80;G++){var Y,K,q=c[G];if(G<16){K=q.high=0|e[t+2*G],Y=q.low=0|e[t+2*G+1]}else{var $=c[G-15],J=$.high,Z=$.low,X=(J>>>1|Z<<31)^(J>>>8|Z<<24)^J>>>7,Q=(Z>>>1|J<<31)^(Z>>>8|J<<24)^(Z>>>7|J<<25),ee=c[G-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),oe=c[G-7],ae=oe.high,se=oe.low,ue=c[G-16],ce=ue.high,le=ue.low;K=(K=(K=X+ae+((Y=Q+se)>>>0<Q>>>0?1:0))+ne+((Y+=ie)>>>0<ie>>>0?1:0))+ce+((Y+=le)>>>0<le>>>0?1:0),q.high=K,q.low=Y}var fe,de=j&B^~j&H,he=U&F^~U&V,pe=k&P^k&x^P&x,ve=O&M^O&L^M&L,ge=(k>>>28|O<<4)^(k<<30|O>>>2)^(k<<25|O>>>7),me=(O>>>28|k<<4)^(O<<30|k>>>2)^(O<<25|k>>>7),ye=(j>>>14|U<<18)^(j>>>18|U<<14)^(j<<23|U>>>9),_e=(U>>>14|j<<18)^(U>>>18|j<<14)^(U<<23|j>>>9),be=u[G],Ee=be.high,Se=be.low,we=W+ye+((fe=z+_e)>>>0<z>>>0?1:0),Te=me+ve;W=H,z=V,H=B,V=F,B=j,F=U,j=D+(we=(we=(we=we+de+((fe+=he)>>>0<he>>>0?1:0))+Ee+((fe+=Se)>>>0<Se>>>0?1:0))+K+((fe+=Y)>>>0<Y>>>0?1:0))+((U=N+fe|0)>>>0<N>>>0?1:0)|0,D=x,N=L,x=P,L=M,P=k,M=O,k=we+(ge+pe+(Te>>>0<me>>>0?1:0))+((O=fe+Te|0)>>>0<fe>>>0?1:0)|0}p=n.low=p+O,n.high=h+k+(p>>>0<O>>>0?1:0),g=i.low=g+M,i.high=v+P+(g>>>0<M>>>0?1:0),y=o.low=y+L,o.high=m+x+(y>>>0<L>>>0?1:0),b=a.low=b+N,a.high=_+D+(b>>>0<N>>>0?1:0),S=s.low=S+U,s.high=E+j+(S>>>0<U>>>0?1:0),T=l.low=T+F,l.high=w+B+(T>>>0<F>>>0?1:0),A=f.low=A+V,f.high=C+H+(A>>>0<V>>>0?1:0),I=d.low=I+z,d.high=R+W+(I>>>0<z>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=r._createHelper(l),e.HmacSHA512=r._createHmacHelper(l)}(),t.SHA512)}(tw)),tw.exports}var nw,iw={exports:{}};var ow,aw={exports:{}};function sw(){return ow||(ow=1,function(e){var t;e.exports=(t=RS(),OS(),function(e){var r=t,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.x64.Word,s=r.algo,u=[],c=[],l=[];!function(){for(var e=1,t=0,r=0;r<24;r++){u[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++){for(t=0;t<5;t++){c[e+5*t]=t+(2*e+3*t)%5*5}}for(var i=1,o=0;o<24;o++){for(var s=0,f=0,d=0;d<7;d++){if(1&i){var h=(1<<d)-1;h<32?f^=1<<h:s^=1<<h-32}128&i?i=i<<1^113:i<<=1}l[o]=a.create(s,f)}}();var f=[];!function(){for(var e=0;e<25;e++){f[e]=a.create()}}();var d=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++){e[t]=new a.init}this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(I=r[i]).high^=a,I.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var h=0,p=0,v=0;v<5;v++){h^=(I=r[d+5*v]).high,p^=I.low}var g=f[d];g.high=h,g.low=p}for(d=0;d<5;d++){var m=f[(d+4)%5],y=f[(d+1)%5],_=y.high,b=y.low;for(h=m.high^(_<<1|b>>>31),p=m.low^(b<<1|_>>>31),v=0;v<5;v++){(I=r[d+5*v]).high^=h,I.low^=p}}for(var E=1;E<25;E++){var S=(I=r[E]).high,w=I.low,T=u[E];T<32?(h=S<<T|w>>>32-T,p=w<<T|S>>>32-T):(h=w<<T-32|S>>>64-T,p=S<<T-32|w>>>64-T);var C=f[c[E]];C.high=h,C.low=p}var A=f[0],R=r[0];for(A.high=R.high,A.low=R.low,d=0;d<5;d++){for(v=0;v<5;v++){var I=r[E=d+5*v],k=f[E],O=f[(d+1)%5+5*v],P=f[(d+2)%5+5*v];I.high=k.high^~O.high&P.high,I.low=k.low^~O.low&P.low}}I=r[0];var M=l[s];I.high^=M.high,I.low^=M.low}},_doFinalize:function(){var t=this._data,r=t.words;this._nDataBytes;var n=8*t.sigBytes,o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(e.ceil((n+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,u=s/8,c=[],l=0;l<u;l++){var f=a[l],d=f.high,h=f.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),c.push(h),c.push(d)}return new i.init(c,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++){t[r]=t[r].clone()}return e}});r.SHA3=o._createHelper(d),r.HmacSHA3=o._createHmacHelper(d)}(Math),t.SHA3)}(aw)),aw.exports}var uw,cw={exports:{}};var lw,fw={exports:{}};function dw(){return lw||(lw=1,function(e){var t;e.exports=(t=RS(),void function(){var e=t,r=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,u=a.words,c=0;c<r;c++){s[c]^=1549556828,u[c]^=909522486}o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}())}(fw)),fw.exports}var hw,pw={exports:{}};var vw,gw={exports:{}};function mw(){return vw||(vw=1,function(e){var t;e.exports=(t=RS(),qS(),dw(),function(){var e=t,r=e.lib,n=r.Base,i=r.WordArray,o=e.algo,a=o.MD5,s=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,o=n.hasher.create(),a=i.create(),s=a.words,u=n.keySize,c=n.iterations;s.length<u;){r&&o.update(r),r=o.update(e).finalize(t),o.reset();for(var l=1;l<c;l++){r=o.finalize(r),o.reset()}a.concat(r)}return a.sigBytes=4*u,a}});e.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)}}(),t.EvpKDF)}(gw)),gw.exports}var yw,_w={exports:{}};function bw(){return yw||(yw=1,function(e){var t;e.exports=(t=RS(),mw(),void(t.lib.Cipher||function(e){var r=t,n=r.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,s=r.enc;s.Utf8;var u=s.Base64,c=r.algo.EvpKDF,l=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:m}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()});n.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=r.mode={},d=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){var t=d.extend();function r(t,r,n){var i,o=this._iv;o?(i=o,this._iv=e):i=this._prevBlock;for(var a=0;a<n;a++){t[r+a]^=i[a]}}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);n.decryptBlock(e,t),r.call(this,e,t,i),this._prevBlock=o}}),t}(),p=(r.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4){a.push(i)}var u=o.create(a,n);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};n.BlockCipher=l.extend({cfg:l.cfg.extend({mode:h,padding:p}),reset:function(){var e;l.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var v=n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?o.create([1398893684,1701076831]).concat(r).concat(t):t).toString(u)},parse:function(e){var t,r=u.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=o.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),v.create({ciphertext:r,salt:t})}},m=n.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),a=i.cfg;return v.create({ciphertext:o,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(r.kdf={}).OpenSSL={execute:function(e,t,r,n,i){if(n||(n=o.random(8)),i){a=c.create({keySize:t+r,hasher:i}).compute(e,n)}else{var a=c.create({keySize:t+r}).compute(e,n)}var s=o.create(a.words.slice(t),4*r);return a.sigBytes=4*t,v.create({key:a,iv:s,salt:n})}},_=n.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize,n.salt,n.hasher);n.iv=i.iv;var o=m.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt,n.hasher);return n.iv=i.iv,m.decrypt.call(this,e,t,i.key,n)}})}()))}(_w)),_w.exports}var Ew,Sw={exports:{}};function ww(){return Ew||(Ew=1,function(e){var t;e.exports=(t=RS(),bw(),t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();function r(e,t,r,n){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var a=0;a<r;a++){e[t+a]^=i[a]}}return e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i,n),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);r.call(this,e,t,i,n),this._prevBlock=o}}),e}(),t.mode.CFB)}(Sw)),Sw.exports}var Tw,Cw={exports:{}};function Aw(){return Tw||(Tw=1,function(e){var t,r,n;e.exports=(n=RS(),bw(),n.mode.CTR=(t=n.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);r.encryptBlock(a,0),o[n-1]=o[n-1]+1|0;for(var s=0;s<n;s++){e[t+s]^=a[s]}}}),t.Decryptor=r,t),n.mode.CTR)}(Cw)),Cw.exports}var Rw,Iw={exports:{}};function kw(){return Rw||(Rw=1,function(e){var t;e.exports=(t=RS(),bw(),t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function r(e){if(255&~(e>>24)){e+=1<<24}else{var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}return e}function n(e){return 0===(e[0]=r(e[0]))&&(e[1]=r(e[1])),e}var i=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),n(a);var s=a.slice(0);r.encryptBlock(s,0);for(var u=0;u<i;u++){e[t+u]^=s[u]}}});return e.Decryptor=i,e}(),t.mode.CTRGladman)}(Iw)),Iw.exports}var Ow,Pw={exports:{}};function Mw(){return Ow||(Ow=1,function(e){var t,r,n;e.exports=(n=RS(),bw(),n.mode.OFB=(t=n.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var a=0;a<n;a++){e[t+a]^=o[a]}}}),t.Decryptor=r,t),n.mode.OFB)}(Pw)),Pw.exports}var xw,Lw={exports:{}};var Dw,Nw={exports:{}};var jw,Uw={exports:{}};var Bw,Fw={exports:{}};var Hw,Vw={exports:{}};var Ww,zw={exports:{}};var Gw,Yw={exports:{}};var Kw,qw={exports:{}};var $w,Jw={exports:{}};function Zw(){return $w||($w=1,function(e){var t;e.exports=(t=RS(),BS(),GS(),mw(),bw(),function(){var e=t,r=e.lib,n=r.WordArray,i=r.BlockCipher,o=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=a[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var c=i[o]=[],l=u[o];for(r=0;r<24;r++){c[r/6|0]|=t[(s[r]-1+l)%28]<<31-r%6,c[4+(r/6|0)]|=t[28+(s[r+24]-1+l)%28]<<31-r%6}for(c[0]=c[0]<<1|c[0]>>>31,r=1;r<7;r++){c[r]=c[r]>>>4*(r-1)+3}c[7]=c[7]<<5|c[7]>>>27}var f=this._invSubKeys=[];for(r=0;r<16;r++){f[r]=i[15-r]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,a=this._rBlock,s=0,u=0;u<8;u++){s|=c[u][((a^i[u])&l[u])>>>0]}this._lBlock=a,this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,d.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function h(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=i._createHelper(f);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6){throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.")}var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=f.createEncryptor(n.create(t)),this._des2=f.createEncryptor(n.create(r)),this._des3=f.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(p)}(),t.TripleDES)}(Jw)),Jw.exports}var Xw,Qw={exports:{}};var eT,tT={exports:{}};var rT,nT={exports:{}};var iT,oT={exports:{}};function aT(){return iT||(iT=1,function(e){var t;e.exports=(t=RS(),BS(),GS(),mw(),bw(),function(){var e=t,r=e.lib.BlockCipher,n=e.algo;const i=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var s={pbox:[],sbox:[]};function u(e,t){let r=t>>24&255,n=t>>16&255,i=t>>8&255,o=255&t,a=e.sbox[0][r]+e.sbox[1][n];return a^=e.sbox[2][i],a+=e.sbox[3][o],a}function c(e,t,r){let n,o=t,a=r;for(let t=0;t<i;++t){o^=e.pbox[t],a=u(e,o)^a,n=o,o=a,a=n}return n=o,o=a,a=n,a^=e.pbox[i],o^=e.pbox[i+1],{left:o,right:a}}function l(e,t,r){let n,o=t,a=r;for(let t=i+1;t>1;--t){o^=e.pbox[t],a=u(e,o)^a,n=o,o=a,a=n}return n=o,o=a,a=n,a^=e.pbox[1],o^=e.pbox[0],{left:o,right:a}}function f(e,t,r){for(let t=0;t<4;t++){e.sbox[t]=[];for(let r=0;r<256;r++){e.sbox[t][r]=a[t][r]}}let n=0;for(let a=0;a<i+2;a++){e.pbox[a]=o[a]^t[n],n++,n>=r&&(n=0)}let s=0,u=0,l=0;for(let t=0;t<i+2;t+=2){l=c(e,s,u),s=l.left,u=l.right,e.pbox[t]=s,e.pbox[t+1]=u}for(let t=0;t<4;t++){for(let r=0;r<256;r+=2){l=c(e,s,u),s=l.left,u=l.right,e.sbox[t][r]=s,e.sbox[t][r+1]=u}}return!0}var d=n.Blowfish=r.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4;f(s,t,r)}},encryptBlock:function(e,t){var r=c(s,e[t],e[t+1]);e[t]=r.left,e[t+1]=r.right},decryptBlock:function(e,t){var r=l(s,e[t],e[t+1]);e[t]=r.left,e[t+1]=r.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=r._createHelper(d)}(),t.Blowfish)}(oT)),oT.exports}!function(e){var t;e.exports=(t=RS(),OS(),xS(),NS(),BS(),VS(),GS(),qS(),ZS(),XS||(XS=1,function(e){var t;e.exports=(t=RS(),ZS(),function(){var e=t,r=e.lib.WordArray,n=e.algo,i=n.SHA256,o=n.SHA224=i.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=i._createHelper(o),e.HmacSHA224=i._createHmacHelper(o)}(),t.SHA224)}(QS)),rw(),nw||(nw=1,function(e){var t;e.exports=(t=RS(),OS(),rw(),function(){var e=t,r=e.x64,n=r.Word,i=r.WordArray,o=e.algo,a=o.SHA512,s=o.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=a._createHelper(s),e.HmacSHA384=a._createHmacHelper(s)}(),t.SHA384)}(iw)),sw(),uw||(uw=1,function(e){var t;e.exports=(t=RS(),function(){var e=t,r=e.lib,n=r.WordArray,i=r.Hasher,o=e.algo,a=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=n.create([0,1518500249,1859775393,2400959708,2840853838]),f=n.create([1352829926,1548603684,1836072691,2053994217,0]),d=o.RIPEMD160=i.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,d,_,b,E,S,w,T,C,A,R,I=this._hash.words,k=l.words,O=f.words,P=a.words,M=s.words,x=u.words,L=c.words;for(S=o=I[0],w=d=I[1],T=_=I[2],C=b=I[3],A=E=I[4],r=0;r<80;r+=1){R=o+e[t+P[r]]|0,R+=r<16?h(d,_,b)+k[0]:r<32?p(d,_,b)+k[1]:r<48?v(d,_,b)+k[2]:r<64?g(d,_,b)+k[3]:m(d,_,b)+k[4],R=(R=y(R|=0,x[r]))+E|0,o=E,E=b,b=y(_,10),_=d,d=R,R=S+e[t+M[r]]|0,R+=r<16?m(w,T,C)+O[0]:r<32?g(w,T,C)+O[1]:r<48?v(w,T,C)+O[2]:r<64?p(w,T,C)+O[3]:h(w,T,C)+O[4],R=(R=y(R|=0,L[r]))+A|0,S=A,A=C,C=y(T,10),T=w,w=R}R=I[1]+_+C|0,I[1]=I[2]+b+A|0,I[2]=I[3]+E+S|0,I[3]=I[4]+o+w|0,I[4]=I[0]+d+T|0,I[0]=R},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,r){return e^t^r}function p(e,t,r){return e&t|~e&r}function v(e,t,r){return(e|~t)^r}function g(e,t,r){return e&r|t&~r}function m(e,t,r){return e^(t|~r)}function y(e,t){return e<<t|e>>>32-t}e.RIPEMD160=i._createHelper(d),e.HmacRIPEMD160=i._createHmacHelper(d)}(),t.RIPEMD160)}(cw)),dw(),hw||(hw=1,function(e){var t;e.exports=(t=RS(),ZS(),dw(),function(){var e=t,r=e.lib,n=r.Base,i=r.WordArray,o=e.algo,a=o.SHA256,s=o.HMAC,u=o.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=s.create(r.hasher,e),o=i.create(),a=i.create([1]),u=o.words,c=a.words,l=r.keySize,f=r.iterations;u.length<l;){var d=n.update(t).finalize(a);n.reset();for(var h=d.words,p=h.length,v=d,g=1;g<f;g++){v=n.finalize(v),n.reset();for(var m=v.words,y=0;y<p;y++){h[y]^=m[y]}}o.concat(d),c[0]++}return o.sigBytes=4*l,o}});e.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)}}(),t.PBKDF2)}(pw)),mw(),bw(),ww(),Aw(),kw(),Mw(),xw||(xw=1,function(e){var t,r;e.exports=(r=RS(),bw(),r.mode.ECB=((t=r.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),r.mode.ECB)}(Lw)),Dw||(Dw=1,function(e){var t;e.exports=(t=RS(),bw(),t.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,o=r+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},t.pad.Ansix923)}(Nw)),jw||(jw=1,function(e){var t;e.exports=(t=RS(),bw(),t.pad.Iso10126={pad:function(e,r){var n=4*r,i=n-e.sigBytes%n;e.concat(t.lib.WordArray.random(i-1)).concat(t.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},t.pad.Iso10126)}(Uw)),Bw||(Bw=1,function(e){var t;e.exports=(t=RS(),bw(),t.pad.Iso97971={pad:function(e,r){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,r)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971)}(Fw)),Hw||(Hw=1,function(e){var t;e.exports=(t=RS(),bw(),t.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words,r=e.sigBytes-1;for(r=e.sigBytes-1;r>=0;r--){if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}}},t.pad.ZeroPadding)}(Vw)),Ww||(Ww=1,function(e){var t;e.exports=(t=RS(),bw(),t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding)}(zw)),Gw||(Gw=1,function(e){var t;e.exports=(t=RS(),bw(),function(){var e=t,r=e.lib.CipherParams,n=e.enc.Hex;e.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var t=n.parse(e);return r.create({ciphertext:t})}}}(),t.format.Hex)}(Yw)),Kw||(Kw=1,function(e){var t;e.exports=(t=RS(),BS(),GS(),mw(),bw(),function(){var e=t,r=e.lib.BlockCipher,n=e.algo,i=[],o=[],a=[],s=[],u=[],c=[],l=[],f=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++){e[t]=t<128?t<<1:t<<1^283}var r=0,n=0;for(t=0;t<256;t++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,i[r]=p,o[p]=r;var v=e[r],g=e[v],m=e[g],y=257*e[p]^16843008*p;a[r]=y<<24|y>>>8,s[r]=y<<16|y>>>16,u[r]=y<<8|y>>>24,c[r]=y,y=16843009*m^65537*g^257*v^16843008*r,l[p]=y<<24|y>>>8,f[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,h[p]=y,r?(r=v^e[e[e[m^v]]],n^=e[e[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<n;a++){a<r?o[a]=t[a]:(c=o[a-1],a%r?r>6&&a%r==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=p[a/r|0]<<24),o[a]=o[a-r]^c)}for(var s=this._invKeySchedule=[],u=0;u<n;u++){if(a=n-u,u%4){var c=o[a]}else{c=o[a-4]}s[u]=u<4||a<=4?c:l[i[c>>>24]]^f[i[c>>>16&255]]^d[i[c>>>8&255]]^h[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,u,c,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,f,d,h,o),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,a,s){for(var u=this._nRounds,c=e[t]^r[0],l=e[t+1]^r[1],f=e[t+2]^r[2],d=e[t+3]^r[3],h=4,p=1;p<u;p++){var v=n[c>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[255&d]^r[h++],g=n[l>>>24]^i[f>>>16&255]^o[d>>>8&255]^a[255&c]^r[h++],m=n[f>>>24]^i[d>>>16&255]^o[c>>>8&255]^a[255&l]^r[h++],y=n[d>>>24]^i[c>>>16&255]^o[l>>>8&255]^a[255&f]^r[h++];c=v,l=g,f=m,d=y}v=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^r[h++],g=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^r[h++],m=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^r[h++],y=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^r[h++],e[t]=v,e[t+1]=g,e[t+2]=m,e[t+3]=y},keySize:8});e.AES=r._createHelper(v)}(),t.AES)}(qw)),Zw(),Xw||(Xw=1,function(e){var t;e.exports=(t=RS(),BS(),GS(),mw(),bw(),function(){var e=t,r=e.lib.StreamCipher,n=e.algo,i=n.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++){n[i]=i}i=0;for(var o=0;i<256;i++){var a=i%r,s=t[a>>>2]>>>24-a%4*8&255;o=(o+n[i]+s)%256;var u=n[i];n[i]=n[o],n[o]=u}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[r],e[r]=o,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}e.RC4=r._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--){o.call(this)}}});e.RC4Drop=r._createHelper(a)}(),t.RC4)}(Qw)),eT||(eT=1,function(e){var t;e.exports=(t=RS(),BS(),GS(),mw(),bw(),function(){var e=t,r=e.lib.StreamCipher,n=e.algo,i=[],o=[],a=[],s=n.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++){e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8)}var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++){u.call(this)}for(r=0;r<8;r++){i[r]^=n[r+4&7]}if(t){var o=t.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=c>>>16|4294901760&l,d=l<<16|65535&c;for(i[0]^=c,i[1]^=f,i[2]^=l,i[3]^=d,i[4]^=c,i[5]^=f,i[6]^=l,i[7]^=d,r=0;r<4;r++){u.call(this)}}},_doProcessBlock:function(e,t){var r=this._X;u.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++){i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]}},blockSize:4,ivSize:2});function u(){for(var e=this._X,t=this._C,r=0;r<8;r++){o[r]=t[r]}for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,s=n>>>16,u=((i*i>>>17)+i*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=u^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=r._createHelper(s)}(),t.Rabbit)}(tT)),rT||(rT=1,function(e){var t;e.exports=(t=RS(),BS(),GS(),mw(),bw(),function(){var e=t,r=e.lib.StreamCipher,n=e.algo,i=[],o=[],a=[],s=n.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++){u.call(this)}for(i=0;i<8;i++){n[i]^=r[i+4&7]}if(t){var o=t.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=c>>>16|4294901760&l,d=l<<16|65535&c;for(n[0]^=c,n[1]^=f,n[2]^=l,n[3]^=d,n[4]^=c,n[5]^=f,n[6]^=l,n[7]^=d,i=0;i<4;i++){u.call(this)}}},_doProcessBlock:function(e,t){var r=this._X;u.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++){i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]}},blockSize:4,ivSize:2});function u(){for(var e=this._X,t=this._C,r=0;r<8;r++){o[r]=t[r]}for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,s=n>>>16,u=((i*i>>>17)+i*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=u^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=r._createHelper(s)}(),t.RabbitLegacy)}(nT)),aT(),t)}(TS);let sT=!0,uT=!0;function cT(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function lT(e,t,r){if(!e.RTCPeerConnection){return}const n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(e,n){if(e!==t){return i.apply(this,arguments)}const o=e=>{const t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,o),i.apply(this,[e,o])};const o=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t]){return o.apply(this,arguments)}if(!this._eventMap[t].has(r)){return o.apply(this,arguments)}const n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function fT(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(sT=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function dT(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(uT=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function hT(){if("object"==typeof window){if(sT){return}"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function pT(e,t){uT&&console.warn(e+" is deprecated, please use "+t+" instead.")}function vT(e){return"[object Object]"===Object.prototype.toString.call(e)}function gT(e){return vT(e)?Object.keys(e).reduce((function(t,r){const n=vT(e[r]),i=n?gT(e[r]):e[r],o=n&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[r]:i})}),{}):e}function mT(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((n=>{n.endsWith("Id")?mT(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((t=>{mT(e,e.get(t),r)}))})))}function yT(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t){return i}const o=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((r=>{r.type===n&&r.trackId===t.id&&mT(e,r,i)}))})),i}const _T=hT;function bT(e,t){const r=e&&e.navigator;if(!r.mediaDevices){return}const n=function(e){if("object"!=typeof e||e.mandatory||e.optional){return e}const t={};return Object.keys(e).forEach((r=>{if("require"===r||"advanced"===r||"mediaSource"===r){return}const n="object"==typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[i("min",r)]=n.ideal,t.optional.push(e),e={},e[i("max",r)]=n.ideal,t.optional.push(e)):(e[i("",r)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",r)]=n.exact):["min","max"].forEach((e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,r)]=n[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61){return i(e)}if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});const a=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(t=["front"]),t){return r.mediaDevices.enumerateDevices().then((r=>{r=r.filter((e=>"videoinput"===e.kind));let a=r.find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&r.length&&t.includes("back")&&(a=r[r.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=n(e.video),_T("chrome: "+JSON.stringify(e)),i(e)}))}}e.video=n(e.video)}return _T("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=function(e,t,n){i(e,(e=>{r.webkitGetUserMedia(e,t,(e=>{n&&n(o(e))}))}))}.bind(r),r.mediaDevices.getUserMedia){const e=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length){throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError")}return e}),(e=>Promise.reject(o(e))))))}}}function ET(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function ST(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===r.track.id)):{track:r.track};const i=new Event("track");i.track=r.track,i.receiver=n,i.transceiver={receiver:n},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===r.id)):{track:r};const i=new Event("track");i.track=r,i.receiver=n,i.transceiver={receiver:n},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else{lT(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}}function wT(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let i=r.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function TT(e){if(!e.RTCPeerConnection){return}const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,n]=arguments;if(arguments.length>0&&"function"==typeof e){return t.apply(this,arguments)}if(0===t.length&&(0===arguments.length||"function"!=typeof e)){return t.apply(this,[])}const i=function(e){const t={};return e.result().forEach((e=>{const r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{r[t]=e.stat(t)})),t[r.id]=r})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const n=function(e){r(o(i(e)))};return t.apply(this,[n,e])}return new Promise(((e,r)=>{t.apply(this,[function(t){e(o(i(t)))},r])})).then(r,n)}}function CT(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver)){return}if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>yT(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),lT(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>yT(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype)){return}const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,r,n;return this.getSenders().forEach((r=>{r.track===e&&(t?n=!0:t=r)})),this.getReceivers().forEach((t=>(t.track===e&&(r?n=!0:r=t),t.track===e))),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function AT(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r){return t.apply(this,arguments)}this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{const t=this.getSenders().find((t=>t.track===e));if(t){throw new DOMException("Track already exists.","InvalidAccessError")}}));const t=this.getSenders();r.apply(this,arguments);const n=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const r=this._shimmedLocalStreams[t].indexOf(e);-1!==r&&this._shimmedLocalStreams[t].splice(r,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function RT(e,t){if(!e.RTCPeerConnection){return}if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65){return AT(e)}const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{const t=this.getSenders().find((t=>t.track===e));if(t){throw new DOMException("Track already exists.","InvalidAccessError")}})),!this._reverseStreams[t.id]){const r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}n.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(i.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){if("closed"===this.signalingState){throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError")}const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((e=>e===t))){throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError")}const i=this.getSenders().find((e=>e.track===t));if(i){throw new DOMException("Track already exists.","InvalidAccessError")}this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[r.id];if(o){o.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}))}else{const n=new e.MediaStream([t]);this._streams[r.id]=n,this._reverseStreams[n.id]=r,this.addStream(n)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[t=>{const r=o(this,t);e[0].apply(null,[r])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=n[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState){throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError")}if(!e._pc){throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError")}if(!(e._pc===this)){throw new DOMException("Sender was not created by this connection.","InvalidAccessError")}let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((r=>{this._streams[r].getTracks().find((t=>e.track===t))&&(t=this._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function IT(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}))}function kT(e,t){lT(e,"negotiationneeded",(e=>{const r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState){return e}}))}var OT=Object.freeze({__proto__:null,shimMediaStream:ET,shimOnTrack:ST,shimGetSendersWithDtmf:wT,shimGetStats:TT,shimSenderReceiverGetStats:CT,shimAddTrackRemoveTrackWithNative:AT,shimAddTrackRemoveTrack:RT,shimPeerConnection:IT,fixNegotiationNeeded:kT,shimGetUserMedia:bT,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((t=>{const n=r.video&&r.video.width,i=r.video&&r.video.height,o=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},n&&(r.video.mandatory.maxWidth=n),i&&(r.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}});function PT(e,t){const r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){pT("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const e=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(r){return"object"==typeof r&&"object"==typeof r.audio&&(r=JSON.parse(JSON.stringify(r)),e(r.audio,"autoGainControl","mozAutoGainControl"),e(r.audio,"noiseSuppression","mozNoiseSuppression")),t(r)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const r=t.apply(this,arguments);return e(r,"mozAutoGainControl","autoGainControl"),e(r,"mozNoiseSuppression","noiseSuppression"),r}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(r){return"audio"===this.kind&&"object"==typeof r&&(r=JSON.parse(JSON.stringify(r)),e(r,"autoGainControl","mozAutoGainControl"),e(r,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[r])}}}}function MT(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function xT(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection){return}!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,o]=arguments;return n.apply(this,[e||null]).then((e=>{if(t.version<53&&!i){try{e.forEach((e=>{e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name){throw t}e.forEach(((t,n)=>{e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}}return e})).then(i,o)}}function LT(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender){return}if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype){return}const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function DT(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender){return}if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype){return}const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),lT(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function NT(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){pT("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function jT(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function UT(e){if("object"!=typeof e||!e.RTCPeerConnection){return}const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],r=e&&"sendEncodings"in e;r&&e.sendEncodings.forEach((e=>{if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid)){throw new TypeError("Invalid RID value provided.")}}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1)){throw new RangeError("scale_resolution_down_by must be >= 1.0")}if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0)){throw new RangeError("max_framerate must be >= 0.0")}}));const n=t.apply(this,arguments);if(r){const{sender:t}=n,r=t.getParameters();(!("encodings"in r)||1===r.encodings.length&&0===Object.keys(r.encodings[0]).length)&&(r.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(r).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return n})}function BT(e){if("object"!=typeof e||!e.RTCRtpSender){return}const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function FT(e){if("object"!=typeof e||!e.RTCPeerConnection){return}const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function HT(e){if("object"!=typeof e||!e.RTCPeerConnection){return}const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var VT=Object.freeze({__proto__:null,shimOnTrack:MT,shimPeerConnection:xT,shimSenderGetStats:LT,shimReceiverGetStats:DT,shimRemoveStream:NT,shimRTCDataChannel:jT,shimAddTransceiver:UT,shimGetParameters:BT,shimCreateOffer:FT,shimCreateAnswer:HT,shimGetUserMedia:PT,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}});function WT(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((r=>t.call(this,r,e))),e.getVideoTracks().forEach((r=>t.call(this,r,e)))},e.RTCPeerConnection.prototype.addTrack=function(e,...r){return r&&r.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t){return}this._localStreams.splice(t,1);const r=e.getTracks();this.getSenders().forEach((e=>{r.includes(e.track)&&this.removeTrack(e)}))})}}function zT(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e)){return}this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0){return}e._remoteStreams.push(t);const r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}))}),t.apply(e,arguments)}}}function GT(e){if("object"!=typeof e||!e.RTCPeerConnection){return}const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i};let s=function(e,t,r){const n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){const n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){const n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}function YT(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,r=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>r(KT(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function KT(e){return e&&void 0!==e.video?Object.assign({},e,{video:gT(e.video)}):e}function qT(e){if(!e.RTCPeerConnection){return}const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){const t=[];for(let r=0;r<e.iceServers.length;r++){let n=e.iceServers[r];!n.hasOwnProperty("urls")&&n.hasOwnProperty("url")?(pT("RTCIceServer.url","RTCIceServer.urls"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[r])}e.iceServers=t}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function $T(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function JT(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const r=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function ZT(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var XT=Object.freeze({__proto__:null,shimLocalStreamsAPI:WT,shimRemoteStreamsAPI:zT,shimCallbacksAPI:GT,shimGetUserMedia:YT,shimConstraints:KT,shimRTCIceServerUrls:qT,shimTrackEventTransceiver:$T,shimCreateOfferLegacy:JT,shimAudioContext:ZT}),QT={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const r=t.splitSections(e);return r&&r[0]},t.getMediaSections=function(e){const r=t.splitSections(e);return r.shift(),r},t.matchPrefix=function(e,r){return t.splitLines(e).filter((e=>0===e.indexOf(r)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const r={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2){switch(t[e]){case"raddr":r.relatedAddress=t[e+1];break;case"rport":r.relatedPort=parseInt(t[e+1],10);break;case"tcptype":r.tcpType=t[e+1];break;case"ufrag":r.ufrag=t[e+1],r.usernameFragment=t[e+1];break;default:void 0===r[t[e]]&&(r[t[e]]=t[e+1])}}return r},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const r=e.component;"rtp"===r?t.push(1):"rtcp"===r?t.push(2):t.push(r),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let r;const n=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<n.length;e++){r=n[e].trim().split("="),t[r[0].trim()]=r[1]}return t},t.writeFmtp=function(e){let t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const n=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),r={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substring(t+1,n),r.value=e.substring(n+1)):r.attribute=e.substring(t+1),r},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const r=t.matchPrefix(e,"a=mid:")[0];if(r){return r.substring(6)}},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,r){return{role:"auto",fingerprints:t.matchPrefix(e+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:")){return null}const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,r){return t.matchPrefix(e+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,r){const n=t.matchPrefix(e+r,"a=ice-ufrag:")[0],i=t.matchPrefix(e+r,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" ");r.profile=n[2];for(let i=3;i<n.length;i++){const o=n[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){const n=t.parseRtpMap(a),i=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(n.parameters=i.length?t.parseFmtp(i[0]):{},n.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),r.codecs.push(n),n.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{r.headerExtensions.push(t.parseExtmap(e))}));const i=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach((e=>{i.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),r},t.writeRtpDescription=function(e,r){let n="";n+="m="+e+" ",n+=r.codecs.length>0?"9":"0",n+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",n+=r.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",r.codecs.forEach((e=>{n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));let i=0;return r.codecs.forEach((e=>{e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),r.headerExtensions&&r.headerExtensions.forEach((e=>{n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){const r=[],n=t.parseRtpParameters(e),i=-1!==n.fecMechanisms.indexOf("RED"),o=-1!==n.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=a.length>0&&a[0].ssrc;let u;const c=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));c.length>0&&c[0].length>1&&c[0][0]===s&&(u=c[0][1]),n.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&u&&(t.rtx={ssrc:u}),r.push(t),i&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:o?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&s&&r.push({ssrc:s});let l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substring(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,r.forEach((e=>{e.maxBitrate=l}))),r},t.parseRtcpParameters=function(e){const r={},n=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];n&&(r.cname=n.value,r.ssrc=n.ssrc);const i=t.matchPrefix(e,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=0===i.length;const o=t.matchPrefix(e,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let r;const n=t.matchPrefix(e,"a=msid:");if(1===n.length){return r=n[0].substring(7).split(" "),{stream:r[0],track:r[1]}}const i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return i.length>0?(r=i[0].value.split(" "),{stream:r[0],track:r[1]}):void 0},t.parseSctpDescription=function(e){const r=t.parseMLine(e),n=t.matchPrefix(e,"a=max-message-size:");let i;n.length>0&&(i=parseInt(n[0].substring(19),10)),isNaN(i)&&(i=65536);const o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0){return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i}}const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,r,n){let i;const o=void 0!==r?r:2;i=e||t.generateSessionId();return"v=0\r\no="+(n||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,r){const n=t.splitLines(e);for(let e=0;e<n.length;e++){switch(n[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[e].substring(2)}}return r?t.getDirection(r):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const r=t.splitLines(e)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(e){const r=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length){return!1}const r=t.splitLines(e);for(let e=0;e<r.length;e++){if(r[e].length<2||"="!==r[e].charAt(1)){return!1}}return!0},e.exports=t}(QT);var eC=QT.exports,tC=e({__proto__:null,default:eC},[QT.exports]);function rC(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype){return}const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const r=new t(e),n=eC.parseCandidate(e.candidate),i=Object.assign(r,n);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,lT(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function nC(e,t){if(!e.RTCPeerConnection){return}"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp){return!1}const t=eC.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=eC.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2){return-1}const r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),r=function(e){let r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r}(e),n=function(e,r){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);const i=eC.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?n=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n}(arguments[0],e);let i;i=0===r&&0===n?Number.POSITIVE_INFINITY:0===r||0===n?Math.max(r,n):Math.min(r,n);const o={};Object.defineProperty(o,"maxMessageSize",{get:()=>i}),this._sctp=o}return r.apply(this,arguments)}}function iC(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype)){return}function t(e,t){const r=e.send;e.send=function(){const n=arguments[0],i=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize){throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)")}return r.apply(e,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=r.apply(this,arguments);return t(e,this),e},lT(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function oC(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype){return}const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}function aC(e,t){if(!e.RTCPeerConnection){return}if("chrome"===t.browser&&t.version>=71){return}if("safari"===t.browser&&t.version>=605){return}const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const r=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return r.apply(this,arguments)}}function sC(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype){return}const r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function uC(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype){return}const r=e.RTCPeerConnection.prototype.setLocalDescription;r&&0!==r.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp){return r.apply(this,arguments)}if(e={type:e.type,sdp:e.sdp},!e.type){switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}}if(e.sdp||"offer"!==e.type&&"answer"!==e.type){return r.apply(this,[e])}return("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>r.apply(this,[e])))})}var cC=Object.freeze({__proto__:null,shimRTCIceCandidate:rC,shimMaxMessageSize:nC,shimSendThrowTypeError:iC,shimConnectionState:oC,removeExtmapAllowMixed:aC,shimAddIceCandidateNullOrEmpty:sC,shimParameterlessSetLocalDescription:uC});const lC=function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=hT,n=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator){return t.browser="Not a browser.",t}const{navigator:r}=e;if(r.mozGetUserMedia){t.browser="firefox",t.version=cT(r.userAgent,/Firefox\/(\d+)\./,1)}else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer){t.browser="chrome",t.version=cT(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2)}else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./)){return t.browser="Not a supported browser.",t}t.browser="safari",t.version=cT(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),i={browserDetails:n,commonShim:cC,extractVersion:cT,disableLog:fT,disableWarnings:dT,sdp:tC};switch(n.browser){case"chrome":if(!OT||!IT||!t.shimChrome){return r("Chrome shim is not included in this adapter release."),i}if(null===n.version){return r("Chrome shim can not determine version, not shimming."),i}r("adapter.js shimming chrome."),i.browserShim=OT,sC(e,n),uC(e),bT(e,n),ET(e),IT(e,n),ST(e),RT(e,n),wT(e),TT(e),CT(e),kT(e,n),rC(e),oC(e),nC(e,n),iC(e),aC(e,n);break;case"firefox":if(!VT||!xT||!t.shimFirefox){return r("Firefox shim is not included in this adapter release."),i}r("adapter.js shimming firefox."),i.browserShim=VT,sC(e,n),uC(e),PT(e,n),xT(e,n),MT(e),NT(e),LT(e),DT(e),jT(e),UT(e),BT(e),FT(e),HT(e),rC(e),oC(e),nC(e,n),iC(e);break;case"safari":if(!XT||!t.shimSafari){return r("Safari shim is not included in this adapter release."),i}r("adapter.js shimming safari."),i.browserShim=XT,sC(e,n),uC(e),qT(e),JT(e),GT(e),WT(e),zT(e),$T(e),YT(e),ZT(e),rC(e),nC(e,n),iC(e),aC(e,n);break;default:r("Unsupported browser!")}return i}({window:"undefined"==typeof window?void 0:window}),fC=window.crypto||window.webkitCrypto||window.mozCrypto||window.oCrypto||window.msCrypto,dC={Mac:/(mac os x)\s+([\w_]+)/,Windows:/(windows nt)\s+([\w.]+)/,Ios:/(i(?:pad|phone|pod)).*cpu(?: i(?:pad|phone|pod))? os (\d+(?:[.|_]\d+)+)/,Android:/(android)\s+([\d.]+)/,Ipad:/(ipad).*os\s([\d_]+)/,Iphone:/(iphone\sos)\s([\d_]+)/,Linux:/(x11;)\s(linux)\s(x86_64|mips64|aarch64)/,ChromiumOS:/(x11;)\s(cros)\s(x86_64|mips64|aarch64)\s([\w.]+)\)/},hC=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","_"];let pC,vC;const gC="CommonUtil";let mC=function(){function e(){a(this,e);this.uuidCount=0,this.timeDiff=0,this.platform=(()=>{const e=navigator.userAgent.toLowerCase(),t=e.match(/(micromessenger)\/([\w.()]+)/i),r=t?"-WeChat".concat(t[2]):"";for(const t in dC){if(Object.prototype.hasOwnProperty.call(dC,t)){const n=e.match(dC[t]);if(n){return vC="Ios"===t?n[2].replace(/_/g,"."):"Linux"===t?n[3]:"ChromiumOS"===t?n[4]:n[2],pC=["Ios","Ipad","Iphone"].includes(t)?"IOS":t,t+vC+r}}}return"unknown"})(),this.userAgent=navigator.userAgent?navigator.userAgent:"",this.browserType=this.getBrowserInfo().type,this.browserVersion=this.getBrowserInfo().version}return u(e,[{key:"sleep",value:async function e(t){return new Promise((e=>{const r=setTimeout((()=>{clearTimeout(r),e()}),t)}))}},{key:"getDeviceID",value:function e(){return this.deviceID||(this.deviceID=this.generateStandardUuid()),this.deviceID}},{key:"generateStandardUuid",value:function e(){let t;if(fC&&(t="function"==typeof fC.randomUUID?fC.randomUUID():""),!t){let e=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),t="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/[x]/g,(()=>{const t=(e+16*this.getRandom())%16|0;return e=Math.floor(e/16),t.toString(16)}))}return t}},{key:"getBrowserInfo",value:function e(){const t=navigator.userAgent.toLowerCase();if(-1!=t.indexOf("opera")||-1!=t.indexOf("opr")){let e=this.getVersion(/.*opera\/(\d+\.\d+)*/gi);return 0===e&&(e=this.getVersion(/.*opr\/(\d+\.\d+)*/gi)),{type:"opera",version:e}}if(-1!=t.indexOf("edge")){return{type:"edge",version:this.getVersion(/.*edge\/(\d+\.\d+)*/gi)}}if(-1!=t.indexOf("qqbrowser")){return{type:"qqbrowser",version:this.getVersion(/.*qqbrowser\/(\d+\.\d+)*/gi)}}if(-1!=t.indexOf("hbpc")){return{type:"hauwei",version:this.getVersion(/.*hbpc\/(\d+\.\d+)*/gi)}}return-1!=t.indexOf("micromessenger")?{type:"micromessenger",version:"0"}:"firefox"===lC.browserDetails.browser?{type:"firefox",version:lC.browserDetails.version}:"chrome"===lC.browserDetails.browser?{type:"chrome",version:lC.browserDetails.version}:"safari"===lC.browserDetails.browser?{type:"safari",version:lC.browserDetails.version}:"unknown"}},{key:"getVersion",value:function e(t){const r=t.exec(navigator.userAgent.toLowerCase());let n=0;return r&&2===r.length&&(n=parseFloat(r[1])),n}},{key:"getBrowserType",value:function e(){return this.browserType}},{key:"getBrowserVersion",value:function e(){return this.browserVersion}},{key:"getRandom",value:function t(){return e.getRandomArray(1)[0]/256}},{key:"getRandomUint32",value:function t(){const r=e.getRandomArray(4);return new DataView(r.buffer).getUint32(0)}},{key:"generateUuid",value:function t(r){let n="";const i=e.getRandomArray(33),o=r?22:33;for(let e=0;e<o;e++){n+=hC[Math.round(i[e]%64)]}let a="";for(let e=0;e<33-o;e++){a+=hC[63&r],r>>=6}let s=this.uuidCount.toString(16);for(let e=3-s.length;e>0;e--){s="0"+s}return this.uuidCount>4094?this.uuidCount=0:this.uuidCount++,"".concat(n).concat(a).concat(s)}},{key:"generateRandomId",value:function t(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:62,i="";const o=e.getRandomArray(r);for(let e=0;e<r;e++){i+=hC[Math.round(o[e]%n)]}return i}},{key:"getPlatform",value:function e(){return this.platform}},{key:"isIosPlatformHightVersion",value:function e(){return 0!==this.iosSystemVersionNum()&&this.iosSystemVersionNum()>14}},{key:"getIosSystemVersion",value:function e(){if("IOS"===this.getSystemType()){const e=navigator.userAgent.toLowerCase().match(dC.Ios);return vC=e[2].replace(/_/g,"."),vC}return"0"}},{key:"iosSystemVersionNum",value:function e(){if("0"===this.getIosSystemVersion()){return 0}const t=this.getIosSystemVersion().split("."),r=t[0]+"."+t[1];return parseFloat(r)}},{key:"isiOSWXApple",value:function e(){if("IOS"!==this.getSystemType()){return!1}const t=navigator.userAgent,r=/miniProgram/i.test(t);return"miniprogram"===window.__wxjs_environment||r}},{key:"getSystemType",value:function e(){return pC}},{key:"getRomVersion",value:function e(){return vC}},{key:"getUserAgent",value:function e(){return this.userAgent}},{key:"getNetworkType",value:function e(){const t=navigator.userAgent.match(/NetType\/\w+/),r=t?t[0].toLowerCase().replace("nettype/",""):"";return["wifi","4g","3g","3gnet","2g"].includes(r)?r.toUpperCase():"other"}},{key:"syncLocalTime",value:function e(t){try{if(t){console.debug(gC,"syncLocalTime, serverTime: ".concat(t));const e=new Date(t).getTime();this.timeDiff=(new Date).getTime()-e,console.debug(gC,"syncLocalTime, timeDiff: ".concat(this.timeDiff))}}catch(e){console.error(gC,"syncLocalTime error: ".concat(e))}}},{key:"getCurrentTimestamp",value:function e(){return(new Date).getTime()-this.timeDiff}},{key:"getCurrentTime",value:function e(){const t=new Date(this.getCurrentTimestamp()),r=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0".concat(n):n,o=t.getDate(),a=o<10?"0".concat(o):o,s=t.getHours(),u=s<10?"0".concat(s):s,c=t.getMinutes(),l=c<10?"0".concat(c):c,f=t.getSeconds(),d=f<10?"0".concat(f):f,h=t.getMilliseconds(),p="".concat(h+1e3).substring(1),v=t.getTimezoneOffset()/60,g=v>=0?v:-v,m=(v<=0?"+":"-")+(g<10?"0".concat(g):"".concat(g))+":00";return{year:"".concat(r),month:"".concat(i),day:"".concat(a),hour:"".concat(u),min:"".concat(l),sec:"".concat(d),millsec:p,zoneOff:m}}},{key:"adjustTimeByOffset",value:function e(t){return t-this.timeDiff}},{key:"convertString2Timestamp",value:function e(t){return new Date(t).getTime()}},{key:"generateStreamId",value:function e(){return"2xxxxxxx-8xxx-xxxx-yxxx-xxxx".replace(/[xy]/g,(e=>{const t=16*this.getRandom()|0;return("x"==e?t:3&t|8).toString(16)}))}},{key:"isWKWebview",value:function e(){return/I.*-WeChat.*/gi.test(this.platform)}},{key:"isAppleDevice",value:function e(){return/^(Mac|I).*/gi.test(this.platform)}},{key:"isSafari",value:function e(){return this.isAppleDevice()&&/Safari/i.test(this.getUserAgent())}},{key:"isMobileDevice",value:function e(){return!/^(Mac|Windows).*/gi.test(this.platform)}},{key:"isMobileBrowser",value:function e(){return/Mobile|Android|iPhone|iPod|iPad|(Windows Phone)/i.test(navigator.userAgent)}},{key:"isMobileWeChatBrowser",value:function e(){return this.isMobileDevice()&&/.*MicroMessenger.*/gi.test(navigator.userAgent)}},{key:"isSupportConstraints",value:function e(t){var r;return!!(null===(r=navigator.mediaDevices)||void 0===r?void 0:r.getSupportedConstraints())[t]}},{key:"calculateSha256",value:async function e(t){return new Promise((e=>{const r=new FileReader;r.onloadend=t=>{if(t.target.readyState==FileReader.DONE){const r=TS.exports.lib.WordArray.create(t.target.result),n=TS.exports.SHA256(r).toString();e(n)}},r.readAsArrayBuffer(t)}))}},{key:"getValue",value:function e(t,r){return t||r}},{key:"shieldIpAddress",value:function e(t){return t?t.replace(/\b(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\b/g,"$1.*.*.$2"):null}},{key:"shieldUrlParameters",value:function e(t){if(!t){return t}const r=t.match(/([^?|=|&]+)=([^&]+)/g);return r&&r.forEach((e=>{const r=/([^=]*)=(.*)/g.exec(e);t=t.replace(e,"".concat(r[1],"=").concat(this.secretString(r[2])))})),t}},{key:"shieldNickname",value:function e(t){if(!t){return t}let r="";for(let e=0;e<t.length;e++){r=e%3==0?"".concat(r,"*"):"".concat(r).concat(t.charAt(e))}return r}},{key:"secretString",value:function e(t){if(!t){return null}const r="********",n=Math.ceil(t.length/3),i=Math.ceil((t.length-n)/2);return 0===i?"".concat(t.substr(0,n)).concat(r):"".concat(t.substr(0,n)).concat(r).concat(t.substr(-i,i))}}],[{key:"getRandomArray",value:function e(t){const r=new Uint8Array(t);return fC&&fC.getRandomValues(r),r}}])}();const yC=new mC;function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_C(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const EC=Symbol("hrtc_".concat(yC.getCurrentTimestamp())),SC=new Map;let wC=!0;const TC=new Map;let CC=function(){function e(){a(this,e);o(this,"logBuffer",[]),o(this,"logBufferSize",5e3)}return u(e,[{key:"error",value:function e(t,r,n){this.log("error",t,r,n)}},{key:"warn",value:function e(t,r,n){this.log("warn",t,r,n)}},{key:"info",value:function e(t,r,n){this.log("info",t,r,n)}},{key:"debug",value:function e(t,r,n){this.log("debug",t,r,n)}},{key:"log",value:function e(t,r,n,i){TC.forEach(((e,t)=>{n.includes(t)&&(n=n.replace(e.pattern,e.newString))}));const o=yC.getCurrentTime(),a=["".concat(o.year,"-").concat(o.month,"-").concat(o.day," ").concat(o.hour,":").concat(o.min,":").concat(o.sec,".").concat(o.millsec),t];if(Object.entries(bC(bC({},i),{},{tag:r,msg:n})).forEach((e=>{let[t,r]=e;"string"==typeof r&&a.push("[".concat(t,": ").concat(r,"]"))})),wC){const e=a.join(" ");for(this.logBuffer.push(e);this.logBuffer.length>=this.logBufferSize;){this.logBuffer.shift()}}const s=["".concat(o.year,"-").concat(o.month,"-").concat(o.day," ").concat(o.hour,":").concat(o.min,":").concat(o.sec,".").concat(o.millsec)];hg.indexOf(AC.logLevel)>=hg.indexOf(t)&&console[t](s+" [HRTC] "+"[".concat(t,"] [").concat(r,"] [").concat(n,"]"))}},{key:"clearLogs",value:function e(){this.logBuffer=[]}},{key:"setLogBufferSize",value:function e(t){this.logBufferSize=t}},{key:"getLogBufferSize",value:function e(){return this.logBufferSize}},{key:"getLogBuffer",value:function e(){return this.logBuffer}}],[{key:"setLogCachesEnable",value:function e(t){wC=t}}])}();let AC=function(){function e(){a(this,e)}return u(e,null,[{key:"getLogger",value:function e(t){const r=t||EC;if(!SC.has(r)){const e=new CC;return SC.set(r,e),e}return SC.get(r)}},{key:"deleteLogger",value:function e(t){const r=t||EC;SC.has(r)&&SC.delete(r)}},{key:"setAllLogLevel",value:function t(r){if(!(hg.indexOf(r)>=0)){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"log level is invalid")}e.logLevel=r}},{key:"addPrivacyString",value:function e(t){if(!t){return}if(TC.has(t)){return}const r=yC.secretString(t);if(!r){return}const n=t.replaceAll(/([\^|\$|\\|\.|\*|\+|\?|\(|\)|\[|\]|\{|\}|\|])/g,"\\$1"),i={pattern:new RegExp("\\b"+n+"\\b","g"),newString:r};TC.set(t,i)}},{key:"getLogFile",value:async function t(r,n){const i=r.logger,o=yC.getCurrentTime(),a="".concat(o.year,"-").concat(o.month,"-").concat(o.day,"T").concat(o.hour,":").concat(o.min,":").concat(o.sec).concat(o.zoneOff),s="".concat(o.year,"-").concat(o.month,"-").concat(o.day,"T").concat(o.hour,".").concat(o.min,".").concat(o.sec).concat(o.zoneOff.replace(":",".")),u=e.getLogger(),c=i.getLogBuffer(),l=u.getLogBuffer();if(0===c.length&&0===l.length){return null}const f=r.getInfo(),d="".concat(f.userName,"_").concat(f.userId,"##").concat(f.domain,"##").concat(f.appId,"##").concat(s),h=yC.getDeviceID(),p=encodeURIComponent("".concat(n,"##").concat(h,"##").concat(f.appId,"##").concat(a)),v=new Im,g=v.folder("".concat(f.userName,"_").concat(f.userId,"##").concat(f.roomId,"##").concat(f.domain,"##").concat(f.appId));g.file("".concat(d,".log"),"".concat(c.join("\n"))),g.file("hrtc##".concat(a,".log"),"".concat(l.join("\n")));const m=await v.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}});return{sha256:await yC.calculateSha256(m),length:m.size,content:m,urlFileNameEncode:p}}}])}();o(AC,"logLevel",hg[3]);var RC=ci,IC=Ia,kC=y,OC=re,PC=Z,MC=co,xC=Qu,LC=on,DC=IC&&IC.prototype;if(RC({target:"Promise",proto:!0,real:!0,forced:!!IC&&kC((function(){DC.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=MC(this,OC("Promise")),r=PC(e);return this.then(r?function(r){return xC(t,e()).then((function(){return r}))}:e,r?function(r){return xC(t,e()).then((function(){throw r}))}:e)}}),PC(IC)){var NC=OC("Promise").prototype.finally;DC.finally!==NC&&LC(DC,"finally",NC,{unsafe:!0})}var jC=Ae,UC=We,BC=G,FC=bn,HC=TypeError,VC=function(e){return function(t,r,n,i){jC(r);var o=UC(t),a=BC(o),s=FC(o),u=e?s-1:0,c=e?-1:1;if(n<2){for(;;){if(u in a){i=a[u],u+=c;break}if(u+=c,e?u<0:s<=u){throw HC("Reduce of empty array with no initial value")}}}for(;e?u>=0:s>u;u+=c){u in a&&(i=r(i,a[u],u,o))}return i}},WC={left:VC(!1),right:VC(!0)}.left,zC=fe,GC=li;ci({target:"Array",proto:!0,forced:!eh("reduce")||!GC&&zC>79&&zC<83},{reduce:function(e){var t=arguments.length;return WC(this,e,t,t>1?arguments[1]:void 0)}});var YC=w,KC=Ae,qC=Ft,$C=function(){for(var e=qC(this),t=KC(e.add),r=0,n=arguments.length;r<n;r++){YC(t,e,arguments[r])}return e};ci({target:"Set",proto:!0,real:!0,forced:!0},{addAll:$C}),ci({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:vf});var JC=re,ZC=w,XC=Ae,QC=Ft,eA=co,tA=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){var t=QC(this),r=new(eA(t,JC("Set")))(t),n=XC(r.delete);return tA(e,(function(e){ZC(n,r,e)})),r}});var rA=w,nA=function(e){return rA(Set.prototype.values,e)},iA=Ft,oA=_o,aA=nA,sA=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=iA(this),r=aA(t),n=oA(e,arguments.length>1?arguments[1]:void 0);return!sA(r,(function(e,r){if(!n(e,e,t)){return r()}}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var uA=re,cA=w,lA=Ae,fA=Ft,dA=_o,hA=co,pA=nA,vA=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=fA(this),r=pA(t),n=dA(e,arguments.length>1?arguments[1]:void 0),i=new(hA(t,uA("Set"))),o=lA(i.add);return vA(r,(function(e){n(e,e,t)&&cA(o,i,e)}),{IS_ITERATOR:!0}),i}});var gA=Ft,mA=_o,yA=nA,_A=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=gA(this),r=yA(t),n=mA(e,arguments.length>1?arguments[1]:void 0);return _A(r,(function(e,r){if(n(e,e,t)){return r(e)}}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var bA=re,EA=w,SA=Ae,wA=Ft,TA=co,CA=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){var t=wA(this),r=new(TA(t,bA("Set"))),n=SA(t.has),i=SA(r.add);return CA(e,(function(e){EA(n,t,e)&&EA(i,r,e)})),r}});var AA=w,RA=Ae,IA=Ft,kA=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){var t=IA(this),r=RA(t.has);return!kA(e,(function(e,n){if(!0===AA(r,t,e)){return n()}}),{INTERRUPTED:!0}).stopped}});var OA=re,PA=w,MA=Ae,xA=Z,LA=Ft,DA=iu,NA=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){var t=DA(this),r=LA(e),n=r.has;return xA(n)||(r=new(OA("Set"))(e),n=MA(r.has)),!NA(t,(function(e,t){if(!1===PA(n,r,e)){return t()}}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var jA=w,UA=Ae,BA=Ft,FA=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){var t=BA(this),r=UA(t.has);return!FA(e,(function(e,n){if(!1===jA(r,t,e)){return n()}}),{INTERRUPTED:!0}).stopped}});var HA=ci,VA=Ft,WA=uc,zA=nA,GA=Su,YA=N([].join),KA=[].push;HA({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=VA(this),r=zA(t),n=void 0===e?",":WA(e),i=[];return GA(r,KA,{that:i,IS_ITERATOR:!0}),YA(i,n)}});var qA=re,$A=_o,JA=w,ZA=Ae,XA=Ft,QA=co,eR=nA,tR=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=XA(this),r=eR(t),n=$A(e,arguments.length>1?arguments[1]:void 0),i=new(QA(t,qA("Set"))),o=ZA(i.add);return tR(r,(function(e){JA(o,i,n(e,e,t))}),{IS_ITERATOR:!0}),i}});var rR=Ae,nR=Ft,iR=nA,oR=Su,aR=TypeError;ci({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=nR(this),r=iR(t),n=arguments.length<2,i=n?void 0:arguments[1];if(rR(e),oR(r,(function(r){n?(n=!1,i=r):i=e(i,r,r,t)}),{IS_ITERATOR:!0}),n){throw aR("Reduce of empty set with no initial value")}return i}});var sR=Ft,uR=_o,cR=nA,lR=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=sR(this),r=cR(t),n=uR(e,arguments.length>1?arguments[1]:void 0);return lR(r,(function(e,r){if(n(e,e,t)){return r()}}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var fR=re,dR=w,hR=Ae,pR=Ft,vR=co,gR=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){var t=pR(this),r=new(vR(t,fR("Set")))(t),n=hR(r.delete),i=hR(r.add);return gR(e,(function(e){dR(n,r,e)||dR(i,r,e)})),r}});var mR=re,yR=Ae,_R=Ft,bR=co,ER=Su;ci({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){var t=_R(this),r=new(bR(t,mR("Set")))(t);return ER(e,yR(r.add),{that:r}),r}});var SR=cp.charAt,wR=uc,TR=Hr,CR=Xl,AR="String Iterator",RR=TR.set,IR=TR.getterFor(AR);CR(String,"String",(function(e){RR(this,{type:AR,string:wR(e),index:0})}),(function(){var e,t=IR(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=SR(r,n),t.index+=e.length,{value:e,done:!1})}));var kR=y,OR=ut("iterator"),PR=!kR((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[OR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),MR=tr.exports,xR=Dt,LR=_,DR=N,NR=w,jR=y,UR=Mc,BR=Dn,FR=T,HR=We,VR=G,WR=Object.assign,zR=Object.defineProperty,GR=DR([].concat),YR=!WR||jR((function(){if(LR&&1!==WR({b:1},WR(zR({},"a",{enumerable:!0,get:function(){zR(this,"b",{value:3,enumerable:!1})}}),{b:2})).b){return!0}var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=WR({},e)[r]||UR(WR({},t)).join("")!=n}))?function(e,t){for(var r=HR(e),n=arguments.length,i=1,o=BR.f,a=FR.f;n>i;){for(var s,u=VR(arguments[i++]),c=o?GR(UR(u),o(u)):UR(u),l=c.length,f=0;l>f;){s=c[f++],LR&&!NR(a,u,s)||(r[s]=u[s])}}return r}:WR,KR=Ft,qR=uu,$R=_o,JR=w,ZR=We,XR=function(e,t,r,n){try{return n?t(KR(r)[0],r[1]):t(r)}catch(t){qR(e,"throw",t)}},QR=Ys,eI=to,tI=bn,rI=Jm,nI=iu,iI=Zs,oI=Array,aI=N,sI=2147483647,uI=/[^\0-\u007E]/,cI=/[.\u3002\uFF0E\uFF61]/g,lI="Overflow: input needs wider integers to process",fI=RangeError,dI=aI(cI.exec),hI=Math.floor,pI=String.fromCharCode,vI=aI("".charCodeAt),gI=aI([].join),mI=aI([].push),yI=aI("".replace),_I=aI("".split),bI=aI("".toLowerCase),EI=function(e){return e+22+75*(e<26)},SI=function(e,t,r){var n=0;for(e=r?hI(e/700):e>>1,e+=hI(e/t);e>455;){e=hI(e/35),n+=36}return hI(n+36*e/(e+38))},wI=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=vI(e,r++);if(i>=55296&&i<=56319&&r<n){var o=vI(e,r++);56320==(64512&o)?mI(t,((1023&i)<<10)+(1023&o)+65536):(mI(t,i),r--)}else{mI(t,i)}}return t}(e);var r,n,i=e.length,o=128,a=0,s=72;for(r=0;r<e.length;r++){(n=e[r])<128&&mI(t,pI(n))}var u=t.length,c=u;for(u&&mI(t,"-");c<i;){var l=sI;for(r=0;r<e.length;r++){(n=e[r])>=o&&n<l&&(l=n)}var f=c+1;if(l-o>hI((sI-a)/f)){throw fI(lI)}for(a+=(l-o)*f,o=l,r=0;r<e.length;r++){if((n=e[r])<o&&++a>sI){throw fI(lI)}if(n==o){for(var d=a,h=36;;){var p=h<=s?1:h>=s+26?26:h-s;if(d<p){break}var v=d-p,g=36-p;mI(t,pI(EI(p+v%g))),d=hI(v/g),h+=36}mI(t,pI(EI(d))),s=SI(a,f,c==u),a=0,c++}}a++,o++}return gI(t,"")},TI=ci,CI=g,AI=w,RI=N,II=_,kI=PR,OI=on,PI=Pm,MI=Ei,xI=Ml,LI=Hr,DI=ki,NI=Z,jI=Ye,UI=_o,BI=ji,FI=Ft,HI=Q,VI=uc,WI=Qc,zI=O,GI=iu,YI=Zs,KI=wo,qI=nS,$I=ut("iterator"),JI="URLSearchParams",ZI=JI+"Iterator",XI=LI.set,QI=LI.getterFor(JI),ek=LI.getterFor(ZI),tk=Object.getOwnPropertyDescriptor,rk=function(e){if(!II){return CI[e]}var t=tk(CI,e);return t&&t.value},nk=rk("fetch"),ik=rk("Request"),ok=rk("Headers"),ak=ik&&ik.prototype,sk=ok&&ok.prototype,uk=CI.RegExp,ck=CI.TypeError,lk=CI.decodeURIComponent,fk=CI.encodeURIComponent,dk=RI("".charAt),hk=RI([].join),pk=RI([].push),vk=RI("".replace),gk=RI([].shift),mk=RI([].splice),yk=RI("".split),_k=RI("".slice),bk=/\+/g,Ek=Array(4),Sk=function(e){return Ek[e-1]||(Ek[e-1]=uk("((?:%[\\da-f]{2}){"+e+"})","gi"))},wk=function(e){try{return lk(e)}catch(t){return e}},Tk=function(e){var t=vk(e,bk," "),r=4;try{return lk(t)}catch(e){for(;r;){t=vk(t,Sk(r--),wk)}return t}},Ck=/[!'()~]|%20/g,Ak={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Rk=function(e){return Ak[e]},Ik=function(e){return vk(fk(e),Ck,Rk)},kk=xI((function(e,t){XI(this,{type:ZI,iterator:GI(QI(e).entries),kind:t})}),"Iterator",(function(){var e=ek(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),Ok=function(e){this.entries=[],this.url=null,void 0!==e&&(HI(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===dk(e,0)?_k(e,1):e:VI(e)))};Ok.prototype={type:JI,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,o,a,s,u=YI(e);if(u){for(r=(t=GI(e,u)).next;!(n=AI(r,t)).done;){if(o=(i=GI(FI(n.value))).next,(a=AI(o,i)).done||(s=AI(o,i)).done||!AI(o,i).done){throw ck("Expected sequence with length 2")}pk(this.entries,{key:VI(a.value),value:VI(s.value)})}}else{for(var c in e){jI(e,c)&&pk(this.entries,{key:c,value:VI(e[c])})}}},parseQuery:function(e){if(e){for(var t,r,n=yk(e,"&"),i=0;i<n.length;){(t=n[i++]).length&&(r=yk(t,"="),pk(this.entries,{key:Tk(gk(r)),value:Tk(hk(r,"="))}))}}},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;){e=t[n++],pk(r,Ik(e.key)+"="+Ik(e.value))}return hk(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Pk=function(){DI(this,Mk),XI(this,new Ok(arguments.length>0?arguments[0]:void 0))},Mk=Pk.prototype;if(PI(Mk,{append:function(e,t){KI(arguments.length,2);var r=QI(this);pk(r.entries,{key:VI(e),value:VI(t)}),r.updateURL()},delete:function(e){KI(arguments.length,1);for(var t=QI(this),r=t.entries,n=VI(e),i=0;i<r.length;){r[i].key===n?mk(r,i,1):i++}t.updateURL()},get:function(e){KI(arguments.length,1);for(var t=QI(this).entries,r=VI(e),n=0;n<t.length;n++){if(t[n].key===r){return t[n].value}}return null},getAll:function(e){KI(arguments.length,1);for(var t=QI(this).entries,r=VI(e),n=[],i=0;i<t.length;i++){t[i].key===r&&pk(n,t[i].value)}return n},has:function(e){KI(arguments.length,1);for(var t=QI(this).entries,r=VI(e),n=0;n<t.length;){if(t[n++].key===r){return!0}}return!1},set:function(e,t){KI(arguments.length,1);for(var r,n=QI(this),i=n.entries,o=!1,a=VI(e),s=VI(t),u=0;u<i.length;u++){(r=i[u]).key===a&&(o?mk(i,u--,1):(o=!0,r.value=s))}o||pk(i,{key:a,value:s}),n.updateURL()},sort:function(){var e=QI(this);qI(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=QI(this).entries,n=UI(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;){n((t=r[i++]).value,t.key,this)}},keys:function(){return new kk(this,"keys")},values:function(){return new kk(this,"values")},entries:function(){return new kk(this,"entries")}},{enumerable:!0}),OI(Mk,$I,Mk.entries,{name:"entries"}),OI(Mk,"toString",(function(){return QI(this).serialize()}),{enumerable:!0}),MI(Pk,JI),TI({global:!0,constructor:!0,forced:!kI},{URLSearchParams:Pk}),!kI&&NI(ok)){var xk=RI(sk.has),Lk=RI(sk.set),Dk=function(e){if(HI(e)){var t,r=e.body;if(BI(r)===JI){return t=e.headers?new ok(e.headers):new ok,xk(t,"content-type")||Lk(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),WI(e,{body:zI(0,VI(r)),headers:zI(0,t)})}}return e};if(NI(nk)&&TI({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return nk(e,arguments.length>1?Dk(arguments[1]):{})}}),NI(ik)){var Nk=function(e){return DI(this,ak),new ik(e,arguments.length>1?Dk(arguments[1]):{})};ak.constructor=Nk,Nk.prototype=ak,TI({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Nk})}}var jk,Uk=ci,Bk=_,Fk=PR,Hk=g,Vk=_o,Wk=N,zk=on,Gk=function(e,t,r){return r.get&&MR(r.get,t,{getter:!0}),r.set&&MR(r.set,t,{setter:!0}),xR.f(e,t,r)},Yk=ki,Kk=Ye,qk=YR,$k=function(e){var t=ZR(e),r=eI(this),n=arguments.length,i=n>1?arguments[1]:void 0,o=void 0!==i;o&&(i=$R(i,n>2?arguments[2]:void 0));var a,s,u,c,l,f,d=iI(t),h=0;if(!d||this===oI&&QR(d)){for(a=tI(t),s=r?new this(a):oI(a);a>h;h++){f=o?i(t[h],h):t[h],rI(s,h,f)}}else{for(l=(c=nI(t,d)).next,s=r?new this:[];!(u=JR(l,c)).done;h++){f=o?XR(c,i,[u.value,h],!0):u.value,rI(s,h,f)}}return s.length=h,s},Jk=ry,Zk=cp.codeAt,Xk=function(e){var t,r,n=[],i=_I(yI(bI(e),cI,"."),".");for(t=0;t<i.length;t++){r=i[t],mI(n,dI(uI,r)?"xn--"+wI(r):r)}return gI(n,".")},Qk=uc,eO=Ei,tO=wo,rO={URLSearchParams:Pk,getState:QI},nO=Hr,iO=nO.set,oO=nO.getterFor("URL"),aO=rO.URLSearchParams,sO=rO.getState,uO=Hk.URL,cO=Hk.TypeError,lO=Hk.parseInt,fO=Math.floor,dO=Math.pow,hO=Wk("".charAt),pO=Wk(/./.exec),vO=Wk([].join),gO=Wk(1..toString),mO=Wk([].pop),yO=Wk([].push),_O=Wk("".replace),bO=Wk([].shift),EO=Wk("".split),SO=Wk("".slice),wO=Wk("".toLowerCase),TO=Wk([].unshift),CO="Invalid scheme",AO="Invalid host",RO="Invalid port",IO=/[a-z]/i,kO=/[\d+-.a-z]/i,OO=/\d/,PO=/^0x/i,MO=/^[0-7]+$/,xO=/^\d+$/,LO=/^[\da-f]+$/i,DO=/[\0\t\n\r #%/:<>?@[\\\]^|]/,NO=/[\0\t\n\r #/:<>?@[\\\]^|]/,jO=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,UO=/[\t\n\r]/g,BO=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++){TO(t,e%256),e=fO(e/256)}return vO(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++){0!==e[o]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i)}return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++){i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=gO(e[r],16),r<7&&(t+=":")))}return"["+t+"]"}return e},FO={},HO=qk({},FO,{" ":1,'"':1,"<":1,">":1,"`":1}),VO=qk({},HO,{"#":1,"?":1,"{":1,"}":1}),WO=qk({},VO,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),zO=function(e,t){var r=Zk(e,0);return r>32&&r<127&&!Kk(t,e)?e:encodeURIComponent(e)},GO={ftp:21,file:null,http:80,https:443,ws:80,wss:443},YO=function(e,t){var r;return 2==e.length&&pO(IO,hO(e,0))&&(":"==(r=hO(e,1))||!t&&"|"==r)},KO=function(e){var t;return e.length>1&&YO(SO(e,0,2))&&(2==e.length||"/"===(t=hO(e,2))||"\\"===t||"?"===t||"#"===t)},qO=function(e){return"."===e||"%2e"===wO(e)},$O={},JO={},ZO={},XO={},QO={},eP={},tP={},rP={},nP={},iP={},oP={},aP={},sP={},uP={},cP={},lP={},fP={},dP={},hP={},pP={},vP={},gP=function(e,t,r){var n,i,o,a=Qk(e);if(t){if(i=this.parse(a)){throw cO(i)}this.searchParams=null}else{if(void 0!==r&&(n=new gP(r,!0)),i=this.parse(a,null,n)){throw cO(i)}(o=sO(new aO)).bindURL(this),this.searchParams=o}};gP.prototype={type:"URL",parse:function(e,t,r){var n,i,o,a,s,u=this,c=t||$O,l=0,f="",d=!1,h=!1,p=!1;for(e=Qk(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=_O(e,jO,"")),e=_O(e,UO,""),n=$k(e);l<=n.length;){switch(i=n[l],c){case $O:if(!i||!pO(IO,i)){if(t){return CO}c=ZO;continue}f+=wO(i),c=JO;break;case JO:if(i&&(pO(kO,i)||"+"==i||"-"==i||"."==i)){f+=wO(i)}else{if(":"!=i){if(t){return CO}f="",c=ZO,l=0;continue}if(t&&(u.isSpecial()!=Kk(GO,f)||"file"==f&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host)){return}if(u.scheme=f,t){return void(u.isSpecial()&&GO[u.scheme]==u.port&&(u.port=null))}f="","file"==u.scheme?c=uP:u.isSpecial()&&r&&r.scheme==u.scheme?c=XO:u.isSpecial()?c=rP:"/"==n[l+1]?(c=QO,l++):(u.cannotBeABaseURL=!0,yO(u.path,""),c=hP)}break;case ZO:if(!r||r.cannotBeABaseURL&&"#"!=i){return CO}if(r.cannotBeABaseURL&&"#"==i){u.scheme=r.scheme,u.path=Jk(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,c=vP;break}c="file"==r.scheme?uP:eP;continue;case XO:if("/"!=i||"/"!=n[l+1]){c=eP;continue}c=nP,l++;break;case QO:if("/"==i){c=iP;break}c=dP;continue;case eP:if(u.scheme=r.scheme,i==jk){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=Jk(r.path),u.query=r.query}else if("/"==i||"\\"==i&&u.isSpecial()){c=tP}else if("?"==i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=Jk(r.path),u.query="",c=pP}else{if("#"!=i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=Jk(r.path),u.path.length--,c=dP;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=Jk(r.path),u.query=r.query,u.fragment="",c=vP}break;case tP:if(!u.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,c=dP;continue}c=iP}else{c=nP}break;case rP:if(c=nP,"/"!=i||"/"!=hO(f,l+1)){continue}l++;break;case nP:if("/"!=i&&"\\"!=i){c=iP;continue}break;case iP:if("@"==i){d&&(f="%40"+f),d=!0,o=$k(f);for(var v=0;v<o.length;v++){var g=o[v];if(":"!=g||p){var m=zO(g,WO);p?u.password+=m:u.username+=m}else{p=!0}}f=""}else if(i==jk||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(d&&""==f){return"Invalid authority"}l-=$k(f).length+1,f="",c=oP}else{f+=i}break;case oP:case aP:if(t&&"file"==u.scheme){c=lP;continue}if(":"!=i||h){if(i==jk||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(u.isSpecial()&&""==f){return AO}if(t&&""==f&&(u.includesCredentials()||null!==u.port)){return}if(a=u.parseHost(f)){return a}if(f="",c=fP,t){return}continue}"["==i?h=!0:"]"==i&&(h=!1),f+=i}else{if(""==f){return AO}if(a=u.parseHost(f)){return a}if(f="",c=sP,t==aP){return}}break;case sP:if(!pO(OO,i)){if(i==jk||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()||t){if(""!=f){var y=lO(f,10);if(y>65535){return RO}u.port=u.isSpecial()&&y===GO[u.scheme]?null:y,f=""}if(t){return}c=fP;continue}return RO}f+=i;break;case uP:if(u.scheme="file","/"==i||"\\"==i){c=cP}else{if(!r||"file"!=r.scheme){c=dP;continue}if(i==jk){u.host=r.host,u.path=Jk(r.path),u.query=r.query}else if("?"==i){u.host=r.host,u.path=Jk(r.path),u.query="",c=pP}else{if("#"!=i){KO(vO(Jk(n,l),""))||(u.host=r.host,u.path=Jk(r.path),u.shortenPath()),c=dP;continue}u.host=r.host,u.path=Jk(r.path),u.query=r.query,u.fragment="",c=vP}}break;case cP:if("/"==i||"\\"==i){c=lP;break}r&&"file"==r.scheme&&!KO(vO(Jk(n,l),""))&&(YO(r.path[0],!0)?yO(u.path,r.path[0]):u.host=r.host),c=dP;continue;case lP:if(i==jk||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&YO(f)){c=dP}else if(""==f){if(u.host="",t){return}c=fP}else{if(a=u.parseHost(f)){return a}if("localhost"==u.host&&(u.host=""),t){return}f="",c=fP}continue}f+=i;break;case fP:if(u.isSpecial()){if(c=dP,"/"!=i&&"\\"!=i){continue}}else if(t||"?"!=i){if(t||"#"!=i){if(i!=jk&&(c=dP,"/"!=i)){continue}}else{u.fragment="",c=vP}}else{u.query="",c=pP}break;case dP:if(i==jk||"/"==i||"\\"==i&&u.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(s=wO(s=f))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(u.shortenPath(),"/"==i||"\\"==i&&u.isSpecial()||yO(u.path,"")):qO(f)?"/"==i||"\\"==i&&u.isSpecial()||yO(u.path,""):("file"==u.scheme&&!u.path.length&&YO(f)&&(u.host&&(u.host=""),f=hO(f,0)+":"),yO(u.path,f)),f="","file"==u.scheme&&(i==jk||"?"==i||"#"==i)){for(;u.path.length>1&&""===u.path[0];){bO(u.path)}}"?"==i?(u.query="",c=pP):"#"==i&&(u.fragment="",c=vP)}else{f+=zO(i,VO)}break;case hP:"?"==i?(u.query="",c=pP):"#"==i?(u.fragment="",c=vP):i!=jk&&(u.path[0]+=zO(i,FO));break;case pP:t||"#"!=i?i!=jk&&("'"==i&&u.isSpecial()?u.query+="%27":u.query+="#"==i?"%23":zO(i,FO)):(u.fragment="",c=vP);break;case vP:i!=jk&&(u.fragment+=zO(i,HO))}l++}},parseHost:function(e){var t,r,n;if("["==hO(e,0)){if("]"!=hO(e,e.length-1)){return AO}if(t=function(e){var t,r,n,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return hO(e,f)};if(":"==d()){if(":"!=hO(e,1)){return}f+=2,l=++c}for(;d();){if(8==c){return}if(":"!=d()){for(t=r=0;r<4&&pO(LO,d());){t=16*t+lO(d(),16),f++,r++}if("."==d()){if(0==r){return}if(f-=r,c>6){return}for(n=0;d();){if(i=null,n>0){if(!("."==d()&&n<4)){return}f++}if(!pO(OO,d())){return}for(;pO(OO,d());){if(o=lO(d(),10),null===i){i=o}else{if(0==i){return}i=10*i+o}if(i>255){return}f++}u[c]=256*u[c]+i,2!=++n&&4!=n||c++}if(4!=n){return}break}if(":"==d()){if(f++,!d()){return}}else if(d()){return}u[c++]=t}else{if(null!==l){return}f++,l=++c}}if(null!==l){for(a=c-l,c=7;0!=c&&a>0;){s=u[c],u[c--]=u[l+a-1],u[l+--a]=s}}else if(8!=c){return}return u}(SO(e,1,-1)),!t){return AO}this.host=t}else if(this.isSpecial()){if(e=Xk(e),pO(DO,e)){return AO}if(t=function(e){var t,r,n,i,o,a,s,u=EO(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4){return e}for(r=[],n=0;n<t;n++){if(""==(i=u[n])){return e}if(o=10,i.length>1&&"0"==hO(i,0)&&(o=pO(PO,i)?16:8,i=SO(i,8==o?1:2)),""===i){a=0}else{if(!pO(10==o?xO:8==o?MO:LO,i)){return e}a=lO(i,o)}yO(r,a)}for(n=0;n<t;n++){if(a=r[n],n==t-1){if(a>=dO(256,5-t)){return null}}else if(a>255){return null}}for(s=mO(r),n=0;n<r.length;n++){s+=r[n]*dO(256,3-n)}return s}(e),null===t){return AO}this.host=t}else{if(pO(NO,e)){return AO}for(t="",r=$k(e),n=0;n<r.length;n++){t+=zO(r[n],FO)}this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return Kk(GO,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&YO(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=BO(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+vO(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t){throw cO(t)}this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e){try{return new mP(e.path[0]).origin}catch(e){return"null"}}return"file"!=e&&this.isSpecial()?e+"://"+BO(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Qk(e)+":",$O)},getUsername:function(){return this.username},setUsername:function(e){var t=$k(Qk(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++){this.username+=zO(t[r],WO)}}},getPassword:function(){return this.password},setPassword:function(e){var t=$k(Qk(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++){this.password+=zO(t[r],WO)}}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?BO(e):BO(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,oP)},getHostname:function(){var e=this.host;return null===e?"":BO(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,aP)},getPort:function(){var e=this.port;return null===e?"":Qk(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=Qk(e))?this.port=null:this.parse(e,sP))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+vO(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,fP))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=Qk(e))?this.query=null:("?"==hO(e,0)&&(e=SO(e,1)),this.query="",this.parse(e,pP)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=Qk(e))?("#"==hO(e,0)&&(e=SO(e,1)),this.fragment="",this.parse(e,vP)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var mP=function(e){var t=Yk(this,yP),r=tO(arguments.length,1)>1?arguments[1]:void 0,n=iO(t,new gP(e,!1,r));Bk||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},yP=mP.prototype,_P=function(e,t){return{get:function(){return oO(this)[e]()},set:t&&function(e){return oO(this)[t](e)},configurable:!0,enumerable:!0}};if(Bk&&(Gk(yP,"href",_P("serialize","setHref")),Gk(yP,"origin",_P("getOrigin")),Gk(yP,"protocol",_P("getProtocol","setProtocol")),Gk(yP,"username",_P("getUsername","setUsername")),Gk(yP,"password",_P("getPassword","setPassword")),Gk(yP,"host",_P("getHost","setHost")),Gk(yP,"hostname",_P("getHostname","setHostname")),Gk(yP,"port",_P("getPort","setPort")),Gk(yP,"pathname",_P("getPathname","setPathname")),Gk(yP,"search",_P("getSearch","setSearch")),Gk(yP,"searchParams",_P("getSearchParams")),Gk(yP,"hash",_P("getHash","setHash"))),zk(yP,"toJSON",(function(){return oO(this).serialize()}),{enumerable:!0}),zk(yP,"toString",(function(){return oO(this).serialize()}),{enumerable:!0}),uO){var bP=uO.createObjectURL,EP=uO.revokeObjectURL;bP&&zk(mP,"createObjectURL",Vk(bP,uO)),EP&&zk(mP,"revokeObjectURL",Vk(EP,uO))}eO(mP,"URL"),Uk({global:!0,constructor:!0,forced:!Fk,sham:!Bk},{URL:mP});const SP="player-state-change",wP="screen-sharing-stopped",TP="audio-mixing-finished",CP="audio-mixing-played",AP="player-state-trace",RP=["camera-capture"],IP={CameraCapture:RP[0]},kP={low:{sampleRate:16e3,channelCount:1,bitrate:24e3},standard:{sampleRate:48e3,channelCount:1,bitrate:4e4},high:{sampleRate:48e3,channelCount:1,bitrate:128e3}},OP=["low","standard","high"],PP={"90p_1":{width:160,height:90,frameRate:15,minBitrate:64e3,maxBitrate:11e4},"90p_2":{width:120,height:90,frameRate:15,minBitrate:64e3,maxBitrate:11e4},"120p_1":{width:160,height:120,frameRate:15,minBitrate:64e3,maxBitrate:12e4},"120p_2":{width:120,height:120,frameRate:15,minBitrate:64e3,maxBitrate:11e4},"180p_1":{width:320,height:180,frameRate:15,minBitrate:8e4,maxBitrate:32e4},"180p_2":{width:240,height:180,frameRate:15,minBitrate:8e4,maxBitrate:17e4},"180p_3":{width:180,height:180,frameRate:15,minBitrate:64e3,maxBitrate:13e4},"240p_1":{width:320,height:240,frameRate:15,minBitrate:1e5,maxBitrate:4e5},"240p_2":{width:240,height:240,frameRate:15,minBitrate:8e4,maxBitrate:32e4},"270p_1":{width:480,height:270,frameRate:15,minBitrate:16e4,maxBitrate:6e5},"300p_1":{width:400,height:300,frameRate:15,minBitrate:2e5,maxBitrate:5e5},"360p_1":{width:640,height:360,frameRate:15,minBitrate:2e5,maxBitrate:8e5},"360p_2":{width:480,height:360,frameRate:15,minBitrate:2e5,maxBitrate:7e5},"360p_3":{width:360,height:360,frameRate:15,minBitrate:15e4,maxBitrate:6e5},"450p_1":{width:800,height:450,frameRate:15,minBitrate:3e5,maxBitrate:95e4},"480p_1":{width:640,height:480,frameRate:15,minBitrate:25e4,maxBitrate:9e5},"480p_2":{width:480,height:480,frameRate:15,minBitrate:2e5,maxBitrate:8e5},"540p_1":{width:960,height:540,frameRate:15,minBitrate:4e5,maxBitrate:1e6},"630p_1":{width:1120,height:630,frameRate:15,minBitrate:45e4,maxBitrate:115e4},"720p_1":{width:1280,height:720,frameRate:15,minBitrate:5e5,maxBitrate:15e5},"720p_2":{width:960,height:720,frameRate:15,minBitrate:45e4,maxBitrate:11e5},"1080p_1":{width:1920,height:1080,frameRate:15,minBitrate:6e5,maxBitrate:2e6},"1080p_2":{width:1440,height:1080,frameRate:15,minBitrate:55e4,maxBitrate:17e5}},MP=["90p_1","90p_2","120p_1","120p_2","180p_1","180p_2","180p_3","240p_1","240p_2","270p_1","300p_1","360p_1","360p_2","360p_3","450p_1","480p_1","480p_2","540p_1","630p_1","720p_1","720p_2","1080p_1","1080p_2"],xP={"720p":{width:1280,height:720,frameRate:15,bitrate:12e5},"1080p":{width:1920,height:1080,frameRate:15,bitrate:2e6}},LP=["720p","1080p"],DP="inbound-rtp-audio",NP="inbound-rtp-video",jP="outbound-rtp-audio",UP="outbound-rtp-video",BP="remote-inbound-rtp-audio",FP="remote-inbound-rtp-video";let HP=function(e){return e[e.IDLE=0]="IDLE",e[e.INIT=1]="INIT",e[e.PLAY=2]="PLAY",e[e.PAUSE=3]="PAUSE",e}({});const VP=["IDLE","DISCONNECTED","CONNECTING","RECONNECTING","CONNECTED"];let WP=function(e){return e[e.IDLE=0]="IDLE",e[e.DISCONNECTED=1]="DISCONNECTED",e[e.CONNECTING=2]="CONNECTING",e[e.RECONNECTING=3]="RECONNECTING",e[e.CONNECTED=4]="CONNECTED",e}({}),zP=function(e){return e[e.MediaStatusAvailable=1]="MediaStatusAvailable",e[e.MediaStatusUnavailable=2]="MediaStatusUnavailable",e}({}),GP=function(e){return e[e.BackgroundMusic=1]="BackgroundMusic",e[e.Audio=2]="Audio",e[e.Video=3]="Video",e[e.Aux=4]="Aux",e}({}),YP=function(e){return e[e.MediaOffline=0]="MediaOffline",e[e.MediaMuted=1]="MediaMuted",e[e.MediaUnmuted=2]="MediaUnmuted",e}({});const KP=new Set(["TOP_AUDIO"]);let qP=function(e){return e.configNotify="NOTIFY_CONFIG",e.watchStreamNotify="WATCH_STREAM_NOTIFY",e.disconnectNotify="DISCONNECT_NOTIFY",e.pushStreamNotify="PUSH_STREAM_NOTIFY",e.reconnectNotify="RECONNECT_NOTIFY",e.stopPushStreamNotify="STOP_PUSH_STREAM_NOTIFY",e.changeStreamStatusNotify="CHANGE_STREAM_STATUS_NOTIFY",e.appDataChangeNotify="APP_DATA_NOTIFY",e.top3AudioVolumeNotify="TOP_AUDIO",e.statusChangeNotify="NOTIFY_STATUS",e.publishStatusNotify="PUBLISH_STATUS_NOTIFY",e.uploadLogNotify="UPLOAD_LOG_NOTIFY",e.roomStreamStatusNotify="ROOM_STREAM_STATUS_NOTIFY",e.kickRoomNotify="KICK_ROOM",e}({}),$P=function(e){return e.main="main",e.middle1="middle1",e.middle2="middle2",e.middle3="middle3",e.middle4="middle4",e.slides="slides",e.desktop="desktop",e}({});async function JP(){return new Promise(((e,t)=>{navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices||t(new oc(nc.RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES)),navigator.mediaDevices.enumerateDevices().then((r=>{r&&0!==r.length?e(r):t(new oc(nc.RTC_ERR_CODE_NO_AVAILABLE_DEVICES))})).catch((e=>{t(e)}))}))}async function ZP(){return new Promise(((e,t)=>{JP().then((r=>{const n=r.filter((e=>"videoinput"===e.kind));n&&0!==n.length?e(n):t(new oc(nc.RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES))})).catch((e=>{t(e)}))}))}const XP="0",QP=-1e3;let eM=function(e){return e[e.Idle=0]="Idle",e[e.Joining=1]="Joining",e[e.Joined=2]="Joined",e[e.Leaving=3]="Leaving",e[e.Rejoining=4]="Rejoining",e}({}),tM=function(e){return e[e.DEFAULT_BANDWIDTH_4M=4096e3]="DEFAULT_BANDWIDTH_4M",e[e.MIN_BAND_WIDTH=3072]="MIN_BAND_WIDTH",e[e.MAX_BAND_WIDTH=51200]="MAX_BAND_WIDTH",e}({}),rM=function(e){return e[e.HRTC_LEAVE_REASON_USER_LEAVE_ROOM=0]="HRTC_LEAVE_REASON_USER_LEAVE_ROOM",e[e.HRTC_LEAVE_REASON_SERVER_ERROR=1]="HRTC_LEAVE_REASON_SERVER_ERROR",e[e.HRTC_LEAVE_REASON_BREAKDOWN=2]="HRTC_LEAVE_REASON_BREAKDOWN",e[e.HRTC_LEAVE_REASON_SERVICE_UNREACHABLE=3]="HRTC_LEAVE_REASON_SERVICE_UNREACHABLE",e[e.HRTC_LEAVE_REASON_INTERNAL_ERROR=4]="HRTC_LEAVE_REASON_INTERNAL_ERROR",e[e.HRTC_LEAVE_REASON_KICKED_OFF=5]="HRTC_LEAVE_REASON_KICKED_OFF",e[e.HRTC_LEAVE_REASON_SIGNATURE_EXPIRED=6]="HRTC_LEAVE_REASON_SIGNATURE_EXPIRED",e[e.HRTC_LEAVE_REASON_RECONNECT_FAILED=7]="HRTC_LEAVE_REASON_RECONNECT_FAILED",e[e.HRTC_LEAVE_REASON_NETWORK_TEST=8]="HRTC_LEAVE_REASON_NETWORK_TEST",e[e.HRTC_LEAVE_REASON_USER_REMOVED=9]="HRTC_LEAVE_REASON_USER_REMOVED",e[e.HRTC_LEAVE_REASON_ROOM_DISMISSED=10]="HRTC_LEAVE_REASON_ROOM_DISMISSED",e}({}),nM=function(e){return e[e.ON=1]="ON",e[e.OFF=2]="OFF",e}({}),iM=function(e){return e[e.portNormal=1]="portNormal",e[e.portReduce=2]="portReduce",e}({});const oM={Error:"Error",StreamAdded:"stream-added",StreamRemoved:"stream-removed",StreamUpdated:"stream-updated",StreamSubscribed:"stream-subscribed",ClientBanned:"client-banned",NetworkQuality:"network-quality",ConnectionStateChanged:"connection-state-changed",PeerJoin:"peer-join",PeerLeave:"peer-leave",LocalLeave:"local-leave",MuteAudio:"mute-audio",UnmuteAudio:"unmute-audio",MuteVideo:"mute-video",UnmuteVideo:"unmute-video",LogUploaded:"log-upload-result",SignatureExpired:"signature-expired",CameraChanged:"camera-changed",RecordingDeviceChanged:"recording-device-changed",PlaybackDeviceChanged:"playback-device-changed",StreamInterrupted:"stream-interrupted",StreamRecovered:"stream-recovered",VolumeIndicator:"volume-indicator",UserNameChanged:"remote-user-name-changed",BatchSubscribeFailed:"batch-subscribe-failed",LiveStreamingUpdated:"live-streaming-updated",RtcStats:"rtc-stats",CmdMsgReceived:"cmd-msg-received",CmdChannelEstablished:"cmd-channel-established",CmdChannelDisconnect:"cmd-channel-disconnect",MediaConnectionStateChanged:"media-connection-state-changed",TransportProtocolChanged:"transport-protocol-changed",TransportStats:"transport-stats",RoomStreamStatus:"room-stream-status",KickRoomStatus:"kick-room"};let aM=function(e){return e[e.NON_ENCRYPTION=0]="NON_ENCRYPTION",e[e.ENCRYPTION_FRAME_SDK=1]="ENCRYPTION_FRAME_SDK",e[e.ENCRYPTION_FRAME_APP=2]="ENCRYPTION_FRAME_APP",e[e.ENCRYPTION_E2E_WITHOUT_MEDIA=3]="ENCRYPTION_E2E_WITHOUT_MEDIA",e}({}),sM=function(e){return e.Connected="CONNECTED",e.Reconnecting="RECONNECTING",e.DisConnected="DISCONNECTED",e}({}),uM=function(e){return e.WEBSOCKET="WebSocket",e.DATA_CHANNEL="DataChannel",e}({}),cM=function(e){return e[e.ARRAY_BUFFER=0]="ARRAY_BUFFER",e[e.STRING=1]="STRING",e}({}),lM=function(e){return e[e.PAUSE=0]="PAUSE",e[e.NORMAL=1]="NORMAL",e}({}),fM=function(e){return e[e.NET_OR_SERVERIP_ERROR=1]="NET_OR_SERVERIP_ERROR",e[e.ROOM_NOT_AVAILABLE=2]="ROOM_NOT_AVAILABLE",e[e.SERVER_ERROR=3]="SERVER_ERROR",e[e.SERVER_NO_RESPONSE=4]="SERVER_NO_RESPONSE",e[e.AUTHENTICATION_FAILED=5]="AUTHENTICATION_FAILED",e[e.RETRY_AUTHENTICATION=6]="RETRY_AUTHENTICATION",e[e.SYNCHRONIZE_FAILED=7]="SYNCHRONIZE_FAILED",e[e.URL_ERROR=8]="URL_ERROR",e[e.TERMINAL_ERROR=9]="TERMINAL_ERROR",e}({}),dM=function(e){return e[e.LEAVE_ROOM_SUCCESS=0]="LEAVE_ROOM_SUCCESS",e[e.LEAVE_ROOM_ERROR=1]="LEAVE_ROOM_ERROR",e}({}),hM=function(e){return e[e.ACTION_START=0]="ACTION_START",e[e.ACTION_STOP=1]="ACTION_STOP",e}({}),pM=function(e){return e[e.RESULT_SUCCESS=0]="RESULT_SUCCESS",e[e.RESULT_ERROR=1]="RESULT_ERROR",e}({}),vM=function(e){return e[e.OUTPUT_AUDIO=0]="OUTPUT_AUDIO",e[e.INPUT_AUDIO=1]="INPUT_AUDIO",e[e.INPUT_VIDEO=2]="INPUT_VIDEO",e}({}),gM=function(e){return e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO",e[e.AUX=2]="AUX",e}({}),mM=function(e){return e[e.SUCCESS=0]="SUCCESS",e[e.FAIL=1]="FAIL",e}({});const yM=0,_M=1;let bM=function(e){return e[e.SIGNAL=0]="SIGNAL",e[e.MEDIA=1]="MEDIA",e}({}),EM=function(e){return e[e.CLOSED=0]="CLOSED",e[e.CONNECTED=1]="CONNECTED",e}({}),SM=function(e){return e[e.EVENT_JOIN_ROOM=1]="EVENT_JOIN_ROOM",e[e.EVENT_LEAVE_ROOM=2]="EVENT_LEAVE_ROOM",e[e.EVENT_WATCH=3]="EVENT_WATCH",e[e.EVENT_OPT_AUDIO=5]="EVENT_OPT_AUDIO",e[e.EVENT_SWITCH_NET=6]="EVENT_SWITCH_NET",e[e.EVENT_OPT_VIDEO=7]="EVENT_OPT_VIDEO",e[e.EVENT_SWITCH_DEVICE=9]="EVENT_SWITCH_DEVICE",e[e.EVENT_DNS_TIME=10]="EVENT_DNS_TIME",e[e.EVENT_SWITCH_ROLE=11]="EVENT_SWITCH_ROLE",e[e.EVENT_SEND_MEDIA=12]="EVENT_SEND_MEDIA",e[e.EVENT_START_MEDIA=13]="EVENT_START_MEDIA",e[e.EVENT_SEND_AUX_STREAM=14]="EVENT_SEND_AUX_STREAM",e[e.EVENT_SUBSCIBE=16]="EVENT_SUBSCIBE",e[e.EVENT_CONNECT_OTHER_ROOM=17]="EVENT_CONNECT_OTHER_ROOM",e[e.EVENT_CONNECTION_CHANNEL_STATUS=18]="EVENT_CONNECTION_CHANNEL_STATUS",e[e.EVENT_SET_UP_STREAM=19]="EVENT_SET_UP_STREAM",e[e.EVENT_SET_AUDIO_POLICY=20]="EVENT_SET_AUDIO_POLICY",e}({}),wM=function(e){return e[e.QoS_UP_STREAM_VIDEO=1001]="QoS_UP_STREAM_VIDEO",e[e.QoS_DOWN_STREAM_VIDEO=1002]="QoS_DOWN_STREAM_VIDEO",e[e.QoS_UP_STREAM_AUDIO=1003]="QoS_UP_STREAM_AUDIO",e[e.QoS_DOWN_STREAM_AUDIO=1004]="QoS_DOWN_STREAM_AUDIO",e[e.QoS_AUX_UP_STREAM_VIDEO=1005]="QoS_AUX_UP_STREAM_VIDEO",e[e.QoS_AUX_DOWN_STREAM_VIDEO=1006]="QoS_AUX_DOWN_STREAM_VIDEO",e[e.QoS_DOWN_STREAM_AUDIO_STAT=1007]="QoS_DOWN_STREAM_AUDIO_STAT",e[e.QoS_UP_STREAM_VIDEO_SUM=1011]="QoS_UP_STREAM_VIDEO_SUM",e[e.QoS_DOWN_STREAM_VIDEO_SUM=1012]="QoS_DOWN_STREAM_VIDEO_SUM",e[e.QoS_UP_STREAM_AUDIO_SUM=1013]="QoS_UP_STREAM_AUDIO_SUM",e[e.QoS_DOWN_STREAM_AUDIO_SUM=1014]="QoS_DOWN_STREAM_AUDIO_SUM",e}({}),TM=function(e){return e[e.DEVICE_RT_SYSTEM=2001]="DEVICE_RT_SYSTEM",e[e.DEVICE_RT_CAMERA=2002]="DEVICE_RT_CAMERA",e[e.DEVICE_RT_SPEAKER=2003]="DEVICE_RT_SPEAKER",e[e.DEVICE_RT_MICROPHONE=2004]="DEVICE_RT_MICROPHONE",e}({}),CM=function(e){return e[e.DEVICE_STATUS_SPEAKER=3001]="DEVICE_STATUS_SPEAKER",e[e.DEVICE_STATUS_CAMERA=3002]="DEVICE_STATUS_CAMERA",e[e.DEVICE_STATUS_MICROPHONE=3003]="DEVICE_STATUS_MICROPHONE",e[e.DEVICE_STATUS_DEVICE_CHANGE=3004]="DEVICE_STATUS_DEVICE_CHANGE",e[e.DEVICE_STATUS_ERROR=3005]="DEVICE_STATUS_ERROR",e[e.DEVICE_STATUS_MEDIA_QUALITY=3006]="DEVICE_STATUS_MEDIA_QUALITY",e[e.DEVICE_STATUS_USERAGENT=3007]="DEVICE_STATUS_USERAGENT",e}({}),AM=function(e){return e[e.SIGNAL_REQUEST=401]="SIGNAL_REQUEST",e[e.SIGNAL_RESPONSE=402]="SIGNAL_RESPONSE",e}({}),RM=function(e){return e[e.API_CALL=501]="API_CALL",e[e.CALLBACK_API=502]="CALLBACK_API",e}({}),IM=function(e){return e[e.FirstFrame=606]="FirstFrame",e}({}),kM=function(e){return e[e.TraceNuwa=2998]="TraceNuwa",e}({}),OM=function(e){return e[e.SUCCESS=0]="SUCCESS",e[e.FAIL=1]="FAIL",e}({});const PM=["watch","batch_watch","cancel_watch"];let MM=function(e){return e[e.SUCCESS=0]="SUCCESS",e[e.NETWORK_CONNECT_ERROR=1]="NETWORK_CONNECT_ERROR",e[e.CLIENT_NOT_IDEL=2]="CLIENT_NOT_IDEL",e[e.SERVER_ERROR=3]="SERVER_ERROR",e[e.INTERNAL_ERROR=9]="INTERNAL_ERROR",e}({});const xM="2.0.9.539",LM="7476363",DM="v3",NM=5e3,jM=1e4,UM=5,BM=6,FM=120,HM="https://logservice.hicloud.com:443",VM="1090",WM=4,zM=1e3,GM=["webCongestionAlgorithm","webLowLatency","webPlayoutMinDelay","webPlayoutMaxDelay","webFlexfec03","minBitrateByRemb"];let YM=function(e){return e.TRACK_TYPE_AUDIO="audio",e.TRACK_TYPE_VIDEO="video",e.TYPE_APPLICATION="application",e}({}),KM=function(e){return e.STREAM_TYPE_MAIN="main",e.STREAM_TYPE_AUX="aux",e}({}),qM=function(e){return e[e.USER_SUBSCRIBE_AUDIOPOLICY=0]="USER_SUBSCRIBE_AUDIOPOLICY",e[e.TOPN_AUDIOPOLICY=1]="TOPN_AUDIOPOLICY",e}({}),$M=function(e){return e[e.USER_SUBSCRIBE_AUDIOPOLICY=2]="USER_SUBSCRIBE_AUDIOPOLICY",e[e.TOPN_AUDIOPOLICY=3]="TOPN_AUDIOPOLICY",e}({}),JM=function(e){return e[e.COMMON_SFU_RESOURCE=0]="COMMON_SFU_RESOURCE",e[e.COMPANY_SFU_RESOURCE=1]="COMPANY_SFU_RESOURCE",e[e.MPC_SFU_RESOURCE=2]="MPC_SFU_RESOURCE",e[e.LLL_SFU_RESOURCE=3]="LLL_SFU_RESOURCE",e}({});let ZM=function(e){return e[e.NETWORK_QUALITY_UNKNOW=0]="NETWORK_QUALITY_UNKNOW",e[e.NETWORK_QUALITY_GREAT=1]="NETWORK_QUALITY_GREAT",e[e.NETWORK_QUALITY_GOOD=2]="NETWORK_QUALITY_GOOD",e[e.NETWORK_QUALITY_DEFECTS=3]="NETWORK_QUALITY_DEFECTS",e[e.NETWORK_QUALITY_WEAK=4]="NETWORK_QUALITY_WEAK",e[e.NETWORK_QUALITY_BAD=5]="NETWORK_QUALITY_BAD",e[e.NETWORK_QUALITY_DISCONNECT=6]="NETWORK_QUALITY_DISCONNECT",e}({});function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XM(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ex(e){const t=MP.find((t=>t.startsWith("".concat(e.height))&&PP[t].width===e.width||parseInt(t)>e.height));t&&(e.maxBitrate&&e.minBitrate||(e.maxBitrate=PP[t].maxBitrate,e.minBitrate=PP[t].minBitrate),e.frameRate||(e.frameRate=PP[t].frameRate))}let tx=function(){function e(){a(this,e)}return u(e,null,[{key:"getLocalProfileByTrack",value:function e(t,r){const n={},i=t.getSettings();if(t.kind===YM.TRACK_TYPE_AUDIO){n.sampleRate=i.sampleRate,n.channelCount=1}else{var o,a,s,u;const e=t.getConstraints();n.width="number"==typeof e.width?e.width:(null===(o=e.width)||void 0===o?void 0:o.ideal)||i.width,n.height="number"==typeof e.height?e.height:(null===(a=e.height)||void 0===a?void 0:a.ideal)||i.height,n.frameRate=("number"==typeof e.frameRate?e.frameRate:null===(s=e.frameRate)||void 0===s?void 0:s.ideal)||parseInt(null===(u=i.frameRate)||void 0===u?void 0:u.toString()),n.minBitrate=null!=r&&r.minBitrate?null==r?void 0:r.minBitrate:null,n.maxBitrate=null!=r&&r.maxBitrate?null==r?void 0:r.maxBitrate:null,ex(n)}return n}},{key:"formatVideoProfile",value:function e(t){let r={};if(!t){return r=QM({},PP["360p_2"]),r}if("string"==typeof t){if(MP.includes(t)){r=QM({},PP[t])}}else{r.height=t.height,r.width=t.width,r.frameRate=t.frameRate,r.maxBitrate=t.maxBitrate,r.minBitrate=t.minBitrate,void 0!==r.width&&void 0!==r.height||(r.width=PP["360p_2"].width,r.height=PP["360p_2"].height),ex(r)}return r}},{key:"formatAudioProfile",value:function e(t){let r={};if(!t){return r=QM({},kP.standard),r}if("string"==typeof t){if(OP.includes(t)){r=QM({},kP[t])}}else{r.bitrate=t.bitrate,r.channelCount=t.channelCount,r.sampleRate=t.sampleRate,r.sampleRate||(r.sampleRate=16e3),r.channelCount||(r.channelCount=1),r.bitrate||(r.bitrate=24e3)}return r}},{key:"formatScreenProfile",value:function e(t){let r={};if(!t){return r=QM({},xP["720p"]),r}if("string"==typeof t){if(LP.includes(t)){r=QM({},xP[t])}}else{r.height=t.height,r.width=t.width,r.bitrate=t.bitrate,r.frameRate=t.frameRate,r.width&&r.height||(r.width=xP["720p"].width,r.height=xP["720p"].height),r.frameRate||(r.frameRate=15),r.bitrate||(r.bitrate=xP["720p"].bitrate)}return r}},{key:"handleCaptureErrorUtil",value:function e(t){const r=t.name||"";let n;return n=/.*NotAllowedError.*/gi.test(r)?new oc(nc.RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED):/.*OverConstrainedError.*/gi.test(r)?new oc(nc.RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED):/.*NotReadableError.*/gi.test(r)?new oc(nc.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE):/.*NotFoundError.*/gi.test(r)?new oc(nc.RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND):new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR,t.message),n}}])}();window.AudioContext=window.AudioContext||window.webkitAudioContext,window.RTCPeerConnection=window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection;let rx=function(){function e(){a(this,e)}return u(e,null,[{key:"checkSystemRequirements",value:async function t(){let r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sendrecv";if(!window||!navigator){const e=new oc(nc.RTC_ERR_CODE_WINDOW_OR_NAVIGATOR_UNSUPPORTED);return AC.getLogger().error("system","code:".concat(e.getCode(),", message:").concat(e.getMsg())),e}if("chrome"===lC.browserDetails.browser&&e.getBrowserVersion()<67){const e=new oc(nc.RTC_ERR_CODE_CHROME_VERSION_UNSUPPORTED);return AC.getLogger().error("system","code:".concat(e.getCode(),", message:").concat(e.getMsg())),e}if(!this.isWebRTCSupported()){const e=new oc(nc.RTC_ERR_CODE_WEBRTC_UNSUPPORTED);return AC.getLogger().error("system","code:".concat(e.getCode(),", message:").concat(e.getMsg())),e}if(!this.isWebSocketSupported()){const e=new oc(nc.RTC_ERR_CODE_WEBSOCKET_UNSUPPORTED);return AC.getLogger().error("system","code:".concat(e.getCode(),", message:").concat(e.getMsg())),e}if("sendonly"===n||"sendrecv"===n){if(!await this.isH264EncodeSupported()){const e=new oc(nc.RTC_ERR_CODE_WEBRTC_AVC_ENCODE_UNSUPPORTED);return AC.getLogger().error("system","code:".concat(e.getCode(),", message:").concat(e.getMsg())),e}if(!await this.isUserMediaSupported()){const e=new oc(nc.RTC_ERR_CODE_MEDIA_UPSTREAM_UNSUPPORTED);return AC.getLogger().error("system","code:".concat(e.getCode(),", message:").concat(e.getMsg())),e}await this.checkCapture()}if(("recvonly"===n||"sendrecv"===n)&&!await this.isH264DecodeSupported()){const e=new oc(nc.RTC_ERR_CODE_WEBRTC_AVC_DECODE_UNSUPPORTED);return AC.getLogger().error("system","code:".concat(e.getCode(),", message:").concat(e.getMsg())),e}return!yC.isMobileWeChatBrowser()||!r||await e.checkwWeChatSupported()}},{key:"isUserMediaSupported",value:function e(){if(!navigator.mediaDevices){return!1}const t=["getUserMedia","enumerateDevices"];return t.filter((function(e){return e in navigator.mediaDevices})).length===t.length}},{key:"isWebRTCSupported",value:function e(){const t=!!window.RTCPeerConnection;return AC.getLogger().info("system","WebRTCSupported:".concat(t?"YES":"NO")),t}},{key:"isWebSocketSupported",value:function e(){const t="WebSocket"in window&&2===window.WebSocket.CLOSING;return AC.getLogger().info("system","WebSocketSupported:".concat(t?"YES":"NO")),t}},{key:"isH264EncodeSupported",value:async function e(){const t=new RTCPeerConnection,r=document.createElement("canvas");r.getContext("2d");const n=r.captureStream(0);t.addTrack(n.getVideoTracks()[0],n);const i=await t.createOffer();t.close();const o=-1!==i.sdp.toLowerCase().indexOf("h264");return AC.getLogger().info("system","AVCEncodeSupported:".concat(o?"YES":"NO")),o}},{key:"isH264DecodeSupported",value:async function e(){let t=!1,r=!1;for(;;){const e=new RTCPeerConnection,n=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(e.close(),r=-1!==n.sdp.toLowerCase().indexOf("h264"),r||t){return AC.getLogger().info("system","AVCDecodeSupported:".concat(r?"YES":"NO")),r}t=!0}}},{key:"checkCapture",value:async function e(){let t=!1;try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});for(const t of e.getTracks()){t.stop()}}catch(e){t=!0,AC.getLogger().error("system","audio capture fail,msg:".concat(null==e?void 0:e.message))}try{const e=await navigator.mediaDevices.getUserMedia({video:!0});for(const t of e.getTracks()){t.stop()}}catch(e){if(AC.getLogger().error("system","video capture fail, msg: ".concat(null==e?void 0:e.message)),t){return tx.handleCaptureErrorUtil(e)}}return!0}},{key:"checkwWeChatSupported",value:async function t(){if(!e.checkSupportByRegexRules([".*(iphone|ipad).*MicroMessenger.*",".*huawei.*(TBS|XWEB).*MicroMessenger.*",".*honor.*(TBS|XWEB).*MicroMessenger.*",".*Linux; Android.*; V.*(TBS|XWEB).*MicroMessenger.*",".*Linux; Android.*; (C?P|OPPO).*(TBS|XWEB).*MicroMessenger.*",".*Linux; Android.*; (Redmi|MI).*(TBS|XWEB).*MicroMessenger.*",".*Linux; Android.*; SM-.*(TBS|XWEB).*MicroMessenger.*",".*Linux; Android.*; M2.*(TBS|XWEB).*MicroMessenger.*",".*Linux; Android.*; RMX.*(TBS|XWEB).*MicroMessenger.*"])){const e=new oc(nc.RTC_ERR_CODE_WEBRTC_WECHAT_UNSUPPORTED);return AC.getLogger().error("system","code:".concat(e.getCode(),", message:").concat(e.getMsg())),e}return this.checkIOSVersion()}},{key:"checkIOSVersion",value:async function e(){if(0===yC.iosSystemVersionNum()||yC.iosSystemVersionNum()>14.3){return!0}const t=new oc(nc.RTC_ERR_CODE_WEBRTC_WECHAT_UNSUPPORTED,"browser not support,iOS system is earlier than or equal to 14.3");return AC.getLogger().error("system","code:".concat(t.getCode(),", message:").concat(t.getMsg())),t}},{key:"checkSupportByRegexRules",value:function e(t){const r=navigator.userAgent;let n=!1;for(const e of t){if(new RegExp(e,"ig").test(r)){n=!0;break}}return n}},{key:"isRTCScreenShareSupported",value:function e(){return"mediaDevices"in navigator&&"getDisplayMedia"in navigator.mediaDevices}},{key:"isChrome",value:function e(){return"chrome"===lC.browserDetails.browser}},{key:"isFirefox",value:function e(){return"firefox"===lC.browserDetails.browser}},{key:"getBrowserVersion",value:function e(){if("safari"===lC.browserDetails.browser){const e=/.*Version\/(\d+).*/gi.exec(navigator.userAgent);if(e&&2===e.length){return parseInt(e[1])}}return"chrome"===lC.browserDetails.browser?lC.browserDetails.version||91:lC.browserDetails.version}},{key:"isOnlySupportUnfiedPlan",value:function t(){let r=!0;if("chrome"===lC.browserDetails.browser){r=e.getBrowserVersion()>90}else{"safari"===lC.browserDetails.browser&&(r=lC.browserDetails.supportsUnifiedPlan)}return r}},{key:"getBrowserInfo",value:function t(){return"".concat(lC.browserDetails.browser.toLowerCase(),"-").concat(e.getBrowserVersion())}}])}();var nx=function(e){return function(t){return function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}(t)===e}},ix=nx("function"),ox=nx("object"),ax=nx("array"),sx=nx("string"),ux=nx("number"),cx=nx("boolean"),lx=nx("undefined"),fx=nx("null");function dx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++){n[r]=e[r]}return n}function hx(e,t,r){return t=yx(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t)){return t}if(void 0!==t){throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0===e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}(e)}(e,bx()?Reflect.construct(t,r||[],yx(e).constructor):t.apply(e,r))}function px(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function vx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wx(n.key),n)}}function gx(e,t,r){return t&&vx(e.prototype,t),r&&vx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mx(){return mx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=yx(e));){}return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},mx.apply(null,arguments)}function yx(e){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yx(e)}function _x(e,t){if("function"!=typeof t&&null!==t){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ex(e,t)}function bx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bx=function(){return!!e})()}function Ex(e,t){return Ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ex(e,t)}function Sx(e,t){return function(e){if(Array.isArray(e)){return e}}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r){return}u=!1}else{for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0){}}}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a)){return}}finally{if(c){throw i}}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e){return dx(e,t)}var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wx(e){var t=function(e){if("object"!=typeof e||!e){return e}var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r){return r}throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function Tx(e){return Tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(e)}var Cx="baseinfotype",Ax="customEvent",Rx="elementEvent",Ix="clickEvent",kx="HW_",Ox="HWBS_",Px="id",Mx="idts",xx="viewts",Lx="QuotaExceededError",Dx=Array.prototype,Nx=function(e,t){return Dx.includes&&e.includes===Dx.includes?e.includes(t):-1!==e.indexOf(t)},jx=function(e,t,r){var n,i=Dx.forEach;if(i&&e.forEach===i){e.forEach(t,r)}else if((n=e)&&"object"===Tx(n)&&isFinite(n.length)&&n.length>=0&&n.length===Math.floor(n.length)&&n.length<Math.pow(2,32)){for(var o=0,a=e.length;o<a;o++){o in e&&t.call(r,e[o],o,e)}}else{for(var s in e){Object.hasOwnProperty.call(e,s)&&t.call(r,e[s],s,e)}}},Ux=function(e){return jx(Dx.slice.call(arguments,1),(function(t){jx(t,(function(t,r){e[r]=t}))})),e},Bx=function(e,t){return e.indexOf(t)},Fx=function(){var e=new Uint8Array(16),t=window;return(t.crypto||t.webkitCrypto||t.mozCrypto||t.oCrypto||t.msCrypto).getRandomValues(e),function(e,t){if(Dx.map&&e.map===Dx.map){return e.map(t)}var r=[];return jx(e,(function(e,n,i){r.push(t(e))})),r}(e,(function(e){return("0"+e.toString(16)).substr(-2)})).join("")},Hx=["token","ha_linker"];function Vx(e){return e.tagName.toLowerCase()}var Wx=function(e){var t=[];return jx(e,(function(e,r){ax(e)?jx(e,(function(n,i){t.push(r+"="+e[i])})):t.push(r+"="+e)})),t.join("&")},zx=function(){return!lx(window.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest},Gx=navigator,Yx=function(){return Gx&&!lx(Gx.sendBeacon)},Kx=function e(t){var r=t.parentElement;if(!r){return null}var n=Vx(r);return"body"===n||"html"===n?null:"a"===n?r:e(r)},qx=function(){return(new Date).getTime()},$x=function(e){e.length},Jx=function(){return window.haJsBridge||{}},Zx=function(e){var t=null;try{if(Jx().haGetDeviceInfo){var r=qx(),n=Jx().haGetDeviceInfo(e),i=qx();t=sx(n)?JSON.parse(n):n,$x("get device info ".concat(e," use ").concat(i-r," ms. info: ").concat(JSON.stringify(t)))}}catch(e){console.error("json parse device info error.")}return t},Xx=window,Qx={get:function(e){return Xx.localStorage.getItem(e)},set:function(e,t){try{Xx.localStorage.setItem(e,t)}catch(e){if(e.name===Lx){throw new Error(e.name)}console.error(e)}},remove:function(e){Xx.localStorage.removeItem(e)},isSupport:function(){var e=!0;try{var t="__local_store_support__",r="testIsSupportStorage";this.set(t,r),this.get(t)!==r&&(e=!1),this.remove(t)}catch(t){e=!1}return e},length:function(){return Xx.localStorage.length},key:function(e){return Xx.localStorage.key(e)}},eL=document,tL=function(e){var t=new RegExp("(^|;)[ ]*"+e+"=([^;]*)").exec(eL.cookie);return t?decodeURIComponent(t[2]):null},rL=function(e,t,r,n,i,o){if(e&&!/^(?:expires|max-age|path|domain|secure)$/i.test(e)){var a=[];if(a.push("".concat(e,"=").concat(encodeURIComponent(t))),r){var s=new Date;s.setTime(s.getTime()+r),a.push("expires=".concat(s.toUTCString()))}a.push("path=".concat(n||"/")),i&&a.push("domain=".concat(i)),!0===o&&a.push("secure"),eL.cookie=a.join("; ")}},nL=function(e){var t=new Date;t.setTime(t.getTime()-1);var r=tL(e);fx(r)||(eL.cookie=e+"="+r+";expires="+t.toUTCString()+";path=/")};function iL(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener?e.addEventListener(t,r,n):e.attachEvent("on".concat(t),r)}var oL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Sx(e.split("?"),2),n=r[0],i=r[1];if(!i){return e}var o=i.split("&").filter((function(e){return!Nx(t,e.split("=")[0].toLocaleLowerCase())}));return o.length?"".concat(n,"?").concat(o.join("&")):n},aL=function(e){var t={};e.includes("#")&&(e=e.split("#")[0]);var r=e.split("?")[1];if(!r){return t}for(var n=r.split("&"),i=0;i<n.length;++i){var o=Sx(n[i].split("="),2),a=o[0],s=o[1];t[decodeURIComponent(a)]=decodeURIComponent(s)}return t},sL=Object.freeze({__proto__:null,deleteUrlQuery:oL,getQueryParamsFromUrl:aL}),uL=document,cL=document,lL=window,fL=gx((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];px(this,e),this.isH5=r,this.waitTime=0,this.waitTimeFlagTime=0,this.waitTimeFlag=!0,this.accessTime=qx(),this.config={defaultCookie:{},useCookie:!1,isInit:!1,usedPageUrl:!0,intervalTime:18e5,batchSend:!1},this.globals={idsite:"",title:cL.title,id:"unknown",rid:"unknown",idts:qx(),idvc:0,idn:"",di:{sessionId:"unknown"},refts:qx(),viewts:qx(),CXX:"",uid:"",cvar:""},this.customData={},jx(sL,(function(e,r){t[r]=e})),iL(lL,"beforeunload",this.beforeUnloadHandler.bind(this)),iL(cL,"visibilitychange",this.stateChanged.bind(this)),this.updateSessionId()}),[{key:"updateSessionId",value:function(){var e=Zx("sessionId");e&&e.sessionId&&(this.globals.di.sessionId=e.sessionId)}},{key:"beforeUnloadHandler",value:function(){this.config.isInit&&this.config.useCookie&&rL(this.getStoreName(xx),qx(),7776e6,"/"),this.stateChanged()}},{key:"getStoreName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kx,r=arguments.length>2?arguments[2]:void 0;return e&&this.globals.idsite?"".concat(t).concat(e,"_").concat(this.globals.idsite,"_").concat((r||location.host).replace(/\./g,"_")):""}},{key:"handleSessionId",value:function(){var e=this.getStoreName("idn"),t=tL(e);t||(t=Fx()),this.globals.idn=t,this.config.useCookie&&rL(e,t,this.config.intervalTime,"/")}},{key:"stateChanged",value:function(){"visible"===cL.visibilityState&&this.updateSessionId(),"hidden"===cL.visibilityState&&this.config.batchSend&&this.batchSendNow(),this.waitTimeFlag?this.waitTime+=qx()-(this.waitTimeFlagTime||this.accessTime):this.waitTimeFlagTime=qx(),this.waitTimeFlag=!this.waitTimeFlag}},{key:"getData",value:function(e,t,r){var n=lL.navigator.userAgent,i=this.globals,o=i.id,a=i.rid,s=i.di,u=i.CXX,c=i.idsite,l=i.uid,f=i.cvar,d=i.idts,h=i.idvc,p=i.idn,v=i.refts,g=i.viewts;return{type:e,vf:o,rid:a,nsid:s.sessionId,rt:t.eventTime,ut:n.match(/AppleWebKit.*Mobile.*/)?-1!==Bx(n," wv")?2:1:0,cxx:u,idsite:c,suid:l,cvar:t.cvar||f,idts:d,idvc:h,idn:p,refts:v,viewts:g,hsv:"2.2.7-501",data:r}}},{key:"getFinalSendData",value:function(e){var t=new Date,r=this.globals,n=r.title,i=r.id,o=r.idsite,a=r.cvar,s=r.idts,u=r.idvc,c=r.idn,l=r.refts,f=r.viewts,d=r.rid,h=r.di,p=this.config.usedPageUrl,v={idsite:encodeURIComponent(o),rec:"1",r:"886244",h:t.getHours(),m:t.getMinutes(),s:t.getSeconds(),url:encodeURIComponent(this.deleteUrlQuery(p?lL.location.href:"/",Hx)),_id:encodeURIComponent(i),_rid:encodeURIComponent(d),_nsid:encodeURIComponent(h.sessionId),_idts:s,_idvc:u,_idn:c,urlref:this.deleteUrlQuery(cL.referrer,Hx),_refts:l,_viewts:f,scd:"24",vpr:"".concat(lL.screen.width," X ").concat(lL.screen.height),cvar:ox(e.cvar||a)?encodeURIComponent(JSON.stringify(e.cvar||a)):encodeURIComponent(e.cvar||a),pdf:"1",qt:"0",data:this.isH5?JSON.stringify(e):encodeURIComponent(JSON.stringify(e))};return"$PageLeave"===e.type||e.type===Ix||e.type===Rx?Ux({link:encodeURIComponent(n)},v):Ux({action_name:encodeURIComponent(n)},v)}},{key:"initCookie",value:function(e){this.config.isInit=!0;var t=this.config,r=t.useCookie,n=t.defaultCookie.domain;if(r){if(n){var i=this.getStoreName(Px,kx),o=this.getStoreName(Mx,kx);nL(i),nL(o)}var a=this.getStoreName(Px,kx,n),s=this.getStoreName(Mx,kx,n),u=tL(a),c=tL(s);e&&e(a,u,s,c,n),u||(Qx.isSupport()&&Qx.get(a)?(u=Qx.get(a),c=Qx.get(s)||qx()):(u=Fx(),c=qx()),rL(a,u,7776e6,"/",n),rL(s,c,7776e6,"/",n)),this.globals.id=u,this.globals.idts=c||qx();var l=this.getStoreName("refts"),f=tL(l);f||cL.referrer&&(f=qx(),rL(l,f,7776e6,"/")),this.globals.refts=f||qx();var d=this.getStoreName(xx),h=tL(d);this.globals.viewts=h||qx();var p=this.getStoreName("idvc"),v=tL(p);v=v?Number(v)+1:Qx.isSupport()&&Qx.get(p)?Number(Qx.get(p))+1:1,rL(p,v,7776e6,"/"),this.globals.idvc=v,Qx.isSupport()&&!Qx.get(a)&&(Qx.set(a,u),Qx.set(s,c),Qx.set(p,v))}else{this.globals.id="unknown",this.globals.idts=qx(),this.globals.refts=qx(),this.globals.viewts=qx(),this.globals.idvc=0}this.handleSessionId()}},{key:"setIdsite",value:function(e){return sx(e)?new RegExp("^[a-zA-Z0-9_./][A-Za-z0-9_./]*$").test(e)?(this.globals.idsite=e,this.initCookie(),this):(console.error("idsite is invalid."),this):(console.error("idsite type should be string."),this)}},{key:"setAutoTrack",value:function(e,t,r){var n=this;if(!ox(e)){return this}var i=function(t,r){var i=new t(n);i.init(e),r&&r(i)};if(t){i(t,r)}else if(lL.HAAutoTracker){i(lL.HAAutoTracker,r)}else{var o=qx();!function(e,t){var r=uL.createElement("script");r.type="text/javascript",r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,t())}:r.onload=t,r.src=e,uL.getElementsByTagName("head")[0].appendChild(r)}(e.autotracker_url,(function(){var e=qx();$x("[load+excute] HAWebSDK autotracker module use ".concat(e-o," ms.")),i(lL.HAAutoTracker,r)}))}return this}}]),dL=gx((function e(t,r,n){px(this,e),this.core=t,this.dataType=r,this.serverUrl=n,this.state=0,this.keys=[],this.queue=[],this.intervalID=null,this.storageDataLength=0,this.getStorageDataLength=!1}),[{key:"isH5",value:function(){return!0===this.core.isH5||void 0!==Jx().haGetDeviceInfo}},{key:"init",value:function(){var e=this;this.core.config.batchSend?(jx(["batchSend"],(function(t){var r=e[t];e[t]=function(){0===this.state?r.apply(this,arguments):this.queue.push([t,arguments])}})),!this.intervalID&&this.core.config.batchSend.interval&&(this.intervalID=setInterval((function(){e.batchSend()}),this.core.config.batchSend.interval))):this.intervalID&&clearInterval(this.intervalID)}},{key:"batchSend",value:function(){var e=this,t=this.getEventsToSendFromStorage();0!==t.length&&(this.state=1,this.onReport(this.core.getFinalSendData(t),(function(t){e.state=0,200===t.status?(e.core.config.batchSend.retryTimes=10,jx(e.keys,(function(e){Qx.remove(e)})),e.storageDataLength=e.storageDataLength-e.keys.length,e.keys=[],e.batchSend(),e.queue.length>0&&(e[e.queue[0][0]].apply(e,e.queue[0][1]),e.queue=e.queue.splice(0,1))):e.core.config.batchSend.retryTimes<=1?e.intervalID&&clearInterval(e.intervalID):e.core.config.batchSend.retryTimes--}),!0))}},{key:"onceSend",value:function(e,t){this.onReport(this.core.getFinalSendData(e),t,!1)}},{key:"clearStorageData",value:function(){for(var e=0,t=[];e<Qx.length();){var r=Qx.key(e);this.getKeyType(r)&&t.push(r),e++}jx(t,(function(e){Qx.remove(e)})),this.storageDataLength=0}},{key:"getKeyType",value:function(e){return 0===Bx(e,Ox)&&-1!==Bx(e,this.core.globals.idsite)}},{key:"addToStorage",value:function(e,t){try{var r=this.core.config.maxStorageLength;if(!isNaN(r)&&r>0){if(!this.getStorageDataLength){this.getStorageDataLength=!0;for(var n=0;n<Qx.length();){var i=Qx.key(n);this.getKeyType(i)&&this.storageDataLength++,n++}}if(this.storageDataLength>=r){for(var o=Math.ceil(this.storageDataLength/2),a=0,s=[];a<Qx.length();){var u=Qx.key(a);this.getKeyType(u)&&s.push(u),a++}s=s.sort((function(e,t){return JSON.parse(Qx.get(e)).rt-JSON.parse(Qx.get(t)).rt}));for(var c=0;c<o;c++){Qx.remove(s[c]),this.storageDataLength--}}}var l=JSON.stringify(e);if(Jx().haEncrypt){var f=qx();l=Jx().haEncrypt(l);var d=qx();$x("data encrypt use ".concat(d-f," ms. encrypted data: ").concat(l))}Qx.set(this.core.getStoreName(Fx(),Ox),l),!isNaN(r)&&r>0&&this.storageDataLength++}catch(r){r.message===Lx&&(this.onceSend(e,t),this.batchSend())}}},{key:"getEventsToSendFromStorage",value:function(){var e=[],t=0;if(this.isH5()){for(var r=0;r<Qx.length();r++){var n=Qx.key(r);if(this.getKeyType(n)){var i=Zx("network");if(i&&!1===i.network||"false"===i.network){return e}break}}}for(;t<Qx.length();){var o=Qx.key(t);if(this.getKeyType(o)){var a=Qx.get(o);try{if(Jx().haDecrypt){var s=qx();if(!(a=Jx().haDecrypt(a))){Qx.remove(o);continue}var u=qx();$x("data decrypt use ".concat(u-s," ms. decrypted data: ").concat(a))}(a=JSON.parse(a)).dataType===this.dataType&&(this.keys.push(o),delete a.dataType,e.push(a))}catch(e){console.error("get storage error.",e)}if(this.keys.length===this.core.config.batchSend.maxLength){return e}}t++}return e}},{key:"getServerUrl",value:function(){var e="",t=this.core,r=t.globals.idsite,n=t.config,i=n.debugMode,o=n.customUrlParams,a=n.serverUrl;return i&&(e="x_hasdk_debug=true"),e=e?e+"&idsite="+r:"idsite="+r,Wx(o)&&(e=e+"&"+Wx(o)),(this.serverUrl||a)+"?"+e}},{key:"onReport",value:function(e,t,r){if(this.core.globals.idsite){if(this.core.config.serverUrl){if(this.core.config.batchSend&&r){this.sendByAjax(e,t)}else if(this.core.config.requestMode){switch(this.core.config.requestMode){case"beacon":this.sendByBeacon(e);break;case"ajax":zx()?this.sendByAjax(e,t):this.sendByBeacon(e);break;case"img":this.sendByImg(e)}}else{this.core.config.isImg?this.sendByImg(e):Yx()?this.sendByBeacon(e):zx()?this.sendByAjax(e,t):this.sendByImg(e)}}else{console.error("serverUrl is empty")}}else{console.error("idsite is empty")}}},{key:"sendByAjax",value:function(e,t){var r=Wx(e),n=new XMLHttpRequest;n.open("POST",this.getServerUrl(),!0),Ux(this.core.config.defaultHeaders,{idsite:this.core.globals.idsite}),jx(this.core.config.defaultHeaders,(function(e,t){n.setRequestHeader(t,e)})),this.core.config.batchSend&&(n.timeout=this.core.config.batchSend.timeout),n.send(r),n.onreadystatechange=function(){n.readyState==n.DONE&&t&&ix(t)&&t(n)}}},{key:"sendByImg",value:function(e){var t=Wx(e);this.core.config.debugMode&&(t="x_hasdk_debug=true&"+t);var r=new Image(1,1);r.onerror=function(){},r.src=this.core.config.serverUrl+"?"+t}},{key:"sendByBeacon",value:function(e){var t=Wx(e),r=new Blob([t],{type:"application/x-www-form-urlencoded;charset=UTF-8"});navigator.sendBeacon(this.getServerUrl(),r)}}]),hL=document,pL=window,vL=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return px(this,e),(t=hx(this,e,[r])).config.linker={},t.config.serverUrl="",t.config.requestMode="",t.config.isImg=!1,t.config.debugMode=!1,t.config.customUrlParams={},t.config.defaultHeaders={"Content-type":"application/x-www-form-urlencoded;charset=UTF-8"},t.config.maxStorageLength=0,t.defaultSender=new dL(t),t.reportMap={},iL(hL,"click",t.hrefIntercept.bind(t),!0),t}return _x(e,fL),gx(e,[{key:"setMaxStorageLength",value:function(e){this.config.maxStorageLength=e}},{key:"urlAddLinker",value:function(e,t){if(!e){return e}var r=e.split("#"),n=r[0],i=r[1]?"#".concat(r[1]):"",o=n.replace(/(https|http):\/\/([^/?]+)(.*)/,"$2"),a=!1;if(this.config.linker.exclude&&(a=this.config.linker.exclude.includes(o)),this.config.linker.domains&&!a&&this.config.linker.domains.filter((function(e){return new RegExp("".concat(e,"$"),"i").test(o)})).length){t&&t.preventDefault();var s=this.getStoreName(Px,kx,this.config.defaultCookie.domain),u={ts:qx(),id:tL(s)};this.config.linker.ext&&(u.ext=this.config.linker.ext),n=Bx(n,"?")>-1?"".concat(n,"&ha_linker=").concat(pL.btoa(JSON.stringify(u))).concat(i):"".concat(n,"?ha_linker=").concat(pL.btoa(JSON.stringify(u))).concat(i)}return n}},{key:"hrefIntercept",value:function(e){var t=e.target||e.srcElement;if("a"!==Vx(t)){var r=Kx(t);if(!r){return}t=r}var n=t.getAttribute("href");n&&(n=this.urlAddLinker(n,e),Bx(n,"ha_linker")>-1&&pL.open(n,t.getAttribute("target")||"_self"))}},{key:"initCookie",value:function(){var t=this;mx(yx(e.prototype),"initCookie",this).call(this,(function(e,r,n,i,o){var a=aL(hL.location.href).ha_linker;if(a){try{var s=JSON.parse(pL.atob(a));!(qx()-s.ts>(s.ext||1e4))&&s.id&&(r||(r=s.id,rL(e,r,7776e6,"/",o),i=qx(),rL(n,i,7776e6,"/",o)),t.globals.rid=s.id)}catch(e){console.error("Invalid linker:"+e)}}}))}},{key:"getSender",value:function(){var e=this,t=null;return jx(this.reportMap,(function(r){r.url===e.config.serverUrl&&(t=r.sender)})),t||this.defaultSender}},{key:"push",value:function(){for(var e=arguments,t=this,r=function(){var r=e[n],i=r.shift();setTimeout((function(){try{sx(i)?t[i].apply(t,r):t.apply(t,r)}catch(e){console.error("Invalid method:"+i+", please check!")}}),0)},n=0;n<arguments.length;++n){r()}return this}},{key:"setOnReportUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this.config.serverUrl=e;var r=e;return lx(t)||(r=t),this.reportMap[r]||(this.reportMap[r]={url:e,sender:new dL(this,r,e)},this.config.batchSend&&this.reportMap[r].sender.init()),this}},{key:"setTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.globals.title=e,this}},{key:"setUserAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.globals.id=e,this}},{key:"setCXX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.globals.CXX=e,this}},{key:"setUid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.globals.uid=e,this}},{key:"setPageData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.globals.cvar=e,this}},{key:"setCustomData",value:function(e){return ox(e)||ix(e)?this.customData=e:console.error("The arguments of the setCustomData() method is invalid."),this}},{key:"setHttpHeader",value:function(e){return ox(e)?(Ux(this.config.defaultHeaders,e),this):(console.error("custom header type should be object."),this)}},{key:"setIsUseCookie",value:function(e){if(!cx(e)){return console.error("useCookie type should be boolean"),this}if(this.config.useCookie=e,!this.config.useCookie){var t=hL.cookie.split("; "),r=/^(HW_)(id|idts|idvc|idn|viewts|refts)_/;jx(t,(function(e){var t=e.split("=");r.test(t[0])&&nL(t[0])})),this.initCookie()}return this}},{key:"setReportMethod",value:function(e){return cx(e)?(this.config.isImg=e,this):(console.error("isImg type should be boolean."),this)}},{key:"setSessionTimeoutDuration",value:function(e){return ux(e)?(this.config.intervalTime=e,this):(console.error("intervalTime type should be number."),this)}},{key:"setDebugMode",value:function(e){return cx(e)?(this.config.debugMode=e,this):(console.error("debugMode type should be boolean"),this)}},{key:"setCustomUrlParams",value:function(e){if(!ox(e)){return console.error("customUrlParams type should be object"),this}for(var t in e){if(Nx(["x_hasdk_debug","url","_id","_idts","_idvc","h","m","s","_rid"],t)){return console.error("customUrlParams can'n include x_hasdk_debug, url, _id, _idts, _idvc, h, m, s, _rid"),this}var r=e[t];if(!r||!ux(r)&&!sx(r)){return console.error("customUrlParams object value should be number or string"),this}if(!new RegExp("^[a-zA-Z0-9_./][A-Za-z0-9_./]*$").test(t)||!new RegExp("^[a-zA-Z_0-9_./][A-Za-z0-9_./]*$").test(r)){return console.error("customUrlParams object include invalid key or value"),this}Ux(this.config.customUrlParams,(n={},o=r,(i=wx(i=t))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n))}var n,i,o;return this}},{key:"setIstUseUrl",value:function(e){return cx(e)?(this.config.usedPageUrl=e,this):(console.error("usedPageUrl type should be boolean."),this)}},{key:"setRequestMode",value:function(e){return"ajax"!==e||zx()?"beacon"!==e||Yx()?(Nx(["beacon","ajax","img"],e)&&(this.config.requestMode=e),this):(console.error("navigator.sendBeacon() is not supported."),this):(console.error("XMLHttpRequest is not supported."),this)}},{key:"setBatchSend",value:function(e){if(!Qx.isSupport()){return console.error("localStorage is not supported, so batch send is not supported."),this}if(!zx()){return console.error("XMLHttpRequest is not supported, so batch send is not supported."),this}var t={timeout:6e3,interval:6e3,maxLength:6,retryTimes:10};return cx(e)&&e?this.config.batchSend=t:ox(e)&&(this.config.batchSend=Ux(t,e)),jx(this.reportMap,(function(e){e.sender&&e.sender.init()})),this}},{key:"batchSendNow",value:function(){return jx(this.reportMap,(function(e){e.sender&&e.sender.batchSend()})),this}},{key:"setLinker",value:function(e){return ox(e)?ax(e.domains)?e.exclude&&!ax(e.exclude)?(console.error("custom exclude type should be Array."),this):(this.config.linker=e,this):(console.error("custom domains type should be Array."),this):(console.error("custom linker type should be object."),this)}},{key:"setUrlLinker",value:function(e){return this.urlAddLinker(e)}},{key:"setCookie",value:function(e){return ox(e)?(this.config.defaultCookie=e,this):(console.error("custom cookie type should be object."),this)}},{key:"clearStorageData",value:function(){this.getSender().clearStorageData()}}])}(),gL=document,mL=window,yL=gL.documentElement,_L=gL.body,bL=document,EL=window,SL=function(){function e(){var t;return px(this,e),(t=hx(this,e)).config.baseinfotypeSwitch1=!1,t.switch1Num=0,t.config.baseinfotypeSwitch2=!1,t.switch2Num=0,t}return _x(e,vL),gx(e,[{key:"setBaseinfotypeSwitch",value:function(e){return cx(e)?(this.config.baseinfotypeSwitch1=e,e&&0===this.switch1Num&&(this.switch1Num++,iL(bL,"DOMContentLoaded",this.reportPageEntryEvent.bind(this))),this):(console.error("baseinfotypeSwitch1 type should be boolean."),this)}},{key:"setWindowCloseSwitch",value:function(e){return cx(e)?(this.config.baseinfotypeSwitch2=e,e&&0===this.switch2Num&&(this.switch2Num++,iL(EL,"beforeunload",this.reportPageCloseEvent.bind(this))),this):(console.error("baseinfotypeSwitch2 type should be boolean."),this)}},{key:"sendPageinfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.waitTime=0,this.waitTimeFlagTime=0,this.waitTimeFlag=!0,this.accessTime=qx(),this.config.baseinfotypeSwitch1=!0,this.reportPageEntryEvent(e,t),this}},{key:"sendPageClose",value:function(){return this.config.baseinfotypeSwitch2=!0,this.reportPageCloseEvent(),this}},{key:"sendData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a={eventTime:qx(),eventName:e,eventLabel:t,customData:r,cvar:n};return this.execReport(Ax,a,i,o),this}},{key:"sendClickData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a={eventTime:qx(),eventName:e,eventLabel:t,customData:r,cvar:n};return this.execReport(Ix,a,i,o),this}},{key:"bindclick",value:function(e,t,r,n,i){var o=this,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=e===bL?bL:bL.getElementById(e);return s?(iL(s,t,(function(t){var u=t.screenX,c=t.screenY,l=t.clientX,f=t.clientY,d=mL.innerHeight||yL.clientHeight||_L.clientHeight||0,h=mL.innerWidth||yL.clientWidth||_L.clientWidth||0,p={eventTime:qx(),elementId:e,cls:s.className,data:r,cvar:n,position:{res:"".concat(u,"X").concat(c),vpr:"".concat(l,"X").concat(f),doc:"".concat(h,"X").concat(d)}};o.execReport(Rx,p,i,a)})),this):this}},{key:"reportPageEntryEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.execReport(Cx,{eventTime:qx()},e,t)}},{key:"reportPageCloseEvent",value:function(){this.execReport(Cx,{eventTime:qx()})}},{key:"execReport",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.handleSessionId();var i=this.getEventData(e,t),o=this.getSender();this.config.batchSend&&!n?(i.dataType=o.dataType,o.addToStorage(i,r)):o.onceSend(i,r)}},{key:"getEventData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.currentUrl,n=void 0===r?EL.location.href:r,i={url:oL(this.config.usedPageUrl?n:"/",Hx),title:this.globals.title,at:this.accessTime,rf:oL(bL.referrer,Hx)};return e===Cx?(i.res="".concat(EL.screen.width," X ").concat(EL.screen.height),i.cwt=t.eventTime,i.dt=this.waitTime):e===Ax||e===Ix?(i.en=t.eventName,i.el=t.eventLabel,i.cd=t.customData,i.custom_properties=this.customData):e===Rx&&(i.ei=t.elementId===bL?"#document":t.elementId,i.ec=t.cls,i.ps=t.position,i.data=t.data||""),this.getData(e,t,i)}}])}(),wL=qx(),TL=new SL,CL=qx();$x("[excute] hawebsdk use ".concat(CL-wL," ms."));let AL=function(){function e(){a(this,e)}return u(e,null,[{key:"checkStringParameter",value:function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;if(!t&&0===n){return}if("string"!=typeof t){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid type: ".concat(t))}const o=this.getStringBytes(t);if(o>r||o<n){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid length: ".concat(t))}if(i){if(!new RegExp(i).test(t)){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid format: ".concat(t))}}}},{key:"checkAppid",value:function e(t){this.checkStringParameter(t,128,1,"^[a-zA-Z0-9!$%()+-:;=@[\\]_~,]{1,128}$")}},{key:"checkCountryCode",value:function e(t){t&&this.checkStringParameter(t,2,2,"^[A-Z]{2}$")}},{key:"checkDomain",value:function e(t){this.checkStringParameter(t,128,1,"^[a-zA-Z0-9-:;<=.>?@[\\]^_{}|~,]{1,128}$")}},{key:"checkRoomId",value:function e(t){this.checkStringParameter(t,64,1,"^[a-zA-Z0-9-_]{1,64}$")}},{key:"checkUserId",value:function e(t){this.checkStringParameter(t,64,1,"^[a-zA-Z0-9-_]{1,64}$")}},{key:"checkUserName",value:function e(t){this.checkStringParameter(t,256,0)}},{key:"checkUserRole",value:function e(t){if("number"!=typeof t){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid parameter: ".concat(t))}this.checkStringParameter("".concat(t),1,1,"^[0|2]$")}},{key:"checkSFUResourceType",value:function e(t){if(null!=t){if("number"!=typeof t){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid paramter: ".concat(t))}this.checkStringParameter("".concat(t),1,1,"^[0|1|2|3]$")}}},{key:"checkResourceTags",value:function e(t){if(null!=t&&(!Array.isArray(t)||t.filter((e=>"string"!=typeof e)).length>0)){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid paramter of resourceTags: ".concat(t))}}},{key:"checkUserInfo",value:function e(t){if("object"!=typeof t){throw this.logger.error("ParameterValidator","userInfo type invalid "),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"userInfo type invalid")}this.checkUserId(t.userId),this.checkUserName(t.userName),this.checkUserRole(t.role),this.checkUserOptionInfo(t.optionInfo)}},{key:"checkJoinParams",value:function e(t,r){this.checkRoomId(t),this.checkUserInfo(r)}},{key:"getStringBytes",value:function e(t){if(!t){return 0}if("string"!=typeof t){return t.byteLength}let r=0;if(window.TextEncoder){return r=(new TextEncoder).encode(t).length,r}const n=t.length;for(let e=0;e<n;e++){t.charCodeAt(e)>255?r+=3:r++}return r}},{key:"checkUserOptionInfo",value:function e(t){if(t&&![!0,!1,null,void 0].includes(t.recordPlaceholder)){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid parameter: ".concat(t.recordPlaceholder))}}},{key:"checkSrcMultiRoomInfo",value:function e(t){if(!t.authorization||!t.ctime||"0"!==t.userId){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid paramters: ".concat(t.authorization," ").concat(t.ctime," ").concat(t.userId))}}},{key:"checkDstMultiRoomInfo",value:function e(t,r){this.checkRoomId(t.roomId),this.checkUserRole(r);const n=t.role>=r;if(!t.authorization||!t.ctime||!n){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid paramters: ".concat(t.authorization," ").concat(t.ctime," ").concat(t.role))}}},{key:"checkCmdMsgValid",value:function t(r){const n=e.getStringBytes(r);if(n>32768){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid msg length: ".concat(n))}}}])}();o(AL,"logger",AC.getLogger());var RL=new(function(){function e(){a(this,e)}return u(e,[{key:"setPorxyServer",value:function e(t){AL.checkStringParameter(t,256,1);const r=/(.*:\/\/)?([^:]+):?(.*)?/.exec(t);let n=t;/^((\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))(\.|$)){4}$/.test(r[2])?r[1]||(n="http://".concat(r[2]).concat(r[3]?":":"").concat(r[3]||"")):r[1]||(n="https://".concat(r[2]).concat(r[3]?":":"").concat(r[3]||"")),this.proxyServer=n}},{key:"getProxyServer",value:function e(){return this.proxyServer}}])}());const IL={},kL={grs_sdk_global_route_config_hwrtc:{applications:[],services:[{name:"com.huawei.cloud.videortn",routeBy:"ser_country>geo_ip",servings:[{countryOrAreaGroup:"DR1",addresses:{GLOBAL:"wss://rtc.platform.dbankcloud.com",ROOT:"wss://rtc-drcn.platform.dbankcloud.com"}},{countryOrAreaGroup:"DR2",addresses:{GLOBAL:"wss://rtc.platform.dbankcloud.com",ROOT:"wss://rtc-dra.platform.dbankcloud.com"}},{countryOrAreaGroup:"DR3",addresses:{GLOBAL:"wss://rtc.platform.dbankcloud.com",ROOT:"wss://rtc-dre.platform.dbankcloud.com"}},{countryOrAreaGroup:"DR4",addresses:{GLOBAL:"wss://rtc.platform.dbankcloud.com",ROOT:"wss://rtc-drru.platform.dbankcloud.com"}}],countryOrAreaGroups:[]}],countryOrAreaGroups:[{id:"DR1",name:"China",countriesOrAreas:["CN"],description:"China zone"},{id:"DR2",name:"Asian-African-Latin American",countriesOrAreas:["AE","AF","AG","AI","AM","AO","AQ","AR","AS","AW","AZ","BB","BD","BF","BH","BI","BJ","BL","BM","BN","BO","BR","BS","BT","BV","BW","BY","BZ","CC","CD","CF","CG","CI","CK","CL","CM","CO","CR","CU","CV","CX","DJ","DM","DO","DZ","EC","EG","EH","ER","ET","FJ","FK","FM","GA","GD","GE","GF","GH","GM","GN","GP","GQ","GS","GT","GU","GW","GY","HK","HM","HN","HT","ID","IN","IO","IQ","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LK","LR","LS","LY","MA","MG","MH","ML","MM","MN","MO","MP","MQ","MR","MS","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NP","NR","NU","OM","PA","PE","PF","PG","PH","PK","PN","PR","PS","PW","PY","QA","RE","RW","SA","SB","SC","SD","SG","SH","SL","SN","SO","SR","SS","ST","SV","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TT","TV","TW","TZ","UG","UY","UZ","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"],description:"Asian-African-Latin American zone"},{id:"DR3",name:"Europe",countriesOrAreas:["AD","AL","AN","AT","AU","AX","BA","BE","BG","BQ","CA","CH","CW","CY","CZ","DE","DK","EE","ES","FI","FO","FR","GB","GG","GI","GL","GR","HR","HU","IE","IL","IM","IS","IT","JE","LI","LT","LU","LV","MC","MD","ME","MF","MK","MT","NL","NO","NZ","PL","PM","PT","RO","RS","SE","SI","SJ","SK","SM","SX","TR","UA","UM","US","VA","VC","XK","YK"],description:"Europe zone"},{id:"DR4",name:"Russia",countriesOrAreas:["RU"],description:"Russia zone"},{id:"DR5",name:"A2",countriesOrAreas:["IR"],description:"A2 zone"}]},grs_sdk_global_route_config_rtcha:{applications:[],services:[{name:"com.huawei.cloud.hianalytics",routeBy:"ser_country",servings:[{countryOrAreaGroup:"DR1",addresses:{ROOT:"https://metrics1.data.hicloud.com:6447"}},{countryOrAreaGroup:"DR2",addresses:{ROOT:"https://metrics3.data.hicloud.com:6447"}},{countryOrAreaGroup:"DR3",addresses:{ROOT:"https://metrics2.data.hicloud.com:6447"}},{countryOrAreaGroup:"DR4",addresses:{ROOT:"https://metrics5.data.hicloud.com:6447"}},{countryOrAreaGroup:"DR5",addresses:{ROOT:"https://metrics4.data.hicloud.com:6447"}}],countryOrAreaGroups:[]},{name:"com.huawei.cloud.hianalytics.aspg",routeBy:"ser_country",servings:[{countryOrAreaGroup:"DR1",addresses:{ROOT:"https://metrics1.data.hicloud.com:6447"}},{countryOrAreaGroup:"DR2",addresses:{ROOT:"https://metrics-dra.dt.hicloud.com:6447"}},{countryOrAreaGroup:"DR3",addresses:{ROOT:"https://metrics2.data.hicloud.com:6447"}},{countryOrAreaGroup:"DR4",addresses:{ROOT:"https://metrics5.data.hicloud.com:6447"}},{countryOrAreaGroup:"DR5",addresses:{ROOT:"https://metrics4.data.hicloud.com:6447"}}],countryOrAreaGroups:[]}],countryOrAreaGroups:[{id:"DR1",name:"China",countriesOrAreas:["CN"],description:"China zone"},{id:"DR2",name:"Asian-African-Latin American",countriesOrAreas:["AE","AF","AG","AI","AM","AO","AQ","AR","AS","AW","AZ","BB","BD","BF","BH","BI","BJ","BL","BM","BN","BO","BR","BS","BT","BV","BW","BY","BZ","CC","CD","CF","CG","CI","CK","CL","CM","CO","CR","CU","CV","CX","DJ","DM","DO","DZ","EC","EG","EH","ER","ET","FJ","FK","FM","GA","GD","GE","GF","GH","GM","GN","GP","GQ","GS","GT","GU","GW","GY","HK","HM","HN","HT","ID","IN","IO","IQ","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LK","LR","LS","LY","MA","MG","MH","ML","MM","MN","MO","MP","MQ","MR","MS","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NP","NR","NU","OM","PA","PE","PF","PG","PH","PK","PN","PR","PS","PW","PY","QA","RE","RW","SA","SB","SC","SD","SG","SH","SL","SN","SO","SR","SS","ST","SV","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TT","TV","TW","TZ","UG","UY","UZ","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"],description:"Asian-African-Latin American zone"},{id:"DR3",name:"Europe",countriesOrAreas:["AD","AL","AN","AT","AU","AX","BA","BE","BG","BQ","CA","CH","CW","CY","CZ","DE","DK","EE","ES","FI","FO","FR","GB","GG","GI","GL","GR","HR","HU","IE","IL","IM","IS","IT","JE","LI","LT","LU","LV","MC","MD","ME","MF","MK","MT","NL","NO","NZ","PL","PM","PT","RO","RS","SE","SI","SJ","SK","SM","SX","TR","UA","UM","US","VA","VC","XK","YK"],description:"Europe zone"},{id:"DR4",name:"Russia",countriesOrAreas:["RU"],description:"Russia zone"},{id:"DR5",name:"A2",countriesOrAreas:["IR"],description:"A2 zone"}]}},OL="RTCReport";const PL=new(function(){function e(){a(this,e);this.logger=AC.getLogger(),this.regularReport(NM),TL.push(["setOnReportUrl","".concat(kL.grs_sdk_global_route_config_rtcha.services[0].servings[0].addresses.ROOT,"/webv4")]),TL.push(["setIdsite","com.huawei.rtcsdk"]),TL.setBatchSend({timeout:13e3,interval:!0,maxLength:30}),this.setReportStorageMaxLength(zM),this.records=[],rx.isFirefox()||(window.onbeforeunload=()=>{this.logger.info("stat","window is closing, emergency report"),this.records.length>0&&this.reportRecordsBeacon(this.records),this.clearData()})}return u(e,[{key:"setReportStorageMaxLength",value:function e(t){return t<1||t>5e3?(this.logger.error(OL,"setReportStorageMaxLength ".concat(t," out of range [").concat(1,", ").concat(5e3,"]")),!1):(TL.setMaxStorageLength(t),!0)}},{key:"setReportServer",value:function e(t){this.opsServer=null;const r=RL.getProxyServer();if(r){const e=t.replace(/http(s)?:\/\//,"");this.opsServer="".concat(r,"/").concat(e,"/webv4")}else{this.opsServer="".concat(t,"/webv4")}TL.push(["setOnReportUrl",this.opsServer])}},{key:"regularReport",value:function e(t){this.reportInterval&&clearInterval(this.reportInterval),this.reportInterval=setInterval((()=>{if(this.opsServer&&0!=this.records.length){try{TL.setRequestMode("ajax"),this.records.forEach((e=>{const t=e.event.toString(),r={rtc_sdk:e};TL.push(["sendData",t,t,r,null,null])})),this.clearData()}catch(e){this.logger.error(OL,"regularReport failed")}}}),t)}},{key:"addRecords",value:async function e(t){this.records=this.records.concat(t||[]),this.adjustRecordsLength(this.records)}},{key:"addRecord",value:async function e(t){this.records.push(t),this.adjustRecordsLength(this.records)}},{key:"adjustRecordsLength",value:function e(t){t.length>1e4&&t.splice(0,t.length-1e4)}},{key:"clearData",value:function e(){this.records.length=0}},{key:"immediateReportRecords",value:function e(){this.opsServer&&(this.reportRecords(this.records),this.clearData())}},{key:"reportRecords",value:function e(t){if(this.opsServer){try{TL.setRequestMode("ajax"),t.forEach((e=>{const t=e.event.toString(),r={rtc_sdk:e};TL.push(["sendData",t,t,r,null,t=>{4===t.readyState&&200===t.status||this.addRecord(e)},!0])}))}catch(e){throw this.logger.error(OL,"fetch request failed"),e}}}},{key:"reportRecordsBeacon",value:async function e(t){if(this.opsServer){try{TL.setRequestMode("beacon"),t.forEach((e=>{const t=e.event.toString(),r={rtc_sdk:e};TL.push(["sendData",t,t,r,null,null,!0])}))}catch(e){throw this.logger.error(OL,"beacon request failed"),e}}}}])}()),ML="STATISTIC_ENABLE",xL="ACCESS_RESOURCE_TYPE",LL="RESOURCE_TAGS",DL="FRAME_ENCRYPTION_MODE",NL="MEDIA_SYNC",jL="MAX_STORAGE_LENGTH",UL="PORT_TYPE",BL="ENVIRONMENT_SUFFIX",FL="GRS_LOCAL_EXT_INFO",HL="LOG_CACHES_ENABLE",VL={ACCESS_RESOURCE_TYPE:e=>AL.checkSFUResourceType(e),RESOURCE_TAGS:e=>AL.checkResourceTags(e)},WL="ParametersUtil";const zL=new(function(){function e(){a(this,e);this.logger=AC.getLogger(),this.parameters=new Map}return u(e,[{key:"setParameter",value:function e(t,r){if(!t){return this.logger.error(WL,"setParameter, parameterKey is null"),!1}try{if(this.logger.debug(WL,"setParameter, parameterKey: ".concat(t,", parameterValue: ").concat(r)),VL[t]&&VL[t](r),this.parameters.set(t.toLowerCase(),r),t===HL){const e="off"!==r;CC.setLogCachesEnable(e)}else if(t===jL){return PL.setReportStorageMaxLength(r)}return!0}catch(e){return this.logger.error(WL,"setParameter occur error: ".concat(e)),!1}}},{key:"getParameter",value:function e(t){try{return t&&this.parameters.has(t.toLowerCase())?this.parameters.get(t.toLowerCase()):null}catch(e){return this.logger.error(WL,"getParameter occur error: ".concat(e)),null}}}])}());let GL=function(e){return e[e.NotJoin=0]="NotJoin",e[e.Joined=1]="Joined",e[e.Rejoining=2]="Rejoining",e}({}),YL=function(e){return e[e.normal=0]="normal",e[e.resolutionChange=1]="resolutionChange",e[e.remoteRejoinCache=2]="remoteRejoinCache",e[e.localRejoin=3]="localRejoin",e}({});const KL={"90p-":{width:120,height:90},"90p":{width:160,height:90},"120p":{width:160,height:120},"180p-":{width:240,height:180},"180p":{width:320,height:180},"240p":{width:320,height:240},"270p":{width:480,height:270},"300p":{width:400,height:300},"360p-":{width:480,height:360},"360p":{width:640,height:360},"450p":{width:800,height:450},"480p":{width:640,height:480},"540p":{width:960,height:540},"630p":{width:1120,height:630},"720p-":{width:960,height:720},"720p":{width:1280,height:720},"1080p":{width:1920,height:1080}};let qL=function(){function e(){a(this,e)}return u(e,null,[{key:"getResolution",value:function e(t,r){const n=Math.min(t,r);return n<180?"LD":n<360?"SD":n<720?"HD":"FHD"}},{key:"getResolutionType",value:function e(t,r){return Object.keys(KL).find((e=>KL[e].width===t&&KL[e].height===r))}}])}();let $L=function(){function e(){a(this,e);let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this.elements=new Array(t+1),this.front=0,this.tail=0,this._size=0}return u(e,[{key:"getCapacity",value:function e(){return this.elements.length-1}},{key:"isEmpty",value:function e(){return this.front===this.tail}},{key:"size",value:function e(){return this._size}},{key:"push",value:function e(t){this._size===this.getCapacity()&&this.dequeue(),this.elements[this.tail]=t,this.tail=(this.tail+1)%this.elements.length,this._size++}},{key:"dequeue",value:function e(){if(this.isEmpty()){throw new Error("Cannot dequeue from an empty queue.")}const t=this.elements[this.front];return this.elements[this.front]=null,this.front=(this.front+1)%this.elements.length,this._size--,t}},{key:"getFront",value:function e(){return this.isEmpty()?null:this.elements[this.front]}},{key:"getTail",value:function e(){if(this.isEmpty()){return null}const t=0===this.tail?this.elements.length-1:this.tail-1;return this.elements[t]}},{key:"getElement",value:function e(t){return t<0||t>=this.size()?null:this.elements[(this.front+t)%this.elements.length]}}])}();const JL=new(function(){function e(){a(this,e);o(this,"isFireFox",rx.isFirefox()),this.reportSymbol=Symbol("RTCInterval_".concat(yC.getCurrentTimestamp())),this.mapInterval=new $L}return u(e,[{key:"getSymbol",value:function e(){return this.reportSymbol}},{key:"reset",value:function e(){var t;null===(t=this.connectionsManagers)||void 0===t||t.clear(),delete this.mapInterval,this.mapInterval=new $L,clearTimeout(this.gatherTimer),this.gatherTimer=null}},{key:"addConnection",value:function e(t,r){this.connectionsManagers||(this.connectionsManagers=new Map),this.connectionsManagers.set(t,r),this.execMyInterval((async()=>{await this.execInterval()}),100)}},{key:"checkIsMediaStatsType",value:function e(t){return["inbound-rtp","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(t.type)}},{key:"checkCandidatePair",value:function e(t){return"candidate-pair"===t.type.toString()&&(!0===t.selected||!0===t.nominated||"succeeded"===t.state)}},{key:"getStatsData",value:async function e(t,r){const n=await(null==r?void 0:r.getStats());n&&n.forEach(((e,r)=>{this.checkIsMediaStatsType(e)?t.set(e.type+"-"+e.kind+"_"+e.ssrc,e):this.checkCandidatePair(e)?(e.currentRoundTripTime=e.currentRoundTripTime||Math.abs(e.lastPacketReceivedTimestamp-e.lastPacketSentTimestamp),t.set(e.type,e)):"track"===e.type.toString()&&t.set(r,e)}))}},{key:"getData",value:async function e(t,r,n){const i=t.getConnection(n);await this.getStatsData(r,i)}},{key:"execInterval",value:async function e(){const t=new Map;for(const e of this.connectionsManagers.keys()){const r=new Map,n=new Map,i=new Map,o=[];o.push(this.getData(this.connectionsManagers.get(e),n,KM.STREAM_TYPE_MAIN)),o.push(this.getData(this.connectionsManagers.get(e),i,KM.STREAM_TYPE_AUX)),await Promise.all(o),r.set(KM.STREAM_TYPE_MAIN,n),r.set(KM.STREAM_TYPE_AUX,i),t.set(e,r)}this.mapInterval.push(t)}},{key:"getLatestRemoteInboundStats",value:function e(t,r,n){var i,o;const a=null===(i=this.mapInterval.getTail())||void 0===i||null===(o=i.get(t))||void 0===o?void 0:o.get(r);if(this.isFireFox){const e=n.split("_"),r=parseInt(e[1]),i=this.connectionsManagers.get(t).getMappingSsrcs(r),o=e[0].concat("_").concat(i).toString();return a&&a.get(o)}return a&&a.get(n)?a.get(n):null}},{key:"getLatestStatsByTrackId",value:function e(t,r,n){var i,o;const a=null===(i=this.mapInterval.getTail())||void 0===i||null===(o=i.get(t))||void 0===o?void 0:o.get(r);return a&&a.get(n)?a.get(n):null}},{key:"getLatestReport",value:function e(t,r){var n,i;return null===(n=this.mapInterval.getTail())||void 0===n||null===(i=n.get(t))||void 0===i?void 0:i.get(r)}},{key:"getLatestStats",value:function e(t,r,n){const i=this.getLatestReport(t,r);return this.getStatsBySsrcLabel(i,n,t)}},{key:"getElementStats",value:function e(t,r,n,i){var o,a;const s=null===(o=this.mapInterval.getElement(i))||void 0===o||null===(a=o.get(t))||void 0===a?void 0:a.get(r);return this.getStatsBySsrcLabel(s,n,t)}},{key:"getStatsBySsrcLabel",value:function e(t,r,n){if(!t){return null}if(this.isFireFox){const e=r.split("_"),i=parseInt(e[1]),o=this.connectionsManagers.get(n).getMappingSsrcs(i),a=e[0].concat("_").concat(o).toString();return t.get(a)}return t.get(r)}},{key:"getLatestValue",value:function e(t,r,n,i){const o=this.getLatestStats(t,r,n);return o?o[i]:null}},{key:"getAllNumber",value:function e(t,r,n,i){const o=this.mapInterval.size(),a=new Array(o);for(let e=0;e<o;e++){const o=this.getElementStats(t,r,n,e);a[e]=o?o[i]:null}return a}},{key:"getFreeze",value:function e(t,r,n,i,o){const a=this.getAllNumber(t,r,n,i),s=a.length;let u=0,c=0;for(let e=1;e<s;e++){a[e-1]&&a[e]&&a[e-1]===a[e]?u+=100:(u>o&&(c+=u),u=0)}return u>o&&(c+=u),c}},{key:"execMyInterval",value:function e(t,r){const n=()=>{this.gatherTimer=setTimeout((()=>{t(),n()}),r)};t(),n()}}])}());let ZL=function(){function e(t){a(this,e);o(this,"videoFreezeKey",rx.isFirefox()?"packetsReceived":"framesReceived"),o(this,"mediaStatInfo",[]),o(this,"mediaStatDebugInfo",[]),o(this,"mediaStatSumInfo",[]),o(this,"mediaStatSumDebugInfo",[]),o(this,"ACSAddr",""),o(this,"SFUAddr",""),o(this,"lastSenderInfo",new Map),o(this,"lastSenderDebugInfo",new Map),o(this,"encryUserId",new Map),o(this,"remoteStreamInfo",[]),o(this,"audioPolicy",qM.USER_SUBSCRIBE_AUDIOPOLICY),o(this,"LocalStreamInfo",new Map),o(this,"auxsStreamInfo",new Map),o(this,"audioReceiveInfo",{audioReceivePackets:new Map,audioReceivePacketsLost:new Map,audioReceiveBytes:new Map}),o(this,"videoReceiveInfo",{videoReceivePackets:new Map,videoReceivePacketsLost:new Map,videoReceiveBytes:new Map,videoReceiveFrame:new Map}),o(this,"audioReceiveDebugInfo",{audioReceivePackets:new Map,audioReceivePacketsLost:new Map,audioReceiveBytes:new Map}),o(this,"videoReceiveDebugInfo",{videoReceivePackets:new Map,videoReceivePacketsLost:new Map,videoReceiveBytes:new Map,videoReceiveFrame:new Map}),o(this,"inBoundAudioSsrcInfos",[]),o(this,"audioPolicyLastCycle",qM.USER_SUBSCRIBE_AUDIOPOLICY),o(this,"audioStreamReceiverMap",new Map),o(this,"ssrcChangeCount",0),o(this,"audioStreamInfos",[]),o(this,"audioCount",0),o(this,"audioStreamAllInfos",[]),o(this,"audioAllCount",0),o(this,"audioStreamTop3Count",0),o(this,"module_","MediaStats"),o(this,"tempStat",{bytesSent:0,bytesReceived:0,sendBitrate:0,recvBitrate:0,rtt:0,upPktsLostRate:0,downPktsLostRate:0}),o(this,"stat",{bytesSent:0,bytesReceived:0,sendBitrate:0,recvBitrate:0,rtt:0,upPktsLostRate:0,downPktsLostRate:0}),o(this,"audioLevelInfo",{localAudio:new Map,remoteAudio:new Map,top3Audio:new Map}),o(this,"remoteUserMuteStatus",new Map),this.logger=t}return u(e,[{key:"setEncryInfo",value:function e(t,r){this.encryUserId.set(t,r)}},{key:"getEncryInfo",value:function e(t){return this.encryUserId.get(t)}},{key:"clearEncryUserId",value:function e(){this.encryUserId.clear()}},{key:"setRemoteUserManager",value:function e(t){this.remoteUserManager=t}},{key:"setStartSsrc",value:function e(t){this.startSsrc=t}},{key:"updateAudioLevel",value:function e(t){if("local"===t.type){if(!this.audioLevelInfo.localAudio.get("local")){const e=[];this.audioLevelInfo.localAudio.set("local",e)}this.audioLevelInfo.localAudio.get("local").push(t.level)}else if("remoteTop3"===t.type){if(!this.audioLevelInfo.top3Audio.get("".concat(null==t?void 0:t.ssrc))){const e=[];this.audioLevelInfo.top3Audio.set("".concat(null==t?void 0:t.ssrc),e)}this.audioLevelInfo.top3Audio.get("".concat(null==t?void 0:t.ssrc)).push(t.level)}else{if(!this.audioLevelInfo.remoteAudio.get("".concat(null==t?void 0:t.ssrc,"_").concat(null==t?void 0:t.userId))){const e=[];this.audioLevelInfo.remoteAudio.set("".concat(null==t?void 0:t.ssrc,"_").concat(null==t?void 0:t.userId),e)}this.audioLevelInfo.remoteAudio.get("".concat(null==t?void 0:t.ssrc,"_").concat(null==t?void 0:t.userId)).push(t.level)}}},{key:"getAudioLevel",value:function e(t,r,n){let i=0,o=0;return"local"===t&&this.audioLevelInfo.localAudio.get("local")?(this.audioLevelInfo.localAudio.get("local").forEach((e=>{i+=e||0,o++})),this.audioLevelInfo.localAudio.clear()):"remoteTop3"===t&&this.audioLevelInfo.top3Audio.get("".concat(r))?(this.audioLevelInfo.top3Audio.get("".concat(r)).forEach((e=>{i+=e||0,o++})),this.audioLevelInfo.top3Audio.clear()):"remote"===t&&this.audioLevelInfo.remoteAudio.get("".concat(r,"_").concat(n))&&(this.audioLevelInfo.remoteAudio.get("".concat(r,"_").concat(n)).forEach((e=>{i+=e||0,o++})),this.audioLevelInfo.remoteAudio.clear()),0===o?0:Math.ceil(i/o)}},{key:"setConnectionsManager",value:function e(t){this.logger.info(this.module_,"setConnectionsManager"),this.connectionsManager=t}},{key:"setSubscribeInfo",value:function e(t){var r,n,i,o;if(!t){return}const a=this.remoteStreamInfo.find((e=>e.userId===t.userId));if(!a){return this.clearRemoteStreamInfoCache(t),void this.remoteStreamInfo.push(t)}(null===(r=t.mainStream)||void 0===r||null===(n=r.tracks)||void 0===n?void 0:n.length)>0&&t.mainStream.tracks.forEach((e=>{a.mainStream.tracks.find((t=>t.trackId===e.trackId))||(this.doClearRemoteStreamInfoCache(t,t.userId,e.cssrc),a.mainStream.tracks.push(e))})),(null===(i=t.auxStream)||void 0===i||null===(o=i.tracks)||void 0===o?void 0:o.length)>0&&t.auxStream.tracks.forEach((e=>{a.auxStream.tracks.find((t=>t.trackId===e.trackId))||(this.doClearRemoteStreamInfoCache(t,t.userId,e.cssrc),a.auxStream.tracks.push(e))}))}},{key:"doClearRemoteStreamInfoCache",value:function e(t,r,n){let i=null;if(t.mainStream.tracks.forEach((e=>{e.cssrc===n&&(i=e.type)})),t.auxStream.tracks.forEach((e=>{e.cssrc===n&&(i=e.type)})),i===YM.TRACK_TYPE_AUDIO){const e="".concat(n,"-").concat(r);this.audioReceiveInfo.audioReceivePackets.delete(e),this.audioReceiveInfo.audioReceivePacketsLost.delete(e),this.audioReceiveInfo.audioReceiveBytes.delete(e)}else if(i===YM.TRACK_TYPE_VIDEO){const e="".concat(n,"-").concat(r);this.videoReceiveInfo.videoReceivePackets.delete(e),this.videoReceiveInfo.videoReceivePacketsLost.delete(e),this.videoReceiveInfo.videoReceiveBytes.delete(e),this.videoReceiveInfo.videoReceiveFrame.delete(e)}}},{key:"clearRemoteStreamInfoCache",value:function e(t){this.remoteStreamInfo.filter((e=>e.userId===t.userId)).forEach((e=>{this.clearRemoteStreamInfoCache4Stream(t,e.mainStream),this.clearRemoteStreamInfoCache4Stream(t,e.auxStream)}))}},{key:"clearRemoteStreamInfoCache4Stream",value:function e(t,r){r.tracks.forEach((e=>{const r=e.trackId,n=e.cssrc,i=t.userId;t.mainStream.tracks.forEach((e=>{e.cssrc===n&&e.trackId!==r&&this.doClearRemoteStreamInfoCache(t,i,n)}))}))}},{key:"clearLocalStreamInfoCache",value:function e(t){t&&this.LocalStreamInfo.forEach((e=>{t.ssrc===e.ssrc&&t.uid===e.uid&&t.streamId!==e.streamId&&this.lastSenderInfo.delete("".concat(t.ssrc,"-").concat(t.uid))}))}},{key:"clearAuxsStreamInfoCache",value:function e(t){t&&this.auxsStreamInfo.forEach((e=>{t.ssrc===e.ssrc&&t.uid===e.uid&&t.streamId!==e.streamId&&this.lastSenderInfo.delete("".concat(t.ssrc,"-").concat(t.uid))}))}},{key:"setLocalMainStreamInfo",value:function e(t,r){return!(!r||0===r.length)&&(this.LocalStreamInfo.clear(),r.forEach((e=>{const r={uid:t,streamId:"",ssrc:e.ssrc,type:e.type};e.type===YM.TRACK_TYPE_AUDIO?r.streamId=e.upstream.streamUid.toString():(r.streamId=e.upstream.streamUid.toString(),r.width=e.upstream.width,r.height=e.upstream.height,r.frame=e.upstream.fps),this.clearLocalStreamInfoCache(r),this.LocalStreamInfo.set(e.resolutionId,r)})),!0)}},{key:"setLocalAuxsStreamInfo",value:function e(t,r){if(!r){return!1}const n=Array.from(r.localTrackPublishInfos.values());return!!n&&(this.auxsStreamInfo.clear(),n.forEach((e=>{const n={uid:t,streamId:e.upstream.streamUid.toString(),ssrc:e.ssrc,type:e.type};e.type===YM.TRACK_TYPE_VIDEO&&(n.publishInfo={stream:r.localStream}),this.clearAuxsStreamInfoCache(n),this.auxsStreamInfo.set(e.resolutionId,n)})),!0)}},{key:"deleteSubscribeInfo",value:function e(t,r,n){if(n||r){if(r){const e=this.remoteStreamInfo.find((e=>e.userId===t));if(!e){return}const i=r===KM.STREAM_TYPE_MAIN?e.mainStream:e.auxStream;i.tracks=n?i.tracks.filter((e=>e.trackId!==n)):null}}else{this.remoteStreamInfo=this.remoteStreamInfo.filter((e=>e.userId!==t))}}},{key:"setAudioPolicy",value:function e(t){this.audioPolicyLastCycle=this.audioPolicy,this.audioPolicy=t,this.setAudioStreamInfo()}},{key:"setSFUAddr",value:function e(t){this.SFUAddr=t}},{key:"setACSAddr",value:function e(t){this.ACSAddr=t}},{key:"leaveRoom",value:function e(){this.mediaStatInfo=[]}},{key:"getAudioPolicy",value:function e(){return this.audioPolicy}},{key:"getTransportMediaStats",value:function e(){return this.stat}},{key:"getMediaStatInfo",value:function e(){const t=this.mediaStatInfo;return this.mediaStatInfo=[],t}},{key:"getMediaStatSum",value:function e(){const t=this.mediaStatSumInfo;return this.mediaStatSumInfo=[],t}},{key:"getInBoundAudioSsrc",value:function e(){const t=this.inBoundAudioSsrcInfos;return this.inBoundAudioSsrcInfos=[],t}},{key:"dealStats",value:async function e(){this.connectionsManager.isConnectionsExist()?(this.getAudioStreamInfo(),await this.getSenderInfo(!1),await this.getReceiverInfo(!1),this.stat.bytesSent+=this.tempStat.bytesSent,this.stat.bytesReceived+=this.tempStat.bytesReceived,this.stat.sendBitrate=this.tempStat.sendBitrate,this.stat.recvBitrate=this.tempStat.recvBitrate,this.clearTempStats()):this.logger.debug(this.module_,"peerConnection is undefined")}},{key:"clearTempStats",value:function e(){this.tempStat.bytesSent=0,this.tempStat.bytesReceived=0,this.tempStat.sendBitrate=0,this.tempStat.recvBitrate=0}},{key:"clearMediaStatBytes",value:function e(){this.stat.bytesSent=0,this.stat.bytesReceived=0}},{key:"cleanAudioStreamInfos",value:function e(){this.audioCount=this.audioStreamInfos.length,this.audioAllCount=this.audioStreamAllInfos.length,this.audioStreamInfos=[],this.audioStreamAllInfos=[]}},{key:"updateAudioStreamInfos",value:function e(t,r){if("add"===r){let e=0;this.remoteStreamInfo.forEach((r=>{if(t===r.userId){const t=r.mainStream.tracks.filter((e=>e.streamType===KM.STREAM_TYPE_MAIN&&e.type===YM.TRACK_TYPE_AUDIO));e=t.length>0?t[0].cssrc:0}}));const r={userid:t,audioSsrc:e};this.audioStreamInfos=this.audioStreamInfos.filter((r=>r.userid!=t||r.audioSsrc!=e)),this.audioStreamAllInfos=this.audioStreamAllInfos.filter((r=>r.userid!=t||r.audioSsrc!=e)),this.audioStreamInfos.push(r),this.audioStreamAllInfos.push(r)}"delete"!==r&&"removed"!==r||(this.audioStreamInfos=this.audioStreamInfos.filter((e=>e.userid!==t)),this.audioStreamAllInfos=this.audioStreamAllInfos.filter((e=>e.userid!==t))),this.audioPolicy!==qM.USER_SUBSCRIBE_AUDIOPOLICY&&this.audioCount===this.audioStreamInfos.length||this.ssrcChangeCount++,this.audioPolicy!==qM.TOPN_AUDIOPOLICY&&this.audioAllCount===this.audioStreamAllInfos.length||this.ssrcChangeCount++}},{key:"updateAudioStreamTop3",value:function e(t){this.audioStreamTop3CountTimer&&clearTimeout(this.audioStreamTop3CountTimer),this.audioStreamTop3CountTimer=setTimeout((()=>{this.audioStreamTop3Count=0}),4e3),this.audioStreamTop3Count=t}},{key:"checkAudioStreamInfosIsExist",value:function e(t,r){return 0!==this.audioStreamInfos.filter((e=>e.userid===t&&e.audioSsrc===r)).length}},{key:"setAudioStreamInfo",value:function e(){this.audioPolicy!==this.audioPolicyLastCycle&&(this.ssrcChangeCount=1,this.audioStreamReceiverMap.clear(),this.audioStreamTop3Count=0,this.audioReceiveInfo.audioReceiveBytes.clear(),this.audioReceiveInfo.audioReceivePackets.clear(),this.audioReceiveInfo.audioReceivePacketsLost.clear())}},{key:"getAudioStreamInfo",value:async function e(){this.audioPolicy===qM.TOPN_AUDIOPOLICY?await this.buildAudioStreamInfo3():this.audioPolicy===qM.USER_SUBSCRIBE_AUDIOPOLICY?await this.buildAudioStreamInfo2():this.logger.debug(this.module_,"mode 1 not uesed")}},{key:"buildAudioStreamInfo3",value:async function e(){const t=[],r={timestamp:yC.getCurrentTimestamp(),event:wM.QoS_DOWN_STREAM_AUDIO_STAT,access_addr:this.ACSAddr,sfu_addr:this.SFUAddr,audio_policy:this.audioPolicy,topn:3,audios_change_cnt:0,audios:t,no_stream_cnt:0};for(let e=0;e<3;e++){var n;const i=this.startSsrc+e,o="".concat(DP,"_").concat(i),a=JL.getLatestStats(null===(n=this.connectionsManager)||void 0===n?void 0:n.getConnectionId(),KM.STREAM_TYPE_MAIN,o);if(a){const e=this.connectionsManager.calcChangedStatistic(a.id,a.packetsReceived||0,["packetsReceived"])||a.packetsReceived,n=this.audioStreamReceiverMap.get(i)||0;let o=!0;0===e?o=!1:void 0===n?o=!0:e===n&&(o=!1),t.push({ssrc:i,userid:"",packet_cnt:e-n}),this.audioStreamReceiverMap.set(i,e),o||r.no_stream_cnt++}}const i=this.audioAllCount<3?this.audioAllCount:3;if(i<3){const e=r.no_stream_cnt-(3-i);r.no_stream_cnt=e<0?0:e}r.audios_change_cnt=this.ssrcChangeCount,this.inBoundAudioSsrcInfos.push(r)}},{key:"buildAudioStreamInfo2",value:async function e(){const t=[],r={timestamp:yC.getCurrentTimestamp(),event:wM.QoS_DOWN_STREAM_AUDIO_STAT,access_addr:this.ACSAddr,sfu_addr:this.SFUAddr,audio_policy:this.audioPolicy,topn:17,audios_change_cnt:0,audios:t,no_stream_cnt:0};this.remoteStreamInfo.every((e=>{var n;if(-1===this.audioStreamInfos.findIndex((t=>t.userid===e.userId))){return!0}const i=Array.from(e.mainStream.tracks.values()).find((e=>e.type===YM.TRACK_TYPE_AUDIO)),o="".concat(DP,"_").concat(null==i?void 0:i.cssrc),a=JL.getLatestStats(null===(n=this.connectionsManager)||void 0===n?void 0:n.getConnectionId(),KM.STREAM_TYPE_MAIN,o);if(e&&i&&a){const n=e.userId,o=this.connectionsManager.calcChangedStatistic(a.id,a.packetsReceived||0,["packetsReceived"])||a.packetsReceived,s=this.audioStreamReceiverMap.get(i.cssrc)||0;let u=!0;0===o?u=!1:void 0===s?u=!0:o===s&&(u=!1);const c=this.getEncryInfo(e.userId)||yC.secretString(e.userId)||"";t.push({ssrc:i.cssrc,userid:c,packet_cnt:o-s}),this.audioStreamReceiverMap.set(i.cssrc,o),!u&&this.checkAudioStreamInfosIsExist(n,i.cssrc)&&r.no_stream_cnt++}return!0})),r.audios_change_cnt=this.ssrcChangeCount,t.length>0&&this.inBoundAudioSsrcInfos.push(r)}},{key:"getVideoReceiverFrameDecodedMap",value:async function e(){const t=new Map;return await this.buildFrameDecodedMap(KM.STREAM_TYPE_MAIN,t),await this.buildFrameDecodedMap(KM.STREAM_TYPE_AUX,t),t}},{key:"buildFrameDecodedMap",value:async function e(t,r){const n=t===KM.STREAM_TYPE_AUX,i=this.connectionsManager.getReceivers(n?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN);for(let e=0;e<i.length;e++){if("function"!=typeof i[e].getStats){return void this.logger.warn(this.module_,"rtpreceiver is not support getStats")}this.remoteStreamInfo.forEach((e=>{const i={};(n?e.auxStream.tracks:e.mainStream.tracks).forEach((o=>{var a;const s=JL.getLatestStats(null===(a=this.connectionsManager)||void 0===a?void 0:a.getConnectionId(),t,"".concat(NP,"_").concat(o.cssrc));if(s){i.userId=e.userId,i.isAux=n,i.decodedFrame=this.connectionsManager.calcChangedStatistic(s.id,s.framesDecoded||0,["framesDecoded"]);const t="".concat(e.userId,",").concat(n?"1":"0");r.get(t)||r.set(t,i)}}))}))}}},{key:"getReceiverInfo",value:async function e(t){const r={timestamp:yC.getCurrentTimestamp(),event:wM.QoS_DOWN_STREAM_AUDIO_SUM,real_band_width:0,bytes:0,pkt_loss:0},n={timestamp:yC.getCurrentTimestamp(),event:wM.QoS_DOWN_STREAM_VIDEO_SUM,real_band_width:0,tmmbr:0,video_tmmbr:0,req_band_width:0,pkt_loss:0,jitter:0,frame_rate:0,first_frame_count:0,bytes:0},i={isAudio:!1,isVideo:!1};await this.buildReceiverInfo(KM.STREAM_TYPE_MAIN,r,n,i,t),await this.buildReceiverInfo(KM.STREAM_TYPE_AUX,r,n,i,t),i.isAudio&&(t?this.mediaStatSumDebugInfo.push(r):this.mediaStatSumInfo.push(r)),i.isVideo&&(t?this.mediaStatSumDebugInfo.push(n):this.mediaStatSumInfo.push(n))}},{key:"buildReceiverInfo",value:async function e(t,r,n,i,o){const a=t===KM.STREAM_TYPE_AUX,s={timestamp:yC.getCurrentTimestamp(),event:wM.QoS_DOWN_STREAM_AUDIO,streams:[]},u={timestamp:yC.getCurrentTimestamp(),event:a?wM.QoS_AUX_DOWN_STREAM_VIDEO:wM.QoS_DOWN_STREAM_VIDEO,qos_estimate:3,streams:[]};a||this.buildAudioReceiverInfo(s,r,o),this.buildVideoReceiverInfo(t,u,n,o),0!==u.streams.length&&(o?this.mediaStatDebugInfo.push(u):this.mediaStatInfo.push(u),i.isVideo=!0),0!==s.streams.length&&(o?this.mediaStatDebugInfo.push(s):this.mediaStatInfo.push(s),i.isAudio=!0)}},{key:"checkMuteStatusIsChange",value:function e(t){const r=this.remoteUserManager.checkSsrcIsMute(t),n=this.remoteUserMuteStatus.get(t),i=!r&&r===n;return this.remoteUserMuteStatus.set(t,r),i}},{key:"buildAudioReceiverInfo",value:function e(t,r,n){let i=null,o=null,a=null,s=0;if(n?(i=this.audioReceiveDebugInfo.audioReceivePackets,o=this.audioReceiveDebugInfo.audioReceivePacketsLost,a=this.audioReceiveDebugInfo.audioReceiveBytes,s=this.rtcStatsInteval):(i=this.audioReceiveInfo.audioReceivePackets,o=this.audioReceiveInfo.audioReceivePacketsLost,a=this.audioReceiveInfo.audioReceiveBytes,s=5),this.audioPolicy===qM.TOPN_AUDIOPOLICY){for(let e=0;e<3;e++){var u;const l={ssrc_uid:"",stream_uid:"",sfu_addr:"",dst_rcv_vel:0,dst_rcv_nel:0,bit_rate:0,pkt_loss:0,rtt:0,jitter:0,bytes:0,pkts:0,lost_pkt_cnt:0,srtp_decode_err:0,max_cont_lost_pkts:0,mos:0,jb_depth:0,play_err:0,play_total_time:5e3,freeze_loss_time:0,freeze_time:0,jitter90:0,jitter95:0,jitter100:0,tsm_count:0,ts_exp_cnt:0,ssrc_change_cnt:0,audio_pkt_error:0,audio_decode_error:0,dst_burst_pkt_lost_cnt:0,dst_burst_cnt:0,dst_burst_pkt_lost_rate:0,dst_audio_jb_discard_lost_rate:0,net_loss:0,rtp_loss:0,dst_mean_lost_rate:0,buffer_max_length:0,buffer_mean_length:0,net_ate_max_delay:0,net_ate_cur_delay:0,jb_max_num_delay:0,jb_cur_num_delay:0,pkt_recv_max_interval:0,pkt_recv_mean_interval:0,ui_sample_rate:0,ui_channels:0,en_codec_type:0,ui_total_pkt_loss:0,ui_buffer_total_length:0,ui_buffer_cal_cnt:0,ui_rec_pkt_cnt:0,i_channel_id:0,ui_dst_inc_bytes:0,ui_recv_redn_rate:0,ui_plc_count:0,bad_pkt_cnt:0,empty_pkt_cnt:0,buf_drop_pkt_cnt:0},f=this.startSsrc+e,d="".concat(DP,"_").concat(f),h=JL.getLatestStats(null===(u=this.connectionsManager)||void 0===u?void 0:u.getConnectionId(),KM.STREAM_TYPE_MAIN,d);if(h){l.ssrc_uid="".concat(f,"-").concat(f),l.stream_uid="STREAMUUID-".concat(f),l.sfu_addr=this.SFUAddr,this.connectionsManager.calcChangedStatistic(h.id,h,["bytesReceived","packetsReceived","packetsLost"]);const e=h.bytesReceived||0;a.get(f)||a.set(f,0),l.bytes=e<a.get(f)?e:e-a.get(f);const t=h.packetsReceived||0;l.jitter=Math.round(1e3*(h.jitter||0)),l.bit_rate=Math.round(l.bytes/(1024*s)*8),n||(this.tempStat.bytesReceived+=l.bytes,this.tempStat.recvBitrate+=l.bit_rate),a.set(f,e);const r=h.packetsLost||0;i.get(f)||i.set(f,0),o.get(f)||o.set(f,0);const u=r>o.get(f)?r-o.get(f):0;l.lost_pkt_cnt=u;const p=t<i.get(f)?t:t-i.get(f);l.pkts=p,l.pkt_loss=0===p?0:Math.round(u/(p+u)*100),o.set(f,r),i.set(f,t),l.dst_rcv_vel=this.getAudioLevel("remoteTop3",f);const v=this.remoteUserManager.checkRemoteTop3NeedReport();var c;if(this.remoteUserManager&&v){l.freeze_loss_time=JL.getFreeze(null===(c=this.connectionsManager)||void 0===c?void 0:c.getConnectionId(),KM.STREAM_TYPE_MAIN,d,"packetsReceived",100)}}l.ssrc_uid&&(t.streams.push(l),r.real_band_width+=Math.round(l.bytes/(1024*s)*8))}return}const l={audioReceivePackets:i,audioReceivePacketsLost:o,audioReceiveBytes:a,interval:s};this.buildAudioReceiver4SubscribedMode(l,t,r,n)}},{key:"buildAudioReceiver4SubscribedMode",value:function e(t,r,n,i){this.remoteStreamInfo.forEach((e=>{var o;const a={ssrc_uid:"",stream_uid:"",sfu_addr:"",dst_rcv_vel:0,dst_rcv_nel:0,bit_rate:0,pkt_loss:0,rtt:0,jitter:0,bytes:0,pkts:0,lost_pkt_cnt:0,srtp_decode_err:0,max_cont_lost_pkts:0,mos:0,jb_depth:0,play_err:0,play_total_time:5e3,freeze_loss_time:0,freeze_time:0,jitter90:0,jitter95:0,jitter100:0,tsm_count:0,ts_exp_cnt:0,ssrc_change_cnt:0,audio_pkt_error:0,audio_decode_error:0,dst_burst_pkt_lost_cnt:0,dst_burst_cnt:0,dst_burst_pkt_lost_rate:0,dst_audio_jb_discard_lost_rate:0,net_loss:0,rtp_loss:0,dst_mean_lost_rate:0,buffer_max_length:0,buffer_mean_length:0,net_ate_max_delay:0,net_ate_cur_delay:0,jb_max_num_delay:0,jb_cur_num_delay:0,pkt_recv_max_interval:0,pkt_recv_mean_interval:0,ui_sample_rate:0,ui_channels:0,en_codec_type:0,ui_total_pkt_loss:0,ui_buffer_total_length:0,ui_buffer_cal_cnt:0,ui_rec_pkt_cnt:0,i_channel_id:0,ui_dst_inc_bytes:0,ui_recv_redn_rate:0,ui_plc_count:0,bad_pkt_cnt:0,empty_pkt_cnt:0,buf_drop_pkt_cnt:0},s=Array.from(e.mainStream.tracks.values()).find((e=>e.type===YM.TRACK_TYPE_AUDIO&&e.state===YL.normal)),u="".concat(DP,"_").concat(null==s?void 0:s.cssrc),c=JL.getLatestStats(null===(o=this.connectionsManager)||void 0===o?void 0:o.getConnectionId(),KM.STREAM_TYPE_MAIN,u);if(e&&s&&c){const r=this.getEncryInfo(e.userId)||yC.secretString(e.userId),n="".concat(s.cssrc,"-").concat(r);a.ssrc_uid=n,a.stream_uid="".concat(s.trackId)||"STREAMUUID-".concat(s.cssrc),a.sfu_addr=this.SFUAddr,this.connectionsManager.calcChangedStatistic(c.id,c,["bytesReceived","packetsReceived","packetsLost"]);const o=c.bytesReceived||0;t.audioReceiveBytes.get(n)||t.audioReceiveBytes.set(n,0),a.bytes=o<t.audioReceiveBytes.get(n)?o:o-t.audioReceiveBytes.get(n);const f=c.packetsReceived;a.jitter=Math.round(1e3*(c.jitter||0)),a.bit_rate=Math.round(a.bytes/(1024*t.interval)*8),i||(this.tempStat.bytesReceived+=a.bytes,this.tempStat.recvBitrate+=a.bit_rate),t.audioReceiveBytes.set(n,o);const d=c.packetsLost||0;t.audioReceivePackets.get(n)||t.audioReceivePackets.set(n,0),t.audioReceivePacketsLost.get(n)||t.audioReceivePacketsLost.set(n,0);const h=d>t.audioReceivePacketsLost.get(n)?d-t.audioReceivePacketsLost.get(n):0;a.lost_pkt_cnt=h;const p=f<t.audioReceivePackets.get(n)?f:f-t.audioReceivePackets.get(n);a.pkts=p,a.pkt_loss=0===p?0:Math.round(h/(p+h)*100),t.audioReceivePacketsLost.set(n,d),t.audioReceivePackets.set(n,f),a.dst_rcv_vel=this.getAudioLevel("remote",s.cssrc,e.userId);const v=this.checkMuteStatusIsChange(null==s?void 0:s.cssrc);var l;if(this.remoteUserManager&&v){a.freeze_loss_time=JL.getFreeze(null===(l=this.connectionsManager)||void 0===l?void 0:l.getConnectionId(),KM.STREAM_TYPE_MAIN,u,"packetsReceived",100)}}a.ssrc_uid&&(r.streams.push(a),n.real_band_width+=Math.round(a.bytes/(1024*t.interval)*8))}))}},{key:"buildVideoReceiverInfo",value:function t(r,n,i,o){let a="",s=null,u=null,c=null,l=null,f=0;o?(s=this.videoReceiveDebugInfo.videoReceivePackets,u=this.videoReceiveDebugInfo.videoReceivePacketsLost,c=this.videoReceiveDebugInfo.videoReceiveBytes,l=this.videoReceiveDebugInfo.videoReceiveFrame,f=this.rtcStatsInteval):(s=this.videoReceiveInfo.videoReceivePackets,u=this.videoReceiveInfo.videoReceivePacketsLost,c=this.videoReceiveInfo.videoReceiveBytes,l=this.videoReceiveInfo.videoReceiveFrame,f=5),this.remoteStreamInfo.forEach((t=>{(r===KM.STREAM_TYPE_MAIN?t.mainStream.tracks.filter((e=>e.type===YM.TRACK_TYPE_VIDEO&&e.state===YL.normal)):t.auxStream.tracks.filter((e=>e.type===YM.TRACK_TYPE_VIDEO&&e.state===YL.normal))).forEach((d=>{var h,p;const v={ssrc_uid:"",stream_uid:"",sfu_addr:"",expect_pic_w:0,expect_pic_h:0,image_width:0,image_height:0,roc:0,buffered:0,bit_rate:0,frame_rate:0,pkt_loss:0,rtt:0,jitter:0,bytes:0,jb_depth:0,fir_req_cnt:0,parse_srtp_fail:0,fir_frame_cnt:0,freeze_200ms_cnt:0,freeze_600ms_cnt:0,freeze_1000ms_cnt:0,freeze_200ms_time:0,freeze_600ms_time:0,freeze_1000ms_time:0,dec_key_frame_cnt:0,dec_key_frame_size:0,max_cont_lost_pkts:0,freeze_cnt:0,act_dec_runtime:5e3,ui_first_rcv_seq:0,ui_max_decode_delay:0,ui_min_decode_delay:0,ui_mean_decode_delay:0,ui_current_decode_delay:0,ui_max_channel_decode_delay:0,ui_min_channel_decode_delay:0,ui_mean_channel_decode_delay:0,ui_current_channel_decode_delay:0,ui_abnormal_pkt_count:0,ui_codec_pt_error:0,ui_no_dec_data_cnt:0,jb_discard_bytes:0,net_lost_pkt_counts:0,rcv_frame_counts:0,dec_bytes_out:0,rcv_red_bytes:0,dec_delay_over_time_cnt:0,channel_decode_over_time_cnt:0,dec_non_key_frame_size:0,dec_non_key_frame_cnt:0,us_loss_frame_rate:0,ui_pkt_rate:0,us_residual_pkt_loss:0,ul_decoder_start_time:0,us_mean_pkt_loss:0,ui_mean_rtt:0,e_dec_protocol:0,ui_distribute_tmmbr:0,frame_fail_cnt:0,advanced_frame_count:0,base_frame_count:0,before_postprocess_frames_rate:0,after_postprocess_frames_rate:0,red_rate:0,recover_rate:0,jb_listpacket_num:0,not_recv_pkt_cnt:0,not_recv_pkt_total_time:0,nack_request_cnt:0,send_key_request_cnt:0,jb_jitter:0,recv_frame_rate:0,recv_base_layer_frame_cnt:0,recv_mid_layer_frame_cnt:0,recv_out_layer_frame_cnt:0,jb_total_frame_cnt:0,jb_listframe_num:0,output_total_freezetime:0,output_freeze_cnt:0,ref_frame_error_cnt:0,force_out4_key_cnt:0,force_out4_struct_cnt:0,current_output_diftime:0,current_complete_type:0,jb_base_layer_frame_num:0,jb_mid_layer_frame_num:0,jb_out_layer_frame_num:0,freeze_400ms_cnt:0,freeze_400ms_time:0,freeze_200ms_rate:0,freeze_400ms_rate:0,freeze_600ms_rate:0,freeze_1000ms_rate:0,freeze_loss_time:0,first_frame_cnt:0,p_frame_cnt:0,lost_pkt_cnt:0,play_err:0,bad_pkt_cnt:0,empty_pkt_cnt:0,buf_drop_pkt_cnt:0},g="".concat(NP,"_").concat(d.cssrc),m=JL.getLatestStats(null===(h=this.connectionsManager)||void 0===h?void 0:h.getConnectionId(),r,g);if(m){const e=this.getEncryInfo(t.userId)||yC.secretString(t.userId),n="".concat(d.cssrc,"-").concat(e);v.ssrc_uid=n,this.connectionsManager.calcChangedStatistic(m.id,m,["keyFramesDecoded","packetsReceived","packetsLost","bytesReceived","framesDecoded","freezeCount"]),this.buildCommonVideoRecvInfo(v,m,d),this.buildBitRateVideoRecvInfo(m,n,s,u,v);const i=yC.getValue(m.bytesReceived,0),h=c.get(n)||0;v.bytes=i<h?i:i-h,v.bit_rate=Math.round(v.bytes/(1024*f)*8),o||(this.tempStat.bytesReceived+=v.bytes,this.tempStat.recvBitrate+=v.bit_rate),c.set(n,i);const p=l.get(n)||0,_=m.framesDecoded||0,b=_<p?_:_-p;var y;if(v.dec_frame_cnt=b,v.frame_rate=b/f,l.set(n,_),a=m.trackId,v.freeze_200ms_cnt=m.framesDropped,v.fir_req_cnt=m.firCount||0,v.fir_frame_cnt=m.pliCount||0,v.nack_request_cnt=m.nackCount||0,r===KM.STREAM_TYPE_MAIN&&this.remoteUserManager&&this.checkMuteStatusIsChange(d.cssrc)){v.freeze_600ms_time=JL.getFreeze(null===(y=this.connectionsManager)||void 0===y?void 0:y.getConnectionId(),r,g,this.videoFreezeKey,500)}}const _=JL.getLatestStatsByTrackId(null===(p=this.connectionsManager)||void 0===p?void 0:p.getConnectionId(),r,a);a&&_&&e.buildVideoTrackInfo(v,_),v.ssrc_uid&&(n.streams.push(v),i.real_band_width+=Math.round(v.bytes/(1024*f)*8)),v.rtt=1e3*JL.getLatestValue(t.roomId,r,"candidate-pair","currentRoundTripTime")||0}))}))}},{key:"buildBitRateVideoRecvInfo",value:function e(t,r,n,i,o){const a=yC.getValue(t.packetsReceived,0),s=yC.getValue(t.packetsLost,0),u=n.get(r)||0,c=i.get(r)||0,l=s>c?s-c:0;o.real_lost_pkt_cnt=l;const f=a<u?a:a-u;o.pkts=f,o.pkt_loss=0===f?0:Math.round(l/(f+l)*100),i.set(r,s),n.set(r,a)}},{key:"buildCommonVideoRecvInfo",value:function e(t,r,n){t.sfu_addr=this.SFUAddr,t.stream_uid=n.trackId||"",t.expect_pic_w=n.width||0,t.expect_pic_h=n.height||0,t.dec_key_frame_cnt=r.keyFramesDecoded||0,t.jitter=Math.round(1e3*(r.jitter||0)),t.jb_depth=Math.round(r.jitterBufferDelay||0),t.jb_listpacket_num=Math.round(r.jitterBufferEmittedCount||0),t.jb_jitter=Math.round(1e3*(r.totalDecodeTime||0)),t.jb_mid_layer_frame_num=Math.round(r.totalAssemblyTime||0),t.jb_out_layer_frame_num=Math.round(r.framesAssembledFromMultiplePackets||0),t.output_total_freezetime=Math.round(r.totalFreezesDuration||0),t.output_freeze_cnt=Math.round(r.freezeCount||0),t.force_out4_key_cnt=Math.round(r.totalPausesDuration||0),t.force_out4_struct_cnt=Math.round(r.pauseCount||0),t.not_recv_pkt_cnt=Math.round(r.framesDecoded||0),t.not_recv_pkt_total_time=Math.round(r.totalProcessingDelay||0)}},{key:"getSenderInfo",value:async function e(t){const r={timestamp:yC.getCurrentTimestamp(),event:wM.QoS_UP_STREAM_AUDIO_SUM,tmmbr:0,video_tmmbr:0,resp_band_width:0,real_band_width:0,bytes:0,pkt_loss:0},n={timestamp:yC.getCurrentTimestamp(),event:wM.QoS_UP_STREAM_VIDEO_SUM,tmmbr:0,video_tmmbr:0,resp_band_width:0,real_band_width:0,pkt_loss:0,jitter:0,frame_rate:0,first_frame_count:0,bytes:0},i={isAudio:!1,isVideo:!1};await this.buildSenderInfo(!1,r,n,i,t),await this.buildSenderInfo(!0,r,n,i,t),i.isAudio&&(t?this.mediaStatSumDebugInfo.push(r):this.mediaStatSumInfo.push(r)),i.isVideo&&(t?this.mediaStatSumDebugInfo.push(n):this.mediaStatSumInfo.push(n))}},{key:"buildSenderInfo",value:async function e(t,r,n,i,o){const a=[],s=[],u={ssrc_uid:"",stream_uid:"",sfu_addr:"",src_chan_input_vol_scale:0,src_snd_vel:0,src_snd_nel:0,bit_rate:0,pkt_loss:0,rtt:0,jitter:0,bytes:0,pkts:0,pkt_rate:0,redn_rate:0,ui_bgm_mean_speech_level:0,ui_bgm_mean_noise_level:0,up_vqe_max_delay:0,up_vqe_mean_delay:0,up_capture_max_interval:0,up_capture_mean_interval:0,pre_send_max_delay:0,pre_send_mean_delay:0,up_enc_send_max_delay:0,up_enc_send_mean_delay:0,ui_sample_rate:0,ui_channels:0,en_codec_type:0,i_channel_id:0,ui_src_inc_bytes:0,ui_up_mean_delay:0,ui_up_max_delay:0,ui_up_capture_cnt:0,ui_up_vqe_total_delay:0,ui_pre_send_total_delay:0,ui_up_enc_send_pkt_cnt:0,ui_up_enc_send_total_delay:0,estimate_bit_rate:0,tmmbr:0,bad_pkt_cnt:0},c=t?Array.from(this.auxsStreamInfo.values()).filter((e=>e.type!==YM.TRACK_TYPE_AUDIO)):Array.from(this.LocalStreamInfo.values());if(0===c.length){return}const l=c.find((e=>e.type===YM.TRACK_TYPE_AUDIO)),f=c.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)),d=o?this.rtcStatsInteval:5;this.buildAudioSenderInfo(l,u,o),u.ssrc_uid&&(r.real_band_width+=Math.round(u.bytes/(1024*d)*8),i.isAudio=!0,s.push(u)),null==f||f.forEach((e=>{const r={ssrc_uid:"",stream_uid:"",sfu_addr:"",expect_pic_w:0,expect_pic_h:0,expect_frame_rate:0,image_width:0,image_height:0,frame_rate:0,bit_rate:0,max_cont_loss:0,pkt_loss:0,rtt:0,jitter:0,bytes:0,pkts:0,roc:0,first_req_count:0,first_frame_count:0,frame_count:0,redn_rate:0,ui_first_send_seq:0,ui_no_ref_redundance_rate:0,ui_enc_max_bit_rate_set:0,ui_enc_min_bit_rate_set:0,ui_enc_current_bit_rate_set:0,ui_max_encode_delay:0,ui_min_encode_delay:0,ui_mean_encode_delay:0,ui_current_encode_delay:0,ui_buffer_data:0,ui_snd_fir_frame_key_count:0,ui_snd_fir_frame_arq_count:0,ui_snd_fir_frame_period_count:0,ui_max_channel_encode_delay:0,ui_min_channel_encode_delay:0,ui_mean_channel_encode_delay:0,ui_current_channel_encode_delay:0,ui_enc_frame_counts:0,ui_enc_bytes_out:0,ui_estimate_bitrate:0,ui_red_bytes_out:0,ui_nack_bytes_out:0,ui_enc_over_time_cnt:0,ui_enc_delay_over_time_cnt:0,ui_channel_encode_over_time_cnt:0,ui_before_pre_process_frm_cnt:0,ui_after_pre_process_frm_cnt:0,repeat_red_pkt_count:0,usable_bitrate:0,available_enc_bitrate:0,send_pkt_hungry_cnt:0,send_buffer_frm_cnt:0,advanced_frame_cnt:0,base_frame_cnt:0,avg_pre_process_time_in_period:0,max_pre_process_time:0,before_encode_lost_frm_cnt:0,us_sent_mean_lost_rate:0,ui_mean_r_t_t:0,ui_cumulative_lost:0,ui_extended_max_seq_num:0,ui_pkt_rate:0,ui_send_bit_rate:0,f_key_redundance_rate:0,f_ref_redundance_rate:0,f_no_ref_redundance_rate:0,e_enc_protocol:0,before_encode_frames_rate:0,before_send_frames_rate:0,after_send_frames_rate:0,data_cache_bytes:0,input_frame_cnt:0,input_pacing_pkt_cnt:0,input_pacing_fec_pkt_cnt:0,input_pacing_arq_pkt_cnt:0,send_fec_pkt_cnt:0,send_arq_pkt_cnt:0,nack_not_rsp_for_not_find_cnt:0,nack_not_rsp_for_key_cnt:0,nack_not_rsp_for_rtt_cnt:0,nack_not_rsp_for_time_cnt:0,nack_not_rsp_for_bw_cnt:0,deliver_red_rate:0,output_frame_cnt:0,estimate_bit_rate:0,tmmbr:0,p_frame_count:0,key_frame_count:0,bad_pkt_cnt:0,qos_estimate:3};this.buildVideoSenderInfo(e,r,t,o),r.ssrc_uid&&(n.real_band_width+=Math.round(r.bytes/(1024*d)*8),i.isVideo=!0,a.push(r))}));const h=this.getConnectionRemb(t);if(n.video_tmmbr=h>0?Math.round(h/1024):0,n.tmmbr+=n.video_tmmbr,s.length>0){const e={timestamp:yC.getCurrentTimestamp()};e.event=wM.QoS_UP_STREAM_AUDIO,e.streams=s,o?this.mediaStatDebugInfo.push(e):this.mediaStatInfo.push(e)}if(a.length>0){const e={timestamp:yC.getCurrentTimestamp()};e.event=t?wM.QoS_AUX_UP_STREAM_VIDEO:wM.QoS_UP_STREAM_VIDEO,e.streams=a,o?this.mediaStatDebugInfo.push(e):this.mediaStatInfo.push(e)}}},{key:"buildAudioSenderInfo",value:function e(t,r,n){var i,o;if(!t){return}const a=n?this.lastSenderDebugInfo:this.lastSenderInfo,s=n?this.rtcStatsInteval:5,u=a.get("".concat(t.ssrc,"-").concat(t.uid))||{audioSendPackets:0,audioSendPacketsLost:0,audioSendBytes:0,videoSendPackets:0,videoSendPacketsLost:0,videoSendBytes:0};let c="".concat(jP,"_").concat(t.ssrc),l=JL.getLatestStats(null===(i=this.connectionsManager)||void 0===i?void 0:i.getConnectionId(),KM.STREAM_TYPE_MAIN,c);if(l){const e=this.getEncryInfo(t.uid)||yC.secretString(t.uid);r.ssrc_uid="".concat(t.ssrc,"-").concat(e),r.stream_uid=t.streamId,r.sfu_addr=this.SFUAddr;const i=l.bytesSent||0;r.bytes=i<u.audioSendBytes?i:i-u.audioSendBytes;const o=l.packetsSent||0;r.pkts=o<u.audioSendPackets?o:o-u.audioSendPackets,r.bit_rate=Math.round(r.bytes/(1024*s)*8)||0,n||(this.tempStat.bytesSent+=r.bytes,this.tempStat.sendBitrate+=r.bit_rate),u.audioSendBytes=i,u.audioSendPackets=o,r.src_snd_vel=this.getAudioLevel("local",t.ssrc)}if(c="".concat(BP,"_").concat(t.ssrc),l=JL.getLatestStats(null===(o=this.connectionsManager)||void 0===o?void 0:o.getConnectionId(),KM.STREAM_TYPE_MAIN,c),l){r.jitter=Math.round(1e3*l.jitter),r.rtt=Math.round(1e3*(l.roundTripTime||0));const e=l.packetsLost||0,t=e>u.audioSendPacketsLost?e-u.audioSendPacketsLost:0,n=r.pkts;r.pkt_loss=n>0?Math.round(t/(n+t)*100):0,u.audioSendPacketsLost=e}a.set("".concat(t.ssrc,"-").concat(t.uid),u)}},{key:"addExpectInfo",value:function e(t,r){r.expect_pic_w=(null==t?void 0:t.width)||0,r.expect_pic_h=(null==t?void 0:t.height)||0,r.expect_frame_rate=(null==t?void 0:t.frame)||0}},{key:"addRembInfo",value:function e(t,r){const n=this.getConnectionRemb(t);r.usable_bitrate=n>0?Math.round(n/1024):0}},{key:"getConnectionRemb",value:function e(t){let r=0;return this.connectionsManager.isConnectionsExist()?(r+=t?this.getRemb(KM.STREAM_TYPE_AUX):this.getRemb(KM.STREAM_TYPE_MAIN),r):r}},{key:"getRemb",value:function e(t){let r=0;try{const e=JL.getLatestReport(this.connectionsManager.getConnectionId(),t);if(e){const t=e.get("candidate-pair");t&&Object.prototype.hasOwnProperty.call(t,"availableOutgoingBitrate")&&(r=t.availableOutgoingBitrate||0)}}catch(e){this.logger.error(this.module_,"getRemb failed",e)}return r}},{key:"buildVideoSenderInfo",value:function t(r,n,i,o){var a,s;if(!r){return}const u=o?this.lastSenderDebugInfo:this.lastSenderInfo,c=o?this.rtcStatsInteval:5,l=u.get("".concat(r.ssrc,"-").concat(r.uid))||{audioSendPackets:0,audioSendPacketsLost:0,audioSendBytes:0,videoSendPackets:0,videoSendPacketsLost:0,videoSendBytes:0};this.addExpectInfo(r,n),this.addRembInfo(i,n);const f="".concat(UP,"_").concat(r.ssrc),d=JL.getLatestStats(null===(a=this.connectionsManager)||void 0===a?void 0:a.getConnectionId(),i?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,f);if(d){const t=this.getEncryInfo(r.uid)||yC.secretString(r.uid);n.ssrc_uid="".concat(r.ssrc,"-").concat(t),n.stream_uid=r.streamId,n.sfu_addr=this.SFUAddr,e.buildCommonVideoSendInfo(n,d,r,i);const a=yC.getValue(d.bytesSent,0);n.bytes=a<l.videoSendBytes?a:a-l.videoSendBytes;const s=yC.getValue(d.packetsSent,0);n.pkts=s<l.videoSendPackets?s:s-l.videoSendPackets,l.videoSendPackets=s,n.bit_rate=Math.round(n.bytes/(1024*c)*8)||0,o||(this.tempStat.bytesSent+=n.bytes,this.tempStat.sendBitrate+=n.bit_rate),l.videoSendBytes=a}const h="".concat(FP,"_").concat(r.ssrc),p=JL.getLatestRemoteInboundStats(null===(s=this.connectionsManager)||void 0===s?void 0:s.getConnectionId(),i?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,h);if(p){n.jitter=Math.round(1e3*(p.jitter||0));const e=p.packetsLost||0;if(0!==e){const t=e>l.videoSendPacketsLost?e-l.videoSendPacketsLost:0,r=n.pkts;n.pkt_loss=Math.round(t/(r+t)*100)}else{n.pkt_loss=0}l.videoSendPacketsLost=e,n.rtt=Math.round(1e3*(p.roundTripTime||0))}u.set("".concat(r.ssrc,"-").concat(r.uid),l)}},{key:"buildRtcStatsDebugInfo",value:async function e(t){this.rtcStatsInteval=t;const r={mediaStatsDebugInfo:null,mediaStatsSumDebugInfo:null};return this.connectionsManager.isConnectionsExist()?(await this.getSenderInfo(!0),await this.getReceiverInfo(!0),r.mediaStatsDebugInfo=this.mediaStatDebugInfo,r.mediaStatsSumDebugInfo=this.mediaStatSumDebugInfo,this.mediaStatDebugInfo=[],this.mediaStatSumDebugInfo=[],r):(this.logger.debug(this.module_,"peerConnection is undefined"),r)}}],[{key:"buildVideoTrackInfo",value:function e(t,r){t.image_width=r.frameWidth||0,t.image_height=r.frameHeight||0,t.freeze_cnt=r.freezeCount||0}},{key:"buildCommonVideoSendInfo",value:function e(t,r,n,i){if(i){var o;const e=null===(o=n.publishInfo)||void 0===o?void 0:o.stream;t.image_width=(null==e?void 0:e.getScreenWidth())||0,t.image_height=(null==e?void 0:e.getScreenHeight())||0,t.frame_rate=(null==e?void 0:e.getScreenFrameRate())||0}else{t.image_width=(null==n?void 0:n.width)||0,t.image_height=(null==n?void 0:n.height)||0,t.frame_rate=(null==n?void 0:n.frame)||0}t.image_width=r.frameWidth||0,t.image_height=r.frameHeight||0,t.frame_rate=Math.round(r.framesPerSecond||0),t.first_frame_count=r.firCount||0,t.frame_count=r.framesSent||0}}])}();let XL=function(){function e(t,r){a(this,e);o(this,"eventInfoMap",new Map),o(this,"reqInfoMap",new Map),o(this,"sfuInfo",{ipAddress:"",videoPort:0,audioPort:0,auxPort:0}),o(this,"deviceInfo",{audioOutputId:void 0,audioInputId:void 0,videoInputId:void 0}),o(this,"mediaOpsData",[]),o(this,"signalSendMsgs",[]),o(this,"signalReceiveMsgs",[]),o(this,"parentSpanIdMap",new Map),o(this,"spanIdMap",new Map),this.logger=t,this.mediaStats=new ZL(t),this.module_="RTCStat",this.commInfo={},this.commInfo.instance_id=yC.getDeviceID(),r&&(this.commInfo.appid=r.appId,this.commInfo.domain=r.domain),this.commInfo.sdk_name="hwwebrtc",this.commInfo.corp="",this.commInfo.service_name="rtc",this.commInfo.operator="",this.commInfo.sdk_version="web-".concat(xM,"-").concat(LM),this.signalSendMsgs.push("BYE"),this.signalSendMsgs.push("PUSH_STREAM_RES_ALL"),this.signalSendMsgs.push("APPLY_PUSH_STREAM"),this.signalSendMsgs.push("AUDIO_POLICY"),this.signalSendMsgs.push("SWITCH_ROLE"),this.signalSendMsgs.push("CHANGE_STREAM_STATUS"),this.signalSendMsgs.push("APP_DATA"),this.signalSendMsgs.push("ENABLE_AUDIO"),this.signalSendMsgs.push("DISABLE_AUDIO"),this.signalSendMsgs.push("ENABLE_VIDEO"),this.signalSendMsgs.push("DISABLE_VIDEO"),this.signalSendMsgs.push("JOIN_ROOM"),this.signalSendMsgs.push("EXIT_ROOM"),this.signalSendMsgs.push("PING"),this.signalSendMsgs.push("PUSH_STREAM_RESULT"),this.signalSendMsgs.push("GET_ROOM_USERINFO"),this.signalSendMsgs.push("QUERY_PUBLISH"),this.signalSendMsgs.push("START_PUBLISH"),this.signalSendMsgs.push("STOP_PUSH_STREAM"),this.signalSendMsgs.push("STOP_PUBLISH"),this.signalSendMsgs.push("CANCEL_SUBS_STREAM"),this.signalSendMsgs.push("SUBS_STREAM"),this.signalSendMsgs.push("UPDATE_PUBLISH"),this.signalReceiveMsgs.push("WATCH_STREAM_NOTIFY")}return u(e,[{key:"addCommInfo",value:function e(t){return t.timestamp=yC.getCurrentTimestamp(),t.trace_id=this.commInfo.trace_id||"",t.instance_id=this.commInfo.instance_id,t.room_uid=this.commInfo.room_uid||"",t.domain=this.commInfo.domain||"",t.event_name=(null==t?void 0:t.event_name)||"",t.appid=this.commInfo.appid||"",t.corp=this.commInfo.corp||"",t.room_id=this.commInfo.room_id||"",t.user_id=this.getMediaStat().getEncryInfo(this.commInfo.user_id)||yC.secretString(this.commInfo.user_id)||"",t.sdk_version=this.commInfo.sdk_version||"",t.sdk_name=this.commInfo.sdk_name||"",t.service_name=this.commInfo.service_name||"",t.operator=this.commInfo.operator||"",t.net_type=yC.getNetworkType()||"",t.country="",t.province="",t.city="",t}},{key:"setRemoteUserManager",value:function e(t){this.remoteUserManager=t,this.mediaStats.setRemoteUserManager(t)}},{key:"clearMediaStatBytes",value:function e(){this.mediaStats.clearMediaStatBytes()}},{key:"collectReceiverDecodedFrameMap",value:async function e(){return this.mediaStats.getVideoReceiverFrameDecodedMap()}},{key:"setLocalUserInfo",value:function e(t){this.commInfo.room_id=t.roomId,this.commInfo.user_id=t.userId,this.user=t}},{key:"setTraceInfo",value:function e(t){this.commInfo.trace_id=t}},{key:"setRoomUid",value:function e(t){this.commInfo.room_uid=t}},{key:"setSFUAddress",value:function e(t){this.sfuInfo=t,t.ipAddress&&this.mediaStats.setSFUAddr(t.ipAddress)}},{key:"getMediaStat",value:function e(){return this.mediaStats}},{key:"leaveRoom",value:function e(){this.mediaCollectionTimer&&clearTimeout(this.mediaCollectionTimer),this.mediaStats.leaveRoom()}},{key:"startMediaCollector",value:function t(){clearTimeout(this.mediaCollectionTimer),e.isStatiscEnable()&&(this.mediaCollectionTimer=setTimeout((async()=>{try{await this.mediaStats.dealStats(),this.setMediaStatInfo(),this.setMediaStatSumInfo(),this.setInBoundAudioSsrcInfos(),PL.addRecords(this.mediaOpsData),this.mediaOpsData.length=0}catch(e){this.logger.error(this.module_,"startMediaCollector failed ".concat(e))}finally{this.startMediaCollector()}}),5e3))}},{key:"reportAudioMuteInfo",value:function e(t,r){const n=r?1:3;let i;i=1===t?vM.INPUT_AUDIO:vM.OUTPUT_AUDIO,this.reportSwitchDevicesInfo(i,this.deviceInfo.audioInputId,0,n)}},{key:"reportVideoMuteInfo",value:function e(t,r){const n=r?4:5;this.reportSwitchDevicesInfo(vM.INPUT_VIDEO,this.deviceInfo.videoInputId,0,n)}},{key:"setDeviceStatusInfo",value:async function e(){(async function(){return new Promise(((e,t)=>{navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices||t(new oc(nc.RTC_ERR_CODE_NOT_SUPPORT_MEDIA_DEVICES)),navigator.mediaDevices.enumerateDevices().then((r=>{if(r&&0!==r.length){const t={};r.forEach((e=>{"default"!==e.deviceId&&"communications"!==e.deviceId&&(t[e.kind]=[...t[e.kind]||[],e])})),e(t)}else{t(new oc(nc.RTC_ERR_CODE_NO_AVAILABLE_DEVICES))}})).catch((e=>{t(e)}))}))})().then((e=>{this.setSpeakerDeviceInfo(e.audiooutput||[]),this.setCameraDeviceInfo(e.videoinput||[]),this.setMicrophoneDeviceInfo(e.audioinput||[])})).catch((e=>{this.logger.error(this.module_,"getRTCDeviceGroups failed ".concat(e))}))}},{key:"recordUploadRequsetInfo",value:function e(t){if(null!=t&&t.type&&"PING"!==t.type){switch(this.reqInfoMap.set(t.requestId,t),t.type){case"JOIN_ROOM":t.eventId=SM.EVENT_JOIN_ROOM,this.eventInfoMap.set(t.eventId,t);break;case"EXIT_ROOM":t.eventId=SM.EVENT_LEAVE_ROOM,this.eventInfoMap.set(t.eventId,t);break;case"SWITCH_ROLE":t.eventId=SM.EVENT_SWITCH_ROLE,this.eventInfoMap.set(t.eventId,t);break;case"PUSH_STREAM_RES_ALL":if(t.videoStreams&&t.videoStreams.length>0){t.videoStreams.find((e=>(null==e?void 0:e.content)===$P.desktop))&&(t.eventId=SM.EVENT_SEND_AUX_STREAM,this.eventInfoMap.set(t.eventId,t))}}}}},{key:"getDownloadRequestInfo",value:function e(t){if(null==t||!t.requestId){return""}if("PONG"===t.resultMessage){return"PONG"}const r=this.reqInfoMap.get(t.requestId);return r&&(null==r?void 0:r.type)||""}},{key:"recordDownloadRequestInfo",value:function e(t){if(null==t||!t.requestId){return}if("PONG"===t.resultMessage){return}const r=this.reqInfoMap.get(t.requestId);if(r){switch(this.reportSignalRepForServer2Web(r,t),r.type){case"SUBS_STREAM":r.videoUpstreams&&this.reportVideoSub(r.videoSubType,r.requestId,r.videoUpstreams,t.resultCode,t.resultMessage),r.audioUpstreams&&this.reportAudioSub(r.audioSubType,r.requestId,r.audioUpstreams,t.resultCode);break;case"PUSH_STREAM_RES_ALL":r.videoStreams&&r.videoStreams.length>0&&this.reportUpStreamVideoInfo(r.videoStreams,r.requestId,t.resultCode);break;case"AUDIO_POLICY":this.reportAudioPolicyInfo(r.audioPolicy,r.requestId,t.resultCode)}this.reqInfoMap.delete(t.requestId)}}},{key:"setMediaStatInfo",value:function e(){const t=this.mediaStats.getMediaStatInfo()||[];t.forEach((e=>{this.addCommInfo(e)})),this.mediaOpsData=this.mediaOpsData.concat(t)}},{key:"setMediaStatSumInfo",value:function e(){const t=this.mediaStats.getMediaStatSum()||[];t.forEach((e=>{this.addCommInfo(e)})),this.mediaOpsData=this.mediaOpsData.concat(t)}},{key:"setInBoundAudioSsrcInfos",value:function e(){const t=this.mediaStats.getInBoundAudioSsrc()||[];t.forEach((e=>{this.addCommInfo(e)})),this.mediaOpsData=this.mediaOpsData.concat(t)}},{key:"setRequestId",value:function e(t){const r=this.eventInfoMap.get(t.event);return r&&(t.request_id=r.requestId),this}},{key:"transformJoinInfoResult",value:function e(t){if(!t&&0!==t){return MM.INTERNAL_ERROR}let r=MM.INTERNAL_ERROR;switch(t){case nc.RTC_ERR_CODE_SUCCESS:r=MM.SUCCESS;break;case nc.RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED:case nc.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED:case nc.RTC_ERR_CODE_WEBSOCKET_RECONNECT_TIMEOUT:case nc.RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT:case nc.RTC_ERR_CODE_WEBSOCKET_CONNECT_ERROR:case nc.RTC_ERR_CODE_STATUS_ERROR:r=MM.NETWORK_CONNECT_ERROR;break;case nc.RTC_ERR_CODE_WAIT_CONFIG_FAIL:case nc.RTC_ERR_CODE_WEBSOCKET_NOT_OPEN:r=MM.SERVER_ERROR;break;case nc.RTC_ERR_CODE_INVALID_PARAMETER:r=MM.INTERNAL_ERROR}return r}},{key:"reportJoinInfo",value:function t(r,n,i,o,a){var s,u;if(!e.isStatiscEnable()){return}this.getMediaStat().setACSAddr(n);const c={};c.event=SM.EVENT_JOIN_ROOM,c.access_addr=n,c.sfu_addr=this.sfuInfo.ipAddress,c.aport=this.sfuInfo.audioPort,c.vport=this.sfuInfo.videoPort,this.setRequestId(c),c.result=this.transformJoinInfoResult(r),c.platform="web-"+yC.getPlatform(),c.user_agent="web-"+yC.getUserAgent(),c.role=null===(s=this.user)||void 0===s?void 0:s.role,c.join_qos=JSON.stringify(o||{}),c.is_rejoin=i?1:0,c.nick_name=yC.shieldNickname((null===(u=this.user)||void 0===u?void 0:u.userName)||""),c.time_diff_server=0,c.failMessage="".concat(r||"  ").concat(a||" "),this.addCommInfo(c),this.joinTime=c.timestamp,this.eventInfoMap.delete(SM.EVENT_JOIN_ROOM),PL.reportRecords([c])}},{key:"reportRelayJoinInfo",value:function e(t){var r;const n={};n.event=SM.EVENT_JOIN_ROOM,n.access_addr=t.acsAddr,n.sfu_addr=this.sfuInfo.ipAddress,n.aport=this.sfuInfo.audioPort,n.vport=this.sfuInfo.videoPort,n.request_id=t.requestId,n.result=this.transformJoinInfoResult(t.code),n.platform="web-"+yC.getPlatform(),n.user_agent="web-"+yC.getUserAgent(),n.role=t.role,n.join_qos=JSON.stringify({}),n.is_rejoin=0,n.nick_name=yC.shieldNickname((null===(r=this.user)||void 0===r?void 0:r.userName)||""),n.time_diff_server=0,n.failMessage="".concat(t.code||"  ").concat(t.failMessage||" "),this.addCommInfo(n),n.trace_id=t.traceId,n.room_id=t.roomId,n.room_uid=String(t.roomUid),PL.reportRecords([n])}},{key:"reportRelayLeavInfo",value:function t(r){if(!e.isStatiscEnable()){return}const n={};n.event=SM.EVENT_LEAVE_ROOM,n.reason=0,n.result=r.code,n.a_snd_lost_mean=0,n.v_snd_lost_mean=0,n.a_snd_band_width_mean=0,n.v_snd_band_width_mean=0,n.a_snd_rtt_mean=0,n.a_recv_rtt_mean=0,n.v_snd_rtt_mean=0,n.v_recv_rtt_mean=0,n.a_recv_lost_mean=0,n.v_recv_lost_mean=0,n.a_recv_band_width_mean=0,n.v_recv_band_width_mean=0,n.freeze_200ms_cnt=0,n.freeze_600ms_cnt=0,n.freeze_1000ms_cnt=0,n.stut_time_mean=0,n.freeze_400ms_cnt=0,n.freeze_200ms_rate=0,n.freeze_400ms_rate=0,n.freeze_600ms_rate=0,n.freeze_1000ms_rate=0,n.v_snd_frame_rate=0,n.v_snd_pkt_rate=0,n.a_snd_pkt_rate=0,n.v_recv_frame_rate=0,n.v_recv_pkt_rate=0,n.a_recv_pkt_rate=0,n.v_snd_jitter=0,n.v_recv_jitter=0,this.addCommInfo(n),n.trace_id=r.traceId,n.room_id=r.roomId,n.room_uid=String(r.roomUid),n.request_id=r.requestId,n.elapsed=0,PL.reportRecords([n])}},{key:"reportLeavInfo",value:function t(r){if(!e.isStatiscEnable()){return}const n={};n.event=SM.EVENT_LEAVE_ROOM,n.reason=0,n.result=r,n.a_snd_lost_mean=0,n.v_snd_lost_mean=0,n.a_snd_band_width_mean=0,n.v_snd_band_width_mean=0,n.a_snd_rtt_mean=0,n.a_recv_rtt_mean=0,n.v_snd_rtt_mean=0,n.v_recv_rtt_mean=0,n.a_recv_lost_mean=0,n.v_recv_lost_mean=0,n.a_recv_band_width_mean=0,n.v_recv_band_width_mean=0,n.freeze_200ms_cnt=0,n.freeze_600ms_cnt=0,n.freeze_1000ms_cnt=0,n.stut_time_mean=0,n.freeze_400ms_cnt=0,n.freeze_200ms_rate=0,n.freeze_400ms_rate=0,n.freeze_600ms_rate=0,n.freeze_1000ms_rate=0,n.v_snd_frame_rate=0,n.v_snd_pkt_rate=0,n.a_snd_pkt_rate=0,n.v_recv_frame_rate=0,n.v_recv_pkt_rate=0,n.a_recv_pkt_rate=0,n.v_snd_jitter=0,n.v_recv_jitter=0,n.elapsed=(yC.getCurrentTimestamp()-this.joinTime)/1e3,this.addCommInfo(n),this.setRequestId(n),this.eventInfoMap.delete(SM.EVENT_LEAVE_ROOM),PL.reportRecords([n])}},{key:"reportVideoSub",value:function t(r,n,i,o,a){if(!e.isStatiscEnable()){return}const s=[],u=[],c=[],l=[],f=[];null==i||i.forEach((e=>{const t=this.getMediaStat().getEncryInfo(e.pUserId)||yC.secretString(e.pUserId)||"";u.push(t),s.push(e.pSsrcId),f.push((null==e?void 0:e.code)||0);const r=this.remoteUserManager.getStreamInfoByPStreamUid(e.pStreamUid);if(r){const e=qL.getResolutionType(r.width,r.height);c.push(e&&e.toUpperCase().replace("-",""))}else{this.logger.warn(this.module_,"Can not getStreamInfoByPStreamUid for reportVideoSub")}l.push(String(e.pStreamUid))}));const d={event:SM.EVENT_WATCH,action:PM[r],request_id:n,ssrc_list:s.join(","),stream_uid_list:l.join(","),uid_list:u.join(","),img_list:c.join(","),reasonList:f.join(","),result:o,failMessage:0===o?"":a};this.addCommInfo(d),PL.reportRecords([d])}},{key:"reportSwitchDevicesInfo",value:function t(r,n,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6;if(!e.isStatiscEnable()){return}r===vM.OUTPUT_AUDIO?this.deviceInfo.audioOutputId=n:r==vM.INPUT_AUDIO?this.deviceInfo.audioInputId=n:r===vM.INPUT_VIDEO&&(this.deviceInfo.videoInputId=n);const a={event:SM.EVENT_SWITCH_DEVICE,type:r,name:n,result:i,opt:o};this.addCommInfo(a),PL.addRecord(a)}},{key:"reportSwitchRoleInfo",value:function t(r,n){if(!e.isStatiscEnable()){return}const i={event:SM.EVENT_SWITCH_ROLE,role:r,result:n};this.setRequestId(i),this.addCommInfo(i),PL.addRecord(i)}},{key:"reportStartSendMediaStream",value:function t(r,n){if(!e.isStatiscEnable()){return}const i={event:SM.EVENT_SEND_MEDIA,type:r,opt:n};this.addCommInfo(i),PL.reportRecords([i])}},{key:"setMediaCaptureSucc",value:function t(r,n){if(!e.isStatiscEnable()){return}const i={event:SM.EVENT_START_MEDIA,type:r,dev_name:n};this.addCommInfo(i),PL.addRecord(i)}},{key:"reportAuxiliaryStreamShareInfo",value:function t(r,n){if(!e.isStatiscEnable()){return}const i={event:SM.EVENT_SEND_AUX_STREAM,action:r,result:n};this.setRequestId(i),this.addCommInfo(i),PL.reportRecords([i])}},{key:"setAudioSubscribeInfo",value:function t(r,n,i){if(!e.isStatiscEnable()){return}const o=[];let a;null==r||r.forEach((e=>{const t={uid:this.getMediaStat().getEncryInfo(null==e?void 0:e.userid)||yC.secretString(null==e?void 0:e.userid)||"",ssrc:(null==e?void 0:e.ssrc)||0};o.push(t),a=e.action-1}));const s={event:SM.EVENT_SUBSCIBE,request_id:n,policy:this.getMediaStat().getAudioPolicy(),streams:o,action:a,result:i};this.addCommInfo(s),PL.reportRecords([s])}},{key:"reportAudioSub",value:function t(r,n,i,o){if(!e.isStatiscEnable()){return}const a=[];null==i||i.forEach((e=>{const t={uid:this.getMediaStat().getEncryInfo(null==e?void 0:e.pUserId)||yC.secretString(null==e?void 0:e.pUserId)||"",ssrc:(null==e?void 0:e.pSsrcId)||0,reason:(null==e?void 0:e.code)||0};a.push(t)}));const s={event:SM.EVENT_SUBSCIBE,request_id:n,policy:this.getMediaStat().getAudioPolicy(),streams:a,action:r,result:o};this.addCommInfo(s),PL.reportRecords([s])}},{key:"setConnectionStatusInfo",value:function t(r,n){if(!e.isStatiscEnable()){return}const i={timestamp:0,event:SM.EVENT_CONNECTION_CHANNEL_STATUS,type:n,on:r};this.addCommInfo(i),PL.reportRecords([i])}},{key:"reportUpStreamVideoInfo",value:function t(r,n,i){if(!e.isStatiscEnable()){return}const o=[],a=[];r.forEach((e=>{a.push(qL.getResolution(e.width,e.height)),o.push("".concat(e.width,"*").concat(e.height))}));const s={event:SM.EVENT_SET_UP_STREAM,request_id:n,resolution_name_list:a.join(","),width_height_list:o.join(","),result:0===i?mM.SUCCESS:mM.FAIL};this.addCommInfo(s),PL.addRecord(s)}},{key:"reportAudioPolicyInfo",value:function t(r,n,i){if(!e.isStatiscEnable()){return}const o={event:SM.EVENT_SET_AUDIO_POLICY,request_id:n,policy:r,result:i,topn:r===qM.TOPN_AUDIOPOLICY?3:17};this.addCommInfo(o),PL.addRecord(o)}},{key:"setSysBasicInfo",value:function t(){if(!e.isStatiscEnable()){return}const r={event:TM.DEVICE_RT_SYSTEM,device_cpu:0,app_cpu:0,mem_ratio:0};this.addCommInfo(r),PL.addRecord(r)}},{key:"setCameraInfo",value:function t(r,n){if(!e.isStatiscEnable()){return}const i={event:TM.DEVICE_RT_CAMERA,cap_format:0,cap_width:(null==r?void 0:r.width)||0,cap_height:(null==r?void 0:r.height)||0,cap_frame_rate:(null==r?void 0:r.frameRate)||0,out_width:(null==n?void 0:n.width)||0,out_height:(null==n?void 0:n.height)||0,out_cap_frames:(null==n?void 0:n.frameRate)||0,cap_overtime_cnt:0,frame_capture_time:0,render_frame_rate:0,frame_render_time:0};this.addCommInfo(i),PL.addRecord(i)}},{key:"setSpeakerInputInfo",value:function t(){if(!e.isStatiscEnable()){return}const r={event:TM.DEVICE_RT_SPEAKER,dst_down_vel:0,dst_down_nel:0,speaker_vol:0,speaker_play_err_num:0};this.addCommInfo(r),PL.addRecord(r)}},{key:"setMicrophoneInfo",value:function t(){if(!e.isStatiscEnable()){return}const r={event:TM.DEVICE_RT_MICROPHONE,src_cap_vel:0,src_cap_nel:0,src_mic_vol_scale:0,capture_abnormal:0,mic_vol:0,mic_recoder_err_num:0};this.addCommInfo(r),PL.addRecord(r)}},{key:"setSpeakerDeviceInfo",value:async function t(r){if(!e.isStatiscEnable()){return}const n=[];for(let e=0;e<r.length;e++){n.push("".concat(r[e].deviceId,"(").concat(r[e].label,")"))}const i={event:CM.DEVICE_STATUS_SPEAKER,device_nums:r.length,device_list:n.join(",")};this.addCommInfo(i),PL.addRecord(i)}},{key:"setCameraDeviceInfo",value:async function t(r){if(!e.isStatiscEnable()){return}const n=[];for(let e=0;e<r.length;e++){n.push("".concat(r[e].deviceId,"(").concat(r[e].label,")"))}const i={event:CM.DEVICE_STATUS_CAMERA,device_nums:r.length,device_list:n.join(",")};this.addCommInfo(i),PL.addRecord(i)}},{key:"setMicrophoneDeviceInfo",value:async function t(r){if(!e.isStatiscEnable()){return}const n=[];for(let e=0;e<r.length;e++){n.push("".concat(r[e].deviceId,"(").concat(r[e].label,")"))}const i={event:CM.DEVICE_STATUS_MICROPHONE,device_nums:r.length,device_list:n.join(",")};this.addCommInfo(i),PL.addRecord(i)}},{key:"setDeviceChangedInfo",value:function t(r,n,i){if(!e.isStatiscEnable()){return}this.logger.debug(this.module_,"setDeviceChangedInfo type[".concat(r,"] deviceId[").concat(n,"] state[").concat(i,"]"));let o=0;"audioinput"===r?o=1:"videoinput"===r&&(o=2);const a={timestamp:yC.getCurrentTimestamp(),event:CM.DEVICE_STATUS_DEVICE_CHANGE,type:o,name:n,state:i};this.addCommInfo(a),PL.addRecord(a),this.setDeviceStatusInfo()}},{key:"setDeviceUserAgent",value:function t(){if(!e.isStatiscEnable()){return}const r={timestamp:yC.getCurrentTimestamp(),event:CM.DEVICE_STATUS_USERAGENT,user_agent:navigator.userAgent};this.addCommInfo(r),PL.reportRecords([r])}},{key:"reportSignalReqForLogUpload",value:function t(r){if(!e.isStatiscEnable()){return}const n={event:AM.SIGNAL_REQUEST,event_name:"EVENT^log_upload^SDK^OPS",send_time:yC.getCurrentTimestamp(),req_body:r,result:0,source:"sdk",target:"access"};this.addCommInfo(n),PL.addRecord(n)}},{key:"reportSignalReqForHeartBeatLost",value:function t(r,n){var i;if(!e.isStatiscEnable()||"PING"!==r.type){return}let o="";null!==(i=r.body)&&void 0!==i&&i.action&&(o="#"+r.body.action);const a={timestamp:n,event:AM.SIGNAL_REQUEST,event_name:"SIGNAL^".concat(r.type).concat(o,"^SDK^ACS"),request_id:r.requestId,send_time:n,req_body:JSON.stringify(r),result:0,source:"sdk",target:"access"};this.addCommInfo(a),PL.addRecord(a)}},{key:"reportSignalReqForWeb2Server",value:function t(r){if(!e.isStatiscEnable()||!r.type||"PING"===r.type){return}const n="SIGNAL^".concat(r.type,"^SDK^ACS"),i=yC.getCurrentTimestamp(),o={timestamp:i,event:AM.SIGNAL_REQUEST,event_name:n,request_id:r.requestId,send_time:i,req_body:JSON.stringify(r),result:0,source:"sdk",target:"access"};this.addCommInfo(o),PL.addRecord(o)}},{key:"reportSignalReqForServer2Web",value:function t(r){if(e.isStatiscEnable()&&r.type){switch(r.type){case"WATCH_STREAM_NOTIFY":case"APP_DATA_NOTIFY":case"PUBLISH_STATUS_NOTIFY":case"NOTIFY_STATUS":case"UPLOAD_LOG_NOTIFY":case"DISCONNECT_NOTIFY":case"PUSH_STREAM_NOTIFY":case"RECONNECT_NOTIFY":case"STOP_PUSH_STREAM_NOTIFY":case"CHANGE_STREAM_STATUS_NOTIFY":{const e="SIGNAL^".concat(r.type),t={event:AM.SIGNAL_REQUEST,event_name:"".concat(e,"^ACS^SDK"),request_id:r.requestId,send_time:yC.getCurrentTimestamp(),req_body:JSON.stringify(r),result:0,source:"access",target:"sdk"};this.addCommInfo(t),PL.addRecord(t);break}}}}},{key:"reportSignalRepForLogUpload",value:function t(r,n){if(!e.isStatiscEnable()){return}const i={timestamp:yC.getCurrentTimestamp(),event:AM.SIGNAL_RESPONSE,event_name:"EVENT^log_upload^OPS^SDK",recv_time:yC.getCurrentTimestamp(),rsp_body:r,rsp_code:n,result:0,source:"access",target:"sdk"};this.addCommInfo(i),PL.addRecord(i)}},{key:"reportSignalRepForServer2Web",value:function t(r,n){if(!e.isStatiscEnable()){return}const i="SIGNAL^".concat(r.type,"^SDK^ACS"),o=yC.getCurrentTimestamp(),a={event:AM.SIGNAL_RESPONSE,eventName:i,request_id:n.requestId,recv_time:o,rsp_body:JSON.stringify(n),rsp_code:n.result||0,result:n.result||0,source:"access",target:"sdk"};this.addCommInfo(a),PL.addRecord(a)}},{key:"setApiCallInfo",value:function t(r,n,i,o,a){if(!e.isStatiscEnable()){return}const s="API^web#".concat(r,"^APP^SDK");for(var u=arguments.length,c=new Array(u>5?u-5:0),l=5;l<u;l++){c[l-5]=arguments[l]}const f={api_call_id:yC.generateUuid(),api_name:s,start_time:n,end_time:i,event:RM.API_CALL,event_name:s,params:JSON.stringify(c)};o?f.exception="".concat(o.code," - ").concat(o.message):f.ret=a?JSON.stringify(a):"",this.addCommInfo(f),/checkSystemRequirements/.test(r)?PL.reportRecords([f]):PL.addRecord(f)}},{key:"recordCallbackInfo",value:function t(r,n,i,o,a,s){if(!e.isStatiscEnable()){return}if(-1!==RP.indexOf(r)){return}const u=s((null==a?void 0:a.stream)||a),c={event:RM.CALLBACK_API,event_name:"CALLBACK^web#".concat(n,"$#").concat(r,"#^SDK^APP"),api_call_id:yC.generateUuid(),callback_name:"CALLBACK^web#".concat(n,"$#").concat(r,"#^SDK^APP"),callback_type:r,params:u,start_time:i,end_time:o};this.addCommInfo(c),PL.addRecord(c)}},{key:"recordCallbackInfoBeacon",value:function t(r,n,i,o,a,s){if(!e.isStatiscEnable()){return}if(-1!==RP.indexOf(r)){return}const u=s((null==a?void 0:a.stream)||a),c={event:RM.CALLBACK_API,event_name:"CALLBACK^web#".concat(n,"$#").concat(r,"#^SDK^APP"),api_call_id:yC.generateUuid(),callback_name:"CALLBACK^web#".concat(n,"$#").concat(r,"#^SDK^APP"),callback_type:r,params:u,start_time:i,end_time:o};this.addCommInfo(c),PL.reportRecordsBeacon([c])}},{key:"setFirstFrameInfo",value:function t(r){if(!e.isStatiscEnable()){return}const n={event:IM.FirstFrame,startupqos:r};this.addCommInfo(n),PL.addRecord(n)}},{key:"setSpanId",value:function e(t,r){r&&""!==r&&t&&""!==t&&this.spanIdMap.set(t,r)}},{key:"getSpanId",value:function e(t){if(t&&""!==t){const e=this.spanIdMap.get(t);return e&&this.spanIdMap.delete(t),e||""}return""}},{key:"setParentSpanId",value:function e(t,r){t&&""!==t&&r&&""!==r&&this.parentSpanIdMap.set(t,r)}},{key:"getParentSpanId",value:function e(t){if(t&&""!==t){const e=this.parentSpanIdMap.get(t);return e&&this.parentSpanIdMap.delete(t),e||""}return""}},{key:"checkSignalReceiveMsgs",value:function e(t){return this.signalReceiveMsgs.includes(t)}},{key:"checkSignalSendMsgs",value:function e(t){return this.signalSendMsgs.includes(t)}},{key:"reportTraceInfo2Nuwa",value:function t(r){if(!e.isStatiscEnable()){return}const n={event:kM.TraceNuwa,trace_info:"".concat(r.version,"|").concat(r.startTimestamp,"|").concat(r.traceId,"|").concat(r.spanId,"|").concat(r.parentSpanId,"|").concat(r.ip,"|").concat(r.source,"|").concat(r.target,"|").concat(r.spanName,"|").concat(r.status,"|").concat(r.endTimestamp,"||||||||").concat(r.scope)};this.addCommInfo(n),PL.addRecord(n)}},{key:"buildRtcStatsDebugInfo",value:async function e(t){return this.mediaStats.buildRtcStatsDebugInfo(t)}}],[{key:"isStatiscEnable",value:function e(){return"off"!==zL.getParameter(ML)}}])}();const QL={videoinput:"CameraChanged",audioinput:"RecordingDeviceChanged",audiooutput:"PlaybackDeviceChanged"},eD="ADD",tD="REMOVE",rD="DeviceChangeListener";const nD=new(function(){function e(){a(this,e);this.internalEventEmitters=[],this.clientEventEmitter=null,this.deviceChangeCallBack=[],this.initFlag=!1,this.logger=AC.getLogger(),this.stat=new XL(this.logger)}return u(e,[{key:"initDeviceChangedNotify",value:function e(t,r){this.addEventEmitter(t,r),this.initFlag||(this.initFlag=!0,this.registerDeviceChangedNotify())}},{key:"addEventEmitter",value:function e(t,r){r?this.internalEventEmitters.push(t):this.clientEventEmitter=t}},{key:"removeEventEmitter",value:function e(t){t!==this.clientEventEmitter?this.internalEventEmitters=this.internalEventEmitters.filter((e=>e!==t)):this.clientEventEmitter=null}},{key:"registerDeviceChangedNotify",value:function e(){let t=!1;JP().then((e=>{(!e||e.length<=0)&&this.logger.info(rD,"no device available now"),e=e||[],this.preDevices=new Map;for(const t of e){AC.addPrivacyString(t.deviceId),t.deviceId&&"default"!==t.deviceId&&"communications"!==t.deviceId&&this.preDevices.set(t.deviceId,t.kind)}})).finally((()=>{navigator.mediaDevices.ondevicechange=async e=>{if(e.isTrusted){if(this.deviceChangeCallBack.push(this.handleDeviceChangeEvent.bind(this)),!t){for(;this.deviceChangeCallBack.length>0;){t=!0,await this.deviceChangeCallBack.shift()(),this.deviceChangeCallBack.length<1&&(t=!1)}}}else{this.logger.error(rD,"device change event trigger by script")}}}))}},{key:"handleDeviceChangeEvent",value:async function e(){let t=await JP();t=t||[];const r=new Map;for(const e of t){e.deviceId&&"default"!==e.deviceId&&"communications"!==e.deviceId&&r.set(e.deviceId,e.kind)}let n=this.internalEventEmitters;this.clientEventEmitter&&(n=[...this.internalEventEmitters,this.clientEventEmitter]),this.preDevices.forEach(((e,t)=>{r.has(t)||(this.logger.info(rD,"deviceType: ".concat(e," deviceId: ").concat(t," remove")),n.forEach((r=>{r.emit(oM[QL[e]],{deviceId:t,state:tD})})),this.stat.setDeviceChangedInfo(e,t,1))})),r.forEach(((e,t)=>{this.preDevices.has(t)||(this.logger.info(rD,"deviceType: ".concat(e," deviceId: ").concat(t," add")),n.forEach((r=>{r.emit(oM[QL[e]],{deviceId:t,state:eD})})),this.stat.setDeviceChangedInfo(e,t,0))})),this.preDevices=r}}])}());function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iD(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const aD="httpRequest";const sD=new(function(){function e(){a(this,e);this.defaultRequestOption={method:"GET",mode:"cors",cache:"default"},this.logger=AC.getLogger()}return u(e,[{key:"getFetchUrl",value:function e(t){const r=RL.getProxyServer();let n;if(r){const e=/http(?:s)?:\/\/([^/]+)(.*)/.exec(t);if(e&&3===e.length){const i=e[1].split(":");n=i[1]||(/^http:.*/gi.test(t)?"80":"443"),t="".concat(r).concat(e[2]).concat(e[2].indexOf("?")<0?"?":"&","org_domain=").concat(i[0],"&org_port=").concat(n)}return t}return t}},{key:"fetch",value:async function e(t){let r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e4,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0,u=0;for(;u<a+1;){const e={};r=yC.generateRandomId(16,10);try{this.logger.debug(aD,"[HTTP_ID:".concat(r,"] fetch request start: ").concat(yC.shieldUrlParameters(t))),this.extendInfosHandle(t,"start",e,s);const c=await this.doFetch(t,n,i,o,r);return u=a+1,this.extendInfosHandle(t,"end",e,s,c),this.logger.debug(aD,"[HTTP_ID:".concat(r,"] fetch request success")),c}catch(n){if(this.logger.error(aD,"[HTTP_ID:".concat(r,"], requestUrl: ").concat(yC.shieldUrlParameters(t),", fetch request failed")),this.extendInfosHandle(t,"end",e,s,n),n instanceof oc&&n.getCode()===nc.RTC_ERR_CODE_REGION_NOT_COVERED){throw u=a+1,n}if(!(u<a)){throw n}await yC.sleep(500*yC.getRandom()+500),u++}}}},{key:"doFetch",value:function e(t){let r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const s=new Promise(((e,t)=>{r=setTimeout((()=>{clearTimeout(r),t(new oc(nc.RTC_ERR_CODE_WAIT_RSP_TIMEOUT))}),o)})),u=new Promise(((e,o)=>{fetch(this.getFetchUrl(t),oD(oD(oD({},this.defaultRequestOption),n),{headers:i})).then((r=>{if(yC.syncLocalTime(r.headers.get("Date")),!r.ok){return 504===r.status?this.logger.error(aD,"[HTTP_ID:".concat(a,"] doFetch failed: 504")):0===r.status?this.logger.error(aD,"[HTTP_ID:".concat(a,"] doFetch failed: 0")):this.logger.error(aD,"[HTTP_ID:".concat(a,"] doFetch failed: ").concat(r.status)),void o(new oc(r.status,"network error"))}let n;const s=r.headers.get("Content-Type")||i["Content-Type"];n=/.*application\/json.*/.test(s)?r.json():/^text.*/.test(s)?r.text():r.arrayBuffer(),n.then((t=>{e({httpCode:r.status,data:t})})).catch((e=>{this.logger.error(aD,"[HTTP_ID:".concat(a,"], requestUrl: ").concat(yC.shieldUrlParameters(t),", doFetch get response failed: ").concat(e)),o(new oc(null==e?void 0:e.name,null==e?void 0:e.message))}))})).catch((e=>{this.logger.error(aD,"[HTTP_ID:".concat(a,"], requestUrl: ").concat(yC.shieldUrlParameters(t),", doFetch failed for exception: ").concat(e)),o(new oc(null==e?void 0:e.name,null==e?void 0:e.message))})).finally((()=>{clearTimeout(r)}))}));return Promise.race([s,u])}},{key:"extendInfosHandle",value:function e(t,r,n,i,o){i&&("start"===r?Object.assign(n,{id:i.length+1,domain:t,start_ms:yC.getCurrentTimestamp(),delay_ms:0,stepName:"dispatch",rspCode:"",errMsg:""}):"end"===r?((/v1\/dns/.test(t)||/global\.talk-cloud\.net/.test(t))&&(n.start_ms=yC.adjustTimeByOffset(n.start_ms)),o instanceof oc?(n.delay_ms=yC.getCurrentTimestamp()-n.start_ms,n.rspCode="".concat(o.getCode()),n.errMsg=o.getMsg()):(n.delay_ms=yC.getCurrentTimestamp()-n.start_ms,n.rspCode=o.httpCode||"200"),i.push(n)):this.logger.info(aD,"cannot handle"))}}])}());function uD(){}function cD(){cD.init.call(this)}function lD(e){return void 0===e._maxListeners?cD.defaultMaxListeners:e._maxListeners}function fD(e,t,r,n){var i,o,a;if("function"!=typeof r){throw new TypeError('"listener" argument must be a function')}if((o=e._events)?(o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]):(o=e._events=new uD,e._eventsCount=0),a){if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),!a.warned&&(i=lD(e))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,function(e){"function"==typeof console.warn?console.warn(e):console.log(e)}(s)}}else{a=o[t]=r,++e._eventsCount}return e}function dD(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function hD(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r){return 1}if(r){return r.length}}return 0}function pD(e,t){for(var r=new Array(t);t--;){r[t]=e[t]}return r}uD.prototype=Object.create(null),cD.EventEmitter=cD,cD.usingDomains=!1,cD.prototype.domain=void 0,cD.prototype._events=void 0,cD.prototype._maxListeners=void 0,cD.defaultMaxListeners=10,cD.init=function(){this.domain=null,cD.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new uD,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},cD.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e)){throw new TypeError('"n" argument must be a positive number')}return this._maxListeners=e,this},cD.prototype.getMaxListeners=function(){return lD(this)},cD.prototype.emit=function(e){var t,r,n,i,o,a,s,u="error"===e;if(a=this._events){u=u&&null==a.error}else if(!u){return!1}if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error){throw t}var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(r=a[e])){return!1}var l="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t){e.call(r)}else{for(var n=e.length,i=pD(e,n),o=0;o<n;++o){i[o].call(r)}}}(r,l,this);break;case 2:!function(e,t,r,n){if(t){e.call(r,n)}else{for(var i=e.length,o=pD(e,i),a=0;a<i;++a){o[a].call(r,n)}}}(r,l,this,arguments[1]);break;case 3:!function(e,t,r,n,i){if(t){e.call(r,n,i)}else{for(var o=e.length,a=pD(e,o),s=0;s<o;++s){a[s].call(r,n,i)}}}(r,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,i,o){if(t){e.call(r,n,i,o)}else{for(var a=e.length,s=pD(e,a),u=0;u<a;++u){s[u].call(r,n,i,o)}}}(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++){i[o-1]=arguments[o]}!function(e,t,r,n){if(t){e.apply(r,n)}else{for(var i=e.length,o=pD(e,i),a=0;a<i;++a){o[a].apply(r,n)}}}(r,l,this,i)}return!0},cD.prototype.addListener=function(e,t){return fD(this,e,t,!1)},cD.prototype.on=cD.prototype.addListener,cD.prototype.prependListener=function(e,t){return fD(this,e,t,!0)},cD.prototype.once=function(e,t){if("function"!=typeof t){throw new TypeError('"listener" argument must be a function')}return this.on(e,dD(this,e,t)),this},cD.prototype.prependOnceListener=function(e,t){if("function"!=typeof t){throw new TypeError('"listener" argument must be a function')}return this.prependListener(e,dD(this,e,t)),this},cD.prototype.removeListener=function(e,t){var r,n,i,o,a;if("function"!=typeof t){throw new TypeError('"listener" argument must be a function')}if(!(n=this._events)){return this}if(!(r=n[e])){return this}if(r===t||r.listener&&r.listener===t){0==--this._eventsCount?this._events=new uD:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t))}else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;){if(r[o]===t||r[o].listener&&r[o].listener===t){a=r[o].listener,i=o;break}}if(i<0){return this}if(1===r.length){if(r[0]=void 0,0==--this._eventsCount){return this._events=new uD,this}delete n[e]}else{!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1){e[r]=e[n]}e.pop()}(r,i)}n.removeListener&&this.emit("removeListener",e,a||t)}return this},cD.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events)){return this}if(!r.removeListener){return 0===arguments.length?(this._events=new uD,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new uD:delete r[e]),this}if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o){"removeListener"!==(n=i[o])&&this.removeAllListeners(n)}return this.removeAllListeners("removeListener"),this._events=new uD,this._eventsCount=0,this}if("function"==typeof(t=r[e])){this.removeListener(e,t)}else if(t){do{this.removeListener(e,t[t.length-1])}while(t[0])}return this},cD.prototype.listeners=function(e){var t,r,n=this._events;return r=n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r){t[r]=e[r].listener||e[r]}return t}(t):[],r},cD.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):hD.call(e,t)},cD.prototype.listenerCount=hD,cD.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};const vD=new(function(){function e(){a(this,e);o(this,"eventHandlers",{visibilitychange:()=>{let e="FOREGROUND";document.hidden&&(e="BACKGROUND");for(const t of this.eventBus.values()){t.emit(e)}}}),o(this,"eventListeners",{visibilitychange:e=>{"ADD"===e?document.addEventListener("visibilitychange",this.eventHandlers.visibilitychange):document.removeEventListener("visibilitychange",this.eventHandlers.visibilitychange)}}),this.eventBus=new Map,this.addListener("visibilitychange",yC.isMobileDevice.bind(yC))}return u(e,[{key:"register",value:function e(t){const r=yC.generateRandomId(32);return this.eventBus.set(r,t),r}},{key:"unregister",value:function e(t){t&&this.eventBus.delete(t)}},{key:"addListener",value:function e(t,r){r&&!r()||this.eventListeners[t]&&this.eventListeners[t]("ADD")}},{key:"removeListener",value:function e(t){this.eventListeners[t]&&this.eventListeners[t]("REMOVE")}}])}());const gD=new(function(){function e(){a(this,e);this.logger_=AC.getLogger(),this.module_="PlayerStatusManager",this.haveLocalAudio=!1,this.haveLocalVideo=!1,this.playerArray=[]}return u(e,[{key:"setHaveLocalAudio",value:function e(t,r){this.haveLocalAudio=t,this.audioTrack=t?r:void 0,this.logger_.info(this.module_,"setHaveLocalAudio enable:".concat(t))}},{key:"setHaveLocalVideo",value:function e(t,r){this.haveLocalVideo=t,this.videoTrack=t?r:void 0,this.logger_.info(this.module_,"setHaveLocalVideo enable:".concat(t))}},{key:"getHaveLocal",value:function e(){return this.haveLocalAudio||this.haveLocalVideo}},{key:"getVideoTrackMuted",value:function e(){return!!this.haveLocalVideo&&this.videoTrack.muted}},{key:"getAudioTrackMuted",value:function e(){return!!this.haveLocalAudio&&this.audioTrack.muted}},{key:"addPlayer",value:function e(t){yC.isiOSWXApple()&&(this.playerArray.push(t),1===this.playerArray.length&&(clearInterval(this.playStateDetectedTimer),this.playStateDetectedTimer=setInterval((()=>{this.playerDetected()}),1e3)))}},{key:"removePlayer",value:function e(t){yC.isiOSWXApple()&&(this.playerArray=this.playerArray.filter((e=>e.playerId_!==t.playerId_)),0==this.playerArray.length&&clearInterval(this.playStateDetectedTimer))}},{key:"playerDetected",value:function e(){if(this.getHaveLocal()){if(this.logger_.debug("".concat(this.module_),"playerDetected is local"),this.getVideoTrackMuted()||this.getAudioTrackMuted()){this.logger_.debug("".concat(this.module_),"playerDetected track muted");let e=0;for(let t=0;t<this.playerArray.length;t++){this.playerArray[t].getPlayerStatus&&e++}e!=this.playerArray.length&&(this.logger_.debug("".concat(this.module_),"playerDetected count != arr.len"),this.playerArray.forEach((e=>{e.startDetectedPlayStauts()})))}else{this.logger_.debug("".concat(this.module_),"playerDetected track unmuted"),this.playerArray.forEach((e=>{e.startDetectedPlayStauts()}))}}else{this.logger_.debug("".concat(this.module_),"playerDetected is not local"),this.playerArray.forEach((e=>{e.startDetectedPlayStauts()}))}}},{key:"leaveRoom",value:function e(){this.haveLocalAudio=!1,this.haveLocalVideo=!1,this.audioTrack=void 0,this.videoTrack=void 0,this.playerArray=[],clearInterval(this.playStateDetectedTimer),this.logger_.info(this.module_,"leaveRoom")}}])}());let mD=function(){function e(){a(this,e);this.context_=new AudioContext,this.script_=this.context_.createScriptProcessor(2048,1,1),this.script_.onaudioprocess=e=>{const t=e.inputBuffer.getChannelData(0);let r=0,n=0;for(let e=0;e<t.length;e++){r+=t[e]*t[e],Math.abs(t[e])>.99&&(n+=1)}this.instant_=Math.sqrt(r/t.length),this.slow_=.95*this.slow_+.05*this.instant_,this.clip_=n/t.length},this.instant_=0,this.slow_=0,this.clip_=0}return u(e,[{key:"connectToSource",value:function e(t){return new Promise(((e,r)=>{try{const r=new MediaStream;r.addTrack(t),this.mic_=this.context_.createMediaStreamSource(r),this.mic_.connect(this.script_),this.script_.connect(this.context_.destination),e()}catch(e){r(e)}}))}},{key:"stop",value:function e(){this.mic_.disconnect(),this.script_.disconnect(),this.context_.close()}},{key:"getVolume",value:function e(){return parseFloat(this.instant_.toFixed(2))}}])}();let yD=function(){function e(t){a(this,e);o(this,"retryPlayMaxNum",3),this.module_="RTCPlayer",this.mediaStream_=new MediaStream,this.log_=t.logger,this.track_=t.track,this.playerDiv_=t.playerDiv,this.playerId_=t.playerId,this.isRemote=t.isRemote,this.playerElement_=null,this.state_="NONE",this.event_=new cD,this.pauseCount=0,this.listenHandlers={canPlayHandler:this.canPlayHandler.bind(this),playingHandler:this.playingHandler.bind(this),playerEndedHandler:this.playerEndedHandler.bind(this),playerPausedHandler:this.playerPausedHandler.bind(this),trackEndedHandler:this.trackEndedHandler.bind(this),trackMutedHandler:this.trackMutedHandler.bind(this),trackUnmutedHandler:this.trackUnmutedHandler.bind(this),playHandler:null,backgroundHandler:this.backgroundHandler.bind(this),foregroundHandler:this.foregroundHandler.bind(this)},this.retryPlayTimes=0,this.isBackground=!1}return u(e,[{key:"on",value:function e(t,r){this.event_.on(t,r)}},{key:"off",value:function e(t,r){this.event_.removeListener(t,r)}},{key:"foregroundHandler",value:function e(){var t;(this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, application is foreground"),this.isBackground=!1,this.module_.indexOf("Audio")>0&&this.track_&&this.trackEnable!==this.track_.enabled&&(this.track_.enabled=this.trackEnable),yC.isIosPlatformHightVersion())||("PAUSED"===this.state_||null!==(t=this.playerElement_)&&void 0!==t&&t.paused)&&this.restoreplay()}},{key:"backgroundHandler",value:function e(){this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, application is background"),this.isBackground=!0,this.module_.indexOf("Audio")>0&&this.track_&&(this.trackEnable=this.track_.enabled,this.trackEnable&&(this.track_.enabled=!1))}},{key:"canPlayHandler",value:function e(){this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, player is canplay status"),this.event_.emit(this.module_.indexOf("Video")>0?"videoCanPlay":"audioCanPlay"),this.event_.emit(AP,{event:"playerCanplay",type:"".concat(this.module_),streamId:this.playerId_})}},{key:"playingHandler",value:function e(){this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, player is starting playing"),this.event_.emit(AP,{event:"playerPlaying",type:"".concat(this.module_),streamId:this.playerId_}),this.state_="PLAYING",this.event_.emit(SP,{state:this.state_,reason:"playing"})}},{key:"playerEndedHandler",value:function e(){this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, player is ended"),this.event_.emit(AP,{event:"playerEnded",type:"".concat(this.module_),streamId:this.playerId_}),"STOPPED"!==this.state_&&(this.state_="STOPPED",this.event_.emit(SP,{state:this.state_,reason:"ended"}))}},{key:"playerPausedHandler",value:function e(){if(this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, player is paused"),this.event_.emit(AP,{event:"playerPause",type:"".concat(this.module_),streamId:this.playerId_}),this.state_="PAUSED",this.event_.emit(SP,{state:this.state_,reason:"pause"}),!yC.isIosPlatformHightVersion()){if(this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"pasued:".concat(this.playerElement_.paused,", canplay:").concat(this.playerElement_.canplay)),this.retryPlayTimes>=this.retryPlayMaxNum){return void this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"try to play max 3")}this.retryPlayTimes++,this.restoreplay()}}},{key:"trackEndedHandler",value:function e(){this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, player track is ended"),this.event_.emit(AP,{event:"trackEnded",type:"".concat(this.module_),streamId:this.playerId_}),"STOPPED"!==this.state_&&(this.state_="STOPPED",this.event_.emit(SP,{state:this.state_,reason:"ended",trackEnded:!0}))}},{key:"trackMutedHandler",value:function e(){this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"handleEvents, track is muted"),this.event_.emit(AP,{event:"trackMute",type:"".concat(this.module_),streamId:this.playerId_}),"PAUSED"!==this.state_&&(this.state_="PAUSED",this.event_.emit(SP,{state:this.state_,reason:"mute"}))}},{key:"trackUnmutedHandler",value:function e(){this.log_.debug("".concat(this.module_,"#[").concat(this.playerId_,"]"),"handleEvents, track is unmuted"),this.event_.emit(AP,{event:"trackUnmute",type:"".concat(this.module_),streamId:this.playerId_}),"PAUSED"===this.state_&&(this.state_="PLAYING",this.event_.emit(SP,{state:this.state_,reason:"unmute"}))}},{key:"closeAllEvents",value:function e(){var t,r,n,i,o,a,s,u,c;null===(t=this.playerElement_)||void 0===t||t.removeEventListener("canplay",this.listenHandlers.canPlayHandler),null===(r=this.playerElement_)||void 0===r||r.removeEventListener("playing",this.listenHandlers.playingHandler),null===(n=this.playerElement_)||void 0===n||n.removeEventListener("ended",this.listenHandlers.playerEndedHandler),null===(i=this.playerElement_)||void 0===i||i.removeEventListener("pause",this.listenHandlers.playerPausedHandler),null===(o=this.track_)||void 0===o||o.removeEventListener("ended",this.listenHandlers.trackEndedHandler),null===(a=this.track_)||void 0===a||a.removeEventListener("mute",this.listenHandlers.trackMutedHandler),null===(s=this.track_)||void 0===s||s.removeEventListener("unmute",this.listenHandlers.trackUnmutedHandler),null===(u=this.event_)||void 0===u||u.removeListener("videoCanPlay",this.listenHandlers.playHandler),null===(c=this.event_)||void 0===c||c.removeListener("audioCanPlay",this.listenHandlers.playHandler),this.event_.removeListener("FOREGROUND",this.listenHandlers.foregroundHandler),this.event_.removeListener("BACKGROUND",this.listenHandlers.backgroundHandler),vD.unregister(this.sysEventRegisterUid)}},{key:"handleEvents",value:function e(){this.playerElement_.addEventListener("canplay",this.listenHandlers.canPlayHandler),this.playerElement_.addEventListener("playing",this.listenHandlers.playingHandler),this.playerElement_.addEventListener("ended",this.listenHandlers.playerEndedHandler),this.playerElement_.addEventListener("pause",this.listenHandlers.playerPausedHandler),this.track_.addEventListener("ended",this.listenHandlers.trackEndedHandler),this.track_.addEventListener("mute",this.listenHandlers.trackMutedHandler),this.track_.addEventListener("unmute",this.listenHandlers.trackUnmutedHandler),this.event_.on("FOREGROUND",this.listenHandlers.foregroundHandler),this.event_.on("BACKGROUND",this.listenHandlers.backgroundHandler),this.sysEventRegisterUid=vD.register(this.event_)}},{key:"stop",value:function e(){this.closeAllEvents(),this.playerElement_&&(this.playerElement_.srcObject=null),this.playerElement_=null,this.mediaStream_=new MediaStream,this.log_.info(this.module_,"stop success")}},{key:"replaceTrack",value:function e(t){this.log_.info(this.module_,"replaceTrack start");const r=this.module_.indexOf("Audio")>0?this.mediaStream_.getAudioTracks():this.mediaStream_.getVideoTracks(),n=r.length?r[0]:null;n!==t&&(n&&this.mediaStream_.removeTrack(n),this.mediaStream_.addTrack(t),this.track_=t)}},{key:"resume",value:async function e(t){return new Promise(((e,r)=>{this.playerElement_?this.playerElement_.play().then((()=>{this.log_.info(this.module_,"audio player resume success, streamId:".concat(this.playerId_,", playParameters: ").concat(JSON.stringify(t))),e(null)})).catch((e=>{this.log_.error(this.module_,"player resume failed, errmsg=".concat(e," , playParameters: ").concat(JSON.stringify(t))),"NotAllowedError"===e.name?r(new oc(nc.RTC_ERR_CODE_PLAY_NOT_ALLOW)):r(new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR,e.message))})):r(new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"resume failed, element is null"))}))}},{key:"multiPlatformAdapter",value:async function e(){return new Promise((e=>{if(yC.isWKWebview()){const t=window.WeixinJSBridge;t?(this.log_.info(this.module_,"multiPlatformAdapter handle begin"),t.invoke("getNetworkType",{},(()=>{e()}),!1)):document.addEventListener("WeixinJSBridgeReady",(()=>{this.log_.info(this.module_,"multiPlatformAdapter WeixinJSBridgeReady,  handle begin"),t.invoke("getNetworkType",{},(()=>{e()}),!1)}))}else{e()}}))}},{key:"doPlay",value:async function e(t,r,n){let i;return await this.multiPlatformAdapter(),i=this.module_.indexOf("Video")>0?", screenFit:".concat(n.objectFit,", mirror:").concat(n.mirror):", deviceId:".concat(n.outputDeviceId,", volume:").concat(n.volume,", muted:").concat(n.muted),this.playerElement_.play().then((()=>{var e,r;this.log_.info(this.module_,"play success, parentDiv id:".concat(null===(e=this.playerDiv_)||void 0===e?void 0:e.id,", resolutionId or streamId:").concat(this.playerId_,", physical track id:").concat(null===(r=this.track_)||void 0===r?void 0:r.id).concat(i)),this.retryPlayTimes=0,t(null)})).catch((e=>{var t,n;this.log_.error(this.module_,"play failed, errmsg=".concat(e,",parentDiv id:").concat(null===(t=this.playerDiv_)||void 0===t?void 0:t.id,", resolutionId or streamId:").concat(this.playerId_,", physical track id:").concat(null===(n=this.track_)||void 0===n?void 0:n.id).concat(i)),"NotAllowedError"===e.name?r(new oc(nc.RTC_ERR_CODE_PLAY_NOT_ALLOW)):r(new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR,e.message))})).finally((()=>{clearTimeout(this.playTimeOutTimer)}))}},{key:"restoreplay",value:function e(){this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"try to play again restoreplay"),this.module_.indexOf("Video")>0?(this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"try to play again"),this.event_.emit("videoCanPlay")):this.module_.indexOf("Audio")>0&&(this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"try to play again"),this.event_.emit("audioCanPlay"))}},{key:"startDetectedPlayStauts",value:function e(){var t,r;this.isBackground?this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"startDetectedPlayStauts isBackground "):(!this.isRemote&&null!==(t=this.track_)&&void 0!==t&&t.muted&&(this.module_.indexOf("Video")>0?(navigator.mediaDevices.getUserMedia({video:!0}).then((e=>{for(const t of e.getVideoTracks()){t.stop()}})),this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"startDetectedPlayStauts video track muted ")):this.module_.indexOf("Audio")>0&&(navigator.mediaDevices.getUserMedia({audio:!0}).then((e=>{for(const t of e.getAudioTracks()){t.stop()}})),this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"startDetectedPlayStauts audio track muted"))),null!==(r=this.playerElement_)&&void 0!==r&&r.paused&&(this.restoreplay(),this.log_.debug("".concat(this.module_,"#").concat(this.playerId_),"startDetectedPlayStauts restoreplay")))}},{key:"getPlayerStatus",value:function e(){var t,r;return!(!this.isRemote&&null!==(t=this.track_)&&void 0!==t&&t.muted||null!==(r=this.playerElement_)&&void 0!==r&&r.paused)}}])}();let _D=function(e){function t(e){var r;a(this,t);r=f(this,t,[{logger:e.logger,track:e.track,playerDiv:e.playerDiv,playerId:e.playerId,isRemote:e.isRemote}]),r.module_="RTCAudioPlayer",r.muted_=e.muted,r.outputDeviceId_="",r.volume_="number"==typeof(null==e?void 0:e.volume)?e.volume:.5,r.soundMeter_=null;return r}p(t,e);return u(t,[{key:"play",value:async function e(){return new Promise(((e,t)=>{let r,n=!0;var i;(r=this.playerDiv_?this.playerDiv_.querySelector("#audio_".concat(this.playerId_)):this.playerElement_,r)||(r=document.createElement("audio"),r.muted=this.muted_,r.setAttribute("id","audio_".concat(this.playerId_)),r.setAttribute("autoplay",""),r.setAttribute("playsinline",""),r.setAttribute("muted",""),null===(i=this.playerDiv_)||void 0===i||i.appendChild(r),n=!1);"sinkId"in HTMLMediaElement.prototype&&this.outputDeviceId_&&r.setSinkId(this.outputDeviceId_),0===this.mediaStream_.getAudioTracks().length&&this.mediaStream_.addTrack(this.track_),r.srcObject=this.mediaStream_,this.playerElement_=r,this.setVolume(this.volume_),this.handleEvents(),clearTimeout(this.playTimeOutTimer),this.playTimeOutTimer=setTimeout((()=>{this.log_.info(this.module_,"trigger audioCanPlay event by Timer"),this.event_.emit("audioCanPlay"),this.playTimeOutTimer&&(clearTimeout(this.playTimeOutTimer),this.playTimeOutTimer=setTimeout((()=>{this.log_.info(this.module_,"audio playing timeout"),clearTimeout(this.playTimeOutTimer),this.playTimeOutTimer=null,e(null)}),2e3))}),n?0:1e3),this.listenHandlers.playHandler&&this.event_.removeListener("audioCanPlay",this.listenHandlers.playHandler),this.listenHandlers.playHandler=this.doPlay.bind(this,e,t,{deviceId:this.outputDeviceId_,volume:this.volume_,muted:this.muted_}),this.event_.on("audioCanPlay",this.listenHandlers.playHandler),this.isRemote||gD.setHaveLocalAudio(!0,this.track_),gD.addPlayer(this)}))}},{key:"setSinkId",value:async function e(t){this.outputDeviceId_!==t&&"sinkId"in HTMLMediaElement.prototype&&(await this.playerElement_.setSinkId(t),this.outputDeviceId_=t)}},{key:"setVolume",value:function e(t){this.playerElement_.volume=t}},{key:"getAudioLevel",value:function e(){return this.soundMeter_||(this.soundMeter_=new mD,this.soundMeter_.connectToSource(this.track_)),this.soundMeter_.getVolume()}},{key:"stop",value:function e(){n(t,"stop",this,3)([]),this.soundMeter_&&(this.soundMeter_.stop(),this.soundMeter_=null),gD.removePlayer(this),this.isRemote||gD.setHaveLocalAudio(!1)}},{key:"resume",value:async function e(){return n(t,"resume",this,3)([{streamId:this.playerId_,deviceId:this.outputDeviceId_,volume:this.volume_,muted:this.muted_}])}},{key:"replaceTrack",value:function e(r){n(t,"replaceTrack",this,3)([r]),this.soundMeter_&&(this.soundMeter_.stop(),this.soundMeter_=null)}}])}(yD);let bD=function(e){function t(e){var r;a(this,t);r=f(this,t,[{logger:e.logger,track:e.track,playerDiv:e.parentDiv,playerId:e.playerId,isRemote:e.isRemote}]),r.module_="RTCVideoPlayer",r.objectFit_=e.objectFit,r.mirror_=e.mirror;return r}p(t,e);return u(t,[{key:"play",value:async function e(){return new Promise(((e,t)=>{let r=this.playerDiv_.querySelector("#video_".concat(this.playerId_)),n=!0;if(!r){r=document.createElement("video"),r.muted=!0;let e="0";this.mirror_&&(e="180deg"),r.setAttribute("id","video_".concat(this.playerId_)),r.style.width="100%",r.style.height="100%",r.style.position="absolute",r.style.transform="rotateY(".concat(e,")"),r.style["object-fit"]=this.objectFit_,r.setAttribute("autoplay",""),r.setAttribute("playsinline",""),r.setAttribute("muted",""),this.playerDiv_.appendChild(r),n=!1}0===this.mediaStream_.getVideoTracks().length&&this.mediaStream_.addTrack(this.track_),r.srcObject=this.mediaStream_,this.playerElement_=r,this.handleEvents(),clearTimeout(this.playTimeOutTimer),this.playTimeOutTimer=setTimeout((()=>{this.log_.info(this.module_,"trigger videoCanPlay event by Timer"),this.event_.emit("videoCanPlay"),this.playTimeOutTimer&&(clearTimeout(this.playTimeOutTimer),this.playTimeOutTimer=setTimeout((()=>{this.log_.info(this.module_,"video playing timeout"),clearTimeout(this.playTimeOutTimer),this.playTimeOutTimer=null,e(null)}),2e3))}),n?0:1e3),this.listenHandlers.playHandler&&this.event_.removeListener("videoCanPlay",this.listenHandlers.playHandler),this.listenHandlers.playHandler=this.doPlay.bind(this,e,t,{objectFit:this.objectFit_,mirror:this.mirror_}),this.event_.on("videoCanPlay",this.listenHandlers.playHandler),this.isRemote||gD.setHaveLocalVideo(!0,this.track_),gD.addPlayer(this)}))}},{key:"resume",value:async function e(){return n(t,"resume",this,3)([{streamId:this.playerId_,screentFit:this.objectFit_,mirror:this.mirror_}])}},{key:"getVideoFrame",value:function e(){const t=document.createElement("canvas");return t.width=this.playerElement_.videoWidth,t.height=this.playerElement_.videoHeight,t.getContext("2d").drawImage(this.playerElement_,0,0),t.toDataURL("image/png")}},{key:"stop",value:function e(){n(t,"stop",this,3)([]),gD.removePlayer(this),this.isRemote||gD.setHaveLocalVideo(!1)}}])}(yD);const ED=yC.isSafari(),SD=(e,t)=>{yC.isSupportConstraints("aspectRatio")&&!ED&&(e.aspectRatio={ideal:t.width/t.height}),e.width=ED?{min:PP["90p_2"].width}:{min:PP["90p_2"].width,ideal:t.width},e.height=ED?{min:PP["90p_2"].height}:{min:PP["90p_2"].height,ideal:t.height},e.frameRate=t.frameRate};let wD=function(){function e(){a(this,e)}return u(e,null,[{key:"getOptimalVideoConstraint",value:function e(t,r){const n={},i=[];["user","environment","left","right"].includes(t)?n.facingMode={exact:t}:n.deviceId={exact:t};const o=[{width:r.width,height:r.height},{aspectRatio:r.width/r.height}];i.push(...o),SD(n,r),n.advanced=i;const a={};return a.video=n,a}},{key:"getSuboptimalVideoConstraint",value:function e(t,r){const n={};["user","environment","left","right"].includes(t)?n.facingMode={exact:t}:n.deviceId={exact:t},SD(n,r);const i={};return i.video=n,i}},{key:"getNextVideoConstraint",value:function e(t,r){const n={};["user","environment","left","right"].includes(t)?n.facingMode={exact:t}:n.deviceId={exact:t},SD(n,r);const i={};return i.video=n,i}},{key:"getWorstVideoConstraint",value:function e(t,r){const n={};["user","environment","left","right"].includes(t)?n.facingMode={ideal:t}:n.deviceId={ideal:t},SD(n,r);const i={};return i.video=n,i}},{key:"getRecoveryVideoConstraint",value:function e(){const t={video:!0};return t}},{key:"initScreenShareConstraint",value:function e(t,r){const n={};if(ED?(n.video={frameRate:r.frameRate},r.width&&(n.video.width={max:r.width}),r.height&&(n.video.height={max:r.height})):n.video={width:r.width||void 0,height:r.height||void 0,frameRate:r.frameRate},t){const e={sampleRate:kP.high.sampleRate,channelCount:1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0};rx.isChrome()&&(e.googNoiseSuppression=!0,e.googAutoGainControl=!0,e.googAutoGainControl2=!0),n.audio=e}return n}},{key:"initAudioConstraint",value:function e(t,r){const n={},i={sampleRate:r.sampleRate,channelCount:r.channelCount,deviceId:t,echoCancellation:!0};return rx.isFirefox()&&t&&(i.deviceId={exact:t}),i.noiseSuppression=!0,i.autoGainControl=!0,rx.isChrome()&&(i.googNoiseSuppression=!0,i.googAutoGainControl=!0,i.googAutoGainControl2=!0),n.audio=i,n}}])}();var TD=function(e){return e[e.Stopped=0]="Stopped",e[e.Playing=1]="Playing",e[e.Closed=2]="Closed",e}(TD||{});const CD="HRTCTrack";let AD=function(){function e(t){a(this,e);this.log_=t.logger||AC.getLogger(),this.trackType_=t.trackType,this.streamType_=t.streamType,this.isRemote_=t.isRemote,this.resolutionId_=t.resolutionId,t.track?this.setLocalProfileByTrack(t.track):this.setTrackProfile(t.trackProfile),this.track_=t.track,this.playState_=TD.Closed,this.trackMuted_=!1,this.event_=t.event||new cD,this.trackType_===YM.TRACK_TYPE_AUDIO?this.statusChangeReporter_=e=>{this.event_.emit(SP,{type:YM.TRACK_TYPE_AUDIO,id:this.getResolutionId(),state:e.state,reason:e.reason})}:this.statusChangeReporter_=e=>{this.event_.emit(SP,{type:YM.TRACK_TYPE_VIDEO,id:this.getResolutionId(),state:e.state,reason:e.reason})},this.statusTraceReporter_=e=>{this.event_.emit(AP,e)}}return u(e,[{key:"initScreenShare",value:async function e(t){const r=wD.initScreenShareConstraint(t,this.profile_);this.log_.info(CD,"initScreenShare, screen constraints: ".concat(JSON.stringify(r)));const n=[],i={type:YM.TRACK_TYPE_AUDIO},o={type:YM.TRACK_TYPE_VIDEO};return new Promise((e=>{navigator.mediaDevices.getDisplayMedia(r).then((e=>{const r=e.getVideoTracks()[0];this.track_&&(this.track_.stop(),this.player_&&this.player_.replaceTrack(r)),this.track_=r,o.track=r,this.content=$P.desktop,r.onended=()=>{this.event_.emit(wP,this.trackId_||this.resolutionId_)},t&&(0===(e.getAudioTracks()||[]).length?this.log_.info(CD,"initScreenShare, cannot capture system output audio, pls make sure checked the share Audio option in share page"):i.track=e.getAudioTracks()[0])})).catch((e=>{this.log_.error(CD,"initScreenShare, getDisplayMedia failed, errMsg= ".concat(e)),i.error=this.handleCaptureError(e),o.error=i.error})).finally((()=>{n.push(i),n.push(o),e(n)}))}))}},{key:"initAudioCapture",value:async function e(t){const r=wD.initAudioConstraint(t,this.profile_);return await this.getUserMedia(r,YM.TRACK_TYPE_AUDIO,$P.main)}},{key:"initVideoCapture",value:async function t(r,n){let i;return"environment"===r&&(r=await this.getBackCameraDeviceId()),this.log_.info(CD,"initVideoCapture, try getOptimalVideoConstraint"),i=await this.getUserMedia(wD.getOptimalVideoConstraint(r,this.profile_),YM.TRACK_TYPE_VIDEO,n),e.isTrackAvailable(i.track)?i:(this.log_.info(CD,"initVideoCapture, try getSuboptimalVideoConstraint"),i=await this.getUserMedia(wD.getSuboptimalVideoConstraint(r,this.profile_),YM.TRACK_TYPE_VIDEO,n),e.isTrackAvailable(i.track)?i:(this.log_.info(CD,"initVideoCapture, try getNextVideoConstraint"),i=await this.getUserMedia(wD.getNextVideoConstraint(r,this.profile_),YM.TRACK_TYPE_VIDEO,n),e.isTrackAvailable(i.track)?i:(this.log_.info(CD,"initVideoCapture, try getWorstVideoConstraint"),i=await this.getUserMedia(wD.getWorstVideoConstraint(r,this.profile_),YM.TRACK_TYPE_VIDEO,n),e.isTrackAvailable(i.track)?i:(this.log_.info(CD,"initVideoCapture, try getRecoveryVideoConstraint"),await this.getUserMedia(wD.getRecoveryVideoConstraint(),YM.TRACK_TYPE_VIDEO,n)))))}},{key:"getBackCameraDeviceId",value:async function e(){let t,r="environment";const n=await ZP(),i=yC.getSystemType();if("IOS"===i){for(const e of n){if(["back camera","后置相机"].includes(e.label.toLowerCase())){t=e;break}}}else if("Android"===i&&n.length>0){const e=n[n.length-1];e.label.indexOf("back")>0&&(t=e)}return t&&(r=t.deviceId,this.log_.info(CD,"trans environment to deviceId:".concat(r,", label:").concat(t.label))),r}},{key:"getUserMedia",value:async function e(t,r,n){const i={type:r};try{var o;null===(o=this.track_)||void 0===o||o.stop();const e=await navigator.mediaDevices.getUserMedia(t),a=r===YM.TRACK_TYPE_VIDEO?e.getVideoTracks()[0]:e.getAudioTracks()[0];return await this.replaceTrack(a),i.track=this.track_,this.content=n,i.type===YM.TRACK_TYPE_VIDEO&&this.setCameraCaptureReport(),i}catch(e){return i.error=this.handleCaptureError(e,r),i}}},{key:"setCameraCaptureReport",value:function e(){this.cameraCaptureHandleTimer&&clearInterval(this.cameraCaptureHandleTimer),this.cameraCaptureHandleTimer=setInterval((()=>{if(this.track_&&this.profile_){var e;const t=this.track_.getSettings(),r={width:this.profile_.width,height:this.profile_.height,frameRate:parseInt(null===(e=this.profile_.frameRate)||void 0===e?void 0:e.toString())||0};this.event_.emit(IP.CameraCapture,t,r)}}),2e3)}},{key:"clearCameraCaptureReport",value:function e(){this.cameraCaptureHandleTimer&&clearInterval(this.cameraCaptureHandleTimer)}},{key:"handleCaptureError",value:function e(t,r){if(/.*Malformed constraints.*/gi.test(t.message)){return this.log_.warn(CD,"init ".concat(r||"screen","capture getUserMedia failed, handleCaptureError: ").concat(t)),null}const n=tx.handleCaptureErrorUtil(t);return this.log_.error(CD,"init ".concat(r||"screen","capture getUserMedia failed, handleCaptureError: ").concat(n)),n}},{key:"isClosed",value:function e(){return this.playState_===TD.Closed}},{key:"isPlaying",value:function e(){return this.playState_===TD.Playing}},{key:"getTrackType",value:function e(){return this.trackType_}},{key:"getResolutionId",value:function e(){return this.resolutionId_}},{key:"getTrackId",value:function e(){return this.trackId_}},{key:"getElementId",value:function e(){return this.elementId_}},{key:"getObjectFit",value:function e(){return this.objectFit_}},{key:"setTrackId",value:function e(t){this.trackId_=t}},{key:"getTrackProfile",value:function e(){return this.profile_}},{key:"setTrackContentType",value:function e(t){this.content=t}},{key:"getTrackContentType",value:function e(){return this.content||$P.main}},{key:"updateTrackProfile",value:function e(t){this.trackType_===YM.TRACK_TYPE_VIDEO&&t&&(this.profile_.width=t.width,this.profile_.height=t.height)}},{key:"setTrackProfile",value:function e(t){this.log_.info(CD,"setTrackProfile begin,uniqueId_:".concat(this.resolutionId_,", ").concat(this.trackType_,",")+"".concat(this.streamType_,", profile:").concat(JSON.stringify(t))),this.trackType_!==YM.TRACK_TYPE_AUDIO?this.trackType_!==YM.TRACK_TYPE_VIDEO||this.streamType_!==KM.STREAM_TYPE_MAIN?this.trackType_===YM.TRACK_TYPE_VIDEO&&this.streamType_===KM.STREAM_TYPE_AUX&&(this.profile_=tx.formatScreenProfile(t)):this.profile_=tx.formatVideoProfile(t):this.profile_=tx.formatAudioProfile(t)}},{key:"getTrack",value:function e(){return this.track_}},{key:"replaceTrack",value:async function e(t){var r;if(t){var n;if(null===(r=this.player_)||void 0===r||r.replaceTrack(t),!this.isRemote_){null===(n=this.track_)||void 0===n||n.stop()}this.track_=t,this.track_.enabled=!this.trackMuted_,this.isRemote_||(this.setLocalProfileByTrack(t,this.profile_),this.playState_===TD.Playing&&await this.restart())}}},{key:"setLocalProfileByTrack",value:function e(t,r){this.profile_=tx.getLocalProfileByTrack(t,r),this.log_.info(CD,"setLocalProfileByTrack, this.profile_:".concat(JSON.stringify(this.profile_)))}},{key:"removeTrack",value:function e(){var t;(this.player_&&this.player_.stop(),this.isRemote_)||null===(t=this.track_)||void 0===t||t.stop();this.track_=null}},{key:"play",value:async function e(t,r,n){const i=this.getTrackType();if(this.log_.info(CD,"".concat(i," track begin play, elementId:").concat(r,", playerDiv.id:").concat(t.id,", options:").concat(JSON.stringify(n)," ")),this.playState_===TD.Playing){return this.log_.info(CD,"".concat(i," track is playing, return")),{trackType:i,error:null}}if(!this.track_){return this.log_.error(CD,"".concat(i," track is empty")),{trackType:i,error:new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"".concat(i," track is empty"))}}switch(this.elementId_=r,this.trackType_){case YM.TRACK_TYPE_AUDIO:this.player_||(this.log_.info(CD,"create AudioPlayer"),this.player_=new _D({logger:this.log_,playerDiv:t,playerId:this.getTrackId()||this.getResolutionId(),track:this.track_,muted:n.muted,volume:this.audioVolume_,isRemote:this.isRemote_}));break;case YM.TRACK_TYPE_VIDEO:this.objectFit_=n.objectFit,this.player_||(this.log_.info(CD,"create VideoPlayer"),this.player_=new bD({logger:this.log_,parentDiv:t,playerId:this.getTrackId()||this.getResolutionId(),track:this.track_,objectFit:n.objectFit,mirror:n.mirror,isRemote:this.isRemote_}))}this.player_.off(SP,this.statusChangeReporter_),this.player_.on(SP,this.statusChangeReporter_),this.player_.off(AP,this.statusTraceReporter_),this.player_.on(AP,this.statusTraceReporter_),this.log_.info(CD,"play ".concat(i," track start")),this.playState_=TD.Playing;try{return await this.player_.play(),{trackType:i,error:null}}catch(e){const t=e instanceof oc&&/.*timeout.*/i.test(e.getMsg());return this.log_[t?"warn":"error"](CD,"play ".concat(i," failed: ").concat(e)),this.playState_=TD.Stopped,{trackType:i,error:e}}}},{key:"replay",value:async function e(){if(!this.player_){return this.log_.info(CD,"".concat(this.getTrackType()," player is null")),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"".concat(this.getTrackType()," player is null"))}this.player_.off(SP,this.statusChangeReporter_),this.player_.on(SP,this.statusChangeReporter_),this.player_.off(AP,this.statusTraceReporter_),this.player_.on(AP,this.statusTraceReporter_),this.log_.info(CD,"rePlay ".concat(this.getTrackType()," track start")),this.playState_=TD.Playing;try{return await this.player_.play(),null}catch(e){return this.log_.error(CD,"replay".concat(this.getTrackType(),", replay failed: ").concat(e)),this.playState_=TD.Stopped,e}}},{key:"stop",value:function e(){this.player_?(this.player_.off(SP,this.statusChangeReporter_),this.player_.stop(),this.player_=null,this.playState_=TD.Stopped,this.trackMuted_=!1,this.log_.info(CD,"".concat(this.getTrackType()," stop player success"))):this.log_.info(CD,"".concat(this.getTrackType()," player is null"))}},{key:"close",value:function e(){var t;(this.stop(),this.isRemote_)||null===(t=this.track_)||void 0===t||t.stop();this.elementId_="",this.log_.info(CD,"".concat(this.getTrackType()," close success")),this.playState_=TD.Closed,this.clearCameraCaptureReport()}},{key:"resume",value:async function e(){if(!this.player_){return this.log_.info(CD,"".concat(this.getTrackType()," player is null")),null}try{return await this.player_.resume(),null}catch(e){return this.log_.error(CD,"".concat(this.getTrackType()," resume failed: ").concat(e)),e}}},{key:"restart",value:async function e(){this.player_&&(this.player_.stop(),await this.player_.play(),this.log_.info(CD,"restart success"))}},{key:"getTrackMuted",value:function e(){return this.track_?!this.track_.enabled:this.trackMuted_}},{key:"muteTrack",value:function e(){this.track_&&(this.track_.enabled=!1),this.trackMuted_=!0}},{key:"unmuteTrack",value:function e(){this.track_&&(this.track_.enabled=!0),this.trackMuted_=!1}},{key:"setSinkId",value:async function e(t){this.trackType_===YM.TRACK_TYPE_AUDIO&&this.player_&&await this.player_.setSinkId(t)}},{key:"setAudioVolume",value:function e(t){this.trackType_===YM.TRACK_TYPE_AUDIO&&(this.audioVolume_=t/100,this.player_&&(this.player_.setVolume(this.audioVolume_),this.log_.info(CD,"setAudioVolume volume:".concat(this.audioVolume_))))}},{key:"getAudioLevel",value:function e(){return this.trackType_===YM.TRACK_TYPE_AUDIO&&this.player_?this.player_.getAudioLevel():0}},{key:"getVideoFrame",value:function e(){return this.trackType_===YM.TRACK_TYPE_VIDEO&&this.player_?this.player_.getVideoFrame():null}},{key:"setAudioOutput",value:function e(t){this.trackType_===YM.TRACK_TYPE_AUDIO&&this.player_&&this.player_.setSinkId(t)}}],[{key:"isTrackAvailable",value:function e(t){return!!t&&t.enabled&&!t.muted&&"live"===t.readyState}}])}();const RD="AsyncLock";let ID=function(){function e(){a(this,e);o(this,"callback_",[]),this.callback_=[],this.logger=AC.getLogger()}return u(e,[{key:"lock",value:async function e(t){this.logger.info(RD,"".concat(t," try to get lock")),await new Promise((e=>{const r={callbackFunc:()=>e(),lockTrigger:"".concat(t)};this.callback_.push(r),1===this.callback_.length&&(this.callback_[0].callbackFunc(),this.logger.info(RD,"".concat(this.callback_[0].lockTrigger," got lock")))}))}},{key:"unlock",value:function e(t){if(this.logger.info(RD,"".concat(t," try to unlock")),this.callback_.length>0){const e=this.callback_.shift();this.logger.info(RD,"".concat(e.lockTrigger," unlocked")),this.callback_.length>0&&(this.callback_[0].callbackFunc(),this.logger.info(RD,"".concat(this.callback_[0].lockTrigger," got lock")))}else{this.logger.error(RD,"unlock, but no lock exist")}}},{key:"clear",value:function e(){for(;this.callback_.length>0;){this.unlock(this.callback_[0].lockTrigger)}}}])}();const kD=new ID;function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function PD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OD(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const MD=["userId"],xD=["signature"];function LD(e){return(t,r,n)=>{const i=n.value;return PD(PD({},n),{},{async value(){const t=this.locker||kD;try{var n,o;null===(n=this.log)||void 0===n||n.info(e,"function ".concat(r," is wating for lock. ")),await t.lock(e),null===(o=this.log)||void 0===o||o.info(e,"function ".concat(r," get a lock. "));for(var a=arguments.length,s=new Array(a),u=0;u<a;u++){s[u]=arguments[u]}return await i.apply(this,s)}finally{var c;null===(c=this.log)||void 0===c||c.info(e,"function ".concat(r," release a lock. ")),t.unlock(e)}}})}}function DD(e){return(t,r,n)=>{const i=n.value,o=e.substr(0,e.indexOf("$"));return PD(PD({},n),{},{async value(){let t,r;const n=yC.getCurrentTimestamp();for(var a=arguments.length,s=new Array(a),u=0;u<a;u++){s[u]=arguments[u]}const c=s||[],l=jD(c);UD(l);try{var f,d;null===(f=this.logger)||void 0===f||f.info(o,"".concat(i.name," async begin : parameters are ").concat(BD(l))),t=await i.apply(this,c);const e=null!=t?jD([t]):[];return null===(d=this.logger)||void 0===d||d.info(o,"".concat(i.name," async end success : result is ").concat(JSON.stringify(e))),t}catch(e){var h;throw null===(h=this.logger)||void 0===h||h.error(o,"".concat(i.name," async end error : ").concat(e)),r=e,e}finally{var p;const i=yC.getCurrentTimestamp(),o=jD(this.getStatExtraInfo?[t,...c,this.getStatExtraInfo()]:[t,...c]);null===(p=this.stat)||void 0===p||p.setApiCallInfo(e,n,i,r,...o)}}})}}function ND(e){return(t,r,n)=>{const i=n.value,o=e.substr(0,e.indexOf("$"));return PD(PD({},n),{},{value(){let t,r;const n=yC.getCurrentTimestamp();for(var a=arguments.length,s=new Array(a),u=0;u<a;u++){s[u]=arguments[u]}const c=s||[],l=jD(c);UD(l);try{var f,d;null===(f=this.logger)||void 0===f||f.info(o,"".concat(i.name," begin : parameters are ").concat(BD(l))),r=i.apply(this,c);const e=null!=r?jD([r]):[];return null===(d=this.logger)||void 0===d||d.info(o,"".concat(i.name," end success : result is ").concat(JSON.stringify(e))),r}catch(e){var h;throw null===(h=this.logger)||void 0===h||h.error(o,"".concat(i.name," end error : ").concat(e)),t=e,e}finally{var p;const i=yC.getCurrentTimestamp(),o=jD(this.getStatExtraInfo?[r,...c,this.getStatExtraInfo()]:[r,...c]);null===(p=this.stat)||void 0===p||p.setApiCallInfo(e,n,i,t,...o)}}})}}function jD(e){try{return e.map((e=>["object","function"].includes(typeof e)?e.getStatInfo?e.getStatInfo():e.getInfo?e.getInfo():e:e))}catch(t){return e}}function UD(e){e&&0!==e.length&&e.forEach((e=>{e&&(Array.isArray(e)?UD(e):MD.forEach((t=>AC.addPrivacyString(e[t]))))}))}function BD(e){return JSON.stringify(e,((e,t)=>{if(!xD.includes(e)){return t}}))}let FD=function(){function e(){a(this,e)}return u(e,null,[{key:"callAsyncApi",value:async function t(r,n,i,o){let a,s;const u=yC.getCurrentTimestamp(),c=i||[];try{return s=await n.call(r,...c),s}catch(e){throw a=e,e}finally{const t=yC.getCurrentTimestamp(),n=e.doFinalParam([s,...c,r]);r.stat.setApiCallInfo(o,u,t,a,...n)}}},{key:"doFinalParam",value:function e(t){return t.map((e=>["object","function"].includes(typeof e)&&e.getStatInfo?e.getStatInfo():e))}},{key:"callApi",value:function t(r,n,i,o){let a,s;const u=yC.getCurrentTimestamp(),c=i||[];try{return s=n.call(r,...c),s}catch(e){throw a=e,e}finally{const t=yC.getCurrentTimestamp(),n=e.doFinalParam([s,...c,r]);r.stat.setApiCallInfo(o,u,t,a,...n)}}},{key:"callWithTimeout",value:function e(t,r){let n;const i=new oc(nc.RTC_ERR_CODE_WAIT_RSP_TIMEOUT),o=new Promise(((e,t)=>{n=t}));let a=null;return r&&(a=setTimeout((()=>{a&&clearTimeout(a),n(i)}),r)),Promise.race([t.finally((()=>{a&&clearTimeout(a)})),o])}},{key:"callWithRetryTimes",value:async function e(t,r,n,i,o){let a=n>=0?n+1:-1,s=1,u=!1;for(;-1===a||a;){let e,c;try{c=await t(s)}catch(r){e=r,u=o&&o(e),console.warn("FunctionUtil","callWithRetryTimes, func:".concat(t.name,", isInterrupted:").concat(u,",")+"retryTimes:".concat(n,", left times:").concat(-1===a?-1:a-1,", tryNumber:").concat(s,", err: ").concat(e))}finally{if(!((e||!e&&r)&&!u&&(-1===a||--a>0))){if(!e){return c}throw e}{const t="number"==typeof i?i:i(e);await yC.sleep(t),s++}}}}}])}();let HD=function(){function e(t){a(this,e);"boolean"!=typeof t?this.eventEmitter_=t:t&&(this.eventEmitter_=new cD)}return u(e,[{key:"on",value:function e(t,r){this.eventEmitter.on(t,r)}},{key:"off",value:function e(t,r){r?this.eventEmitter.removeListener(t,r):this.eventEmitter.removeAllListeners(t)}},{key:"emit",value:function e(t,r){this.eventEmitter.emit(t,r)}},{key:"eventEmitter",get:function(){return this.eventEmitter_},set:function(e){this.eventEmitter_=e}}])}();let VD=function(){function e(t,r){a(this,e);"boolean"!=typeof t?this.logger_=t:t&&(this.logger_=AC.getLogger(r))}return u(e,[{key:"logger",get:function(){return this.logger_},set:function(e){this.logger_=e}}])}();let WD=function(){function e(t,r){a(this,e);"boolean"!=typeof t?this.stat_=t:t&&(this.stat_="boolean"!=typeof r?new XL(AC.getLogger(),r):new XL(AC.getLogger()))}return u(e,[{key:"stat",get:function(){return this.stat_},set:function(e){this.stat_=e}}])}();var zD,GD,YD,KD,qD,$D,JD,ZD,XD,QD,eN,tN,rN,nN,iN,oN,aN,sN,uN,cN,lN,fN,dN,hN,pN,vN,gN,mN,yN,_N,bN,EN,SN,wN=new(function(){function e(){a(this,e);this.gen=(()=>{let e=0;return()=>e++})()}return u(e,[{key:"getSequence",value:function e(){return this.gen()}}])}());let TN=function(){function e(){a(this,e);let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitter:!1,logger:!1,stat:!1,config:!1},r=arguments.length>1?arguments[1]:void 0;o(this,"onCallbackMap_",new Map),this.identifiedID_=r||Symbol("identifiedID_".concat(wN.getSequence())),!1!==t.emitter&&(this.emitterAble_=new HD(t.emitter)),!1!==t.logger&&(this.loggerAble_=new VD(t.logger,this.identifiedID_)),!1!==t.stat&&(this.statisticAble_=new WD(t.stat,t.config))}return u(e,[{key:"on",value:function e(t,r,n){var i;n?this.onWithTimeout(t,r):null===(i=this.emitterAble_)||void 0===i||i.on(t,r)}},{key:"off",value:function e(t,r,n){var i;n?this.offWithTimeout(t,r):null===(i=this.emitterAble_)||void 0===i||i.off(t,r)}},{key:"emit",value:function e(t,r){var n;null===(n=this.emitterAble_)||void 0===n||n.emit(t,r)}},{key:"onWithTimeout",value:function e(t,r){var n;const i=this.getOnCallback(t,r);null===(n=this.emitterAble_)||void 0===n||n.on(t,i)}},{key:"offWithTimeout",value:function e(t,r){var n;null===(n=this.emitterAble_)||void 0===n||n.off(t,this.getOffCallback(t,r)||r)}},{key:"getOnCallback",value:function e(t,r){const n=async e=>{const n=yC.getCurrentTimestamp();let i;try{await FD.callWithTimeout(Promise.resolve(await r&&r(e)),1e4),i=yC.getCurrentTimestamp()}catch(e){i=n+5e3}finally{var o,a;null===(o=this.stat)||void 0===o||o.recordCallbackInfo(t.toString(),null===(a=this.getInfo())||void 0===a?void 0:a.moduleName,n,i,e,(e=>["object","function"].includes(typeof e)&&e.getStatInfo?JSON.stringify(e.getStatInfo()):JSON.stringify(e||{})))}},i=this.onCallbackMap_.get(t)||[];return i.push({func:r,callbackFun:n}),this.onCallbackMap_.set(t,i),n}},{key:"getOffCallback",value:function e(t,r){const n=this.onCallbackMap_.get(t)||[],i=n.findIndex((e=>e.func===r));if(i>-1){var o;const e=null===(o=n[i])||void 0===o?void 0:o.callbackFun;return n.splice(i,1),e}return null}},{key:"stat",get:function(){var e;return null===(e=this.statisticAble_)||void 0===e?void 0:e.stat}},{key:"logger",get:function(){var e;return null===(e=this.loggerAble_)||void 0===e?void 0:e.logger}},{key:"eventEmitter",get:function(){if(!this.emitterAble_||!this.emitterAble_.eventEmitter){throw new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}return this.emitterAble_.eventEmitter}},{key:"identifiedID",get:function(){return this.identifiedID_}},{key:"getStatInfo",value:function e(){}}])}();let CN=function(e){function t(e,r,n){var i;a(this,t);i=f(this,t,[e,r]),i.captureResults=n;return i}p(t,e);return u(t,[{key:"getMediaCaptureResult",value:function e(){return this.captureResults}},{key:"getMediaCaptureResultByType",value:function e(t){var r;return null===(r=this.captureResults)||void 0===r?void 0:r.find((e=>e.type===t))}},{key:"toString",value:function e(){return'["code": '.concat(this.code,', "message": "').concat(this.message," : ").concat(JSON.stringify(this.captureResults),'"]')}}])}(oc);let AN=(zD=ND("Stream$getStreamInfo#StreamInfo"),GD=DD("Stream$play#Promise<void>#string#{ objectFit?: string; muted: boolean; resolutionId?: string; playerElementHidden?: boolean }#string"),YD=ND("Stream$stop#void#StreamOption"),KD=DD("Stream$resume#Promise<void>#StreamOption"),qD=ND("Stream$close#void#StreamOption"),$D=ND("Stream$muteAudio#boolean"),JD=ND("Stream$muteVideo#boolean"),ZD=ND("Stream$unmuteAudio#boolean"),XD=ND("Stream$unmuteVideo#boolean"),QD=DD("Stream$setAudioOutput#Promise<void>#string"),eN=ND("Stream$setAudioVolume#void#number"),tN=ND("Stream$getVideoSnapshot#string#string#string#number"),rN=function(e){function t(e){var r;a(this,t);r=f(this,t,[{emitter:!0,logger:e.log||!0,stat:!0}]),o(h(r),"module_","Stream"),r.isRemote_=e.isRemote,r.id_=yC.generateStreamId(),r.type_=e.type,r.isAuxiliary_="auxiliary"===e.type,r.tracks={video:new Map,audio:new Map},r.playDivContainers=new Map,r.traceHandler=r.playerStatusTrace.bind(h(r));return r}p(t,e);return u(t,[{key:"getStreamInfo",value:function e(){return this.getStreamInfoImpl()}},{key:"getStreamInfoImpl",value:function e(){const t={videoProfiles:[]};for(const[e,r]of this.tracks[YM.TRACK_TYPE_VIDEO]){if(r.getTrackType()===YM.TRACK_TYPE_VIDEO){const n={resolutionId:e,hasTrack:!!r.getTrack(),width:r.getTrackProfile().width,height:r.getTrackProfile().height,frameRate:r.getTrackProfile().frameRate,minBitrate:r.getTrackProfile().minBitrate,maxBitrate:r.getTrackProfile().maxBitrate};t.videoProfiles.push(n)}}const r=this.getAnyAudioHRTCTrack();return r&&(t.audioProfile={sampleRate:r.getTrackProfile().sampleRate,channelCount:r.getTrackProfile().channelCount,bitrate:r.getTrackProfile().bitrate}),this.logger.info(this.module_,"getStreamInfoImpl success: ".concat(JSON.stringify(t))),t}},{key:"getMaxResolutionHRTCTrack",value:function e(t){let r;const n=Array.from(this.tracks[YM.TRACK_TYPE_VIDEO].values()),i=t?n:n.filter((e=>e.getTrack()));for(const e of i){r?r&&Math.max(e.getTrackProfile().width,e.getTrackProfile().height)-Math.max(r.getTrackProfile().width,r.getTrackProfile().height)>0&&(r=e):r=e}return r}},{key:"getMaxResolutionProfile",value:function e(t){if(0===t.size){return null}let r,n;for(const[e,i]of t){r?Math.max(i.width,i.height)-Math.max(r.width,r.height)>0&&(r=i,n=e):(r=i,n=e)}return r?{resolutionId:n,width:r.width,height:r.height,frameRate:r.frameRate,minBitrate:r.minBitrate,maxBitrate:r.maxBitrate}:null}},{key:"getHRTCTracks",value:function e(t){const r=[],n=Array.from(this.tracks[YM.TRACK_TYPE_AUDIO].values()),i=Array.from(this.tracks[YM.TRACK_TYPE_VIDEO].values());if(!t){return[...n,...i]}const o=void 0===t.hasTrack?n:n.filter((e=>!!e.getTrack()===t.hasTrack)),a=void 0===t.hasTrack?i:i.filter((e=>!!e.getTrack()===t.hasTrack));return t.mediaType?t.mediaType===YM.TRACK_TYPE_VIDEO?r.push(...a):r.push(...o):(r.push(...o),r.push(...a)),r}},{key:"getHRTCTrackIds",value:function e(t){const r=[];for(const e of this.getHRTCTracks(t)){r.push(e.getTrackId())}return r}},{key:"getAnyVideoHRTCTrack",value:function e(t){let r;return r=t?this.tracks[YM.TRACK_TYPE_VIDEO].get(t):this.getMaxResolutionHRTCTrack(!0),r}},{key:"getVideoHRTCTrack",value:function e(t){var r;let n;return n=t?this.tracks[YM.TRACK_TYPE_VIDEO].get(t):this.getMaxResolutionHRTCTrack(),null!==(r=n)&&void 0!==r&&r.getTrack()?n:null}},{key:"getAnyAudioHRTCTrack",value:function e(){return this.isAuxiliary_?this.tracks[YM.TRACK_TYPE_AUDIO].get("auxAudio"):this.tracks[YM.TRACK_TYPE_AUDIO].get("mainAudio")}},{key:"getUninitializedAudioHRTCTrack",value:function e(){const t=this.getAnyAudioHRTCTrack();return null!=t&&t.getTrack()?null:t}},{key:"getUninitializedVideoHRTCTrack",value:function e(t){var r;let n;return n=t?this.tracks[YM.TRACK_TYPE_VIDEO].get(t):this.getMaxResolutionHRTCTrack(!0),null!==(r=n)&&void 0!==r&&r.getTrack()?null:n}},{key:"getAudioHRTCTrack",value:function e(){const t=this.getAnyAudioHRTCTrack();return null!=t&&t.getTrack()?t:null}},{key:"getUniqueId",value:function e(){return this.id_}},{key:"getInfo",value:function e(){return{moduleName:"Stream",appId:"",roomId:"",userName:"",userId:"",domain:""}}},{key:"startupPlay",value:function e(t,r){this.client_.forEach((e=>{e.startupQoSReportPlay(t,r)}))}},{key:"play",value:async function e(t,r){const n=yC.getCurrentTimestamp();this.startupPlay(this.getUniqueId(),n),await this.playImpl(t,r)}},{key:"playImpl",value:async function e(t,r){let n;if(null!=r&&r.objectFit){if(!/^cover|contain|fill$/.test(r.objectFit)){throw this.logger.error(this.module_,"invalid play options.objectFit: ".concat(r.objectFit)),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid play options.objectFit: ".concat(r.objectFit))}n=r.objectFit}else{n=this.isRemote_&&"auxiliary"===this.getType()?"contain":"cover"}const i=!(null==r||!r.muted);if(this.logger.info(this.module_,"stream start to play with elementId: ".concat(t,", options.objectFit: ").concat(n,",options.muted: ").concat(i," resolutionId:").concat(null==r?void 0:r.resolutionId)),!t){throw this.logger.error(this.module_,"elementId:".concat(t," not a invalid HTMLElement Id")),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"elementId:".concat(t," not a invalid HTMLElement Id"))}const o=document.getElementById(t);if(!o){throw this.logger.error(this.module_,"document.getElementById by elementId:".concat(t," failed")),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"document.getElementById by elementId:".concat(t," failed"))}let a;const s=null!=r&&r.resolutionId?this.getVideoHRTCTrack(r.resolutionId):this.getMaxResolutionHRTCTrack(),u=s?s.getResolutionId():this.id_,c=this.playDivContainers.get(t);if(c){var l;a=c.HTMLElement,o.querySelector("#".concat(a.id))||o.appendChild(a),this.logger.info(this.module_,"get exist player div, key:".concat(t,", div: ").concat(null===(l=c.HTMLElement)||void 0===l?void 0:l.id))}else{a=document.createElement("div"),a.setAttribute("id","player_".concat(u)),a.style.width="100%",a.style.height="100%",a.style.position="relative",a.style.overflow="hidden",a.style["background-color"]="#000",o.appendChild(a);const e={HTMLElement:a,hasVideoTrack:!1,hasAudioTrack:!1};this.playDivContainers.set(t,e),this.logger.info(this.module_,"new player div, key:".concat(t,", div: ").concat(a.id))}a.style.display=null!=r&&r.playerElementHidden?"none":"block",await this.playTracks(t,a,n,i,null==r?void 0:r.resolutionId)}},{key:"reportCanPlay",value:function e(t){this.client_.forEach((e=>{e.startupQoSReportCanPlay(t)}))}},{key:"playerStatusTrace",value:function e(t){this.logger.debug(this.module_,"playerStatusTrace, ".concat(JSON.stringify(t))),null!=t&&t.event&&"playerCanplay"===t.event&&(t.id=this.getUniqueId(),this.reportCanPlay(t))}},{key:"playTracks",value:async function e(t,r,n,i,o){const a=[],s=this.isAuxiliary_?null:this.getAudioHRTCTrack(),u=o?this.getVideoHRTCTrack(o):this.getMaxResolutionHRTCTrack();null!=u&&u.getTrack()&&a.push(u.play(r,t,{objectFit:n,mirror:this.mirror_})),null!=s&&s.getTrack()&&a.push(s.play(r,t,{muted:i})),0!==a.length?(this.off(AP,this.traceHandler),this.on(AP,this.traceHandler),await Promise.all(a).then((e=>{const n=e.filter((e=>null!==e.error));n.length===a.length&&r&&r.remove();const i=e.filter((e=>null===e.error)),o=null==i?void 0:i.some((e=>e.trackType===YM.TRACK_TYPE_AUDIO)),s=null==i?void 0:i.some((e=>e.trackType===YM.TRACK_TYPE_VIDEO));if(this.playDivContainers.has(t)&&this.playDivContainers.set(t,{HTMLElement:r,hasAudioTrack:o,hasVideoTrack:s}),n.length>0){throw n[0].error}}))):this.logger.warn(this.module_,"no available track for play")}},{key:"stop",value:function e(t){this.stopImpl(t)}},{key:"stopImpl",value:function e(t){var r;this.logger.info(this.module_,"stopImpl begin, option:".concat(JSON.stringify(t)));const n=this.getHRTCTracks({hasTrack:!0,mediaType:YM.TRACK_TYPE_VIDEO}),i=[];var o;(!t||t.video&&!t.resolutionIds?i.push(...n):t.video&&null!==(r=t.resolutionIds)&&void 0!==r&&r.length&&t.resolutionIds.forEach((e=>{const t=this.getVideoHRTCTrack(e);t&&i.push(t)})),i.forEach((e=>{e.stop()})),!t||t.audio)&&(null===(o=this.getAudioHRTCTrack())||void 0===o||o.stop())}},{key:"resume",value:async function e(t){await this.resumeImpl(t)}},{key:"resumeImpl",value:async function e(t){var r;this.logger.info(this.module_,"resumeImpl begin, option:".concat(JSON.stringify(t)));const n=this.getHRTCTracks({hasTrack:!0,mediaType:YM.TRACK_TYPE_VIDEO}),i=[];!t||t.video&&!t.resolutionIds?i.push(...n):t.video&&null!==(r=t.resolutionIds)&&void 0!==r&&r.length&&t.resolutionIds.forEach((e=>{const t=this.getVideoHRTCTrack(e);t&&i.push(t)}));const o=[];if(i.forEach((e=>{o.push(e.resume())})),!t||t.audio){const e=this.getAudioHRTCTrack();e&&o.push(e.resume())}await Promise.all(o)}},{key:"close",value:function e(t){this.closeImpl(t)}},{key:"closeImpl",value:function e(t){if(this.logger.info(this.module_,"closeImpl begin, options:".concat(JSON.stringify(t))),this.client_=[],!t||t.video&&!t.resolutionIds&&t.audio){for(const e of this.getHRTCTracks({hasTrack:!0})){e.close()}for(const e of this.playDivContainers.values()){e.HTMLElement&&e.HTMLElement.remove()}return this.playDivContainers.clear(),void nD.removeEventEmitter(this.eventEmitter)}if(t.video){var r;const e=[];if(null!==(r=t.resolutionIds)&&void 0!==r&&r.length){t.resolutionIds.forEach((t=>{const r=this.getVideoHRTCTrack(t);r&&e.push(r)}))}else{const t=this.getHRTCTracks({hasTrack:!0,mediaType:YM.TRACK_TYPE_VIDEO});e.push(...t)}e.forEach((e=>{const t=null==e?void 0:e.getElementId();if(e.close(),t){const e=this.playDivContainers.get(t);var r,n,i;if(e){if(e.hasVideoTrack=!1,this.logger.debug(this.module_,"closeImpl, elementId:".concat(t,", divInfo: ").concat(null===(r=e.HTMLElement)||void 0===r?void 0:r.id,", hasAudioTrack: ").concat(e.hasAudioTrack,", hasVideoTrack: ").concat(e.hasVideoTrack,"}")),!e.hasAudioTrack){null===(n=this.playDivContainers.get(t))||void 0===n||null===(i=n.HTMLElement)||void 0===i||i.remove(),this.playDivContainers.delete(t),this.logger.info(this.module_,"closeImpl, release elementId: ".concat(t))}}}}))}t.audio&&this.closeAudio();this.getHRTCTracks({hasTrack:!0}).every((e=>e.isClosed()))&&(nD.removeEventEmitter(this.eventEmitter),this.mediaStream=null)}},{key:"closeAudio",value:function e(){const t=this.getAudioHRTCTrack();if(t){const e=t.getElementId();if(t.close(),e){const t=this.playDivContainers.get(e);var r,n,i;if(t){if(t.hasAudioTrack=!1,this.logger.debug(this.module_,"closeAudio, elementId:".concat(e,", divInfo: ").concat(null===(r=t.HTMLElement)||void 0===r?void 0:r.id,", hasAudioTrack: ").concat(t.hasAudioTrack,", hasVideoTrack: ").concat(t.hasVideoTrack,"}")),!t.hasVideoTrack){null===(n=this.playDivContainers.get(e))||void 0===n||null===(i=n.HTMLElement)||void 0===i||i.remove(),this.playDivContainers.delete(e),this.logger.info(this.module_,"closeAudio, release elementId: ".concat(e))}}}}}},{key:"muteAudio",value:function e(){return this.muteAudioImpl()}},{key:"muteAudioImpl",value:function e(){try{const e=this.getAudioHRTCTrack();return!!e&&(e.muteTrack(),!0)}catch(e){return this.logger.error(this.module_,"muteAudio failed: ".concat(e)),!1}}},{key:"muteVideo",value:function e(){return this.muteVideoImpl()}},{key:"muteVideoImpl",value:function e(){try{if(!this.hasVideoTrack()){return!1}for(const e of this.getHRTCTracks({hasTrack:!0,mediaType:YM.TRACK_TYPE_VIDEO})){e.muteTrack()}return!0}catch(e){return this.logger.error(this.module_,"muteVideo failed: ".concat(e)),!1}}},{key:"unmuteAudio",value:function e(){return this.unmuteAudioImpl()}},{key:"unmuteAudioImpl",value:function e(){try{const e=this.getAudioHRTCTrack();return!!e&&(e.unmuteTrack(),!0)}catch(e){return this.logger.error(this.module_,"unmuteAudio failed: ".concat(e)),!1}}},{key:"unmuteVideo",value:function e(){return this.unmuteVideoImpl()}},{key:"unmuteVideoImpl",value:function e(){try{if(!this.hasVideoTrack()){return!1}for(const e of this.getHRTCTracks({hasTrack:!0,mediaType:YM.TRACK_TYPE_VIDEO})){e.unmuteTrack()}return!0}catch(e){return this.logger.error(this.module_,"unmuteVideo failed: ".concat(e)),!1}}},{key:"getId",value:function e(){var t;return null===(t=this.getMaxResolutionHRTCTrack(!0))||void 0===t?void 0:t.getTrackId()}},{key:"getUserId",value:function e(){return this.userId_}},{key:"getType",value:function e(){return this.type_}},{key:"setAudioOutput",value:async function e(t){return this.setAudioOutputImpl(t)}},{key:"setAudioOutputImpl",value:async function e(t){try{const e=this.getAudioHRTCTrack();e&&await e.setSinkId(t),this.stat.reportSwitchDevicesInfo(vM.OUTPUT_AUDIO,t,OM.SUCCESS)}catch(e){throw this.stat.reportSwitchDevicesInfo(vM.OUTPUT_AUDIO,t,OM.FAIL),e}}},{key:"setAudioVolume",value:function e(t){this.setAudioVolumeImpl(t)}},{key:"setAudioVolumeImpl",value:function e(t){const r=this.getAudioHRTCTrack();r&&r.setAudioVolume(t)}},{key:"getAudioLevel",value:function e(){const t=this.getAudioHRTCTrack();return t?t.getAudioLevel():0}},{key:"hasAudioTrack",value:function e(){return!!this.getAudioHRTCTrack()}},{key:"hasVideoTrack",value:function e(){return Array.from(this.tracks[YM.TRACK_TYPE_VIDEO].values()).filter((e=>e.getTrack())).length>0}},{key:"isAuxiliary",value:function e(){return this.isAuxiliary_}},{key:"getAudioTrack",value:function e(){const t=this.getAudioHRTCTrack();return t?t.getTrack():null}},{key:"getVideoTrack",value:function e(t){const r=this.getVideoHRTCTrack(t);return r?r.getTrack():null}},{key:"getVideoFrame",value:function e(t){const r=this.getVideoHRTCTrack(t);return r?r.getVideoFrame():null}},{key:"on",value:function e(r,i){n(t,"on",this,3)([r,i,-1===RP.indexOf(r.toString())])}},{key:"off",value:function e(r,i){n(t,"off",this,3)([r,i,-1===RP.indexOf(r.toString())])}},{key:"restart",value:async function e(t){var r;if(t){return void await(null===(r=this.getVideoHRTCTrack(t))||void 0===r?void 0:r.restart())}const n=[];for(const e of this.getHRTCTracks({hasTrack:!0})){n.push(e.restart())}await Promise.all(n)}},{key:"rePlayAudio",value:async function e(){const t=this.getAudioHRTCTrack();t&&!t.isPlaying()&&await t.replay()}},{key:"getStatInfo",value:function e(){return{isRemote_:this.isRemote_,type_:this.type_,userId_:this.userId_,id_:this.id_,isAuxiliary_:this.isAuxiliary_}}},{key:"getStatExtraInfo",value:function e(){return{isRemote:this.isRemote_,id:this.id_,userId:this.userId_}}},{key:"hasAudio",value:function e(){var t;const r=!!(null===(t=this.getAudioHRTCTrack())||void 0===t?void 0:t.getTrack());return this.logger.debug(this.module_,"hasAudio: ".concat(r)),r}},{key:"hasVideo",value:function e(){const t=this.hasVideoTrack();return this.logger.debug(this.module_,"hasVideo: ".concat(t)),t}},{key:"getVideoSnapshot",value:function e(t,r,n){var i;let o;this.logger.info(this.module_,"streamType:".concat(this.getType())),o=t?this.getVideoHRTCTrack(t):this.getMaxResolutionHRTCTrack();const a=null===(i=o)||void 0===i?void 0:i.getElementId();if(a){const e=this.playDivContainers.get(a).HTMLElement.querySelector("video"),t=document.createElement("canvas");let i;t.width=e.videoWidth,t.height=e.videoHeight,t.getContext("2d").drawImage(e,0,0),(n=Number(n))>=0&&n<=1?i=n:(i=1,this.logger.warn(this.module_,"encoderOptions invalid, use default value: 1"));let o="";o="jpeg"===r?t.toDataURL("image/jpeg",i):"webp"===r?t.toDataURL("image/webp",i):t.toDataURL("image/png");const s=o.split(";base64,"),u=s[0].split(":")[1],c=window.atob(s[1]),l=c.length,f=new Uint8Array(l);for(let e=0;e<l;++e){f[e]=c.charCodeAt(e)}return URL.createObjectURL(new Blob([f],{type:u}))}return this.logger.warn(this.module_,"this elementId is not exist"),""}}])}(TN),s(rN.prototype,"getStreamInfo",[zD],Object.getOwnPropertyDescriptor(rN.prototype,"getStreamInfo"),rN.prototype),s(rN.prototype,"play",[GD],Object.getOwnPropertyDescriptor(rN.prototype,"play"),rN.prototype),s(rN.prototype,"stop",[YD],Object.getOwnPropertyDescriptor(rN.prototype,"stop"),rN.prototype),s(rN.prototype,"resume",[KD],Object.getOwnPropertyDescriptor(rN.prototype,"resume"),rN.prototype),s(rN.prototype,"close",[qD],Object.getOwnPropertyDescriptor(rN.prototype,"close"),rN.prototype),s(rN.prototype,"muteAudio",[$D],Object.getOwnPropertyDescriptor(rN.prototype,"muteAudio"),rN.prototype),s(rN.prototype,"muteVideo",[JD],Object.getOwnPropertyDescriptor(rN.prototype,"muteVideo"),rN.prototype),s(rN.prototype,"unmuteAudio",[ZD],Object.getOwnPropertyDescriptor(rN.prototype,"unmuteAudio"),rN.prototype),s(rN.prototype,"unmuteVideo",[XD],Object.getOwnPropertyDescriptor(rN.prototype,"unmuteVideo"),rN.prototype),s(rN.prototype,"setAudioOutput",[QD],Object.getOwnPropertyDescriptor(rN.prototype,"setAudioOutput"),rN.prototype),s(rN.prototype,"setAudioVolume",[eN],Object.getOwnPropertyDescriptor(rN.prototype,"setAudioVolume"),rN.prototype),s(rN.prototype,"getVideoSnapshot",[tN],Object.getOwnPropertyDescriptor(rN.prototype,"getVideoSnapshot"),rN.prototype),rN),RN=(nN=DD("LocalStream$initialize#Promise<StreamInitializeResult>"),iN=DD("LocalStream$addAudioTrackCapture#Promise<MediaStreamTrack>#string"),oN=DD("LocalStream$addVideoTrackCapture#Promise<MediaStreamTrack>#VideoCaptureOption"),aN=ND("LocalStream$setAudioProfile#void#string|RTCAudioProfile"),sN=DD("LocalStream$setVideoProfile#void#string|RTCVideoProfile"),uN=DD("LocalStream$addResolution#Promise<RTCVideoProfileInfo>#string|RTCVideoProfile#boolean"),cN=DD("LocalStream$removeResolution#Promise<void>#string"),lN=ND("LocalStream$setScreenProfile#void#string|RTCScreenProfile"),fN=DD("LocalStream$switchDevice#Promise<void>#string#string"),dN=DD("LocalStream$addTrack#Promise<void>#MediaStreamTrack#string"),hN=DD("LocalStream$removeTrack#Promise<void>#MediaStreamTrack#string"),pN=DD("LocalStream$replaceTrack#Promise<void>#MediaStreamTrack#string#string"),vN=ND("LocalStream$bindScreenAudio2RelatedStream#void#LocalStream#boolean"),gN=DD("LocalStream$startAudioMixing#Promise<void>#AudioMixOption"),mN=DD("LocalStream$stopAudioMixing#Promise<void>"),yN=ND("LocalStream$pauseAudioMixing#void"),_N=ND("LocalStream$resumeAudioMixing#void"),bN=ND("LocalStream$setAudioMixingVolume#void#number"),EN=ND("LocalStream$setAudioMixingPosition#void#number"),SN=function(e){function t(e){var r;a(this,t);r=f(this,t,[{isRemote:!1,type:"local",log:null}]),r.module_="LocalStream",r.userId_=e.userId,r.audio_=e.audio,r.microphoneId_=e.microphoneId,r.video_=e.video,r.cameraId_=e.cameraId,r.facingMode_=e.facingMode,r.screen_=e.screen,r.isAuxiliary_=!!r.screen_,r.screenAudio_=e.screenAudio,r.audioSource_=e.audioSource,r.videoSource_=e.videoSource,r.mirror_=e.mirror,r.client_=[],r.audioMixOption_={filePath:null,startTime:0,replace:!1,loop:!1,repeatCount:1},r.audioMixInfo_={audioMixState:HP.IDLE,audioCtx:null,mediaNode:null,sourceNode:null,buffer:null,destNode:null,gainNode:null,gainValue:.5,startAt:0,pauseAt:0,pauseDur:0,playAutoEnded:!1,totalDur:0},r.mutePackageData=new Uint8Array([255,241,80,128,3,223,252,222,2,0,76,97,118,99,53,56,46,55,53,46,49,48,48,0,66,32,8,193,24,56,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28,255,241,80,128,1,191,252,33,16,4,96,140,28]).buffer,r.muteSendInfo={audioMixState:HP.IDLE,audioCtx:null,mediaNode:null,sourceNode:null,destNode:null},r.screenShareMixInfo={bindStream:null,screenShareAudioNode:null,destNode:null,gainNode:null,gainValue:.5,status:HP.INIT,muteMainAudio:!1},r.videoProfiles_=new Map,r.videoContents=new Map,r.logger.info(r.module_,"new local stream, stream config: ".concat(JSON.stringify(e)));return r}p(t,e);return u(t,[{key:"setMediaStream",value:function e(t){this.mediaStream||(this.mediaStream=new MediaStream),this.mediaStream.addTrack(t)}},{key:"getMediaStream",value:function e(){return this.mediaStream}},{key:"getLocalId",value:function e(){return this.id_}},{key:"initialize",value:async function e(){return await this.initializeImpl()}},{key:"setVideoContentHint",value:function e(t){if("detail"!==t&&"motion"!==t&&"text"!==t){const e=new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"invalid input parameter type");throw this.logger.error(this.module_,"setVideoContentHint fail, errMsg: ".concat(e)),e}const r=this.getVideoTrack();r&&"contentHint"in r?(r.contentHint=t,this.logger.info(this.module_,"set video track contentHint to: ".concat(t))):this.logger.info(this.module_,"no video track or no video contentHint in track")}},{key:"reset",value:async function e(){this.closeImpl();for(const e of this.getHRTCTracks({hasTrack:!0})){const t=e.getTrack();t&&await this.removeTrack(t)}this.tracks[YM.TRACK_TYPE_VIDEO].clear(),this.tracks[YM.TRACK_TYPE_AUDIO].clear()}},{key:"initAuxStreamWithTrack",value:function e(t,r){const n=[];if(t){const e=new AD({streamType:KM.STREAM_TYPE_AUX,trackType:YM.TRACK_TYPE_AUDIO,isRemote:!1,logger:this.logger,resolutionId:this.generateResolutionId(),track:t,event:this.eventEmitter});this.tracks[YM.TRACK_TYPE_AUDIO].set("auxAudio",e),n.push({type:YM.TRACK_TYPE_AUDIO,track:t})}if(r){const e=new AD({streamType:KM.STREAM_TYPE_AUX,trackType:YM.TRACK_TYPE_VIDEO,isRemote:!1,logger:this.logger,resolutionId:this.generateResolutionId(),track:r,event:this.eventEmitter});this.tracks[YM.TRACK_TYPE_VIDEO].set(e.getResolutionId(),e),n.push({type:YM.TRACK_TYPE_VIDEO,track:r})}return this.appendDefaultLocalTrack(this.getMaxResolutionProfile(this.videoProfiles_),this.audioProfile_),new CN(nc.RTC_ERR_CODE_SUCCESS,"",n)}},{key:"initAuxStream",value:async function e(){if(this.audioSource_||this.videoSource_){return this.initAuxStreamWithTrack(this.audioSource_,this.videoSource_)}{var t,r,n,i;const e=new AD({streamType:KM.STREAM_TYPE_AUX,trackType:YM.TRACK_TYPE_VIDEO,isRemote:!1,trackProfile:this.screenProfile_,logger:this.logger,resolutionId:this.generateResolutionId(),event:this.eventEmitter}),o=await e.initScreenShare(this.screenAudio_),a=null===(t=o.find((e=>e.error)))||void 0===t?void 0:t.error;if(a){throw this.logger.error(this.module_,"initAuxStream, fail, errMsg = ".concat(a)),a instanceof oc?new CN(a.getCode(),a.getMsg(),o):a}this.stat.setMediaCaptureSucc(gM.AUX,null===(r=e.getTrack())||void 0===r?void 0:r.label),this.tracks[YM.TRACK_TYPE_VIDEO].set(e.getResolutionId(),e),this.setMediaStream(null===(n=o.find((e=>e.type===YM.TRACK_TYPE_VIDEO&&e.track)))||void 0===n?void 0:n.track),this.setVideoContentHint("detail");const s=null===(i=o.find((e=>e.type===YM.TRACK_TYPE_AUDIO&&e.track)))||void 0===i?void 0:i.track;return s&&this.tracks[YM.TRACK_TYPE_AUDIO].set("auxAudio",new AD({streamType:KM.STREAM_TYPE_AUX,trackType:YM.TRACK_TYPE_AUDIO,isRemote:!1,logger:this.logger,resolutionId:this.generateResolutionId(),track:s,event:this.eventEmitter})),this.auxStreamStopByNativeHandler=()=>{this.close(),this.eventEmitter.removeListener(wP,this.auxStreamStopByNativeHandler)},this.eventEmitter.on(wP,this.auxStreamStopByNativeHandler),new CN(nc.RTC_ERR_CODE_SUCCESS,"",o)}}},{key:"initMainStreamWithCfg",value:async function e(){const t=this.getMaxResolutionProfile(this.videoProfiles_);return await this.addCaptureWithCfg(this.video_,this.audio_,t,this.audioProfile_,$P.main)}},{key:"initMainStream",value:async function e(){return nD.initDeviceChangedNotify(this.eventEmitter,!0),this.on(oM.CameraChanged,(e=>{"REMOVE"===e.state&&this.clearEffectiveDeviceId(e.deviceId,"videoInput")})),this.on(oM.RecordingDeviceChanged,(e=>{"REMOVE"===e.state&&this.client_.length>0&&this.client_[0].getPublishAudioSender()&&(this.startSendMutePackage(),this.clearEffectiveDeviceId(e.deviceId,"audioInput"))})),this.on(IP.CameraCapture,((e,t)=>{this.setCameraCaptureReport(e,t)})),this.audioSource_||this.videoSource_?this.initMainStreamWithTrack(this.audioSource_,this.videoSource_):await this.initMainStreamWithCfg()}},{key:"initializeImpl",value:async function e(){this.logger.info(this.module_,"initializeImpl begin");try{return await this.reset(),this.screen_?await this.initAuxStream():await this.initMainStream()}catch(e){throw this.logger.error(this.module_,"initializeImpl fail, errMsg:".concat(e)),"function"!=typeof e.getMediaCaptureResult&&"function"==typeof e.getCode?new CN(e.getCode(),e.getMsg(),null):e}}},{key:"setCameraCaptureReport",value:function e(t,r){this.client_.forEach((e=>{e.setCameraCaptureReport(t,r)}))}},{key:"addCaptureWithCfg",value:async function e(t,r,n,i,o){this.logger.info(this.module_,"addCaptureWithCfg begin, video:".concat(t,", audio:").concat(r,",")+"camera:".concat(this.getCurrentCameraId(),", microphone:").concat(this.getCurrentMicrophoneId(),",")+"videoProfileInfo:".concat(JSON.stringify(n),", audioProfile:").concat(JSON.stringify(i)));if((this.tracks&&this.tracks[YM.TRACK_TYPE_VIDEO].size)>=2){const e=new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"resolution count can not be greater than ".concat(2));throw this.logger.error(this.module_,"addCaptureWithCfg fail, errMsg is=".concat(e)),e}const a=[];let s,u;t&&(s=new AD({streamType:KM.STREAM_TYPE_MAIN,trackType:YM.TRACK_TYPE_VIDEO,isRemote:!1,trackProfile:n,logger:this.logger,resolutionId:n?n.resolutionId:this.generateResolutionId(),event:this.eventEmitter}),a.push(s.initVideoCapture(this.getCurrentCameraId()||this.facingMode_,o))),r&&(u=new AD({streamType:KM.STREAM_TYPE_MAIN,trackType:YM.TRACK_TYPE_AUDIO,isRemote:!1,trackProfile:i,logger:this.logger,resolutionId:this.generateResolutionId(),event:this.eventEmitter}),a.push(u.initAudioCapture(this.getCurrentMicrophoneId())));const c=await Promise.all(a);let l=null;for(const e of c){if(e.error){l="".concat(l).concat(l?"":";").concat(e.error.getMsg())}else{var f;if(e.type===YM.TRACK_TYPE_AUDIO){this.tracks[YM.TRACK_TYPE_AUDIO].set("mainAudio",u),this.stat.setMediaCaptureSucc(gM.AUDIO,u.getTrack().label)}else{Array.from(Array.from(this.tracks[YM.TRACK_TYPE_VIDEO].values()).values()).some((e=>e.getTrackMuted()))&&s.muteTrack(),this.tracks[YM.TRACK_TYPE_VIDEO].set(s.getResolutionId(),s),this.stat.setMediaCaptureSucc(gM.VIDEO,null===(f=s.getTrack())||void 0===f?void 0:f.label),n&&this.videoProfiles_.set(s.getResolutionId(),n),this.videoContents.set(s.getResolutionId(),o)}this.setMediaStream(e.track),this.appendDefaultLocalTrack(n,i),this.updateEffectiveDeviceInfo(e)}}if(l){const e=new CN(nc.RTC_ERR_CODE_INVALID_OPERATION,"browser initialize capture fail, ".concat(l),c);throw this.logger.error(this.module_,"addCaptureWithCfg fail, errMsg= ".concat(e)),e}return this.logger.info(this.module_,"addCaptureWithCfg success, camera:".concat(this.getCurrentCameraId(),", microphone:").concat(this.getCurrentMicrophoneId())),new CN(nc.RTC_ERR_CODE_SUCCESS,"",c)}},{key:"appendDefaultLocalTrack",value:function e(t,r){if(!this.getAnyAudioHRTCTrack()){const e=new AD({streamType:KM.STREAM_TYPE_MAIN,trackType:YM.TRACK_TYPE_AUDIO,isRemote:!1,trackProfile:r,logger:this.logger,resolutionId:this.generateResolutionId(),event:this.eventEmitter});e.setTrackContentType($P.main),this.tracks[YM.TRACK_TYPE_AUDIO].set("mainAudio",e),this.logger.info(this.module_,"addDefaultEmptyTrack success, audioTrack:".concat(e.getResolutionId(),",")+"track profile:".concat(JSON.stringify(e.getTrackProfile())))}if(!this.getAnyVideoHRTCTrack(null==t?void 0:t.resolutionId)){const e=new AD({streamType:KM.STREAM_TYPE_MAIN,trackType:YM.TRACK_TYPE_VIDEO,isRemote:!1,trackProfile:t,logger:this.logger,resolutionId:t?t.resolutionId:this.generateResolutionId(),event:this.eventEmitter});e.setTrackContentType($P.main),this.tracks[YM.TRACK_TYPE_VIDEO].set(e.getResolutionId(),e),this.logger.info(this.module_,"addDefaultEmptyTrack success, videoTrack:".concat(e.getResolutionId(),",")+"track profile:".concat(JSON.stringify(e.getTrackProfile())))}}},{key:"generateResolutionId",value:function e(){return this.id_+"-"+yC.generateRandomId(8,16)}},{key:"initMainStreamWithTrack",value:function e(t,r){const n=[];if(t){const e=new AD({streamType:KM.STREAM_TYPE_MAIN,trackType:YM.TRACK_TYPE_AUDIO,isRemote:!1,logger:this.logger,resolutionId:this.generateResolutionId(),track:t,event:this.eventEmitter});this.tracks[YM.TRACK_TYPE_AUDIO].set("mainAudio",e),n.push({type:YM.TRACK_TYPE_AUDIO,track:t})}if(r){const e=new AD({streamType:KM.STREAM_TYPE_MAIN,trackType:YM.TRACK_TYPE_VIDEO,isRemote:!1,logger:this.logger,resolutionId:this.generateResolutionId(),track:r,event:this.eventEmitter});this.tracks[YM.TRACK_TYPE_VIDEO].set(e.getResolutionId(),e),n.push({type:YM.TRACK_TYPE_VIDEO,track:r})}return this.appendDefaultLocalTrack(this.getMaxResolutionProfile(this.videoProfiles_),this.audioProfile_),new CN(nc.RTC_ERR_CODE_SUCCESS,"",n)}},{key:"addAudioTrackCapture",value:async function e(t){return await this.addAudioTrackCaptureImpl(t)}},{key:"addAudioTrackCaptureImpl",value:async function e(t){var r;this.logger.info(this.module_,"addAudioTrackCaptureImpl, microphoneId: ".concat(t));const n=new AD({streamType:KM.STREAM_TYPE_MAIN,trackType:YM.TRACK_TYPE_AUDIO,isRemote:!1,trackProfile:this.audioProfile_,logger:this.logger,resolutionId:this.generateResolutionId(),event:this.eventEmitter}),i=await n.initAudioCapture(t||this.microphoneId_);if(i.error){throw this.logger.error(this.module_,"addAudioTrackCaptureImpl fail, errMsg: ".concat(i.error)),i.error}return this.stat.setMediaCaptureSucc(gM.AUDIO,null===(r=i.track)||void 0===r?void 0:r.label),this.updateEffectiveDeviceInfo(i),await this.addTrackImpl(i.track),i.track}},{key:"addVideoTrackCapture",value:async function e(t){return await this.addVideoTrackCaptureImpl(t)}},{key:"addVideoTrackCaptureImpl",value:async function e(t){var r;this.logger.info(this.module_,"addVideoTrackCaptureImpl, option: ".concat(JSON.stringify(t)));const n=null==t?void 0:t.resolutionId,i=n?this.videoProfiles_.get(n):this.getMaxResolutionProfile(this.videoProfiles_),o=new AD({streamType:KM.STREAM_TYPE_MAIN,trackType:YM.TRACK_TYPE_VIDEO,isRemote:!1,trackProfile:i,logger:this.logger,resolutionId:this.generateResolutionId(),event:this.eventEmitter}),a=(null==t?void 0:t.cameraId)||this.cameraId_||this.facingMode_,s=await o.initVideoCapture(a,n?this.videoContents.get(n):$P.main);if(s.error){throw this.logger.error(this.module_,"addVideoTrackCaptureImpl fail, errMsg: ".concat(s.error)),s.error}return this.updateEffectiveDeviceInfo(s),this.stat.setMediaCaptureSucc(gM.AUDIO,null===(r=s.track)||void 0===r?void 0:r.label),await this.addTrackImpl(s.track,n),s.track}},{key:"updateEffectiveDeviceInfo",value:function e(t){t.type===YM.TRACK_TYPE_VIDEO?(this.effectiveCameraId_=t.track.getSettings().deviceId,this.logger.info(this.module_,"updateEffectiveDeviceInfo, effectiveCameraId_: ".concat(this.effectiveCameraId_))):t.type===YM.TRACK_TYPE_AUDIO&&(this.effectiveMicrophoneId_=t.track.getSettings().deviceId,this.logger.info(this.module_,"updateEffectiveDeviceInfo, effectiveMicrophoneId_: ".concat(this.effectiveMicrophoneId_)))}},{key:"getCurrentCameraId",value:function e(){return this.cameraId_||this.effectiveCameraId_}},{key:"getCurrentMicrophoneId",value:function e(){return this.microphoneId_||this.effectiveMicrophoneId_}},{key:"getAudioSendBitrate",value:function e(){const t=this.getAudioHRTCTrack();return t?t.getTrackProfile().bitrate:0}},{key:"isAudioMuted",value:function e(){const t=this.getAudioHRTCTrack();return!t||t.getTrackMuted()}},{key:"isVideoMuted",value:function e(t){const r=this.getVideoHRTCTrack(t);return!r||r.getTrackMuted()}},{key:"setAudioProfile",value:function e(t){this.setAudioProfileImpl(t)}},{key:"setAudioProfileImpl",value:function e(t){const r=this.getAudioHRTCTrack();this.audioProfile_=t,null==r||r.setTrackProfile(t)}},{key:"getVideoMaxBitrate",value:function e(t){var r;const n=null===(r=this.getVideoHRTCTrack(t))||void 0===r?void 0:r.getTrackProfile();return n?n.maxBitrate:0}},{key:"getVideoMaxSendBitrate",value:function e(t){var r;const n=null===(r=this.getVideoHRTCTrack(t))||void 0===r?void 0:r.getTrackProfile();return n?n.maxBitrate<35e4?n.maxBitrate-2e4:n.maxBitrate:0}},{key:"getVideoMiniBitrate",value:function e(t){var r;const n=null===(r=this.getVideoHRTCTrack(t))||void 0===r?void 0:r.getTrackProfile();return n?n.minBitrate:0}},{key:"getVideoWidth",value:function e(t){var r;const n=null===(r=this.getVideoHRTCTrack(t))||void 0===r?void 0:r.getTrackProfile();return n?n.width:0}},{key:"getVideoHeight",value:function e(t){var r;const n=null===(r=this.getVideoHRTCTrack(t))||void 0===r?void 0:r.getTrackProfile();return n?n.height:0}},{key:"getVideoFrameRate",value:function e(t){var r;const n=null===(r=this.getVideoHRTCTrack(t))||void 0===r?void 0:r.getTrackProfile();return n?n.frameRate:0}},{key:"getVideoProfile",value:function e(t){var r;return null===(r=this.getVideoHRTCTrack(t))||void 0===r?void 0:r.getTrackProfile()}},{key:"setVideoProfile",value:async function e(t,r){await this.setVideoProfileImpl(t,r)}},{key:"addResolution",value:async function e(t,r){return await this.addResolutionImpl(t,r)}},{key:"addResolutionImpl",value:async function e(t,r){try{if(this.videoSource_||this.audioSource_){throw new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"localStream created by videoSource or audioSource")}const e=tx.formatVideoProfile(t),n={resolutionId:this.generateResolutionId(),width:e.width,height:e.height,frameRate:e.frameRate,minBitrate:e.minBitrate,maxBitrate:e.maxBitrate};this.logger.info(this.module_,"addResolutionImpl begin, profile:".concat(JSON.stringify(n)," ")),await this.addCaptureWithCfg(!0,r,n,this.audioProfile_,$P.slides);for(const e of this.client_){await e.publish(this)}return this.logger.info(this.module_,"addResolutionImpl success"),n}catch(e){throw this.logger.error(this.module_,"addResolutionImpl fail, errMsg:".concat(e)),"function"!=typeof e.getMediaCaptureResult?new CN(e.getCode(),e.getMsg(),null):e}}},{key:"removeResolution",value:async function e(t){return this.removeResolutionImpl(t)}},{key:"removeResolutionImpl",value:async function e(t){this.logger.info(this.module_,"removeResolutionImpl begin, resolutionId:".concat(t));const r=this.getVideoHRTCTrack(t);if(!r){throw this.logger.error(this.module_,"removeResolutionImpl, resolutionId:".concat(t," not found ")),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"resolutionId:".concat(t," not found"))}this.tracks[YM.TRACK_TYPE_VIDEO].delete(t),r.removeTrack();const n=this.getHRTCTracks({mediaType:YM.TRACK_TYPE_VIDEO});n&&0!==n.length||this.tracks[YM.TRACK_TYPE_AUDIO].delete("mainAudio");for(const e of this.client_){await e.publish(this)}this.logger.info(this.module_,"removeResolutionImpl success, resolutionId:".concat(t))}},{key:"setVideoProfileImpl",value:async function e(t,r){var n;if(this.logger.info(this.module_,"setVideoProfile begin, profile: ".concat(JSON.stringify(t))),"string"!=typeof t&&(null==t?void 0:t.maxBitrate)<64e3){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"maxBitrate cannot be less than 64000")}const i=this.getVideoHRTCTrack(r),o=tx.formatVideoProfile(t);if(!i){const e=this.generateResolutionId();return void this.videoProfiles_.set(e,o)}const a={};yC.isSupportConstraints("aspectRatio")&&(a.aspectRatio={ideal:o.width/o.height}),a.width={ideal:o.width},a.height={ideal:o.height},a.frameRate={ideal:o.frameRate},await(null===(n=i.getTrack())||void 0===n?void 0:n.applyConstraints(a).then((()=>{this.logger.info(this.module_,"setVideoProfile, constraint: ".concat(JSON.stringify(i.getTrack().getConstraints()))),i.setLocalProfileByTrack(i.getTrack(),o),this.videoProfiles_.set(i.getResolutionId(),o),this.client_.forEach((async e=>{if(e){const t=e.getMainStreamSenderByTrack(i.getTrackId());await e.setSendBitrate(t,this.getVideoMaxSendBitrate(i.getResolutionId()),this.isAuxiliary()?"auxVideo":"mainVideo"),await e.publish(this)}}))})).catch((e=>{throw tx.handleCaptureErrorUtil(e)})))}},{key:"getScreenSendBitrate",value:function e(){const t=this.getVideoHRTCTrack();return t?t.getTrackProfile().bitrate:0}},{key:"getScreenWidth",value:function e(){const t=this.getVideoHRTCTrack();return t?t.getTrackProfile().width:0}},{key:"getScreenHeight",value:function e(){const t=this.getVideoHRTCTrack();return t?t.getTrackProfile().height:0}},{key:"getScreenFrameRate",value:function e(){const t=this.getVideoHRTCTrack();return t?t.getTrackProfile().frameRate:0}},{key:"setScreenProfile",value:function e(t){this.setScreenProfileImpl(t)}},{key:"setScreenProfileImpl",value:function e(t){const r=this.getVideoHRTCTrack();this.screenProfile_=t,r&&r.setTrackProfile(t)}},{key:"switchVideoDevice",value:async function e(t){var r;this.logger.info(this.module_,"switchVideoDevice begin, cameraId is ".concat(t));const n=this.getHRTCTracks({hasTrack:!0,mediaType:YM.TRACK_TYPE_VIDEO});if(0===n.length){return void this.logger.error(this.module_,"switchVideoDevice failed, no video tracks")}const i=[];for(const e of n){var o;null===(o=this.mediaStream)||void 0===o||o.removeTrack(e.getTrack()),e.setTrackProfile(this.videoProfiles_.get(e.getResolutionId())),i.push(e.initVideoCapture(t,e.getTrackContentType()))}const a=await Promise.all(i),s=[];for(const e of a){var u,c,l;if(e.error){throw e.error}null===(u=this.mediaStream)||void 0===u||u.addTrack(e.track);const t=e.track.getConstraints(),r=e.track.getSettings(),i="number"==typeof t.width?t.width:(null===(c=t.width)||void 0===c?void 0:c.ideal)||r.width,o="number"==typeof t.height?t.height:(null===(l=t.height)||void 0===l?void 0:l.ideal)||r.height,a=n.find((e=>{const t=e.getTrackProfile();return t.width===i&&t.height===o||t.width===o&&t.height===i}));for(const t of this.client_){const r=t.getMainStreamSenderByTrack(null==a?void 0:a.getTrackId());r&&s.push(r.replaceTrack(e.track))}}if(a.length&&(this.cameraId_=t,this.effectiveCameraId_=t),0!==s.length){this.stat.setMediaCaptureSucc(gM.VIDEO,null===(r=a[0].track)||void 0===r?void 0:r.label),await Promise.all(s);for(const e of this.client_){await e.publish(this)}this.logger.info(this.module_,"switchVideoDevice success")}else{this.logger.debug(this.module_,"switchVideoDevice, no need replace sender track")}}},{key:"switchAudioDevice",value:async function e(t){var r,n,i;this.logger.info(this.module_,"switchAudioDevice begin, microphoneId is ".concat(t));const o=this.getAudioHRTCTrack();if(!o){return void this.logger.error(this.module_,"switchAudioDevice failed, no audio tracks")}null===(r=this.mediaStream)||void 0===r||r.removeTrack(o.getTrack());const a=await o.initAudioCapture(t);if(a.error){throw a.error}this.stat.setMediaCaptureSucc(gM.AUDIO,null===(n=a.track)||void 0===n?void 0:n.label),this.replaceMixAudioTrack(a.track),null===(i=this.mediaStream)||void 0===i||i.addTrack(a.track);const s=[];this.client_.forEach((e=>{const t=e.getPublishAudioSender();t&&s.push(t.replaceTrack(this.getPublishAudioTrack()))})),0===s.length&&this.logger.info(this.module_,"switchAudioDevice, no need replace sender track"),this.microphoneId_=t,this.effectiveMicrophoneId_=t,await Promise.all(s)}},{key:"switchDevice",value:async function e(t,r){return await this.switchDeviceImpl(t,r)}},{key:"switchDeviceImpl",value:async function e(t,r){return new Promise(((e,n)=>{if(this.logger.info(this.module_,"switchDeviceImpl begin, type:".concat(t,", deviceId:").concat(r)),t===YM.TRACK_TYPE_AUDIO){if("default"!==r&&(this.effectiveMicrophoneId_===r||this.audioSource_)){return void e()}this.switchAudioDevice(r).then((()=>{this.stopSendMutePackage(),this.stat.reportSwitchDevicesInfo(vM.INPUT_AUDIO,r,OM.SUCCESS),e()})).catch((e=>{this.stat.reportSwitchDevicesInfo(vM.INPUT_AUDIO,r,OM.FAIL),this.logger.error(this.module_,"switchDevice failed, errmsg= ".concat(e)),n(new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR))}))}else if(t===YM.TRACK_TYPE_VIDEO){if(this.effectiveCameraId_===r||this.videoSource_){return void e()}this.switchVideoDevice(r).then((()=>{this.stat.reportSwitchDevicesInfo(vM.INPUT_VIDEO,r,OM.SUCCESS),e()})).catch((e=>{this.stat.reportSwitchDevicesInfo(vM.INPUT_VIDEO,r,OM.FAIL),this.logger.error(this.module_,"switchDevice failed, errmsg= ".concat(e)),n(new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR))}))}else{n(new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"invalid media type:".concat(t)))}}))}},{key:"addTrack",value:async function e(t,r){return await this.addTrackImpl(t,r)}},{key:"addTrackImpl",value:async function e(t,r){var n;if(!t){throw this.logger.error(this.module_,"addTrack, track is null"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"track is null")}if(this.logger.info(this.module_,"addTrackImpl begin, resolutionId:".concat(r,", physical track id:").concat(t.id)),t.kind===YM.TRACK_TYPE_AUDIO){const e=this.getUninitializedAudioHRTCTrack();if(!e){throw this.logger.error(this.module_,"addTrackImpl failed, audio track already exist"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"audio track already exist")}{await e.replaceTrack(t),this.replaceMixAudioTrack(t);const n=this.getAnyVideoHRTCTrack(r),i=null!=n&&n.isPlaying()?n:null;i&&await this.play(i.getElementId(),{objectFit:i.getObjectFit(),muted:i.getTrackMuted(),resolutionId:i.getResolutionId()}),this.logger.info(this.module_,"addTrackImpl success , track type is audio,"+"physical track id:".concat(t.id))}}else{const e=this.getUninitializedVideoHRTCTrack(r);if(!e){throw this.logger.error(this.module_,"addTrackImpl failed, video track already exist"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"video track already exist")}{await e.replaceTrack(t);const r=this.getAnyAudioHRTCTrack(),n=null!=r&&r.isPlaying()?r:null;n&&await this.play(n.getElementId(),{objectFit:n.getObjectFit(),muted:n.getTrackMuted(),resolutionId:null}),this.logger.info(this.module_,"addTrackImpl success , track type is video,"+"physical track id:".concat(t.id))}}null===(n=this.mediaStream)||void 0===n||n.addTrack(t);for(const e of this.client_){e&&await e.publish(this)}}},{key:"removeTrack",value:async function e(t){return await this.removeTrackImpl(t)}},{key:"removeTrackImpl",value:async function e(t){var r;if(!t){throw this.logger.error(this.module_,"removeTrack, track is null"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"track is null")}if(t.kind===YM.TRACK_TYPE_AUDIO){for(const[e,r]of this.tracks[YM.TRACK_TYPE_AUDIO]){var n;t.id===(null==r||null===(n=r.getTrack())||void 0===n?void 0:n.id)&&(r.removeTrack(),this.tracks[YM.TRACK_TYPE_AUDIO].set(e,r),this.logger.info(this.module_,"removeTrackImpl success , track type is ".concat(r.getTrackType(),",")+"physical track id:".concat(t.id)))}}else{for(const[e,r]of this.tracks[YM.TRACK_TYPE_VIDEO]){var i;t.id===(null==r||null===(i=r.getTrack())||void 0===i?void 0:i.id)&&(r.removeTrack(),this.tracks[YM.TRACK_TYPE_VIDEO].set(e,r),this.logger.info(this.module_,"removeTrackImpl success , track type is ".concat(r.getTrackType(),",")+"physical track id:".concat(t.id)))}}null===(r=this.mediaStream)||void 0===r||r.removeTrack(t);for(const e of this.client_){e&&await e.publish(this)}}},{key:"replaceTrack",value:async function e(t,r,n){return await this.replaceTrackImpl(t,r,n)}},{key:"replaceTrackImpl",value:async function e(t,r,n){var i,o,a;if(!t){throw this.logger.error(this.module_,"replaceTrack, track is null"),new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}let s;r===YM.TRACK_TYPE_AUDIO?(s=this.getAudioHRTCTrack(),this.replaceMixAudioTrack(t)):r===YM.TRACK_TYPE_VIDEO&&(s=this.getVideoHRTCTrack(n)),null===(i=this.mediaStream)||void 0===i||i.removeTrack(s.getTrack()),null===(o=this.mediaStream)||void 0===o||o.addTrack(t),await(null===(a=s)||void 0===a?void 0:a.replaceTrack(t));for(const e of this.client_){e&&await e.publish(this)}}},{key:"addClient",value:function e(t){this.client_=this.client_.filter((e=>e&&e.getSymbol()!==t.getSymbol())),t&&this.client_.push(t)}},{key:"removeClient",value:function e(t){t&&-1!==this.client_.indexOf(t)&&this.client_.splice(this.client_.indexOf(t),1)}},{key:"muteAudio",value:function e(){return!!n(t,"muteAudio",this,3)([])&&(this.stat.reportAudioMuteInfo(1,!0),this.client_.forEach((e=>{e.changeStreamMuteStatusNotify(!0,YM.TRACK_TYPE_AUDIO),e.reportAudioMuteInfo(1,!0)})),!0)}},{key:"muteVideo",value:function e(){return!!n(t,"muteVideo",this,3)([])&&(this.stat.reportVideoMuteInfo(this.userId_,!0),this.client_.forEach((e=>{var t;const r=(null===(t=this.getHRTCTracks({hasTrack:!0,mediaType:YM.TRACK_TYPE_VIDEO}))||void 0===t?void 0:t.length)>1;e.changeStreamMuteStatusNotify(!0,YM.TRACK_TYPE_VIDEO,this.isAuxiliary_?$P.desktop:$P.main,r),e.reportVideoMuteInfo(this.userId_,!0)})),!0)}},{key:"unmuteAudio",value:function e(){return!!n(t,"unmuteAudio",this,3)([])&&(this.stat.reportAudioMuteInfo(1,!1),this.client_.forEach((e=>{e.changeStreamMuteStatusNotify(!1,YM.TRACK_TYPE_AUDIO),e.reportAudioMuteInfo(1,!1)})),!0)}},{key:"unmuteVideo",value:function e(){return!!n(t,"unmuteVideo",this,3)([])&&(this.stat.reportVideoMuteInfo(this.userId_,!1),this.client_.forEach((e=>{var t;const r=(null===(t=this.getHRTCTracks({hasTrack:!0,mediaType:YM.TRACK_TYPE_VIDEO}))||void 0===t?void 0:t.length)>1;e.changeStreamMuteStatusNotify(!1,YM.TRACK_TYPE_VIDEO,this.isAuxiliary_?$P.desktop:$P.main,r),e.reportVideoMuteInfo(this.userId_,!1)})),!0)}},{key:"closeImpl",value:function e(r){!1!==(null==r?void 0:r.audio)&&(this.closeScreenShareAudio(),this.isAuxiliary()||this.audioMixInfo_.playAutoEnded||this.audioMixInfo_.audioMixState===HP.IDLE||this.audioMixInfo_.audioMixState===HP.INIT||this.stopAudioMixing()),n(t,"closeImpl",this,3)([r])}},{key:"clearEffectiveDeviceId",value:function e(t,r){this.logger.info(this.module_,"clearEffectiveDeviceId, Input:".concat(t,", type:").concat(r)),"audioInput"===r?this.effectiveMicrophoneId_===t&&(this.effectiveMicrophoneId_="",this.logger.info(this.module_,"clearEffectiveDeviceId, audioInput:".concat(t))):"videoInput"===r&&this.effectiveCameraId_===t&&(this.effectiveCameraId_="",this.logger.info(this.module_,"clearEffectiveDeviceId, videoInput:".concat(t)))}},{key:"startSendMutePackage",value:function e(){var t;this.logger.debug(this.module_,"start SendMutePackage");const r=null===(t=this.getAudioHRTCTrack())||void 0===t?void 0:t.getTrack();if(!r||"ended"!==r.readyState){return void this.logger.info(this.module_,"removed device is not in use, startSendMutePackage end")}if(this.muteSendInfo.audioMixState!=HP.IDLE||!this.client_[0].getPublishAudioSender()){return void this.logger.info(this.module_,"the condition is not met, startSendMutePackage end")}this.muteSendInfo.audioCtx||(this.muteSendInfo.audioCtx=new AudioContext);let n=this.mutePackageData.slice(0);this.muteSendInfo.audioCtx.decodeAudioData(n,(e=>{var t;this.muteSendInfo.destNode=this.muteSendInfo.audioCtx.createMediaStreamDestination(),this.muteSendInfo.sourceNode=this.muteSendInfo.audioCtx.createBufferSource(),this.muteSendInfo.sourceNode.buffer=e,this.muteSendInfo.sourceNode.connect(this.muteSendInfo.destNode),this.muteSendInfo.sourceNode.loop=!0,this.muteSendInfo.sourceNode.start(0,0),this.muteSendInfo.audioMixState=HP.PLAY,null===(t=this.client_[0].getPublishAudioSender())||void 0===t||t.replaceTrack(this.muteSendInfo.destNode.stream.getAudioTracks()[0]),this.logger.info(this.module_,"startSendMutePackage success"),n=null}),(()=>{this.muteSendInfo.audioMixState=HP.IDLE,this.logger.info(this.module_,"startSendMutePackage failed"),n=null}))}},{key:"stopSendMutePackage",value:function e(){var t,r,n;this.logger.info(this.module_,"stopSendMutePackage begin"),this.muteSendInfo.audioMixState===HP.PLAY?(null===(t=this.muteSendInfo.mediaNode)||void 0===t||t.connect(this.muteSendInfo.destNode),null===(r=this.muteSendInfo.sourceNode)||void 0===r||r.stop(),null===(n=this.muteSendInfo.sourceNode)||void 0===n||n.disconnect(),this.muteSendInfo.sourceNode=null,this.muteSendInfo.audioMixState=HP.IDLE):this.logger.info(this.module_,"stopSendMutePackage end")}},{key:"bindScreenAudio2RelatedStream",value:function e(t,r){this.bindScreenAudio2RelatedStreamImpl(t,r)}},{key:"bindScreenAudio2RelatedStreamImpl",value:function e(t,r){if(this.logger.info(this.module_,"bindScreenAudio2RelatedStreamImpl, streamId: ".concat(t.getId())),r&&!t.hasAudioTrack()){const e=this.getAudioTrack();if(e){const r=new AD({streamType:KM.STREAM_TYPE_MAIN,trackType:YM.TRACK_TYPE_AUDIO,isRemote:!1,logger:this.logger,resolutionId:this.generateResolutionId(),track:e,event:this.eventEmitter});t.tracks[YM.TRACK_TYPE_AUDIO].set("mainAudio",r)}}this.screenShareMixInfo.bindStream=t,t.screenShareMixInfo.bindStream=this;this.mixScreenAudio(r)||(this.screenShareMixInfo.bindStream=null,t.screenShareMixInfo.bindStream=null)}},{key:"mixScreenAudio",value:function e(){var t;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.screenShareMixInfo.bindStream;if(!this.isAuxiliary()||null==n||!n.getAudioHRTCTrack()||!this.getAudioHRTCTrack()){return this.logger.error(this.module_,"mixScreenAudio2MainStreamAudio failed, isAuxiliary: ".concat(this.isAuxiliary()," ,main stream or audio track is null")),!1}if(this.screenShareMixInfo.status=HP.PLAY,!n.audioMixInfo_.audioCtx){var i;n.audioMixInfo_.audioCtx=new AudioContext,n.audioMixInfo_.destNode=n.audioMixInfo_.audioCtx.createMediaStreamDestination();const e=null===(i=n.getAudioHRTCTrack())||void 0===i?void 0:i.getTrack();e&&(n.audioMixInfo_.mediaNode=n.audioMixInfo_.audioCtx.createMediaStreamSource(new MediaStream([e])),n.audioMixInfo_.mediaNode.connect(n.audioMixInfo_.destNode))}r&&(n.audioMixInfo_.mediaNode.disconnect(n.screenShareMixInfo.destNode),this.logger.info(this.module_,"mixScreenAudio2MainStreamAudio, only play screen share audio stream"));const o=null===(t=this.getAudioHRTCTrack())||void 0===t?void 0:t.getTrack();return this.screenShareMixInfo.screenShareAudioNode=n.audioMixInfo_.audioCtx.createMediaStreamSource(new MediaStream([o])),this.screenShareMixInfo.destNode=n.audioMixInfo_.destNode,this.screenShareMixInfo.gainNode=n.audioMixInfo_.audioCtx.createGain(),this.screenShareMixInfo.gainNode.gain.value=this.screenShareMixInfo.gainValue,this.screenShareMixInfo.screenShareAudioNode.connect(this.screenShareMixInfo.gainNode),this.screenShareMixInfo.gainNode.connect(this.screenShareMixInfo.destNode),this.screenShareMixInfo.muteMainAudio=r,!0}},{key:"getPublishAudioTrack",value:function e(){var r;if(this.isAuxiliary()){if(this.screenShareMixInfo.destNode&&this.screenShareMixInfo.destNode.stream){const e=this.screenShareMixInfo.destNode.stream.getAudioTracks();if(e&&e.length>0){return e[0]}}}else{const e=this.screenShareMixInfo.bindStream;if(e){const t=e.client_.length>0&&e.client_[0].getPublishVideoSender(KM.STREAM_TYPE_AUX).length,r=this.audioMixInfo_.audioMixState===HP.PAUSE||this.audioMixInfo_.audioMixState===HP.PLAY;if((t||r)&&this.audioMixInfo_.destNode&&this.audioMixInfo_.destNode.stream){const e=this.audioMixInfo_.destNode.stream.getAudioTracks();if(e&&e.length>0){return e[0]}}}else if(this.audioMixInfo_.destNode&&this.audioMixInfo_.destNode.stream){const e=this.audioMixInfo_.destNode.stream.getAudioTracks();if(e&&e.length>0){return e[0]}}}return null===(r=n(t,"getAudioHRTCTrack",this,3)([]))||void 0===r?void 0:r.getTrack()}},{key:"resumeMixScreenAudio",value:async function e(){const t=this.screenShareMixInfo.bindStream;if(!(this.isAuxiliary()&&t&&this.screenShareMixInfo.gainNode&&this.screenShareMixInfo.destNode)){return void this.logger.info(this.module_,"cannot resumeMixScreenAudio, isAuxiliary: ".concat(this.isAuxiliary()))}this.screenShareMixInfo.gainNode.connect(this.screenShareMixInfo.destNode);const r=t.client_.length>0&&t.client_[0].getPublishAudioSender(),n=this.client_.length>0&&this.client_[0].getPublishVideoSender(KM.STREAM_TYPE_AUX).length;r&&n&&await t.client_[0].getPublishAudioSender().replaceTrack(this.getPublishAudioTrack())}},{key:"stopMixScreenAudio",value:async function e(){this.screenShareMixInfo.gainNode&&this.screenShareMixInfo.destNode?this.screenShareMixInfo.gainNode.disconnect(this.screenShareMixInfo.destNode):this.logger.info(this.module_,"stopScreenAudio gainNode or destNode is null")}},{key:"setAudioVolume",value:function e(r){if(this.isAuxiliary()){if(!this.screenShareMixInfo.bindStream||this.screenShareMixInfo.status!==HP.PLAY){return void this.logger.error(this.module_,"setScreenAudioVolume failed for play status error")}const e=r/100;this.logger.info(this.module_,"setScreenAudioVolume: "+e),this.screenShareMixInfo.gainNode.gain.value=e,this.screenShareMixInfo.gainValue=e}else{n(t,"setAudioVolume",this,3)([r])}}},{key:"closeScreenShareAudio",value:function e(){if(this.isAuxiliary()){this.screenShareMixInfo.gainNode&&this.screenShareMixInfo.gainNode.disconnect(),this.screenShareMixInfo.screenShareAudioNode&&this.screenShareMixInfo.screenShareAudioNode.disconnect(),this.screenShareMixInfo.gainNode=null,this.screenShareMixInfo.gainValue=.5,this.screenShareMixInfo.screenShareAudioNode=null,this.screenShareMixInfo.bindStream=null,this.screenShareMixInfo.status=HP.INIT}else{const e=this.screenShareMixInfo.bindStream;if(!e){return void this.logger.debug(this.module_,"closeScreenShareAudio, no need closeScreenShareAudio, aux stream is null")}e.closeScreenShareAudio(),this.screenShareMixInfo.bindStream=null}}},{key:"startAudioMixing",value:async function e(t){await this.startAudioMixingImpl(t),this.eventEmitter.emit(CP),this.logger.info(this.module_,"emit ".concat(CP," at startAudioMixing"))}},{key:"startAudioMixingImpl",value:async function e(t){var r,n;if(this.logger.info(this.module_,"startAudioMixing start at: "+t.startTime),this.checkAudioMixingParameter(),this.audioMixInfo_.audioMixState===HP.IDLE&&this.initIdleAudioMixInfo(),this.audioMixInfo_.audioMixState!==HP.INIT){throw this.logger.error(this.module_,"startAudioMixing status: ".concat(this.audioMixInfo_.audioMixState)),new oc(nc.RTC_ERR_CODE_STATUS_ERROR,"startAudioMixing status: ".concat(this.audioMixInfo_.audioMixState))}(this.setAudioMixOption(t),this.audioMixOption_.replace)?this.logger.info(this.module_,"startAudioMixing: replace"):null===(n=this.audioMixInfo_.mediaNode)||void 0===n||n.connect(this.audioMixInfo_.destNode);await(null===(r=this.client_[0].getPublishAudioSender())||void 0===r?void 0:r.replaceTrack(this.audioMixInfo_.destNode.stream.getAudioTracks()[0]));try{const e=await sD.fetch(this.audioMixOption_.filePath);await this.audioMixInfo_.audioCtx.decodeAudioData(e.data,(e=>{this.audioMixInfo_.startAt=yC.getCurrentTimestamp(),this.audioMixInfo_.pauseAt=0,this.audioMixInfo_.pauseDur=0,this.audioMixInfo_.playAutoEnded=!1,this.audioMixInfo_.totalDur=0,this.audioMixInfo_.sourceNode=this.audioMixInfo_.audioCtx.createBufferSource(),this.audioMixInfo_.sourceNode.onended=()=>{Math.abs(this.audioMixInfo_.totalDur-(yC.getCurrentTimestamp()-this.audioMixInfo_.startAt-this.audioMixInfo_.pauseDur))<200&&(this.stopAudioMixing(),this.audioMixInfo_.playAutoEnded=!0,this.eventEmitter.emit(TP),this.logger.info(this.module_,"emit ".concat(TP," at startAudioMixingImpl")))},this.audioMixInfo_.sourceNode.buffer=e,this.audioMixInfo_.buffer=e,this.audioMixInfo_.sourceNode.connect(this.audioMixInfo_.gainNode),this.audioMixInfo_.gainNode.connect(this.audioMixInfo_.destNode),this.audioMixInfo_.audioMixState=HP.PLAY,this.logger.info(this.module_,"startAudioMixing, duration: ".concat(this.getAudioMixingDuration())),this.doAudioMixing(),this.logger.info(this.module_,"startAudioMixing end")}),(e=>{throw this.logger.error(this.module_,"startAudioMixing, decode audio failed"),e}))}catch(e){var i,o,a;if(this.logger.error(this.module_,"startAudioMixing failed: ".concat(e)),this.audioMixInfo_.audioMixState=HP.INIT,!this.audioMixOption_.replace){null===(a=this.audioMixInfo_.mediaNode)||void 0===a||a.disconnect(this.audioMixInfo_.destNode)}throw null===(i=this.client_[0].getPublishAudioSender())||void 0===i||i.replaceTrack(null===(o=this.getAudioHRTCTrack())||void 0===o?void 0:o.getTrack()),e}}},{key:"doAudioMixing",value:function e(){if(this.audioMixOption_.repeatCount>1){if(this.audioMixOption_.startTime>=this.getAudioMixingDuration()){throw this.logger.error(this.module_,"startAudioMixing: ".concat(this.audioMixInfo_.audioMixState)),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"startAudioMixing: not valid startTime")}this.audioMixInfo_.sourceNode.loop=!0;const e=this.audioMixOption_.repeatCount*this.getAudioMixingDuration()-this.audioMixOption_.startTime;this.audioMixInfo_.totalDur=e,this.audioMixInfo_.sourceNode.start(0,this.audioMixOption_.startTime/1e3,e/1e3)}else{this.audioMixInfo_.sourceNode.loop=this.audioMixOption_.loop,this.audioMixOption_.loop?this.audioMixInfo_.totalDur=1/0:(this.getAudioMixingDuration()<=this.audioMixOption_.startTime&&(this.logger.info(this.module_,"startAudioMixing, bookmark: ".concat(this.audioMixOption_.startTime," invalid and reset to begin.")),this.audioMixOption_.startTime=0),this.audioMixInfo_.totalDur=this.getAudioMixingDuration()-this.audioMixOption_.startTime),this.audioMixInfo_.sourceNode.start(0,this.audioMixOption_.startTime/1e3)}}},{key:"setAudioMixOption",value:function e(t){t.replace||(t.replace=!1),t.startTime||(t.startTime=0),t.loop||(t.loop=!1),t.repeatCount&&!t.loop||(t.repeatCount=0),this.audioMixOption_=t}},{key:"initIdleAudioMixInfo",value:function e(){if(!this.audioMixInfo_.audioCtx){var t;this.audioMixInfo_.audioCtx=new AudioContext,this.audioMixInfo_.destNode=this.audioMixInfo_.audioCtx.createMediaStreamDestination();const e=null===(t=this.getAudioHRTCTrack())||void 0===t?void 0:t.getTrack();e&&(this.audioMixInfo_.mediaNode=this.audioMixInfo_.audioCtx.createMediaStreamSource(new MediaStream([e])))}this.audioMixInfo_.gainNode=this.audioMixInfo_.audioCtx.createGain(),this.audioMixInfo_.gainNode.gain.value=this.audioMixInfo_.gainValue,this.audioMixInfo_.audioMixState=HP.INIT}},{key:"checkAudioMixingParameter",value:function e(){if(!this.client_||this.client_.length<1||!this.client_[0].getPublishAudioSender()){throw this.logger.error(this.module_,"startAudioMixing failed"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"no mediaStream or no client or no audio!")}}},{key:"replaceMixAudioTrack",value:function e(t){if(this.audioMixInfo_.audioMixState!==HP.IDLE&&this.audioMixInfo_.audioMixState!==HP.INIT&&this.audioMixInfo_.mediaNode&&this.audioMixInfo_.destNode){if(this.audioMixOption_.replace){return}return this.audioMixInfo_.mediaNode.disconnect(this.audioMixInfo_.destNode),this.audioMixInfo_.mediaNode=null,this.audioMixInfo_.mediaNode=this.audioMixInfo_.audioCtx.createMediaStreamSource(new MediaStream([t])),void this.audioMixInfo_.mediaNode.connect(this.audioMixInfo_.destNode)}if(!this.isAuxiliary_){var r;const e=null===(r=this.screenShareMixInfo.bindStream)||void 0===r?void 0:r.screenShareMixInfo;e&&!e.muteMainAudio&&this.audioMixInfo_.audioCtx&&this.audioMixInfo_.destNode&&(this.audioMixInfo_.mediaNode=this.audioMixInfo_.audioCtx.createMediaStreamSource(new MediaStream([t])),this.audioMixInfo_.mediaNode.connect(this.audioMixInfo_.destNode))}}},{key:"stopAudioMixing",value:async function e(){await this.stopAudioMixingImpl()}},{key:"stopAudioMixingImpl",value:async function e(){if(!this.audioMixInfo_.playAutoEnded){if(this.audioMixInfo_.audioMixState!==HP.IDLE&&this.audioMixInfo_.audioMixState!==HP.INIT){try{var t,r;await(null===(t=this.client_[0].getPublishAudioSender())||void 0===t?void 0:t.replaceTrack(null===(r=this.getAudioHRTCTrack())||void 0===r?void 0:r.getTrack()))}catch(e){throw this.logger.error(this.module_,"stopAudioMixing: ".concat(this.audioMixInfo_.audioMixState,", errMsg = ").concat(e)),new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}var n;if(this.logger.info(this.module_,"stopAudioMixing"),!this.audioMixOption_.replace&&this.audioMixInfo_.audioMixState!==HP.PAUSE){null===(n=this.audioMixInfo_.mediaNode)||void 0===n||n.disconnect(this.audioMixInfo_.destNode)}this.audioMixInfo_.sourceNode.stop(),this.audioMixInfo_.buffer=null,this.audioMixInfo_.sourceNode.disconnect(),this.audioMixInfo_.gainNode.disconnect(),this.audioMixInfo_.gainValue=.5,this.audioMixInfo_.sourceNode=null,this.audioMixInfo_.playAutoEnded=!1,this.audioMixInfo_.audioMixState=HP.INIT}else{this.logger.info(this.module_,"stopAudioMixing: ".concat(this.audioMixInfo_.audioMixState))}}}},{key:"pauseAudioMixing",value:function e(){this.pauseAudioMixingImpl()}},{key:"pauseAudioMixingImpl",value:function e(){if(this.audioMixInfo_.audioMixState===HP.PLAY){this.logger.info(this.module_,"pauseAudioMixing"),this.audioMixOption_.replace||this.audioMixInfo_.mediaNode.disconnect(this.audioMixInfo_.destNode);try{var t,r;null===(t=this.client_[0].getPublishAudioSender())||void 0===t||t.replaceTrack(null===(r=this.getAudioHRTCTrack())||void 0===r?void 0:r.getTrack())}catch(e){throw this.logger.error(this.module_,"pauseAudioMixing, errMsg = ".concat(e)),new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}this.audioMixInfo_.sourceNode.stop(),this.audioMixInfo_.sourceNode.disconnect(),this.audioMixInfo_.gainNode.disconnect(),this.audioMixInfo_.pauseAt=yC.getCurrentTimestamp(),this.audioMixInfo_.audioMixState=HP.PAUSE}else{this.logger.error(this.module_,"pauseAudioMixing: ".concat(this.audioMixInfo_.audioMixState))}}},{key:"resumeAudioMixing",value:function e(){this.resumeAudioMixingImpl(),this.eventEmitter.emit(CP),this.logger.info(this.module_,"emit ".concat(CP," at resumeAudioMixing"))}},{key:"resumeAudioMixingImpl",value:function e(){if(this.audioMixInfo_.audioMixState!==HP.PAUSE){return void this.logger.error(this.module_,"resumeAudioMixing: ".concat(this.audioMixInfo_.audioMixState))}this.logger.info(this.module_,"resumeAudioMixing"),this.audioMixOption_.replace||this.audioMixInfo_.mediaNode.connect(this.audioMixInfo_.destNode);try{var t;null===(t=this.client_[0].getPublishAudioSender())||void 0===t||t.replaceTrack(this.audioMixInfo_.destNode.stream.getAudioTracks()[0])}catch(e){throw this.logger.error(this.module_,"pauseAudioMixing, errMsg = ".concat(e)),new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}this.audioMixInfo_.sourceNode=this.audioMixInfo_.audioCtx.createBufferSource(),this.audioMixInfo_.sourceNode.onended=()=>{Math.abs(this.audioMixInfo_.totalDur-(yC.getCurrentTimestamp()-this.audioMixInfo_.startAt-this.audioMixInfo_.pauseDur))<200&&(this.stopAudioMixing(),this.audioMixInfo_.playAutoEnded=!0,this.eventEmitter.emit(TP),this.logger.info(this.module_,"emit ".concat(TP," at resumeAudioMixingImpl")))},this.audioMixInfo_.sourceNode.buffer=this.audioMixInfo_.buffer,this.audioMixInfo_.sourceNode.connect(this.audioMixInfo_.gainNode),this.audioMixInfo_.gainNode.connect(this.audioMixInfo_.destNode);const r=this.audioMixInfo_.pauseAt-this.audioMixInfo_.startAt-this.audioMixInfo_.pauseDur,n=r+this.audioMixOption_.startTime;if(this.audioMixOption_.repeatCount>1){this.audioMixInfo_.sourceNode.loop=!0;const e=this.audioMixOption_.repeatCount*this.getAudioMixingDuration()-this.audioMixOption_.startTime-r;this.audioMixInfo_.sourceNode.start(0,n%this.getAudioMixingDuration()/1e3,e/1e3)}else{this.audioMixInfo_.sourceNode.loop=this.audioMixOption_.loop,this.audioMixInfo_.sourceNode.start(0,n%this.getAudioMixingDuration()/1e3)}this.audioMixInfo_.pauseDur=this.audioMixInfo_.pauseDur+yC.getCurrentTimestamp()-this.audioMixInfo_.pauseAt,this.audioMixInfo_.audioMixState=HP.PLAY}},{key:"getAudioMixingCurrentPosition",value:function e(){let t=0;if(this.audioMixInfo_.audioMixState===HP.PAUSE){t=this.audioMixInfo_.pauseAt}else{if(this.audioMixInfo_.audioMixState!==HP.PLAY){return 0}t=yC.getCurrentTimestamp()}const r=this.getAudioMixingDuration();let n=(t-this.audioMixInfo_.startAt-this.audioMixInfo_.pauseDur+this.audioMixOption_.startTime)%r;return n=Math.min(Math.round(n),r),this.logger.debug(this.module_,"getAudioMixingDuration: ".concat(n)),n}},{key:"getAudioMixingDuration",value:function e(){if(this.audioMixInfo_.audioMixState!==HP.PLAY&&this.audioMixInfo_.audioMixState!==HP.PAUSE){return this.logger.error(this.module_,"getAudioMixingDuration failed for play status error"),0}const t=1e3*this.audioMixInfo_.sourceNode.buffer.duration;return this.logger.debug(this.module_,"getAudioMixingDuration: ".concat(t)),t}},{key:"setAudioMixingVolume",value:function e(t){this.setAudioMixingVolumeImpl(t)}},{key:"setAudioMixingVolumeImpl",value:function e(t){if(this.audioMixInfo_.audioMixState!==HP.PLAY&&this.audioMixInfo_.audioMixState!==HP.PAUSE){return void this.logger.error(this.module_,"setAudioMixingVolume failed for play status error")}const r=t/100;this.logger.debug(this.module_,"setAudioMixingVolume: "+r),this.audioMixInfo_.gainValue=r,this.audioMixInfo_.gainNode.gain.value=r}},{key:"setAudioMixingPosition",value:function e(t){this.setAudioMixingPositionImpl(t)}},{key:"setAudioMixingPositionImpl",value:function e(t){if(this.audioMixInfo_.audioMixState!==HP.PLAY&&this.audioMixInfo_.audioMixState!==HP.PAUSE){return void this.logger.error(this.module_,"setAudioMixingPosition failed for play status error")}const r=this.getAudioMixingDuration();if(t<0||t>r){return void this.logger.error(this.module_,"setAudioMixingPosition failed for params error")}let n;this.logger.debug(this.module_,"setAudioMixingPosition: ".concat(t)),this.audioMixInfo_.mediaNode.connect(this.audioMixInfo_.destNode),this.audioMixInfo_.sourceNode.stop(),this.audioMixInfo_.sourceNode.disconnect(),this.audioMixInfo_.gainNode.disconnect(),this.audioMixInfo_.sourceNode=null,n=this.audioMixInfo_.audioMixState===HP.PAUSE?this.audioMixInfo_.pauseAt:yC.getCurrentTimestamp();const i=n-this.audioMixInfo_.startAt-this.audioMixInfo_.pauseDur+this.audioMixOption_.startTime;if(this.audioMixOption_.replace&&(this.audioMixInfo_.mediaNode.disconnect(this.audioMixInfo_.destNode),this.logger.info(this.module_,"resumeAudioMixing: replace")),this.audioMixInfo_.startAt=yC.getCurrentTimestamp(),this.audioMixInfo_.pauseAt=0,this.audioMixInfo_.pauseDur=0,this.audioMixInfo_.playAutoEnded=!1,this.audioMixInfo_.sourceNode=this.audioMixInfo_.audioCtx.createBufferSource(),this.audioMixInfo_.sourceNode.onended=()=>{Math.abs(this.audioMixInfo_.totalDur-(yC.getCurrentTimestamp()-this.audioMixInfo_.startAt-this.audioMixInfo_.pauseDur))<200&&(this.stopAudioMixing(),this.audioMixInfo_.playAutoEnded=!0,this.eventEmitter.emit(TP),this.logger.info(this.module_,"emit ".concat(TP," at setAudioMixingPositionImpl")))},this.audioMixInfo_.sourceNode.buffer=this.audioMixInfo_.buffer,this.audioMixInfo_.sourceNode.connect(this.audioMixInfo_.gainNode),this.audioMixInfo_.gainNode.connect(this.audioMixInfo_.destNode),i>=r&&this.audioMixOption_.repeatCount>1&&(this.audioMixOption_.repeatCount=Math.max(0,this.audioMixOption_.repeatCount-Math.floor(i/r))),this.audioMixOption_.repeatCount>1){this.audioMixInfo_.sourceNode.loop=!0;const e=this.audioMixOption_.repeatCount*r-t;this.audioMixInfo_.totalDur=e,this.audioMixInfo_.sourceNode.start(0,t/1e3,e/1e3)}else{this.audioMixOption_.loop?this.audioMixInfo_.totalDur=1/0:this.audioMixInfo_.totalDur=r-t,this.audioMixInfo_.sourceNode.loop=this.audioMixOption_.loop,this.audioMixInfo_.sourceNode.start(0,t/1e3)}this.audioMixOption_.startTime=t,this.audioMixInfo_.audioMixState===HP.PAUSE&&this.pauseAudioMixing()}},{key:"getStatInfo",value:function e(){return{audioProfile_:this.audioProfile_,videoProfile_:this.videoProfiles_,screenProfile_:this.screenProfile_,audio_:this.audio_,video_:this.video_,cameraId_:this.getCurrentCameraId(),facingMode_:this.facingMode_,microphoneId_:this.getCurrentMicrophoneId(),screen_:this.screen_,screenAudio_:this.screenAudio_}}}])}(AN),s(SN.prototype,"initialize",[nN],Object.getOwnPropertyDescriptor(SN.prototype,"initialize"),SN.prototype),s(SN.prototype,"addAudioTrackCapture",[iN],Object.getOwnPropertyDescriptor(SN.prototype,"addAudioTrackCapture"),SN.prototype),s(SN.prototype,"addVideoTrackCapture",[oN],Object.getOwnPropertyDescriptor(SN.prototype,"addVideoTrackCapture"),SN.prototype),s(SN.prototype,"setAudioProfile",[aN],Object.getOwnPropertyDescriptor(SN.prototype,"setAudioProfile"),SN.prototype),s(SN.prototype,"setVideoProfile",[sN],Object.getOwnPropertyDescriptor(SN.prototype,"setVideoProfile"),SN.prototype),s(SN.prototype,"addResolution",[uN],Object.getOwnPropertyDescriptor(SN.prototype,"addResolution"),SN.prototype),s(SN.prototype,"removeResolution",[cN],Object.getOwnPropertyDescriptor(SN.prototype,"removeResolution"),SN.prototype),s(SN.prototype,"setScreenProfile",[lN],Object.getOwnPropertyDescriptor(SN.prototype,"setScreenProfile"),SN.prototype),s(SN.prototype,"switchDevice",[fN],Object.getOwnPropertyDescriptor(SN.prototype,"switchDevice"),SN.prototype),s(SN.prototype,"addTrack",[dN],Object.getOwnPropertyDescriptor(SN.prototype,"addTrack"),SN.prototype),s(SN.prototype,"removeTrack",[hN],Object.getOwnPropertyDescriptor(SN.prototype,"removeTrack"),SN.prototype),s(SN.prototype,"replaceTrack",[pN],Object.getOwnPropertyDescriptor(SN.prototype,"replaceTrack"),SN.prototype),s(SN.prototype,"bindScreenAudio2RelatedStream",[vN],Object.getOwnPropertyDescriptor(SN.prototype,"bindScreenAudio2RelatedStream"),SN.prototype),s(SN.prototype,"startAudioMixing",[gN],Object.getOwnPropertyDescriptor(SN.prototype,"startAudioMixing"),SN.prototype),s(SN.prototype,"stopAudioMixing",[mN],Object.getOwnPropertyDescriptor(SN.prototype,"stopAudioMixing"),SN.prototype),s(SN.prototype,"pauseAudioMixing",[yN],Object.getOwnPropertyDescriptor(SN.prototype,"pauseAudioMixing"),SN.prototype),s(SN.prototype,"resumeAudioMixing",[_N],Object.getOwnPropertyDescriptor(SN.prototype,"resumeAudioMixing"),SN.prototype),s(SN.prototype,"setAudioMixingVolume",[bN],Object.getOwnPropertyDescriptor(SN.prototype,"setAudioMixingVolume"),SN.prototype),s(SN.prototype,"setAudioMixingPosition",[EN],Object.getOwnPropertyDescriptor(SN.prototype,"setAudioMixingPosition"),SN.prototype),SN);let IN=function(e){function t(e){var r;a(this,t);r=f(this,t,[{isRemote:!0,type:e.type,log:e.log}]),r.userId_=e.userId,r.client_=[],r.client_.push(e.client),r.module_="RemoteStream",r.roomId_=e.roomId;return r}p(t,e);return u(t,[{key:"muteAudio",value:function e(){return!!n(t,"muteAudio",this,3)([])&&(this.stat.reportAudioMuteInfo(2,!0),!0)}},{key:"unmuteAudio",value:function e(){return!!n(t,"unmuteAudio",this,3)([])&&(this.stat.reportAudioMuteInfo(2,!1),!0)}},{key:"getVideoHRTCTrackByTrackId",value:function e(t){let r;for(const e of this.tracks[YM.TRACK_TYPE_VIDEO].values()){if(e.getTrackId()===t){r=e;break}}return r}},{key:"updateRemoteResolutions",value:function e(t,r,n){if(!r){return}const i=this.getHRTCTrackIds({mediaType:YM.TRACK_TYPE_VIDEO}),o=r.map((e=>e.streamId));for(const e of i){if(null==o||!o.includes(e)){for(const r of this.getHRTCTracks({mediaType:YM.TRACK_TYPE_VIDEO})){if((null==r?void 0:r.getTrackId())===e){this.logger.info(this.module_,"updateRemoteResolutions, streamType:".concat(t,",delete track:").concat(e)),this.stop({audio:!1,video:!0,resolutionIds:[e]}),this.removeRemoteVideoTrack(e),this.tracks[YM.TRACK_TYPE_VIDEO].delete(r.getResolutionId());break}}}}for(const e of r){if(i.includes(e.streamId)){var a;null===(a=this.getVideoHRTCTrackByTrackId(e.streamId))||void 0===a||a.updateTrackProfile(e);continue}const r=new AD({streamType:t,trackType:YM.TRACK_TYPE_VIDEO,isRemote:!0,trackProfile:{width:e.width,height:e.height},logger:this.logger,resolutionId:e.streamId,event:this.eventEmitter});r.setTrackId(e.streamId||r.getResolutionId()),this.tracks[YM.TRACK_TYPE_VIDEO].set(e.streamId,r)}const s=this.getAnyAudioHRTCTrack();if(n){if(!s){const e=new AD({streamType:t,trackType:YM.TRACK_TYPE_AUDIO,isRemote:!0,logger:this.logger,resolutionId:this.id_,event:this.eventEmitter});this.tracks[YM.TRACK_TYPE_AUDIO].set("mainAudio",e)}}else{s&&(this.logger.info(this.module_,"updateRemoteResolutions, streamType:".concat(t,",delete audio track")),this.stop({audio:!0,video:!1}),this.removeRemoteAudioTrack(),this.tracks[YM.TRACK_TYPE_AUDIO].delete("mainAudio"))}this.logger.info(this.module_,"updateResolutions success,userId:".concat(this.getUserId(),", streamType:").concat(t,",")+"new resolution is ".concat(this.getHRTCTracksProfileString(),"  hasAudio: ").concat(this.hasAudioTrack()))}},{key:"getHRTCTracksProfileString",value:function e(){const t=this.getHRTCTracks();let r="";return t.forEach((e=>{r=r+e.getTrackId()+":"+JSON.stringify(e.getTrackProfile())+","})),r}},{key:"addRemoteTrack",value:function e(t,r){if(t.kind===YM.TRACK_TYPE_AUDIO){const e=this.getAnyAudioHRTCTrack();null==e||e.replaceTrack(t)}else{const e=Array.from(this.tracks[YM.TRACK_TYPE_VIDEO].values()).find((e=>e.getTrackId()===r));null==e||e.replaceTrack(t)}this.logger.info(this.module_,"addRemoteTrack MediaStreamTrack for trackId:".concat(r," success,userId:").concat(this.getUserId(),", type:").concat(this.getType(),",")+"new resolution is ".concat(this.getHRTCTracksProfileString(),", hasAudio: ").concat(this.hasAudioTrack()))}},{key:"isTracksReady",value:function e(t,r){if(this.isRemote_){let e=!0;if(null!=t&&t.length){const r=this.getHRTCTrackIds();for(const n of t){if(!r.includes(n)||!this.getVideoHRTCTrackByTrackId(n).getTrack()){e=!1;break}}}const n=this.getAudioHRTCTrack(),i=n&&!!n.getTrack(),o=e&&(!r||i);return this.logger.debug(this.module_,"isTracksReady userId:".concat(this.getUserId(),", type:").concat(this.getType(),",")+"result: ".concat(o,",videoTrackIds: ").concat(t,", isVideoReady:").concat(e,", isAudioReady:").concat(i)),o}return!0}},{key:"isTrackReady",value:function e(t,r){if(this.isRemote_){var n;if(t===YM.TRACK_TYPE_VIDEO){return!(null===(n=this.getVideoHRTCTrackByTrackId(r))||void 0===n||!n.getTrack())}return!!this.getAudioHRTCTrack()}return!1}},{key:"removeRemoteAudioTrack",value:function e(){const t=this.getAnyAudioHRTCTrack();t&&t.removeTrack()}},{key:"removeRemoteVideoTrack",value:function e(t){const r=this.tracks[YM.TRACK_TYPE_VIDEO].get(t);r&&r.removeTrack()}}])}(AN);const kN=0,ON=2;let PN=function(e){return e.JOINER="anchor",e.PLAYER="audience",e}({}),MN=function(e){return e[e.JOINER=0]="JOINER",e[e.PLAYER=2]="PLAYER",e}({});let xN=function(){function e(){a(this,e)}return u(e,[{key:"identifiedID",get:function(){return this.identifiedID_},set:function(e){this.identifiedID_=e}},{key:"roomId",get:function(){return this.roomId_},set:function(e){this.roomId_=e}},{key:"signature",get:function(){return this.signature_},set:function(e){this.signature_=e}},{key:"ctime",get:function(){return this.ctime_},set:function(e){this.ctime_=e}},{key:"userId",get:function(){return this.userId_},set:function(e){this.userId_=e}},{key:"encUserId",get:function(){return this.encUserId_},set:function(e){this.encUserId_=e}},{key:"userName",get:function(){return this.userName_},set:function(e){this.userName_=e}},{key:"role",get:function(){return this.role_},set:function(e){this.role_=e}},{key:"roleSignalType",get:function(){return ON===this.role_?PN.PLAYER:PN.JOINER}},{key:"appData",get:function(){return this.appData_},set:function(e){this.appData_=e}},{key:"removeRelayInfo",value:function e(t){this.relayInfos_=this.relayInfos_.filter((e=>e.roomId!==t))}},{key:"addRelayInfo",value:function e(t,r){this.relayInfos_||(this.relayInfos_=[]),this.relayInfos_.push({roomId:t,role:r})}},{key:"getRelayInfos",value:function e(){return this.relayInfos_}}])}();const LN=new Map;let DN=function(){function e(){a(this,e)}return u(e,null,[{key:"get",value:function e(t){return LN.get(t)}},{key:"delete",value:function e(t){LN.delete(t)}},{key:"init",value:function e(t,r,n){const i=new xN;return i.identifiedID=t,i.userId=n.userId,i.userName=n.userName,i.role=n.role,i.signature=n.signature,i.ctime=n.ctime,i.appData={},n.userName&&(i.appData.nickname=n.userName),n.optionInfo&&[!0,!1].includes(n.optionInfo.recordPlaceholder)&&(i.appData.show_window=n.optionInfo.recordPlaceholder),i.roomId=r,LN.set(t,i),i}},{key:"transLocalUserToJoinConfig",value:function e(t){var r;return{userId:t.userId,userName:t.userName,signature:t.signature,ctime:t.ctime,role:t.role,optionInfo:{recordPlaceholder:null===(r=t.appData)||void 0===r?void 0:r.show_window}}}},{key:"renewSignature",value:function e(t,r,n){if(LN.has(t)){const e=LN.get(t);return e.ctime=r,e.signature=n,e}return null}}])}();let NN=function(e){return e.ReceiveData="ReceiveData",e.ConnectionQuality="ConnectionQuality",e.Reconnected="Reconnected",e.SessionUnavailable="SessionUnavailable",e.ConnectionUnavailable="ConnectionUnavailable",e.ConnectionStateChanged="ConnectionStateChanged",e.AuthenticateFail="AuthenticateFail",e.SignatureExpired="SignatureExpired",e.ClientBanned="ClientBanned",e}({});let jN=function(){function e(){a(this,e);o(this,"state_",[])}return u(e,[{key:"default",value:function e(t){return this.defaultVal_=t,this}},{key:"get",value:function e(){return 0!=this.state_.length?this.state_[this.state_.length-1]:null}},{key:"set",value:function e(t){return 2==this.state_.length&&this.state_.unshift(),this.state_.push(t),this}},{key:"pre",value:function e(){return this.state_.length>=2?this.state_[this.state_.length-2]:null}},{key:"reset",value:function e(){return this.state_=[],this.state_[0]=this.defaultVal_,this}},{key:"state",get:function(){return this.state_}}])}();let UN=function(e){function t(){a(this,t);return f(this,t,arguments)}p(t,e);return u(t,[{key:"isChanged",value:function e(){return this.state.length>1&&this.get()!==this.pre()}},{key:"getDiffInfo",value:function e(){return this.isChanged()?{updated:this.state[1]}:{}}}])}(jN);let BN=function(e){return e[e.Health=1]="Health",e[e.SubHealth=4]="SubHealth",e[e.Unavailable=6]="Unavailable",e}({});const FN="HealthMonitor";let HN=function(e){function t(e){var r;a(this,t);r=f(this,t,[{emitter:!0,logger:e.logger}]),r.client=e,r.reset();return r}p(t,e);return u(t,[{key:"reset",value:function e(){this.streamDetectTimer&&(clearInterval(this.streamDetectTimer),this.streamDetectTimer=null),this.streamStats={mainStream:{bytesIn:(new UN).default(0).set(0).set(0),bytesOut:(new UN).default(0).set(0).set(0)},auxStream:{bytesIn:(new UN).default(0).set(0).set(0),bytesOut:(new UN).default(0).set(0).set(0)},upQuality:(new UN).default(ZM.NETWORK_QUALITY_UNKNOW).set(ZM.NETWORK_QUALITY_UNKNOW).set(ZM.NETWORK_QUALITY_UNKNOW),downQuality:(new UN).default(ZM.NETWORK_QUALITY_UNKNOW).set(ZM.NETWORK_QUALITY_UNKNOW).set(ZM.NETWORK_QUALITY_UNKNOW)}}},{key:"isStreamAvailable",value:function e(){if(!this.client){return!1}const t=this.isAvailableStreamIncoming(KM.STREAM_TYPE_MAIN),r=this.isAvailableStreamIncoming(KM.STREAM_TYPE_AUX),n=this.isAvailableStreamOutgoing(KM.STREAM_TYPE_MAIN),i=this.isAvailableStreamOutgoing(KM.STREAM_TYPE_AUX);return t||r||n||i}},{key:"getWsConnectionHealthStatus",value:function e(){return this.streamDetectTimer?this.isStreamAvailable()?BN.SubHealth:BN.Unavailable:BN.Health}},{key:"startStreamStateDetection",value:function e(){this.streamDetectTimer||(this.streamDetectTimer=setInterval((async()=>{if(this.client){const e=this.client.getICETransportStat(KM.STREAM_TYPE_MAIN);e&&this.updateStreamStat(e,KM.STREAM_TYPE_MAIN);const t=this.client.getICETransportStat(KM.STREAM_TYPE_AUX);t&&this.updateStreamStat(t,KM.STREAM_TYPE_AUX),this.updateConnectionQuality(this.getWsConnectionHealthStatus())}}),3e3))}},{key:"stopStreamStateDetection",value:function e(){this.streamDetectTimer&&(clearInterval(this.streamDetectTimer),this.streamDetectTimer=null,this.updateConnectionQuality(this.getWsConnectionHealthStatus()))}},{key:"updateConnectionQuality",value:function e(t){if(!this.client){return}const r=this.client.isSendingStream()?t:ZM.NETWORK_QUALITY_UNKNOW,n=this.client.isReceivingStream()?t:ZM.NETWORK_QUALITY_UNKNOW;this.updateSignalQuality(r,n)}},{key:"isAvailableStreamIncoming",value:function e(r){const n=r===KM.STREAM_TYPE_MAIN?this.streamStats.mainStream:this.streamStats.auxStream;return n.bytesIn.get()-n.bytesIn.pre()>t.getMinAvailableBytes()}},{key:"isAvailableStreamOutgoing",value:function e(r){const n=r===KM.STREAM_TYPE_MAIN?this.streamStats.mainStream:this.streamStats.auxStream;return n.bytesOut.get()-n.bytesOut.pre()>t.getMinAvailableBytes()}},{key:"updateStreamStat",value:function e(t,r){const n=r===KM.STREAM_TYPE_MAIN?this.streamStats.mainStream:this.streamStats.auxStream;this.logger.info(FN,"".concat(r," : bytesIn:").concat(t.bytesReceived," ,bytesOut:").concat(t.bytesSent)),n.bytesIn.set(t.bytesReceived),n.bytesOut.set(t.bytesSent)}},{key:"updateSignalQuality",value:function e(t,r){if(this.streamStats.upQuality.set(t),this.streamStats.downQuality.set(r),this.logger.info(FN,"upQuality:".concat(this.streamStats.upQuality.pre(),",").concat("".concat(t)," ,downQuality:").concat(this.streamStats.downQuality.pre(),",").concat("".concat(r))),this.streamStats.upQuality.isChanged()||this.streamStats.downQuality.isChanged()){const e={uplinkNetworkQuality:t,downlinkNetworkQuality:r};this.logger.info(FN,"emit network-quality:".concat(JSON.stringify(e))),this.eventEmitter.emit(NN.ConnectionQuality,e)}}},{key:"getInfo",value:function e(){return{moduleName:"HealthMonitor"}}}],[{key:"getMinAvailableBytes",value:function e(){return kP.low.bitrate/8*3}}])}(TN);function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const WN="Socket",zN="heartbeat",GN="reconnectingEnd";var YN=function(e){return e[e.normal=1e3]="normal",e[e.multiKickoff=4e3]="multiKickoff",e[e.authenticateFail=4001]="authenticateFail",e[e.kickoff=4002]="kickoff",e[e.releaseRoom=4003]="releaseRoom",e[e.heartbeatTimeout=4004]="heartbeatTimeout",e[e.serverReconnectReq=4005]="serverReconnectReq",e[e.serveReconnectReqWithoutSfu=4006]="serveReconnectReqWithoutSfu",e[e.signatureFail=4009]="signatureFail",e}(YN||{});let KN=0;let qN=function(e){function t(e,r,n){var i;a(this,t);i=f(this,t,[{emitter:!0,logger:n.logger,stat:n.stat}]),o(h(i),"callbacks",new Map),i.taskId=1e3,i.appId=e,i.edgeNodeDomains=r,i.clientConfig=n.clientConfig;const s=new UN;s.default(WP.IDLE).reset().set(WP.IDLE),i.wsStatus={state:s,isHeartbeat:!1,isWsReconnecting:!1,hasEverConnected:!1},i.healthMonitor=new HN(n),i.healthMonitor.on(NN.ConnectionQuality,i.getConnectionQualityListener()),i.wsReset();return i}p(t,e);return u(t,[{key:"setKeepAliveParams",value:function e(t){this.heartBeatConfig=t}},{key:"setTraceId",value:function e(t){this.traceId=t}},{key:"wsReset",value:function e(){var t;this.closeConnection(),this.traceId="",this.connectId="",this.wsUrl="",this.acsIP="",this.wsStatus.state.reset(),this.wsStatus.hasEverConnected=!1,this.userInfo=void 0,null===(t=this.healthMonitor)||void 0===t||t.reset()}},{key:"wsDisconnect",value:function e(){this.healthMonitor.off(NN.ConnectionQuality),this.wsReset(),this.healthMonitor=void 0}},{key:"getConnectionQualityListener",value:function e(){return e=>{this.emit(NN.ConnectionQuality,e)}}},{key:"wsConnect",value:async function e(t,r,n,i,o,a,s){this.logger.info(WN,"wsConnect, acsIP:".concat(r,", firstTimeout:").concat(o,", retryTimeout:").concat(a,", retryCount:").concat(i,",retryInterval:").concat(s)),this.wsStatus.isWsReconnecting&&(this.logger.info(WN,"wsConnect, waiting for reconnecting ending"),await this.stopReconnecting(),this.logger.info(WN,"wsConnect, reconnecting end")),this.acsIP=r,this.userInfo=t,this.wsStatus.state.set(WP.DISCONNECTED),await this.doConnect(r,n,i,o,a,s,!1)}},{key:"refreshUserInfo",value:function e(t){this.userInfo=t}},{key:"startHeartbeat",value:async function e(){try{if(this.wsStatus.isHeartbeat){return void this.logger.warn(WN,"startHeartbeat, isHeartbeat so return")}this.wsStatus.isHeartbeat=!0;const e=async e=>await this.sendHeartbeat(e);return await FD.callWithRetryTimes(e,!0,-1,this.getAsyncInterval(1e3*this.heartBeatConfig.heartBeatPeriod),this.needInterrupted())}catch(e){this.logger.warn(WN,"startHeartbeat, error:".concat(e))}finally{this.wsStatus.isHeartbeat=!1}}},{key:"wsSendRequest",value:async function e(t,r,n,i,o){this.logger.debug(WN,"wsSendRequest: ".concat(t.type," - ").concat(t.requestId));return await FD.callWithRetryTimes((async e=>await this.wsSendReqOnce(t.requestId,t,r,n,e)),!1,i,this.getAsyncInterval(o),this.needInterrupted())}},{key:"wsSendResponse",value:function e(t){this.ws.send(t)}},{key:"generateRequestId",value:function e(){return this.traceId,this.traceId+"Web"+(this.taskId++).toString()}},{key:"doConnect",value:async function e(t,r,n,i,o,a,s){return await FD.callWithRetryTimes((async e=>await this.wsConnectOnce(t,r,i,o,e,s)),!1,n,this.getAsyncInterval(a),this.needInterrupted())}},{key:"wsConnectOnce",value:async function e(t,r,n,i,o,a){if([WP.IDLE,WP.CONNECTING].includes(this.wsStatus.state.get())||!this.userInfo){throw new oc(nc.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED)}if(this.wsStatus.state.get()!==WP.DISCONNECTED){return this.logger.error(WN,"wsConnectOnce, cusState:".concat(this.wsStatus.state.get(),", not DISCONNECTED, return")),null}this.connectId=this.taskId.toString(),this.wsUrl=this.getWsUrl(t,a);const s=yC.getCurrentTimestamp();this.ws=new WebSocket(this.wsUrl),this.logger.info(WN,"wsConnectOnce, url:".concat(yC.shieldUrlParameters(this.wsUrl),", connectId:").concat(this.connectId,", begin create websocket connection with server ")),1!==o||a?this.triggerConnectStatesChangeEvent(WP.RECONNECTING):this.triggerConnectStatesChangeEvent(WP.CONNECTING),this.ws.onopen=this.onopen.bind(this),this.ws.onerror=this.onerror.bind(this),this.ws.onmessage=this.onmessage.bind(this),this.ws.onclose=this.onclose.bind(this);const u={id:((null==r?void 0:r.length)||0)+1,domain:this.edgeNodeDomains.get(t),start_ms:yC.getCurrentTimestamp(),delay_ms:0,stepName:"wsConnect",rspCode:"",errMsg:""};try{const e=1===o?n:i;await this.getConnectionResp(e),u.delay_ms=yC.getCurrentTimestamp()-u.start_ms,u.rspCode="101"}catch(e){throw this.logger.error(WN,"wsConnectOnce, connect occur exception, connectId:".concat(this.connectId,", error: ").concat(e)),u.delay_ms=yC.getCurrentTimestamp()-u.start_ms,"function"==typeof e.getCode&&(u.rspCode="".concat(e.getCode()),u.errMsg=e.getMsg()),e}finally{null==r||r.push(u);const e=yC.getCurrentTimestamp(),t={version:"v1",startTimestamp:s,traceId:this.xNuwaTraceId,spanId:this.xNuwaSpanId,parentSpanId:"0000000000000000",ip:"",source:"SDK",target:"WiseCloudRtcAccessService",spanName:"connect",status:"0",endTimestamp:e,url:"",httpMethod:"",requestSize:"",responseSize:"",statusCode:"",tag:"",Events:"",scope:"videortn"};this.stat.reportTraceInfo2Nuwa(t)}}},{key:"stopReconnecting",value:async function e(){let t=null;this.wsStatus.state.set(WP.IDLE);const r=[new Promise((e=>{this.callbacks.set(GN,(r=>{t&&clearTimeout(t),e(r)}))})),new Promise(((e,r)=>{t=setTimeout((()=>{r(new oc(nc.RTC_ERR_CODE_WEBSOCKET_RECONNECT_TIMEOUT))}),3e4)}))];return await Promise.race(r).then((e=>e)).finally((()=>{this.callbacks.delete(GN)}))}},{key:"getConnectionResp",value:async function e(r){const n=this.connectId;await FD.callWithTimeout(new Promise(((e,r)=>{this.callbacks.set(n,(i=>{if(i.isSuccess){this.logger.info(WN,"getConnectionResp, connectId:".concat(n,", connect success")),this.triggerConnectStatesChangeEvent(WP.CONNECTED),e()}else{const e=t.newSocketException(i);this.logger.info(WN,"getConnectionResp, connectId:".concat(n,", connect fail, errMsg=").concat(e)),r(e)}}))})),r).catch((e=>{if(this.triggerConnectStatesChangeEvent(WP.DISCONNECTED),e.getCode()!==nc.RTC_ERR_CODE_WAIT_RSP_TIMEOUT){throw e}throw this.logger.error(WN,"getConnectionResp, connectId:".concat(n,", websocket connect timeout after ").concat(r," ms")),this.ws&&this.ws.readyState===this.ws.CONNECTING&&(this.logger.info(WN,"getConnectionResp, connectId:".concat(n,",websocket connect timeout, close webSocket manual")),this.ws.close()),new oc(nc.RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT)})).finally((()=>{this.callbacks.delete(n)}))}},{key:"getWsUrl",value:function e(t,r){let n,i;this.xNuwaTraceId=yC.generateRandomId(32,16),this.xNuwaSpanId=yC.generateRandomId(16,16);let o,a="443";const s=/ws(?:s)?:\/\/([^/]+)(.*)/.exec(this.edgeNodeDomains.get(t));if(s&&3===s.length){const e=s[1].split(":");i=e[0],a=e[1]||"443",o=s[2]}else{i=this.edgeNodeDomains.get(t),o="/websocket"}const u=RL.getProxyServer();return n=u?/^http.*/.test(u)?u.replace("http","ws"):u.replace("https","wss"):"".concat("wss","://").concat(i,":").concat(a),n="".concat(n).concat(o,"?appId=").concat(escape(this.appId),"&roomId=").concat(escape(this.userInfo.roomId))+"&userId=".concat(escape(this.userInfo.userId),"&role=").concat(this.userInfo.roleSignalType,"&Authorization=").concat(escape(this.userInfo.signature))+"&ctime=".concat(this.userInfo.ctime,"&clientVersion=").concat(xM,"&clientType=").concat(yC.getSystemType())+"&romVersion=".concat(yC.getRomVersion(),"&agentType=").concat(2,"&netType=").concat(yC.getNetworkType())+"&traceId=".concat(this.traceId,"&x-nuwa-trace-id=").concat(this.xNuwaTraceId,"&x-nuwa-span-id=").concat(this.xNuwaSpanId)+"&HoldTime=".concat(120).concat(r?"&reconnect=true":"")+"&instanceId=".concat(yC.getDeviceID().replace(/[-]/g,"")).concat(this.clientConfig.countryCode?"&clientCountryCode=".concat(this.clientConfig.countryCode):""),u&&(n="".concat(n,"&org_domain=").concat(i,"&org_port=").concat(a)),n}},{key:"cancelWsCloseCallBack",value:function e(){this.ws&&(this.ws.onclose=e=>{this.logger.info(WN,"cancelWsCloseCallBack, connect close,code:".concat(e.code,", reason:").concat(e.reason))})}},{key:"closeConnection",value:function e(){this.ws&&(this.logger.info(WN,"close ws when reset"),this.cancelWsCloseCallBack(),this.ws.close(),this.ws=null)}},{key:"triggerConnectStatesChangeEvent",value:function e(t,r){this.wsStatus.state.set(t);const n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VN(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({prevState:VP[this.wsStatus.state.pre()],curState:VP[this.wsStatus.state.get()]},r);this.wsStatus.state.isChanged()&&(this.logger.info(WN,"triggerConnectStatesChangeEvent, emit:".concat(oM.ConnectionStateChanged,", body:").concat(JSON.stringify(n))),this.emit(NN.ConnectionStateChanged,n))}},{key:"needInterrupted",value:function e(){return e=>"function"==typeof(null==e?void 0:e.getCode)&&e.getCode()===nc.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED}},{key:"getAsyncInterval",value:function e(t){return e=>"function"==typeof(null==e?void 0:e.getCode)&&e.getCode()===nc.RTC_ERR_CODE_WAIT_RSP_TIMEOUT?0:t}},{key:"wsSendReqOnce",value:async function e(r,n,i,o,a){const s=t.removeWatchType(n),u=yC.getCurrentTimestamp();try{if(this.wsStatus.state.get()===WP.IDLE){throw new oc(nc.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED)}if(!this.ws||this.ws.readyState!==this.ws.OPEN){throw new oc(nc.RTC_ERR_CODE_WEBSOCKET_NOT_OPEN)}a>1&&this.logger.debug(WN,"wsSendReq: ".concat(r,", retry send message"));const e=JSON.stringify(s);this.ws.send(e),this.stat&&(this.stat.reportSignalReqForWeb2Server(s),this.stat.recordUploadRequsetInfo(n));const t=1===a?i:o;return await this.getResponse(s,t)}catch(e){throw this.logger.error(WN,"wsSendReq: ".concat(r,", type: ").concat(s.type,", tryNumber: ").concat(a,",error: ").concat(e)),"PING"===n.type&&this.healthMonitor.startStreamStateDetection(),this.recordWsException(n,e,u),e}finally{const e=this.stat.checkSignalSendMsgs((null==s?void 0:s.type)||""),t=s["x-nuwa-span-id"],r=yC.getCurrentTimestamp(),n={version:"v1",startTimestamp:u,traceId:s["x-nuwa-trace-id"],spanId:t,parentSpanId:e?"0000000000000000":this.stat.getParentSpanId(s["x-nuwa-span-id"]),ip:"",source:"SDK",target:"WiseCloudRtcAccessService",spanName:(null==s?void 0:s.type)||"",status:"0",endTimestamp:r,url:"",httpMethod:"",requestSize:"",responseSize:"",statusCode:"",tag:"",Events:"",scope:"videortn"};this.stat.reportTraceInfo2Nuwa(n)}}},{key:"recordWsException",value:function e(t,r,n){if("PING"!==t.type){switch(t.type){case"SUBS_STREAM":{const e=r.getCode(),n=r.getMsg();t.videoUpstreams&&this.stat.reportVideoSub(t.videoSubType,t.requestId,t.videoUpstreams,e,n),t.audioUpstreams&&this.stat.reportAudioSub(t.audioSubType,t.requestId,t.audioUpstreams,e);break}}}else{this.stat.reportSignalReqForHeartBeatLost(t,n)}}},{key:"getResponse",value:async function e(t,r){let n=null;const i=[new Promise((e=>{const r="PING"===t.type?zN:t.requestId;this.callbacks.set(r,(t=>{n&&clearTimeout(n),e(t)}))})),new Promise(((e,t)=>{n=setTimeout((()=>{t(new oc(nc.RTC_ERR_CODE_WAIT_RSP_TIMEOUT))}),r)}))];return await Promise.race(i).finally((()=>{const e="PING"===t.type?zN:t.requestId;this.callbacks.delete(e)}))}},{key:"onopen",value:function e(t){this.callbacks.has(this.connectId)&&this.callbacks.get(this.connectId)({isSuccess:!0}),this.logger.info(WN,"onopen, wss[".concat(yC.shieldUrlParameters(this.wsUrl),"], connectId:").concat(this.connectId,", connect success, ").concat(JSON.stringify(t))),this.stat.setConnectionStatusInfo(EM.CONNECTED,bM.SIGNAL)}},{key:"onerror",value:function e(t){this.logger.error(WN,"onerror, connectId:".concat(this.connectId,", websocket occur error:").concat(JSON.stringify(t))),this.stat.setConnectionStatusInfo(EM.CLOSED,bM.SIGNAL),this.callbacks.has(this.connectId)&&this.callbacks.get(this.connectId)({isSuccess:!1})}},{key:"onmessage",value:function e(t){if(null==t||!t.data){return}const r=JSON.parse(t.data);this.wsStatus.hasEverConnected=!0,KN=0;const n=this.callbacks.get(zN);if(n&&n(r),r.type){this.emit(NN.ReceiveData,r)}else{const e=this.callbacks.get(r.requestId);e&&e(r)}this.stat.reportSignalReqForServer2Web(r);const i=this.stat.getDownloadRequestInfo(r);this.stat.recordDownloadRequestInfo(r);const o=this.stat.checkSignalReceiveMsgs((null==r?void 0:r.type)||""),a=yC.generateRandomId(16,16),s=r["x-nuwa-span-id"];o&&this.stat.setSpanId(s,a);const u=yC.getCurrentTimestamp(),c={version:"v1",startTimestamp:u,traceId:r["x-nuwa-trace-id"],spanId:a,parentSpanId:s,ip:"",source:"WiseCloudRtcAccessService",target:"SDK",spanName:(null==r?void 0:r.type)||i,status:"0",endTimestamp:u,url:"",httpMethod:"",requestSize:"",responseSize:"",statusCode:"",tag:"",Events:"",scope:"videortn"};this.stat.reportTraceInfo2Nuwa(c)}},{key:"onclose",value:async function e(r){const n=r.code,i=r.reason;if(this.logger.warn(WN,"onclose,connectId:".concat(this.connectId,", code:").concat(n,", reason:").concat(i)),this.stat.setConnectionStatusInfo(EM.CLOSED,bM.SIGNAL),this.callbacks.has(this.connectId)&&this.callbacks.get(this.connectId)({isSuccess:!1,code:n,reason:i}),this.triggerConnectStatesChangeEvent(WP.DISCONNECTED,{code:n,reason:i}),t.isServerAuthFail(n)){this.handleServerAuthFail()}else{if(!t.isSignatureFail(n)){return t.isKickedOff(n)?(this.logger.warn(WN,"handleKickedOff, emit:".concat(NN.ClientBanned)),void this.emit(NN.ClientBanned)):t.isServerSessionValidateFail(n)?(this.logger.warn(WN,"onclose, emit:".concat(NN.SessionUnavailable)),void this.emit(NN.SessionUnavailable)):void(n===YN.heartbeatTimeout||n===YN.serveReconnectReqWithoutSfu||n>1e3&&n<4e3?await this.reconnect():this.logger.error(WN,"onclose, no handler"))}this.handleSignatureFail()}}},{key:"handleServerAuthFail",value:function e(){this.logger.error(WN,"handleServerAuthFail, auth failed to leave room"),this.logger.warn(WN,"handleServerAuthFail, emit:".concat(NN.AuthenticateFail," ")),this.emit(NN.AuthenticateFail)}},{key:"handleSignatureFail",value:async function e(){this.logger.warn(WN,"handle signature fail, emit:".concat(NN.SignatureExpired)),this.wsStatus.hasEverConnected?(this.emit(NN.SignatureExpired,{type:"reconnect"}),KN<5?(this.logger.warn(WN,"signature expired, try reconnect: retry times: ".concat(KN+1)),await this.reconnect(),KN++):this.emit(NN.SessionUnavailable)):this.emit(NN.SignatureExpired,{type:"join"})}},{key:"reconnect",value:async function e(){if(this.logger.info(WN,"reconnect, not user call leave, network error, go ws reconnecting"),!this.wsStatus.hasEverConnected){return this.logger.info(WN,"reconnect, haven't connect yet, so return"),null}if(this.wsStatus.isWsReconnecting){return this.logger.info(WN,"reconnect, isWsReConnecting so return"),null}try{this.wsStatus.isWsReconnecting=!0;const e=12e3,t=1e3;await this.doConnect(this.acsIP,null,-1,e,e,t,!0),this.logger.info(WN,"wsReconnect, success");const r=this.callbacks.get(GN);r&&r("success"),this.logger.warn(WN,"emit:".concat(NN.Reconnected)),this.emit(NN.Reconnected)}catch(e){this.logger.error(WN,"wsReconnect, errMsg:".concat(e));const t=this.callbacks.get(GN);t&&t(e)}finally{this.wsStatus.isWsReconnecting=!1}}},{key:"sendHeartbeat",value:async function e(t){try{if([WP.IDLE,WP.CONNECTING].includes(this.wsStatus.state.get())){throw this.logger.info(WN,"sendHeartbeat, but wsStatus is IDLE or CONNECTING, interrupted"),new oc(nc.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED)}if(!this.traceId){throw this.logger.error(WN,"sendHeartbeat, traceId is null"),new oc(nc.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED)}const e={type:"PING",traceId:this.traceId,requestId:this.generateRequestId(),version:DM,"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)};await this.wsSendRequest(e,1e3*this.heartBeatConfig.heartBeatPeriod,1e3*this.heartBeatConfig.heartBeatPeriod,this.heartBeatConfig.heartBeatRetryTimes,1e3*this.heartBeatConfig.heartBeatPeriod),this.healthMonitor.stopStreamStateDetection()}catch(e){this.logger.info(WN,"sendHeartbeat，father tryNumber:".concat(t,",child heartbeat retry out of limit:").concat(this.heartBeatConfig.heartBeatRetryTimes," and fail, error:").concat(e)),this.handleHeartbeatFail(e)}}},{key:"handleHeartbeatFail",value:function e(t){if("function"==typeof(null==t?void 0:t.getCode)&&t.getCode()===nc.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED){throw this.logger.warn(WN,"handleHeartbeatFail, ErrorCode.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED"),t}const r=this.healthMonitor.getWsConnectionHealthStatus();this.logger.warn(WN,"handleHeartbeatFail, healthStatus:".concat(r)),r===BN.Unavailable&&(this.logger.info(WN,"handleHeartbeatFail, connection unavailable when error:".concat(t)),this.logger.warn(WN,"emit:".concat(NN.ConnectionUnavailable)),this.emit(NN.ConnectionUnavailable))}},{key:"getInfo",value:function e(){return{moduleName:"Socket"}}}],[{key:"newSocketException",value:function e(t){if(t.isSuccess){return null}const r=nc.RTC_ERR_CODE_WEBSOCKET_CONNECT_ERROR,n=t.code,i="".concat(n||""," websocket connect error");return new oc(r,i)}},{key:"removeWatchType",value:function e(t){if(null!=t&&t.watchType){const e=JSON.parse(JSON.stringify(t));return delete e.watchType,e}return t}},{key:"isServerAuthFail",value:function e(t){return[YN.authenticateFail,YN.releaseRoom].includes(t)}},{key:"isSignatureFail",value:function e(t){return[YN.signatureFail].includes(t)}},{key:"isKickedOff",value:function e(t){return[YN.multiKickoff,YN.kickoff].includes(t)}},{key:"isServerSessionValidateFail",value:function e(t){return[YN.serverReconnectReq].includes(t)}}])}(TN);let $N=function(e){return e[e.MAIN=0]="MAIN",e[e.DESKTOP=1]="DESKTOP",e}({}),JN=function(e){return e.SEND_RECV="sendrecv",e.SEND_ONLY="sendonly",e.RECV_ONLY="recvonly",e.INACTIVE="inactive",e}({}),ZN=function(e){return e[e.cmdPayload=99]="cmdPayload",e}({}),XN=function(e){return e[e.opusPayload=112]="opusPayload",e}({}),QN=function(e){return e[e.rtxPayLoad=107]="rtxPayLoad",e[e.h264PayLoad=122]="h264PayLoad",e[e.redPayLoad=110]="redPayLoad",e[e.ulpfecPayLoad=127]="ulpfecPayLoad",e[e.fec03PayLoad=125]="fec03PayLoad",e}({}),ej=function(e){return e[e.fec03PayLoad=9e4]="fec03PayLoad",e}({}),tj=function(e){return e.H264="H264",e.H265="H265",e.H264H265="H264H265",e.OPUS="opus",e}({});const rj="signal",nj=5e3;let ij=function(e){function t(e,r,n){var i;a(this,t);i=f(this,t,[{emitter:!0,logger:n.logger,stat:n.stat},n.getSymbol()]),i.edgeNodeDomains=r,i.socket=new qN(e,r,n),i.onSocketEvent(),i.reset();return i}p(t,e);return u(t,[{key:"on",value:function e(r,i){n(t,"on",this,3)([r,i])}},{key:"off",value:function e(r,i){n(t,"off",this,3)([r,i])}},{key:"reset",value:function e(){var t;this.traceId="",this.isConnecting=!1,null===(t=this.socket)||void 0===t||t.wsReset()}},{key:"disconnect",value:function e(){var t;this.offSocketEvent(),this.reset(),null===(t=this.socket)||void 0===t||t.wsDisconnect(),this.socket=void 0}},{key:"getConnectionQualityListener",value:function e(){return e=>{this.emit(oM.NetworkQuality,e)}}},{key:"getConnectionStateChangedListener",value:function e(){return e=>{this.emit(oM.ConnectionStateChanged,e)}}},{key:"getSignatureExpiredListener",value:function e(){return e=>{this.emit(NN.SignatureExpired,e)}}},{key:"getReceiveDataListener",value:function e(){return e=>{this.receiveMsg(e)}}},{key:"getSessionUnavailableListener",value:function e(){return e=>{this.emit(NN.SessionUnavailable,e)}}},{key:"getConnectionUnavailableListener",value:function e(){return e=>{this.emit(NN.ConnectionUnavailable,e)}}},{key:"getReconnectedListener",value:function e(){return e=>{this.emit(NN.Reconnected,e)}}},{key:"getAuthenticateFailListener",value:function e(){return e=>{this.emit(NN.AuthenticateFail,e)}}},{key:"getKickedOffListener",value:function e(){return e=>{this.emit(NN.ClientBanned,e)}}},{key:"onSocketEvent",value:function e(){this.socket&&(this.socket.on(NN.ConnectionQuality,this.getConnectionQualityListener()),this.socket.on(NN.ConnectionStateChanged,this.getConnectionStateChangedListener()),this.socket.on(NN.SignatureExpired,this.getSignatureExpiredListener()),this.socket.on(NN.ReceiveData,this.getReceiveDataListener()),this.socket.on(NN.SessionUnavailable,this.getSessionUnavailableListener()),this.socket.on(NN.ConnectionUnavailable,this.getConnectionUnavailableListener()),this.socket.on(NN.Reconnected,this.getReconnectedListener()),this.socket.on(NN.AuthenticateFail,this.getAuthenticateFailListener()),this.socket.on(NN.ClientBanned,this.getKickedOffListener()))}},{key:"offSocketEvent",value:function e(){this.socket&&(this.socket.off(NN.ConnectionQuality),this.socket.off(NN.ConnectionStateChanged),this.socket.off(NN.SignatureExpired),this.socket.off(NN.ReceiveData),this.socket.off(NN.SessionUnavailable),this.socket.off(NN.ConnectionUnavailable),this.socket.off(NN.Reconnected),this.socket.off(NN.AuthenticateFail),this.socket.off(NN.ClientBanned))}},{key:"getRandomAcsIp",value:function e(){let t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(1===this.edgeNodeDomains.size||r){return this.selectedAcsIp="default",this.selectedAcsIp}let n=0;return this.selectedAcsIp?(t=[...this.edgeNodeDomains.keys()].filter((e=>"default"!==e&&e!==this.selectedAcsIp)),t.length<1||(n=Math.round(yC.getRandom()*(t.length-1)),this.selectedAcsIp=t[n]),this.selectedAcsIp):(t=[...this.edgeNodeDomains.keys()].filter((e=>"default"!==e)),n=Math.round(yC.getRandom()*(t.length-1)),this.selectedAcsIp=t[n],this.selectedAcsIp)}},{key:"connect",value:async function e(t,r){if(this.isConnecting){return this.logger.info(rj,"connect, isConnecting so return"),null}this.traceId=yC.generateStandardUuid(),this.socket.setTraceId(this.traceId);try{this.isConnecting=!0;const e=async e=>await this.connectOnce(t,r,e);return await FD.callWithRetryTimes(e,!1,2,this.getAsyncInterval(),this.needInterrupted())}finally{this.isConnecting=!1}}},{key:"refreshUserInfo",value:function e(t){this.socket.refreshUserInfo(t)}},{key:"needInterrupted",value:function e(){return e=>"function"==typeof(null==e?void 0:e.getCode)&&e.getCode()===nc.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED}},{key:"getAsyncInterval",value:function e(){return()=>Math.round(500*yC.getRandom()+500)}},{key:"connectOnce",value:async function e(r,n,i){const o=this.getRandomAcsIp(t.isLastTry(2,i));if(!o){throw this.logger.error(rj,"selectedAcsIP is null"),new oc(nc.RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED,"no available servers to connect")}return await this.socket.wsConnect(r,o,n,0,1e4,0,0),"default"===o?this.edgeNodeDomains.get("default"):o}},{key:"join",value:async function e(r,n,i,o,a,s,u,c){return new Promise(((e,l)=>{const f=t.setJoinRequest(r,n,i,o,a,s,u,c);this.sendRequest(f).then((t=>{var r;0!==t.resultCode?(this.logger.error(rj,"join code:".concat(t.resultCode,",msg:").concat(t.resultMessage)),l(new oc(Number(t.resultCode),t.resultMessage))):(null===(r=t.userInfos)||void 0===r||r.forEach((e=>{AC.addPrivacyString(e.userId),AC.addPrivacyString(e.appData.nickname)})),e(t))})).catch((e=>{l(e)}))}))}},{key:"subscribe",value:async function e(t,r,n){const i={type:"SUBS_STREAM",videoUpstreams:t,audioUpstreams:r,videoSubType:1,audioSubType:1,watchType:n,"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)},o=await this.sendRequest(i);if(0!==o.resultCode){const e=JSON.stringify(i);throw this.logger.error(rj,"subscribe fail,err_code:".concat(o.resultCode,",")+"error_msg:".concat(o.resultMessage,",request ").concat(e)),new oc(Number(o.resultCode),o.resultMessage)}return this.logger.info(rj,"subscribe send msg result:".concat(o.resultMessage)),o}},{key:"queryRoomUsers",value:async function e(t){var r;const n={type:"GET_ROOM_USERINFO","x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)};null!=t&&t.length&&(n.userIds=t);const i=await this.sendRequest(n);if(0!==i.resultCode){throw this.logger.error(rj,"queryRoomUsers fail,err_code:".concat(i.resultCode,",error_msg:").concat(i.resultMessage)),new oc(Number(i.resultCode),i.resultMessage)}return null===(r=i.userInfos)||void 0===r||r.forEach((e=>{AC.addPrivacyString(e.userId),AC.addPrivacyString(e.appData.nickname)})),this.logger.info(rj,"queryRoomUsers send msg result:".concat(i.resultMessage)),i}},{key:"leave",value:async function e(){try{const e=await this.sendRequest({type:"EXIT_ROOM"});if(0!==e.resultCode){throw this.logger.error(rj,"leave, exit room, err_code:".concat(e.resultCode,",error_msg:").concat(e.resultMessage)),new oc(Number(e.resultCode),e.resultMessage)}const t=await this.sendRequest({type:"BYE"});if(0!==t.resultCode){throw this.logger.error(rj,"leave, exit room, err_code:".concat(t.resultCode,",error_msg:").concat(t.resultMessage)),new oc(Number(t.resultCode),t.resultMessage)}}catch(e){throw new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}}},{key:"changeStreamStatus",value:async function e(t){try{return t.type="CHANGE_STREAM_STATUS",await this.sendRequest(t)}catch(e){throw this.logger.error(rj,"changeStreamStatus fail, error:".concat(e)),new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}}},{key:"switchRole",value:async function e(r,n){const i=t.setSwitchRoleRequest(r,n),o=await this.sendRequest(i);if(0!==o.resultCode){throw this.logger.error(rj,"switch user role fail,err_code:".concat(o.resultCode,",error_msg:").concat(o.resultMessage)),new oc(Number(o.resultCode),o.resultMessage)}return o}},{key:"pushStreamResponse",value:async function e(t){this.logger.info(rj,"pushStreamRep send msg start:");try{await this.socket.wsSendResponse(JSON.stringify(t)),this.logger.info(rj,"pushStreamRep send response")}catch(e){throw this.logger.error(rj,"pushStreamRep send response fail, errMsg = ".concat(e)),new oc(nc.RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL)}}},{key:"keepAlive",value:function e(){this.logger.info(rj,"keepAlive"),this.socket.startHeartbeat()}},{key:"sendRequest",value:async function e(t){return this.assignCommonMsgInfo(t),await this.socket.wsSendRequest(t,nj,nj,2,nj)}},{key:"assignCommonMsgInfo",value:function e(t){Object.assign(t,{traceId:this.traceId,requestId:this.socket.generateRequestId(),version:DM,"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)})}},{key:"publish",value:async function e(t){return new Promise(((e,r)=>{const n=[],i=[];t.forEach((e=>{e.codec===tj.H264?(this.mobileBrowserInvertedWidthAndHeight(e),n.push({content:e.content,mute:e.mute,width:e.width,height:e.height,fps:e.fps,maxFs:e.maxFs,maxMbps:e.maxMbps,codec:e.codec,pt:e.pt,streamData:e.streamData,streamUid:e.streamUid,ssrc:e.ssrc,createDate:e.createDate})):e.codec===tj.OPUS&&i.push({content:e.content,mute:e.mute,channels:e.channels,sampleRate:e.sampleRate,maxMbps:e.maxMbps,codec:e.codec,pt:e.pt,streamData:e.streamData,streamUid:e.streamUid,ssrc:e.ssrc,createDate:e.createDate})}));const o={type:"PUSH_STREAM_RES_ALL",pushStreamType:0,videoStreams:n,audioStreams:i,"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)};this.sendRequest(o).then((t=>{0!==t.resultCode?(this.logger.error(rj,"publish resp code:".concat(t.resultCode,",msg:").concat(t.resultMessage)),r(new oc(Number(t.resultCode),t.resultMessage))):e(t)})).catch((e=>{r(e)}))}))}},{key:"mobileBrowserInvertedWidthAndHeight",value:function e(t){if(yC.isMobileBrowser()){const e=t.width;t.width=t.height,t.height=e,this.logger.info(rj,"Invert Resolution")}}},{key:"appData",value:async function e(t,r,n){return new Promise(((e,i)=>{const o={};Object.assign(o,t),o[r]=n;const a={type:"APP_DATA",appData:o};this.sendRequest(a).then((t=>{0!==t.resultCode?(this.logger.error(rj,"appset code:".concat(t.resultCode,",msg:").concat(t.resultMessage)),i(new oc(Number(t.resultCode),t.resultMessage))):e(t)})).catch((e=>{i(e)}))}))}},{key:"changeAudioPolicy",value:async function e(t){return new Promise(((e,r)=>{const n={type:"AUDIO_POLICY",audioPolicy:t,"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)};this.sendRequest(n).then((i=>{if(0!==i.resultCode){const e=JSON.stringify(n);this.logger.error(rj,"change audioPolicy code:".concat(i.resultCode,",audioPolicy:").concat(t,",msg:").concat(i.resultMessage," request ").concat(e)),r(new oc(Number(i.resultCode),i.resultMessage))}else{this.logger.info(rj,"change audioPolicy  ".concat(t," success")),e(i)}})).catch((e=>{this.logger.info(rj,"change audioPolicy  ".concat(t," exception")),r(e)}))}))}},{key:"updateLiveStreaming",value:async function e(t,r,n){return new Promise(((e,i)=>{const o={type:"UPDATE_PUBLISH",traceId:yC.generateStandardUuid(),taskId:t,config:r,userInfos:n,"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)};this.sendRequest(o).then((t=>{if(0!==t.resultCode){const e=JSON.stringify(o);this.logger.error(rj,"updateLiveStreaming code:".concat(t.resultCode,", msg:").concat(t.resultMessage,", request ").concat(e)),i(new oc(Number(t.resultCode),t.resultMessage))}else{this.logger.info(rj,"updateLiveStreaming success"),e(t)}})).catch((e=>{this.logger.info(rj,"updateLiveStreaming failed: ".concat(e)),i(e)}))}))}},{key:"startLiveStreaming",value:async function e(t,r,n,i){return new Promise(((e,o)=>{const a={type:"START_PUBLISH",traceId:yC.generateStandardUuid(),taskId:t,config:n,userInfos:i,urls:r,"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)};this.sendRequest(a).then((t=>{if(0!==t.resultCode){const e=JSON.stringify(a);this.logger.error(rj,"startLiveStreamRequest code:".concat(t.resultCode,", msg:").concat(t.resultMessage,", request ").concat(e)),o(new oc(Number(t.resultCode),t.resultMessage))}else{this.logger.info(rj,"startLiveStreamRequest success"),e(t)}})).catch((e=>{this.logger.info(rj,"startLiveStreamRequest failed: ".concat(e)),o(e)}))}))}},{key:"stopLiveStreaming",value:async function e(t){return new Promise(((e,r)=>{const n={type:"STOP_PUBLISH",traceId:yC.generateStandardUuid(),taskId:t,"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)};this.sendRequest(n).then((t=>{if(0!==t.resultCode){const e=JSON.stringify(n);this.logger.error(rj,"stopLiveStreaming code:".concat(t.resultCode,", msg:").concat(t.resultMessage,", request ").concat(e)),r(new oc(Number(t.resultCode),t.resultMessage))}else{this.logger.info(rj,"stopLiveStreaming success"),e(t)}})).catch((e=>{this.logger.info(rj,"stopLiveStreaming failed: ".concat(e)),r(e)}))}))}},{key:"receiveMsg",value:function e(t){if(t.type){switch(KP.has("".concat(t.type))||this.logger.info(rj,"message type: ".concat(t.type)),t.type){case qP.statusChangeNotify:var r;null===(r=t.infos)||void 0===r||r.forEach((e=>{AC.addPrivacyString(e.userId),AC.addPrivacyString(e.appData.nickname)})),this.emit(qP.statusChangeNotify,t);break;case qP.uploadLogNotify:this.emit(qP.uploadLogNotify,t);break;case qP.pushStreamNotify:{const e=t;AC.addPrivacyString(e.userId),this.emit(qP.pushStreamNotify,t);break}case qP.stopPushStreamNotify:{const e=t;AC.addPrivacyString(e.userId),this.emit(qP.stopPushStreamNotify,t);break}case qP.watchStreamNotify:this.emit(qP.watchStreamNotify,t);break;case qP.changeStreamStatusNotify:{const e=t;AC.addPrivacyString(e.userId),this.emit(qP.changeStreamStatusNotify,t);break}case qP.disconnectNotify:{const e=t;AC.addPrivacyString(e.userId),this.emit(qP.disconnectNotify,t);break}case qP.reconnectNotify:{const e=t;AC.addPrivacyString(e.userId),this.emit(qP.reconnectNotify,t);break}case qP.configNotify:this.emit(qP.configNotify,t);break;case qP.appDataChangeNotify:{const e=t;AC.addPrivacyString(e.userId),this.emit(qP.appDataChangeNotify,t);break}case qP.top3AudioVolumeNotify:var n;null===(n=t.topUserAudios)||void 0===n||n.forEach((e=>{AC.addPrivacyString(e.userId)})),this.emit(qP.top3AudioVolumeNotify,t);break;case qP.publishStatusNotify:this.emit(qP.publishStatusNotify,t);break;case qP.roomStreamStatusNotify:this.emit(qP.roomStreamStatusNotify,t);break;case qP.kickRoomNotify:this.emit(qP.kickRoomNotify);break;default:this.logger.error(rj,"unknown message type ".concat(t.type))}}else{this.logger.error(rj,"unknown message:".concat(t))}}},{key:"setConfigParams",value:function e(t){this.socket.setKeepAliveParams(t)}},{key:"getInfo",value:function e(){return{traceId:this.traceId}}},{key:"mediaRelay",value:function e(t,r,n){return new Promise(((e,i)=>{var o,a,s;const u={type:"ROOM_MEDIA_RELAY",srcRoomToken:{roomId:n.roomId,userId:(null===(o=t.srcRoomRelayInfo)||void 0===o?void 0:o.userId)||"0",role:0===n.role?PN.JOINER:PN.PLAYER,ctime:null===(a=t.srcRoomRelayInfo)||void 0===a?void 0:a.ctime,token:null===(s=t.srcRoomRelayInfo)||void 0===s?void 0:s.authorization}};u[r?"addDstRoomInfo":"removeDstRoomInfo"]=t.dstRoomRelayInfo.map((e=>({roomId:e.roomId,userId:n.userId,role:0===e.role?PN.JOINER:PN.PLAYER,ctime:e.ctime,token:e.authorization}))),this.sendRequest(u).then((t=>{0!==t.resultCode?i(new oc(Number(t.resultCode),t.resultMessage)):(this.logger.info(rj,"mediaRelay success"),e(t))})).catch((e=>{this.logger.info(rj,"mediaRelay failed: ".concat(e)),i(e)}))}))}}],[{key:"isLastTry",value:function e(t,r){return r===t+1}},{key:"setJoinRequest",value:function e(t,r,n,i,o,a,s,u){const c={type:"JOIN_ROOM",sdp:{secCap:"sec3.0",sfuType:zL.getParameter(xL)||JM.COMMON_SFU_RESOURCE,crypto:{type:1},frameType:zL.getParameter(DL)||aM.NON_ENCRYPTION,audios:[{content:$P.main,codecs:[{codec:tj.OPUS,pt:XN.opusPayload,ability:2}],audioLevel:3}],videos:[{content:$P.main,codecs:[{codec:tj.H264,pt:QN.h264PayLoad,ability:2}]},{content:$P.slides,codecs:[{codec:tj.H264,pt:QN.h264PayLoad,ability:2}]}],desktopVideos:[{content:$P.desktop,codecs:[{codec:tj.H264,pt:QN.h264PayLoad,ability:2}]}],audioPolicy:i,bandwidths:o},negSdp:[{type:$N.MAIN,sdp:r},{type:$N.DESKTOP,sdp:n}],scenario:1,relayMode:0,agentType:2,appData:t.appData,mediaData:{portType:a},"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)},l=zL.getParameter(LL);return l&&(c.sdp.resourceTags=l),s&&(c.sdp.command={codecs:[{codec:tj.OPUS,pt:ZN.cmdPayload}],content:"cmd=1"}),Object.assign(c.mediaData,u||{}),c}},{key:"setSwitchRoleRequest",value:function e(t,r){return{type:"SWITCH_ROLE",role:t===kN?PN.JOINER:PN.PLAYER,authorization:r.signature,ctime:parseInt(r.ctime),"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16)}}}])}(TN);let oj=function(){function e(){a(this,e);this.audioStreams=new Map,this.logger=AC.getLogger()}return u(e,[{key:"getAudioStreams",value:function e(){return[...this.audioStreams.values()]}},{key:"getAudioStream",value:function e(t){return this.audioStreams.get(t)}},{key:"addAudioStream",value:function e(t,r){const n={audioPlayer:null,audioMediaTrack:null,streamId:t,ssrc:r,playStatus:"init"};this.audioStreams.set(t,n)}},{key:"updateAudioStream",value:function e(t,r){const n=this.audioStreams.get(t);n.audioMediaTrack=r,n.audioPlayer=new _D({logger:this.logger,playerId:t,track:r,isRemote:!0})}},{key:"getAudioLevel",value:function e(){const t=[];for(const e of this.audioStreams.values()){var r;t.push({streamId:e.streamId,ssrc:e.ssrc,level:null===(r=e.audioPlayer)||void 0===r?void 0:r.getAudioLevel()})}return t}},{key:"setAudioOutput",value:async function e(t){if("sinkId"in HTMLMediaElement.prototype&&t){for(const e of this.audioStreams.values()){await e.audioPlayer.setSinkId(t)}}}},{key:"setAudioVolume",value:function e(t){const r=t/100;for(const e of this.audioStreams.values()){var n;if("notAllow"===e.playStatus){this.resume(e.streamId).then((()=>{var t;null===(t=e.audioPlayer)||void 0===t||t.setVolume(r)}))}else{null===(n=e.audioPlayer)||void 0===n||n.setVolume(r)}}}},{key:"muteAudio",value:function e(t){for(const e of this.audioStreams.values()){t||"notAllow"!==e.playStatus?e.audioMediaTrack.enabled=!t:this.resume(e.streamId).then((()=>{e.audioMediaTrack.enabled=!t}))}}},{key:"isAudioMuted",value:function e(){const t=Array.from(this.audioStreams.values());return!t.every((e=>"normal"===e.playStatus))||!t.every((e=>e.audioMediaTrack.enabled))}},{key:"play",value:async function e(t){return new Promise(((e,r)=>{for(const o of this.audioStreams.values()){var n;if(t){if(o.streamId===t){var i;null===(i=o.audioPlayer)||void 0===i||i.play().then((()=>{o.playStatus="normal",e(null)})).catch((e=>{this.logger.error("RemoteTopNAudioStreams","resume failed, error: ".concat(e)),o.playStatus="notAllow",r(e)}));break}}else{null===(n=o.audioPlayer)||void 0===n||n.play().then((()=>{o.playStatus="normal",e(null)})).catch((e=>{this.logger.error("RemoteTopNAudioStreams","resume failed, error: ".concat(e)),o.playStatus="notAllow",r(e)}))}}}))}},{key:"resume",value:async function e(t){for(const e of this.audioStreams.values()){try{var r;if(t){if(e.streamId===t){var n;await(null===(n=e.audioPlayer)||void 0===n?void 0:n.resume()),e.playStatus="normal";break}}else{await(null===(r=e.audioPlayer)||void 0===r?void 0:r.resume()),e.playStatus="normal"}}catch(t){this.logger.error("RemoteTopNAudioStreams","resume failed, error: ".concat(t)),e.playStatus="notAllow"}}}},{key:"setAudioVolume4Id",value:function e(t,r){for(const e of this.audioStreams.values()){if(e.streamId===t&&e.audioPlayer){"notAllow"===e.playStatus?this.resume(t).then((()=>{e.audioPlayer.setVolume(r/100)})):e.audioPlayer.setVolume(r/100);break}}}},{key:"close",value:function e(t){if(t&&this.audioStreams.has(t)){const e=this.audioStreams.get(t);return e.audioPlayer.stop(),e.audioMediaTrack=null,e.audioPlayer=null,e.playStatus="init",void this.audioStreams.delete(t)}for(const e of this.audioStreams.values()){e.audioPlayer.stop(),e.audioMediaTrack=null,e.audioPlayer=null,e.playStatus="init"}this.audioStreams.clear()}}])}();const aj="LocalStreamPublishManager";let sj=function(){function e(){a(this,e);this.logger=AC.getLogger(),this.localStreams=new Map,this.sdpRepInfo=null}return u(e,[{key:"reset",value:function e(){Array.from(this.localStreams.values()).forEach((e=>{e.localTrackPublishInfos.clear()})),this.logger.info(aj,"reset successfully")}},{key:"getStreamTrackInfo",value:function e(t){const r=[];let n;return t.getHRTCTracks({hasTrack:!0}).forEach((e=>{const i=e.getTrackProfile();if(e.getTrackType()===YM.TRACK_TYPE_AUDIO){e.setTrackId(this.sdpRepInfo.audio.streamCodecs[0].streamUid.toString()),n={type:YM.TRACK_TYPE_AUDIO,resolutionId:e.getResolutionId(),upstream:{content:$P.main,mute:e.getTrackMuted(),maxMbps:Math.round((i.bitrate||0)/1e3),sampleRate:i.sampleRate,channels:i.channelCount,codec:tj.OPUS,pt:XN.opusPayload,streamUid:this.sdpRepInfo.audio.streamCodecs[0].streamUid,ssrc:this.sdpRepInfo.audio.sendSsrcBegin}}}else{let r;if(t.isAuxiliary()){e.setTrackId(this.sdpRepInfo.desktopVideo.streamCodecs[0].streamUid.toString()),r={content:$P.desktop,mute:e.getTrackMuted(),width:i.width,height:i.height,fps:i.frameRate,maxMbps:Math.round((i.maxBitrate||0)/1e3),maxFs:i.frameRate,codec:tj.H264,pt:QN.h264PayLoad,streamUid:this.sdpRepInfo.desktopVideo.streamCodecs[0].streamUid,ssrc:this.sdpRepInfo.desktopVideo.sendSsrcBegin}}else{const t=e.getTrackContentType(),n=this.sdpRepInfo.video.streamCodecs.find((e=>e.content===t)).streamUid;e.setTrackId(n.toString()),r={content:t,mute:e.getTrackMuted(),width:i.width,height:i.height,fps:i.frameRate,maxMbps:Math.round((i.maxBitrate||0)/1e3),maxFs:i.frameRate,codec:tj.H264,pt:QN.h264PayLoad,streamUid:n,ssrc:t===$P.main?this.sdpRepInfo.video.sendSsrcBegin:this.sdpRepInfo.video.sendSsrcEnd}}n={type:YM.TRACK_TYPE_VIDEO,resolutionId:e.getResolutionId(),upstream:r}}r.push(n)})),this.logger.debug(aj,"getStreamTrackInfo, get trackInfos: ".concat(JSON.stringify(r))),r}},{key:"getLocalStream",value:function e(t){const r=this.localStreams.get(t);return r?r.localStream:null}},{key:"generatePubInfoWhenPublish",value:function e(t,r){const n={allTracks2Publish:[],tracks2NewPublish:[],tracks2KeepPublish:[],tracks2UnPublish:[]},i=t.isAuxiliary()?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,o=this.localStreams.get(i);return o&&0!==o.localTrackPublishInfos.size?this.isSameStreamId(t)?this.updateStream(t,n):this.replaceStream(t,n):this.addStream(t,n,r),this.buildAll2PublishTrackInfo(n.allTracks2Publish,t.isAuxiliary(),!0),this.logger.info(aj,"generatePubInfoWhenPublish tracks2Update input: ".concat(JSON.stringify(n))),n}},{key:"setSdpRepInfo",value:function e(t){this.sdpRepInfo=t}},{key:"buildAll2PublishTrackInfo",value:function e(t,r,n){r?(this.buildMediaPubInfo(t,YM.TRACK_TYPE_VIDEO,KM.STREAM_TYPE_MAIN),this.buildMediaPubInfo(t,YM.TRACK_TYPE_AUDIO,KM.STREAM_TYPE_MAIN),n&&this.buildMediaPubInfo(t,YM.TRACK_TYPE_VIDEO,KM.STREAM_TYPE_AUX)):(this.buildMediaPubInfo(t,YM.TRACK_TYPE_VIDEO,KM.STREAM_TYPE_AUX),n&&(this.buildMediaPubInfo(t,YM.TRACK_TYPE_VIDEO,KM.STREAM_TYPE_MAIN),this.buildMediaPubInfo(t,YM.TRACK_TYPE_AUDIO,KM.STREAM_TYPE_MAIN)))}},{key:"buildMediaPubInfo",value:function e(t,r,n){var i;const o=null===(i=this.localStreams.get(n))||void 0===i?void 0:i.localTrackPublishInfos;o&&Array.from(o.values()).filter((e=>e.type===r)).forEach((e=>{e.sender&&(e.upstream.mute=!e.sender.track.enabled),t.push(e)}))}},{key:"isSameStreamId",value:function e(t){const r=t.isAuxiliary()?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN;return this.localStreams.get(r).streamId===t.getLocalId()}},{key:"updateStream",value:function t(r,n){this.logger.info(aj,"updateStream, update stream begin");const i=[],o=r.isAuxiliary()?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,a=this.getStreamTrackInfo(r),s=this.localStreams.get(o);a.forEach((e=>{const t=s.localTrackPublishInfos.get(e.resolutionId);i.push(e),t?(t.upstream.mute=e.upstream.mute,t.published&&n.tracks2KeepPublish.push(t),t.watched&&!t.published&&n.tracks2NewPublish.push(t)):this.addTrack(o,e,n,s)}));const u=[];Array.from(s.localTrackPublishInfos.values()).forEach((t=>{const r=i.find((e=>e.resolutionId===t.resolutionId));if(r){if(!e.isSameResolution(r,t)){const e={type:r.type,resolutionId:r.resolutionId,upstream:r.upstream,published:t.published,watched:t.watched,ssrc:t.ssrc,sender:t.sender};s.localTrackPublishInfos.set(r.resolutionId,e)}}else{t.published&&n.tracks2UnPublish.push(t),u.push(t.resolutionId)}})),u.forEach((e=>{s.localTrackPublishInfos.delete(e)})),this.logger.info(aj,"updateStream, update stream ".concat(r.getLocalId()," successfully\n    ").concat(e.getString4TrackPublishInfos(s.localTrackPublishInfos)))}},{key:"replaceStream",value:function e(t,r){return this.logger.info(aj,"replaceStream begin"),this.addStream(t,r)}},{key:"addStream",value:function t(r,n,i){const o=r.isAuxiliary()?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,a=this.getStreamTrackInfo(r),s={localStream:r,streamId:r.getLocalId(),localTrackPublishInfos:new Map};a.forEach((e=>{this.addTrack(o,e,n,s,i)})),this.localStreams.set(o,s),this.logger.info(aj,"addStream, add stream ".concat(r.getLocalId()," successfully ,\n    ").concat(e.getString4TrackPublishInfos(s.localTrackPublishInfos)))}},{key:"generatePubInfoWhenUnPublish",value:function e(t){const r=t.isAuxiliary()?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,n={allTracks2Publish:[],tracks2KeepPublish:[],tracks2NewPublish:[],tracks2UnPublish:[]},i=this.localStreams.get(r);return i?(Array.from(i.localTrackPublishInfos.values()).filter((e=>e.published)).forEach((e=>{n.tracks2UnPublish.push(e)})),this.buildAll2PublishTrackInfo(n.allTracks2Publish,t.isAuxiliary(),!1),n):(this.logger.warn(aj,"stream not publish"),n.allTracks2Publish=null,n)}},{key:"removeStream",value:function e(t){const r=t.isAuxiliary()?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN;if(!this.localStreams.has(r)){throw this.logger.error(aj,"removeStream, stream not exist"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}this.localStreams.delete(r)}},{key:"generatePubInfoWhenWatch",value:function e(t,r,n,i){if(this.logger.info(aj,"generatePubInfoWhenWatch watch ".concat(t," streams")),!r||!n){return null}const o={allTracks2Publish:null,tracks2KeepPublish:[],tracks2NewPublish:[],tracks2UnPublish:[]},a=this.localStreams.get(t);if(!a){return this.logger.info(aj,"generatePubInfoWhenWatch, stream not exist"),null}const s=Array.from(a.localTrackPublishInfos.values());return 0===r.length&&0===n.length?s.forEach((e=>{this.renewTrack2Update(!1,e,o)})):i===YM.TRACK_TYPE_VIDEO&&0===r.length&&n.length>0&&s.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)).forEach((e=>{this.renewTrack2Update(!1,e,o)})),s.forEach((e=>{if(r.length>0&&e.type===YM.TRACK_TYPE_VIDEO){const t=r.find((t=>t===e.upstream.ssrc));this.renewTrack2Update(!!t,e,o)}if(n.length>0&&e.type===YM.TRACK_TYPE_AUDIO){const t=n.find((t=>t===e.upstream.ssrc));this.renewTrack2Update(!!t,e,o)}})),r.forEach((e=>{s.some((t=>e===t.upstream.ssrc))||this.logger.error(aj,"generatePubInfoWhenWatch, watch video ssrc:".concat(e," is not exist"))})),n.forEach((e=>{s.some((t=>e===t.upstream.ssrc))||this.logger.error(aj,"generatePubInfoWhenWatch, watch audio ssrc:".concat(e," is not exist"))})),o}},{key:"renewTrack2Update",value:function e(t,r,n){t?r.published?(n.tracks2KeepPublish.push(r),this.logger.info(aj,"generatePubInfoWhenWatch, keep ".concat(r.type," ssrc:").concat(r.ssrc))):(r.watched=!0,n.tracks2NewPublish.push(r),this.logger.info(aj,"generatePubInfoWhenWatch, new publish ".concat(r.type," ssrc:").concat(r.ssrc))):r.published&&(r.watched=!1,n.tracks2UnPublish.push(r),this.logger.info(aj,"generatePubInfoWhenWatch, new unpublish ".concat(r.type," ssrc:").concat(r.ssrc)))}},{key:"addTrack",value:function t(r,n,i,o,a){const s=e.getDefaultWatchFlag(r,n.type,a),u={type:n.type,resolutionId:n.resolutionId,published:!1,watched:s,upstream:n.upstream,ssrc:n.upstream.ssrc,sender:null};u.watched&&i.tracks2NewPublish.push(u),o.localTrackPublishInfos.set(n.resolutionId,u),this.logger.info(aj,"addTrack, add track for resolutionId ".concat(n.resolutionId," successfully"))}},{key:"publishAuxVideoTrackOK",value:function e(t,r){this.publishTrackSuccess(KM.STREAM_TYPE_AUX,YM.TRACK_TYPE_VIDEO,t,r)}},{key:"publishMainVideoTrackOK",value:function e(t,r,n){this.publishTrackSuccess(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_VIDEO,t,r,n)}},{key:"publishMainAudioTrackOK",value:function e(t,r){this.publishTrackSuccess(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_AUDIO,t,r)}},{key:"publishTrackSuccess",value:function e(t,r,n,i,o){const a=this.localStreams.get(t);if(!a){throw this.logger.error(aj,"stream is empty"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const s=this.getTrackInfo(a,r,o);if(!s){throw this.logger.error(aj,"getTrackInfo return empty"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}s.published&&this.logger.info(aj,"stream already published"),s.published=!0,s.sender=n,this.logger.info(aj,"publish track for trackId: ".concat(o," successfully"))}},{key:"unPublishTrackSuccess",value:function e(t,r,n){const i=this.localStreams.get(t);if(!i){throw this.logger.error(aj,"stream is empty"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}if(r===YM.TRACK_TYPE_VIDEO&&!n){throw this.logger.error(aj,"video trackId is empty"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const o=this.getTrackInfo(i,r,n);o?(o.published||this.logger.info(aj,"stream already unPublished"),o.published=!1,o.sender=null,this.logger.info(aj,"unPublish track for trackId: ".concat(n," successfully"))):this.logger.info(aj,"getTrackInfo return empty")}},{key:"getMainStreamVideoPublishInfo",value:function e(){return this.getTrackPublishInfos(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_VIDEO)}},{key:"getPublishedMainVideoTrackInfo",value:function e(t){const r=this.getTrackPublishInfo(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_VIDEO,t);return null!=r&&r.published&&r.sender?r:null}},{key:"getPublishedMainAudioTrackInfo",value:function e(){const t=this.getTrackPublishInfo(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_AUDIO);return null!=t&&t.published&&t.sender?t:null}},{key:"getPublishedAuxVideoTrackInfo",value:function e(){const t=this.getTrackPublishInfo(KM.STREAM_TYPE_AUX,YM.TRACK_TYPE_VIDEO);return null!=t&&t.published&&t.sender?t:null}},{key:"getPublishedMainVideoTrackInfos",value:function e(){const t=this.getTrackPublishInfos(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_VIDEO);return(null==t?void 0:t.length)>0?t.filter((e=>e.published&&e.sender)):null}},{key:"getPublishedMainStreamInfos",value:function e(){const t=this.getTrackPublishInfos(KM.STREAM_TYPE_MAIN);return(null==t?void 0:t.length)>0?t.filter((e=>e.published&&e.sender)):null}},{key:"getPublishedAuxStreamInfo",value:function e(){const t=this.localStreams.get(KM.STREAM_TYPE_AUX);if(!t){return null}return Array.from(t.localTrackPublishInfos.values()).find((e=>e.published&&e.sender))?t:null}},{key:"getTrackPublishInfos",value:function e(t,r){const n=this.localStreams.get(t);return n?r?Array.from(n.localTrackPublishInfos.values()).filter((e=>e.type===r)):Array.from(n.localTrackPublishInfos.values()):(this.logger.info(aj,"getTrackPublishInfos, not found"),null)}},{key:"getTrackPublishInfo",value:function e(t,r,n){const i=this.localStreams.get(t);return i?this.getTrackInfo(i,r,n):null}},{key:"isAuxVideoTrackPublished",value:function e(){const t=this.isTrackPublished(KM.STREAM_TYPE_AUX,YM.TRACK_TYPE_VIDEO);return this.logger.info(aj,"isAuxVideoTrackPublished: ".concat(t)),t}},{key:"isMainStreamPublished",value:function e(){const t=this.isTrackPublished(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_VIDEO)||this.isTrackPublished(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_AUDIO);return this.logger.info(aj,"isMainVideoTrackPublished: ".concat(t)),t}},{key:"isTrackPublished",value:function e(t,r,n){const i=this.localStreams.get(t);if(!i){return this.logger.info(aj,"isTrackPublished, not found"),!1}const o=this.getTrackInfo(i,r,n);return o?o.published&&!!o.sender:(this.logger.info(aj,"isTrackPublished, not found"),!1)}},{key:"getTrackInfo",value:function t(r,n,i){if(!r||0===r.localTrackPublishInfos.size){return null}if(n===YM.TRACK_TYPE_AUDIO){return Array.from(r.localTrackPublishInfos.values()).find((e=>e.type===YM.TRACK_TYPE_AUDIO))}if(i){return Array.from(r.localTrackPublishInfos.values()).find((e=>e.type===YM.TRACK_TYPE_VIDEO&&e.upstream.streamUid.toString()===i))}const o=e.getMaxResolutionId(r);return o?r.localTrackPublishInfos.get(o):null}},{key:"unPublishAuxStreamOK",value:function e(){this.unPublishStreamSuccess(KM.STREAM_TYPE_AUX)}},{key:"unPublishMainStreamOK",value:function e(){this.unPublishStreamSuccess(KM.STREAM_TYPE_MAIN)}},{key:"unPublishStreamSuccess",value:function e(t){var r;const n=this.localStreams.get(t);n?(null===(r=n.localStream)||void 0===r||r.getHRTCTracks({hasTrack:!0,mediaType:YM.TRACK_TYPE_VIDEO}).forEach((e=>e&&e.setTrackId(""))),this.removeStream(n.localStream),this.logger.info(aj,"unPublishStreamSuccess, ".concat(t))):this.logger.warn(aj,"stream not publish")}},{key:"isAuxVideoTrackValid",value:function e(t){return this.isTrackValid(KM.STREAM_TYPE_AUX,YM.TRACK_TYPE_VIDEO,t)}},{key:"isTrackValid",value:function e(t,r,n){const i=this.localStreams.get(t);return i?Array.from(i.localTrackPublishInfos.values()).some((e=>e.type===r&&e.upstream.streamUid.toString()===n)):(this.logger.info(aj,"isTrackValid, not found"),!1)}},{key:"generateOptTags",value:function e(t,r){const n=[],i=this.localStreams.get(t);if(!i){return n}return Array.from(i.localTrackPublishInfos.values()).filter((e=>e.type===r&&e.published&&e.sender)).forEach((e=>{if(r===YM.TRACK_TYPE_VIDEO){const t=e.upstream?e.upstream.height:0,r=e.upstream?e.upstream.width:0,i="".concat(e.ssrc,":").concat(t,"*").concat(r);n.push(i)}else{var t;const r=null===(t=i.localStream.getAudioHRTCTrack())||void 0===t?void 0:t.getTrackProfile(),o="".concat(e.ssrc,":").concat(r?r.sampleRate:0);n.push(o)}})),n}},{key:"generateMainAudioOptTag",value:function e(){const t=this.generateOptTags(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_AUDIO);return t.length>0?t[0]:null}},{key:"generateAuxOptTag",value:function e(){const t=this.generateOptTags(KM.STREAM_TYPE_AUX,YM.TRACK_TYPE_VIDEO);return t.length>0?t[0]:null}},{key:"generateMainVideoOptTags",value:function e(){const t=this.generateOptTags(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_VIDEO);return t.length>0?t:null}}],[{key:"getString4TrackPublishInfos",value:function e(t){let r;for(const e of t.entries()){r="".concat(r||""," resolutionId: ").concat(e[0],", track type: ").concat(e[1].type,"， watched: ").concat(e[1].watched,", published: ").concat(e[1].published)}return r}},{key:"isSameResolution",value:function e(t,r){return t.upstream.height===r.upstream.height&&t.upstream.width===r.upstream.width}},{key:"getDefaultWatchFlag",value:function e(t,r,n){return t===KM.STREAM_TYPE_MAIN&&r===YM.TRACK_TYPE_AUDIO||(null==n?void 0:n.autoPushVideo)&&r===YM.TRACK_TYPE_VIDEO}},{key:"getMaxResolutionId",value:function e(t){var r,n;return null==t||null===(r=t.localStream)||void 0===r||null===(n=r.getMaxResolutionHRTCTrack())||void 0===n?void 0:n.getResolutionId()}}])}();var uj={},cj={exports:{}},lj=cj.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(lj).forEach((function(e){lj[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))})),function(e){var t=function(e){return String(Number(e))===e?Number(e):e},r=function(e,r,n){var i=e.name&&e.names;e.push&&!r[e.push]?r[e.push]=[]:i&&!r[e.name]&&(r[e.name]={});var o=e.push?{}:i?r[e.name]:r;!function(e,r,n,i){if(i&&!n){r[i]=t(e[1])}else{for(var o=0;o<n.length;o+=1){null!=e[o+1]&&(r[n[o]]=t(e[o+1]))}}}(n.match(e.reg),o,e.names,e.name),e.push&&r[e.push].push(o)},n=cj.exports,i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},o=[],a=t;return e.split(/(\r\n|\r|\n)/).filter(i).forEach((function(e){var t=e[0],i=e.slice(2);"m"===t&&(o.push({rtp:[],fmtp:[]}),a=o[o.length-1]);for(var s=0;s<(n[t]||[]).length;s+=1){var u=n[t][s];if(u.reg.test(i)){return r(u,a,i)}}})),t.media=o,t};var o=function(e,r){var n=r.split(/=(.+)/,2);return 2===n.length?e[n[0]]=t(n[1]):1===n.length&&r.length>1&&(e[n[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var r=[],n=e.split(" ").map(t),i=0;i<n.length;i+=3){r.push({component:n[i],ip:n[i+1],port:n[i+2]})}return r},e.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(o,{})}))},e.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var r,n=!1;return"~"!==e[0]?r=t(e):(r=t(e.substring(1,e.length)),n=!0),{scid:r,paused:n}}))}))}}(uj);var fj=cj.exports,dj=/%[sdv%]/g,hj=function(e){var t=1,r=arguments,n=r.length;return e.replace(dj,(function(e){if(t>=n){return e}var i=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},pj=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names){for(var i=0;i<t.names.length;i+=1){var o=t.names[i];t.name?n.push(r[t.name][o]):n.push(r[t.names[i]])}}else{n.push(r[t.name])}return hj.apply(null,n)},vj=["v","o","s","i","u","e","p","c","b","t","r","z","a"],gj=["i","c","b","a"],mj=uj,yj=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||vj,n=t.innerOrder||gj,i=[];return r.forEach((function(t){fj[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(pj(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(pj(t,r,e))}))}))})),e.media.forEach((function(e){i.push(pj("m",fj.m[0],e)),n.forEach((function(t){fj[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(pj(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(pj(t,r,e))}))}))}))})),i.join("\r\n")+"\r\n"},_j=yj,bj=mj.parse,Ej=mj.parseParams;const Sj="packetization-mode",wj="profile-level-id",Tj="sps-pps-idr-in-keyframe",Cj=["groups","media"],Aj=["candidates","connection","direction","mid","payloads","port","protocol","rtp","type","fmtp","ssrcs"];let Rj=function(){function e(t){a(this,e);o(this,"module_","sdp"),o(this,"ssrcAttrCname_","cname"),o(this,"ssrcAttrMslabel_","mslabel"),o(this,"ssrcAttrLabel_","label"),o(this,"ssrcAttrMsid_","msid"),this.logger_=t}return u(e,[{key:"setPortType",value:function e(t){this.portType_=t}},{key:"parseSdp",value:function e(t){if(!t){return void this.logger_.error(this.module_,"parseSdp failed : sdp  is null ")}const r=bj(t);if(0!==r.media.length){return r}this.logger_.error(this.module_,"parseSdp failed : the media of sdp is null ")}},{key:"printSdpInfo",value:function e(t){const r=this.parseSdp(t);if(r){for(const e in r){Object.prototype.hasOwnProperty.call(r,e)&&(Cj.includes(e)||delete r[e],"media"===e&&r[e].forEach((e=>{for(const t in e){Aj.includes(t)||delete e[t]}})))}return yC.shieldIpAddress(_j(r))}}},{key:"getMedias",value:function e(t,r){return t.media.filter((e=>{let{type:t}=e;return t===r}))}},{key:"deleteUnexpectedMedia",value:function e(t){t.media&&(t.media=t.media.filter((e=>{let{type:t}=e;return t===YM.TRACK_TYPE_VIDEO||t===YM.TRACK_TYPE_AUDIO||t===YM.TYPE_APPLICATION})),this.portType_===iM.portNormal&&t.groups&&(t.groups=t.groups.filter((e=>{let{type:t}=e;return"BUNDLE"!==t.toLocaleUpperCase()}))))}},{key:"transformVideoPayload",value:function t(r,n){if(!r.rtp){return void this.logger_.warn(this.module_,"transformVideoPayload failed ,rtp is null")}let i=null,o=null,a=0;for(const t of r.rtp){if(t.codec.toUpperCase()!==tj.H264){continue}o||(o=t.payload,this.logger_.info(this.module_,"record firstPayload, firstPayload: ".concat(o)));const n=e.getPacketizationMode(r.fmtp,t.payload),s=e.getProfileLevelId(r.fmtp,t.payload);if(1===n&&(0===a&&(o=t.payload,a=1),"42e01f"===s)){i=t.payload,this.logger_.info(this.module_,"set retainPayload in transformVideoPayload, retainPayload: ".concat(i));break}}i||(i=o,this.logger_.info(this.module_,"no expected payload, use firstPayload as retainPayload, retainPayload: ".concat(i))),i?(e.deletePayload(r,i),e.modifyPayload(r,QN.h264PayLoad),e.addVideoFec(r,n),e.addFmtpAttr(r,QN.h264PayLoad,"max-br","5000000"),e.addFmtpAttr(r,QN.h264PayLoad,Tj,"1"),e.addFmtpAttr(r,QN.rtxPayLoad,"apt","".concat(QN.h264PayLoad)),e.addFmtpAttr(r,QN.rtxPayLoad,Tj,"1")):this.logger_.error(this.module_,"transformVideoPayload failed,can not find expected payload.")}},{key:"transformAudioPayload",value:function t(r){if(!r.rtp){return void this.logger_.warn(this.module_,"transformAudioPayload failed, rtp is null")}let n;for(const e of r.rtp){if(e.codec.toLowerCase()===tj.OPUS){n=e.payload;break}}n?(e.deletePayload(r,n),e.modifyPayload(r,XN.opusPayload),e.addNack(r)):this.logger_.error(this.module_,"transformAudioPayload failed,can not find expected payload.")}},{key:"deleteRetransmissionSsrc",value:function e(t){if(!t.ssrcGroups||!t.ssrcs){return}const r=[];t.ssrcGroups.forEach((e=>{let{ssrcs:t}=e;const n=this.getRetransmissionSsrc(t);null!=n&&r.push(n)})),0!==r.length&&(t.ssrcGroups=void 0,t.ssrcs=t.ssrcs.filter((e=>{let{id:t}=e;return!r.includes(t.toString())})))}},{key:"addVideoSsrcRange",value:function e(t,r){!r||r.length<1||(t.invalid||(t.invalid=[]),t.invalid.push({value:"send-ssrc-list:".concat(r.join(","))}))}},{key:"modifyCandidate",value:function e(t,r){if(!t.candidates){const e=null==r?void 0:r.find((e=>"".concat(t.mid)==="".concat(e.sdpMid)));if(e){const r=/.*generation\s(\d+).*/.exec(e.candidate)||[],n=/.*network\-id\s(\d+).*/.exec(e.candidate)||[],i=/.*network\-cost\s(\d+).*/.exec(e.candidate)||[];t.candidates=t.candidates||[],t.candidates.push({foundation:e.foundation,component:"rtp"===e.component?1:2,transport:e.protocol,priority:e.priority,ip:e.address,port:e.port,type:e.type,raddr:e.relatedAddress,rport:e.relatedPort,tcptype:e.tcpType,generation:2===r.length?parseInt(r[1]):void 0,"network-id":2===n.length?parseInt(n[1]):void 0,"network-cost":2===i.length?parseInt(i[1]):void 0})}}}},{key:"getRetransmissionSsrc",value:function e(t){if(!t){return void this.logger_.warn(this.module_,"getRetransmissionSsrc failed, ssrcs is null")}const r=t.split(" ");if(2===r.length){return r[1]}this.logger_.warn(this.module_,"getRetransmissionSsrc failed, ssrcs(".concat(t,") is invalid"))}},{key:"generateSsrcMslabel",value:function e(){return yC.generateRandomId(36)}},{key:"containsValidVideoPayload",value:function e(t){this.logger_.debug(this.module_,"containsValidVideoPayload, offerSdp: ".concat(this.printSdpInfo(t)));const r=this.parseSdp(t);if(!r){return this.logger_.error(this.module_,"containsValidVideoPayload failed,the sdp is invalid"),!1}return this.getMedias(r,YM.TRACK_TYPE_VIDEO).some((e=>{var t;return null===(t=e.rtp)||void 0===t?void 0:t.some((e=>e.codec.toUpperCase()===tj.H264))}))}},{key:"transformOfferSdp",value:function e(t,r){this.logger_.info(this.module_,"transformOfferSdp begin");const n=this.parseSdp(t);if(!n){return void this.logger_.error(this.module_,"transformOfferSdp failed,the sdp is invalid")}this.checkWhetherSDPisSupportedFlexfec(n,r),this.deleteUnexpectedMedia(n);const i=this.getMedias(n,YM.TRACK_TYPE_VIDEO),o=this.getMedias(n,YM.TRACK_TYPE_AUDIO);i.forEach((e=>{this.transformVideoPayload(e,r),this.deleteRetransmissionSsrc(e)})),o.forEach((e=>{this.transformAudioPayload(e),this.deleteRetransmissionSsrc(e)}));const a=_j(n);return this.logger_.debug(this.module_,"transformOfferSdp success, sdp: ".concat(this.printSdpInfo(a))),a}},{key:"checkWhetherSDPisSupportedFlexfec",value:function e(t,r){const n=this.getMedias(t,YM.TRACK_TYPE_VIDEO);for(let e=0;e<n.length;e++){const t=!!n[e].rtp.filter((e=>{let{codec:t}=e;return"flexfec-03"===t}));if(r&&(r.fecEnable=t,this.logger_.info(this.module_,"checkWhetherSDPisSupportedFlexfec fecEnable: ".concat(t))),t){break}}}},{key:"editOrigin",value:function e(t){t.origin&&(t.origin.username=rx.getBrowserInfo())}},{key:"modifyAuxSdpInfo",value:function e(t,r,n){const i=this.parseSdp(t);if(!i){return void this.logger_.error(this.module_,"modifyAuxSdpInfo failed,the sdp is invalid : ".concat(t))}this.editOrigin(i);const o=this.getMedias(i,YM.TRACK_TYPE_VIDEO);o&&o.length>0&&(this.addVideoSsrcRange(o[0],n),this.modifyCandidate(o[0],r));const a=_j(i);return this.logger_.debug(this.module_,"modifyAuxSdpInfo success, sdp: ".concat(this.printSdpInfo(a))),a}},{key:"modifyMainSdpInfo",value:function t(r,n,i,o,a,s){const u=this.parseSdp(r);if(!u){return void this.logger_.error(this.module_,"modifyMainSdpInfo failed, the sdp is invalid : ".concat(r))}this.editOrigin(u);const c=this.getMedias(u,YM.TRACK_TYPE_VIDEO),l=this.getMedias(u,YM.TRACK_TYPE_AUDIO);let f="",d="";if(c&&c.length>0&&(this.addVideoSsrcRange(c[0],i),this.modifyCandidate(c[0],n),d=c[0].mid,c.length>1)){for(let e=0;e<u.media.length;e++){u.media[e].type!==YM.TRACK_TYPE_AUDIO&&u.media[e].mid!==c[0].mid&&delete u.media[e]}}l&&l.length>0&&(e.addAudioSsrcRange(l[0],o,a),this.modifyCandidate(l[0],n),f=l[0].mid);for(const e of u.groups||[]){if("BUNDLE"===e.type){e.mids="".concat(f," ").concat(d);break}}a&&this.addNegCmdInfo(u,s);const h=_j(u);return this.logger_.debug(this.module_,"modifyMainSdpInfo success, sdp: ".concat(this.printSdpInfo(h))),h}},{key:"addNegCmdInfo",value:function e(t,r){if(r){const e=this.parseSdp(r).media.find((e=>e.type===YM.TYPE_APPLICATION)),n=t.media.filter((e=>null==e?void 0:e.type)),i=n[n.length-1];e.mid=["audio","video"].includes(i.mid)?"data":i.mid+1,t.media.push(e),t.groups.forEach((t=>{"BUNDLE"===t.type&&(t.mids="".concat(t.mids," ").concat(e.mid))}))}const n={type:"application",port:443,protocol:"TCP/WSS/RTP *",setup:"active",invalid:[]};n.invalid.push({value:"connection:new"}),n.invalid.push({value:"content:cmd"}),n.invalid.push({value:"bindCrypto-type:0"}),n.invalid.push({value:"bindCrypto-method:hmac-share256"}),t.media.push(n)}},{key:"getSfuInfo",value:function e(t,r){const n=this.parseSdp(t),i={ipAddress:"",auxPort:0};let o;const a=this.getMedias(n,YM.TRACK_TYPE_AUDIO);a&&a.length>0&&(i.audioPort=a[0].port,o=a[0].connection);const s=this.getMedias(n,YM.TRACK_TYPE_VIDEO);if(s&&s.length>0&&(i.videoPort=s[0].port,o=s[0].connection),o&&(i.ipAddress=o.ip),r){const e=this.parseSdp(r),t=this.getMedias(e,YM.TRACK_TYPE_VIDEO);t&&t.length>0&&t[0].connection&&(i.auxPort=t[0].port)}return i}}],[{key:"addAudioSsrcRange",value:function e(t,r,n){if(r){if(t.invalid||(t.invalid=[]),n){const e=yC.getRandomUint32();t.invalid.push({value:"send-ssrc-list:".concat(r,",").concat(e)})}else{t.invalid.push({value:"send-ssrc-list:".concat(r)})}}}},{key:"getPacketizationMode",value:function e(t,r){if(!t){return 1}for(const e of t){if(e.payload!==r){continue}if(!e.config.includes(Sj)){return 1}const t=Ej(e.config);return null==t[Sj]?1:parseInt(String(t[Sj]),10)}return 1}},{key:"getProfileLevelId",value:function e(t,r){if(!t){return""}for(const e of t){if(e.payload!==r){continue}if(!e.config.includes(wj)){return""}const t=Ej(e.config);return t[wj]?String(t[wj]):""}return""}},{key:"deletePayload",value:function e(t,r){t.rtp&&(t.rtp=t.rtp.filter((e=>{let{payload:t}=e;return t===r}))),t.rtcpFb&&(t.rtcpFb=t.rtcpFb.filter((e=>{let{payload:t}=e;return t===r}))),t.fmtp&&(t.fmtp=t.fmtp.filter((e=>{let{payload:t}=e;return t===r}))),t.payloads=r.toString()}},{key:"modifyPayload",value:function e(t,r){t.rtp&&t.rtp.forEach((e=>{e.payload=r})),t.rtcpFb&&t.rtcpFb.forEach((e=>{e.payload=r})),t.fmtp&&t.fmtp.forEach((e=>{e.payload=r,t.type===YM.TRACK_TYPE_AUDIO&&/stereo/.test(e.config)&&(e.config=e.config.replace("stereo=1","stereo=0"))})),t.payloads=r.toString()}},{key:"addVideoFec",value:function e(t,r){t.rtp||(t.rtp=[]),t.rtp.push({payload:QN.rtxPayLoad,codec:"rtx",rate:9e4}),t.rtp.push({payload:QN.redPayLoad,codec:"red",rate:9e4}),t.rtp.push({payload:QN.ulpfecPayLoad,codec:"ulpfec",rate:9e4}),null!=r&&r.fecEnable?(t.rtp.push({payload:125,codec:"flexfec-03",rate:9e4}),t.payloads="".concat(QN.rtxPayLoad," ").concat(t.payloads," ").concat(QN.redPayLoad," ").concat(QN.ulpfecPayLoad," 125")):t.payloads="".concat(QN.rtxPayLoad," ").concat(t.payloads," ").concat(QN.redPayLoad," ").concat(QN.ulpfecPayLoad)}},{key:"addFmtpAttr",value:function e(t,r,n,i){if(!t.fmtp||0===t.fmtp.length){return t.fmtp=[],void t.fmtp.push({payload:r,config:n+"="+i})}const o=t.fmtp.find((e=>e.payload===r));if(o){if(Ej(o.config)[n]){return}o.config=o.config+";"+n+"="+i}else{t.fmtp.push({payload:r,config:n+"="+i})}}},{key:"addNack",value:function e(t){const r=t.rtp[0].payload;t.rtcpFb||(t.rtcpFb=[]),t.rtcpFb.push({payload:r,type:"ccm",subtype:"fir"}),t.rtcpFb.push({payload:r,type:"nack"}),t.rtcpFb.push({payload:r,type:"nack",subtype:"pli"})}},{key:"generateSsrcLabel",value:function e(){return"".concat(yC.generateRandomId(8,36),"-").concat(yC.generateRandomId(4,36),"-").concat(yC.generateRandomId(4,36),"-").concat(yC.generateRandomId(4,36),"-").concat(yC.generateRandomId(12,36))}},{key:"addSsrcAttr",value:function e(t,r,n){t.ssrcs||(t.ssrcs=[]);for(let e=0;e<n.length;e++){t.ssrcs.push({id:r,attribute:n[e][0],value:n[e][1]})}}},{key:"deleteSsrcAttr",value:function e(t,r){t.ssrcs&&(t.ssrcs=t.ssrcs.filter((e=>{let{id:t}=e;return!r.find((e=>e.toString()===t.toString()))})))}},{key:"getNegCmdInfoAndDelete",value:function e(t){let r="",n="",i=!1;for(let e=0;e<t.length;e++){"application"===t[e].type&&(/TCP\/WSS?\/RTP/gi.test(t[e].protocol)?(t[e].invalid.forEach((e=>{e.value.indexOf("bindCrypto-key")>=0&&(r=e.value.substring(15)),e.value.indexOf("websocket-uri")>=0&&(n=e.value.substring(14))})),t.splice(e,1)):/SCTP/gi.test(t[e].protocol)&&(i=!0))}return{bindCryptoKey:r,wsUrl:n,dataChannelEnable:i}}}])}();let Ij=function(e){function t(){a(this,t);return f(this,t,arguments)}p(t,e);return u(t,[{key:"hasSSRC",value:function e(t,r){const n=this.parseSdp(t);if(!n){return this.logger_.error(this.module_,"hasSSRC failed"),!1}const i=this.getMedias(n,r);return i&&i.length>0&&!!i[0].ssrcs}},{key:"getMslabelByCname",value:function e(t,r){if(!t){return null}if(!t.ssrcs){return null}let n;for(const e of t.ssrcs){if(e.attribute.toLocaleLowerCase()===this.ssrcAttrCname_&&e.value===r){n=e.id;break}}if(!n){return null}for(const e of t.ssrcs){if(e.id===n&&e.attribute.toLocaleLowerCase()===this.ssrcAttrMslabel_){return e.value}}return null}},{key:"addSsrc",value:function e(t,r,n,i,o,a){const s=n,u=this.getMslabelByCname(t,s),c=this.getMslabelByCname(r,s);let l,f,d=!1,h=!1;if(u&&u===i||!o||(h=!0),c&&c===i||!a||(d=!0),h&&(l=c||i||this.generateSsrcMslabel()),d&&(f=i||this.generateSsrcMslabel()),this.logger_.debug(this.module_,"addSsrc, userId: ".concat(n,", audioMslabel: ").concat(l," videooMslabel: ").concat(f)),l){const e=Rj.generateSsrcLabel(),r=[[this.ssrcAttrCname_,s],[this.ssrcAttrMslabel_,l],[this.ssrcAttrLabel_,e],[this.ssrcAttrMsid_,l+" "+e]];Rj.addSsrcAttr(t,o,r)}if(f){const e=Rj.generateSsrcLabel(),t=[[this.ssrcAttrCname_,s],[this.ssrcAttrMslabel_,f],[this.ssrcAttrLabel_,e],[this.ssrcAttrMsid_,f+" "+e]];Rj.addSsrcAttr(r,a,t)}return f||l}},{key:"transformAnswerSdp",value:function e(r){this.logger_.debug(this.module_,"transformAnswerSdp, answerSdp: ".concat(this.printSdpInfo(r)));const n=this.parseSdp(r);if(!n){return void this.logger_.error(this.module_,"transformAnswerSdp failed,the sdp is invalid")}const i=this.getMedias(n,YM.TRACK_TYPE_VIDEO),o=this.getMedias(n,YM.TRACK_TYPE_AUDIO);i&&i.length>0&&(this.portType_===iM.portNormal&&(i[0].rtcpMux=void 0),t.modifyDirection(i[0])),i.forEach((e=>{var t;const r=[];null===(t=e.ext)||void 0===t||t.forEach((e=>{r.find((t=>t.uri===e.uri))||r.push(e)})),r.length>0&&(e.ext=r)})),o&&o.length>0&&(this.portType_===iM.portNormal&&(o[0].rtcpMux=void 0),t.modifyDirection(o[0])),this.portType_===iM.portNormal&&(n.groups=void 0);const{bindCryptoKey:a,wsUrl:s,dataChannelEnable:u}=Rj.getNegCmdInfoAndDelete(n.media),c=_j(n);return this.logger_.debug(this.module_,"transformAnswerSdp success,answerSdp: ".concat(this.printSdpInfo(c))),{remoteDescription:c,bindCryptoKey:a,wsUrl:s,dataChannelEnable:u}}},{key:"deleteSSRC",value:function e(r,n,i){if(0===n.length&&!i){return r}this.logger_.info(this.module_,"deleteVideoSSRC ".concat(n,", ").concat(i));const o=this.parseSdp(r);if(!o){return void this.logger_.error(this.module_,"deleteVideoSSRC failed")}const a=this.getMedias(o,YM.TRACK_TYPE_VIDEO);a&&a.length>0&&(n&&Rj.deleteSsrcAttr(a[0],n),t.modifyDirection(a[0]));const s=this.getMedias(o,YM.TRACK_TYPE_AUDIO);s&&s.length>0&&(i&&Rj.deleteSsrcAttr(s[0],[i]),t.modifyDirection(s[0]));const u=_j(o);return this.logger_.info(this.module_,"deleteVideoSSRC ".concat(n," success")),u}},{key:"addUser",value:function e(r,n,i,o){const a=this.parseSdp(r);if(!a){return void this.logger_.error(this.module_,"addUser failed,the sdp is invalid : ".concat(r))}const s=this.getMedias(a,YM.TRACK_TYPE_VIDEO),u=this.getMedias(a,YM.TRACK_TYPE_AUDIO);let c,l;s&&s.length>0&&(c=s[0]),u&&u.length>0&&(l=u[0]);const f=this.addSsrc(l,c,n,i,o.audioSsrc,o.videoSsrc);c&&t.modifyDirection(c),l&&t.modifyDirection(l);const d=_j(a);return this.logger_.debug(this.module_,"addUser success, answerSdp: ".concat(this.printSdpInfo(d))),{answerSdp:d,streamId:f}}},{key:"deleteUser",value:function e(r,n,i){const o=this.parseSdp(r);if(!o){return void this.logger_.error(this.module_,"deleteUser failed,the sdp is invalid : ".concat(r))}if((null==n?void 0:n.length)>0){const e=this.getMedias(o,YM.TRACK_TYPE_VIDEO);e&&e.length>0&&(n.forEach((t=>{t&&Rj.deleteSsrcAttr(e[0],[t])})),t.modifyDirection(e[0]))}if((null==i?void 0:i.length)>0){const e=this.getMedias(o,YM.TRACK_TYPE_AUDIO);e&&e.length>0&&(i.forEach((t=>{t&&Rj.deleteSsrcAttr(e[0],[t])})),t.modifyDirection(e[0]))}const a=_j(o);return this.logger_.debug(this.module_,"deleteUser success, answerSdp: ".concat(this.printSdpInfo(a))),a}},{key:"modifyPublishOfferSdp",value:function e(r,n,i){this.logger_.debug(this.module_,"modifyPublishOfferSdp start, sdp: ".concat(this.printSdpInfo(r)));const o=this.parseSdp(r);if(!o){return void this.logger_.error(this.module_,"modifyPublishOfferSdp failed, the sdp is invalid: ".concat(r))}this.deleteUnexpectedMedia(o);const a=this.getMedias(o,YM.TRACK_TYPE_VIDEO),s=this.getMedias(o,YM.TRACK_TYPE_AUDIO);if(a&&a.length>0&&(this.transformVideoPayload(a[0]),this.deleteRetransmissionSsrc(a[0]),n&&n.length>0&&t.modifyMediaSsrc(a[0],n)),s&&s.length>0&&(this.transformAudioPayload(s[0]),this.deleteRetransmissionSsrc(s[0]),i)){const e=[i];t.modifyMediaSsrc(s[0],e)}const u=_j(o);return this.logger_.debug(this.module_,"modifyPublishOfferSdp success, sdp: ".concat(this.printSdpInfo(u))),u}}],[{key:"modifyDirection",value:function e(t){t.ssrcs&&0!==t.ssrcs.length?t.direction=JN.SEND_RECV:t.direction=JN.RECV_ONLY}},{key:"modifyMediaSsrc",value:function e(t,r){if(!t.ssrcs){return}for(let e=0;e<r.length;e++){for(let n=0;n<4;n++){t.ssrcs[4*e+n].id=r[e]}}}}])}(Rj);let kj=function(e){function t(){a(this,t);return f(this,t,arguments)}p(t,e);return u(t,[{key:"addSSRC",value:function e(t,r,n,i,o){this.logger_.info(this.module_,"addSSRC streamid: ".concat(n));const a=n||this.generateSsrcMslabel();this.logger_.debug(this.module_,"addSSRC, userId:".concat(r,", mslabel:").concat(a,", streamId:").concat(n,", ssrc:").concat(i,", fec:").concat(o)),t.ssrcs&&delete t.ssrcs;const s=Rj.generateSsrcLabel(),u=[[this.ssrcAttrCname_,r],[this.ssrcAttrMslabel_,a],[this.ssrcAttrLabel_,s],[this.ssrcAttrMsid_,a+" "+s]];return Rj.addSsrcAttr(t,i,u),o&&Rj.addSsrcAttr(t,i+1e3,u),a}},{key:"hasSSRC",value:function e(t,r){const n=this.parseSdp(t);if(!n){return this.logger_.error(this.module_,"hasSSRC failed"),!1}return this.getMedias(n,r).some((e=>(e.direction===JN.SEND_ONLY||e.direction===JN.SEND_RECV)&&!!e.ssrcs))}},{key:"delteInvalidLines",value:function e(t){this.deleteUnexpectedMedia(t);const r=this.getMedias(t,YM.TRACK_TYPE_VIDEO),n=this.getMedias(t,YM.TRACK_TYPE_AUDIO);r.forEach((e=>{this.transformVideoPayload(e),this.deleteRetransmissionSsrc(e)})),n.forEach((e=>{this.transformAudioPayload(e),this.deleteRetransmissionSsrc(e)}))}},{key:"getAvailableSenderMedia",value:function e(t,r){return t.media.filter((e=>{let{type:t,direction:n}=e;return t===r&&(n===JN.SEND_ONLY||n===JN.SEND_RECV)}))}},{key:"modifyUnifiedMediaSsrc",value:function e(t,r,n){if(t.ssrcs&&0!==t.ssrcs.length){t.ssrcs.forEach((e=>{e.attribute===this.ssrcAttrCname_&&(e.value=n),e.id=r}))}else{const e=[[this.ssrcAttrCname_,n]];Rj.addSsrcAttr(t,r,e)}}},{key:"modifyAnswerDirection",value:function e(t,r){var n;const i=this.parseSdp(t);if(!i){return void this.logger_.error(this.module_,"modifyAnswerDirection failed,the sdp is invalid")}const o=null===(n=i.media)||void 0===n?void 0:n.find((e=>"".concat(e.mid)==="".concat(r)));return o&&(o.direction===JN.INACTIVE?o.direction=JN.RECV_ONLY:o.direction===JN.SEND_ONLY&&(o.direction=JN.SEND_RECV)),_j(i)}},{key:"transformAnswerSdp",value:function e(r,n){this.logger_.debug(this.module_,"transformAnswerSdp, answerSdp: ".concat(this.printSdpInfo(r)));const i=this.parseSdp(r),o=this.parseSdp(n);if(!i||!o){return void this.logger_.error(this.module_,"transformAnswerSdp failed,the sdp is invalid")}this.getMedias(i,YM.TRACK_TYPE_AUDIO).forEach((e=>{this.portType_===iM.portNormal&&(e.rtcpMux=void 0),e.ssrcs||(e.direction=JN.INACTIVE)}));let a=this.getMedias(i,YM.TRACK_TYPE_VIDEO);const s=this.getMedias(o,YM.TRACK_TYPE_VIDEO);if(s.length!==a.length){const e=a.map((e=>"".concat(e.mid)));s.forEach((r=>{if(!e.includes("".concat(r.mid))){const e=JSON.parse(JSON.stringify(a[0]));e.mid=r.mid,i.media.push(e),t.modifyBundle(i,r.mid)}}))}a=this.getMedias(i,YM.TRACK_TYPE_VIDEO),a.forEach((e=>{var t;this.portType_===iM.portNormal&&(e.rtcpMux=void 0),e.direction=JN.INACTIVE;const r=[];null===(t=e.ext)||void 0===t||t.forEach((e=>{r.find((t=>t.uri===e.uri))||r.push(e)})),r.length>0&&(e.ext=r)})),this.portType_===iM.portNormal&&(i.groups=void 0);const{bindCryptoKey:u,wsUrl:c,dataChannelEnable:l}=Rj.getNegCmdInfoAndDelete(i.media),f=this.getMedias(i,YM.TYPE_APPLICATION);if(i.media=i.media.filter((e=>e.type!==YM.TYPE_APPLICATION)),f.length>0){const e=this.getMedias(i,YM.TRACK_TYPE_VIDEO).map((e=>parseInt("".concat(e.mid))));f[0].mid="".concat(Math.max(...e)+1),rx.isFirefox()&&(f[0].port=9),i.media.push(...f),t.modifyBundle(i,"".concat(f[0].mid))}const d=_j(i);return this.logger_.debug(this.module_,"transformAnswerSdp success,answerSdp: ".concat(this.printSdpInfo(d))),{remoteDescription:d,bindCryptoKey:u,wsUrl:c,dataChannelEnable:l}}},{key:"addUser",value:function e(r,n,i,o,a,s){var u,c;const l=this.parseSdp(r);if(!l){return this.logger_.error(this.module_,"addUser failed,the sdp is invalid : ".concat(r)),null}const f=this.parseSdp(n);if(!f){return this.logger_.error(this.module_,"addUser failed,the sdp is invalid : ".concat(n)),null}this.delteInvalidLines(f);const d=null===(u=f.media)||void 0===u?void 0:u.find((e=>"".concat(e.mid)===i)),h=null===(c=l.media)||void 0===c?void 0:c.find((e=>e.type===d.type)),p=JSON.parse(JSON.stringify(h));p.mid=i,p.direction=JN.SEND_ONLY,p.type===YM.TRACK_TYPE_AUDIO&&this.portType_===iM.portReduce&&delete p.candidates;const v=this.addSSRC(p,o,a,s);l.media.push(p),t.modifyBundle(l,i),t.modifyDirectionWhenAddUser(p,d);const g=_j(l),m=_j(f);return this.logger_.debug(this.module_,"addUser success, offer: ".concat(this.printSdpInfo(m)," answer: ").concat(this.printSdpInfo(g))),{offerSdp:m,answerSdp:g,streamId:v}}},{key:"deleteUser",value:async function e(r,n,i,o,a){const s=this.parseSdp(r);if(!s){return this.logger_.error(this.module_,"deleteUser failed,the sdp is invalid : ".concat(r)),null}const u=this.parseSdp(n);if(!u){return this.logger_.error(this.module_,"deleteUser failed,the sdp is invalid : ".concat(n)),null}for(const e of s.media){if(e.ssrcs&&e.ssrcs.some((e=>i.includes(parseInt("".concat(e.id)))))){var c,l;t.modifyDirectionWhenDelUser(e,u.media.find((t=>t.mid===e.mid)));let r=0;for(null===(c=e.ssrcGroups)||void 0===c||c.forEach((e=>{var t;"FEC-FR"===e.semantics&&(r=Number(null===(t=e.ssrcs.split(" "))||void 0===t?void 0:t[1]))}));null!==(f=e.ssrcs)&&void 0!==f&&f.find((e=>e.id===r));){var f,d;const t=null===(d=e.ssrcs)||void 0===d?void 0:d.findIndex((e=>e.id===r));e.ssrcs.splice(t,1)}null===(l=e.ssrcs)||void 0===l||l.forEach((e=>{e.value="-"}));const n=o.find((t=>"".concat(t.mid)==="".concat(e.mid)));n&&(n.direction=n.currentDirection===JN.SEND_RECV||n.currentDirection===JN.SEND_ONLY?JN.SEND_ONLY:JN.INACTIVE,await a(n.receiver))}}const h=_j(s),p=_j(u);return this.logger_.debug(this.module_,"deleteUser success, offer: ".concat(this.printSdpInfo(p)," answer: ").concat(this.printSdpInfo(h))),{offerSdp:p,answerSdp:h}}},{key:"modifySdpByMid",value:function e(r,n,i,o,a,s,u){var c,l;const f=this.parseSdp(r);if(!f){return this.logger_.error(this.module_,"modifySdpByMid failed,the sdp is invalid : ".concat(r)),null}const d=null===(c=f.media)||void 0===c?void 0:c.find((e=>"".concat(e.mid)===i)),h="video"===d.type,p=this.addSSRC(d,o,a,s,u&&h);u&&h&&(d.payloads="".concat(d.payloads," ").concat(QN.fec03PayLoad),d.rtp.push({payload:QN.fec03PayLoad,codec:"flexfec-03",rate:ej.fec03PayLoad}),d.fmtp.push({payload:QN.fec03PayLoad,config:"repair-window:200000"}),d.ssrcGroups=[],d.ssrcGroups.push({semantics:"FEC-FR",ssrcs:"".concat(s," ").concat(s+1e3)}));const v=this.parseSdp(n);v||this.logger_.error(this.module_,"modifySdpByMid failed,the sdp is invalid : ".concat(n));const g=null===(l=v.media)||void 0===l?void 0:l.find((e=>"".concat(e.mid)===i));t.modifyDirectionWhenAddUser(d,g);const m=_j(f),y=_j(v);return this.logger_.debug(this.module_,"modifySdpByMid success, offer: ".concat(this.printSdpInfo(y)," answer: ").concat(this.printSdpInfo(m))),{offerSdp:y,answerSdp:m,streamId:p}}},{key:"getAllMidsByType",value:function e(t,r){var n;const i=this.parseSdp(t),o=[];return i?(null===(n=i.media)||void 0===n||n.forEach((e=>{e.type===r&&o.push("".concat(e.mid))})),o):(this.logger_.error(this.module_,"getAllMidsByType failed,the sdp is invalid : ".concat(t)),o)}},{key:"getOfferVideoMidBySsrc",value:function e(t,r,n){var i;const o=this.parseSdp(t);let a=null;return o?(null===(i=o.media)||void 0===i||i.forEach((e=>{e.type===r&&e.ssrcs&&e.ssrcs.length>0&&"".concat(e.ssrcs[0].id)==="".concat(n)&&(a="".concat(e.mid))})),a):(this.logger_.error(this.module_,"getOfferVideoMidBySsrc failed,the sdp is invalid : ".concat(t)),a)}},{key:"getIdleTransceiverWithSameSsrc",value:function e(t,r,n){if(!r||0===r.length){return null}const i=this.parseSdp(t);if(!i){return this.logger_.error(this.module_,"getIdleMidWithSameSsrc failed,the sdp is invalid : ".concat(t)),null}const o=i.media.find((e=>!(!e.ssrcs||0===e.ssrcs.length)&&e.ssrcs[0].id===n));let a;for(const e of r){if(o){if("".concat(o.mid)==="".concat(e.mid)){a=r.splice(r.indexOf(e),1)[0];break}}else{const t=i.media.find((t=>"".concat(t.mid)==="".concat(e.mid)));if(!t.ssrcs||0===t.ssrcs.length){a=r.shift();break}}}return a}},{key:"deleteSSRC",value:function e(r,n,i,o){if(0===i.length&&!o){return r}this.logger_.info(this.module_,"deleteSSRC ".concat(i,", ").concat(o));const a=this.parseSdp(r),s=this.parseSdp(n);if(!a){return void this.logger_.error(this.module_,"deleteSSRC failed")}null==i||i.forEach((e=>{a.media.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)).forEach((r=>{var n;if(null!==(n=r.ssrcs)&&void 0!==n&&n.find((t=>t.id===e))){var i;const e=null===(i=s.media)||void 0===i?void 0:i.find((e=>"".concat(e.mid)==="".concat(r.mid)));t.modifyDirectionWhenPublish(r,e,!1),r.ssrcs=void 0}}))})),a.media.filter((e=>e.type===YM.TRACK_TYPE_AUDIO)).forEach((e=>{var r;if(null!==(r=e.ssrcs)&&void 0!==r&&r.find((e=>e.id===o))){var n;const r=null===(n=s.media)||void 0===n?void 0:n.find((t=>"".concat(t.mid)==="".concat(e.mid)));t.modifyDirectionWhenPublish(e,r,!1),e.ssrcs=void 0}}));const u=_j(a),c=_j(s);return this.logger_.debug(this.module_,"deleteSSRC ".concat(i," success, offer: ").concat(this.printSdpInfo(u)," answer: ").concat(this.printSdpInfo(c))),{offerSdp:u,answerSdp:c}}},{key:"modifyPublishOfferSdp",value:function e(r,n,i,o,a){this.logger_.debug(this.module_,"modifyPublishOfferSdp start, sdp: ".concat(this.printSdpInfo(r)));const s=this.parseSdp(r),u=this.parseSdp(n);if(!s){return void this.logger_.error(this.module_,"modifyPublishOfferSdp failed, the sdp is invalid: ".concat(r))}if(this.deleteUnexpectedMedia(s),o&&o.length>0){let e=this.getAvailableSenderMedia(s,YM.TRACK_TYPE_VIDEO);null==o||o.forEach((r=>{var n;let o=e.find((e=>{var t;return null===(t=e.ssrcs)||void 0===t?void 0:t.find((e=>"".concat(e.id)==="".concat(r)))}));o?e=e.filter((e=>{var t;return!e.ssrcs||(null===(t=e.ssrcs)||void 0===t?void 0:t.find((e=>"".concat(e.id)!=="".concat(r))))})):o=e.shift(),this.transformVideoPayload(o),this.deleteRetransmissionSsrc(o),this.modifyUnifiedMediaSsrc(o,r,i);const a=null===(n=u.media)||void 0===n?void 0:n.find((e=>"".concat(e.mid)==="".concat(o.mid)));t.modifyDirectionWhenPublish(o,a,!0)}))}s.media.filter((e=>{let{type:t,direction:r}=e;return t===YM.TRACK_TYPE_VIDEO&&r!==JN.SEND_ONLY&&r!==JN.SEND_RECV})).forEach((e=>{this.transformVideoPayload(e),this.deleteRetransmissionSsrc(e),e.ssrcs=void 0}));const c=this.getAvailableSenderMedia(s,YM.TRACK_TYPE_AUDIO);if(c&&c.length>0){const e=c[0];if(this.transformAudioPayload(e),this.deleteRetransmissionSsrc(e),a){var l;const r=null===(l=u.media)||void 0===l?void 0:l.find((t=>"".concat(t.mid)==="".concat(e.mid)));this.modifyUnifiedMediaSsrc(e,a,i),t.modifyDirectionWhenPublish(e,r,!0)}}const f=_j(s),d=_j(u);return this.logger_.debug(this.module_,"modifyPublishOfferSdp success, offerSdp: ".concat(this.printSdpInfo(f),", answerSdp: ").concat(this.printSdpInfo(d))),{offerSdp:f,answerSdp:d}}},{key:"generateMatchedAnswerWithOffer",value:function e(r,n,i){this.logger_.debug(this.module_,"generateCorrespondingRemoteSdpMedia start, sdp: ".concat(this.printSdpInfo(r)));const o=this.parseSdp(r);this.portType_!==iM.portNormal&&t.modifyBundle(o,n);const a=this.getMedias(o,i);if(!a||0===a.length){return r}const s=JSON.parse(JSON.stringify(a[0]));s.mid=n,delete s.ssrcs,delete s.candidates,s.direction=JN.INACTIVE,o.media.push(s);const u=_j(o);return this.logger_.debug(this.module_,"generateCorrespondingRemoteSdpMedia success, sdp: ".concat(this.printSdpInfo(u))),u}},{key:"getBrowserDefaultSsrc",value:function e(t){const r=this.parseSdp(t),n=this.getMedias(r,YM.TRACK_TYPE_VIDEO),i=this.getMedias(r,YM.TRACK_TYPE_AUDIO),o=[];let a;if(n&&n.length>0&&n.forEach((e=>{e.ssrcs&&e.ssrcs.length>0&&o.push(parseInt(e.ssrcs[0].id.toString()))})),i&&i.length>0){for(const e of i){if(e.ssrcs&&e.ssrcs.length>0){a=parseInt(e.ssrcs[0].id.toString());break}}}return{videoSsrcs:o,audioSsrc:a}}},{key:"getLeastMid",value:function e(t){const r=this.parseSdp(t);if(!r){return void this.logger_.error(this.module_,"getLeastMid failed, the sdp is invalid : ".concat(t))}let n;for(const e of r.groups||[]){if("BUNDLE"===e.type){const t=(e.mids||"").split(" ");n=t[t.length-1];break}}return n}}],[{key:"modifyDirectionWhenAddUser",value:function e(t,r){t&&(t.direction===JN.RECV_ONLY?t.direction=JN.SEND_RECV:t.direction===JN.INACTIVE&&(t.direction=JN.SEND_ONLY)),r&&(r.direction===JN.SEND_ONLY?r.direction=JN.SEND_RECV:r.direction===JN.INACTIVE&&(r.direction=JN.RECV_ONLY))}},{key:"modifyDirectionWhenDelUser",value:function e(t,r){t.direction===JN.SEND_RECV?t.direction=JN.RECV_ONLY:t.direction===JN.SEND_ONLY&&(t.direction=JN.INACTIVE),r.direction===JN.SEND_RECV?r.direction=JN.SEND_ONLY:r.direction===JN.RECV_ONLY&&(r.direction=JN.INACTIVE)}},{key:"modifyBundle",value:function e(t,r){for(const e of t.groups||[]){if("BUNDLE"===e.type){if("string"==typeof e.mids){e.mids.split(" ").includes("".concat(r))||(e.mids="".concat(e.mids," ").concat(r))}else{"number"==typeof e.mids&&(e.mids="".concat(e.mids," ").concat(r))}break}}}},{key:"modifyDirectionWhenPublish",value:function e(t,r,n){n?t.direction===JN.RECV_ONLY?t.direction=JN.SEND_RECV:t.direction===JN.INACTIVE&&(t.direction=JN.SEND_ONLY):t.direction===JN.SEND_ONLY?t.direction=JN.INACTIVE:t.direction===JN.SEND_RECV&&(t.direction=JN.RECV_ONLY),n?r.direction===JN.SEND_ONLY?r.direction=JN.SEND_RECV:r.direction===JN.INACTIVE&&(r.direction=JN.RECV_ONLY):r.direction===JN.SEND_RECV?r.direction=JN.SEND_ONLY:r.direction===JN.RECV_ONLY&&(r.direction=JN.INACTIVE)}}])}(Rj);const Oj="PeerConnectionsManager";let Pj=function(e){function t(e,r,n){var i;a(this,t);i=f(this,t,[{logger:e,stat:r,emitter:n}]),o(h(i),"isFireFox",rx.isFirefox()),o(h(i),"userMid",new Map),i.peerConnections=new Map,rx.isOnlySupportUnfiedPlan()?(i.sdpDescMode="unified-plan",i.rtcSdp=new kj(i.logger)):(i.sdpDescMode="plan-b",i.rtcSdp=new Ij(i.logger)),i.logger.debug(Oj,"ConnectionsManager, SDP mode: ".concat(i.sdpDescMode)),i.setPortType(iM.portReduce),i.mainReceiverPreStatisticMap=new Map,i.auxReceiverPreStatisticMap=new Map;return i}p(t,e);return u(t,[{key:"setPortType",value:function e(t){const r=zL.getParameter(UL)||0;0!==r&&(t=r),t===iM.portNormal&&rx.isOnlySupportUnfiedPlan()&&(t=iM.portReduce),this.portType=t,this.portType===iM.portNormal&&(this.sdpDescMode="plan-b",this.rtcSdp=new Ij(this.logger)),this.logger.debug(Oj,"ConnectionsManager, portType: ".concat(1===this.portType?"normal":"reduce")),this.rtcSdp.setPortType(this.portType)}},{key:"getPortType",value:function e(){return this.portType}},{key:"setTurnServer",value:function e(t){this.turnServerConfig=t}},{key:"isConnectionsExist",value:function e(){return this.peerConnections.size>0}},{key:"getConnectionId",value:function e(){return this.uniqueId}},{key:"getReceivers",value:function e(t){var r;const n=null===(r=this.peerConnections.get(t))||void 0===r?void 0:r.connection;if("plan-b"===this.sdpDescMode){return null==n?void 0:n.getReceivers()}const i=[],o=null==n?void 0:n.getTransceivers();if(!o){return null}for(const e of o){e.currentDirection!==JN.SEND_RECV&&e.currentDirection!==JN.RECV_ONLY||i.push(e.receiver)}return i}},{key:"getSenders",value:function e(t){var r;const n=null===(r=this.peerConnections.get(t))||void 0===r?void 0:r.connection;if("plan-b"===this.sdpDescMode){return null==n?void 0:n.getSenders()}const i=[],o=null==n?void 0:n.getTransceivers();if(!o){return null}for(const e of o){e.currentDirection!==JN.SEND_RECV&&e.currentDirection!==JN.SEND_ONLY||i.push(e.sender)}return i}},{key:"calcChangedStatistic",value:function e(t,r,n){if(this.mainReceiverPreStatisticMap.has(t)||this.auxReceiverPreStatisticMap.has(t)){const e=this.mainReceiverPreStatisticMap.get(t)||this.auxReceiverPreStatisticMap.get(t);if("number"==typeof r){return Object.prototype.hasOwnProperty.call(e,n[0])?r>=e[n[0]]?r-e[n[0]]:(this.clearReveiverPreStatisticBySsrcLabel(t),r):r}this.doCalcChangedStatisticObject(t,r,e,n)}else if("number"==typeof r){return r}}},{key:"doCalcChangedStatisticObject",value:function e(t,r,n,i){if(i&&i.length>0){let e=0;for(const t of i){Object.prototype.hasOwnProperty.call(n,t)&&(r[t]>=n[t]?r[t]=r[t]-n[t]:e++)}e>=i.length-1&&this.clearReveiverPreStatisticBySsrcLabel(t)}else{let e=0;for(const t in r){Object.prototype.hasOwnProperty.call(n,t)&&(r[t]>=n[t]?r[t]=r[t]-n[t]:e++)}e===Object.keys(r).length&&this.clearReveiverPreStatisticBySsrcLabel(t)}}},{key:"clearReveiverPreStatisticBySsrcLabel",value:function e(t){this.mainReceiverPreStatisticMap.delete(t)||this.auxReceiverPreStatisticMap.delete(t)}},{key:"initConnectionAndSdp",value:async function e(t,r,n,i,o){this.uniqueId=t;const a=this.createPeerConnection(r),s="main"!==r;let u=await this.createOffer(r,{offerToReceiveAudio:!s,offerToReceiveVideo:!0});if(this.isFireFox){r===KM.STREAM_TYPE_MAIN&&(await a.connection.setLocalDescription({type:"offer",sdp:this.rtcSdp.transformOfferSdp(u.sdp)}),a.connection.addTransceiver("video",{direction:JN.INACTIVE}),u=await a.connection.createOffer());const e=this.rtcSdp.getBrowserDefaultSsrc(u.sdp);a.videoSendSsrcs=e.videoSsrcs,a.sendSsrcsMapping=new Map,e.videoSsrcs.forEach(((e,t)=>{a.sendSsrcsMapping.set(t,e)})),!s&&e.audioSsrc&&(a.audioSendSsrc=e.audioSsrc,a.sendSsrcsMapping.set(2,e.audioSsrc))}const c=this.rtcSdp.transformOfferSdp(u.sdp,o);if(await a.connection.setLocalDescription({type:"offer",sdp:c}),await this.iceAddressCollect(a.connection),!this.isFireFox){const e=a.connection.localDescription.sdp;this.logger.debug(Oj,"setLocalDescription, ".concat(r,"sdp offer: ").concat(this.rtcSdp.printSdpInfo(e))),await a.connection.setLocalDescription({type:"offer",sdp:this.rtcSdp.transformOfferSdp(e)})}s?this.onConnection(a,n.onTrackHandler,!0):this.rtcSdp.containsValidVideoPayload(u.sdp)||i?this.onConnection(a,n.onTrackHandler,!1):(this.destroyPeerConnection(r),this.logger.error(Oj,"initConnectionAndSdp, no H264 payload and try createOffer again"),await this.initConnectionAndSdp(t,r,n,!0))}},{key:"setSsrcsMapping",value:function e(t){const r=this.peerConnections.get(KM.STREAM_TYPE_MAIN);r.sendSsrcsMapping&&r.sendSsrcsMapping.size>0&&(r.sendSsrcsMapping.has(0)&&(r.sendSsrcsMapping.set(t.video.sendSsrcBegin,r.sendSsrcsMapping.get(0)),r.sendSsrcsMapping.delete(0)),r.sendSsrcsMapping.has(1)&&(r.sendSsrcsMapping.set(t.video.sendSsrcEnd,r.sendSsrcsMapping.get(1)),r.sendSsrcsMapping.delete(1)),r.sendSsrcsMapping.has(2)&&(r.sendSsrcsMapping.set(t.audio.sendSsrcBegin,r.sendSsrcsMapping.get(2)),r.sendSsrcsMapping.delete(2)));const n=this.peerConnections.get(KM.STREAM_TYPE_AUX);n.sendSsrcsMapping&&n.sendSsrcsMapping.size>0&&n.sendSsrcsMapping.has(0)&&(n.sendSsrcsMapping.set(t.desktopVideo.sendSsrcBegin,n.sendSsrcsMapping.get(0)),n.sendSsrcsMapping.delete(0))}},{key:"getMappingSsrcs",value:function e(t,r){if(!t){return}let n;return r||"number"!=typeof t?(n=this.peerConnections.get(r),!n.sendSsrcsMapping||n.sendSsrcsMapping.size<1?t:"number"==typeof t?n.sendSsrcsMapping.has(t)?n.sendSsrcsMapping.get(t):t:t.map((e=>n.sendSsrcsMapping.has(e)?n.sendSsrcsMapping.get(e):e))):(n=this.peerConnections.get(KM.STREAM_TYPE_MAIN),n.sendSsrcsMapping.has(t)?n.sendSsrcsMapping.get(t):(n=this.peerConnections.get(KM.STREAM_TYPE_AUX),n.sendSsrcsMapping.get(t)||t))}},{key:"createOffer",value:async function e(t,r){const n=this.peerConnections.get(t).connection,i=await n.createOffer(r);return"plan-b"!==this.sdpDescMode&&n.getTransceivers().forEach((e=>{e.direction=JN.INACTIVE})),i}},{key:"iceCandidateListener",value:function e(t,r){this.logger.info(Oj,"iceCandidateListener of ".concat(r)),t.connection.onicecandidate=e=>{var n;e.candidate&&"udp"===e.candidate.protocol&&(this.logger.info(Oj,"".concat(r," onicecandidate: ").concat(yC.shieldIpAddress(null===(n=e.candidate)||void 0===n?void 0:n.candidate))),t.candidate||(t.candidate=[]),t.candidate.push(e.candidate))}}},{key:"iceRestart",value:function e(t,r,n){if(this.stat.setConnectionStatusInfo(EM.CLOSED,bM.MEDIA),t.connectFailedTimes++,this.logger.error(Oj,"".concat(r?"aux":"main"," connection statechange, connectFailedTimes: ").concat(t.connectFailedTimes,".")),t.connectFailedTimes<=30&&(this.logger.error(Oj,"".concat(r?"aux":"main"," connection statechange, emit media error event.")),t.connectFailedTimes%2==0&&this.eventEmitter.emit(oM.Error,{errCode:nc.RTC_ERR_CODE_MEDIA_NETWORK_ERROR,errDesc:"".concat(r?"aux":"main"," peerConnection: ").concat(ic[nc.RTC_ERR_CODE_MEDIA_NETWORK_ERROR])}),30===t.connectFailedTimes)){return this.eventEmitter.emit(oM.MediaConnectionStateChanged,{roomId:this.uniqueId,type:r?"aux":"main",state:sM.DisConnected}),void(t.connectFailedTimes=0)}t.connection.createOffer({iceRestart:!0}).then((e=>{this.eventEmitter.emit(oM.MediaConnectionStateChanged,{roomId:this.uniqueId,type:r?"aux":"main",state:sM.Reconnecting}),t.connection.setLocalDescription({type:"offer",sdp:this.rtcSdp.transformOfferSdp(e.sdp)}),t.connection.setRemoteDescription({sdp:t.connection.remoteDescription.sdp,type:"answer"})})).finally((()=>{n&&n()}))}},{key:"onConnection",value:function e(t,r,n){t.connection.ontrack=e=>{r(e,n)},t.connection.onconnectionstatechange=()=>{if(this.logger.info(Oj,"onconnectionstatechange, ".concat(n?"aux":"main"," connect state is: ").concat(t.connection.connectionState," ;iceConnectionState: ").concat(t.connection.iceConnectionState)),"disconnected"!==t.connection.iceConnectionState){clearTimeout(t.disConnectDelayHandleTimer),t.disConnectDelayHandleTimer=null,"failed"===t.connection.iceConnectionState||"closed"===t.connection.iceConnectionState?(this.logger.info(Oj,"connect state failed go iceRestart: ".concat(t.connection.iceConnectionState)),this.iceRestart(t,n)):"connected"===t.connection.iceConnectionState&&(this.logger.info(Oj,"connect state connect: ".concat(t.connection.iceConnectionState)),this.stat.setConnectionStatusInfo(EM.CONNECTED,bM.MEDIA),t.connectFailedTimes=0,this.eventEmitter.emit(oM.MediaConnectionStateChanged,{roomId:this.uniqueId,type:n?"aux":"main",state:sM.Connected}),t.connection.getStats().then((e=>{let t=null;e.forEach((e=>{"candidate-pair"===e.type&&(this.isFireFox&&e.selected||e.nominated)&&(t=e.localCandidateId)})),t&&e.forEach((e=>{e.id===t&&(this.logger.info(Oj,"transport protocol changed, candidateType: ".concat(e.candidateType,", protocol: ").concat(e.protocol)),this.eventEmitter.emit(oM.TransportProtocolChanged,{protocol:e.protocol,candidateType:e.candidateType}))}))})))}else{if(t.disConnectDelayHandleTimer){return}t.disConnectDelayHandleTimer=setTimeout((()=>{this.logger.info(Oj,"disConnect state delay handler, go iceRestart: ".concat(t.connection.iceConnectionState)),this.iceRestart(t,n,(()=>{clearTimeout(t.disConnectDelayHandleTimer),t.disConnectDelayHandleTimer=null}))}),5e3)}}}},{key:"iceAddressCollect",value:async function e(t){await new Promise((e=>{let r=null;const n=()=>{this.logger.info(Oj,"ICE collect Gathering State change: ".concat(t.iceGatheringState)),"complete"===t.iceGatheringState&&(clearTimeout(r),this.logger.info(Oj,"ICE collect complete"),t.removeEventListener("icegatheringstatechange",n),e())};t.addEventListener("icegatheringstatechange",n),r=setTimeout((()=>{this.logger.error(Oj,"ICE collect timeout"),clearTimeout(r),e()}),6e3)}))}},{key:"createPeerConnection",value:function e(t){const r={rtcpMuxPolicy:this.portType===iM.portReduce?"require":"negotiate",bundlePolicy:this.portType===iM.portReduce?"max-bundle":"balanced"},n=[];if(this.turnServerConfig){for(const e of this.turnServerConfig.turnServers){n.push("turn:".concat(e,":").concat(this.turnServerConfig.udpPort||3478,"?transport=udp"))}r.iceServers=[{urls:n,username:this.turnServerConfig.userName,credential:this.turnServerConfig.credential}],r.iceTransportPolicy="relay"}r.sdpSemantics=this.sdpDescMode;const i=new RTCPeerConnection(r);var o;this.peerConnections.has(t)&&(null===(o=this.peerConnections.get(t).connection)||void 0===o||o.close());const a={connection:i,connectFailedTimes:0};return this.peerConnections.set(t,a),this.iceCandidateListener(a,t),a}},{key:"destroyPeerConnection",value:function e(t,r){const n=this.peerConnections.get(t);n&&(clearTimeout(n.disConnectDelayHandleTimer),n.connectFailedTimes=0,"closed"!==n.connection.signalingState&&(null==r||r.forEach((e=>n.connection.removeTrack(e))),n.connection.close()),"main"===t?this.mainReceiverPreStatisticMap.clear():this.auxReceiverPreStatisticMap.clear(),this.peerConnections.delete(t))}},{key:"modifySdpInfo",value:async function e(t,r){const n=this.peerConnections.get(t);let i=null;if(n){if("main"===t){const e=await this.getDataChannelTemplate(r);i=this.rtcSdp.modifyMainSdpInfo(n.connection.localDescription.sdp,n.candidate,n.videoSendSsrcs,n.audioSendSsrc,r,e)}else{i=this.rtcSdp.modifyAuxSdpInfo(n.connection.localDescription.sdp,n.candidate,n.videoSendSsrcs)}}return i}},{key:"getDataChannelTemplate",value:async function e(t){let r=null;if(!t){return r}let n=null;try{n=new RTCPeerConnection,n.createDataChannel("dataChannelTemplate"),r=(await n.createOffer()).sdp}catch(e){this.logger.error(Oj,"getDataChannelTemplate failed, unsupport datachannel: ".concat(e))}finally{n&&n.close()}return r}},{key:"setLocalDescriptionShim",value:async function e(t,r){let n;!this.isFireFox&&r||(n=(await t.createOffer()).sdp),await t.setLocalDescription({type:"offer",sdp:this.rtcSdp.transformOfferSdp(n||r)})}},{key:"handleAnswerSdpFromServer",value:async function e(t,r,n){const i=this.peerConnections.get(t).connection,{remoteDescription:o,bindCryptoKey:a,wsUrl:s,dataChannelEnable:u}=this.rtcSdp.transformAnswerSdp(r,i.localDescription.sdp);let c;this.logger.debug(Oj,"handleAnswerSdpFromServer, ".concat(t," sdp answer: ").concat(this.rtcSdp.printSdpInfo(o))),c=n?await n({remoteDescription:o,bindCryptoKey:a,wsUrl:s,dataChannelEnable:u}):{answerSdp:o},c.offerSdp&&c.offerSdp!==i.localDescription.sdp&&await this.setLocalDescriptionShim(i,c.offerSdp);try{await i.setRemoteDescription({type:"answer",sdp:c.answerSdp})}catch(e){throw this.logger.error(Oj,"setRemoteDescription error, answer sdp invalid or offer sdp invalid"),new oc(nc.RTC_ERR_CODE_ANSWER_SDP_INVALID,(null==e?void 0:e.message)||"setRemoteDescription error, answer sdp invalid or offer sdp invalid")}}},{key:"getSfuInfoFromSdp",value:function e(t,r){return this.rtcSdp.getSfuInfo(t,r)}},{key:"generateAndSetOfferSdpByHandler",value:async function e(t,r){const n=this.peerConnections.get(t).connection;let i;i=r?await r(n.localDescription.sdp):n.localDescription.sdp,await this.setLocalDescriptionShim(n,i)}},{key:"generateAndSetAnswerSdpByHandler",value:async function e(t,r){const n=this.peerConnections.get(t).connection;let i;i=r?(await r(n.remoteDescription.sdp)).answerSdp:n.remoteDescription.sdp,await n.setRemoteDescription({type:"answer",sdp:i})}},{key:"deleteUser",value:async function e(t,r,n){const i=this.peerConnections.get(t).connection,o=i.remoteDescription.sdp;let a={offerSdp:i.localDescription.sdp,answerSdp:o};if("plan-b"===this.sdpDescMode){a.answerSdp=this.rtcSdp.deleteUser(a.answerSdp,r,n)}else{const e=i.getTransceivers();r&&r.length>0&&(a=await this.rtcSdp.deleteUser(a.answerSdp,a.offerSdp,r,e,(e=>this.recordCurrentReceiverStatistic(t,e)))),n&&n.length>0&&(a=await this.rtcSdp.deleteUser(a.answerSdp,a.offerSdp,n,e,(e=>this.recordCurrentReceiverStatistic(t,e))))}await this.setLocalDescriptionShim(i,a.offerSdp),await i.setRemoteDescription({type:"answer",sdp:a.answerSdp})}},{key:"recordCurrentReceiverStatistic",value:async function e(t,r){const n=await r.getStats();n&&n.forEach(((e,r)=>{(this.isFireFox||/RTCInboundRTP(Video|Audio)Stream_.*/gi.test(r))&&this["main"===t?"mainReceiverPreStatisticMap":"auxReceiverPreStatisticMap"].set(r,e)}))}},{key:"getAllIdleReceiverTransceivers",value:function e(t,r,n){const i=t.getTransceivers(),o=this.rtcSdp.getAllMidsByType(n,r);return i.filter((e=>o.includes("".concat(e.mid))&&e.currentDirection!==JN.SEND_RECV&&e.currentDirection!==JN.RECV_ONLY))}},{key:"getIdleSendTransceiver",value:function e(t,r,n,i){const o=t.getTransceivers();if(this.isFireFox&&i){const e=this.rtcSdp.getOfferVideoMidBySsrc(n,r,this.getMappingSsrcs(i));return null==o?void 0:o.find((t=>t.mid===e))}const a=this.rtcSdp.getAllMidsByType(n,r);return null==o?void 0:o.find((e=>a.includes("".concat(e.mid))&&e.currentDirection!==JN.SEND_ONLY&&e.currentDirection!==JN.SEND_RECV))}},{key:"addTrack",value:async function e(t,r,n,i){const o=this.peerConnections.get(t).connection;if("plan-b"===this.sdpDescMode){return o.addTrack(r,n)}const a=o.localDescription.sdp;let s=this.getIdleSendTransceiver(o,"audio"===r.kind?YM.TRACK_TYPE_AUDIO:YM.TRACK_TYPE_VIDEO,a,i);if(s){await s.sender.replaceTrack(r),s.direction=s.currentDirection===JN.RECV_ONLY?JN.SEND_RECV:JN.SEND_ONLY;const e=this.rtcSdp.modifyAnswerDirection(o.remoteDescription.sdp,s.mid);await this.setLocalDescriptionShim(o),await o.setRemoteDescription({type:"answer",sdp:e})}else{this.logger.info(Oj,"addTrack, no available sender, addTranscevier"),s=await this.addTransceiver(o,"audio"===r.kind?YM.TRACK_TYPE_AUDIO:YM.TRACK_TYPE_VIDEO),await s.sender.replaceTrack(r),s.direction=s.currentDirection===JN.RECV_ONLY?JN.SEND_RECV:JN.SEND_ONLY}return s.sender}},{key:"removeTrack",value:function e(t,r){const n=this.peerConnections.get(t).connection;"closed"!==n.signalingState&&n.removeTrack(r)}},{key:"modifyPublishOfferSdp",value:async function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=this.peerConnections.get(t).connection;let u,c,l=(await s.createOffer()).sdp;return(o&&o.length>0||a)&&("plan-b"===this.sdpDescMode?l=this.rtcSdp.deleteSSRC(l,o,a):u=this.rtcSdp.deleteSSRC(l,s.remoteDescription.sdp,this.getMappingSsrcs(o,t),this.getMappingSsrcs(a,t))),"plan-b"===this.sdpDescMode?l=this.rtcSdp.modifyPublishOfferSdp(l,n,i):u=this.rtcSdp.modifyPublishOfferSdp(u?u.offerSdp:l,u?u.answerSdp:s.remoteDescription.sdp,r,this.getMappingSsrcs(n,t),this.getMappingSsrcs(i,t)),"plan-b"===this.sdpDescMode?(await s.setLocalDescription({type:"offer",sdp:l}),await s.setRemoteDescription(s.remoteDescription),c=l):(await this.setLocalDescriptionShim(s,u.offerSdp),await s.setRemoteDescription({type:"answer",sdp:u.answerSdp}),c=u.offerSdp),c}},{key:"addTopAudioUserBatch",value:async function e(t,r,n,i){const o=this.peerConnections.get("main").connection;let a,s={offerSdp:o.localDescription.sdp,answerSdp:t};"plan-b"!==this.sdpDescMode&&(a=this.getAllIdleReceiverTransceivers(o,YM.TRACK_TYPE_AUDIO,s.answerSdp));for(let e=0;e<n;e++){const t=r+e,n="WebAudio".concat(e)+this.rtcSdp.generateSsrcMslabel(),u={videoSsrc:null,audioSsrc:t};if("plan-b"===this.sdpDescMode){s=this.rtcSdp.addUser(s.answerSdp,n,null,u)}else{let e=this.rtcSdp.getIdleTransceiverWithSameSsrc(s.answerSdp,a,t);e||(e=await this.addTransceiver(o,YM.TRACK_TYPE_AUDIO,s)),e.direction=e.currentDirection===JN.SEND_ONLY?JN.SEND_RECV:JN.RECV_ONLY,s=this.rtcSdp.modifySdpByMid(s.answerSdp,s.offerSdp,e.mid,n,null,t),await this.setLocalDescriptionShim(o,s.offerSdp)}i(s.streamId,t)}return s}},{key:"addUserBatch",value:async function e(t,r,n){if(r.size<1){return void this.logger.debug(Oj,"addUserBatch interrupted for ssrcInfos is null")}const i=this.peerConnections.get(t).connection,o=i.remoteDescription.sdp,a=i.localDescription.sdp;let s,u,c={offerSdp:a,answerSdp:o};"plan-b"!==this.sdpDescMode&&(s=this.getAllIdleReceiverTransceivers(i,YM.TRACK_TYPE_AUDIO,o),u=this.getAllIdleReceiverTransceivers(i,YM.TRACK_TYPE_VIDEO,o)),this.userMid.clear();for(const[e,t]of r){const r=new Map;this.userMid.set(e,r);for(const o of t){var l;const t=o.streamId;if(null!==(l=zL.getParameter(NL))&&void 0!==l&&!l||"plan-b"===this.sdpDescMode||(o.streamId=e),"plan-b"===this.sdpDescMode){c=this.rtcSdp.addUser(c.answerSdp,e,o.streamId,{videoSsrc:o.videoSsrc,audioSsrc:o.audioSsrc}),c.offerSdp=a}else if(o.audioSsrc){let t=this.rtcSdp.getIdleTransceiverWithSameSsrc(c.answerSdp,s,o.audioSsrc);t||(t=await this.addTransceiver(i,YM.TRACK_TYPE_AUDIO,c)),t.direction=t.currentDirection===JN.SEND_ONLY?JN.SEND_RECV:JN.RECV_ONLY,c=this.rtcSdp.modifySdpByMid(c.answerSdp,c.offerSdp,t.mid,e,o.streamId,o.audioSsrc)}else if(o.videoSsrc){let a=this.rtcSdp.getIdleTransceiverWithSameSsrc(c.answerSdp,u,o.videoSsrc);if(a){if(this.isFireFox){a.receiver.track.enabled=!1;const e=setTimeout((()=>{clearTimeout(e),a.receiver.track.enabled=!0}),300)}}else{a=await this.addTransceiver(i,YM.TRACK_TYPE_VIDEO,c)}a.direction=a.currentDirection===JN.SEND_ONLY?JN.SEND_RECV:JN.RECV_ONLY,c=this.rtcSdp.modifySdpByMid(c.answerSdp,c.offerSdp,a.mid,e,o.streamId,o.videoSsrc,n),r.set(a.mid,t)}await this.setLocalDescriptionShim(i,c.offerSdp),await i.setRemoteDescription({type:"answer",sdp:c.answerSdp})}}}},{key:"getTrackId",value:function e(t,r){return this.userMid.has(t)&&this.userMid.get(t).has(r)?this.userMid.get(t).get(r):"plan-b"===this.sdpDescMode?t:void this.logger.error(Oj,"can not find trackId, user:".concat(t,", mid:").concat(r))}},{key:"addTransceiver",value:async function e(t,r,n){var i;t.addTransceiver(r,{direction:JN.INACTIVE});const o=await t.createOffer();await this.setLocalDescriptionShim(t,o.sdp);const a=this.rtcSdp.getLeastMid(o.sdp),s=this.rtcSdp.generateMatchedAnswerWithOffer((null==n?void 0:n.answerSdp)||t.remoteDescription.sdp,a,r);return n&&(n.offerSdp=o.sdp,n.answerSdp=s),await t.setRemoteDescription({type:"answer",sdp:s}),null===(i=t.getTransceivers())||void 0===i?void 0:i.find((e=>"".concat(e.mid)===a))}},{key:"getConnection",value:function e(t){var r;return this.isConnectionsExist()&&this.peerConnections.get(t)?null===(r=this.peerConnections.get(t))||void 0===r?void 0:r.connection:null}},{key:"getConnectionRTT",value:function e(){let t=0;if(!this.isConnectionsExist()){return t}const r=JL.getLatestReport(this.uniqueId,KM.STREAM_TYPE_MAIN);if(r){const e=r.get("candidate-pair");t=e&&e.currentRoundTripTime||0}return t}},{key:"getICETransportStat",value:function e(t){if(!t){throw this.logger.error(Oj,"getICETransportStat, pcType is null"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"pcType is null")}const r=JL.getLatestReport(this.uniqueId,t);if(!r){return null}try{const e=r.get("candidate-pair");return{currentRoundTripTime:e.currentRoundTripTime||0,availableOutgoingBitrate:e.availableOutgoingBitrate||0,bytesSent:e.bytesSent||0,bytesReceived:e.bytesReceived||0}}catch(e){return this.logger.error(Oj,"getICETransportStat failed",e),null}}},{key:"getInfo",value:function e(){return{moduleName:"PeerConnectionsManager"}}},{key:"refreshOffer",value:async function e(t){const r=this.peerConnections.get(t).connection,n=await r.createOffer();return await r.setLocalDescription({type:"offer",sdp:this.rtcSdp.transformOfferSdp(n.sdp)}),n}}])}(TN);var Mj={exports:{}};!function(e){self,e.exports=function(){var e={d:function(t,r){for(var n in r){e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{GrsBaseInfo:function(){return O},GrsClient:function(){return M},GrsErrorCode:function(){return a},Logger:function(){return f}});var r=function(e){return"string"!=typeof e||""==e},n=function(e){return void 0===e||null==e||"{}"==JSON.stringify(e)},i=function(e){return!(void 0!==e&&e instanceof Array&&"[]"!=JSON.stringify(e))},o=function(e){if("string"!=typeof e||""==e){return{}}try{var t=JSON.parse(e);return void 0===t||null==t?{}:t}catch(e){return{}}},a={ERR_OK:0,ERR_INTERNAL_ERROR:1,ERR_INVALID_PARAM:2,ERR_INIT:3,GRS_SET_ROUTER_DIR:4,GRS_SET_SYSTEM_INFO:5,GRS_SERVICE_CONFIGURE_NO_FILE:6,GRS_SERVICE_CONFIGURE_READ_ERROR:7,GRS_SET_CA_FILE:8,GRS_SERVICE_CONFIGURE_PARSE_ERROR:9,GRS_SERVICE_CONFIGURE_PARSE_VALUE_ERROR:10,GRS_ROUTER_CONFIGURE_EMPTY:11,GRS_ROUTER_APP_CONFIGURE_READ_ERROR:12,GRS_ROUTER_SDK_CONFIGURE_READ_ERROR:13,GRS_ROUTER_CONFIGURE_PARSE_VALUE_ERROR:14,GRS_ROUTER_SERVER_NAME_EMPTY:15,GRS_ROUTER_BY_EMPTY:16,GRS_APK_ROUTER_NO_APPLICATION:17,GRS_NOT_FIND:18,GRS_NOT_FIND_APPLICATION:19,GRS_NOT_FIND_SERVICE_LIST:20,GRS_NOT_FIND_SERVING_COUNTRY_GROUP:21,GRS_NOT_FIND_SERVICE:22,GRS_NOT_FIND_ADDRESS:23,GRS_NOT_FIND_COUNTRY:24};function s(e){return function(e){if(Array.isArray(e)){return u(e)}}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"]){return Array.from(e)}}(e)||function(e,t){if(e){if("string"==typeof e){return u(e,t)}var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(){function e(){!function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}(this,e)}var t,r,n;return t=e,n=[{key:"setExtLogger",value:function(t,r,n){void 0!==t&&"function"==typeof t&&(e.extLogger=t),e.logLevel=r,e.isDebug=n}},{key:"v",value:function(){arguments.length<e.argsSize||(arguments[0]="[Verbose]"+e.TAG_NETWORKKIT_PRE+arguments[0],e.println(e.VERBOSE,arguments))}},{key:"d",value:function(){arguments.length<e.argsSize||(arguments[0]="[Debug]"+e.TAG_NETWORKKIT_PRE+arguments[0],e.println(e.DEBUG,arguments))}},{key:"i",value:function(){arguments.length<e.argsSize||(arguments[0]="[Info]"+e.TAG_NETWORKKIT_PRE+arguments[0],e.println(e.INFO,arguments))}},{key:"w",value:function(){arguments.length<e.argsSize||(arguments[0]="[Warm]"+e.TAG_NETWORKKIT_PRE+arguments[0],e.println(e.WARN,arguments))}},{key:"e",value:function(){arguments.length<e.argsSize||(arguments[0]="[Error]"+e.TAG_NETWORKKIT_PRE+arguments[0],e.println(e.ERROR,arguments))}},{key:"println",value:function(t,r){if((!(t<e.DEBUG)||e.isDebug)&&(e.isDebug||!(t<e.logLevel))&&void 0!==e.extLogger&&"function"==typeof e.extLogger){var n=[].slice.call(r);e.extLogger.apply(e,s(n))}}}],(r=null)&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();l(f,"TAG_NETWORKKIT_PRE","NetworkKit_"),l(f,"extLogger",void 0),l(f,"isDebug",!1),l(f,"VERBOSE",2),l(f,"DEBUG",3),l(f,"INFO",4),l(f,"WARN",5),l(f,"ERROR",6),l(f,"logLevel",f.INFO),l(f,"argsSize",2);var d=function(e,t,n,o,a,s,u,c){var l=e.name,f=t;if(i(e.countryOrAreaGroups)||(f=e.countryOrAreaGroups),i(f)){n[l]="GRS_NOT_FIND_SERVING_COUNTRY_GROUP"}else{var d=e.routeBy;if(r(d)){n[l]="GRS_ROUTER_BY_EMPTY"}else if("unconditional"!==d){var v=h(d,a,s,u,c);if(r(v)){n[l]="GRS_NOT_FIND_COUNTRY"}else{var g=p(f,v);if(r(g)){n[l]="GRS_COUNTRY_CODE_NOT_IN_GROUP"}else{var m=e.servings,y=!1;for(var _ in m){if(m[_].countryOrAreaGroup===g){o[l]=m[_].addresses,y=!0;break}}y||(n[l]="GRS_NOT_FIND_ADDRESS")}}}else{o[l]=e.servings[0].addresses}}},h=function(e,t,n,i,o){var a="",s=e.split(">");for(var u in s){if("ser_country"===s[u]&&!r(t)){a=t;break}if("reg_country"===s[u]&&!r(n)){a=n;break}if("issue_country"===s[u]&&!r(i)){a=i;break}if("geo_ip"===s[u]&&!r(o)){a=o;break}}return a},p=function(e,t){var r="";for(var n in e){if(e[n].countriesOrAreas.includes(t)){r=e[n].id;break}}return r},v=function(e,t){var r={};if(n(e)){return r}var i=e.errorList;if(!n(i)&&t in i){return r.results=i[t],r.status="failure",r}var o=e.services;return!n(o)&&t in o?(r.results=o[t],r.status="success",r):(r.results="GRS_NOT_FIND_SERVICE",r.status="notFindService",r)},g=function(e,t,r,n){var i="",o=v(e,r);if("success"===o.status&&n in o.results){return f.i("getGrsUrl","Return The Server Cached Data"),o.results[n]}f.i("getGrsUrl","Cannot find "+r+"("+n+") in serverUrlInfo: ",JSON.stringify(e));var a=v(t,r);return"success"===a.status&&n in a.results?(f.i("getGrsUrl","Return The Local JSON Data"),i=a.results[n]):f.i("getGrsUrl","Cannot find "+r+"("+n+") in localUrlInfo: ",JSON.stringify(t)),i},m=function(e,t,r){var n={},i=v(e,r);if("success"===i.status){return f.i("getGrsUrl","Return The Server Cached Data"),i.results}f.i("getGrsUrl","Cannot find "+r+" in serverUrlInfo: ",JSON.stringify(e));var o=v(t,r);return"success"===o.status?n=o.results:f.i("getGrsUrl","Cannot find "+r+" in localUrlInfo: ",JSON.stringify(t)),n};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){return function(e){if(Array.isArray(e)){return S(e)}}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"]){return Array.from(e)}}(e)||function(e,t){if(e){if("string"==typeof e){return S(e,t)}var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var w=function(e,t,r,n){return new Promise((function(i,o){var a={};(function(e,t){return new Promise((function(r,n){var i=setTimeout((function(){n(new Error("TIMEOUT"))}),t);e.then((function(e){clearTimeout(i),r(e)})).catch((function(e){clearTimeout(i),n(e)}))}))})(fetch(e,{method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t),headers:r,redirect:"follow",referrer:"no-referrer"}),n).then((function(e){a.header=E(e.headers).reduce((function(e,t){return _(_({},e),{},b({},t[0],t[1]))}),{}),a.statusCode=e.status,a.success=!0,a["cache-time"]=(new Date).getTime(),e.json().then((function(e){a.data=e,i(a)}),(function(e){a.success=!1,a.header["cache-control"]="private,max-age=300",a.data=e,a["cache-time"]=(new Date).getTime(),o(a)}))})).catch((function(e){var t={};a.success=!1,t["cache-control"]="private,max-age=300",a.data=e,a.header=t,a["cache-time"]=(new Date).getTime(),o(a)}))}))},T=function(e){return new Promise((function(t,i){var a=e.uniqueCode(),s=o(localStorage.getItem(a)),u="&";if(f.i("getGrsDataFromServerOrCache","Get uniqueCode key From Cache: key(%s): ",a,s),n(s)||r(JSON.stringify(s))){return f.i("getGrsDataFromServerOrCache","The New GrsClient Not any Cache, start to Query GRS Server"),void C(t,e,s,a,u)}var c=s.header["cache-control"].split("=");if(s["cache-time"]+1e3*c[1]>=(new Date).getTime()){return f.i("getGrsDataFromServerOrCache","During The Suppression Or The Cache Not Expired"),void t(s)}u=r(s.header.ETag)?"&":s.header.ETag,C(t,e,s,a,u)}))},C=function(e,t,i,o,a){A(t,a).then((function(t){if(f.d("getGrsDataFromServerOrCache","handleGrsDataFromServer: ",t),t.success){if(200===t.statusCode){return localStorage.setItem(o,JSON.stringify(t)),void e(t)}if(304===t.statusCode){return i["cache-time"]=(new Date).getTime(),i.header=t.header,localStorage.setItem(o,JSON.stringify(i)),void e(i)}if(503===t.statusCode){return void function(e,t,i,o){n(e)||r(e)?(t.header["cache-control"]="private，max-age="+t.header["Retry-After"],localStorage.setItem(i,JSON.stringify(t)),o(t)):(e["cache-time"]=(new Date).getTime(),e.header["cache-control"]="private，max-age="+t.header["Retry-After"],localStorage.setItem(i,JSON.stringify(e)),o(e))}(i,t,o,e)}n(i)||r(i)?(t.header["cache-control"]="private，max-age=300",localStorage.setItem(o,JSON.stringify(t)),e(t)):(i["cache-time"]=(new Date).getTime(),i.header["cache-control"]="private，max-age=300",localStorage.setItem(o,JSON.stringify(i)),e(i))}})).catch((function(t){f.i("getGrsDataFromServerOrCache","handleGrsDataFromServer catch: ",t),n(i)||r(i)?(localStorage.setItem(o,JSON.stringify(t)),e(t)):(i["cache-time"]=(new Date).getTime(),i.header["cache-control"]="private，max-age=300",localStorage.setItem(o,JSON.stringify(i)),e(i))}))},A=function(e,t){var r=e.getServerConfig().grs_server.grs_query_timeout,n=e.getServerConfig().grs_server.grs_base_url,i=e.getServerConfig().grs_server.grs_query_endpoint,o=[];for(var a in n){o.push(n[a]+i+"?"+e.getGrsReqParamJoint())}return function(e,t,r,n){f.i("post","urls: ",e);var i=[];return e.forEach((function(e){i.push(w(e,t,r,1e3*n))})),Promise.race(i)}(o,e._servicList,{"Content-Type":"application/json;charset=UTF-8","User-Agent":e.getUserAgent(),"If-None-Match":t},r)};function R(e){return function(e){if(Array.isArray(e)){return I(e)}}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"]){return Array.from(e)}}(e)||function(e,t){if(e){if("string"==typeof e){return I(e,t)}var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O=function(){function e(){!function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}(this,e),this.packageName="",this.versionName="",this.productName="",this.productLine="",this.appName="",this.serCountry="",this.regCountry="",this.issueCountry="",this.countrySource="",this.serverConfig={},this.apkRouteConfig={},this.sdkRouteConfig={},this._servicList={services:[]},this._cacheControl=3600,this._serviceName="no_service_name",this._keyName="no_key_name"}var t,i;return t=e,(i=[{key:"setPackageName",value:function(e){this.packageName=e}},{key:"getPackageName",value:function(){return this.packageName}},{key:"setVersionName",value:function(e){this.versionName=e}},{key:"getVersionName",value:function(){return this.versionName}},{key:"setProductName",value:function(e){this.productName=e}},{key:"setProductLine",value:function(e){this.productLine=e}},{key:"getProductLine",value:function(){return this.productLine}},{key:"setAppName",value:function(e){this.appName=e}},{key:"getAppName",value:function(){return this.appName}},{key:"setSerCountry",value:function(e){this.serCountry=e.toUpperCase()}},{key:"getSerCountry",value:function(){return this.serCountry}},{key:"setRegCountry",value:function(e){this.regCountry=e.toUpperCase()}},{key:"getRegCountry",value:function(){return this.regCountry}},{key:"setIssueCountry",value:function(e){this.issueCountry=e.toUpperCase()}},{key:"getIssueCountry",value:function(){return this.issueCountry}},{key:"setCountrySource",value:function(e){this.countrySource=e}},{key:"getCountrySource",value:function(){return this.countrySource}},{key:"setServerConfig",value:function(e){this.serverConfig=e}},{key:"getServerConfig",value:function(){return this.serverConfig}},{key:"setApkRouteConfig",value:function(e){if(!n(e)){if(!e.hasOwnProperty("applications")||!e.hasOwnProperty("services")||!e.hasOwnProperty("countryOrAreaGroups")){return}if(e.applications.length<1){return}this.apkRouteConfig=e,this.appName=e.applications[0].name,e.applications[0].hasOwnProperty("cacheControl")&&(this._cacheControl=e.applications[0].cacheControl);var t=new Set([]),r=e.applications[0].customservices;for(var i in r){t.add(r[i].name)}var o=e.services;for(var a in o){t.add(o[a].name)}var s=e.applications[0].services;for(var u in s){t.add(s[u])}for(var c in this._servicList.services){t.add(this._servicList.services[c])}this._servicList.services=R(t).sort()}}},{key:"getApkRouteConfig",value:function(){return this.apkRouteConfig}},{key:"setSdkRouteConfig",value:function(e){this.sdkRouteConfig=e;var t=new Set([]);for(var r in e){var n=e[r].services;for(var i in n){t.add(n[i].name)}}for(var o in this._servicList.services){t.add(this._servicList.services[o])}this._servicList.services=R(t).sort()}},{key:"getSdkRouteConfig",value:function(){return this.sdkRouteConfig}},{key:"setServiceKeyName",value:function(e,t){this._serviceName=e,this._keyName=t}},{key:"hashCode",value:function(){for(var e=0,t=this.packageName+JSON.stringify(this.serverConfig.grs_server.grs_base_url)+JSON.stringify(this._servicList),r=0;r<t.length;r++){e=Math.imul(31,e)+t.charCodeAt(r)|0}return e}},{key:"uniqueCode",value:function(){return this.appName+"#"+this.serCountry+"#"+this.regCountry+"#"+this.issueCountry+"#"+this.hashCode()}},{key:"getGrsReqParamJoint",value:function(){var e="";return r(this.appName)||(e+="app_name="+this.appName),r(this.versionName)||(r(e)||(e+="&"),e+="app_version="+this.versionName),r(this.packageName)||(r(e)||(e+="&"),e+="package_name="+this.packageName),r(this.serCountry)||(r(e)||(e+="&"),e+="ser_country="+this.serCountry),r(this.regCountry)||(r(e)||(e+="&"),e+="reg_country="+this.regCountry),r(this.issueCountry)||(r(e)||(e+="&"),e+="issue_country="+this.issueCountry),r(this.countrySource)||(r(e)||(e+="&"),e+="country_source="+this.countrySource),e}},{key:"getUserAgent",value:function(){var e,t;try{e=((t=navigator.userAgent.toLowerCase()).indexOf("msie")>0?t.match(/msie [\d.]+;/gi):t.indexOf("firefox")>0?t.match(/firefox\/[\d.]+/gi):t.indexOf("chrome")>0?t.match(/chrome\/[\d.]+/gi):t.indexOf("safari")>0&&t.indexOf("chrome")<0?t.match(/safari\/[\d.]+/gi):void 0)[0].replace("/","; ")}catch(t){e="unknown; web-browser"}return this.packageName+"/"+this.versionName+" ("+e+"; NA) network-grs-web/5.0.9.300 "+this.serviceName}}])&&k(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=function(){function e(t){!function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}(this,e),this._grsBaseInfo=t,this._localUrlInfo={},this._serverUrlInfo={},this._cacheExpirationTime=0,this._isLocalInit=!1}var t,s;return t=e,(s=[{key:"initLocal",value:function(){if(!(this._grsBaseInfo instanceof O)){return f.i("GrsClient","new GrsClient(grsBaseInfo): the grsBaseInfo not instanceof GrsBaseInfo",this._grsBaseInfo),a.ERR_INVALID_PARAM}f.i("GrsClient","entry initLocal with GrsBaseInfo: ",this._grsBaseInfo);var e,t=(e=this._grsBaseInfo,r(e.packageName)||r(e.versionName)||r(e.productName)||r(e.productLine)?(f.i("checkGrsBaseInfo","The packageName, versionName, productName, productLine Must Be Set",e),a.ERR_INVALID_PARAM):n(e.getServerConfig())?(f.i("checkGrsBaseInfo","The getServerConfig Must Be Set",e),a.GRS_SERVICE_CONFIGURE_NO_FILE):r(e.getAppName())&&n(e.getSdkRouteConfig())?(f.i("checkGrsBaseInfo","Either set the appName or Give the contents of the SDK file",e),a.ERR_INVALID_PARAM):a.ERR_OK);if(t!==a.ERR_OK){return t}var s=function(e,t){var r=[],o=[],s=[],u=[],c={status:a.ERR_OK};if(!n(e)){if(!e.hasOwnProperty("applications")||!e.hasOwnProperty("services")||!e.hasOwnProperty("countryOrAreaGroups")){return f.e("getAllServicesFromLocal","The Apk Route Config File Must has Property: applications, services and countryOrAreaGroups"),c.status=a.GRS_APK_ROUTER_NO_APPLICATION,c.message="GRS_APK_ROUTER_NO_APPLICATION",c}s=e.applications[0].services;var l=e.applications[0].customservices;for(var d in l){o.includes(l[d].name)||(o.push(l[d].name),r.push(l[d]))}var h=e.services;for(var p in h){o.includes(h[p].name)||(o.push(h[p].name),r.push(h[p]))}u=e.countryOrAreaGroups}if(!n(t)){for(var v in t){if(!t[v].hasOwnProperty("services")||!t[v].hasOwnProperty("countryOrAreaGroups")){return f.e("getAllServicesFromLocal","The Sdk Route Config File Must has Property:  services and countryOrAreaGroups"),c.status=a.GRS_ROUTER_SDK_CONFIGURE_READ_ERROR,c.message="GRS_ROUTER_SDK_CONFIGURE_READ_ERROR",c}i(u)&&(u=t[v].countryOrAreaGroups);var g=t[v].services;for(var m in g){o.includes(g[m].name)||(o.push(g[m].name),r.push(g[m]))}}}for(var y in s){o.includes(s[y])||o.push(s[y])}return c.services=r,c.countryOrAreaGroups=u,c}(this._grsBaseInfo.getApkRouteConfig(),this._grsBaseInfo.getSdkRouteConfig());if(s.status!=a.ERR_OK){return s.status}this._localUrlInfo=function(e,t,r,i,o,a){var s={},u={};for(var c in e){var l=e[c];d(l,t,s,u,r,i,o,a)}var f={};return n(s)||(f.errorList=s),n(u)||(f.services=u),f}(s.services,s.countryOrAreaGroups,this._grsBaseInfo.getSerCountry(),this._grsBaseInfo.getRegCountry(),this._grsBaseInfo.getIssueCountry(),"");var u=this._grsBaseInfo.uniqueCode(),c=o(localStorage.getItem(u));if(void 0!==c&&null!=c&&"{}"!=JSON.stringify(c)&&c.success&&(200==c.statusCode||304==c.statusCode)){this._serverUrlInfo=c.data;var l=c.header["cache-control"].split("=");this._cacheExpirationTime=c["cache-time"]+1e3*l[1]}return this._isLocalInit=!0,a.ERR_OK}},{key:"syncGetGrsUrl",value:function(e,t){var n=this;return this._grsBaseInfo.setServiceKeyName(e,t),new Promise((function(i,o){if(n._isLocalInit){var a=new Date;if(n._cacheExpirationTime<a.getTime()){return f.w("GrsClient","SyncGetGrsUrl: The cache has expired. Request To The server asynchronously"),void T(n._grsBaseInfo).then((function(a){f.i("GrsClient","data: ",a),n._serverUrlInfo=a.data;var s=a.header["cache-control"].split("=");n._cacheExpirationTime=a["cache-time"]+1e3*s[1],a.success&&200===a.statusCode?f.i("GrsClient","Success:  Synchronization of GRS server data",a):f.i("GrsClient","Failure:  Synchronization of GRS server data",a);var u=g(n._serverUrlInfo,n._localUrlInfo,e,t);r(u)?o(new Error("Cannot Get GRS url from serverUrlInfo and localUrlInfo")):i(u)}))}var s=g(n._serverUrlInfo,n._localUrlInfo,e,t);r(s)?o(new Error("Cannot Get GRS url from serverUrlInfo and localUrlInfo")):i(s)}else{o(new Error("Init() must be Success called before calling the SyncGetGrsUrl()"))}}))}},{key:"syncGetGrsUrls",value:function(e){var t=this;return this._grsBaseInfo.setServiceKeyName(e,"no_key_name"),new Promise((function(r,i){if(t._isLocalInit){var o=new Date;if(t._cacheExpirationTime<o.getTime()){return f.w("GrsClient","SyncGetGrsUrls: The cache has expired. Request To The server asynchronously"),void T(t._grsBaseInfo).then((function(o){t._serverUrlInfo=o.data;var a=o.header["cache-control"].split("=");t._cacheExpirationTime=o["cache-time"]+1e3*a[1],o.success&&200===o.statusCode?f.i("GrsClient","Success:  Synchronization of GRS server data",o):f.i("GrsClient","Failure:  Synchronization of GRS server data",o);var s=m(t._serverUrlInfo,t._localUrlInfo,e);n(s)?i(new Error("Cannot Get GRS urls from serverUrlInfo and localUrlInfo")):r(s)}))}var a=m(t._serverUrlInfo,t._localUrlInfo,e);n(a)?i(new Error("Cannot Get GRS url from serverUrlInfo and localUrlInfo")):r(a)}else{i(new Error("Init() must be Success called before calling the SyncGetGrsUrls()"))}}))}},{key:"asyncGetGrsUrl",value:function(e,t,r,n){this.syncGetGrsUrl(e,t).then((function(e){r(e)})).catch((function(e){n(e)}))}},{key:"asyncGetGrsUrls",value:function(e,t,r){this.syncGetGrsUrls(e).then((function(e){t(e)})).catch((function(e){r(e)}))}}])&&P(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();return t}()}(Mj);const xj={grs_server:{grs_base_url:["https://grs-pub.platform.dbankcloud.com","https://grs-pub.platform.dbankcloud.cn","https://grs-pub.platform.dbankcloud.ru"],grs_query_endpoint:"/grs/2.0/router",grs_query_timeout:2}};function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lj(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Nj="access",jj="com.huawei.cloud.hianalytics.aspg",Uj="com.huawei.cloud.videortn";var Bj=function(e){return e.GLOBAL="GLOBAL",e.ROOT="ROOT",e}(Bj||{});let Fj=function(){function e(t){a(this,e);this.logger=t,this.edgeNodeDomains=new Map}return u(e,[{key:"getAccessInfo",value:async function t(r,n){this.edgeNodeDomains.clear();const i=zL.getParameter(BL);if(!r){var o;const t=((null===(o=zL.getParameter(FL))||void 0===o?void 0:o.rtc_webjs_grs_sdk_global_route_config)||kL).grs_sdk_global_route_config_hwrtc.services[0].servings[0].addresses;return this.edgeNodeDomains.set("default",e.generateUrl(Uj,t[(null==i?void 0:i.grsKey)||"GLOBAL"],i)),this.edgeNodeDomains}const a={id:((null==n?void 0:n.length)||0)+1,domain:"GRS",start_ms:yC.getCurrentTimestamp(),delay_ms:0,stepName:"getAccessInfo",rspCode:"",errMsg:""};let s=null,u=null;try{this.grsClient||(this.grsClient=this.createGrsClient(r)),s=await this.getUrlByGrs(Uj,r,i),u=await this.getUrlByGrs(jj,r,i),a.delay_ms=yC.getCurrentTimestamp()-a.start_ms,a.rspCode="ok",a.errMsg="success"}catch(e){this.logger.error(Nj,"getAccessInfo failed: ".concat(e)),a.delay_ms=yC.getCurrentTimestamp()-a.start_ms,a.rspCode=e.name,a.errMsg=e.message}finally{s||(s=this.getDefaultUrlByCountry(Uj,r,i)),this.edgeNodeDomains.set("default",s),u||(u=this.getDefaultUrlByCountry(jj,r,i)),PL.setReportServer(u),this.logger.info(Nj,"doAccess, accessUrl: ".concat(s,", haUrl: ").concat(u))}return n.push(a),this.edgeNodeDomains}},{key:"setOpsUrl",value:async function e(t){this.grsClient||(this.grsClient=this.createGrsClient(t));const r=await this.getUrlByGrs(jj,t);PL.setReportServer(r),this.logger.info(Nj,"getOpsUrl, haUrl: ".concat(r))}},{key:"createGrsClient",value:function e(t){this.logger.info(Nj,"createGrsClient, countryCode:".concat(t)),"none"!==AC.logLevel&&Mj.exports.Logger.setExtLogger(this.logger[AC.logLevel].bind(this.logger),Mj.exports.Logger.ERROR+1-hg.indexOf(AC.logLevel),AC.logLevel===hg[hg.length-1]);const r=new Mj.exports.GrsBaseInfo;r.setPackageName("rtc"),r.setVersionName(xM),r.setProductLine("rtsa"),r.setProductName("WEB");const n=zL.getParameter(FL)||{},i=n.grs_server_config||xj,o=RL.getProxyServer(),a=[];if(o){for(const e of i.grs_server.grs_base_url){const t=e.replace(/http(s)?:\/\//,"");a.push("".concat(o,"/").concat(t))}}else{a.push(...i.grs_server.grs_base_url)}const s=Dj(Dj({},i.grs_server),{grs_base_url:a});r.setServerConfig({grs_server:s}),r.setSdkRouteConfig(n.rtc_webjs_grs_sdk_global_route_config||kL),r.setApkRouteConfig(n.grs_app_global_route_config||IL),t&&(r.setSerCountry(t),r.setRegCountry(t),r.setIssueCountry(t));const u=new Mj.exports.GrsClient(r),c=u.initLocal();if(c!==Mj.exports.GrsErrorCode.ERR_OK){throw this.logger.error(Nj,"createGrsClient failed,status: ".concat(c)),new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR,"createGrsClient failed,status: ".concat(c))}return this.logger.info(Nj,"createGrsClient success"),u}},{key:"getUrlByGrs",value:async function t(r,n,i){let o=null;try{this.logger.info(Nj,"getGrsUrl begin, serviceName:".concat(r,", countryCode:").concat(n,", envInfo:").concat(JSON.stringify(i||{})));const t=r===Uj?e.getGrsKey(n,i):Bj.ROOT;this.logger.info(Nj,"getGrsUrl , serviceName:".concat(r,", envKey:").concat(t));const a=await this.grsClient.syncGetGrsUrl(r,t);o=a?e.generateUrl(r,a,i):this.getDefaultUrlByCountry(r,n,i),this.logger.info(Nj,"getGrsUrl for serviceName:".concat(r," success:").concat(o))}catch(e){this.logger.error(Nj,"serviceName:".concat(r," failed to getGrsUrl: ").concat(e))}finally{o||(o=this.getDefaultUrlByCountry(r,n,i))}return o}},{key:"getDefaultUrlByCountry",value:function t(r,n,i){let o=null;if(r===Uj){const e=kL.grs_sdk_global_route_config_hwrtc.countryOrAreaGroups;let t="DR1";for(const r of e){if(r.countriesOrAreas.includes(n)){t=r.id;break}}const r=kL.grs_sdk_global_route_config_hwrtc.services[0].servings;for(const e of r){if(e.countryOrAreaGroup===t){o=e.addresses.ROOT;break}}}else{const e=kL.grs_sdk_global_route_config_rtcha.countryOrAreaGroups;let t="DR1";for(const r of e){if(r.countriesOrAreas.includes(n)){t=r.id;break}}const r=kL.grs_sdk_global_route_config_rtcha.services[1].servings;for(const e of r){if(e.countryOrAreaGroup===t){o=e.addresses.ROOT;break}}}return e.generateUrl(r,o,i)}}],[{key:"getGrsKey",value:function e(t,r){return r?r.grsKey:t?Bj.ROOT:Bj.GLOBAL}},{key:"generateUrl",value:function e(t,r,n){return t===jj?r:(n=n||{grsKey:"",pathSuffix:""}).pathSuffix?"".concat(r,"/websocket/").concat(n.pathSuffix):r+"/websocket"}}])}();var Hj=function(e){return e.joinRoom="JOIN_ROOM_SUC",e.exitRoom="EXIT_ROOM",e.disableVideo="DISABLE_VIDEO",e.disableAudio="DISABLE_AUDIO",e.enableVideo="ENABLE_VIDEO",e.enableAudio="ENABLE_AUDIO",e}(Hj||{}),Vj=function(e){return e[e.subscribe=0]="subscribe",e[e.unsubscribe=1]="unsubscribe",e}(Vj||{});const Wj={LD:{streamUid:-999,pssrc:999,width:160,height:90},SD:{streamUid:-3,pssrc:3,width:320,height:180},HD:{streamUid:-2,pssrc:2,width:640,height:360},FHD:{streamUid:-1,pssrc:1,width:1280,height:720},LD_1:{streamUid:-999,pssrc:999,width:160,height:90},SD_2:{streamUid:-3,pssrc:3,width:320,height:180},HD_3:{streamUid:-2,pssrc:2,width:640,height:360},FHD_4:{streamUid:-1,pssrc:1,width:1280,height:720}};var zj=function(e){return e[e.audio=0]="audio",e[e.mainVideo=1]="mainVideo",e[e.auxVideo=2]="auxVideo",e}(zj||{});const Gj="RemoteUserManager";let Yj=function(){function e(t){a(this,e);this.client=t,this.logger=t.logger,this.remoteUserInfos=new Map,this.previousAudioSubscribedUsers=new Map,this.roomSsrc=new Map}return u(e,[{key:"checkSsrcIsMute",value:function e(t){let r=!0;return this.remoteUserInfos.forEach((e=>{e.userState===GL.Joined&&(e.mainStream&&e.mainStream.remoteTrackInfos&&e.mainStream.remoteTrackInfos.forEach((e=>{e.cssrc===t&&(r=e.mute)})),e.auxStream&&e.auxStream.remoteTrackInfos&&e.auxStream.remoteTrackInfos.forEach((e=>{e.cssrc===t&&(r=e.mute)})))})),r}},{key:"checkRemoteTop3NeedReport",value:function e(){let t=0;return this.remoteUserInfos.forEach((e=>{e.userState===GL.Joined&&e.mainStream&&e.mainStream.remoteTrackInfos&&e.mainStream.remoteTrackInfos.forEach((e=>{e.type===YM.TRACK_TYPE_AUDIO&&t++}))})),!(t<3)}},{key:"initialize",value:function e(t,r){t&&r&&(this.localUserId=t,this.audioCssrcs=this.getCssrcRangeByType(r,zj.audio),this.mainVideoCssrcs=this.getCssrcRangeByType(r,zj.mainVideo),this.auxVideoCssrcs=this.getCssrcRangeByType(r,zj.auxVideo))}},{key:"getStreamInfoByPStreamUid",value:function e(t){let r=null;return Array.from(this.remoteUserInfos.values()).forEach((e=>{var n,i,o;if(null!==(n=e.mainStream)&&void 0!==n&&n.remoteTrackInfos.get(t.toString())){r=null===(o=e.mainStream)||void 0===o?void 0:o.remoteTrackInfos.get(t.toString())}else if(null!==(i=e.auxStream)&&void 0!==i&&i.remoteTrackInfos.get(t.toString())){var a;r=null===(a=e.auxStream)||void 0===a?void 0:a.remoteTrackInfos.get(t.toString())}})),r}},{key:"getCssrcRangeByType",value:function t(r,n){if(!r){throw this.logger.error(Gj,"sdpRepInfo is null"),new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}const i=n===zj.audio?r.audio:n===zj.mainVideo?r.video:r.desktopVideo,o=null==i?void 0:i.receiveSsrcBegin,a=null==i?void 0:i.receiveSsrcEnd;if(!o||!a||o>=a){throw this.logger.error(Gj,"begin or end is invalid"),new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}return e.getCssrcRange(o,a)}},{key:"refreshRemoteUserList",value:function e(t,r,n){const i=[],o=this.getUserStreamUpdatedList(t,r);return o?(o.addedUsers.forEach((e=>{const r=this.addUser(e,t,n);r&&i.push(r)})),o.updatedUsers.forEach((e=>{const r=this.updateUser(e,t,n);r&&i.push(r)})),o.removedUsers.forEach((e=>{const r=this.removeUser(e,t,n);r&&i.push(r)})),this.logger.info(Gj,"refreshRemoteUserStreamList success, ".concat(this.getTracksUpdateInfosString(i))),i):null}},{key:"addUser",value:function e(t,r,n){return this.updateUser(t,r,n)}},{key:"updateUser",value:function e(t,r,n){var i,o,a;if(t.userId===this.localUserId){return null}const s={userId:t.userId,userUid:t.userUid,nickname:t.appData.nickname,roomId:r,relaySrcRoomId:null===(i=t.relayUserSrcInfo)||void 0===i?void 0:i.roomId},u=null===(o=t.videoStreams)||void 0===o?void 0:o.filter((e=>e.content!==$P.desktop)),c=null===(a=t.videoStreams)||void 0===a?void 0:a.filter((e=>e.content===$P.desktop)),l=t.audioStreams,f=this.getUserInfoById(s.userId,s.roomId),d=this.doRefreshRemoteStreamList(s,KM.STREAM_TYPE_MAIN,u,l,n),h=this.doRefreshRemoteStreamList(s,KM.STREAM_TYPE_AUX,c,null,n),p=this.getUserInfoById(s.userId,s.roomId);return{userInfo:p.userInfo,preUserState:f?p.userState:GL.NotJoin,curUserState:p.userState,isUserNameChanged:null,mainStream:d,auxStream:h}}},{key:"removeUser",value:function e(t,r,n){if(t.userId===this.localUserId){return null}const i={userId:t.userId,userUid:t.userUid,nickname:t.appData.nickname,roomId:r};this.doRefreshRemoteStreamList(i,KM.STREAM_TYPE_MAIN,[],[],n),this.doRefreshRemoteStreamList(i,KM.STREAM_TYPE_AUX,[],[],n);const o={status:Hj.exitRoom,userId:t.userId,userUid:t.userUid},a=this.updateUserListInfo(r,[o]);return a&&0!==a.length?a[0]:null}},{key:"getUserStreamUpdatedList",value:function e(t,r){const n=this.getAllUserInfos(t),i=[],o=[],a=[];return n.forEach((e=>{if(e.userInfo.userId===XP){return}const t=r.find((t=>t.userId===e.userInfo.userId)),n=this.getAllTracksByMediaType(e.userInfo.roomId,e.userInfo.userId,YM.TRACK_TYPE_VIDEO),i=this.getAllTracksByMediaType(e.userInfo.roomId,e.userInfo.userId,YM.TRACK_TYPE_AUDIO);if(t){t.audioStreams&&(t.audioStreams=t.audioStreams.filter((e=>"main"===e.content)));const e={userId:t.userId,userUid:t.userUid,appData:t.appData,videoStreams:t.videoStreams,audioStreams:t.audioStreams,relayUserSrcInfo:t.relayUserSrcInfo};o.push(e)}else{const t=n.map((e=>({content:e.content,codec:e.codec,fps:e.fps,height:e.height,maxFs:e.maxFs,maxMbps:e.maxMbps,mute:e.mute,pt:e.pt,ssrc:e.pssrc,streamData:e.streamData,streamUid:parseInt(e.trackId),width:e.width}))),r=i.map((e=>({content:e.content,codec:e.codec,maxMbps:e.maxMbps,mute:e.mute,pt:e.pt,ssrc:e.pssrc,streamData:e.streamData,streamUid:parseInt(e.trackId),channels:e.channels,sampleRate:e.sampleRate}))),o={userId:e.userInfo.userId,userUid:e.userInfo.userUid,appData:{nickname:e.userInfo.nickname},videoStreams:t,audioStreams:r};a.push(o)}})),r.forEach((e=>{if(!n.some((t=>t.userInfo.userId===e.userId))){e.audioStreams&&(e.audioStreams=e.audioStreams.filter((e=>"main"===e.content)));const t={userId:e.userId,userUid:e.userUid,appData:e.appData,videoStreams:e.videoStreams,audioStreams:e.audioStreams,relayUserSrcInfo:e.relayUserSrcInfo};i.push(t)}})),{addedUsers:i,updatedUsers:o,removedUsers:a}}},{key:"updateUserListInfo",value:function e(t,r){if(!r||!t){return null}const n=[],i=[];return r.forEach((e=>{var r;const o={userId:e.userId,userUid:e.userUid,roomId:t,nickname:e.appData?e.appData.nickname:null,relaySrcRoomId:null===(r=e.relayUserSrcInfo)||void 0===r?void 0:r.roomId},a=this.updateUserInfo(o,e.status);a&&n.push(a),i.push(e.userId)})),n.push(...this.getOtherRemoteUserPublishInfos(i,t)),this.logger.info(Gj,"updateUserListInfo success, ".concat(this.getTracksUpdateInfosString(n))),n}},{key:"updateUserInfo",value:function t(r,n){if(this.logger.info(Gj,"updateUserInfo begin, updateType:".concat(n,", userInfo: ").concat(JSON.stringify(r))),r.userId===this.localUserId){return null}const i=this.getUserInfoById(r.userId,r.roomId),o=i?i.userState:GL.NotJoin,a=!!i&&e.isUserNameChanged(i.userInfo,null==r?void 0:r.nickname);switch(n){case Hj.exitRoom:if(!i){return this.logger.error(Gj,"remote user leave， but user not exist"),null}break;case Hj.joinRoom:i||this.initializeRemoteUser(r,!0);break;default:this.logger.error(Gj,"updateUserInfo, unknown user status:".concat(n))}const s=this.getUserInfoById(r.userId,r.roomId),u=n===Hj.joinRoom?e.getUserUpdateInfoWhenJoin(o,a,s):e.getUserUpdateInfoWhenQuit(o,s);if(n===Hj.exitRoom&&s.userState===GL.NotJoin){const t=e.generateUniqueId(r.userId,r.roomId);this.remoteUserInfos.delete(t)}return u}},{key:"getTracks4UnSubscribe",value:function e(t){if(!t){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const r=[];return t.forEach((e=>{e.isSubscribed&&(e.isSubscribed=!1,r.push(e))})),this.logger.info(Gj,"getTracks4UnSubscribe success, tracks4Unsubscribe: ".concat(JSON.stringify(r))),r}},{key:"cachePlayInfo",value:function t(r,n,i,o,a){if(!a){return}const s=this.getUserInfoById(r.userId,r.roomId),u=n===KM.STREAM_TYPE_MAIN?s.mainStream:s.auxStream,c=null==u?void 0:u.subscribeOption;return c?e.isStreamRemoved(i,o)?(c.audio=!1,c.video=!1,void(c.resolutions=null)):void a.forEach((e=>{if(e.isSubscribed){if(c.audio&&e.type===YM.TRACK_TYPE_AUDIO){var t;const r=null==u||null===(t=u.remoteStream)||void 0===t?void 0:t.getAudioHRTCTrack();r&&(c.audioPlayInfo.playElement=r.getElementId(),c.audioPlayInfo.objectFit=r.getObjectFit(),c.audioPlayInfo.muted=r.getTrackMuted(),e.muted=r.getTrackMuted())}if(c.video&&e.type===YM.TRACK_TYPE_VIDEO){var r;const t=null==u||null===(r=u.remoteStream)||void 0===r?void 0:r.getVideoHRTCTrackByTrackId(e.trackId);if(t){var n;const r=null===(n=c.resolutions)||void 0===n?void 0:n.find((t=>t.resolutionId===e.trackId));r&&(r.playElement=t.getElementId(),r.objectFit=t.getObjectFit(),r.muted=t.getTrackMuted(),e.muted=t.getTrackMuted())}}}})):void 0}},{key:"getTracks4Subscribe",value:function e(t,r,n,i,o){if(this.logger.debug(Gj,"getTracks4Subscribe begin"),!(i&&0!==i.length||o&&0!==o.length)){return this.logger.debug(Gj,"getTracks4Subscribe success, tracks4Subscribe: []"),[]}const a=o.filter((e=>e.isSubscribed)),s=[],u=this.isAudioTrackNeedSubscribe(t.userId,t.roomId,r),c=i.find((e=>e.type===YM.TRACK_TYPE_AUDIO));if(u&&c){c.cssrc=this.allocateAudioReceiveSsrc(t.roomId),c.isSubscribed=!0,c.state=YL.resolutionChange;const e=this.getAudioTrackPlayInfo(t.userId,t.roomId,r);e&&(c.playElement=e.playElement,c.objectFit=e.objectFit,c.muted=e.muted);const n=a.find((e=>e.type===YM.TRACK_TYPE_AUDIO));n&&(c.state=n.state,c.muted=n.muted),s.push(c)}const l=a.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)),f=i.filter((e=>e.type===YM.TRACK_TYPE_VIDEO));for(const e of f){const n={resolutionId:e.trackId,width:e.width,height:e.height};if(this.updateVideoSubscribeOption(t.userId,t.roomId,r,n,l)){e.cssrc=this.allocateVideoReceiveSsrc(t.roomId,r),e.isSubscribed=!0,e.state=YL.resolutionChange;const i=this.getVideoTrackPlayInfo(t.userId,t.roomId,r,n);i&&(e.playElement=i.playElement,e.objectFit=i.objectFit,e.muted=i.muted);const o=this.getTrack4Replace(e,l);o&&o.state!==YL.normal&&(e.state=o.state,e.muted=o.muted),s.push(e)}}return this.logger.info(Gj,"getTracks4Subscribe success, tracks4Subscribe: ".concat(JSON.stringify(s))),s}},{key:"getAudioTrackPlayInfo",value:function e(t,r,n){var i;const o=this.getUserInfoById(t,r);return null===(i=(n===KM.STREAM_TYPE_MAIN?o.mainStream:o.auxStream).subscribeOption)||void 0===i?void 0:i.audioPlayInfo}},{key:"getVideoTrackPlayInfo",value:function e(t,r,n,i){var o,a;const s=this.getUserInfoById(t,r),u=null===(o=(n===KM.STREAM_TYPE_MAIN?s.mainStream:s.auxStream).subscribeOption)||void 0===o||null===(a=o.resolutions)||void 0===a?void 0:a.find((e=>e.resolutionId===i.resolutionId));return u?{playElement:u.playElement,objectFit:u.objectFit,muted:u.muted}:null}},{key:"updateVideoSubscribeOption",value:function e(t,r,n,i,o){const a=this.getUserInfoById(t,r),s=n===KM.STREAM_TYPE_MAIN?a.mainStream:a.auxStream,u=null==s?void 0:s.subscribeOption;if(!u){return!1}if(!u.video){return!1}const c=u.resolutions.find((e=>e.resolutionId===i.resolutionId||e.height===i.height&&e.width===i.width||(null==o?void 0:o.length)));return c&&(c.resolutionId=i.resolutionId),!!c}},{key:"enableTopThreeAudioMode",value:function e(t){const r=this.getAllUserInfos(t);null==r||r.forEach((e=>{var t,r;null!==(t=e.mainStream)&&void 0!==t&&t.subscribeOption&&(e.mainStream.subscribeOption.audio=!1),null!==(r=e.auxStream)&&void 0!==r&&r.subscribeOption&&(e.auxStream.subscribeOption.audio=!1)})),this.logger.info(Gj,"enableTopThreeAudioMode success")}},{key:"isAudioTrackNeedSubscribe",value:function e(t,r,n){var i;const o=this.getUserInfoById(t,r),a=n===KM.STREAM_TYPE_MAIN?o.mainStream:o.auxStream;return null==a||null===(i=a.subscribeOption)||void 0===i?void 0:i.audio}},{key:"getTrack4Replace",value:function e(t,r){return(null==r?void 0:r.find((e=>e.trackId===t.trackId||e.height===t.height&&e.width===t.width)))||(null!=r&&r.length?r[0]:null)}},{key:"getAllUserStreamsByType",value:function t(r,n,i){return this.getAllUserInfos(r).map((t=>{const o=n&&n!==KM.STREAM_TYPE_MAIN?null:e.getStreamInfoByType(t,KM.STREAM_TYPE_MAIN,i),a=n&&n!==KM.STREAM_TYPE_AUX?null:e.getStreamInfoByType(t,KM.STREAM_TYPE_AUX,i);return{userId:t.userInfo.userId,roomId:r,mainStream:o,auxStream:a}}))}},{key:"getUserInfoById",value:function t(r,n){const i=e.generateUniqueId(r,n);return this.remoteUserInfos.get(i)}},{key:"getUserInfoByUid",value:function e(t,r){let n=null;for(const e of this.remoteUserInfos.values()){if(e.userInfo.userUid===t&&e.userInfo.roomId===r){n=e;break}}return n}},{key:"getAllTracksByMediaType",value:function t(r,n,i){var o,a;const s=e.generateUniqueId(n,r),u=this.remoteUserInfos.get(s);if(!u){return null}const c=[],l=null===(o=e.getRemoteTrackInfos(u.mainStream))||void 0===o?void 0:o.filter((e=>e.type===i));l&&c.push(...l);const f=null===(a=e.getRemoteTrackInfos(u.auxStream))||void 0===a?void 0:a.filter((e=>e.type===i));return f&&c.push(...f),c}},{key:"getMaxResolutionTrack",value:function e(t){let r;for(const e of t){e.type!==YM.TRACK_TYPE_AUDIO&&(r?Math.max(e.width,e.height)-Math.max(r.width,r.height)>0&&(r=e):r=e)}return this.logger.info(Gj,"getMaxResolutionTrackId, maxResolution: ".concat(JSON.stringify(r))),r}},{key:"getMaxResolutionTrackId",value:function e(t){var r;if(!t){return null}const n=Array.from(t.remoteTrackInfos.values());let i;for(const e of n){e.type!==YM.TRACK_TYPE_AUDIO&&(i?Math.max(e.width,e.height)-Math.max(i.width,i.height)>0&&(i=e):i=e)}return this.logger.info(Gj,"getMaxResolutionTrackId, maxResolution: ".concat(JSON.stringify(i))),null===(r=i)||void 0===r?void 0:r.trackId}},{key:"getAllSubscribedMainStream",value:function e(t){const r=this.getAllUserInfos(t),n=[];return r.forEach((e=>{var t;null!==(t=e.mainStream)&&void 0!==t&&t.remoteTrackInfos&&Array.from(e.mainStream.remoteTrackInfos.values()).some((e=>e.isSubscribed))&&n.push(e)})),n}},{key:"batchSubscribeMainStream",value:function t(r,n){if(!r||!n){return null}const i=this.getAllSubscribedMainStream(r),o=[],a=n.find((e=>e.userId===XP));if(a){this.getUserInfoById(XP,r)||this.createRemoteShadowUser(r,a.resolutionIds)}return this.getAllUserInfos(r).forEach((t=>{const a=n.find((e=>e.userId===t.userInfo.userId));if(a){const e={video:!0,audio:!1,resolutionIds:a.resolutionIds,autoAdjustResolution:a.autoAdjustResolution,minResolution:a.minResolution},t=this.subscribeSingleStream(a.userId,r,KM.STREAM_TYPE_MAIN,e,qM.TOPN_AUDIOPOLICY,!0);o.push(t)}else{var s;const r=e.getRemoteTrackInfos(t.mainStream),a=null==r?void 0:r.filter((e=>e.isSubscribed)),u=this.needUnsubscribeMainStream(t,n,i),c=e.getAnotherStreamUpdateInfo(KM.STREAM_TYPE_MAIN,t),l={userInfo:t.userInfo,curUserState:t.userState,preUserState:t.userState,mainStream:{remoteStream:null===(s=t.mainStream)||void 0===s?void 0:s.remoteStream,preTracks:r,curTracks:r,addedTracks:null,updatedTracks:null,removedTracks:null,subscribedTracks:a,tracks4Subscribe:null,tracks4Unsubscribe:a,allSubscribeTracks:u?null:a},auxStream:c};o.push(l)}})),this.logger.info(Gj,"batchSubscribeMainStream success, infos: ".concat(this.getTracksUpdateInfosString(o))),o}},{key:"needUnsubscribeMainStream",value:function e(t,r,n){const i=!r.some((e=>e.userId===t.userInfo.userId)),o=n.some((e=>t.userInfo.userId===e.userInfo.userId));return i&&o}},{key:"createRemoteShadowUser",value:function e(t,r){const n={userId:XP,userUid:QP,nickname:"",roomId:t},i=[];null==r||r.forEach((e=>{const t=Wj[e]||Wj.LD,r={content:$P.main,ssrc:t.pssrc,streamUid:t.streamUid,pt:QN.h264PayLoad,width:t.width,height:t.height};i.push(r)})),this.doRefreshRemoteStreamList(n,KM.STREAM_TYPE_MAIN,i,null,!1),this.logger.info(Gj,"createRemoteShadowUser success, upstreams: ".concat(JSON.stringify(i)))}},{key:"subscribeResultCallback",value:function e(t,r){if(t){try{t.successSubscribeInfos.forEach((e=>{var t,r,n,i;null===(t=e.mainStream)||void 0===t||null===(r=t.tracks)||void 0===r||r.forEach((e=>{e.state=YL.normal})),null===(n=e.auxStream)||void 0===n||null===(i=n.tracks)||void 0===i||i.forEach((e=>{e.state=YL.normal}))})),t.failSubscribeInfos.forEach((e=>this.releaseResource(e,r))),t.successUnsubscribeInfos.forEach((e=>this.releaseResource(e,!1))),t.failUnsubscribeInfos.forEach((e=>this.recoverUnsubscribeResource(e,r))),this.logger.info(Gj,"subscribeResultCallback success")}catch(e){this.logger.error(Gj,"subscribeResultCallback fail, errMsg:".concat(e))}}}},{key:"releaseResource",value:function t(r,n){var i,o,a,s;const u=this.getUserInfoById(r.userId,r.roomId);null==r||null===(i=r.mainStream)||void 0===i||null===(o=i.tracks)||void 0===o||o.forEach((t=>{if(this.unAllocateReceiveSsrc(r.roomId,KM.STREAM_TYPE_MAIN,t.type,t.cssrc),t.state=YL.normal,t.isSubscribed=!1,t.isTrackReady=!1,t.cssrc=0,n){const r=u.mainStream.subscribeOption;e.recoverUnsubscribeOption(r,t)}})),null==r||null===(a=r.auxStream)||void 0===a||null===(s=a.tracks)||void 0===s||s.forEach((t=>{if(this.unAllocateReceiveSsrc(r.roomId,KM.STREAM_TYPE_AUX,t.type,t.cssrc),t.state=YL.normal,t.isSubscribed=!1,t.isTrackReady=!1,t.cssrc=0,n){const r=u.mainStream.subscribeOption;e.recoverUnsubscribeOption(r,t)}}))}},{key:"recoverUnsubscribeResource",value:function t(r,n){var i,o,a,s;const u=this.getUserInfoById(r.userId,r.roomId);null==r||null===(i=r.mainStream)||void 0===i||null===(o=i.tracks)||void 0===o||o.forEach((t=>{var i;this.recoverReceiveSsrc(r.roomId,KM.STREAM_TYPE_MAIN,t.type,t.cssrc),t.isSubscribed=!0;const o=null===(i=u.mainStream)||void 0===i?void 0:i.remoteTrackInfos;if(o.has(t.trackId)||o.set(t.trackId,t),n){const r=u.mainStream.subscribeOption;e.recoverSubscribeOption(r,t)}})),null==r||null===(a=r.auxStream)||void 0===a||null===(s=a.tracks)||void 0===s||s.forEach((t=>{var i;this.recoverReceiveSsrc(r.roomId,KM.STREAM_TYPE_AUX,t.type,t.cssrc),t.isSubscribed=!0;const o=null===(i=u.auxStream)||void 0===i?void 0:i.remoteTrackInfos;if(o.has(t.trackId)||o.set(t.trackId,t),n){const r=u.mainStream.subscribeOption;e.recoverSubscribeOption(r,t)}}))}},{key:"subscribeStream",value:function e(t,r,n,i,o,a,s){const u=this.subscribeSingleStream(t,r,n,i,o,a),c=[];if(s&&(s.streamIds=[]),u){c.push(u);(n===KM.STREAM_TYPE_MAIN?u.mainStream.tracks4Subscribe:u.auxStream.tracks4Subscribe).forEach((e=>{e.trackId&&s&&s.streamIds.push(e.trackId)}))}return c.push(...this.getOtherRemoteUserPublishInfos([t],r)),this.logger.info(Gj,"subscribeStream success, ".concat(this.getTracksUpdateInfosString(c))),c}},{key:"subscribeSingleStream",value:function t(r,n,i,o,a){var s,u;let c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!r||!n||!o){return null}const f=this.getUserInfoById(r,n);if(!f){return this.logger.error(Gj,"subscribeStream fail, user not exist}"),null}const d=[],h=[],p=[],v=e.getRemoteTrackInfos(f.mainStream),g=e.getRemoteTrackInfos(f.auxStream),m=i===KM.STREAM_TYPE_MAIN?v:g,y=null==m?void 0:m.filter((e=>e.isSubscribed));this.updateAudioTrackSubInfo(i,o,l,f,a,d,h,p),this.updateVideoTrackSubInfo(i,o,c,f,d,h,p),this.updateSubscribeOption(r,n,i,o,Vj.subscribe);const _={remoteStream:i===KM.STREAM_TYPE_MAIN?null===(s=f.mainStream)||void 0===s?void 0:s.remoteStream:null===(u=f.auxStream)||void 0===u?void 0:u.remoteStream,preTracks:m,curTracks:m,addedTracks:null,updatedTracks:null,removedTracks:null,subscribedTracks:y,tracks4Subscribe:d,tracks4Unsubscribe:h,allSubscribeTracks:p},b=e.getAnotherStreamUpdateInfo(i,f);return{curUserState:f.userState,preUserState:f.userState,userInfo:f.userInfo,mainStream:i===KM.STREAM_TYPE_MAIN?_:b,auxStream:i===KM.STREAM_TYPE_AUX?_:b}}},{key:"resubscribeMainStreamAudio",value:function e(t){const r=this.previousAudioSubscribedUsers.get(t),n=r?Array.from(r.values()):null;if(this.logger.info(Gj,"resubscribeMainStreamAudio, preAudioSubscribedUsers:  ".concat(n)),!n){return null}const i={video:!1,audio:!0},o=[];n.forEach((e=>{var r,n;const a=this.subscribeSingleStream(e,t,KM.STREAM_TYPE_MAIN,i,qM.USER_SUBSCRIBE_AUDIOPOLICY);(null==a||null===(r=a.mainStream)||void 0===r||null===(n=r.tracks4Subscribe)||void 0===n?void 0:n.length)>0&&o.push(a)}));const a=[];return a.push(...o),a.push(...this.getOtherRemoteUserPublishInfos(n,t)),this.logger.info(Gj,"resubscribeMainStreamAudio success, ".concat(this.getTracksUpdateInfosString(a))),o}},{key:"unsubscribeAllMainStreamAudio",value:function e(t){const r={video:!1,audio:!0},n=[],i=[];return this.getAllUserInfos(t).forEach((e=>{var o;if(null!==(o=e.mainStream)&&void 0!==o&&o.remoteTrackInfos?Array.from(e.mainStream.remoteTrackInfos.values()).some((e=>e.type===YM.TRACK_TYPE_AUDIO&&e.isSubscribed)):null){i.push(e.userInfo.userId);const o=this.unsubscribeSingleStream(e.userInfo.userId,t,KM.STREAM_TYPE_MAIN,r,qM.TOPN_AUDIOPOLICY);n.push(o)}})),n.push(...this.getOtherRemoteUserPublishInfos(i,t)),this.logger.info(Gj,"unsubscribeAllMainStreamAudio success, ".concat(this.getTracksUpdateInfosString(n))),n}},{key:"updateAudioTrackSubInfo",value:function t(r,n,i,o,a,s,u,c){if(!o){return}const l=e.getRemoteTrackInfos(o.mainStream),f=e.getRemoteTrackInfos(o.auxStream),d=r===KM.STREAM_TYPE_MAIN?l:f,h=null==d?void 0:d.find((e=>e.type===YM.TRACK_TYPE_AUDIO));if(!h){return void this.logger.info(Gj,"updateAudioTrackSubInfo: ".concat(r,", no audio track exist"))}const p=h.isSubscribed?h:null;if(n.audio&&!h.isSubscribed){a===qM.USER_SUBSCRIBE_AUDIOPOLICY?(h.isSubscribed=!0,h.cssrc=this.allocateAudioReceiveSsrc(o.userInfo.roomId),s.push(h)):this.logger.warn(Gj,"updateAudioTrackSubInfo, not common audio mode, but audio option is true, reserve it");const e=this.previousAudioSubscribedUsers.get(o.userInfo.roomId);null==e||e.set(o.userInfo.userId,o.userInfo.userId)}if((p||!p&&s.some((e=>e.type===YM.TRACK_TYPE_AUDIO)))&&c.push(h),i&&!n.audio&&p){h.isSubscribed=!1,u.push(h);const e=this.previousAudioSubscribedUsers.get(o.userInfo.roomId);null==e||e.delete(o.userInfo.userId)}}},{key:"updateVideoTrackSubInfo",value:function t(r,n,i,o,a,s,u){const c=e.getRemoteTrackInfos(o.mainStream),l=e.getRemoteTrackInfos(o.auxStream),f=r===KM.STREAM_TYPE_MAIN?c:l,d=null==f?void 0:f.filter((e=>e.type===YM.TRACK_TYPE_VIDEO));if(!d||0===d.length){return}const h=[];d.filter((e=>e.isSubscribed)).forEach((e=>{h.push(e)}));const p=[];if(n.video){if(n.resolutionIds){n.resolutionIds.forEach((e=>{const t=o.userInfo.userId===XP?Wj[e].streamUid.toString():e,n=d.find((e=>e.trackId.toString()===t));n&&(p.push(n),h.some((e=>e.trackId.toString()===t))||(n.isSubscribed=!0,n.cssrc=this.allocateVideoReceiveSsrc(o.userInfo.roomId,r),a.push(n)))}))}else{const e=this.getMaxResolutionTrack(d).trackId,t=e&&d.find((t=>t.trackId===e));t&&(p.push(t),h.some((t=>t.trackId===e))||(t.isSubscribed=!0,t.cssrc=this.allocateVideoReceiveSsrc(o.userInfo.roomId,r),a.push(t)))}}const v=a.filter((e=>e.type===YM.TRACK_TYPE_VIDEO));v.forEach((e=>{e.autoAdjustResolution=n.autoAdjustResolution||nM.ON,e.minResolution=n.minResolution||"LD"})),u.push(...v),i?h.forEach((e=>{p.some((t=>t.trackId===e.trackId))?u.push(e):(e.isSubscribed=!1,s.push(e))})):u.push(...h)}},{key:"unAllocateReceiveSsrc",value:function e(t,r,n,i){n!==YM.TRACK_TYPE_AUDIO?this.unAllocateVideoReceiveSsrc(t,r,i):this.unAllocateAudioReceiveSsrc(t,i)}},{key:"recoverReceiveSsrc",value:function e(t,r,n,i){n!==YM.TRACK_TYPE_AUDIO?this.recoverVideoReceiveSsrc(t,r,i):this.recoverAudioReceiveSsrc(t,i)}},{key:"unAllocateAudioReceiveSsrc",value:function e(t,r){const n=this.roomSsrc.get(t);if(!n){throw this.logger.error(Gj,"no roomId exist"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const i=n.audioReceiveSsrcs.indexOf(r);-1===i&&this.logger.error(Gj,"unAllocateAudioReceiveSsrc error, ".concat(r," not allocated")),n.audioReceiveSsrcs.splice(i,1),this.logger.info(Gj,"unAllocateAudioReceiveSsrc success, ".concat(r))}},{key:"recoverAudioReceiveSsrc",value:function e(t,r){const n=this.roomSsrc.get(t);if(!n){throw this.logger.error(Gj,"no roomId exist"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}-1===n.audioReceiveSsrcs.indexOf(r)&&n.audioReceiveSsrcs.push(r),this.logger.info(Gj,"recoverAudioReceiveSsrc success, ".concat(r))}},{key:"unAllocateVideoReceiveSsrc",value:function e(t,r,n){const i=this.roomSsrc.get(t);if(!i){throw this.logger.error(Gj,"no roomId exist"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const o=i.videoReceiveSsrcs.indexOf(n);-1!==o?(i.videoReceiveSsrcs.splice(o,1),this.logger.info(Gj,"unAllocateVideoReceiveSsrc success, ".concat(r,", ").concat(n))):this.logger.error(Gj,"unAllocateVideoReceiveSsrc error, ".concat(r,",  ").concat(n," not allocated"))}},{key:"recoverVideoReceiveSsrc",value:function e(t,r,n){const i=this.roomSsrc.get(t);if(!i){throw this.logger.error(Gj,"no roomId exist"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}-1===i.videoReceiveSsrcs.indexOf(n)&&i.videoReceiveSsrcs.push(n),this.logger.info(Gj,"recoverVideoReceiveSsrc success, ".concat(r,", ").concat(n))}},{key:"allocateAudioReceiveSsrc",value:function e(t){const r=this.roomSsrc.get(t);if(!r){throw this.logger.error(Gj,"no roomId exist"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}if(!this.audioCssrcs||0===this.audioCssrcs.length){throw this.logger.error(Gj,"audio ssrc not found"),new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}for(const e of this.audioCssrcs){if(!r.audioReceiveSsrcs.includes(e)){return r.audioReceiveSsrcs.push(e),this.logger.info(Gj,"allocateAudioReceiveSsrc success, ".concat(e)),e}}throw this.logger.error(Gj,"have no available audio receive ssrc"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}},{key:"allocateVideoReceiveSsrc",value:function e(t,r){const n=this.roomSsrc.get(t);if(!n){throw this.logger.error(Gj,"no roomId exist"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}return r===KM.STREAM_TYPE_AUX?this.doAllocateVideoReceiveSsrc(this.auxVideoCssrcs,n.videoReceiveSsrcs):this.doAllocateVideoReceiveSsrc(this.mainVideoCssrcs,n.videoReceiveSsrcs)}},{key:"doAllocateVideoReceiveSsrc",value:function e(t,r){if(!t||0===t.length){throw this.logger.error(Gj,"video ssrc not found"),new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR)}for(const e of t){if(!r.includes(e)){return r.push(e),this.logger.info(Gj,"allocateVideoReceiveSsrc success, ".concat(e)),e}}throw this.logger.error(Gj,"have no available video receive ssrc"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}},{key:"unsubscribeStream",value:function e(t,r,n,i){const o=this.unsubscribeSingleStream(t,r,n,i,qM.USER_SUBSCRIBE_AUDIOPOLICY);this.updateSubscribeOption(t,r,n,i,Vj.unsubscribe);const a=[];return o&&a.push(o),a.push(...this.getOtherRemoteUserPublishInfos([t],r)),this.logger.info(Gj,"unsubscribeStream success, ".concat(this.getTracksUpdateInfosString(a))),a}},{key:"updateSubscribeOption",value:function e(t,r,n,i,o){if(!i){throw this.logger.error(Gj,"updateSubscribeOption fail, trackOption is null}"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const a=this.getUserInfoById(t,r),s=n===KM.STREAM_TYPE_MAIN?a.mainStream:a.auxStream;o===Vj.subscribe?s.subscribeOption=this.getFullSubscribeOptions(s,i):(i.audio&&(s.subscribeOption.audio=!1),i.video&&(i.resolutionIds?i.resolutionIds.forEach((e=>{var t,r;const n=null===(t=s.subscribeOption)||void 0===t||null===(r=t.resolutions)||void 0===r?void 0:r.map((e=>e.resolutionId)).indexOf(e);n>-1&&s.subscribeOption.resolutions.splice(n,1)})):(s.subscribeOption.video=!1,s.subscribeOption.resolutions=null)))}},{key:"getFullSubscribeOptions",value:function t(r,n){if(!n){throw this.logger.error(Gj,"trackOption is null"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const i=[],o={};if(n.video){if(n.resolutionIds){n.resolutionIds.forEach((t=>{e.appendResolutions(r,t,i)}))}else{const t=this.getMaxResolutionTrackId(r);e.appendResolutions(r,t,i)}}if(n.audio){const e=Array.from(r.remoteTrackInfos.values()).find((e=>e.type===YM.TRACK_TYPE_AUDIO));null!=e&&e.playElement&&(o.playElement=e.playElement,o.objectFit=e.objectFit,o.muted=e.muted)}return{audio:n.audio,video:n.video,resolutions:i,audioPlayInfo:o,autoAdjustResolution:n.autoAdjustResolution,minResolution:n.minResolution}}},{key:"getRemoteUserInfoById",value:function e(t,r){if(!t||!r){return null}const n=this.getUserInfoById(t,r);return n||(this.logger.error(Gj,"unsubscribeSingleStream fail, user not exist}"),null)}},{key:"unsubscribeSingleStream",value:function t(r,n,i,o,a){var s,u;const c=this.getRemoteUserInfoById(r,n);if(null===c){return null}const l=e.getRemoteTrackInfos(c.mainStream),f=e.getRemoteTrackInfos(c.auxStream),d=i===KM.STREAM_TYPE_MAIN?l:f;if(!d||0===d.length){return this.logger.warn(Gj,"unsubscribeSingleStream, no track exist ".concat(r)),null}const h=d.filter((e=>e.isSubscribed)),p=[];if(o.audio){const e=d.find((e=>e.type===YM.TRACK_TYPE_AUDIO&&e.isSubscribed));if(e&&(e.isSubscribed=!1,p.push(e),a===qM.USER_SUBSCRIBE_AUDIOPOLICY)){const e=this.previousAudioSubscribedUsers.get(n);null==e||e.delete(r)}}o.video&&this.unsubscribeVideo(o,h,p,r,d);const v={remoteStream:i===KM.STREAM_TYPE_MAIN?null===(s=c.mainStream)||void 0===s?void 0:s.remoteStream:null===(u=c.auxStream)||void 0===u?void 0:u.remoteStream,preTracks:d,curTracks:d,addedTracks:null,updatedTracks:null,removedTracks:null,subscribedTracks:h,tracks4Subscribe:null,tracks4Unsubscribe:p,allSubscribeTracks:Array.from(d.values()).filter((e=>e.isSubscribed))},g=e.getAnotherStreamUpdateInfo(i,c);return{preUserState:c.userState,curUserState:c.userState,userInfo:c.userInfo,mainStream:i===KM.STREAM_TYPE_MAIN?v:g,auxStream:i===KM.STREAM_TYPE_AUX?v:g}}},{key:"unsubscribeVideo",value:function e(t,r,n,i,o){if(t.resolutionIds){t.resolutionIds.forEach((e=>{const t=i===XP?Wj[e].streamUid.toString():e,r=null==o?void 0:o.find((e=>e.trackId.toString()===t&&e.isSubscribed));r&&(r.isSubscribed=!1,n.push(r))}))}else{const e=null==r?void 0:r.filter((e=>e.type==YM.TRACK_TYPE_VIDEO));null==e||e.forEach((e=>{e.isSubscribed=!1,n.push(e)}))}}},{key:"updateUserName",value:function e(t,r,n){const i=this.getUserInfoById(t,r);i?(i.userInfo.nickname=n,this.logger.info(Gj,"updateUserName success, userId: ".concat(t,", nickName: ").concat(n))):this.logger.error(Gj,"updateUserName fail, user not exist}")}},{key:"isRemoteUserSubscribed",value:function e(t,r){var n,i;const o=this.getUserInfoById(t,r);if(!o){return this.logger.info(Gj,"isRemoteUserSubscribed, user not exist}"),!1}const a=!(null===(n=o.mainStream)||void 0===n||!n.remoteTrackInfos)&&Array.from(o.mainStream.remoteTrackInfos.values()).filter((e=>e.isSubscribed)).length>0,s=!(null===(i=o.auxStream)||void 0===i||!i.remoteTrackInfos)&&Array.from(o.auxStream.remoteTrackInfos.values()).filter((e=>e.isSubscribed)).length>0;return a||s}},{key:"getUserInfoByStreamId",value:function e(t,r){return this.getAllUserInfos(t).find((e=>{var t,n,i;const o=(null===(t=e.mainStream)||void 0===t?void 0:t.remoteTrackInfos.has(r))||(null===(n=e.auxStream)||void 0===n?void 0:n.remoteTrackInfos.has(r));return null===(i=zL.getParameter(NL))||void 0===i||i?o||e.userInfo.userId===r:o}))}},{key:"getAllUserInfos",value:function e(t){return Array.from(this.remoteUserInfos.values()).filter((e=>e.userInfo.roomId===t))}},{key:"getAllSubscribedUpdateInfos4Unsubscribe",value:function t(r){return this.getAllUserInfos(r).map((t=>{const r=e.getRemoteTrackInfos(t.mainStream).filter((e=>e.isSubscribed));r.forEach((e=>{e.isSubscribed=!1}));const n=e.getRemoteTrackInfos(t.auxStream).filter((e=>e.isSubscribed));return n.forEach((e=>{e.isSubscribed=!1})),{userInfo:t.userInfo,preUserState:t.userState,curUserState:t.userState,mainStream:{remoteStream:t.mainStream.remoteStream,tracks4Unsubscribe:r,allSubscribeTracks:[]},auxStream:{remoteStream:t.auxStream.remoteStream,tracks4Unsubscribe:n,allSubscribeTracks:[]}}}))}},{key:"initializeRemoteUser",value:function t(r,n){if(!r){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const i={userInfo:r,userState:n?GL.Joined:GL.NotJoin,mainStream:null,auxStream:null},o=e.generateUniqueId(r.userId,r.roomId);return this.remoteUserInfos.set(o,i),this.roomSsrc.has(r.roomId)||this.roomSsrc.set(r.roomId,{audioReceiveSsrcs:[],videoReceiveSsrcs:[]}),this.logger.info(Gj,"initializeRemoteUser success, userInfo: ".concat(JSON.stringify(r))),i}},{key:"updateRemoteUser",value:function e(t){if(!t){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const r=this.getUserInfoById(t.userId,t.roomId);return r?(t.nickname=t.nickname||r.userInfo.nickname,r.userInfo=t,this.logger.info(Gj,"updateRemoteUser success, userInfo: ".concat(JSON.stringify(t))),r):null}},{key:"initializeRemoteStream",value:function e(t,r,n){const i=t===KM.STREAM_TYPE_MAIN?"main":"auxiliary",o=new IN({type:i,log:this.logger,userId:r,client:this.client,roomId:n}),a={remoteTrackInfos:new Map,remoteStream:o,subscribeOption:{audio:!1,video:!1}};if(!this.previousAudioSubscribedUsers.has(n)){const e=new Map;this.previousAudioSubscribedUsers.set(n,e)}return this.logger.info(Gj,"initializeStreamInfo success, userId: ".concat(r,", type: ").concat(a.remoteStream.getType())),a}},{key:"refreshRemoteStreamList",value:function e(t,r,n){const i=null==r?void 0:r.filter((e=>e.content!==$P.desktop)),o=null==r?void 0:r.filter((e=>e.content===$P.desktop)),a=this.getUserInfoById(t.userId,t.roomId),s=this.doRefreshRemoteStreamList(t,KM.STREAM_TYPE_MAIN,i,n,!1),u=this.doRefreshRemoteStreamList(t,KM.STREAM_TYPE_AUX,o,null,!1),c=this.getUserInfoById(t.userId,t.roomId);return this.getAllPublishInfosWhenStreamUpdate(!a,s,u,c)}},{key:"doRefreshRemoteStreamList",value:function t(r,n,i,o,a){if(this.logger.info(Gj,"doRefreshRemoteStreamList begin, streamType:".concat(n,",isLocalRejoin：").concat(a,",")+"userInfo: ".concat(JSON.stringify(r),", allVideoStreams: ").concat(JSON.stringify(i),", allAudioStreams: ").concat(JSON.stringify(o))),r.userId===this.localUserId){return null}const s=this.getUserInfoById(r.userId,r.roomId);r.relaySrcRoomId=r.relaySrcRoomId||(null==s?void 0:s.userInfo.relaySrcRoomId);const u=s?this.updateRemoteUser(r):this.initializeRemoteUser(r,!0),c=this.getStreamInfoByStreamType(n,u,r),l=e.getRemoteTrackInfos(c),f=null==l?void 0:l.filter((e=>e.isSubscribed)),d=c.remoteTrackInfos,h=[],p=[],v=[];null==l||l.forEach((e=>{this.isPreTrackInvalid(i,o,e,a)&&(a&&e.isSubscribed&&(e.state=YL.localRejoin),v.push(e),d.delete(e.trackId))})),this.refreshTracks(i,o,l,d,a,h,p,v),this.cachePlayInfo(r,n,i,o,v);const g=this.getTracks4Subscribe(r,n,c.remoteStream,h,v),m=this.getTracks4UnSubscribe(v),y=Array.from(c.remoteTrackInfos.values());return this.updateRemoteStreamTracks(y,c.remoteStream),{remoteStream:c.remoteStream,preTracks:l,curTracks:y,addedTracks:h,updatedTracks:p,removedTracks:v,subscribedTracks:f,tracks4Subscribe:g,tracks4Unsubscribe:m,allSubscribeTracks:null==y?void 0:y.filter((e=>e.isSubscribed))}}},{key:"refreshTracks",value:function e(t,r,n,i,o,a,s,u){(null!=t&&t.length||null!=r&&r.length)&&(null==n||n.forEach((e=>{e.state===YL.remoteRejoinCache&&(u.push(e),i.delete(e.trackId))}))),this.refreshVideoStreamTracks(t,n,i,o,a,s),this.refreshAudioStreamTracks(r,n,i,o,a,s)}},{key:"refreshVideoStreamTracks",value:function t(r,n,i,o,a,s){null==r||r.forEach((t=>{const r=null==n?void 0:n.find((e=>e.trackId===t.streamUid.toString()));if(r){const n=e.generateUpdateVideoTrack(t,r);i.set(t.streamUid.toString(),n),r.state===YL.remoteRejoinCache||o?(n.isSubscribed=!1,n.isTrackReady=!1,a.push(n)):e.isSameResolution(r,t)&&!e.isMuteStatusChange(r,t)||s.push(r)}else{const r=e.generateNewVideoTrack(t);i.set(t.streamUid.toString(),r),a.push(r)}}))}},{key:"refreshAudioStreamTracks",value:function t(r,n,i,o,a,s){null==r||r.forEach((t=>{if("main"===(null==t?void 0:t.content)){const r=null==n?void 0:n.find((e=>e.trackId===t.streamUid.toString()));if(r){const n=e.generateUpdateAudioTrack(t,r);i.set(t.streamUid.toString(),n),r.state===YL.remoteRejoinCache||o?(n.isSubscribed=!1,n.isTrackReady=!1,a.push(n)):e.isMuteStatusChange(r,t)&&s.push(r)}else{const r=e.generateNewAudioTrack(t);i.set(t.streamUid.toString(),r),a.push(r)}}}))}},{key:"remoteUserReconnect",value:function e(t){if(!t){return}const r=this.getUserInfoById(t.userId,t.roomId);if(!r){return this.logger.error(Gj,"remoteUserReconnect, user not exist"),null}this.isRemoteUserSubscribed(t.userId,t.roomId)&&this.cacheHistorySubscription(r),r.userState=GL.Rejoining,this.logger.info(Gj,"remoteUserReconnect, update user state to rejoining")}},{key:"cacheHistorySubscription",value:function e(t){if(!t){return null}const r=this.getSubscribedTracksInfo(t.userInfo.userId,t.userInfo.roomId,KM.STREAM_TYPE_MAIN),n=this.getSubscribedTracksInfo(t.userInfo.userId,t.userInfo.roomId,KM.STREAM_TYPE_AUX);null==r||r.forEach((e=>{e.state=YL.remoteRejoinCache})),null==n||n.forEach((e=>{e.state=YL.remoteRejoinCache}))}},{key:"getSubscribedTracksInfo",value:function e(t,r,n){var i,o;const a=this.getUserInfoById(t,r);if(!a){return this.logger.error(Gj,"getSubscribedMainTracksInfo, user not exist}"),null}const s=n===KM.STREAM_TYPE_MAIN?null===(i=a.mainStream)||void 0===i?void 0:i.remoteTrackInfos:null===(o=a.auxStream)||void 0===o?void 0:o.remoteTrackInfos;return s&&Array.from(s.values()).filter((e=>e.isSubscribed))}},{key:"getStreamInfoByStreamType",value:function e(t,r,n){if(!(t===KM.STREAM_TYPE_MAIN?r.mainStream:r.auxStream)){const e=this.initializeRemoteStream(t,n.userId,n.roomId);t===KM.STREAM_TYPE_MAIN?r.mainStream=e:r.auxStream=e}return t===KM.STREAM_TYPE_MAIN?r.mainStream:r.auxStream}},{key:"updateRemoteStream",value:function e(t,r,n){const i=null==r?void 0:r.filter((e=>e.content!==$P.desktop)),o=null==r?void 0:r.filter((e=>e.content===$P.desktop)),a=this.doUpdateRemoteStream(t,KM.STREAM_TYPE_MAIN,i,n),s=this.doUpdateRemoteStream(t,KM.STREAM_TYPE_AUX,o,null),u=this.getUserInfoById(t.userId,t.roomId);return{userInfo:u.userInfo,preUserState:u.userState,curUserState:u.userState,isUserNameChanged:null,mainStream:a,auxStream:s}}},{key:"doUpdateRemoteStream",value:function t(r,n,i,o){this.logger.info(Gj,"updateRemoteStreamInfo begin, streamType:".concat(n)+"userInfo: ".concat(JSON.stringify(r),", videoStreams: ").concat(JSON.stringify(i),", audioStreams: ").concat(JSON.stringify(o),","));if(!this.getUserInfoById(r.userId,r.roomId)){return this.logger.error(Gj,"updateRemoteStream, user not exist"),null}const a=this.getUserInfoById(r.userId,r.roomId),s=this.getStreamInfoByStreamType(n,a,r),u=e.getRemoteTrackInfos(s),c=null==u?void 0:u.filter((e=>e.isSubscribed)),l=s.remoteTrackInfos,f=[];null==i||i.forEach((t=>{const r=null==u?void 0:u.find((e=>e.trackId===t.streamUid.toString()));if(r&&(!e.isSameResolution(r,t)||e.isMuteStatusChange(r,t))){const n=e.generateUpdateVideoTrack(t,r);l.set(t.streamUid.toString(),n),f.push(r)}})),null==o||o.forEach((t=>{const r=null==u?void 0:u.find((e=>e.trackId===t.streamUid.toString()));if(r&&e.isMuteStatusChange(r,t)){const n=e.generateUpdateAudioTrack(t,r);l.set(t.streamUid.toString(),n),f.push(r)}}));const d=Array.from(s.remoteTrackInfos.values());return this.updateRemoteStreamTracks(d,s.remoteStream),{remoteStream:s.remoteStream,preTracks:u,curTracks:d,addedTracks:[],updatedTracks:f,removedTracks:[],subscribedTracks:c,tracks4Subscribe:[],tracks4Unsubscribe:[],allSubscribeTracks:null==d?void 0:d.filter((e=>e.isSubscribed))}}},{key:"getAllPublishInfosWhenStreamUpdate",value:function e(t,r,n,i){const o={userInfo:i.userInfo,preUserState:t?GL.NotJoin:i.userState,curUserState:i.userState,isUserNameChanged:null,mainStream:r,auxStream:n},a=[];return a.push(o),a.push(...this.getOtherRemoteUserPublishInfos([i.userInfo.userId],i.userInfo.roomId)),this.logger.info(Gj,"updateRemoteStreamInfo success, ".concat(this.getTracksUpdateInfosString(a))),a}},{key:"getOtherRemoteUserPublishInfos",value:function e(t,r){const n=[];return this.getAllUserInfos(r).forEach((e=>{if(!t.includes(e.userInfo.userId)){var r,i,o,a,s,u;const t=null!==(r=e.mainStream)&&void 0!==r&&null!==(i=r.remoteTrackInfos)&&void 0!==i&&i.size?Array.from(e.mainStream.remoteTrackInfos.values()).filter((e=>e.isSubscribed)):null,c=null!==(o=e.auxStream)&&void 0!==o&&null!==(a=o.remoteTrackInfos)&&void 0!==a&&a.size?Array.from(e.auxStream.remoteTrackInfos.values()).filter((e=>e.isSubscribed)):null,l={userInfo:e.userInfo,curUserState:e.userState,preUserState:e.userState,mainStream:{remoteStream:null===(s=e.mainStream)||void 0===s?void 0:s.remoteStream,allSubscribeTracks:t},auxStream:{remoteStream:null===(u=e.auxStream)||void 0===u?void 0:u.remoteStream,allSubscribeTracks:c}};n.push(l)}})),n}},{key:"getTracksUpdateInfosString",value:function t(r){if(!r){return""}let n="";return r.forEach((t=>{n=n+e.getTracksUpdateInfoString(t)+" "})),n}},{key:"updateRemoteStreamTracks",value:function e(t,r){if(!r){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}if(!t){return void this.logger.error(Gj,"updateRemoteStreamTracks , curAllTracks is null")}const n=new Map;t.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)).forEach((e=>{n.set(e.trackId.toString(),{streamId:e.trackId.toString(),width:e.width,height:e.height})}));const i=t.some((e=>e.type===YM.TRACK_TYPE_AUDIO)),o=r.isAuxiliary()?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN;r.updateRemoteResolutions(o,[...n.values()],i)}},{key:"isPreTrackInvalid",value:function e(t,r,n,i){return!!i||n.state!==YL.remoteRejoinCache&&(n.type===YM.TRACK_TYPE_VIDEO&&this.isPreVideoTrackRemoved(t,n)||n.type===YM.TRACK_TYPE_AUDIO&&this.isPreAudioTrackRemoved(r,n))}},{key:"isPreVideoTrackRemoved",value:function e(t,r){return!(null!=t&&t.some((e=>e.streamUid.toString()===r.trackId)))}},{key:"isPreAudioTrackRemoved",value:function e(t,r){return!(null!=t&&t.some((e=>e.streamUid.toString()===r.trackId)))}},{key:"clear",value:function e(t){if(t){for(const e of this.remoteUserInfos.keys()){if(e.indexOf("#".concat(t))>0){var r,n,i,o;const t=this.remoteUserInfos.get(e);null===(r=t.mainStream)||void 0===r||null===(n=r.remoteStream)||void 0===n||n.close(),null===(i=t.auxStream)||void 0===i||null===(o=i.remoteStream)||void 0===o||o.close(),this.remoteUserInfos.delete(e)}}this.roomSsrc.delete(t),this.previousAudioSubscribedUsers.delete(t)}}}],[{key:"getCssrcRange",value:function e(t,r){const n=[];let i;for(i=t;i<=r;i++){n.push(i)}return n}},{key:"getUserUpdateInfoWhenJoin",value:function e(t,r,n){return n.userState=t===GL.Rejoining?GL.Joined:n.userState,{userInfo:n.userInfo,preUserState:t,curUserState:n.userState,isUserNameChanged:r,mainStream:null,auxStream:null}}},{key:"getUserUpdateInfoWhenQuit",value:function t(r,n){return n.userState=r===GL.Rejoining?r:GL.NotJoin,{userInfo:n.userInfo,preUserState:r,curUserState:n.userState,isUserNameChanged:null,mainStream:e.getStreamListUpdateInfoWhenQuitOrRejoin(n,KM.STREAM_TYPE_MAIN,r),auxStream:e.getStreamListUpdateInfoWhenQuitOrRejoin(n,KM.STREAM_TYPE_AUX,r)}}},{key:"getStreamListUpdateInfoWhenQuitOrRejoin",value:function t(r,n,i){return i===GL.Rejoining?e.getStreamListUpdateInfoWhenRejoin(r,n):e.getStreamListUpdateInfoWhenQuit(r,n)}},{key:"getStreamListUpdateInfoWhenQuit",value:function t(r,n){const i=n===KM.STREAM_TYPE_MAIN?r.mainStream:r.auxStream,o=e.getRemoteTrackInfos(i),a=null==o?void 0:o.filter((e=>e.isSubscribed));return{remoteStream:null==i?void 0:i.remoteStream,preTracks:o,curTracks:o,addedTracks:[],updatedTracks:[],removedTracks:o,subscribedTracks:a,tracks4Subscribe:[],tracks4Unsubscribe:a,allSubscribeTracks:[]}}},{key:"getStreamListUpdateInfoWhenRejoin",value:function t(r,n){const i=n===KM.STREAM_TYPE_MAIN?r.mainStream:r.auxStream,o=e.getRemoteTrackInfos(i),a=null==o?void 0:o.filter((e=>e.isSubscribed));return{remoteStream:null==i?void 0:i.remoteStream,preTracks:o,curTracks:o,addedTracks:[],updatedTracks:[],removedTracks:o,subscribedTracks:a,tracks4Subscribe:[],tracks4Unsubscribe:[],allSubscribeTracks:a}}},{key:"isStreamRemoved",value:function e(t,r){return!(t&&0!==t.length||r&&0!==r.length)}},{key:"getStreamInfoByType",value:function t(r,n,i){const o=n===KM.STREAM_TYPE_MAIN?r.mainStream:r.auxStream,a=e.getRemoteTrackInfos(o),s=e.getTracksByType(a,i);return{remoteStream:o?o.remoteStream:null,tracks:s}}},{key:"getTracksByType",value:function e(t,r){return t&&0!==t.length?r?t.filter((e=>e.type===r)):t:[]}},{key:"isUserNameChanged",value:function e(t,r){return r&&t&&t.nickname&&t.nickname!==r}},{key:"getRemoteTrackInfos",value:function e(t){return null!=t&&t.remoteTrackInfos?Array.from(t.remoteTrackInfos.values()):null}},{key:"recoverSubscribeOption",value:function e(t,r){if(r.type===YM.TRACK_TYPE_AUDIO){t.audio=!0}else{t.video=!0;const e={resolutionId:r.trackId,width:r.width,height:r.height};t.resolutions.push(e)}}},{key:"recoverUnsubscribeOption",value:function e(t,r){if(r.type===YM.TRACK_TYPE_AUDIO){t.audio=!1}else{if(!t.video){return}t.resolutions?t.resolutions.forEach((e=>{var r;const n=null==t||null===(r=t.resolutions)||void 0===r?void 0:r.map((e=>e.resolutionId)).indexOf(e.resolutionId);n>-1&&t.resolutions.splice(n,1)})):(t.video=!1,t.resolutions=null)}}},{key:"appendResolutions",value:function e(t,r,n){const i=t.remoteTrackInfos.get(r);if(i){const e={resolutionId:r,width:i.width,height:i.height};i.playElement&&(e.playElement=i.playElement,e.objectFit=i.objectFit,e.muted=i.muted),n.push(e)}}},{key:"generateNewVideoTrack",value:function e(t){return{pt:t.pt,content:t.content,streamType:t.content===$P.desktop?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,trackId:t.streamUid.toString(),isSubscribed:!1,isTrackReady:!1,pssrc:t.ssrc,cssrc:0,type:YM.TRACK_TYPE_VIDEO,width:t.width,height:t.height,state:YL.normal,mute:t.mute,maxFs:t.maxFs,fps:t.fps}}},{key:"generateNewAudioTrack",value:function e(t){return{pt:t.pt,content:t.content,streamType:t.content===$P.desktop?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,trackId:t.streamUid.toString(),isSubscribed:!1,isTrackReady:!1,pssrc:t.ssrc,cssrc:0,type:YM.TRACK_TYPE_AUDIO,state:YL.normal,mute:t.mute}}},{key:"generateUpdateVideoTrack",value:function e(t,r){return{pt:t.pt,content:t.content,streamType:t.content===$P.desktop?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,trackId:t.streamUid.toString(),isSubscribed:r.isSubscribed,isTrackReady:r.isTrackReady,pssrc:r.pssrc,cssrc:r.cssrc,type:YM.TRACK_TYPE_VIDEO,width:t.width,height:t.height,state:r.state,mute:t.mute}}},{key:"generateUpdateAudioTrack",value:function e(t,r){return{pt:t.pt,content:t.content,streamType:t.content===$P.desktop?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,trackId:t.streamUid.toString(),isSubscribed:r.isSubscribed,isTrackReady:r.isTrackReady,pssrc:r.pssrc,cssrc:r.cssrc,type:YM.TRACK_TYPE_AUDIO,state:r.state,mute:t.mute}}},{key:"getAnotherStreamUpdateInfo",value:function t(r,n){const i=r===KM.STREAM_TYPE_MAIN?n.auxStream:n.mainStream,o=e.getRemoteTrackInfos(i),a=o?o.filter((e=>e.isSubscribed)):null;return{remoteStream:null==i?void 0:i.remoteStream,preTracks:o,curTracks:o,addedTracks:null,updatedTracks:null,removedTracks:null,subscribedTracks:a?[...a]:null,tracks4Subscribe:null,tracks4Unsubscribe:null,allSubscribeTracks:a?[...a]:null}}},{key:"getTracksUpdateInfoString",value:function e(t){var r,n,i,o,a,s,u,c,l,f,d,h,p,v,g,m,y,_,b,E,S,w,T,C,A,R,I,k,O,P,M,x,L,D,N,j,U,B,F,H,V,W,z,G,Y,K,q,$,J,Z,X,Q,ee,te;return t?"userId:".concat(t.userInfo.userId,", preUserState: ").concat(t.preUserState,",curUserState: ").concat(t.curUserState,",")+"main stream:"+"".concat(null!==(r=t.mainStream)&&void 0!==r&&null!==(n=r.preTracks)&&void 0!==n&&n.length?"preTracks:"+JSON.stringify(null===(i=t.mainStream)||void 0===i?void 0:i.preTracks)+",":"")+"".concat(null!==(o=t.mainStream)&&void 0!==o&&null!==(a=o.curTracks)&&void 0!==a&&a.length?"curTracks:"+JSON.stringify(null===(s=t.mainStream)||void 0===s?void 0:s.curTracks)+",":"")+"".concat(null!==(u=t.mainStream)&&void 0!==u&&null!==(c=u.addedTracks)&&void 0!==c&&c.length?"addedTracks:"+JSON.stringify(null===(l=t.mainStream)||void 0===l?void 0:l.addedTracks)+",":"")+"".concat(null!==(f=t.mainStream)&&void 0!==f&&null!==(d=f.updatedTracks)&&void 0!==d&&d.length?"updatedTracks:"+JSON.stringify(null===(h=t.mainStream)||void 0===h?void 0:h.updatedTracks)+",":"")+"".concat(null!==(p=t.mainStream)&&void 0!==p&&null!==(v=p.removedTracks)&&void 0!==v&&v.length?"removedTracks:"+JSON.stringify(null===(g=t.mainStream)||void 0===g?void 0:g.removedTracks)+",":"")+"".concat(null!==(m=t.mainStream)&&void 0!==m&&null!==(y=m.subscribedTracks)&&void 0!==y&&y.length?"subscribedTracks:"+JSON.stringify(null===(_=t.mainStream)||void 0===_?void 0:_.subscribedTracks)+",":"")+"".concat(null!==(b=t.mainStream)&&void 0!==b&&null!==(E=b.tracks4Subscribe)&&void 0!==E&&E.length?"tracks4Subscribe:"+JSON.stringify(null===(S=t.mainStream)||void 0===S?void 0:S.tracks4Subscribe)+",":"")+"".concat(null!==(w=t.mainStream)&&void 0!==w&&null!==(T=w.tracks4Unsubscribe)&&void 0!==T&&T.length?"tracks4Unsubscribe:"+JSON.stringify(null===(C=t.mainStream)||void 0===C?void 0:C.tracks4Unsubscribe)+",":"")+"".concat(null!==(A=t.mainStream)&&void 0!==A&&null!==(R=A.allSubscribeTracks)&&void 0!==R&&R.length?"allSubscribeTracks:"+JSON.stringify(null===(I=t.mainStream)||void 0===I?void 0:I.allSubscribeTracks)+",":"")+"aux stream:"+"".concat(null!==(k=t.auxStream)&&void 0!==k&&null!==(O=k.preTracks)&&void 0!==O&&O.length?"preTracks:"+JSON.stringify(null===(P=t.auxStream)||void 0===P?void 0:P.preTracks)+",":"")+"".concat(null!==(M=t.auxStream)&&void 0!==M&&null!==(x=M.curTracks)&&void 0!==x&&x.length?"curTracks:"+JSON.stringify(null===(L=t.auxStream)||void 0===L?void 0:L.curTracks)+",":"")+"".concat(null!==(D=t.auxStream)&&void 0!==D&&null!==(N=D.addedTracks)&&void 0!==N&&N.length?"addedTracks:"+JSON.stringify(null===(j=t.auxStream)||void 0===j?void 0:j.addedTracks)+",":"")+"".concat(null!==(U=t.auxStream)&&void 0!==U&&null!==(B=U.updatedTracks)&&void 0!==B&&B.length?"updatedTracks:"+JSON.stringify(null===(F=t.auxStream)||void 0===F?void 0:F.updatedTracks)+",":"")+"".concat(null!==(H=t.auxStream)&&void 0!==H&&null!==(V=H.removedTracks)&&void 0!==V&&V.length?"removedTracks:"+JSON.stringify(null===(W=t.auxStream)||void 0===W?void 0:W.removedTracks)+",":"")+"".concat(null!==(z=t.auxStream)&&void 0!==z&&null!==(G=z.subscribedTracks)&&void 0!==G&&G.length?"subscribedTracks:"+JSON.stringify(null===(Y=t.auxStream)||void 0===Y?void 0:Y.subscribedTracks)+",":"")+"".concat(null!==(K=t.auxStream)&&void 0!==K&&null!==(q=K.tracks4Subscribe)&&void 0!==q&&q.length?"tracks4Subscribe:"+JSON.stringify(null===($=t.auxStream)||void 0===$?void 0:$.tracks4Subscribe)+",":"")+"".concat(null!==(J=t.auxStream)&&void 0!==J&&null!==(Z=J.tracks4Unsubscribe)&&void 0!==Z&&Z.length?"tracks4Unsubscribe:"+JSON.stringify(null===(X=t.auxStream)||void 0===X?void 0:X.tracks4Unsubscribe)+",":"")+"".concat(null!==(Q=t.auxStream)&&void 0!==Q&&null!==(ee=Q.allSubscribeTracks)&&void 0!==ee&&ee.length?"allSubscribeTracks:"+JSON.stringify(null===(te=t.auxStream)||void 0===te?void 0:te.allSubscribeTracks):""):""}},{key:"isSameResolution",value:function e(t,r){if(!t||!r){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}return t.height===r.height&&t.width===r.width}},{key:"isMuteStatusChange",value:function e(t,r){if(!t||!r){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}return t.mute!==r.mute}},{key:"generateUniqueId",value:function e(t,r){if(!t){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}return"".concat(t,"#").concat(r)}}])}();function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const qj=[200,201,204];const $j=new(function(){function e(){a(this,e)}return u(e,[{key:"setLogServerConfigs",value:function e(t){this.logServerConfigs=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kj(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({logServerAppId:VM,payLoad:"",signature:""},t),this.logServerConfigs.logServerAppId=this.logServerConfigs.logServerAppId||VM}},{key:"uploadLogFile",value:async function e(t,r){let n;try{if(!("off"!==zL.getParameter(HL))){return void t.logger.warn("LogServer","log caches enable is off")}const e=this.initConfigs(r);if(!e.payLoad||!e.signature){return void t.logger.warn("LogServer","init config failed, do not upload.")}const i=await this.getServerInfo(e);if(i&&0===i.resCode){this.serverDomain=i.serverDomain,this.accessToken=i.accessToken;const r=await AC.getLogFile(t,e.shaSN),o=await this.getUploadInfo(r,e);o&&0===o.resCode?(this.fileUniqueFlag=o.fileUniqueFlag,this.method=o.uploadInfoList[0].method,this.uploadUrl=o.uploadInfoList[0].uploadUrl,this.headers=o.uploadInfoList[0].headers,n=await this.upload2Obs(r.content),n&&await this.notifyUploadSucc(e)):t.logger.warn("LogServer","post upload info fail: ".concat(JSON.stringify(o)))}else{t.logger.warn("LogServer","get server fail: ".concat(JSON.stringify(i)))}}catch(e){t.logger.warn("LogServer","upload file error: ".concat(e))}}},{key:"initConfigs",value:function e(t){var r,n,i,o;const a=(null==t?void 0:t.taskId)||yC.getDeviceID().replace(/[-]/g,""),s=(null==t?void 0:t.payLoad)||(null===(r=this.logServerConfigs)||void 0===r?void 0:r.payLoad);return{shaSN:a,logServerAppId:(null==t?void 0:t.logServerAppId)||(null===(n=this.logServerConfigs)||void 0===n?void 0:n.logServerAppId),payLoad:s,signature:(null==t?void 0:t.signature)||(null===(i=this.logServerConfigs)||void 0===i?void 0:i.signature),logServerDomain:(null==t?void 0:t.logServerDomain)||(null===(o=this.logServerConfigs)||void 0===o?void 0:o.logServerDomain)||HM}}},{key:"getServerInfo",value:async function e(t){const r="".concat(t.payLoad,"&appID=").concat(t.logServerAppId),n=await sD.fetch("".concat(t.logServerDomain,"/v2/getServerDomain?appID=").concat(t.logServerAppId),{method:"POST",mode:"cors",cache:"no-cache",body:r},{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/json",Authorization:"HMAC-SHA256 appID=".concat(t.logServerAppId,', signature="').concat(t.signature,'"')});return null==n?void 0:n.data}},{key:"getUploadInfo",value:async function e(t,r){const n="".concat(r.payLoad,"&logType=0&fileName=").concat(t.urlFileNameEncode,'&fileHashList=[{"fileMd5":"","fileSha256":"').concat(t.sha256,'","fileSize":"').concat(t.length,'"}]&fileSize=').concat(t.length,"&encryptKey=asdfghhjjfsdafaerqw&patchSize=").concat(104857600,"&patchNum=2&patchVer=0"),i="POST&/v2/getUploadInfo&appID=".concat(r.logServerAppId,"&").concat(n,"&appID=").concat(r.logServerAppId),o=TS.exports.enc.Base64.stringify(TS.exports.HmacSHA256(i,this.accessToken)),a=await sD.fetch("https://".concat(this.serverDomain,"/v2/getUploadInfo?appID=").concat(r.logServerAppId),{method:"POST",mode:"cors",cache:"no-cache",body:n},{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/json",Authorization:"HMAC-SHA256 appID=".concat(r.logServerAppId,', signature="').concat(o,'"')});return null==a?void 0:a.data}},{key:"upload2Obs",value:async function e(t){const r=await sD.fetch("".concat(this.uploadUrl),{method:"".concat(this.method),mode:"cors",cache:"no-cache",body:t},{Authorization:this.headers.Authorization.toString(),"Content-MD5":"","Content-Type":this.headers["Content-Type"],"x-amz-content-sha256":this.headers["x-amz-content-sha256"],"x-amz-date":this.headers["x-amz-date"]});return qj.includes(null==r?void 0:r.httpCode)}},{key:"notifyUploadSucc",value:async function e(t){var r;const n=yC.getCurrentTime(),i="".concat(n.year).concat(n.month).concat(n.day).concat(n.hour).concat(n.min).concat(n.sec),o="".concat(t.payLoad,"&fileUniqueFlag=").concat(this.fileUniqueFlag,"&uploadTime=").concat(i),a="POST&/v2/notifyUploadSucc&appID=".concat(t.logServerAppId,"&").concat(o,"&appID=").concat(t.logServerAppId),s=TS.exports.HmacSHA256(a,this.accessToken),u=TS.exports.enc.Base64.stringify(s),c=await sD.fetch("https://".concat(this.serverDomain,"/v2/notifyUploadSucc?appID=").concat(t.logServerAppId),{method:"POST",mode:"cors",cache:"no-cache",body:o},{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/json",Authorization:"HMAC-SHA256 appID=".concat(t.logServerAppId,', signature="').concat(u,'"')});return c&&(null===(r=c.data)||void 0===r?void 0:r.resCode)}}])}()),Jj="ClientRelayRoomManager";const Zj=new(function(){function e(){a(this,e);this.relayClients=new Map,this.logger=AC.getLogger()}return u(e,[{key:"add",value:function e(t,r,n){if(this.relayClients.has(t)){this.relayClients.get(t).set(r,n)}else{const e=new Map;e.set(r,n),this.relayClients.set(t,e)}}},{key:"find",value:function e(t,r){if(this.relayClients.has(t)){return this.relayClients.get(t).get(r)}}},{key:"remove",value:function e(t,r){var n;r?null===(n=this.relayClients.get(t))||void 0===n||n.delete(r):this.relayClients.delete(t)}},{key:"addConnectionCache",value:function e(t,r,n){this.add(t,r,n)}},{key:"addRelayConnection",value:function e(t,r){if(t.status!==eM.Joined){throw this.logger.error(Jj,"cannot addRelayConnection before join room"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"cannot addRelayConnection before join room")}if(t.mainRelayRoomSymbol){throw this.logger.error(Jj,"addRelayConnection interface cannot call by relayClient"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"addRelayConnection interface cannot call by relayClient")}if(this.relayClients.get(t.clientSymbol).size>WM){throw this.logger.error(Jj,"relayClients size over maxium: ".concat(WM)),new oc(nc.RTC_ERR_CODE_CLIENT_RELAY_ROOM_OVER_MAXNUM)}if(this.find(t.clientSymbol,r)){throw this.logger.error(Jj,"addRelayConnection:".concat(r," already exist")),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"addRelayConnection:".concat(r," already exist"))}return new eB(t.clientConfig,t.clientSymbol)}},{key:"getRelayConnection",value:function e(t,r){return this.find(t.clientSymbol,r)}},{key:"stopRelayConnection",value:function e(t,r){t.mainRelayRoomSymbol?(this.find(t.mainRelayRoomSymbol,r)||this.logger.error(Jj,"stopRelayClient:".concat(r," not exist")),this.remove(t.mainRelayRoomSymbol,r)):r?this.remove(t.clientSymbol,r):this.remove(t.clientSymbol)}},{key:"roleValidCheck4RelayRoom",value:function e(t,r){if(r===MN.JOINER){let e=!1;for(const r of this.relayClients.get(t.mainRelayRoomSymbol||t.clientSymbol).values()){if(r.userInfo.role===MN.JOINER){e=!0;break}}if(e){throw this.logger.error(Jj,"only one joiner can include in relayRooms."),new oc(nc.RTC_ERR_CODE_CLIENT_RELAY_JOINER_OVER_MAXNUM)}}}},{key:"switchRoleParamsCheck",value:function e(t,r,n){if(r!==MN.JOINER&&r!==MN.PLAYER||null==n||!n.signature||null==n||!n.ctime){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}this.roleValidCheck4RelayRoom(t,r)}}])}());var Xj=Ai,Qj="ArrayBuffer",eU=i_[Qj];ci({global:!0,constructor:!0,forced:g[Qj]!==eU},{ArrayBuffer:eU}),Xj(Qj);var tU={exports:{}};!function(e){e.exports=function(){var e=Math.imul,t=Math.clz32;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r,n=0;n<t.length;n++){(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if("function"!=typeof t&&null!==t){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct){return!1}if(Reflect.construct.sham){return!1}if("function"==typeof Proxy){return!0}try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(){return l=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&u(i,r.prototype),i},l.apply(null,arguments)}function f(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){function r(){return l(e,arguments,s(this).constructor)}if(null===e||!f(e)){return e}if("function"!=typeof e){throw new TypeError("Super expression must either be null or a function")}if(void 0!==t){if(t.has(e)){return t.get(e)}t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},d(e)}function h(e){if(void 0===e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t)){return t}if(void 0!==t){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function v(e){var t=c();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else{r=n.apply(this,arguments)}return p(this,r)}}function g(e,t){return m(e)||y(e,t)||_(e,t)||E()}function m(e){if(Array.isArray(e)){return e}}function y(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0){}}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s){throw i}}}return o}}function _(e,t){if(e){if("string"==typeof e){return b(e,t)}var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++){n[r]=e[r]}return n}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s){throw o}}}}}var w=function(e){var t=Math.abs,i=Math.max,s=Math.floor;function u(e,t){var r;if(n(this,u),(r=c.call(this,e)).sign=t,Object.setPrototypeOf(h(r),u.prototype),e>u.__kMaxLength){throw new RangeError("Maximum BigInt size exceeded")}return r}a(u,e);var c=v(u);return o(u,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=S(this);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push((n?(n>>>0).toString(16):n)+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e){throw new RangeError("toString() radix argument must be between 2 and 36")}return 0===this.length?"0":e&e-1?u.__toStringGeneric(this,e,!1):u.__toStringBasePowerOfTwo(this,e)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new u(this.length,this.sign),t=0;t<this.length;t++){e[t]=this[t]}return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;){t=this[--e-1],this.pop()}return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++){this[e]=0}}},{key:"__clzmsd",value:function(){return u.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=32767&e,i=e>>>15,o=0,a=t,s=0;s<r;s++){var c=this.__digit(s),l=32767&c,f=c>>>15,d=u.__imul(l,n),h=u.__imul(l,i),p=u.__imul(f,n),v=a+d+o;o=v>>>30,v&=1073741823,o+=(v+=((32767&h)<<15)+((32767&p)<<15))>>>30,a=u.__imul(f,i)+(h>>>15)+(p>>>15),this.__setDigit(s,1073741823&v)}if(0!==o||0!==a){throw new Error("implementation bug")}}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,i=0,o=0;o<r;o++){i=(n=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>15,this.__setHalfDigit(t+o,32767&n)}return i}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=32767&i,a=0;a<r-1>>>1;a++){var s=e.__digit(a),u=(i>>>15)-(32767&s)-n;n=1&u>>>15,this.__setDigit(t+a,(32767&u)<<15|32767&o),n=1&(o=(32767&(i=this.__digit(t+a+1)))-(s>>>15)-n)>>>15}var c=e.__digit(a),l=(i>>>15)-(32767&c)-n;if(n=1&l>>>15,this.__setDigit(t+a,(32767&l)<<15|32767&o),t+a+1>=this.length){throw new RangeError("out of bounds")}!(1&r)&&(n=1&(o=(32767&(i=this.__digit(t+a+1)))-(c>>>15)-n)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&o))}else{t>>=1;for(var f=0;f<e.length-1;f++){var d=this.__digit(t+f),h=e.__digit(f),p=(32767&d)-(32767&h)-n,v=(d>>>15)-(h>>>15)-(n=1&p>>>15);n=1&v>>>15,this.__setDigit(t+f,(32767&v)<<15|32767&p)}var g=this.__digit(t+f),m=e.__digit(f),y=(32767&g)-(32767&m)-n;n=1&y>>>15;var _=0;!(1&r)&&(n=1&(_=(g>>>15)-(m>>>15)-n)>>>15),this.__setDigit(t+f,(32767&_)<<15|32767&y)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,i=0;i<n;i++){t=this.__digit(i+1),this.__setDigit(i,1073741823&t<<30-e|r),r=t>>>e}this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),i=1&e?32767&n|t<<15:1073709056&n|32767&t;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e){return u.__zero()}if(u.__isOneDigitInt(e)){return 0>e?u.__oneDigit(-e,!0):u.__oneDigit(e,!1)}if(!t(e)||s(e)!==e){throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer")}return u.__fromDouble(e)}if("string"==typeof e){var n=u.__fromString(e);if(null===n){throw new SyntaxError("Cannot convert "+e+" to a BigInt")}return n}if("boolean"==typeof e){return!0===e?u.__oneDigit(1,!1):u.__zero()}if("object"===r(e)){if(e.constructor===u){return e}var i=u.__toPrimitive(e);return u.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t){return 0}if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),i=u.__clz30(n),o=30*t-i;if(1024<o){return e.sign?-1/0:1/0}var a=o-1,s=n,c=t-1,l=i+3,f=32===l?0:s<<l;f>>>=12;var d=l-12,h=12<=l?0:s<<20+l,p=20+l;for(0<d&&0<c&&(c--,f|=(s=e.__digit(c))>>>30-d,h=s<<d+2,p=d+2);0<p&&0<c;){c--,s=e.__digit(c),h|=30<=p?s<<p-30:s>>>30-p,p-=30}var v=u.__decideRounding(e,p,c,s);if((1===v||0===v&&!(1&~h))&&0==(h=h+1>>>0)&&0!=++f>>>20&&(f=0,1023<++a)){return e.sign?-1/0:1/0}var g=e.sign?-2147483648:0;return a=a+1023<<20,u.__kBitConversionInts[1]=g|a|f,u.__kBitConversionInts[0]=h,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length){return e}var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?u.__absoluteSubOne(e).__trim():u.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign){throw new RangeError("Exponent must be positive")}if(0===t.length){return u.__oneDigit(1,!1)}if(0===e.length){return e}if(1===e.length&&1===e.__digit(0)){return!e.sign||1&t.__digit(0)?e:u.unaryMinus(e)}if(1<t.length){throw new RangeError("BigInt too big")}var r=t.__unsignedDigit(0);if(1===r){return e}if(r>=u.__kMaxLengthBits){throw new RangeError("BigInt too big")}if(1===e.length&&2===e.__digit(0)){var n=1+(0|r/30),i=new u(n,e.sign&&!!(1&r));i.__initializeDigits();var o=1<<r%30;return i.__setDigit(n-1,o),i}var a=null,s=e;for(!!(1&r)&&(a=e),r>>=1;0!==r;r>>=1){s=u.multiply(s,s),1&r&&(a=null===a?s:u.multiply(a,s))}return a}},{key:"multiply",value:function(e,t){if(0===e.length){return e}if(0===t.length){return t}var r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new u(r,e.sign!==t.sign);n.__initializeDigits();for(var i=0;i<e.length;i++){u.__multiplyAccumulate(t,e.__digit(i),n,i)}return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length){throw new RangeError("Division by zero")}if(0>u.__absoluteCompare(e,t)){return u.__zero()}var r,n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i){return n===e.sign?e:u.unaryMinus(e)}r=u.__absoluteDivSmall(e,i,null)}else{r=u.__absoluteDivLarge(e,t,!0,!1)}return r.sign=n,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length){throw new RangeError("Division by zero")}if(0>u.__absoluteCompare(e,t)){return e}var r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r){return u.__zero()}var n=u.__absoluteModSmall(e,r);return 0===n?u.__zero():u.__oneDigit(n,e.sign)}var i=u.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?u.__absoluteAdd(e,t,r):0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,r):u.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,r):u.__absoluteSub(t,e,!r):u.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__rightShiftByAbsolute(e,t):u.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__leftShiftByAbsolute(e,t):u.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>u.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=u.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<u.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=u.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign){return!1}if(e.length!==t.length){return!1}for(var r=0;r<e.length;r++){if(e.__digit(r)!==t.__digit(r)){return!1}}return!0}},{key:"notEqual",value:function(e,t){return!u.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign){return u.__absoluteAnd(e,t).__trim()}if(e.sign&&t.sign){var r=i(e.length,t.length)+1,n=u.__absoluteSubOne(e,r),o=u.__absoluteSubOne(t);return n=u.__absoluteOr(n,o,n),u.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}return u.__absoluteAndNot(e,u.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign){return u.__absoluteXor(e,t).__trim()}if(e.sign&&t.sign){var r=i(e.length,t.length),n=u.__absoluteSubOne(e,r),o=u.__absoluteSubOne(t);return u.__absoluteXor(n,o,n).__trim()}var a=i(e.length,t.length)+1;if(e.sign){var s=[t,e];e=s[0],t=s[1]}var c=u.__absoluteSubOne(t,a);return c=u.__absoluteXor(c,e,c),u.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=i(e.length,t.length);if(!e.sign&&!t.sign){return u.__absoluteOr(e,t).__trim()}if(e.sign&&t.sign){var n=u.__absoluteSubOne(e,r),o=u.__absoluteSubOne(t);return n=u.__absoluteAnd(n,o,n),u.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}var s=u.__absoluteSubOne(t,r);return s=u.__absoluteAndNot(s,e,s),u.__absoluteAddOne(s,!0,s).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length){return t}if(0>(e=s(e))){throw new RangeError("Invalid value: not (convertible to) a safe integer")}if(0===e){return u.__zero()}if(e>=u.__kMaxLengthBits){return t}var r=0|(e+29)/30;if(t.length<r){return t}var n=t.__unsignedDigit(r-1),i=1<<(e-1)%30;if(t.length===r&&n<i){return t}if((n&i)!==i){return u.__truncateToNBits(e,t)}if(!t.sign){return u.__truncateAndSubFromPowerOfTwo(e,t,!0)}if(!(n&i-1)){for(var o=r-2;0<=o;o--){if(0!==t.__digit(o)){return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}}return t.length===r&&n===i?t:u.__truncateToNBits(e,t)}return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length){return t}if(0>(e=s(e))){throw new RangeError("Invalid value: not (convertible to) a safe integer")}if(0===e){return u.__zero()}if(t.sign){if(e>u.__kMaxLengthBits){throw new RangeError("BigInt too big")}return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=u.__kMaxLengthBits){return t}var r=0|(e+29)/30;if(t.length<r){return t}var n=e%30;if(t.length==r){if(0===n){return t}if(0==t.__digit(r-1)>>>n){return t}}return u.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e){return"string"!=typeof t&&(t=t.toString()),e+t}if("string"==typeof t){return e.toString()+t}if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)&&u.__isBigInt(t)){return u.add(e,t)}if("number"==typeof e&&"number"==typeof t){return e+t}throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return u.__compare(e,t,0)}},{key:"LE",value:function(e,t){return u.__compare(e,t,1)}},{key:"GT",value:function(e,t){return u.__compare(e,t,2)}},{key:"GE",value:function(e,t){return u.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(u.__isBigInt(e)){return u.__isBigInt(t)?u.equal(e,t):u.EQ(t,e)}if("number"==typeof e){if(u.__isBigInt(t)){return u.__equalToNumber(t,e)}if("object"!==r(t)){return e==t}t=u.__toPrimitive(t)}else if("string"==typeof e){if(u.__isBigInt(t)){return null!==(e=u.__fromString(e))&&u.equal(e,t)}if("object"!==r(t)){return e==t}t=u.__toPrimitive(t)}else if("boolean"==typeof e){if(u.__isBigInt(t)){return u.__equalToNumber(t,+e)}if("object"!==r(t)){return e==t}t=u.__toPrimitive(t)}else if("symbol"===r(e)){if(u.__isBigInt(t)){return!1}if("object"!==r(t)){return e==t}t=u.__toPrimitive(t)}else{if("object"!==r(e)){return e==t}if("object"===r(t)&&t.constructor!==u){return e==t}e=u.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!u.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return u.asIntN(64,u.DataViewGetBigUint64(e,t,r))}},{key:"DataViewGetBigUint64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=g(r?[4,0]:[0,4],2),i=n[0],o=n[1],a=e.getUint32(t+i,r),s=e.getUint32(t+o,r),c=new u(3,!1);return c.__setDigit(0,1073741823&s),c.__setDigit(1,(268435455&a)<<2|s>>>30),c.__setDigit(2,a>>>28),c.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];u.DataViewSetBigUint64(e,t,r,n)}},{key:"DataViewSetBigUint64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=0,o=0;if(0<(r=u.asUintN(64,r)).length&&(o=r.__digit(0),1<r.length)){var a=r.__digit(1);o|=a<<30,i=a>>>2,2<r.length&&(i|=r.__digit(2)<<28)}var s=g(n?[4,0]:[0,4],2),c=s[0],l=s[1];e.setUint32(t+c,i,n),e.setUint32(t+l,o,n)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new u(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t){return-1}var i;if(0>t){i=-t-1}else{if(0===r){return-1}r--,n=e.__digit(r),i=29}var o=1<<i;if(!(n&o)){return-1}if(n&(o-=1)){return 1}for(;0<r;){if(r--,0!==e.__digit(r)){return 1}}return 0}},{key:"__fromDouble",value:function(e){u.__kBitConversionDouble[0]=e;var t,r=(2047&u.__kBitConversionInts[1]>>>20)-1023,n=1+(0|r/30),i=new u(n,0>e),o=1048575&u.__kBitConversionInts[1]|1048576,a=u.__kBitConversionInts[0],s=20,c=r%30,l=0;if(c<s){var f=s-c;l=f+32,t=o>>>f,o=o<<32-f|a>>>f,a<<=32-f}else if(c===s){l=32,t=o,o=a,a=0}else{var d=c-s;l=32-d,t=o<<d|a>>>32-d,o=a<<d,a=0}i.__setDigit(n-1,t);for(var h=n-2;0<=h;h--){0<l?(l-=30,t=o>>>2,o=o<<30|a>>>2,a<<=30):t=0,i.__setDigit(h,t)}return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,i=0;if(i===n){return u.__zero()}for(var o=e.charCodeAt(i);u.__isWhitespace(o);){if(++i===n){return u.__zero()}o=e.charCodeAt(i)}if(43===o){if(++i===n){return null}o=e.charCodeAt(i),r=1}else if(45===o){if(++i===n){return null}o=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===o){if(++i===n){return u.__zero()}if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===n){return null}o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===n){return null}o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===n){return null}o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===n){return u.__zero()}if(88===(o=e.charCodeAt(i))||120===o){if(++i===n){return null}o=e.charCodeAt(i)}}if(0!==r&&10!==t){return null}for(;48===o;){if(++i===n){return u.__zero()}o=e.charCodeAt(i)}var a=n-i,s=u.__kMaxBitsPerChar[t],c=u.__kBitsPerCharTableMultiplier-1;if(a>1073741824/s){return null}var l=new u(0|(29+(s*a+c>>>u.__kBitsPerCharTableShift))/30,!1),f=10>t?t:10,d=10<t?t-10:0;if(t&t-1){l.__initializeDigits();var h=!1,p=0;do{for(var v,g=0,m=1;;){if(v=void 0,o-48>>>0<f){v=o-48}else{if(!((32|o)-97>>>0<d)){h=!0;break}v=(32|o)-87}var y=m*t;if(1073741823<y){break}if(m=y,g=g*t+v,p++,++i===n){h=!0;break}o=e.charCodeAt(i)}var _=0|(s*p+(c=30*u.__kBitsPerCharTableMultiplier-1)>>>u.__kBitsPerCharTableShift)/30;l.__inplaceMultiplyAdd(m,g,_)}while(!h)}else{s>>=u.__kBitsPerCharTableShift;var b=[],E=[],S=!1;do{for(var w,T=0,C=0;;){if(w=void 0,o-48>>>0<f){w=o-48}else{if(!((32|o)-97>>>0<d)){S=!0;break}w=(32|o)-87}if(C+=s,T=T<<s|w,++i===n){S=!0;break}if(o=e.charCodeAt(i),30<C+s){break}}b.push(T),E.push(C)}while(!S);u.__fillFromParts(l,b,E)}if(i!==n){if(!u.__isWhitespace(o)){return null}for(i++;i<n;i++){if(o=e.charCodeAt(i),!u.__isWhitespace(o)){return null}}}return l.sign=-1===r,l.__trim()}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,i=0,o=0,a=t.length-1;0<=a;a--){var s=t[a],u=r[a];i|=s<<o,30===(o+=u)?(e.__setDigit(n++,i),o=0,i=0):30<o&&(e.__setDigit(n++,1073741823&i),i=s>>>u-(o-=30))}if(0!==i){if(n>=e.length){throw new Error("implementation bug")}e.__setDigit(n++,i)}for(;n<e.length;n++){e.__setDigit(n,0)}}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=t-1,a=e.__digit(r-1),s=0|(30*r-u.__clz30(a)+i-1)/i;if(e.sign&&s++,268435456<s){throw new Error("string too long")}for(var c=Array(s),l=s-1,f=0,d=0,h=0;h<r-1;h++){var p=e.__digit(h),v=(f|p<<d)&o;c[l--]=u.__kConversionChars[v];var g=i-d;for(f=p>>>g,d=30-g;d>=i;){c[l--]=u.__kConversionChars[f&o],f>>>=i,d-=i}}var m=(f|a<<d)&o;for(c[l--]=u.__kConversionChars[m],f=a>>>i-d;0!==f;){c[l--]=u.__kConversionChars[f&o],f>>>=i}if(e.sign&&(c[l--]="-"),-1!==l){throw new Error("implementation bug")}return c.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n){return""}if(1===n){var i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}var o,a,s=30*n-u.__clz30(e.__digit(n-1)),c=u.__kMaxBitsPerChar[t]-1,l=s*u.__kBitsPerCharTableMultiplier,f=1+(l=0|(l+=c-1)/c)>>1,d=u.exponentiate(u.__oneDigit(t,!1),u.__oneDigit(f,!1)),h=d.__unsignedDigit(0);if(1===d.length&&32767>=h){(o=new u(e.length,!1)).__initializeDigits();for(var p,v=0,g=2*e.length-1;0<=g;g--){p=v<<15|e.__halfDigit(g),o.__setHalfDigit(g,0|p/h),v=0|p%h}a=v.toString(t)}else{var m=u.__absoluteDivLarge(e,d,!0,!0);o=m.quotient;var y=m.remainder.__trim();a=u.__toStringGeneric(y,t,!0)}o.__trim();for(var _=u.__toStringGeneric(o,t,!0);a.length<f;){a="0"+a}return!1===r&&e.sign&&(_="-"+_),_+a}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign){return u.__unequalSign(r)}var n=u.__absoluteCompare(e,t);return 0<n?u.__absoluteGreater(r):0>n?u.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,r){if(u.__isOneDigitInt(r)){var n=e.sign,i=0>r;if(n!==i){return u.__unequalSign(n)}if(0===e.length){if(i){throw new Error("implementation bug")}return 0===r?0:-1}if(1<e.length){return u.__absoluteGreater(n)}var o=t(r),a=e.__unsignedDigit(0);return a>o?u.__absoluteGreater(n):a<o?u.__absoluteLess(n):0}return u.__compareToDouble(e,r)}},{key:"__compareToDouble",value:function(e,t){if(t!=t){return t}if(t===1/0){return-1}if(t===-1/0){return 1}var r=e.sign;if(r!==0>t){return u.__unequalSign(r)}if(0===t){throw new Error("implementation bug: should be handled elsewhere")}if(0===e.length){return-1}u.__kBitConversionDouble[0]=t;var n=2047&u.__kBitConversionInts[1]>>>20;if(2047==n){throw new Error("implementation bug: handled elsewhere")}var i=n-1023;if(0>i){return u.__absoluteGreater(r)}var o=e.length,a=e.__digit(o-1),s=u.__clz30(a),c=30*o-s,l=i+1;if(c<l){return u.__absoluteLess(r)}if(c>l){return u.__absoluteGreater(r)}var f=1048576|1048575&u.__kBitConversionInts[1],d=u.__kBitConversionInts[0],h=20,p=29-s;if(p!==(0|(c-1)%30)){throw new Error("implementation bug")}var v,g=0;if(p<h){var m=h-p;g=m+32,v=f>>>m,f=f<<32-m|d>>>m,d<<=32-m}else if(p===h){g=32,v=f,f=d,d=0}else{var y=p-h;g=32-y,v=f<<y|d>>>32-y,f=d<<y,d=0}if((a>>>=0)>(v>>>=0)){return u.__absoluteGreater(r)}if(a<v){return u.__absoluteLess(r)}for(var _=o-2;0<=_;_--){0<g?(g-=30,v=f>>>2,f=f<<30|d>>>2,d<<=30):v=0;var b=e.__unsignedDigit(_);if(b>v){return u.__absoluteGreater(r)}if(b<v){return u.__absoluteLess(r)}}if(0!==f||0!==d){if(0===g){throw new Error("implementation bug")}return u.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,r){return u.__isOneDigitInt(r)?0===r?0===e.length:1===e.length&&e.sign===0>r&&e.__unsignedDigit(0)===t(r):0===u.__compareToDouble(e,r)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,r){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e&&"string"==typeof t){switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}}if(u.__isBigInt(e)&&"string"==typeof t){return null!==(t=u.__fromString(t))&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),r)}if("string"==typeof e&&u.__isBigInt(t)){return null!==(e=u.__fromString(e))&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),r)}if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)){if(u.__isBigInt(t)){return u.__comparisonResultToBool(u.__compareToBigInt(e,t),r)}if("number"!=typeof t){throw new Error("implementation bug")}return u.__comparisonResultToBool(u.__compareToNumber(e,t),r)}if("number"!=typeof e){throw new Error("implementation bug")}if(u.__isBigInt(t)){return u.__comparisonResultToBool(u.__compareToNumber(t,e),2^r)}if("number"!=typeof t){throw new Error("implementation bug")}return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length){return u.__absoluteAdd(t,e,r)}if(0===e.length){return e}if(0===t.length){return e.sign===r?e:u.unaryMinus(e)}var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var i,o=new u(n,r),a=0,s=0;s<t.length;s++){a=(i=e.__digit(s)+t.__digit(s)+a)>>>30,o.__setDigit(s,1073741823&i)}for(;s<e.length;s++){var c=e.__digit(s)+a;a=c>>>30,o.__setDigit(s,1073741823&c)}return s<o.length&&o.__setDigit(s,a),o.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length){return e}if(0===t.length){return e.sign===r?e:u.unaryMinus(e)}for(var n,i=new u(e.length,r),o=0,a=0;a<t.length;a++){o=1&(n=e.__digit(a)-t.__digit(a)-o)>>>30,i.__setDigit(a,1073741823&n)}for(;a<e.length;a++){var s=e.__digit(a)-o;o=1&s>>>30,i.__setDigit(a,1073741823&s)}return i.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new u(n,t):r.sign=t;for(var i,o=1,a=0;a<n;a++){o=(i=e.__digit(a)+o)>>>30,r.__setDigit(a,1073741823&i)}return 0!==o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r,n=e.length,i=new u(t=t||n,!1),o=1,a=0;a<n;a++){o=1&(r=e.__digit(a)-o)>>>30,i.__setDigit(a,1073741823&r)}if(0!==o){throw new Error("implementation bug")}for(var s=n;s<t;s++){i.__setDigit(s,0)}return i}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var c=o;null===r?r=new u(c,!1):c=r.length;for(var l=0;l<o;l++){r.__setDigit(l,e.__digit(l)&t.__digit(l))}for(;l<c;l++){r.__setDigit(l,0)}return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;n<i&&(o=n);var a=n;null===r?r=new u(a,!1):a=r.length;for(var s=0;s<o;s++){r.__setDigit(s,e.__digit(s)&~t.__digit(s))}for(;s<n;s++){r.__setDigit(s,e.__digit(s))}for(;s<a;s++){r.__setDigit(s,0)}return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var c=n;null===r?r=new u(c,!1):c=r.length;for(var l=0;l<o;l++){r.__setDigit(l,e.__digit(l)|t.__digit(l))}for(;l<n;l++){r.__setDigit(l,e.__digit(l))}for(;l<c;l++){r.__setDigit(l,0)}return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var c=n;null===r?r=new u(c,!1):c=r.length;for(var l=0;l<o;l++){r.__setDigit(l,e.__digit(l)^t.__digit(l))}for(;l<n;l++){r.__setDigit(l,e.__digit(l))}for(;l<c;l++){r.__setDigit(l,0)}return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r){return r}for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);){n--}return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var i=32767&t,o=t>>>15,a=0,s=0,c=0;c<e.length;c++,n++){var l=r.__digit(n),f=e.__digit(c),d=32767&f,h=f>>>15,p=u.__imul(d,i),v=u.__imul(d,o),g=u.__imul(h,i);a=(l+=s+p+a)>>>30,l&=1073741823,a+=(l+=((32767&v)<<15)+((32767&g)<<15))>>>30,s=u.__imul(h,o)+(v>>>15)+(g>>>15),r.__setDigit(n,1073741823&l)}for(;0!==a||0!==s;n++){var m=r.__digit(n);m+=a+s,s=0,a=m>>>30,r.__setDigit(n,1073741823&m)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,i){for(var o=r,a=0,s=0;s<n;s++){var c=e.__digit(s),l=u.__imul(32767&c,t),f=u.__imul(c>>>15,t),d=l+((32767&f)<<15)+a+o;o=d>>>30,a=f>>>15,i.__setDigit(s,1073741823&d)}if(i.length>n){for(i.__setDigit(n++,o+a);n<i.length;){i.__setDigit(n++,0)}}else if(0!==o+a){throw new Error("implementation bug")}}},{key:"__absoluteDivSmall",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new u(e.length,!1));for(var n=0,i=2*e.length-1;0<=i;i-=2){var o=(n<<15|e.__halfDigit(i))>>>0,a=0|o/t,s=0|(o=((n=0|o%t)<<15|e.__halfDigit(i-1))>>>0)/t;n=0|o%t,r.__setDigit(i>>>1,a<<15|s)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,n=2*e.length-1;0<=n;n--){r=0|((r<<15|e.__halfDigit(n))>>>0)%t}return r}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var i=t.__halfDigitLength(),o=t.length,a=e.__halfDigitLength()-i,s=null;r&&(s=new u(a+2>>>1,!1)).__initializeDigits();var c=new u(i+2>>>1,!1);c.__initializeDigits();var l=u.__clz15(t.__halfDigit(i-1));0<l&&(t=u.__specialLeftShift(t,l,0));for(var f=u.__specialLeftShift(e,l,1),d=t.__halfDigit(i-1),h=0,p=a;0<=p;p--){var v=32767,g=f.__halfDigit(p+i);if(g!==d){var m=(g<<15|f.__halfDigit(p+i-1))>>>0;v=0|m/d;for(var y=0|m%d,_=t.__halfDigit(i-2),b=f.__halfDigit(p+i-2);u.__imul(v,_)>>>0>(y<<16|b)>>>0&&(v--,!(32767<(y+=d)));){}}u.__internalMultiplyAdd(t,v,0,o,c);var E=f.__inplaceSub(c,p,i+1);0!==E&&(E=f.__inplaceAdd(t,p,i),f.__setHalfDigit(p+i,32767&f.__halfDigit(p+i)+E),v--),r&&(1&p?h=v<<15:s.__setDigit(p>>>1,h|v))}if(n){return f.__inplaceRightShift(l),r?{quotient:s,remainder:f}:f}if(r){return s}throw new Error("unreachable")}},{key:"__clz15",value:function(e){return u.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,i=new u(n+r,!1);if(0===t){for(var o=0;o<n;o++){i.__setDigit(o,e.__digit(o))}return 0<r&&i.__setDigit(n,0),i}for(var a,s=0,c=0;c<n;c++){a=e.__digit(c),i.__setDigit(c,1073741823&a<<t|s),s=a>>>30-t}return 0<r&&i.__setDigit(n,s),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=u.__toShiftAmount(t);if(0>r){throw new RangeError("BigInt too big")}var n=0|r/30,i=r%30,o=e.length,a=0!==i&&0!=e.__digit(o-1)>>>30-i,s=o+n+(a?1:0),c=new u(s,e.sign);if(0===i){for(var l=0;l<n;l++){c.__setDigit(l,0)}for(;l<s;l++){c.__setDigit(l,e.__digit(l-n))}}else{for(var f=0,d=0;d<n;d++){c.__setDigit(d,0)}for(var h,p=0;p<o;p++){h=e.__digit(p),c.__setDigit(p+n,1073741823&h<<i|f),f=h>>>30-i}if(a){c.__setDigit(o+n,f)}else if(0!==f){throw new Error("implementation bug")}}return c.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,i=u.__toShiftAmount(t);if(0>i){return u.__rightShiftByMaximum(n)}var o=0|i/30,a=i%30,s=r-o;if(0>=s){return u.__rightShiftByMaximum(n)}var c=!1;if(n){if(e.__digit(o)&(1<<a)-1){c=!0}else{for(var l=0;l<o;l++){if(0!==e.__digit(l)){c=!0;break}}}}c&&0===a&&0==~e.__digit(r-1)&&s++;var f=new u(s,n);if(0===a){f.__setDigit(s-1,0);for(var d=o;d<r;d++){f.__setDigit(d-o,e.__digit(d))}}else{for(var h,p=e.__digit(o)>>>a,v=r-o-1,g=0;g<v;g++){h=e.__digit(g+o+1),f.__setDigit(g,1073741823&h<<30-a|p),p=h>>>a}f.__setDigit(v,p)}return c&&(f=u.__absoluteAddOne(f,!0,f)),f.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length){return-1}var t=e.__unsignedDigit(0);return t>u.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==r(e)){return e}if(e.constructor===u){return e}if("undefined"!=typeof Symbol&&"symbol"===r(Symbol.toPrimitive)){var n=e[Symbol.toPrimitive];if(n){var i=n(t);if("object"!==r(i)){return i}throw new TypeError("Cannot convert object to primitive value")}}var o=e.valueOf;if(o){var a=o.call(e);if("object"!==r(a)){return a}}var s=e.toString;if(s){var c=s.call(e);if("object"!==r(c)){return c}}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return u.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===r(e)&&null!==e&&e.constructor===u}},{key:"__truncateToNBits",value:function(e,t){for(var r=0|(e+29)/30,n=new u(r,t.sign),i=r-1,o=0;o<i;o++){n.__setDigit(o,t.__digit(o))}var a=t.__digit(i);if(0!=e%30){var s=32-e%30;a=a<<s>>>s}return n.__setDigit(i,a),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n,i=Math.min,o=0|(e+29)/30,a=new u(o,r),s=0,c=o-1,l=0,f=i(c,t.length);s<f;s++){l=1&(n=0-t.__digit(s)-l)>>>30,a.__setDigit(s,1073741823&n)}for(;s<c;s++){a.__setDigit(s,1073741823&-l)}var d,h=c<t.length?t.__digit(c):0,p=e%30;if(0===p){d=0-h-l,d&=1073741823}else{var v=32-p,g=1<<32-v;d=g-(h=h<<v>>>v)-l,d&=g-1}return a.__setDigit(c,d),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;){1&t&&(r*=e),t>>>=1,e*=e}return r}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),u}(d(Array));return w.__kMaxLength=33554432,w.__kMaxLengthBits=w.__kMaxLength<<5,w.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],w.__kBitsPerCharTableShift=5,w.__kBitsPerCharTableMultiplier=1<<w.__kBitsPerCharTableShift,w.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],w.__kBitConversionBuffer=new ArrayBuffer(8),w.__kBitConversionDouble=new Float64Array(w.__kBitConversionBuffer),w.__kBitConversionInts=new Int32Array(w.__kBitConversionBuffer),w.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},w.__imul=e||function(e,t){return 0|e*t},w}()}(tU);var rU=tU.exports;let nU=function(){function e(t,r){a(this,e);o(this,"RTP_HEADER_V_P_X_CC",144),o(this,"RTP_HEADER_V_P_X_CC_BRODACAST",128),this.event=t,this.remoteUserManager=r,this.cmdMsgPacketSeqNum=0}return u(e,[{key:"receivedCmdRtpPacketDecode",value:function e(t){var r,n;const i=new DataView(t),o=i.getUint32(8);if(o!==this.cmdReceiveSsrc){return void AC.getLogger().error("CommandMsgManager","receive msg ssrc not matched, ".concat(this.cmdReceiveSsrc," - ").concat(o))}let a=0;if(!(16&i.getUint8(0))){a=12}else{a=16+4*i.getUint16(14)}const s=rU.toNumber(rU.DataViewGetBigUint64(i,a)),u=i.buffer.slice(a+16);let c=null;c=this.msgFormat===cM.STRING?iU.ArrayBufferToMsg(u):u,this.event.emit(oM.CmdMsgReceived,{msg:c,srcUserId:null===(r=this.remoteUserManager.getUserInfoByUid(s,this.roomId))||void 0===r||null===(n=r.userInfo)||void 0===n?void 0:n.userId})}},{key:"genCmdRtpPacketMsg",value:function e(t){const r=!t.userUid,n=new DataView(new ArrayBuffer(r?28:44));r?n.setUint8(0,this.RTP_HEADER_V_P_X_CC_BRODACAST):n.setUint8(0,this.RTP_HEADER_V_P_X_CC),n.setUint8(1,this.RTP_HEADER_M_PT),n.setUint16(2,this.cmdMsgPacketSeqNum++),n.setUint32(4,Math.floor((new Date).getTime()/1e3)),n.setUint32(8,this.cmdSendSsrc);const{userUid:i=0,msg:o}=t;let a=0;return r?a=12:(n.setUint16(12,4096),n.setUint16(14,3),n.setUint8(16,21),n.setUint8(17,8),rU.DataViewSetBigUint64(n,18,rU.BigInt(i)),n.setUint16(26,0),a=28),rU.DataViewSetBigUint64(n,a,rU.BigInt(this.selfUserUid)),rU.DataViewSetBigUint64(n,a+8,rU.BigInt(0)),iU.concatArrayBuffer(n.buffer,iU.msgBodyToArrayBuffer(o))}},{key:"sendCommandMsg",value:function e(t,r,n){let i=0;var o,a;r&&(i=null===(o=this.remoteUserManager.getUserInfoById(r,n))||void 0===o||null===(a=o.userInfo)||void 0===a?void 0:a.userUid);return this.transportChannel.sendMessage(this.genCmdRtpPacketMsg({msg:t,userUid:i}))}},{key:"setCommandChannelParams",value:function e(t,r){this.reset(),this.RTP_HEADER_M_PT=r.tranportOptions.payload,this.roomId=t,this.msgFormat=r.msgFormat,this.cmdSendSsrc=r.tranportOptions.sendSsrc,this.cmdReceiveSsrc=r.tranportOptions.receiveSsrc,this.selfUserUid=r.tranportOptions.userUid,this.extraParamsHandle(r),this.initCmdTranportChannel()}}])}();let iU=function(){function e(){a(this,e)}return u(e,null,[{key:"msgBodyToArrayBuffer",value:function e(t){if("string"==typeof t){return(new TextEncoder).encode(t).buffer}return t}},{key:"ArrayBufferToMsg",value:function e(t){return new TextDecoder("utf-8").decode(t)}},{key:"concatArrayBuffer",value:function e(){let t=0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}for(const e of n){t+=e.byteLength}const o=new Uint8Array(t);let a=0;for(const e of n){const t=new Uint8Array(e);o.set(t,a),a+=e.byteLength}return o.buffer}},{key:"arrayBufferToNumberArray",value:function e(t){const r=[];for(let e=0;e<t.byteLength;e+=4){r.push(t.getUint32(e))}return r}},{key:"numberArrayToArrayBuffer",value:function e(t){const r=new DataView(new ArrayBuffer(4*t.length));for(let e=0;e<t.length;e++){r.setUint32(4*e,t[e])}return r.buffer}}])}();const oU="WebsocketMsgManager";let aU=function(){function e(){a(this,e);this.event_=new cD,this.connectionCallbacks=new Map}return u(e,[{key:"on",value:function e(t,r){this.event_.on(t,r)}},{key:"off",value:function e(t,r){r?this.event_.removeListener(t,r):this.event_.removeAllListeners(t)}},{key:"wsConnect",value:async function e(t,r,n,i,o){return await FD.callWithRetryTimes((async e=>await this.wsConnectOnce(t,n,i,e)),!1,r,this.getAsyncInterval(o),this.needInterrupted())}},{key:"getAsyncInterval",value:function e(t){return e=>"function"==typeof(null==e?void 0:e.getCode)&&e.getCode()===nc.RTC_ERR_CODE_WAIT_RSP_TIMEOUT?0:t}},{key:"needInterrupted",value:function e(){return e=>"function"==typeof(null==e?void 0:e.getCode)&&e.getCode()===nc.RTC_ERR_CODE_WEBSOCKET_INTERRUPTED}},{key:"wsConnectOnce",value:async function e(t,r,n,i){this.close(),this.connectionId=yC.generateRandomId(32),this.websocket=new WebSocket(t),this.websocket.binaryType="arraybuffer",AC.getLogger().info(oU,"wsConnectOnce, url:".concat(yC.shieldUrlParameters(t),", begin create websocket ").concat(this.connectionId," connection with server ")),this.websocket.onopen=this.onopen.bind(this),this.websocket.onerror=this.onerror.bind(this),this.websocket.onmessage=this.onmessage.bind(this),this.websocket.onclose=this.onclose.bind(this);try{const e=1===i?r:n;await this.getConnectionResp(e,this.connectionId)}catch(e){throw AC.getLogger().error(oU,"wsConnectOnce, connect occur exception, error: ".concat(e)),e}finally{this.connectionCallbacks.delete(this.connectionId)}}},{key:"getConnectionResp",value:async function e(t,r){await FD.callWithTimeout(new Promise(((e,t)=>{this.connectionCallbacks.set(r,(n=>{if(n.isSuccess){AC.getLogger().info(oU,"getConnectionResp, connectId:".concat(r,", connect success")),e()}else{const e=nc.RTC_ERR_CODE_WEBSOCKET_CONNECT_ERROR,i=n.code,o="".concat(i||""," websocket connect error"),a=new oc(e,o);AC.getLogger().info(oU,"getConnectionResp, connectId:".concat(r,", connect fail, errMsg=").concat(a)),t(a)}}))})),t).catch((e=>{if(e.getCode()!==nc.RTC_ERR_CODE_WAIT_RSP_TIMEOUT){throw e}throw AC.getLogger().error(oU,"getConnectionResp, websocket connect timeout after ".concat(t," ms")),this.websocket&&this.websocket.readyState===this.websocket.CONNECTING&&(AC.getLogger().info(oU,"getConnectionResp, websocket connect timeout, close webSocket manual"),this.close()),new oc(nc.RTC_ERR_CODE_WEBSOCKET_CONNECT_TIMEOUT)})).finally((()=>{this.connectionCallbacks.delete(r)}))}},{key:"onopen",value:function e(){AC.getLogger().info(oU,"onopen, wss connection success."),this.connectionCallbacks.has(this.connectionId)&&this.connectionCallbacks.get(this.connectionId)({isSuccess:!0}),this.event_.emit("CMD_CHANNEL_ESTABLISHED")}},{key:"onmessage",value:function e(t){t.data?this.event_.emit("CMD_MSG_REVEIVED",t.data):AC.getLogger().error(oU,"onerror, websocket message is null.")}},{key:"onerror",value:function e(t){AC.getLogger().error(oU,"onerror, websocket occur error:".concat(JSON.stringify(t))),this.connectionCallbacks.has(this.connectionId)&&this.connectionCallbacks.get(this.connectionId)({isSuccess:!1})}},{key:"onclose",value:async function e(t){const r=t.code,n=t.reason;AC.getLogger().warn(oU,"onclose, code:".concat(r,", reason:").concat(n)),this.connectionCallbacks.has(this.connectionId)&&this.connectionCallbacks.get(this.connectionId)({isSuccess:!1,code:r,reason:n}),AC.getLogger().error(oU,"reconnect"),this.event_.emit("CMD_CONNECTION_RECONNECT")}},{key:"sendMessage",value:function e(t){if(!this.websocket){return AC.getLogger().error(oU,"send cmd message failed for websocket is null."),!1}try{return this.websocket.send(t),!0}catch(e){return AC.getLogger().error(oU,"send cmd message failed."),!1}}},{key:"close",value:function e(){this.websocket&&(this.websocket.onopen=null,this.websocket.onerror=null,this.websocket.onmessage=null,this.websocket.onclose=null,this.websocket.close(),this.websocket=null,this.connectionCallbacks.clear())}}])}();let sU=function(e){function t(e,r){var n;a(this,t);n=f(this,t,[e,r]),n.reconnctInterval=[2,5,10,20],n.reconnctIdx=0;return n}p(t,e);return u(t,[{key:"initCmdTranportChannel",value:function e(){this.transportChannel||(this.transportChannel=new aU),this.transportChannel.on("CMD_MSG_REVEIVED",(e=>{this.receivedCmdRtpPacketDecode(e)})),this.transportChannel.on("CMD_CHANNEL_ESTABLISHED",(()=>{AC.getLogger().info(oU,"cmd websocket connection established."),this.event.emit(oM.CmdChannelEstablished,uM.WEBSOCKET),this.reconnctIdx=0,this.transportChannel.sendMessage(this.genCmdBindRtpPacketMsg())})),this.transportChannel.on("CMD_CONNECTION_RECONNECT",(async()=>{if(this.reconnctIdx===this.reconnctInterval.length){AC.getLogger().info(oU,"cmd websocket connection disconnect."),this.event.emit(oM.CmdChannelDisconnect,uM.WEBSOCKET)}else{try{this.event.emit(oM.CmdChannelReconnecting);const e=this.reconnctInterval[Math.min(this.reconnctIdx,this.reconnctInterval.length-1)];if(AC.getLogger().error(oU,"cmd websocket reconnect wait for ".concat(e,"s.")),await yC.sleep(1e3*e),!this.transportChannel){return}this.reconnctIdx++,AC.getLogger().error(oU,"cmd websocket reconnect begin."),await this.transportChannel.wsConnect(this.cmdSocketUrl,1,1e4,1e4,500)}catch(e){AC.getLogger().error(oU,"cmd websocket reconnect failed: ".concat(e))}}}));try{this.transportChannel.wsConnect(this.cmdSocketUrl,1,1e4,1e4,500)}catch(e){AC.getLogger().error(oU,"cmd websocket connect failed: ".concat(e))}}},{key:"extraParamsHandle",value:function e(t){this.bindCryptoKey=t.wsOptions.bindCryptoKey,this.cmdSocketUrl=t.wsOptions.wsDomain?t.wsOptions.wsUrl.replace(/(ws(s)?:\/\/)[^\/|:]+(.*)/,"$1".concat(t.wsOptions.wsDomain,"$3")):t.wsOptions.wsUrl}},{key:"reset",value:function e(){this.roomId=null,this.cmdSendSsrc=0,this.cmdReceiveSsrc=0,this.selfUserUid=0,this.bindCryptoKey=null,this.cmdMsgPacketSeqNum=0,this.reconnctIdx=0,this.transportChannel&&(this.transportChannel.off("CMD_MSG_REVEIVED"),this.transportChannel.off("CMD_CHANNEL_ESTABLISHED"),this.transportChannel.off("CMD_CONNECTION_RECONNECT"),this.transportChannel.close(),this.transportChannel=null)}},{key:"genCmdBindRtpPacketMsg",value:function e(){const t=new DataView(new ArrayBuffer(20));t.setUint8(0,this.RTP_HEADER_V_P_X_CC),t.setUint8(1,this.RTP_HEADER_M_PT),t.setUint16(2,this.cmdMsgPacketSeqNum++),t.setUint32(4,Math.floor((new Date).getTime()/1e3)),t.setUint32(8,this.cmdSendSsrc),t.setUint16(12,4096),t.setUint16(14,1),t.setUint8(16,24),t.setUint8(17,1),t.setUint8(18,0),t.setUint8(19,0);const r=iU.numberArrayToArrayBuffer(TS.exports.HmacSHA256(TS.exports.lib.WordArray.create(iU.arrayBufferToNumberArray(t)),this.bindCryptoKey).words);return iU.concatArrayBuffer(t.buffer,r)}}])}(nU);const uU="DataChannelMsgManager";let cU=function(){function e(t){a(this,e);this.event_=new cD,this.dataChannel=t.createDataChannel("commandMsgDataChannel",{ordered:!0}),this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=this.onopen.bind(this),this.dataChannel.onerror=this.onerror.bind(this),this.dataChannel.onmessage=this.onmessage.bind(this),this.dataChannel.onclose=this.onclose.bind(this)}return u(e,[{key:"on",value:function e(t,r){this.event_.on(t,r)}},{key:"off",value:function e(t,r){r?this.event_.removeListener(t,r):this.event_.removeAllListeners(t)}},{key:"sendMessage",value:function e(t){var r;if(!this.dataChannel||"open"!==this.dataChannel.readyState){return AC.getLogger().error(uU,"send message with dataChannel failed for dataChannel unavaliable: ".concat(null===(r=this.dataChannel)||void 0===r?void 0:r.readyState,".")),!1}try{return this.dataChannel.bufferedAmount>=1024e6&&AC.getLogger().warn(uU,"buffer over high threshold of 1M: ".concat(this.dataChannel.bufferedAmount,", send message may blocked and delay.")),this.dataChannel.send(t),!0}catch(e){return AC.getLogger().error(uU,"send message with dataChannel occur error: ".concat(e,".")),!1}}},{key:"close",value:function e(){clearTimeout(this.dataChannelDisConnectTimer),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onerror=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel.close(),this.dataChannel=null)}},{key:"onopen",value:function e(){AC.getLogger().info(uU,"onopen, RTCDataChannel connection status: ".concat(this.dataChannel.readyState)),clearTimeout(this.dataChannelDisConnectTimer),this.event_.emit("CMD_CHANNEL_ESTABLISHED")}},{key:"onmessage",value:function e(t){t.data?this.event_.emit("CMD_MSG_REVEIVED",t.data):AC.getLogger().error(uU,"onerror, RTCDataChannel message is null.")}},{key:"onerror",value:function e(t){AC.getLogger().error(uU,"onerror, RTCDataChannel occur error: ".concat(t)),this.dataChannelDisConnectTimer||(this.dataChannelDisConnectTimer=setTimeout((()=>{clearTimeout(this.dataChannelDisConnectTimer),this.event_.emit("CMD_CHANNEL_DISCONNECT")}),3e4))}},{key:"onclose",value:function e(t){AC.getLogger().info(uU,"onclose, RTCDataChannel closed: ".concat(t)),this.dataChannelDisConnectTimer||(this.dataChannelDisConnectTimer=setTimeout((()=>{clearTimeout(this.dataChannelDisConnectTimer),this.event_.emit("CMD_CHANNEL_DISCONNECT")}),3e4))}}])}();let lU=function(e){function t(){a(this,t);return f(this,t,arguments)}p(t,e);return u(t,[{key:"initCmdTranportChannel",value:function e(){this.transportChannel||(this.transportChannel=new cU(this.connection)),this.transportChannel.on("CMD_MSG_REVEIVED",(e=>{n(t,"receivedCmdRtpPacketDecode",this,3)([e])})),this.transportChannel.on("CMD_CHANNEL_ESTABLISHED",(()=>{AC.getLogger().info(uU,"cmd dataChannel connection established."),this.event.emit(oM.CmdChannelEstablished,uM.DATA_CHANNEL)})),this.transportChannel.on("CMD_CHANNEL_DISCONNECT",(()=>{AC.getLogger().info(uU,"cmd dataChannel connection disconnect."),this.event.emit(oM.CmdChannelDisconnect,uM.DATA_CHANNEL)}))}},{key:"extraParamsHandle",value:function e(t){this.connection=t.dataChannelOptions.connection}},{key:"reset",value:function e(){this.roomId=null,this.cmdSendSsrc=0,this.cmdReceiveSsrc=0,this.selfUserUid=0,this.cmdMsgPacketSeqNum=0,this.transportChannel&&(this.transportChannel.off("CMD_MSG_REVEIVED"),this.transportChannel.off("CMD_CHANNEL_ESTABLISHED"),this.transportChannel.close(),this.transportChannel=null)}}])}(nU);var fU,dU,hU,pU,vU,gU,mU,yU,_U,bU,EU,SU,wU,TU,CU,AU,RU,IU,kU,OU,PU,MU,xU,LU,DU,NU,jU,UU,BU,FU,HU,VU,WU,zU,GU,YU,KU,qU,$U;const JU=1e4;var ZU=function(e){return e[e.mute=0]="mute",e[e.unmute=1]="unmute",e[e.noChange=2]="noChange",e}(ZU||{});const XU={FHD:$P.main,HD:$P.middle1,SD:$P.middle2,LD:$P.slides},QU="Client";let eB=(fU=ND("Client$destroyClient#void"),dU=ND("Client$enableTopThreeAudioMode#boolean#boolean"),hU=LD("".concat(QU,"_switchAudioMode")),pU=ND("Client$getConnectionState#string"),vU=ND("Client$setNetworkBandwidth#void#NetworkBandwidth"),gU=DD("Client$join#Promise<void>#string#JoinConfig"),mU=DD("Client$enableRtcStats#Promise<void>#boolean#number"),yU=DD("Client$leave#Promise<void>"),_U=DD("Client$publish#Promise<void>#Stream#PublishOption"),bU=LD("".concat(QU,"_publishImpl")),EU=DD("Client$unpublish#Promise<void>#Stream"),SU=DD("Client$subscribeAudio#Promise<RemoteStream | void>#string"),wU=DD("Client$unSubscribeAudio#Promise<void>#string"),TU=DD("Client$subscribe#Promise<void>#RemoteStream#SubscribeOption"),CU=DD("Client$batchSubscribe#Promise<void>#SubscribeParam[]"),AU=DD("Client$unsubscribe#Promise<void>#Stream#SubscribeOption"),RU=DD("Client$switchRole#Promise<void>#number#Authorization"),IU=LD("".concat(QU,"_refreshRemoteStreamList")),kU=LD("".concat(QU,"_updateRemoteStream")),OU=LD("".concat(QU,"_removeRemoteStream")),PU=LD("".concat(QU,"_handleWatchMsg")),MU=LD("".concat(QU,"_refreshRoomUserInfos")),xU=ND("Client$setVolume4TopThree#void#number"),LU=ND("Client$muteAudio4TopThree#void#boolean"),DU=DD("Client$setAudioOutput4TopThree#void"),NU=ND("Client$isTopNAudioMuted#boolean"),jU=DD("Client$changeUserName#Promise<boolean>#string"),UU=DD("Client$startLiveStreaming#Promise<boolean>#string#string[]#PublishConfig#UserConfig[]"),BU=DD("Client$updateLiveStreaming#Promise<void>#string#string[]#PublishConfig#UserConfig[]"),FU=DD("Client$stopLiveStreaming#Promise<void>#string"),HU=ND("Client$setProxyServer#void#string"),VU=ND("Client$setTurnServer#void#TurnServerConfig"),WU=DD("Client$addMultiRoomMediaRelay#Promise<MultiRoomMediaRelayResult[]>#MultiRoomMediaRelayInfo"),zU=DD("Client$stopMultiRoomMediaRelay#Promise<MultiRoomMediaRelayResult[]>#MultiRoomMediaRelayInfo"),GU=ND("Client$addRelayClient#Client#string"),YU=DD("Client$stopRelayClient#Promise<void>#string"),KU=ND("Client$enableCommandMsg#boolean#boolean"),qU=ND("Client$renewSignature#boolean#ctime#signature"),$U=function(e){function t(e,r){var n;a(this,t);n=f(this,t,[{logger:!0,stat:!0,emitter:!0,config:e}]),o(h(n),"status",eM.Idle),o(h(n),"localRejoinFlag",!1),o(h(n),"resolutionChangeInfo",{mainResolutionChangeTimer:null,auxResolutionChangeTimer:null,preVideoHeight:new Map}),n.stat.setDeviceStatusInfo(),n.stat.setDeviceUserAgent(),n.clientSymbol=Symbol("".concat(QU,"_").concat(wN.getSequence())),r&&(n.mainRelayRoomSymbol=r),n.locker=new ID,n.roomId="",n.clientConfig=e,n.userInfo=void 0,n.waitConfigCallbackFunc=void 0,n.topNAudioVolume=100,n.audioPolicy=qM.USER_SUBSCRIBE_AUDIOPOLICY,n.connectState={prevState:"DISCONNECTED",curState:"DISCONNECTED"},n.logger.info(QU,"HRTC VERSION = ".concat(xM,", userAgent = ").concat(navigator.userAgent)),n.top3VolumeUserIds=[],nD.initDeviceChangedNotify(n.eventEmitter,!1),n.accessManager=new Fj(n.logger),n.lastCycleFrameDecodedMap=new Map,n.streamInterruptedUsersMap=new Map,n.streamDetectionCriterion=0,n.audioStreams4TopN=new oj,n.downLinkData=null,n.upLinkData=null,n.preNetQuality=null,n.remoteUserManager=new Yj(h(n)),n.stat.setRemoteUserManager(n.remoteUserManager),n.connectionsManager=new Pj(n.logger,n.stat,n.eventEmitter),n.streamPublishManager=new sj,n.audioLevelInterval=1e3,n.isLoopRejoining=!1,n.upStreamData=null,n.sdpRepInfo=null,n.startupQoSMap=new Map,n.initReport4WindowEvent(),n.cmdMsgAbility={enable:!1,cmdManager:null,msgFormat:cM.STRING},n.roomStreamStatus={},n.isSignatureExpired=!1,n.pktsLostRate={up:0,down:0,preDownRate:[],preRTT:0};return n}p(t,e);return u(t,[{key:"destroyClient",value:function e(){this.lastCycleFrameDecodedMap.clear(),this.streamInterruptedUsersMap.clear(),this.startupQoSMap.clear(),this.resetConnection(),this.logger.clearLogs(),AC.deleteLogger(this.identifiedID)}},{key:"initReport4WindowEvent",value:function e(){window.onunload=()=>{var e,t;const r=yC.getCurrentTimestamp();null===(e=this.stat)||void 0===e||e.recordCallbackInfoBeacon("window-onunload",null===(t=this.getInfo())||void 0===t?void 0:t.moduleName,r,r,{event:"window-onunload"},(e=>["object","function"].includes(typeof e)&&e.getStatInfo?JSON.stringify(e.getStatInfo()):JSON.stringify(e||{})))},window.onbeforeunload=()=>{var e,t;const r=yC.getCurrentTimestamp();null===(e=this.stat)||void 0===e||e.recordCallbackInfoBeacon("window-onbeforeunload",null===(t=this.getInfo())||void 0===t?void 0:t.moduleName,r,r,{event:"window-onbeforeunload"},(e=>["object","function"].includes(typeof e)&&e.getStatInfo?JSON.stringify(e.getStatInfo()):JSON.stringify(e||{})))},window.onhashchange=e=>{var t,r;const n=yC.getCurrentTimestamp();null===(t=this.stat)||void 0===t||t.recordCallbackInfoBeacon("window-onhashchange",null===(r=this.getInfo())||void 0===r?void 0:r.moduleName,n,n,{event:"window-onhashchange",newURL:(null==e?void 0:e.newURL)||"",oldURL:(null==e?void 0:e.oldURL)||""},(e=>["object","function"].includes(typeof e)&&e.getStatInfo?JSON.stringify(e.getStatInfo()):JSON.stringify(e||{})))}}},{key:"getSessionStatus",value:function e(){return this.status}},{key:"on",value:function e(r,i){n(t,"on",this,3)([r,i,![oM.VolumeIndicator,oM.TransportStats].includes(r.toString())])}},{key:"off",value:function e(r,i){n(t,"off",this,3)([r,i,![oM.VolumeIndicator,oM.TransportStats].includes(r.toString())])}},{key:"getSymbol",value:function e(){return this.identifiedID}},{key:"getInfo",value:function e(){var t,r;return{moduleName:"Client",appId:this.clientConfig.appId,roomId:this.roomId,userName:null===(t=this.userInfo)||void 0===t?void 0:t.userName,userId:null===(r=this.userInfo)||void 0===r?void 0:r.userId,domain:this.clientConfig.domain,upStreamData:this.upStreamData,sdpRepInfo:this.sdpRepInfo,countryCode:this.clientConfig.countryCode}}},{key:"enableTopThreeAudioMode",value:function e(t){return this.enableTopThreeAudioModeImpl(t)}},{key:"enableTopThreeAudioModeImpl",value:function e(t){let r=!1;return t&&this.status===eM.Idle&&(this.audioPolicy=qM.TOPN_AUDIOPOLICY,r=!0),r}},{key:"switchAudioMode",value:async function e(t){try{if(t!==$M.TOPN_AUDIOPOLICY&&t!==$M.USER_SUBSCRIBE_AUDIOPOLICY){throw this.logger.error(QU,"audioMode is invalid"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}return t%=2,this.logger.info(QU,"switchAudioMode start, new audioPolicy: ".concat(t,", original audioPolicy: ").concat(this.audioPolicy)),this.status===eM.Joined&&(t===qM.USER_SUBSCRIBE_AUDIOPOLICY&&this.audioPolicy===qM.TOPN_AUDIOPOLICY?(this.audioPolicy=t,await this.switchAudioPolicyTop2User()):t===qM.TOPN_AUDIOPOLICY&&this.audioPolicy===qM.USER_SUBSCRIBE_AUDIOPOLICY&&(this.audioPolicy=t,await this.switchAudioPolicyUser2Top(),this.top3VolumeUserIds&&this.top3VolumeUserIds.length>0&&this.eventEmitter.emit(oM.VolumeIndicator,{userVolumeInfos:this.top3VolumeUserIds}))),this.stat.getMediaStat().setAudioPolicy(this.audioPolicy),this.audioPolicy===qM.USER_SUBSCRIBE_AUDIOPOLICY?$M.USER_SUBSCRIBE_AUDIOPOLICY:$M.TOPN_AUDIOPOLICY}catch(e){this.logger.error(QU,"switchAudioMode, audioPolicy: ".concat(t,", error: ").concat(e))}return this.audioPolicy}},{key:"switchAudioPolicyTop2User",value:async function e(){await this.signal.changeAudioPolicy(qM.USER_SUBSCRIBE_AUDIOPOLICY),await this.unsubscribeAudio4Top();const t=this.remoteUserManager.getAllUserStreamsByType(this.roomId,null,YM.TRACK_TYPE_VIDEO);for(const e of t){const t=e.mainStream.tracks;for(const e of t){e.isSubscribed&&await this.resubscribeUserAudio()}}}},{key:"resubscribeUserAudio",value:async function e(){this.logger.info(QU,"resubscribeUserAudio start");const t=this.remoteUserManager.resubscribeMainStreamAudio(this.roomId);await this.updateSubscribe(t),null==t||t.forEach((e=>{var t,r,n,i;(null===(t=e.mainStream)||void 0===t||null===(r=t.tracks4Subscribe)||void 0===r?void 0:r.length)>0&&(null===(n=e.mainStream)||void 0===n||null===(i=n.remoteStream)||void 0===i||i.rePlayAudio())}))}},{key:"switchAudioPolicyUser2Top",value:async function e(){await this.unsubscribeAudio4SubscribeUsers(),await this.signal.changeAudioPolicy(qM.TOPN_AUDIOPOLICY),this.remoteUserManager.enableTopThreeAudioMode(this.roomId),await this.connectionsManager.generateAndSetOfferSdpByHandler(KM.STREAM_TYPE_MAIN),await this.connectionsManager.generateAndSetAnswerSdpByHandler(KM.STREAM_TYPE_MAIN,this.addSsrc4Top3.bind(this))}},{key:"unsubscribeAudio4SubscribeUsers",value:async function e(){this.logger.info(QU,"unsubscribeAudio4SubscribeUsers start");const t=this.remoteUserManager.unsubscribeAllMainStreamAudio(this.roomId);await this.updateSubscribe(t)}},{key:"unsubscribeAudio4Top",value:async function e(){await this.unsubscribeUsersAudio()}},{key:"unsubscribeAudio4SubscribeAll",value:async function e(){await this.unsubscribeUsersAudio()}},{key:"unsubscribeUsersAudio",value:async function e(){const t=[];for(const e of this.audioStreams4TopN.getAudioStreams()){const r=e.ssrc;this.audioStreams4TopN.close(e.streamId),this.logger.info(QU,"delete audio ssrc:".concat(r)),t.push(r)}t.length>0&&await this.connectionsManager.deleteUser(KM.STREAM_TYPE_MAIN,null,t)}},{key:"getLocalAudioStats",value:async function e(){const t=new Map,r=this.streamPublishManager.getPublishedMainAudioTrackInfo();if(!r){return this.logger.error(QU,"local stream has not published yet."),t}if("function"!=typeof r.sender.getStats){return this.logger.error(QU,"audio rtpsender is not support getStat"),t}const n={bytesSent:0,packetsSent:0},i=this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_MAIN),o=this.userInfo.userId||(null==i?void 0:i.getUserId()),a=JL.getLatestStats(this.userInfo.roomId,KM.STREAM_TYPE_MAIN,"".concat(jP,"_").concat(r.ssrc));return a&&(n.bytesSent=a.bytesSent,n.packetsSent=a.packetsSent,t.set(o,n)),t}},{key:"getLocalVideoStats",value:async function e(){const t=new Map,r={mainStream:[],subStream:null};let n=null,i=null;const o=this.streamPublishManager.getMainStreamVideoPublishInfo();if(o){const e=this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_MAIN),i=this.userInfo.userId||(null==e?void 0:e.getUserId());for(const e of o){n={bytesSent:0,packetsSent:0,framesEncoded:0,framesSent:0,frameWidth:0,frameHeight:0};const o=JL.getLatestStats(this.userInfo.roomId,KM.STREAM_TYPE_MAIN,"".concat(UP,"_").concat(e.ssrc));o&&(n.bytesSent=yC.getValue(o.bytesSent,0),n.packetsSent=yC.getValue(o.packetsSent,0),n.framesEncoded=yC.getValue(o.framesEncoded,0),n.framesSent=yC.getValue(o.framesSent,0),n.frameWidth=yC.getValue(o.frameWidth,0),n.frameHeight=yC.getValue(o.frameHeight,0),t.has(i)?t.get(i).mainStream.push(n):(r.mainStream.push(n),t.set(i,r)))}}else{this.logger.debug(QU,"have no local mainstream collect stats")}const a=this.streamPublishManager.getPublishedAuxVideoTrackInfo();if(a&&"function"==typeof a.sender.getStats){const e=this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_MAIN),n=this.userInfo.userId||(null==e?void 0:e.getUserId());i={bytesSent:0,packetsSent:0,framesEncoded:0,framesSent:0,frameWidth:0,frameHeight:0};const o=JL.getLatestStats(this.userInfo.roomId,KM.STREAM_TYPE_AUX,"".concat(UP,"_").concat(a.ssrc));o&&(i.bytesSent=yC.getValue(o.bytesSent,0),i.packetsSent=yC.getValue(o.packetsSent,0),i.framesEncoded=yC.getValue(o.framesEncoded,0),i.framesSent=yC.getValue(o.framesSent,0),i.frameWidth=yC.getValue(o.frameWidth,0),i.frameHeight=yC.getValue(o.frameHeight,0),t.has(n)?t.get(n).subStream=i:(r.subStream=i,t.set(n,r)))}else{this.logger.debug(QU,"have no local substream collect stats")}return t}},{key:"getRemoteAudioStats",value:async function e(){const t=new Map,r=this.remoteUserManager.getAllUserStreamsByType(this.roomId,KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_AUDIO),n=this.connectionsManager.getReceivers(KM.STREAM_TYPE_MAIN);if(!n||0===n.length){return this.logger.error(QU,"getRemoteAudioStats, peerConnection is not support getReceivers"),t}for(const e of r){const r=e.userId;if(e.mainStream){for(const n of e.mainStream.tracks){const e={bytesReceived:0,packetsReceived:0,packetsLost:0},i=JL.getLatestStats(this.userInfo.roomId,KM.STREAM_TYPE_MAIN,"".concat(DP,"_").concat(n.cssrc));r&&i&&(e.bytesReceived=yC.getValue(i.bytesReceived,0),e.packetsReceived=yC.getValue(i.packetsReceived,0),e.packetsLost=yC.getValue(i.packetsLost,0),this.connectionsManager.calcChangedStatistic(i.id,e,["bytesReceived","packetsReceived","packetsLost"]),t.set(r,e))}}}return t}},{key:"getRemoteVideoStats",value:async function e(){const t=new Map,r=this.remoteUserManager.getAllUserStreamsByType(this.roomId,null,YM.TRACK_TYPE_VIDEO);for(const e of r){e.mainStream&&await this.getRemoteVideoTracksStatistic(e.userId,KM.STREAM_TYPE_MAIN,!1,e.mainStream.tracks,t),e.auxStream&&await this.getRemoteVideoTracksStatistic(e.userId,KM.STREAM_TYPE_AUX,!0,e.auxStream.tracks,t)}return t}},{key:"isSendingStream",value:function e(){var t,r;const n=(null===(t=this.connectionsManager.getSenders(KM.STREAM_TYPE_MAIN))||void 0===t?void 0:t.length)>0,i=(null===(r=this.connectionsManager.getSenders(KM.STREAM_TYPE_AUX))||void 0===r?void 0:r.length)>0;return n||i}},{key:"isReceivingStream",value:function e(){var t,r;const n=(null===(t=this.connectionsManager.getReceivers(KM.STREAM_TYPE_MAIN))||void 0===t?void 0:t.length)>0,i=(null===(r=this.connectionsManager.getReceivers(KM.STREAM_TYPE_AUX))||void 0===r?void 0:r.length)>0;return n||i}},{key:"getRemoteVideoTracksStatistic",value:async function e(t,r,n,i,o){if(i&&0!==i.length){for(const e of i){const i=JL.getLatestStats(this.userInfo.roomId,n?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,"".concat(NP,"_").concat(e.cssrc));if(!i){continue}const a={streamId:e.trackId,bytesReceived:0,packetsReceived:0,packetsLost:0,framesDecoded:0,frameWidth:0,frameHeight:0,frameRate:0,frameDropped:0};if(a.bytesReceived=yC.getValue(i.bytesReceived,0),a.packetsReceived=yC.getValue(i.packetsReceived,0),a.packetsLost=yC.getValue(i.packetsLost,0),a.framesDecoded=yC.getValue(i.framesDecoded,0),a.frameDropped=yC.getValue(i.framesDropped,0),a.frameRate=yC.getValue(i.framesPerSecond,0),a.frameWidth=i.frameWidth,a.frameHeight=i.frameHeight,this.connectionsManager.calcChangedStatistic(i.id,a,["bytesReceived","packetsReceived","packetsLost","framesDecoded"]),a.frameWidth&&a.frameHeight){const e=i.trackId;if(e){const t=JL.getLatestStats(this.userInfo.roomId,n?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN,e)||{frameWidth:0,frameHeight:0};a.frameWidth=t.frameWidth,a.frameHeight=t.frameHeight}}if(o.has(t)){r===KM.STREAM_TYPE_AUX?o.get(t).subStream=a:o.get(t).mainStream.push(a)}else{const e={mainStream:[],subStream:null};r===KM.STREAM_TYPE_AUX?e.subStream=a:e.mainStream.push(a),o.set(t,e)}}}}},{key:"getDownloadStatistic",value:async function e(t){const r=new Map,n=this.remoteUserManager.getAllUserStreamsByType(this.roomId,null,t);for(const e of n){await this.getTrackDownloadStatistic([...e.mainStream.tracks,...e.auxStream.tracks],r)}if(0===r.size){return this.downLinkData=null,-1}let i=0,o=0,a=0;for(const[e,t]of r){if(this.downLinkData&&this.downLinkData.has(e)){const r=t.packetsReceived-this.downLinkData.get(e).packetsReceived;r>0&&(o+=r,i+=Math.max(t.packetsLost-this.downLinkData.get(e).packetsLost,0),a+=Math.max(t.nackCount-this.downLinkData.get(e).nackCount,0))}else{o+=t.packetsReceived,i+=t.packetsLost,a+=t.nackCount}}let s=0;if(o<=0){s=-1}else{let e=1e3*this.connectionsManager.getConnectionRTT();e?this.pktsLostRate.preRTT=e:e=this.pktsLostRate.preRTT,s=e<=40?100*a/(a+o):e<=60?.9*a*100/(.9*a+o):e<=100?.8*a*100/(.8*a+o):e<=150?.7*a*100/(.7*a+o):.6*a*100/(.6*a+o),s=Math.min(Math.max(100*i/(i+o),s),100)}return this.downLinkData=r,this.logger.debug(QU,"downLinkData packetsLost:".concat(i,", packetsReceived:").concat(o,",rate:").concat(s)),s}},{key:"getTrackDownloadStatistic",value:async function e(t,r){for(const e of t){const t=e.type===YM.TRACK_TYPE_VIDEO?"".concat(NP):"".concat(DP),n=JL.getLatestStats(this.userInfo.roomId,e.streamType,"".concat(t,"_").concat(e.cssrc)),i={packetsReceived:0,packetsLost:0,nackCount:0};n&&(i.packetsReceived=yC.getValue(n.packetsReceived,0),i.packetsLost=yC.getValue(n.packetsLost,0),i.nackCount=yC.getValue(n.nackCount,0),this.connectionsManager.calcChangedStatistic(n.id,i),r.set(e.cssrc.toString(),i))}}},{key:"getUploadStatistic",value:async function e(r){var n,i;const o=this.streamPublishManager.getPublishedMainVideoTrackInfo(),a=this.streamPublishManager.getPublishedMainAudioTrackInfo(),s=this.streamPublishManager.getPublishedAuxVideoTrackInfo();if(!o&&!a&&!s){return-1}const u={packetsLost:0,packetsSent:0,fractionLost:0},c=r===YM.TRACK_TYPE_VIDEO?"".concat(UP):"".concat(jP),l=r===YM.TRACK_TYPE_VIDEO?(null==o?void 0:o.ssrc)||(null==s?void 0:s.ssrc):null==a?void 0:a.ssrc;if(l){const e=JL.getLatestStats(this.userInfo.roomId,t.getSenderType(r,o),"".concat(c,"_").concat(l));if(e&&(u.packetsSent=yC.getValue(e.packetsSent,0),e.remoteId)){const e=r===YM.TRACK_TYPE_VIDEO?"".concat(FP):"".concat(BP),n=JL.getLatestRemoteInboundStats(this.userInfo.roomId,t.getSenderType(r,o),"".concat(e,"_").concat(l));u.packetsLost=yC.getValue(null==n?void 0:n.packetsLost,0),u.fractionLost=yC.getValue(null==n?void 0:n.fractionLost,0)}}let f=0,d=0;this.upLinkData?(d=u.packetsSent-this.upLinkData.packetsSent,f=u.packetsLost-this.upLinkData.packetsLost):(d=u.packetsSent,f=u.packetsLost);const h=(null===(n=this.upLinkData)||void 0===n?void 0:n.deltaPacketsSend)||0,p=(null===(i=this.upLinkData)||void 0===i?void 0:i.deltaPacketsLost)||0;this.upLinkData=u,f<=0?(d=h||this.upLinkData.packetsSent,f=p||this.upLinkData.packetsLost):(this.upLinkData.deltaPacketsSend=d,this.upLinkData.deltaPacketsLost=f);const v=d>0?Math.max(f/d*100,100*(u.fractionLost||0)):-1;return this.logger.debug(QU,"upLinkData packetsLost:".concat(u.packetsLost," ").concat(f," ").concat(100*(u.fractionLost||0),", packetssend:").concat(d,", rate:").concat(v)),v}},{key:"getConnectionState",value:function e(){return this.connectState.curState}},{key:"getTransportStats",value:async function e(){const t=this.stat.getMediaStat().getTransportMediaStats(),r=this.streamPublishManager.getPublishedMainVideoTrackInfo();if(r){const e=JL.getLatestStats(this.userInfo.roomId,KM.STREAM_TYPE_MAIN,"".concat(FP,"_").concat(r.ssrc))||{};t.rtt=1e3*(e.roundTripTime||0)}else{t.rtt=1e3*this.connectionsManager.getConnectionRTT()}return t.upPktsLostRate=this.pktsLostRate.up,t.downPktsLostRate=this.pktsLostRate.down,t}},{key:"transportStatsRegularReport",value:function e(){clearTimeout(this.transportStatsTimer),this.transportStatsTimer=setTimeout((()=>{clearTimeout(this.transportStatsTimer),this.calcPktsLostRate().then((async()=>{const e=await this.getTransportStats();if(e.downVideoStreams=await this.getRemoteVideoStats(),this.predownVideoStreams){for(const o of e.downVideoStreams.keys()){var t;for(const t of(null===(r=e.downVideoStreams.get(o))||void 0===r?void 0:r.mainStream)||[]){var r,n;const e=((null===(n=this.predownVideoStreams.get(o))||void 0===n?void 0:n.mainStream)||[]).find((e=>e.streamId===t.streamId));t.bitrate=e?8*Math.max(t.bytesReceived-e.bytesReceived,0):t.bytesReceived,t.frameRate=t.frameRate||(e?Math.max(t.framesDecoded-e.framesDecoded,0):t.framesDecoded)}const a=null===(t=e.downVideoStreams.get(o))||void 0===t?void 0:t.subStream;if(a){var i;const e=null===(i=this.predownVideoStreams.get(o))||void 0===i?void 0:i.subStream;a.bitrate=e?8*Math.max(a.bytesReceived-e.bytesReceived,0):a.bytesReceived,a.frameRate=a.frameRate||(e?Math.max(a.framesDecoded-e.framesDecoded,0):a.framesDecoded)}}}else{for(const t of e.downVideoStreams.keys()){var o;for(const r of(null===(a=e.downVideoStreams.get(t))||void 0===a?void 0:a.mainStream)||[]){var a;r.bitrate=0}const r=null===(o=e.downVideoStreams.get(t))||void 0===o?void 0:o.subStream;r&&(r.bitrate=0)}}this.predownVideoStreams=e.downVideoStreams,this.eventEmitter.emit(oM.TransportStats,e)})).finally(this.transportStatsRegularReport.bind(this,this.predownVideoStreams))}),1e3)}},{key:"getICETransportStat",value:function e(t){return this.connectionsManager.getICETransportStat(t)}},{key:"cleanTransportStats",value:function e(){this.stat.clearMediaStatBytes()}},{key:"setNetworkBandwidth",value:function e(t){if((null==t?void 0:t.maxBandwidth)<tM.MIN_BAND_WIDTH||(null==t?void 0:t.maxBandwidth)>tM.MAX_BAND_WIDTH){throw this.logger.info(QU,"MaxBandWidth Limits [3072Kpbs, 51200Kpbs]"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}this.bandwidthParam={maxBandwidth:1e3*(null==t?void 0:t.maxBandwidth)||tM.DEFAULT_BANDWIDTH_4M}}},{key:"join",value:async function e(t,r){return await this.joinImpl(t,r)}},{key:"joinImpl",value:async function e(t,r){AC.addPrivacyString(null==r?void 0:r.userId),AC.addPrivacyString(null==r?void 0:r.userName),AC.addPrivacyString(null==r?void 0:r.signature),this.logger.info(QU,"join room roomId:".concat(t," userId:").concat(r.userId," role:").concat(r.role));const n=[];let i="";this.roomId=t;try{var o,a,s,u;if(this.status!==eM.Idle){throw this.logger.error(QU,"room status error!"),this.stat.reportJoinInfo(fM.ROOM_NOT_AVAILABLE,void 0,!1,void 0,"room status error!"),new oc(nc.RTC_ERR_CODE_STATUS_ERROR)}AL.checkJoinParams(t,r),this.mainRelayRoomSymbol&&Zj.roleValidCheck4RelayRoom(this,r.role);const e=DN.init(this.identifiedID,t,r);this.userInfo=e;const c=await this.accessManager.getAccessInfo(this.clientConfig.countryCode,n);this.stat.getMediaStat().setAudioPolicy(this.audioPolicy),this.stat.setLocalUserInfo(e),await this.locker.lock("".concat(QU,":joinImpl")),this.newSignal(c),this.signalEvent(),this.status=eM.Joining,i=await this.signal.connect(e,n),this.logger.info(QU,"joinImpl, actualAcsIp:".concat(i)),await this.waitNotifyConfig(n);const l={fecEnable:!1};await this.connectionsManager.initConnectionAndSdp(this.roomId,KM.STREAM_TYPE_MAIN,{onTrackHandler:this.onTrackHandler.bind(this)},!1,l),await this.connectionsManager.initConnectionAndSdp(this.roomId,KM.STREAM_TYPE_AUX,{onTrackHandler:this.onTrackHandler.bind(this)}),this.adjustSfuConfigWithFec(l.fecEnable);const f=await this.connectionsManager.modifySdpInfo(KM.STREAM_TYPE_MAIN,this.cmdMsgAbility.enable),d=await this.connectionsManager.modifySdpInfo(KM.STREAM_TYPE_AUX),h=await this.signal.join(this.userInfo,f,d,this.audioPolicy,null===(o=this.bandwidthParam)||void 0===o?void 0:o.maxBandwidth,this.connectionsManager.getPortType(),this.cmdMsgAbility.enable,this.sfuConfigs);!this.clientConfig.countryCode&&h.countryCode&&this.accessManager.setOpsUrl(h.countryCode),this.sdpRepInfo=h.sdp,h.userInfos.forEach((e=>{this.stat.getMediaStat().setEncryInfo(e.userId,e.userEid)})),null!=h&&h.userEid&&this.stat.getMediaStat().setEncryInfo(this.userInfo.userId,h.userEid.toString());const p=String(h.roomUid);this.stat.setRoomUid(p);const v=null===(a=h.roomStreamStatus)||void 0===a?void 0:a.audience;let g;g=this.audioPolicy===qM.TOPN_AUDIOPOLICY?async e=>{let{remoteDescription:t,bindCryptoKey:r,wsUrl:n,dataChannelEnable:i}=e;return await this.negTransportChannelHandler(h,r,n,i),v===lM.PAUSE&&this.userInfo.role===ON?{answerSdp:t}:await this.addSsrc4Top3(t)}:async e=>{let{remoteDescription:t,bindCryptoKey:r,wsUrl:n,dataChannelEnable:i}=e;return await this.negTransportChannelHandler(h,r,n,i),{answerSdp:t}};const m=null===(s=h.negSdp.find((e=>e.type===$N.MAIN)))||void 0===s?void 0:s.sdp,y=null===(u=h.negSdp.find((e=>e.type===$N.DESKTOP)))||void 0===u?void 0:u.sdp;this.connectionsManager.setSsrcsMapping(this.sdpRepInfo),await this.connectionsManager.handleAnswerSdpFromServer(KM.STREAM_TYPE_MAIN,m,g),await this.connectionsManager.handleAnswerSdpFromServer(KM.STREAM_TYPE_AUX,y),await this.handleRoomStreamStatus(v),this.upStreamData=h.userInfos.find((e=>{var t;return e.userId===(null===(t=this.userInfo)||void 0===t?void 0:t.userId)})),this.remoteUserManager.initialize(this.userInfo.userId,h.sdp),this.stat.setSFUAddress(this.connectionsManager.getSfuInfoFromSdp(m,y)),this.signal.keepAlive(),this.status=eM.Joined,this.logger.info(QU,"join room success"),this.streamPublishManager.setSdpRepInfo(this.sdpRepInfo),this.statJoinRoomInfo(i,!1,n),this.cleanNetworkStatistic(),this.netQualityRegularReport(),this.cleanTransportStats(),this.transportStatsRegularReport(),this.setAudioLevelStatTimer(),Zj.addConnectionCache(this.mainRelayRoomSymbol||this.clientSymbol,this.roomId,this),await this.doRefreshRoomUserInfos(this.userInfo.roomId,h.userInfos,!1),this.locker.unlock("".concat(QU,":joinImpl"))}catch(e){throw this.locker.unlock("".concat(QU,":joinImpl")),this.logger.error(QU,"join occur error： ".concat(e)),this.cleanup(),this.stat.reportJoinInfo(null==e?void 0:e.code,i,!1,n,null==e?void 0:e.message),await $j.uploadLogFile(this),e instanceof oc?e:new oc(nc.RTC_ERR_CODE_RTC_SDK_ERROR,null==e?void 0:e.message)}}},{key:"adjustSfuConfigWithFec",value:function e(t){this.sfuConfigFec=t?this.sfuConfigFec:0,this.sfuConfigs.webFlexfec03=this.sfuConfigFec}},{key:"reportLogs",value:function e(){$j.uploadLogFile(this).then((()=>{this.eventEmitter.emit(oM.LogUploaded,{status:200})})).catch((e=>{this.logger.error(QU,"reportLogs occur error： ".concat(e)),this.eventEmitter.emit(oM.LogUploaded,{status:500})}))}},{key:"statJoinRoomInfo",value:function e(t,r,n){this.stat.reportJoinInfo(0,t,r,n,""),this.stat.getMediaStat().setConnectionsManager(this.connectionsManager),JL.addConnection(this.userInfo.roomId,this.connectionsManager),this.stat.getMediaStat().setLocalMainStreamInfo(this.userInfo.userId,this.streamPublishManager.getPublishedMainStreamInfos()),this.stat.getMediaStat().setLocalAuxsStreamInfo(this.userInfo.userId,this.streamPublishManager.getPublishedAuxStreamInfo()),this.stat.startMediaCollector()}},{key:"enableRtcStats",value:async function e(t,r){return await this.enableRtcStatsImpl(t,r)}},{key:"enableRtcStatsImpl",value:async function e(t,r){if(this.status!==eM.Joined){throw this.logger.error(QU,"cannot enableRtcStats before join room"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"cannot enableRtcStats before join room")}if(!t){return clearTimeout(this.rtcStatsInterval),this.rtcStatsInterval=null,void this.logger.info(QU,"enableRtcStats is disable")}if(!Number.isInteger(r)||r<100){throw this.logger.error(QU,"invalid interval"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}if(t&&this.rtcStatsInterval){throw this.logger.error(QU,"enableRtcStats has been invoked, no need do again"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"enableRtcStats has been invoked, no need do again")}return this.rtcStatsCriterion=r,this.doEnableRtcStats()}},{key:"doEnableRtcStats",value:async function e(){let t=0;const r=()=>{this.rtcStatsInterval=setTimeout((async()=>{const e=(await this.stat.buildRtcStatsDebugInfo(this.rtcStatsCriterion/1e3)).mediaStatsDebugInfo;this.doTriggerRtcStats(e,t),t++,r()}),0===t?0:this.rtcStatsCriterion)};r()}},{key:"doTriggerRtcStats",value:function e(t,r){if(0===r){return}if(!t||0==t.length){return}const n=[];t.forEach((e=>{if(!e.event){return}const t=e.streams||[];switch(e.event){case wM.QoS_UP_STREAM_VIDEO:this.addRtcStatInfos(t,!1,YM.TRACK_TYPE_VIDEO,n);break;case wM.QoS_UP_STREAM_AUDIO:this.addRtcStatInfos(t,!1,YM.TRACK_TYPE_AUDIO,n,$P.main);break;case wM.QoS_AUX_UP_STREAM_VIDEO:this.addRtcStatInfos(t,!1,YM.TRACK_TYPE_VIDEO,n,$P.desktop);break;case wM.QoS_DOWN_STREAM_VIDEO:this.addRtcStatInfos(t,!0,YM.TRACK_TYPE_VIDEO,n);break;case wM.QoS_DOWN_STREAM_AUDIO:this.addRtcStatInfos(t,!0,YM.TRACK_TYPE_AUDIO,n,$P.main);break;case wM.QoS_AUX_DOWN_STREAM_VIDEO:this.addRtcStatInfos(t,!0,YM.TRACK_TYPE_VIDEO,n,$P.desktop);break;default:this.logger.debug(QU,"".concat(e.event," no need stats"))}})),this.connectState.curState===VP[WP.CONNECTED]&&n.length>0&&this.eventEmitter.emit(oM.RtcStats,n)}},{key:"addRtcStatInfos",value:function e(t,r,n,i,o){let a={};const s=this.userInfo.userName||this.userInfo.userId;for(let e=0;e<t.length;e++){var u,c,l;a.isRemote=r,a.mediaType=n,a.bitrate=(null===(u=t[e])||void 0===u?void 0:u.bit_rate)||0,a.jitter=(null===(c=t[e])||void 0===c?void 0:c.jitter)||0,a.pktLossRate=(null===(l=t[e])||void 0===l?void 0:l.pkt_loss)||0;let b=null;var f,d,h,p,v,g,m;if(r){b=this.remoteUserManager.getUserInfoByStreamId(this.roomId,"".concat(null===(f=t[e])||void 0===f?void 0:f.stream_uid)),a.userName=(null===(d=b)||void 0===d||null===(h=d.userInfo)||void 0===h?void 0:h.nickname)||(null===(p=b)||void 0===p||null===(v=p.userInfo)||void 0===v?void 0:v.userId)||"remoteTop3"}else{a.userName=s,a.rtt=(null===(g=t[e])||void 0===g?void 0:g.rtt)||0}if(o){a.streamType=o}else if(n===YM.TRACK_TYPE_VIDEO){var y,_;if(r){a.streamType="main"===(null===(y=b)||void 0===y||null===(_=y.mainStream)||void 0===_?void 0:_.remoteTrackInfos.get(t[e].stream_uid.toString()).content)?$P.main:$P.slides}else{a.streamType="".concat(t[e].ssrc_uid.split("-")[0])==="".concat(this.sdpRepInfo.video.sendSsrcBegin)?$P.main:$P.slides}}if(n!==YM.TRACK_TYPE_AUDIO){a.frameRate=(null===(m=t[e])||void 0===m?void 0:m.frame_rate)||0}i.push(a),a={}}}},{key:"leave",value:async function e(){return await this.leaveImpl()}},{key:"leaveImpl",value:async function e(){return new Promise(((e,t)=>{this.logger.info(QU,"leave room"),this.status!==eM.Joined&&this.status!==eM.Rejoining?t(new oc(nc.RTC_ERR_CODE_STATUS_ERROR)):(this.status=eM.Leaving,this.signal.leave().then((()=>{this.stat.reportLeavInfo(dM.LEAVE_ROOM_SUCCESS)})).catch((()=>{this.stat.reportLeavInfo(dM.LEAVE_ROOM_ERROR)})).finally((()=>{this.doLeaveRoom(),this.stat.getMediaStat().clearEncryUserId(),this.stopStreamResolutionDetection(),this.logger.info(QU,"leave success"),e()})))}))}},{key:"doLeaveRoom",value:function e(){this.cleanup(),this.cleanTransportStats(),this.stat.leaveRoom(),PL.immediateReportRecords(),this.roomStreamStatus={},gD.leaveRoom()}},{key:"resetConnection",value:function e(){const t=[],r=this.streamPublishManager.getPublishedMainVideoTrackInfo();r&&t.push(r.sender);const n=this.streamPublishManager.getPublishedMainAudioTrackInfo();n&&t.push(n.sender),this.connectionsManager.destroyPeerConnection(KM.STREAM_TYPE_MAIN,t);const i=this.streamPublishManager.getPublishedAuxVideoTrackInfo();this.connectionsManager.destroyPeerConnection(KM.STREAM_TYPE_AUX,i?[i.sender]:[])}},{key:"rejoin",value:async function e(t,r){this.logger.info(QU,"rejoin room roomId:".concat(t," JoinConfig:").concat(JSON.stringify(r)));const n=[];let i="";this.roomId=t;try{var o,a,s,u;AL.checkJoinParams(t,r),this.mainRelayRoomSymbol&&Zj.roleValidCheck4RelayRoom(this,r.role);const e=DN.init(this.identifiedID,t,r);if(this.userInfo=e,this.stat.setLocalUserInfo(e),this.resetConnection(),this.streamPublishManager.reset(),clearTimeout(this.netQualityTimer),clearTimeout(this.transportStatsTimer),this.signal){this.signal.reset()}else{const e=await this.accessManager.getAccessInfo(this.clientConfig.countryCode,n);this.newSignal(e),this.signalEvent()}this.status=eM.Joining,i=await this.signal.connect(e,n),this.logger.info(QU,"rejoin, actualAcsIp:".concat(i)),await this.waitNotifyConfig(n);const c={fecEnable:!1};await this.connectionsManager.initConnectionAndSdp(this.roomId,KM.STREAM_TYPE_MAIN,{onTrackHandler:this.onTrackHandler.bind(this)},!1,c),await this.connectionsManager.initConnectionAndSdp(this.roomId,KM.STREAM_TYPE_AUX,{onTrackHandler:this.onTrackHandler.bind(this)});const l=await this.connectionsManager.modifySdpInfo(KM.STREAM_TYPE_MAIN,this.cmdMsgAbility.enable),f=await this.connectionsManager.modifySdpInfo(KM.STREAM_TYPE_AUX),d=await this.signal.join(this.userInfo,l,f,this.audioPolicy,null===(o=this.bandwidthParam)||void 0===o?void 0:o.maxBandwidth,this.connectionsManager.getPortType(),this.cmdMsgAbility.enable,this.sfuConfigs);!this.clientConfig.countryCode&&d.countryCode&&this.accessManager.setOpsUrl(d.countryCode),this.sdpRepInfo=d.sdp,d.userInfos.forEach((e=>{this.stat.getMediaStat().setEncryInfo(e.userId,e.userEid)})),null!=d&&d.userEid&&this.stat.getMediaStat().setEncryInfo(this.userInfo.userId,d.userEid.toString());const h=String(d.roomUid);this.stat.setRoomUid(h);const p=null===(a=d.roomStreamStatus)||void 0===a?void 0:a.audience;let v;v=this.audioPolicy===qM.TOPN_AUDIOPOLICY?async e=>{let{remoteDescription:t,bindCryptoKey:r,wsUrl:n,dataChannelEnable:i}=e;return await this.negTransportChannelHandler(d,r,n,i),p===lM.PAUSE&&this.userInfo.role===ON?{answerSdp:t}:await this.addSsrc4Top3(t)}:async e=>{let{remoteDescription:t,bindCryptoKey:r,wsUrl:n,dataChannelEnable:i}=e;return await this.negTransportChannelHandler(d,r,n,i),{answerSdp:t}};const g=null===(s=d.negSdp.find((e=>e.type===$N.MAIN)))||void 0===s?void 0:s.sdp,m=null===(u=d.negSdp.find((e=>e.type===$N.DESKTOP)))||void 0===u?void 0:u.sdp;this.connectionsManager.setSsrcsMapping(this.sdpRepInfo),await this.connectionsManager.handleAnswerSdpFromServer(KM.STREAM_TYPE_MAIN,g,v),await this.connectionsManager.handleAnswerSdpFromServer(KM.STREAM_TYPE_AUX,m),await this.handleRoomStreamStatus(p),this.upStreamData=d.userInfos.find((e=>{var t;return e.userId===(null===(t=this.userInfo)||void 0===t?void 0:t.userId)})),this.remoteUserManager.initialize(this.userInfo.userId,d.sdp),this.stat.setSFUAddress(this.connectionsManager.getSfuInfoFromSdp(g,m)),this.signal.keepAlive(),this.status=eM.Joined,this.localRejoinFlag=!0,this.streamPublishManager.setSdpRepInfo(this.sdpRepInfo),this.statJoinRoomInfo(i,!0,n),this.cleanNetworkStatistic(),this.netQualityRegularReport(),this.cleanTransportStats(),this.transportStatsRegularReport(),this.setAudioLevelStatTimer(),Zj.addConnectionCache(this.mainRelayRoomSymbol||this.clientSymbol,this.roomId,this),await this.doRefreshRoomUserInfos(this.userInfo.roomId,d.userInfos,!0),this.logger.info(QU,"rejoin, rejoin room success")}catch(e){throw this.logger.error(QU,"rejoin room fail, error:".concat(e)),this.stat.reportJoinInfo(null==e?void 0:e.code,i,!0,n,null==e?void 0:e.message),await $j.uploadLogFile(this),e}}},{key:"changeStreamMuteStatusNotify",value:async function e(t,r,n,i){const o={"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16),videoStreams:[]};if(r===YM.TRACK_TYPE_VIDEO){const e={ssrc:0,mute:t};if(n===$P.desktop){e.ssrc=this.sdpRepInfo.desktopVideo.sendSsrcBegin}else if(e.ssrc=this.sdpRepInfo.video.sendSsrcBegin,i){const e={ssrc:this.sdpRepInfo.video.sendSsrcEnd,mute:t};o.videoStreams.push(e)}o.videoStreams.push(e)}else{const e={ssrc:this.sdpRepInfo.audio.sendSsrcBegin,mute:t};o.audioStreams=[e]}await this.signal.changeStreamStatus(o)}},{key:"setSendBitrate",value:async function e(t,r,n){if(!t){return void this.logger.info(QU,"sender is null")}if("function"!=typeof t.getParameters){return void this.logger.info(QU,"sender not support getParameters")}if("function"!=typeof t.setParameters){return void this.logger.info(QU,"sender not support setParameters")}const i=t.getParameters();i.encodings.length<=0?this.logger.info(QU,"sender has no track, can not set maxBitRate"):(i.encodings[0].maxBitrate=r,await t.setParameters(i),this.logger.info(QU,"success set ".concat(n," sender maxBitrate: ").concat(r)))}},{key:"calcPktsLostRate",value:async function e(){const t=this.connectionsManager.getConnection(KM.STREAM_TYPE_MAIN);if(!t||["disconnected","failed","closed"].includes(t.connectionState)){return}let r=await this.getUploadStatistic("video");if(r<0&&(r=await this.getUploadStatistic("audio")),this.pktsLostRate.up=Math.round(r),r=await this.getDownloadStatistic(YM.TRACK_TYPE_VIDEO),r<0&&(r=await this.getDownloadStatistic(YM.TRACK_TYPE_AUDIO)),r<0){return void(this.pktsLostRate.down=-1)}this.pktsLostRate.preDownRate.push(r),this.pktsLostRate.preDownRate.length>3&&this.pktsLostRate.preDownRate.splice(0,1);const n=this.smoothData(this.pktsLostRate.preDownRate,.9);this.pktsLostRate.down=Math.round(n[n.length-1])}},{key:"smoothData",value:function e(t,r){const n=e=>e.reduce((function(e,t){return e+t}),0)/e.length,i=n(t)*r,o=[];for(let e=0;e<t.length;e++){const r=t[e],a=e>0?o[e-1]:t[t.length-1],s=e<t.length-1?t[e+1]:t[0],u=Number(n([i,a,r,s]).toFixed(2));o.push(u)}return o}},{key:"netQualityRegularReport",value:function e(){clearTimeout(this.netQualityTimer),this.netQualityTimer=setTimeout((()=>{clearTimeout(this.netQualityTimer);let e={uplinkNetworkQuality:0,downlinkNetworkQuality:0};try{var r,n;const a=this.connectionsManager.getConnection(KM.STREAM_TYPE_MAIN);a&&!["disconnected","failed","closed"].includes(a.connectionState)||(e={uplinkNetworkQuality:ZM.NETWORK_QUALITY_DISCONNECT,downlinkNetworkQuality:ZM.NETWORK_QUALITY_DISCONNECT});let s=null===(r=this.stat)||void 0===r||null===(n=r.getMediaStat())||void 0===n?void 0:n.getConnectionRemb(!1);var i,o;if(!s){s=null===(i=this.stat)||void 0===i||null===(o=i.getMediaStat())||void 0===o?void 0:o.getConnectionRemb(!0)}const u=t.judgeNetworkQuality(s);if(e.uplinkNetworkQuality=u,e.downlinkNetworkQuality=u,!this.preNetQuality||this.preNetQuality.uplinkNetworkQuality!==e.uplinkNetworkQuality||this.preNetQuality.downlinkNetworkQuality!==e.downlinkNetworkQuality){const t={uplinkNetworkQuality:e.uplinkNetworkQuality,downlinkNetworkQuality:e.downlinkNetworkQuality};this.logger.info(QU,"emit:".concat(oM.NetworkQuality,", quality:").concat(JSON.stringify(t))),this.eventEmitter.emit(oM.NetworkQuality,t),this.preNetQuality=e}}finally{this.netQualityRegularReport.bind(this)()}}),2e3)}},{key:"validatePublishRequest",value:function e(t){if(this.status!==eM.Joined){throw this.logger.error(QU,"can not publish stream before join room"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"can not publish stream before join room")}if(this.userInfo.role===ON){throw this.logger.error(QU,"the player role can not publish stream"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"the player role can not publish stream")}if(!t){throw this.logger.error(QU,"stream is null"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}if(t.hasAudioTrack()||t.hasVideoTrack()||this.logger.warn(QU,"stream has no audio and video"),"local"!==t.getType()){throw this.logger.error(QU,"stream type: ".concat(t.getType()," cannot publish")),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"stream type: ".concat(t.getType()," cannot publish"))}}},{key:"publish",value:async function e(t,r){try{return await this.publishImpl(t,r),void(t.isAuxiliary()&&this.stat.reportAuxiliaryStreamShareInfo(hM.ACTION_START,pM.RESULT_SUCCESS))}catch(e){throw t.isAuxiliary()&&this.stat.reportAuxiliaryStreamShareInfo(hM.ACTION_START,pM.RESULT_ERROR),e}}},{key:"publishImpl",value:async function e(t,r){try{if(!t){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"stream is null")}if(await this.publishStream(t,r),!t.isAuxiliary()){if(this.stat.getMediaStat().setLocalMainStreamInfo(this.userInfo.userId,this.streamPublishManager.getPublishedMainStreamInfos())&&(t.hasAudioTrack()&&this.buildSendMediaStreamInfo(GP.Audio),r&&t.hasVideoTrack())){const e=this.streamPublishManager.getPublishedMainVideoTrackInfos().map((e=>e.ssrc));this.buildSendMediaStreamInfo(GP.Video,e)}}}catch(e){throw this.logger.error(QU,"publishImpl fail, errMsg = ".concat(e)),e}}},{key:"publishStream",value:async function e(t,r){this.logger.info(QU,"publish ".concat(t.isAuxiliary()?"aux":"main"," stream")),this.validatePublishRequest(t);const n=t,i=this.streamPublishManager.generatePubInfoWhenPublish(n,r);await this.sendPublishRequest(i.allTracks2Publish),await this.updateStreamTracks(n,i),this.startStreamResolutionDetection(n),n.addClient(this)}},{key:"sendPublishRequest",value:async function e(t){t&&await this.sendPublishReq(t)}},{key:"startStreamResolutionDetection",value:function e(t){var r;if(!t||rx.isFirefox()){return}const n=t.isAuxiliary();!n&&this.resolutionChangeInfo.mainResolutionChangeTimer&&(clearInterval(this.resolutionChangeInfo.mainResolutionChangeTimer),this.resolutionChangeInfo.mainResolutionChangeTimer),n&&this.resolutionChangeInfo.auxResolutionChangeTimer&&(clearInterval(this.resolutionChangeInfo.auxResolutionChangeTimer),this.resolutionChangeInfo.auxResolutionChangeTimer=null),this.logger.info(QU,"startStreamResolutionDetection isAuxiliary: ".concat(n));const i=n?this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_AUX):null===(r=this.streamPublishManager)||void 0===r?void 0:r.getLocalStream(KM.STREAM_TYPE_MAIN);if(i){try{this.resolutionChangeInfo[n?"auxResolutionChangeTimer":"mainResolutionChangeTimer"]=setInterval((async()=>{const e=this.streamPublishManager.getStreamTrackInfo(i),t={"x-nuwa-trace-id":yC.generateRandomId(32,16),"x-nuwa-span-id":yC.generateRandomId(16,16),videoStreams:[]};for(const r of e){if("audio"===r.type){return}if(!(n?JL.getLatestValue(this.userInfo.roomId,KM.STREAM_TYPE_AUX,"".concat(UP,"_").concat(r.upstream.ssrc),"packetsSent"):JL.getLatestValue(this.userInfo.roomId,KM.STREAM_TYPE_MAIN,"".concat(UP,"_").concat(r.upstream.ssrc),"packetsSent"))){continue}const e={resolutionId:r.resolutionId,content:r.upstream.content,streamUid:r.upstream.streamUid,ssrc:r.upstream.ssrc,mute:r.upstream.mute,width:0,height:0};this.resolutionChangeInfo.preVideoHeight.has(e.resolutionId)||this.resolutionChangeInfo.preVideoHeight.set(e.resolutionId,i.getVideoHeight(e.resolutionId));let o=!1;n?(e.height=JL.getLatestValue(this.userInfo.roomId,KM.STREAM_TYPE_AUX,"".concat(UP,"_").concat(e.ssrc),"frameHeight"),e.width=JL.getLatestValue(this.userInfo.roomId,KM.STREAM_TYPE_AUX,"".concat(UP,"_").concat(e.ssrc),"frameWidth")):(e.height=JL.getLatestValue(this.userInfo.roomId,KM.STREAM_TYPE_MAIN,"".concat(UP,"_").concat(e.ssrc),"frameHeight"),e.width=JL.getLatestValue(this.userInfo.roomId,KM.STREAM_TYPE_MAIN,"".concat(UP,"_").concat(e.ssrc),"frameWidth")),o=Math.abs(this.resolutionChangeInfo.preVideoHeight.get(e.resolutionId)-e.height)/this.resolutionChangeInfo.preVideoHeight.get(e.resolutionId)>.1,o&&(t.videoStreams.push(e),this.resolutionChangeInfo.preVideoHeight.set(e.resolutionId,e.height))}t.videoStreams.length>0&&await this.signal.changeStreamStatus(t)}),5e3)}catch(e){throw this.logger.error(QU,"startStreamResolutionDetection, occur error: ".concat(e)),e}}}},{key:"stopStreamResolutionDetection",value:function e(t){var r;if(!t){return clearInterval(this.resolutionChangeInfo.mainResolutionChangeTimer),this.resolutionChangeInfo.mainResolutionChangeTimer=null,clearInterval(this.resolutionChangeInfo.auxResolutionChangeTimer),this.resolutionChangeInfo.auxResolutionChangeTimer=null,void this.resolutionChangeInfo.preVideoHeight.clear()}t.isAuxiliary()?(clearInterval(this.resolutionChangeInfo.auxResolutionChangeTimer),this.resolutionChangeInfo.auxResolutionChangeTimer=null):(clearInterval(this.resolutionChangeInfo.mainResolutionChangeTimer),this.resolutionChangeInfo.mainResolutionChangeTimer=null),null===(r=t.getStreamInfo().videoProfiles)||void 0===r||r.forEach((e=>this.resolutionChangeInfo.preVideoHeight.delete(e.resolutionId)))}},{key:"updateStreamTracks",value:async function e(t,r){if(!t){return}const n=t.isAuxiliary();r.tracks2UnPublish&&0!==r.tracks2UnPublish.length||r.tracks2NewPublish&&0!==r.tracks2NewPublish.length?n?await this.updateAuxStreamTrack(t,r):await this.updateMainStreamTrack(t,r):this.logger.info(QU,"update ".concat(n?"aux":"main"," streamTracks, no new publish and unpublish, so no need update sdp"))}},{key:"updateMainStreamTrack",value:async function e(t,r){const n=r.tracks2UnPublish.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)),i=this.removeTracksWhenPublish(n),o=r.tracks2UnPublish.filter((e=>e.type===YM.TRACK_TYPE_AUDIO)),a=this.removeTracksWhenPublish(o),s=a.length>0?a[0]:null,u=r.tracks2NewPublish.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)),c=await this.addVideoTracksWhenPublish(t,u),l=r.tracks2NewPublish.filter((e=>e.type===YM.TRACK_TYPE_AUDIO)),f=await this.addAudioTrackWhenPublish(t,l),d=r.tracks2KeepPublish.filter((e=>e.type===YM.TRACK_TYPE_AUDIO)),h=this.getKeepAudioTrackSsrcSender(d),p=r.tracks2KeepPublish.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)),v=this.getKeepVideoTracksSsrcSender(p);await this.generateNewOfferSdp(h,f,v,c,i,s),l.length>0&&await this.sendAudioMedia(t,f),u.length>0&&await this.sendVideoMedia(t,c),null==n||n.forEach((e=>{this.streamPublishManager.unPublishTrackSuccess(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_VIDEO,e.upstream.streamUid.toString())})),null==o||o.forEach((e=>{this.streamPublishManager.unPublishTrackSuccess(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_AUDIO,e.upstream.streamUid.toString())}))}},{key:"updateAuxStreamTrack",value:async function e(t,r){if(r.tracks2NewPublish&&r.tracks2NewPublish.length>0){const e=r.tracks2NewPublish&&r.tracks2NewPublish.filter((e=>e.type===YM.TRACK_TYPE_VIDEO))[0].ssrc,n=await this.connectionsManager.addTrack(KM.STREAM_TYPE_AUX,t.getVideoTrack(),t.getMediaStream());await this.connectionsManager.modifyPublishOfferSdp(KM.STREAM_TYPE_AUX,this.userInfo.userId,[e]),this.logger.info(QU,"aux send bitrate ".concat(t.getScreenSendBitrate())),await this.setSendBitrate(n,t.getScreenSendBitrate(),"auxVideo"),this.streamPublishManager.publishAuxVideoTrackOK(n,e);const i=this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_AUX);i&&(i.off(wP,this.addLocalAuxStreamEndedHandler.bind(this)),i.on(wP,this.addLocalAuxStreamEndedHandler.bind(this))),await t.resumeMixScreenAudio()}else{const e=r.tracks2UnPublish;let n=0;e.forEach((e=>{n=e.ssrc,this.connectionsManager.removeTrack(KM.STREAM_TYPE_AUX,e.sender)})),await this.connectionsManager.modifyPublishOfferSdp(KM.STREAM_TYPE_AUX,this.userInfo.userId,[],0,[n]),await t.stopMixScreenAudio()}}},{key:"sendAudioMedia",value:async function e(t,r){if(r){try{await this.setSendBitrate(r.sender,t.getAudioSendBitrate(),"audio"),this.streamPublishManager.publishMainAudioTrackOK(r.sender,r.ssrc),this.logger.info(QU,"sendAudioMedia, send audio media successfully")}catch(e){throw this.logger.error(QU,"sendAudioMedia, occur error: ".concat(e)),e}}}},{key:"sendVideoMedia",value:async function e(t,r){if(0!==r.length){try{const e=[];r.forEach((r=>{e.push(this.setSendBitrate(r.sender,t.getVideoMaxSendBitrate(r.resolutionId),"mainVideo"))})),await Promise.all(e).then((()=>{r.forEach((e=>{this.streamPublishManager.publishMainVideoTrackOK(e.sender,e.ssrc,e.streamId)}))})),this.logger.info(QU,"sendVideoMedia, send video media successfully")}catch(e){throw this.logger.error(QU,"sendVideoMedia, occur error: ".concat(e)),e}}}},{key:"generateNewOfferSdp",value:async function e(t,r,n,i,o,a){try{const e=[];n.forEach((t=>e.push(t.ssrc))),i.forEach((t=>e.push(t.ssrc)));const s=r?r.ssrc:t?t.ssrc:null,u=[];o.forEach((e=>u.push(e.ssrc)));const c=a?a.ssrc:null,l=await this.connectionsManager.modifyPublishOfferSdp(KM.STREAM_TYPE_MAIN,this.userInfo.userId,e,s,u,c);return this.logger.info(QU,"generateNewOfferSdp successfully"),l}catch(e){throw this.logger.error(QU,"generateNewOfferSdp, occur error: ".concat(e)),e}}},{key:"sendPublishReq",value:async function e(t){try{const e=[];t.forEach((t=>{e.push(t.upstream),this.logger.info(QU,"prepare to send publish req, streamId:".concat(t.upstream.streamUid))})),await this.signal.publish(e),this.logger.info(QU,"sendPublishReq successfully")}catch(e){throw this.logger.error(QU,"sendPublishReq, occur error: ".concat(e)),e}}},{key:"addVideoTracksWhenPublish",value:async function e(t,r){if(0===r.length){return[]}try{const e=[];for(const n of r){const r=t.getVideoTrack(n.resolutionId),i=n.ssrc,o=await this.connectionsManager.addTrack(KM.STREAM_TYPE_MAIN,r,t.getMediaStream(),i);e.push({ssrc:i,sender:o,streamId:n.upstream.streamUid.toString(),resolutionId:n.resolutionId}),this.logger.info(QU,"addVideoTracksWhenPublish, add video track of resolutionId:".concat(n.resolutionId,",")+"physical track id:".concat(r.id,", streamId: ").concat(n.upstream.streamUid," with ssrc: ").concat(i," to connection successfully"))}return e}catch(e){throw this.logger.error(QU,"addVideoTracksWhenPublish, occur error: ".concat(e)),e}}},{key:"addAudioTrackWhenPublish",value:async function e(t,r){if(0===r.length){return null}try{const e=t.getPublishAudioTrack(),n=r[0].ssrc,i={ssrc:n,sender:await this.connectionsManager.addTrack(KM.STREAM_TYPE_MAIN,e,t.getMediaStream()),streamId:r[0].upstream.streamUid.toString(),resolutionId:null};return this.logger.info(QU,"addAudioTrackWhenPublish, add audio track for streamId: ".concat(r[0].upstream.streamUid,",")+"physical track id:".concat(null==e?void 0:e.id," to connection successfully")),i}catch(e){throw this.logger.error(QU,"addAudioTrackWhenPublish, occur error: ".concat(e)),e}}},{key:"removeTracksWhenPublish",value:function e(t){if(0===t.length){return[]}try{const e=[];return t.forEach((t=>{this.connectionsManager.removeTrack(KM.STREAM_TYPE_MAIN,t.sender),e.push({ssrc:t.ssrc,sender:t.sender,streamId:t.upstream.streamUid.toString(),resolutionId:t.resolutionId}),this.logger.info(QU,"removeTracksWhenPublish, remove ".concat(t.type," track for streamId: ").concat(t.upstream.streamUid," to connection successfully"))})),e}catch(e){throw this.logger.error(QU,"removeTracksWhenPublish, occur error: ".concat(e)),e}}},{key:"getKeepAudioTrackSsrcSender",value:function e(t){const r=[];return t.forEach((e=>{r.push({ssrc:e.ssrc,sender:e.sender,streamId:e.upstream.streamUid.toString(),resolutionId:e.resolutionId})})),r.length>0?r[0]:null}},{key:"getKeepVideoTracksSsrcSender",value:function e(t){const r=[];return t.forEach((e=>{r.push({ssrc:e.ssrc,sender:e.sender,streamId:e.upstream.streamUid.toString(),resolutionId:e.resolutionId})})),r}},{key:"buildSendMediaStreamInfo",value:function e(t,r){switch(t){case GP.Aux:{const e=this.streamPublishManager.generateAuxOptTag();e&&this.stat.reportStartSendMediaStream(gM.AUX,e);break}case GP.Video:{const e=this.streamPublishManager.generateMainVideoOptTags();e&&e.length>0&&e.forEach((e=>{r.find((t=>-1!=e.indexOf("".concat(t))))&&this.stat.reportStartSendMediaStream(gM.VIDEO,e)}));break}case GP.Audio:{const e=this.streamPublishManager.generateMainAudioOptTag();e&&this.stat.reportStartSendMediaStream(gM.AUDIO,e);break}}}},{key:"unpublish",value:async function e(t){try{return await this.unpublishImpl(t),t.isAuxiliary()&&this.stat.reportAuxiliaryStreamShareInfo(hM.ACTION_STOP,pM.RESULT_SUCCESS),void this.stopStreamResolutionDetection(t)}catch(e){throw t.isAuxiliary()&&this.stat.reportAuxiliaryStreamShareInfo(hM.ACTION_STOP,pM.RESULT_ERROR),e}}},{key:"unpublishImpl",value:async function e(t){if(this.userInfo.role===ON){throw this.logger.error(QU,"the player role can not unpublish stream"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"the player role can not unpublish stream")}if(!t){throw this.logger.error(QU,"stream is null"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}if("local"!==t.getType()){throw this.logger.error(QU,"stream type: ".concat(t.getType()," cannot unpublish")),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"stream type: ".concat(t.getType()," cannot unpublish"))}try{await this.locker.lock("".concat(QU,":unpublishImpl")),await this.unPublishStream(t)}finally{this.locker.unlock("".concat(QU,":unpublishImpl"))}}},{key:"unPublishStream",value:async function e(t){await this.unpublishSteamAndSignalIfNeed(t,this.sendPublishRequest.bind(this))}},{key:"unpublishSteamAndSignalIfNeed",value:async function e(t,r){const n=t.isAuxiliary(),i=n?"aux":"main";try{this.logger.info(QU,"unpublish ".concat(i," stream:").concat(t.getId()));const e=t,o=this.streamPublishManager.generatePubInfoWhenUnPublish(e);r&&await r(o.allTracks2Publish),await this.startStreamResolutionDetection(e),await this.updateStreamTracks(e,o),e.removeClient(this),n?this.streamPublishManager.unPublishAuxStreamOK():this.streamPublishManager.unPublishMainStreamOK(),this.logger.info(QU,"unpublish ".concat(i,"stream success: ").concat(t.getId()))}catch(e){throw this.logger.error(QU,"unpublish ".concat(i," stream, ").concat(t.getId()," occur error: ").concat(e)),e}}},{key:"rejoinPublishStreams",value:async function e(t){let r=[];for(const e of t){this.logger.info(QU,"rejoin publish ".concat(e.isAuxiliary()?"aux":"main"," stream"));const t=e;t.removeClient(this),this.validatePublishRequest(e);const n=this.streamPublishManager.generatePubInfoWhenPublish(t);await this.updateStreamTracks(t,n),t.addClient(this),r=[...r,...n.allTracks2Publish]}r=[...new Set(r)],await this.sendPublishRequest(r);for(const e of t){const t=e;await this.startStreamResolutionDetection(t)}}},{key:"addLocalAuxStreamEndedHandler",value:function e(t){this.streamPublishManager.isAuxVideoTrackValid(t)&&this.unpublish(this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_AUX))}},{key:"subscribeAudio",value:async function e(t){return await this.subscribeAudioImpl(t)}},{key:"subscribeAudioImpl",value:async function e(t){if(!t){throw this.logger.error(QU,"subscribeAudioImpl, userId is null"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"userId is null")}const r=new IN({type:"main",log:this.logger,userId:t,client:this,roomId:this.roomId});this.logger.info(QU,"subscribeAudioImpl begin, userId:".concat(t)),await this.subscribeImpl(r,{audio:!0,video:!1});const n=this.remoteUserManager.getUserInfoById(t,this.roomId);if(n){let e=!1;for(const t of null===(i=n.mainStream.remoteTrackInfos)||void 0===i?void 0:i.values()){var i;if(t.type===YM.TRACK_TYPE_AUDIO&&t.isSubscribed){e=!0;break}}if(e){return n.mainStream.remoteStream}}}},{key:"unSubscribeAudio",value:async function e(t){return await this.unSubscribeAudioImpl(t)}},{key:"unSubscribeAudioImpl",value:async function e(t){if(!t){throw this.logger.error(QU,"unSubscribeAudioImpl, userId is null"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"userId is null")}const r=new IN({type:"main",log:this.logger,userId:t,client:this,roomId:this.roomId});this.logger.info(QU,"unSubscribeAudioImpl begin, userId:".concat(t)),await this.unsubscribeImpl(r,{audio:!0,video:!1})}},{key:"startupQoSReportPlay",value:function e(t,r){const n=this.startupQoSMap.get(t);if(n){const e={timestamp:n.start,traceId:n.traceId,spanId:"0.1.1",originIntfName:n.interfaceName,interfaceName:"play",source:"",target:"",resultCode:"",successFlag:"T",duration:r-n.start,async:"N",extendInfo:JSON.stringify({id:n.id,streamIds:n.streamIds})};this.stat.setFirstFrameInfo(e),n.start=r,n.interfaceName="play"}}},{key:"startupQoSReportCanPlay",value:function e(t){const r=yC.getCurrentTimestamp(),n=(null==t?void 0:t.id)&&this.startupQoSMap.get(null==t?void 0:t.id);if(n){const e={timestamp:n.start,traceId:n.traceId,spanId:"0.1.1.1",originIntfName:n.interfaceName,interfaceName:"canplay",source:"",target:"",resultCode:"",successFlag:"T",duration:r-n.start,async:"N",extendInfo:JSON.stringify({id:n.id,streamIds:n.streamIds})};this.stat.setFirstFrameInfo(e)}}},{key:"subscribe",value:async function e(t,r){return await this.subscribeImpl(t,r)}},{key:"subscribeImpl",value:async function e(t,r){if(this.roomStreamStatus.audience===lM.PAUSE&&this.userInfo.role===ON){throw this.logger.error(QU,"subscribeImpl, room stream status is pause"),new oc(nc.RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED,"room stream status is ".concat(this.roomStreamStatus.audience))}const n=yC.getCurrentTimestamp(),i={traceId:yC.generateRandomId(32,16),spanId:"0",originIntfName:"",interfaceName:"subscribe",id:t.getUniqueId(),start:n};if(!t){throw this.logger.error(QU,"subscribeImpl, stream is null"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"stream is null")}if(r||(r={video:!0,audio:!0}),r.audio||r.video){if(r.video&&![nM.ON,nM.OFF,null,void 0].includes(r.autoAdjustResolution)){throw this.logger.error(QU,"the autoAdjustResolution value must be 1 or 2 or empty."),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}await this.doSubscribe(t,r,i)}}},{key:"doSubscribe",value:async function e(t,r,n){if(this.connectState.curState!==VP[WP.CONNECTED]){throw this.logger.error(QU,"cannot do subscribe when network disconnected"),new oc(nc.RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED)}const i=t.getUserId(),o=t.isAuxiliary()?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN;this.logger.info(QU,"start subscribe, ".concat(i,", ").concat(o,", option: ").concat(JSON.stringify(r))),this.audioPolicy!==qM.USER_SUBSCRIBE_AUDIOPOLICY&&r.audio&&this.logger.info(QU,"doSubscribe, ".concat(this.audioPolicy," is not common audio mode, but audio option is true, reserve it"));try{await this.locker.lock("".concat(QU,":doSubscribe"));const e=this.remoteUserManager.subscribeStream(i,this.roomId,o,r,this.audioPolicy,!1,n);return await this.updateSubscribe(e,n)}catch(e){throw this.logger.error(QU,"subscribe release lock, subscribe userId ".concat(t.getUserId()," occur error ").concat(e)),e}finally{this.locker.unlock("".concat(QU,":doSubscribe"))}}},{key:"batchSubscribe",value:async function e(t){return await this.doBatchSubscribe(t)}},{key:"checkSubscribeParams",value:function e(t){t.forEach((e=>{if(![nM.OFF,nM.ON,null,void 0].includes(e.autoAdjustResolution)){throw this.logger.error(QU,"the autoAdjustResolution value must be 1 or 2"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}if(!["FHD","HD","SD","LD",null,void 0].includes(e.minResolution)){throw this.logger.error(QU,"the minResolution value must be 'FHD','HD','SD','LD'"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}}))}},{key:"doBatchSubscribe",value:async function e(t){this.logger.info(QU,"doBatchSubscribe, subscribeInfos:  ".concat(JSON.stringify(t)));try{this.checkSubscribeParams(t);const e=t.map((e=>({userId:e.userId,resolutionIds:e.resolutionIds,autoAdjustResolution:e.autoAdjustResolution,minResolution:e.minResolution})));await this.locker.lock("".concat(QU,":doBatchSubscribe"));const r=this.remoteUserManager.batchSubscribeMainStream(this.roomId,e);await this.updateSubscribe(r)}catch(e){throw this.logger.error(QU,"batchSubscribe failed, ".concat(e)),e}finally{this.locker.unlock("".concat(QU,":doBatchSubscribe"))}}},{key:"batchDeleteUnusedSsrcInSdp",value:async function e(t,r,n){(r&&0!==r.length||n&&0!==n.length)&&(this.logger.info(QU,"batchDeleteUnusedSsrcInSdp, streamType: ".concat(t,", videoSsrc2Del: ").concat(r,", audioSsrc2Del:").concat(n)),await this.connectionsManager.deleteUser(t,r,n))}},{key:"enableStreamStateDetection",value:async function e(t,r){if(this.status!==eM.Joined){throw this.logger.error(QU,"cannot enable stream detection before join room"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"cannot enable stream detection before join room")}if(!t){return clearTimeout(this.streamInterruptedDetectInterval),this.streamInterruptedDetectInterval=null,this.lastCycleFrameDecodedMap.clear(),void this.streamInterruptedUsersMap.clear()}if(!Number.isInteger(r)||r<1||r>60){throw this.logger.error(QU,"invalid interval for enable stream detection"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}if(t&&this.streamInterruptedDetectInterval){throw this.logger.error(QU,"cannot double enable stream detection"),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"cannot double enable stream detection")}if(this.streamDetectionCriterion=r,this.lastCycleFrameDecodedMap&&0===this.lastCycleFrameDecodedMap.size){this.remoteUserManager.getAllUserStreamsByType(this.roomId,null,null).forEach((e=>{const t=e.userId;e.mainStream&&this.lastCycleFrameDecodedMap.set(t+",0",{userId:t,decodedFrame:0}),e.auxStream&&this.lastCycleFrameDecodedMap.set(t+",1",{userId:t,decodedFrame:0})}))}await this.startStreamDetection()}},{key:"startStreamDetection",value:async function e(){if(!this.streamInterruptedDetectInterval){const e=1e3,t=()=>{this.streamInterruptedDetectInterval=setTimeout((async()=>{const r=await this.stat.collectReceiverDecodedFrameMap(),n=[],i=[],o=Math.round(1e3*this.streamDetectionCriterion/e);this.streamInterruptedUsersMap.forEach(((e,t)=>{r.has(t)||this.streamInterruptedUsersMap.delete(t)})),r.forEach(((e,t)=>{const r=this.lastCycleFrameDecodedMap&&this.lastCycleFrameDecodedMap.get(t);if(r&&r.decodedFrame===e.decodedFrame){const e=this.streamInterruptedUsersMap.get(t);e?this.streamInterruptedUsersMap.set(t,e+1):this.streamInterruptedUsersMap.set(t,1)}if(r&&r.decodedFrame!==e.decodedFrame){if(this.streamInterruptedUsersMap.get(t)>=o){const r=t.split(",");r[0]!==XP&&i.push({userId:r[0],isScreen:e.isAux})}this.streamInterruptedUsersMap.delete(t)}})),this.lastCycleFrameDecodedMap=r,this.streamInterruptedUsersMap&&this.streamInterruptedUsersMap.forEach(((e,t)=>{if(e===o){const e=t.split(",");e[0]!==XP&&(n.push({userId:e[0],isScreen:"1"===e[1]}),this.logger.info(QU,"stream interrupted, userId: ".concat(e[0],", isAux: ").concat(e[1])))}})),n.length>0&&this.connectState.curState===VP[WP.CONNECTED]&&(this.logger.info(QU,"find stream interrupted users, ".concat(JSON.stringify(n))),this.eventEmitter.emit(oM.StreamInterrupted,n)),i.length>0&&this.connectState.curState===VP[WP.CONNECTED]&&(this.logger.info(QU,"find stream recovered users, ".concat(JSON.stringify(i))),this.eventEmitter.emit(oM.StreamRecovered,i)),t()}),e)};t()}}},{key:"unsubscribe",value:async function e(t,r){return await this.unsubscribeImpl(t,r)}},{key:"unsubscribeImpl",value:async function e(t,r){if(this.logger.info(QU,"start unsubscribe"),this.roomStreamStatus.audience===lM.PAUSE&&this.userInfo.role===ON){throw this.logger.error(QU,"unsubscribeImpl, room stream status is pause"),new oc(nc.RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED,"room stream status is ".concat(this.roomStreamStatus.audience))}if(this.connectState.curState!==VP[WP.CONNECTED]){throw this.logger.error(QU,"cannot do subscribe when network disconnected"),new oc(nc.RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED)}if(!t){throw this.logger.error(QU,"stream is null"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"stream is null")}const n=t.getUserId(),i=t.isAuxiliary()?KM.STREAM_TYPE_AUX:KM.STREAM_TYPE_MAIN;this.logger.info(QU,"start doUnsubscribe, ".concat(n,", ").concat(i,", option: ").concat(JSON.stringify(r)));try{const e=r||{video:!0,audio:!0};await this.locker.lock("".concat(QU,":doUnsubscribe"));const t=this.remoteUserManager.unsubscribeStream(n,this.roomId,i,e);await this.updateSubscribe(t)}catch(e){throw this.logger.error(QU,"subscribe userId ".concat(t.getUserId()," occur error ").concat(e)),e}finally{this.locker.unlock("".concat(QU,":doUnsubscribe"))}}},{key:"switchRole",value:async function e(t,r){return await this.switchRoleImpl(t,r)}},{key:"switchRoleImpl",value:async function e(t,r){if(this.logger.info(QU,"switchRole from ".concat(this.userInfo.role," to ").concat(t)),this.status!==eM.Joined&&this.status!==eM.Rejoining){throw new oc(nc.RTC_ERR_CODE_STATUS_ERROR)}if(this.userInfo.role===t){throw this.logger.error(QU,"new role same with old role, no need switch."),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"new role same with old role, no need switch.")}Zj.switchRoleParamsCheck(this,t,r);try{if(await this.locker.lock("".concat(QU,":_switchRoleImpl")),this.userInfo.role===kN&&t===ON&&(this.streamPublishManager.isMainStreamPublished()&&await this.unpublishSteamAndSignalIfNeed(this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_MAIN)),this.streamPublishManager.isAuxVideoTrackPublished()&&await this.unpublishSteamAndSignalIfNeed(this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_AUX))),!(r&&r.ctime&&r.signature)){throw this.logger.error(QU,"authorization is incomplete, please have the correct authorization parameter"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"switchRole authorization parameter is invalid.")}{const e=DN.renewSignature(this.identifiedID_,r.ctime,r.signature);this.signal.refreshUserInfo(e)}const e=await this.signal.switchRole(t,r);this.logger.debug(QU,"swithRole resp: ".concat(JSON.stringify(e))),this.userInfo.role===ON&&t===kN&&(this.stat.getMediaStat().setLocalMainStreamInfo(this.userInfo.userId,this.streamPublishManager.getPublishedMainStreamInfos()),this.stat.getMediaStat().setLocalAuxsStreamInfo(this.userInfo.userId,this.streamPublishManager.getPublishedAuxStreamInfo())),this.userInfo.role=t,t===kN&&this.roomStreamStatus.audience===lM.PAUSE&&await this.handleRoomStreamStatus(lM.NORMAL,qM.TOPN_AUDIOPOLICY===this.audioPolicy,!0),this.stat.reportSwitchRoleInfo(t,yM),this.locker.unlock("".concat(QU,":_switchRoleImpl")),this.logger.info(QU,"switchRole success")}catch(e){throw this.locker.unlock("".concat(QU,":_switchRoleImpl")),this.logger.error(QU,"switchRole  switchRole failed, errMsg = ".concat(e)),this.stat.reportSwitchRoleInfo(t,_M),e}}},{key:"getPublishAudioSender",value:function e(){var t;return null===(t=this.streamPublishManager.getPublishedMainAudioTrackInfo())||void 0===t?void 0:t.sender}},{key:"getPublishedMainAudioTrackInfo",value:function e(){return this.streamPublishManager.getPublishedMainAudioTrackInfo()}},{key:"getPublishedMainVideoTrackInfos",value:function e(){return this.streamPublishManager.getPublishedMainVideoTrackInfos()}},{key:"getPublishVideoSender",value:function e(t){if(t===KM.STREAM_TYPE_AUX){const e=this.streamPublishManager.getPublishedAuxVideoTrackInfo();if(e){return[e.sender]}}const r=[];return this.streamPublishManager.getPublishedMainVideoTrackInfos().forEach((e=>{r.push(e.sender)})),r}},{key:"getMainStreamSenderByTrack",value:function e(t){if(!t){return null}const r=this.streamPublishManager.getPublishedMainVideoTrackInfos().find((e=>e.upstream.streamUid.toString()===t));return null==r?void 0:r.sender}},{key:"waitForTrackBatch",value:async function e(t){const r=t.map((e=>{var t,r;return(null===(t=e.mainStream)||void 0===t||null===(r=t.tracks)||void 0===r?void 0:r.length)>0?1:0})).reduce(((e,t)=>e+t),0),n=t.map((e=>{var t,r;return(null===(t=e.auxStream)||void 0===t||null===(r=t.tracks)||void 0===r?void 0:r.length)>0?1:0})).reduce(((e,t)=>e+t),0);this.logger.debug(QU,"wait for track batch begin, mainStreamCount:".concat(r,", auxStreamCount:").concat(n,"  "));for(let e=0;e<100;e++){if(this.computeSucceedStreamCount(KM.STREAM_TYPE_MAIN,r,t)+this.computeSucceedStreamCount(KM.STREAM_TYPE_AUX,n,t)===r+n){break}if(99===e){return void this.logger.error(QU,"waitForTrackBatch subscribe on track timeout")}await yC.sleep(50)}}},{key:"computeSucceedStreamCount",value:function e(t,r,n){let i=0;return r&&(i=n.map((e=>this.isStreamTrackReady(t,e)?1:0)).reduce(((e,t)=>e+t),0)),i}},{key:"newSignal",value:function e(t){this.signal||(this.signal=new ij(this.clientConfig.appId,t,this))}},{key:"negTransportChannelHandler",value:async function e(r,i,o,a){if(this.cmdMsgAbility.enable){if(r.sdp.cmd){var s,u;if(a){return n(t,"off",this,3)([oM.CmdChannelDisconnect]),AC.getLogger().debug(QU,"negTransportChannelHandler init command channel of datachannel."),null===(s=this.cmdMsgAbility.cmdManager)||void 0===s||s.reset(),this.cmdMsgAbility.cmdManager=new lU(this.eventEmitter,this.remoteUserManager),null===(u=this.cmdMsgAbility.cmdManager)||void 0===u||u.setCommandChannelParams(this.roomId,{tranportOptions:{userUid:r.userUid,sendSsrc:r.sdp.cmd.sendSsrc,receiveSsrc:r.sdp.cmd.receiveSsrc,payload:r.sdp.cmd.pt},dataChannelOptions:{connection:this.connectionsManager.getConnection(KM.STREAM_TYPE_MAIN)},msgFormat:this.cmdMsgAbility.msgFormat}),await this.connectionsManager.refreshOffer(KM.STREAM_TYPE_MAIN),void(i&&o&&n(t,"on",this,3)([oM.CmdChannelDisconnect,e=>{e===uM.DATA_CHANNEL&&(AC.getLogger().debug(QU,"negTransportChannelHandler downgrade to webocket command channel."),this.websocketChannelInit(r,i,o))},!1]))}i&&o&&(AC.getLogger().debug(QU,"negTransportChannelHandler init webocket command channel."),this.websocketChannelInit(r,i,o))}else{AC.getLogger().error(QU,"negTransportChannelHandler error, cmd signal info missing.")}}}},{key:"websocketChannelInit",value:function e(t,r,n){var i;null===(i=this.cmdMsgAbility.cmdManager)||void 0===i||i.reset(),this.cmdMsgAbility.cmdManager=new sU(this.eventEmitter,this.remoteUserManager),this.cmdMsgAbility.cmdManager.setCommandChannelParams(this.roomId,{tranportOptions:{userUid:t.userUid,sendSsrc:t.sdp.cmd.sendSsrc,receiveSsrc:t.sdp.cmd.receiveSsrc,payload:t.sdp.cmd.pt},wsOptions:{bindCryptoKey:r,wsUrl:n,wsDomain:t.sdp.domain},msgFormat:this.cmdMsgAbility.msgFormat})}},{key:"onTrackHandler",value:function e(t,r){if(this.logger.info(QU,"peerconnection ontrack event: ".concat(t.track.kind)),t.track.kind===YM.TRACK_TYPE_VIDEO||this.audioPolicy===qM.USER_SUBSCRIBE_AUDIOPOLICY&&t.track.kind===YM.TRACK_TYPE_AUDIO){var n,i;let e=t.streams[0].id;const a=this.remoteUserManager.getUserInfoByStreamId(this.roomId,e),s=r?null==a||null===(n=a.auxStream)||void 0===n?void 0:n.remoteStream:null==a||null===(i=a.mainStream)||void 0===i?void 0:i.remoteStream;var o;if(s){this.logger.info(QU,"connection.ontrack streamId=".concat(e,", hasAudio:").concat(s.hasAudioTrack()," hasVideo:").concat(s.hasVideoTrack())),null!==(o=zL.getParameter(NL))&&void 0!==o&&!o||t.track.kind!==YM.TRACK_TYPE_VIDEO||(e=this.connectionsManager.getTrackId(e,t.transceiver.mid)),s.addRemoteTrack(t.track,e)}else{this.logger.info(QU,"ontrack stream: ".concat(e,"  is not existed"))}}this.logger.info("onConnection","audio policy:".concat(this.audioPolicy,",track kind:").concat(t.track.kind)),this.audioPolicy===qM.TOPN_AUDIOPOLICY&&t.track.kind===YM.TRACK_TYPE_AUDIO&&this.saveAudioStream4TopN(t)}},{key:"updateSubscribe",value:async function e(r,n,i){if(this.connectState.curState!==VP[WP.CONNECTED]){throw this.logger.error(QU,"cannot do subscribe or unSubscribe when network disconnected"),new oc(nc.RTC_ERR_CODE_WEBSOCKET_NOT_CONNECTED)}if(!r||0===r.length){return null}if(!t.isSubscriptionChange(r)){return this.logger.info(QU,"no need update subscription"),null}try{const e={successSubscribeInfos:[],failSubscribeInfos:[],successUnsubscribeInfos:[],failUnsubscribeInfos:[]};await this.modifyBrowerSdp(r,e);const t={successSubscribeInfos:[],failSubscribeInfos:[],successUnsubscribeInfos:[],failUnsubscribeInfos:[]};!i&&await this.subscribeSignal(r,t,n),this.clearResource(r);const o=await this.handleRemoteStreamsState(t.successSubscribeInfos),a={successSubscribeInfos:[],failSubscribeInfos:[],successUnsubscribeInfos:[],failUnsubscribeInfos:[]};return(null==o?void 0:o.successSubscribeInfos)&&a.successSubscribeInfos.push(...o.successSubscribeInfos),(null==o?void 0:o.failSubscribeInfos)&&a.failSubscribeInfos.push(...o.failSubscribeInfos),(null==t?void 0:t.failSubscribeInfos)&&a.failSubscribeInfos.push(...t.failSubscribeInfos),(null==t?void 0:t.successUnsubscribeInfos)&&a.successUnsubscribeInfos.push(...t.successUnsubscribeInfos),(null==t?void 0:t.failUnsubscribeInfos)&&a.failUnsubscribeInfos.push(...t.failUnsubscribeInfos),await this.rollbackResource(a.failSubscribeInfos),this.remoteUserManager.subscribeResultCallback(a,!1),this.logger.info(QU,"updateSubscribe end. ".concat(this.getSubscribeResultString(a))),a}catch(e){this.logger.error(QU,"updateSubscribe fail. errMsg:".concat(e));const t=this.getSubscribeExceptionResult(r);throw await this.rollbackResource(t.failSubscribeInfos),this.remoteUserManager.subscribeResultCallback(t,!0),this.logger.info(QU,"updateSubscribe fail end. ".concat(this.getSubscribeResultString(t))),e}}},{key:"modifyBrowerSdp",value:function e(r,n){const i=this.buildSubsReq(r,n),o=t.getUserUpdateInfos(i.joinUserUpdateInfos),a=this.buildDefaultSubsRep(i);this.getSubscribeResult(o,a.videoUpstreams,a.audioUpstreams,n,!1);const s=[],u=[],c=[],l=[];n.successUnsubscribeInfos.forEach((e=>{var t,r,n,i;null===(t=e.mainStream)||void 0===t||null===(r=t.tracks)||void 0===r||r.forEach((e=>{e.type===YM.TRACK_TYPE_VIDEO?s.push(e.cssrc):c.push(e.cssrc)})),null===(n=e.auxStream)||void 0===n||null===(i=n.tracks)||void 0===i||i.forEach((e=>{e.type===YM.TRACK_TYPE_VIDEO?u.push(e.cssrc):l.push(e.cssrc)}))}));const f=[];return f.push(this.generateReceiveSdp(KM.STREAM_TYPE_MAIN,n.successSubscribeInfos,s,c)),f.push(this.generateReceiveSdp(KM.STREAM_TYPE_AUX,n.successSubscribeInfos,u,l)),Promise.all(f)}},{key:"getSubscribeExceptionResult",value:function e(t){const r={successSubscribeInfos:[],failSubscribeInfos:[],successUnsubscribeInfos:[],failUnsubscribeInfos:[]};return t.forEach((e=>{var t,n,i,o,a,s,u,c;const l={userId:e.userInfo.userId,roomId:this.roomId,mainStream:{remoteStream:null===(t=e.mainStream)||void 0===t?void 0:t.remoteStream,tracks:null===(n=e.mainStream)||void 0===n?void 0:n.tracks4Subscribe},auxStream:{remoteStream:null===(i=e.auxStream)||void 0===i?void 0:i.remoteStream,tracks:null===(o=e.auxStream)||void 0===o?void 0:o.tracks4Subscribe}},f={userId:e.userInfo.userId,roomId:this.roomId,mainStream:{remoteStream:null===(a=e.mainStream)||void 0===a?void 0:a.remoteStream,tracks:null===(s=e.mainStream)||void 0===s?void 0:s.tracks4Unsubscribe},auxStream:{remoteStream:null===(u=e.auxStream)||void 0===u?void 0:u.remoteStream,tracks:null===(c=e.auxStream)||void 0===c?void 0:c.tracks4Unsubscribe}};this.appendSubscribeResult(r.failSubscribeInfos,l),this.appendSubscribeResult(r.failUnsubscribeInfos,f)})),this.logger.info(QU,"getSubscribeExceptionResult. ".concat(this.getSubscribeResultString(r))),r}},{key:"getSubscribeResultString",value:function e(t){var r,n,i,o;let a;return null==t||null===(r=t.successSubscribeInfos)||void 0===r||r.forEach((e=>{a="".concat(a||""," subscribe success list: ").concat(this.getRemoteUserSubscribeInfoString(e),", ")})),null==t||null===(n=t.failSubscribeInfos)||void 0===n||n.forEach((e=>{a="".concat(a||""," subscribe failed list: ").concat(this.getRemoteUserSubscribeInfoString(e),",")})),null==t||null===(i=t.successUnsubscribeInfos)||void 0===i||i.forEach((e=>{a="".concat(a||""," unsubscribe success list: ").concat(this.getRemoteUserSubscribeInfoString(e),",")})),null==t||null===(o=t.failUnsubscribeInfos)||void 0===o||o.forEach((e=>{a="".concat(a||""," unsubscribe failed list: ").concat(this.getRemoteUserSubscribeInfoString(e))})),a}},{key:"rollbackResource",value:async function e(t){if(t&&0!==t.length){try{const e=[],r=[],n=[],i=[];t.forEach((t=>{var o,a,s,u;null===(o=t.mainStream)||void 0===o||null===(a=o.tracks)||void 0===a||a.forEach((t=>{t.type===YM.TRACK_TYPE_VIDEO?e.push(t.cssrc):r.push(t.cssrc)})),null===(s=t.auxStream)||void 0===s||null===(u=s.tracks)||void 0===u||u.forEach((e=>{e.type===YM.TRACK_TYPE_VIDEO?n.push(e.cssrc):i.push(e.cssrc)}))})),await this.batchDeleteUnusedSsrcInSdp(KM.STREAM_TYPE_MAIN,e,r),await this.batchDeleteUnusedSsrcInSdp(KM.STREAM_TYPE_AUX,n,i)}catch(e){this.logger.error(QU,"rollbackResource fail, errMsg:".concat(e))}}}},{key:"isNormalStateStream",value:function e(t){const r=t.tracks.filter((e=>e.isTrackReady)),n=t.tracks.filter((e=>e.isTrackReady&&e.state===YL.normal));return r.length&&r.length===n.length}},{key:"handleReadyStream",value:async function e(t,r){var n,i,o,a;t===KM.STREAM_TYPE_MAIN&&(null===(n=r.mainStream)||void 0===n||null===(i=n.tracks)||void 0===i?void 0:i.length)>0?await this.handleReadyStreamByType(r.userId,t,r.mainStream):t===KM.STREAM_TYPE_AUX&&(null===(o=r.auxStream)||void 0===o||null===(a=o.tracks)||void 0===a?void 0:a.length)>0&&await this.handleReadyStreamByType(r.userId,t,r.auxStream)}},{key:"handleReadyStreamByType",value:async function e(t,r,n){this.logger.debug(QU,"handleReadyStreamByType, ".concat(r,", ").concat(JSON.stringify(n.tracks)));try{if(this.isNormalStateStream(n)&&(this.logger.info(QU,"emit ".concat(oM.StreamSubscribed,", userId: ").concat(t,", ").concat(r)),this.eventEmitter.emit(oM.StreamSubscribed,{stream:n.remoteStream}),r===KM.STREAM_TYPE_MAIN)){const e=setTimeout((async()=>{clearTimeout(e),this.reportMediaStatus(t,this.roomId)}),0)}const e=n.tracks.some((e=>e.type===YM.TRACK_TYPE_VIDEO&&e.isTrackReady));for(const t of n.tracks){t.isTrackReady&&await this.handleReadyTrack(t,n.remoteStream,e)}}catch(e){this.logger.error(QU,"handleReadyStreamByType fail, errMsg:".concat(e))}}},{key:"getMediaNotifyInfo",value:function e(t,r){const n=[],i=this.remoteUserManager.getAllUserStreamsByType(r,null,null);return null==i||i.forEach((e=>{if(e.userId!==t){return}const i=e.mainStream,o=null==i?void 0:i.tracks.find((e=>e.type===YM.TRACK_TYPE_AUDIO&&e.isTrackReady));if(o){const e={mediaType:YM.TRACK_TYPE_AUDIO,roomId:r,userId:t,status:o.mute?zP.MediaStatusUnavailable:zP.MediaStatusAvailable,reason:o.mute?YP.MediaUnmuted:YP.MediaMuted};n.push(e)}const a=null==i?void 0:i.tracks.find((e=>e.type===YM.TRACK_TYPE_VIDEO&&e.isTrackReady));if(a){const e={mediaType:YM.TRACK_TYPE_VIDEO,roomId:this.roomId,userId:t,status:a.mute?zP.MediaStatusUnavailable:zP.MediaStatusAvailable,reason:a.mute?YP.MediaUnmuted:YP.MediaMuted};n.push(e)}})),n}},{key:"reportMediaStatus",value:function e(t,r){this.getMediaNotifyInfo(t,r).forEach((e=>{const r=e.mediaType===YM.TRACK_TYPE_AUDIO?e.status===zP.MediaStatusAvailable?"UnmuteAudio":"MuteAudio":e.status===zP.MediaStatusAvailable?"UnmuteVideo":"MuteVideo";this.logger.info(QU,"emit ".concat(oM[r],", userId: ").concat(t,", type: ").concat(e.mediaType,", status: ").concat(e.status)),this.eventEmitter.emit(oM[r],e)}))}},{key:"handleReadyTrack",value:async function e(t,r,n){const i=t.type===YM.TRACK_TYPE_VIDEO||t.type===YM.TRACK_TYPE_AUDIO&&!n,o=[YL.remoteRejoinCache,YL.localRejoin,YL.resolutionChange].includes(t.state);i&&t.playElement&&o&&(this.logger.info(QU,"handleReadyTrack, auto play"),this.logger.info(QU,"video track.muted[".concat(t.muted,"]")),await r.play(t.playElement,{objectFit:t.objectFit,muted:t.muted,resolutionId:t.type===YM.TRACK_TYPE_VIDEO?t.trackId:null}));const a=t.type===YM.TRACK_TYPE_AUDIO,s=[YL.remoteRejoinCache,YL.localRejoin,YL.resolutionChange].includes(t.state);if(a&&t.playElement&&s){this.logger.info(QU,"audio track.muted[".concat(t.muted,"]"));const e=r.getAudioHRTCTrack();t.muted?e.muteTrack():e.unmuteTrack()}}},{key:"handleRemoteStreamsState",value:async function e(r){if(!r||0===r.length){return null}await this.waitForTrackBatch(r),this.logger.info(QU,"handleRemoteTracksState, waitForTrackBatch return");const n=[],i=[];for(const e of r){var o,a,s,u;const r=t.newRemoteUserSubscribeInfo(e.userId,this.roomId,null===(o=e.mainStream)||void 0===o?void 0:o.remoteStream,null===(a=e.auxStream)||void 0===a?void 0:a.remoteStream),c=t.newRemoteUserSubscribeInfo(e.userId,this.roomId,null===(s=e.mainStream)||void 0===s?void 0:s.remoteStream,null===(u=e.auxStream)||void 0===u?void 0:u.remoteStream);await this.handleRemoteStreamsStateByType(e,KM.STREAM_TYPE_MAIN,r,c),await this.handleRemoteStreamsStateByType(e,KM.STREAM_TYPE_AUX,r,c),(r.mainStream.tracks.length||r.auxStream.tracks.length)&&n.push(r),(c.mainStream.tracks.length||c.auxStream.tracks.length)&&i.push(c),this.stat.getMediaStat().setSubscribeInfo(e)}return{successSubscribeInfos:n,failSubscribeInfos:i,successUnsubscribeInfos:null,failUnsubscribeInfos:null}}},{key:"isStreamTrackReady",value:function e(t,r){const n=t===KM.STREAM_TYPE_MAIN?r.mainStream:r.auxStream,i=null==n?void 0:n.remoteStream,o=null!=n&&n.tracks?Array.from(n.tracks.values()):null,a=null==o?void 0:o.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)).map((e=>e.trackId)),s=null==o?void 0:o.some((e=>e.type===YM.TRACK_TYPE_AUDIO));return null==i?void 0:i.isTracksReady(a,s)}},{key:"handleRemoteStreamsStateByType",value:async function e(t,r,n,i){var o;const a=this.isStreamTrackReady(r,t);let s=t.mainStream,u=null===(o=t.mainStream)||void 0===o?void 0:o.tracks,c=n.mainStream,l=i.mainStream;var f;r===KM.STREAM_TYPE_AUX&&(s=t.auxStream,u=null===(f=t.auxStream)||void 0===f?void 0:f.tracks,c=n.auxStream,l=i.auxStream);let d=!1;var h,p;a?(null===(h=u)||void 0===h||h.forEach((e=>{e.isTrackReady=!0,d=!0})),u&&c.tracks.push(...u)):null===(p=u)||void 0===p||p.forEach((e=>{var t;null!==(t=s)&&void 0!==t&&t.remoteStream.isTrackReady(e.type,e.trackId)?(e.isTrackReady=!0,d=!0,c.tracks.push(e)):l.tracks.push(e)}));d&&await this.handleReadyStream(r,t)}},{key:"getRemoteUserSubscribeInfoString",value:function e(t){var r,n,i,o;if(!t){return""}let a,s;return null===(r=t.mainStream)||void 0===r||null===(n=r.tracks)||void 0===n||n.forEach((e=>{a="".concat(a||""," ").concat(JSON.stringify(e))})),null===(i=t.auxStream)||void 0===i||null===(o=i.tracks)||void 0===o||o.forEach((e=>{s="".concat(s||""," ").concat(JSON.stringify(e))})),"  userId:".concat(t.userId,", mainTracks:").concat(a,", auxTracks:").concat(s,"  ")}},{key:"releaseTrack",value:function e(t,r){r.type===YM.TRACK_TYPE_VIDEO?(t.stop({audio:!1,video:!0,resolutionIds:[r.trackId]}),t.removeRemoteVideoTrack(r.trackId),this.logger.info(QU,"releaseTrack ".concat(r.type))):(t.stop({audio:!0}),t.removeRemoteAudioTrack(),this.logger.info(QU,"releaseTrack ".concat(r.type)))}},{key:"clearResource",value:function e(t){try{null==t||t.forEach((e=>{var t,r,n,i;null===(t=e.mainStream)||void 0===t||null===(r=t.tracks4Unsubscribe)||void 0===r||r.forEach((t=>{this.stat.getMediaStat().deleteSubscribeInfo(e.userInfo.userId,KM.STREAM_TYPE_MAIN,t.trackId),this.releaseTrack(e.mainStream.remoteStream,t)})),null===(n=e.auxStream)||void 0===n||null===(i=n.tracks4Unsubscribe)||void 0===i||i.forEach((t=>{this.stat.getMediaStat().deleteSubscribeInfo(e.userInfo.userId,KM.STREAM_TYPE_AUX,t.trackId),this.releaseTrack(e.auxStream.remoteStream,t)}))}))}catch(e){this.logger.error(QU,"clearResource error: ".concat(e))}}},{key:"generateReceiveSdp",value:async function e(t,r,n,i){this.logger.info(QU,"generateReceiveSdp, stream type: ".concat(t,", removeVideoSsrcs: ").concat(n,", removeAudioSsrcs: ").concat(i));const o=r.some((e=>{var r;const n=t===KM.STREAM_TYPE_MAIN?e.mainStream:e.auxStream;return(null==n||null===(r=n.tracks)||void 0===r?void 0:r.length)>0})),a=!!n.length||!!i.length;if(!o&&!a){return null}a&&await this.connectionsManager.deleteUser(t,n,i);const s=new Map;for(const e of r){var u,c;const r=t===KM.STREAM_TYPE_MAIN?null===(u=e.mainStream)||void 0===u?void 0:u.tracks:null===(c=e.auxStream)||void 0===c?void 0:c.tracks;if(r&&!(r.length<1)){for(const n of r){this.logger.info(QU,"generateReceiveSdp, userId : ".concat(e.userId,", stream type: ").concat(t,", track type: ").concat(n.type,", ssrc: ").concat(n.cssrc));const r={streamId:n.trackId};n.type===YM.TRACK_TYPE_VIDEO?(r.videoSsrc=n.cssrc,this.logger.info(QU,"video track.trackId: ".concat(n.trackId))):(r.audioSsrc=n.cssrc,this.logger.info(QU,"audio track.trackId: ".concat(n.trackId))),s.has(e.userId)?s.get(e.userId).push(r):s.set(e.userId,[r])}}}await this.connectionsManager.addUserBatch(t,s,0!==this.sfuConfigFec)}},{key:"appendSubscribeResult",value:function e(t,r){var n,i,o,a;if(r&&(null!==(n=r.mainStream)&&void 0!==n&&null!==(i=n.tracks)&&void 0!==i&&i.length||null!==(o=r.auxStream)&&void 0!==o&&null!==(a=o.tracks)&&void 0!==a&&a.length)){const e=t.find((e=>e.userId===r.userId&&e.roomId===r.roomId));var s,u;if(e){null!==(s=e.mainStream)&&void 0!==s&&s.tracks?e.mainStream.tracks.push(...r.mainStream.tracks):e.mainStream=r.mainStream,null!==(u=e.auxStream)&&void 0!==u&&u.tracks?e.auxStream.tracks.push(...r.auxStream.tracks):e.auxStream=r.auxStream}else{t.push(r)}}}},{key:"buildSubsReq",value:function e(r,n){const i=[],o=[],a=[];return r.forEach((e=>{if(e.curUserState===GL.NotJoin){var r,s,u,c,l,f;const i=t.newRemoteUserSubscribeInfo(e.userInfo.userId,this.roomId,null===(r=e.mainStream)||void 0===r?void 0:r.remoteStream,null===(s=e.auxStream)||void 0===s?void 0:s.remoteStream);null===(u=e.mainStream)||void 0===u||null===(c=u.tracks4Unsubscribe)||void 0===c||c.forEach((e=>{i.mainStream.tracks.push(e)})),null===(l=e.auxStream)||void 0===l||null===(f=l.tracks4Unsubscribe)||void 0===f||f.forEach((e=>{i.auxStream.tracks.push(e)})),this.appendSubscribeResult(n.successUnsubscribeInfos,i)}else{var d,h,p,v;a.push(e),null===(d=e.mainStream)||void 0===d||null===(h=d.allSubscribeTracks)||void 0===h||h.forEach((r=>{t.getUserTrackSubscribeInfo(e.userInfo,i,o,r)})),null===(p=e.auxStream)||void 0===p||null===(v=p.allSubscribeTracks)||void 0===v||v.forEach((r=>{t.getUserTrackSubscribeInfo(e.userInfo,i,o,r)}))}})),{videoSubscribeInfos:i,audioSubscribeInfos:o,joinUserUpdateInfos:a}}},{key:"subscribeSignal",value:async function e(r,n,i){const o=this.buildSubsReq(r,n);if(!t.isSubscriptionChange(o.joinUserUpdateInfos)){return}const a=t.getWatchType4Ops(o.videoSubscribeInfos.length);let s;this.logger.info(QU,"subscribeSignal, fullVideoSubscribeInfos: ".concat(JSON.stringify(o.videoSubscribeInfos)," ,")+"fullAudioSubscribeInfos: ".concat(JSON.stringify(o.audioSubscribeInfos)));let u=null;const c=yC.getCurrentTimestamp();if(i){const e={timestamp:i.start,traceId:i.traceId,spanId:"0",originIntfName:"",interfaceName:"subscribe",source:"",target:"",resultCode:"",successFlag:"T",duration:c-i.start,async:"N",extendInfo:JSON.stringify({id:i.id})};this.stat.setFirstFrameInfo(e)}try{u=this.status!==eM.Leaving?await this.signal.subscribe(o.videoSubscribeInfos,o.audioSubscribeInfos,a):this.buildDefaultSubsRep(o)}catch(e){throw s=e,e}finally{if(i){const e=yC.getCurrentTimestamp(),t={timestamp:c,traceId:i.traceId,spanId:"0.1",originIntfName:i.interfaceName,interfaceName:"subscribeSignal",source:"",target:"",resultCode:"",successFlag:s?"F":"T",duration:e-c,async:"N",extendInfo:JSON.stringify({id:i.id,streamIds:i.streamIds})};this.stat.setFirstFrameInfo(t),i.interfaceName="subscribeSignal",i.start=e,this.startupQoSMap.set(i.id,i)}}u.audioUpstreams||u.videoUpstreams||this.logger.error(QU,"subscribeSignal, subscribe stream subscribed no result record, subsResult:".concat(JSON.stringify(u)));const l=t.getUserUpdateInfos(o.joinUserUpdateInfos);this.getSubscribeResult(l,u.videoUpstreams,u.audioUpstreams,n)}},{key:"buildDefaultSubsRep",value:function e(t){const r=[];t.videoSubscribeInfos.forEach((e=>{r.push({cSsrcId:e.cSsrcId,code:0,pSsrcId:e.pSsrcId,pStreamUid:e.pStreamUid,pUserId:e.pUserId,pUserUid:e.pUserUid})}));const n=[];return t.audioSubscribeInfos.forEach((e=>{n.push({cSsrcId:e.cSsrcId,code:0,pSsrcId:e.pSsrcId,pStreamUid:e.pStreamUid,pUserId:e.pUserId,pUserUid:e.pUserUid})})),{audioUpstreams:n,videoUpstreams:r}}},{key:"getSubscribeResult",value:function e(t,r,n,i,o){const a=new Map;null==r||r.forEach((e=>{const t=e.pUserId+"#"+this.roomId,r=a.get(t);if(r){r.tracks.push(e)}else{const r={userId:e.pUserId,userUid:e.pStreamUid,tracks:[e]};a.set(t,r)}})),null==n||n.forEach((e=>{const t=e.pUserId+"#"+this.roomId,r=a.get(t);if(r){r.tracks.push(e)}else{const r={userId:e.pUserId,userUid:e.pStreamUid,tracks:[e]};a.set(t,r)}})),t.forEach((e=>{this.getStreamSubscribeResult(e,!0,a,i)})),t.forEach((e=>{this.getStreamSubscribeResult(e,!1,a,i)})),this.logger.info(QU,"isRealSubsAction: ".concat(o,", getSubscribeResult success, ").concat(this.getSubscribeResultString(i)))}},{key:"getStreamSubscribeResult",value:function e(r,n,i,o){var a,s,u,c;if(!n){return this.handleUnsubscribeReq(KM.STREAM_TYPE_MAIN,r,o),void this.handleUnsubscribeReq(KM.STREAM_TYPE_AUX,r,o)}const l=o.successSubscribeInfos,f=o.failSubscribeInfos,d=t.newRemoteUserSubscribeInfo(r.userInfo.userId,this.roomId,null===(a=r.mainStream)||void 0===a?void 0:a.remoteStream,null===(s=r.auxStream)||void 0===s?void 0:s.remoteStream),h=t.newRemoteUserSubscribeInfo(r.userInfo.userId,this.roomId,null===(u=r.mainStream)||void 0===u?void 0:u.remoteStream,null===(c=r.auxStream)||void 0===c?void 0:c.remoteStream),p=r.userInfo.userId+"#"+this.roomId,v=i.get(p);var g,m,y,_;if(!v&&this.hasTrackSignalReq(r)){return f.push({userId:r.userInfo.userId,roomId:this.roomId,mainStream:{remoteStream:null===(g=r.mainStream)||void 0===g?void 0:g.remoteStream,tracks:null===(m=r.mainStream)||void 0===m?void 0:m.tracks4Subscribe},auxStream:{remoteStream:null===(y=r.auxStream)||void 0===y?void 0:y.remoteStream,tracks:null===(_=r.auxStream)||void 0===_?void 0:_.tracks4Subscribe}}),void this.logger.error(QU,"subscribe user ".concat(r.userInfo.userId,", isSubscribe: ").concat(n," subscribed failed,mcs not response"))}this.getTracksSubscribeResults(n,r,v,d,h),this.appendToSubscribeResult(d,l,h,f)}},{key:"appendToSubscribeResult",value:function e(t,r,n,i){var o,a,s,u,c,l,f,d;((null===(o=t.mainStream)||void 0===o||null===(a=o.tracks)||void 0===a?void 0:a.length)>0||(null===(s=t.auxStream)||void 0===s||null===(u=s.tracks)||void 0===u?void 0:u.length)>0)&&this.appendSubscribeResult(r,t),((null===(c=n.mainStream)||void 0===c||null===(l=c.tracks)||void 0===l?void 0:l.length)>0||(null===(f=n.auxStream)||void 0===f||null===(d=f.tracks)||void 0===d?void 0:d.length)>0)&&this.appendSubscribeResult(i,n)}},{key:"handleUnsubscribeReq",value:function e(t,r,n){const i=t===KM.STREAM_TYPE_MAIN?r.mainStream:r.auxStream,o=null==i?void 0:i.tracks4Unsubscribe;if(null!=o&&o.length){var a,s,u,c,l;const e=null===(a=i.tracks4Subscribe)||void 0===a?void 0:a.some((e=>e.state===YL.remoteRejoinCache)),f=n.successSubscribeInfos.find((e=>e.userId===r.userInfo.userId&&e.roomId===r.userInfo.roomId)),d=t===KM.STREAM_TYPE_MAIN?null==f||null===(s=f.mainStream)||void 0===s?void 0:s.tracks:null==f||null===(u=f.auxStream)||void 0===u?void 0:u.tracks,h=!d||0===(null==d?void 0:d.filter((e=>e.state===YL.remoteRejoinCache)).length),p={userId:r.userInfo.userId,roomId:this.roomId,mainStream:{remoteStream:null===(c=r.mainStream)||void 0===c?void 0:c.remoteStream,tracks:t===KM.STREAM_TYPE_MAIN?o:[]},auxStream:{remoteStream:null===(l=r.auxStream)||void 0===l?void 0:l.remoteStream,tracks:t===KM.STREAM_TYPE_AUX?o:[]}};this.logger.info(QU,"handleUnsubscribeReq, hasSubscribeReq:".concat(e,", allSubscribeReqFailed:").concat(h)),e&&h?this.appendSubscribeResult(n.failUnsubscribeInfos,p):this.appendSubscribeResult(n.successUnsubscribeInfos,p)}}},{key:"hasTrackSignalReq",value:function e(t){var r,n,i,o;return(null===(r=t.mainStream)||void 0===r||null===(n=r.allSubscribeTracks)||void 0===n?void 0:n.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)).length)>0||(null===(i=t.auxStream)||void 0===i||null===(o=i.allSubscribeTracks)||void 0===o?void 0:o.filter((e=>e.type===YM.TRACK_TYPE_VIDEO)).length)>0}},{key:"getTracksSubscribeResults",value:function e(t,r,n,i,o){var a,s,u,c;const l=t?null===(a=r.mainStream)||void 0===a?void 0:a.tracks4Subscribe:null===(s=r.mainStream)||void 0===s?void 0:s.tracks4Unsubscribe;null==l||l.forEach((e=>{this.getTrackSubscribeResult(t,r.userInfo.userId,e,KM.STREAM_TYPE_MAIN,n,i,o)}));const f=t?null===(u=r.auxStream)||void 0===u?void 0:u.tracks4Subscribe:null===(c=r.auxStream)||void 0===c?void 0:c.tracks4Unsubscribe;null==f||f.forEach((e=>{this.getTrackSubscribeResult(t,r.userInfo.userId,e,KM.STREAM_TYPE_AUX,n,i,o)}))}},{key:"getTrackSubscribeResult",value:function e(t,r,n,i,o,a,s){var u;const c=i===KM.STREAM_TYPE_MAIN?s.mainStream:s.auxStream,l=i===KM.STREAM_TYPE_MAIN?a.mainStream:a.auxStream,f=null==o||null===(u=o.tracks)||void 0===u?void 0:u.find((e=>e.cSsrcId===n.cssrc));f?0!==f.code?(c.tracks.push(n),this.logger.error(QU,"isSubscribe:".concat(t,", subscribe user ").concat(r," ").concat(i," streamUid:").concat(f.pStreamUid," subscribed failed,code:").concat(f.code))):l.tracks.push(n):this.logger.error(QU,"isSubscribe:".concat(t,", subscribe user ").concat(r,", ").concat(i,"\n      track req id: ").concat(n.trackId,", ssrc ").concat(n.cssrc," subscribed failed,mcs not response"))}},{key:"updateUserList",value:async function e(t){this.logger.info(QU,"updateUserList start");try{t.infos.forEach((e=>{this.stat.getMediaStat().setEncryInfo(String(e.userId),String(e.userEid))})),await this.locker.lock("".concat(QU,":updateUserList"));const e=this.remoteUserManager.updateUserListInfo(this.roomId,t.infos);if(this.logger.info(QU,"updateUserList , begin"),!e||0===e.length){return void this.logger.error(QU,"updateUserList , userUpdateInfos is null")}e.forEach((e=>{if(e.isUserNameChanged&&(this.logger.info(QU,"emit ".concat(oM.UserNameChanged,", ").concat(e.userInfo.userId,"}")),this.eventEmitter.emit(oM.UserNameChanged,{roomId:this.roomId,userId:e.userInfo.userId,userName:e.userInfo.nickname})),e.preUserState===GL.NotJoin&&e.curUserState===GL.Joined){this.logger.info(QU,"emit ".concat(oM.PeerJoin,", ").concat(e.userInfo.userId,":").concat(e.userInfo.nickname)),this.eventEmitter.emit(oM.PeerJoin,{userId:e.userInfo.userId,userName:e.userInfo.nickname,roomId:e.userInfo.roomId,relayRoomId:e.userInfo.relaySrcRoomId})}else if(e.preUserState===GL.Joined&&e.curUserState===GL.NotJoin){var t,r,n,i;(null===(t=e.mainStream)||void 0===t||null===(r=t.removedTracks)||void 0===r?void 0:r.length)>0&&(this.logger.info(QU,"emit ".concat(oM.StreamRemoved,", ").concat(e.userInfo.userId,", ").concat(KM.STREAM_TYPE_MAIN)),this.eventEmitter.emit(oM.StreamRemoved,{stream:e.mainStream.remoteStream})),(null===(n=e.auxStream)||void 0===n||null===(i=n.removedTracks)||void 0===i?void 0:i.length)>0&&(this.logger.info(QU,"emit ".concat(oM.StreamRemoved,", ").concat(e.userInfo.userId,", ").concat(KM.STREAM_TYPE_AUX)),this.eventEmitter.emit(oM.StreamRemoved,{stream:e.auxStream.remoteStream})),this.logger.info(QU,"emit ".concat(oM.PeerLeave,", ").concat(e.userInfo.userId)),this.eventEmitter.emit(oM.PeerLeave,{userId:e.userInfo.userId,userName:e.userInfo.nickname,roomId:e.userInfo.roomId,relayRoomId:e.userInfo.relaySrcRoomId,reason:rM.HRTC_LEAVE_REASON_USER_LEAVE_ROOM}),this.stat.getMediaStat().updateAudioStreamInfos(e.userInfo.userId,"removed")}})),await this.updateSubscribe(e)}catch(e){this.logger.error(QU,"updateUserList occur exception ".concat(e))}finally{this.locker.unlock("".concat(QU,":updateUserList"))}}},{key:"refreshRemoteStreamList",value:async function e(t){this.logger.info(QU,"refreshRemoteStreamList start");try{const e={userId:t.userId,userUid:t.userUid,roomId:this.roomId,nickname:null};t.allAudioStreams=t.allAudioStreams.filter((e=>"cmd"!==e.content));const r=this.remoteUserManager.refreshRemoteStreamList(e,t.allVideoStreams,t.allAudioStreams);if(this.logger.info(QU,"refreshRemoteStreamList begin"),!r||0===r.length){return void this.logger.error(QU,"refreshRemoteStreamList , userUpdateInfos is null")}const n=r.find((e=>e.userInfo.userId===t.userId));this.updateSingleUser(n),await this.updateSubscribe(r)}catch(e){this.logger.error(QU,"refreshRemoteStreamList occur exception ".concat(e))}}},{key:"updateSingleUser",value:function e(r){var n,i;r.isUserNameChanged&&(this.logger.info(QU,"emit ".concat(oM.UserNameChanged,", ").concat(r.userInfo.userId,"}")),this.eventEmitter.emit(oM.UserNameChanged,{roomId:this.roomId,userId:r.userInfo.userId,userName:r.userInfo.nickname})),r.preUserState===GL.NotJoin&&r.curUserState===GL.Joined&&(this.logger.info(QU,"emit ".concat(oM.PeerJoin,", ").concat(r.userInfo.userId,":").concat(r.userInfo.nickname)),this.eventEmitter.emit(oM.PeerJoin,{userId:r.userInfo.userId,userName:r.userInfo.nickname,roomId:r.userInfo.roomId,relayRoomId:r.userInfo.relaySrcRoomId}));const o=null===(n=r.mainStream)||void 0===n?void 0:n.remoteStream;o&&(t.isStreamAdd(KM.STREAM_TYPE_MAIN,r)?(this.logger.info(QU,"emit ".concat(oM.StreamAdded,", ").concat(r.userInfo.userId,", ").concat(o.getType(),"}")),this.eventEmitter.emit(oM.StreamAdded,{stream:o}),this.updateAudioStreamInfo(r.userInfo.userId,"add",o)):t.isStreamRemove(KM.STREAM_TYPE_MAIN,r)?(this.logger.info(QU,"emit ".concat(oM.StreamRemoved,", ").concat(r.userInfo.userId,", ").concat(o.getType(),"}")),this.eventEmitter.emit(oM.StreamRemoved,{stream:o}),this.updateAudioStreamInfo(r.userInfo.userId,"removed",o)):t.isStreamUpdate(KM.STREAM_TYPE_MAIN,r)&&(this.logger.info(QU,"emit ".concat(oM.StreamUpdated,", ").concat(r.userInfo.userId,", ").concat(o.getType(),"}")),this.eventEmitter.emit(oM.StreamUpdated,{stream:o}),this.updateAudioStreamInfo(r.userInfo.userId,"update",o)));const a=null===(i=r.auxStream)||void 0===i?void 0:i.remoteStream;a&&(t.isStreamAdd(KM.STREAM_TYPE_AUX,r)?(this.logger.info(QU,"emit ".concat(oM.StreamAdded,", ").concat(r.userInfo.userId,", ").concat(a.getType(),"}")),this.eventEmitter.emit(oM.StreamAdded,{stream:a})):t.isStreamRemove(KM.STREAM_TYPE_AUX,r)&&(this.logger.info(QU,"emit ".concat(oM.StreamRemoved,", ").concat(r.userInfo.userId,", ").concat(a.getType(),"}")),this.eventEmitter.emit(oM.StreamRemoved,{stream:a}))),r.preUserState===GL.Joined&&r.curUserState===GL.NotJoin&&(this.logger.info(QU,"emit ".concat(oM.PeerLeave,", ").concat(r.userInfo.userId)),this.eventEmitter.emit(oM.PeerLeave,{userId:r.userInfo.userId,userName:r.userInfo.nickname,roomId:r.userInfo.roomId,relayRoomId:r.userInfo.relaySrcRoomId,reason:rM.HRTC_LEAVE_REASON_USER_LEAVE_ROOM}),this.stat.getMediaStat().updateAudioStreamInfos(r.userInfo.userId,"removed")),this.handleMuteStatus(r)}},{key:"updateAudioStreamInfo",value:function e(t,r,n){var i;if("add"===r){null!==(i=n.getStreamInfo())&&void 0!==i&&i.audioProfile&&this.stat.getMediaStat().updateAudioStreamInfos(t,"add")}else if("removed"===r){this.stat.getMediaStat().updateAudioStreamInfos(t,"removed")}else{var o;null!==(o=n.getStreamInfo())&&void 0!==o&&o.audioProfile?this.stat.getMediaStat().updateAudioStreamInfos(t,"add"):this.stat.getMediaStat().updateAudioStreamInfos(t,"removed")}}},{key:"remoteUserDisconnectNotify",value:function e(t){t&&this.logger.info(QU,"remoteDisconnectNotify, userId:".concat(t.userId))}},{key:"remoteUserReconnectNotify",value:function e(t){if(!t){return}this.logger.info(QU,"remoteReconnectNotify, userId:".concat(t.userId));const r={userId:t.userId,userUid:t.userUid,roomId:this.roomId,nickname:null};this.remoteUserManager.remoteUserReconnect(r,t.videoStreams,t.audioStreams)}},{key:"updateAppData",value:function e(t){const r=t.userId,n=t.appData.nickname;r&&t.userId!==this.userInfo.userId&&(this.remoteUserManager.updateUserName(r,this.roomId,n),this.eventEmitter.emit(oM.UserNameChanged,{roomId:this.roomId,userId:r,userName:n}))}},{key:"updateRemoteStream",value:async function e(t){this.logger.info(QU,"updateRemoteStream start");try{const e={userId:t.userId,userUid:t.userUid,roomId:this.roomId,nickname:null},r=this.remoteUserManager.updateRemoteStream(e,t.videoStreams,t.audioStreams);if(this.logger.info(QU,"updateRemoteStream , begin"),!r){return void this.logger.error(QU,"updateRemoteStream , userUpdateInfos is null")}this.handleMuteStatus(r)}catch(e){this.logger.error(QU,"updateRemoteStream occur exception ".concat(e))}}},{key:"handleMuteStatus",value:function e(r){this.logger.info(QU,"handleMuteStatus begin");const n=t.getMuteChangeStatus(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_AUDIO,r);n!==ZU.noChange&&(this.emitMediaStatusChange(r.userInfo.userId,r.userInfo.roomId,YM.TRACK_TYPE_AUDIO,n),n===ZU.unmute?this.stat.getMediaStat().updateAudioStreamInfos(this.userInfo.userId,"add"):this.stat.getMediaStat().updateAudioStreamInfos(this.userInfo.userId,"removed"));const i=t.getMuteChangeStatus(KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_VIDEO,r);i!==ZU.noChange&&this.emitMediaStatusChange(r.userInfo.userId,r.userInfo.roomId,YM.TRACK_TYPE_VIDEO,i)}},{key:"removeRemoteStream",value:async function e(t){this.logger.info(QU,"removeRemoteStream start");try{const e={userId:t.userId,userUid:t.userUid,roomId:this.roomId,nickname:null};t.allAudioStreams=t.allAudioStreams.filter((e=>"cmd"!==e.content));const r=this.remoteUserManager.refreshRemoteStreamList(e,t.allVideoStreams,t.allAudioStreams);if(this.logger.info(QU,"removeRemoteStream begin"),!r||0===r.length){return void this.logger.error(QU,"removeRemoteStream , userUpdateInfos is null")}const n=r.find((e=>e.userInfo.userId===t.userId));this.updateSingleUser(n),await this.updateSubscribe(r)}catch(e){this.logger.error(QU,"removeRemoteStream occur exception ".concat(e))}}},{key:"emitMediaStatusChange",value:function e(t,r,n,i){const o={roomId:r,userId:t,status:i===ZU.unmute?zP.MediaStatusAvailable:zP.MediaStatusUnavailable,reason:i===ZU.unmute?YP.MediaUnmuted:YP.MediaMuted},a=n===YM.TRACK_TYPE_AUDIO?i===ZU.unmute?"UnmuteAudio":"MuteAudio":i===ZU.unmute?"UnmuteVideo":"MuteVideo";this.logger.info(QU,"emit ".concat(oM[a],", userId: ").concat(t,", type: ").concat(n,", status: ").concat(o.status)),this.eventEmitter.emit(oM[a],o)}},{key:"waitNotifyConfig",value:function e(t){return new Promise(((e,r)=>{const n={id:t.length+1,domain:"",start_ms:yC.getCurrentTimestamp(),delay_ms:0,stepName:"configNotify",rspCode:"",errMsg:""};let i=null;this.waitConfigCallbackFunc=()=>{clearTimeout(i),e(),n.delay_ms=yC.getCurrentTimestamp()-n.start_ms,n.rspCode="OK",t.push(n)},this.validSignatureFunc=e=>{clearTimeout(i),r(new oc(e.code,e.message))},i=setTimeout((()=>{this.logger.error(QU,"wait config timeout"),n.rspCode="".concat(nc.RTC_ERR_CODE_WAIT_CONFIG_FAIL),n.errMsg=ic[nc.RTC_ERR_CODE_WAIT_CONFIG_FAIL],n.delay_ms=yC.getCurrentTimestamp()-n.start_ms,t.push(n),e()}),jM)}))}},{key:"handleConfigNotifyBody",value:function e(t){const{controlDisconnectTimeout:r="30",controlHoldTimeout:n="120",controlPingPeriod:i="5"}=t.appConfigs||{};this.sfuConfigs={},this.sfuConfigFec=0;for(const e of GM){Object.prototype.hasOwnProperty.call(t.appConfigs,e)&&("webPlayoutMinDelay"!==e&&"webPlayoutMaxDelay"!==e&&"minBitrateByRemb"!==e||"string"!=typeof t.appConfigs[e]?"webFlexfec03"===e?this.sfuConfigFec=Number(t.appConfigs[e]):this.sfuConfigs[e]=t.appConfigs[e]:this.sfuConfigs[e]=Number(t.appConfigs[e]))}const o={heartBeatRetryTimes:parseInt(r)/parseInt(i)||BM,connectionTimeout:parseInt(n)||FM,heartBeatPeriod:parseInt(i)||UM};this.waitConfigCallbackFunc&&this.waitConfigCallbackFunc(),this.stat.setTraceInfo(t.traceId),$j.setLogServerConfigs(t.logServerConfigs),this.signal.setConfigParams(o)}},{key:"uploadLog",value:async function e(t){await $j.uploadLogFile(this,t)}},{key:"handleWatchMsg",value:async function e(t){if(null!=t){try{const e=t,r=e.videoSsrcIds,n=e.audioSsrcIds;if(this.sdpRepInfo.cmd&&(null==n?void 0:n.length)>0&&0===n.filter((e=>this.sdpRepInfo.cmd.sendSsrc!==e)).length){return}const i=r.filter((e=>this.sdpRepInfo.video.sendSsrcRange.find((t=>e===t)))),o=r.filter((e=>this.sdpRepInfo.desktopVideo.sendSsrcRange.find((t=>e===t)))),a=[],s=[],u={mainStreamVideoTracks2Update:{},mainStreamAudioTracks2Update:{},auxStreamTracks2Update:{}},c=this.streamPublishManager.generatePubInfoWhenWatch(KM.STREAM_TYPE_MAIN,i,n||[],YM.TRACK_TYPE_VIDEO);if(await this.publishWhenWatch(KM.STREAM_TYPE_MAIN,c),i&&i.length>0&&(null==c||c.tracks2NewPublish.forEach((e=>{r.find((t=>t===e.ssrc))&&a.push({ssrcId:e.ssrc,status:0})})),null==c||c.tracks2KeepPublish.forEach((e=>{a.push({ssrcId:e.ssrc,status:0})})),u.mainStreamVideoTracks2Update=c),n&&n.length>0){const e=this.streamPublishManager.generatePubInfoWhenWatch(KM.STREAM_TYPE_MAIN,[],n);await this.publishWhenWatch(KM.STREAM_TYPE_MAIN,e),null==e||e.tracks2NewPublish.forEach((e=>{n.find((t=>t===e.ssrc))&&s.push({ssrcId:e.ssrc,status:0})})),null==e||e.tracks2KeepPublish.forEach((e=>{s.push({ssrcId:e.ssrc,status:0})})),u.mainStreamAudioTracks2Update=e}if(o&&o.length>0){const e=this.streamPublishManager.generatePubInfoWhenWatch(KM.STREAM_TYPE_AUX,o,[]);await this.publishWhenWatch(KM.STREAM_TYPE_AUX,e),null==e||e.tracks2NewPublish.forEach((e=>{r.find((t=>t===e.ssrc))&&a.push({ssrcId:e.ssrc,status:0})})),null==e||e.tracks2KeepPublish.forEach((e=>{a.push({ssrcId:e.ssrc,status:0})})),u.auxStreamTracks2Update=e}this.logger.info(QU,"handle watch success, videoSsrcs: ".concat(JSON.stringify(r),", audioSsrcs: ").concat(JSON.stringify(n)));const l=this.stat.getSpanId(e["x-nuwa-span-id"]),f=yC.generateRandomId(16,16);this.stat.setParentSpanId(f,l);const d={type:"WATCH_STREAM_NOTIFY",requestId:e.requestId,traceId:e.traceId,version:e.version,videoSsrcIds:a,audioSsrcIds:s,"x-nuwa-trace-id":e["x-nuwa-trace-id"],"x-nuwa-span-id":f};await this.signal.pushStreamResponse(d),this.reportMediaStreamInfo(u,a),this.logger.info(QU,"handleWatchMsg success")}catch(e){this.logger.error(QU,"handleWatchMsg occur error ".concat(e))}}else{this.logger.error(QU,"message is null")}}},{key:"reportMediaStreamInfo",value:function e(t,r){var n,i,o,a;if(null!==(n=t.mainStreamVideoTracks2Update)&&void 0!==n&&null!==(i=n.tracks2NewPublish)&&void 0!==i&&i.find((e=>e.type===YM.TRACK_TYPE_VIDEO))){this.stat.getMediaStat().setLocalMainStreamInfo(this.userInfo.userId,this.streamPublishManager.getPublishedMainStreamInfos())&&this.buildSendMediaStreamInfo(GP.Video,r)}if(null!==(o=t.auxStreamTracks2Update)&&void 0!==o&&null!==(a=o.tracks2NewPublish)&&void 0!==a&&a.filter((e=>e.type===YM.TRACK_TYPE_VIDEO))){this.stat.getMediaStat().setLocalAuxsStreamInfo(this.userInfo.userId,this.streamPublishManager.getPublishedAuxStreamInfo())&&this.buildSendMediaStreamInfo(GP.Aux)}}},{key:"publishWhenWatch",value:async function e(t,r){if(!r||0===r.tracks2NewPublish.length&&0===r.tracks2KeepPublish.length&&0===r.tracks2UnPublish.length){return void this.logger.info(QU,"handleWatchMsg, watched track no update")}const n=this.streamPublishManager.getLocalStream(t);await this.sendPublishRequest(r.allTracks2Publish),await this.startStreamResolutionDetection(n),await this.updateStreamTracks(n,r),this.logger.info(QU,"handleWatchMsg, published stream")}},{key:"setCameraCaptureReport",value:function e(t,r){this.stat.setCameraInfo(t,r)}},{key:"signalEvent",value:function e(){this.signal.on(qP.watchStreamNotify,(e=>{this.handleWatchMsg(e)})),this.signal.on(qP.pushStreamNotify,(e=>{this.refreshRemoteStreamList(e)})),this.signal.on(qP.stopPushStreamNotify,(e=>{this.removeRemoteStream(e)})),this.signal.on(qP.changeStreamStatusNotify,(e=>{this.updateRemoteStream(e)})),this.signal.on(qP.appDataChangeNotify,(e=>{this.updateAppData(e)})),this.signal.on(qP.disconnectNotify,(e=>{this.remoteUserDisconnectNotify(e)})),this.signal.on(qP.reconnectNotify,(e=>{this.remoteUserReconnectNotify(e)})),this.signal.on(qP.configNotify,(e=>{this.handleConfigNotifyBody(e)})),this.signal.on(qP.top3AudioVolumeNotify,(e=>{this.handleMaxVolumeNotify(e)})),this.signal.on(qP.statusChangeNotify,(async e=>{await this.updateUserList(e)})),this.signal.on(qP.uploadLogNotify,(async e=>{await this.uploadLog(e)})),this.signal.on(qP.publishStatusNotify,(e=>{this.handlePublishStatusNotify(e)})),this.signal.on(NN.Reconnected,(async()=>{await this.refreshRoomUserInfos()})),this.signal.on(NN.SessionUnavailable,(async()=>{this.logger.info(QU,"".concat(NN.SessionUnavailable));await this.rejoinLoop(120)})),this.signal.on(NN.ConnectionUnavailable,(async()=>{this.logger.info(QU,"".concat(NN.ConnectionUnavailable));await this.rejoinLoop(120)})),this.signal.on(NN.AuthenticateFail,(async()=>{this.logger.info(QU,"".concat(NN.AuthenticateFail)),this.doLeaveRoom()})),this.signal.on(NN.SignatureExpired,(e=>{this.handleNotifySignatureExpired(e)})),this.signal.on(oM.ConnectionStateChanged,(e=>{this.handleNotifyConnectStateChange(e)})),this.signal.on(oM.NetworkQuality,(e=>{this.eventEmitter.emit(oM.NetworkQuality,e)})),this.signal.on(NN.ClientBanned,(()=>{this.eventEmitter.emit(oM.ClientBanned,{userId:this.userInfo.userId}),this.kickRoom(),this.logger.info(QU,"kick leave success")})),this.signal.on(qP.roomStreamStatusNotify,(e=>{this.handleNotifyRoomStreamStatus(e)})),this.signal.on(qP.kickRoomNotify,(()=>{this.eventEmitter.emit(oM.KickRoomStatus,this.roomId),this.kickRoom(),this.logger.info(QU,"kick room success")}))}},{key:"kickRoom",value:function e(){this.cleanup(),this.cleanTransportStats(),this.stat.leaveRoom(),PL.immediateReportRecords()}},{key:"refreshRoomUserInfos",value:async function e(){const t=await this.signal.queryRoomUsers(null);await this.doRefreshRoomUserInfos(this.roomId,t.userInfos,!1)}},{key:"doRefreshRoomUserInfos",value:async function e(t,r,n){try{this.logger.debug(QU,"doRefreshRoomUserInfos, begin");const e=this.remoteUserManager.refreshRemoteUserList(t,r,n);if(!e){return null}e.forEach((e=>{this.updateSingleUser(e)})),await this.updateSubscribe(e)}catch(e){this.logger.error(QU,"doRefreshRoomUserInfos, error:".concat(e))}}},{key:"rejoinLoop",value:async function e(t){if(this.isLoopRejoining){return void this.logger.info(QU,"rejoinLoop, isLoopRejoining so return")}let r=!1;try{this.isLoopRejoining=!0;const e=async e=>await this.handleRejoin(e),n=e=>"function"==typeof(null==e?void 0:e.getCode)&&e.getCode()===nc.RTC_ERR_CODE_STATUS_ERROR;await FD.callWithRetryTimes(e,!1,t,JU,n),r=!0}catch(e){this.logger.error(QU,"rejoinLoop, rejoin room failed, leave room, error:".concat(e)),this.localRejoinFlag||(this.connectState={prevState:VP[WP.RECONNECTING],curState:VP[WP.DISCONNECTED]},this.eventEmitter.emit(oM.ConnectionStateChanged,this.connectState));try{await this.leaveImpl()}catch(e){this.logger.error(QU,"rejoinLoop, leave failed, error:".concat(e))}}finally{r||this.eventEmitter.emit(oM.LocalLeave),this.isLoopRejoining=!1}}},{key:"handleRejoin",value:async function e(t){if(this.logger.info(QU,"handleRejoin, client status: ".concat(this.status,", tryNumber:").concat(t)),this.status===eM.Idle){throw this.logger.error(QU,"handleRejoin, status:".concat(eM.Idle)),new oc(nc.RTC_ERR_CODE_STATUS_ERROR,"handleRejoin but status is Idle")}if(this.isSignatureExpired){if(this.signatureExpiredRejoinTimeout){return void this.logger.info(QU,"signature expired, try rejoin, timer already exists")}this.signatureExpiredRejoinTimeout=setTimeout((()=>{throw this.logger.error(QU,"handleRejoin, signature expired and retry limit, exit"),this.cleanup(),new oc(nc.RTC_ERR_CODE_STATUS_ERROR,"handleRejoin but signature expired")}),2e4)}try{await this.locker.lock("".concat(QU,":handleRejoin")),this.status=eM.Rejoining,await this.rejoin(this.roomId,DN.transLocalUserToJoinConfig(this.userInfo)),this.getSessionStatus()===eM.Joined&&(this.logger.info(QU,"handleRejoin, rejoin room success"),this.isSignatureExpired=!1,clearTimeout(this.signatureExpiredRejoinTimeout),this.signatureExpiredRejoinTimeout=void 0,this.connectState={prevState:VP[WP.RECONNECTING],curState:VP[WP.CONNECTED]},this.eventEmitter.emit(oM.ConnectionStateChanged,this.connectState),await this.rejoinPublish(),this.localRejoinFlag=!1)}finally{this.locker.unlock("".concat(QU,":handleRejoin"))}}},{key:"rejoinPublish",value:async function e(){this.logger.info(QU,"rejoin publish stream"),this.connectState.prevState=VP[WP.DISCONNECTED];const t=[],r=this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_MAIN),n=this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_AUX);r&&t.push(r),n&&t.push(n),t.length>0&&await this.rejoinPublishStreams(t)}},{key:"handleNotifySignatureExpired",value:function e(t){this.logger.warn(QU,"handleNotifySignatureExpired");const r={code:0,reason:""};"reconnect"===t.type?(this.logger.warn(QU,"reconnect but signature expired"),r.code=nc.RTC_ERR_CODE_SIGNATURE_EXPIRED,r.reason=ic[nc.RTC_ERR_CODE_SIGNATURE_EXPIRED]):this.isLoopRejoining?(this.logger.warn(QU,"rejoin but signature expired"),this.isSignatureExpired=!0,r.code=nc.RTC_ERR_CODE_SIGNATURE_EXPIRED,r.reason=ic[nc.RTC_ERR_CODE_SIGNATURE_EXPIRED]):(r.code=nc.RTC_ERR_CODE_SIGNATURE_INVALID,r.reason=ic[nc.RTC_ERR_CODE_SIGNATURE_INVALID]),this.validSignatureFunc&&this.validSignatureFunc(r),this.validSignatureFunc=void 0;const n={errorCode:"".concat(r.code),errorMsg:r.reason};this.eventEmitter.emit(oM.SignatureExpired,n)}},{key:"handleNotifyConnectStateChange",value:function e(t){this.logger.info(QU,"ConnectStateChange"),this.eventEmitter.emit(oM.ConnectionStateChanged,t),this.connectState.curState=t.curState}},{key:"cleanNetworkStatistic",value:function e(){this.preNetQuality=null,this.downLinkData=null,this.upLinkData=null}},{key:"cleanup",value:function e(){var t,r,n;null===(t=this.signal)||void 0===t||t.disconnect(),this.signal=null,this.resetConnection(),null===(r=this.remoteUserManager)||void 0===r||r.clear(this.roomId);const i=this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_MAIN);if(i){i.removeClient(this)}this.streamPublishManager.reset(),clearTimeout(this.streamInterruptedDetectInterval),clearTimeout(this.rtcStatsInterval),clearTimeout(this.netQualityTimer),clearTimeout(this.transportStatsTimer),JL.reset(),this.cleanNetworkStatistic(),this.streamInterruptedDetectInterval=null,this.rtcStatsInterval=null,this.lastCycleFrameDecodedMap.clear(),this.streamInterruptedUsersMap.clear(),this.startupQoSMap.clear(),this.status=eM.Idle,this.locker.clear(),clearInterval(this.audioLevelTimer),Zj.stopRelayConnection(this,this.roomId),null===(n=this.cmdMsgAbility.cmdManager)||void 0===n||n.reset(),this.isSignatureExpired=!1,clearTimeout(this.signatureExpiredRejoinTimeout),this.signatureExpiredRejoinTimeout=void 0}},{key:"addSsrc4Top3",value:async function e(t){var r;return this.audioStreams4TopN.close(),await this.addSsrc2SdpBatch(t,null===(r=this.sdpRepInfo.audio)||void 0===r?void 0:r.topNSsrcBegin)}},{key:"setAudioLevelStatTimer",value:function e(){this.audioLevelTimer&&clearInterval(this.audioLevelTimer),this.logger.info(QU,"setAudioLevelStatTimer"),this.audioLevelTimer=setInterval((()=>{try{this.audioStreams4TopN.getAudioLevel().forEach((e=>{const t=Math.round(100*e.level);this.stat.getMediaStat().updateAudioLevel({type:"remotetop3",level:t,ssrc:e.ssrc})}));const e=this.remoteUserManager.getAllUserStreamsByType(this.roomId,KM.STREAM_TYPE_MAIN,YM.TRACK_TYPE_AUDIO),t=[];e.forEach((e=>{const r=e.mainStream.tracks.find((e=>e.isTrackReady&&e.type===YM.TRACK_TYPE_AUDIO&&e.isSubscribed));r&&t.push({userId:e.userId,ssrc:r.cssrc})}));for(const e of t){const t=this.remoteUserManager.getUserInfoById(e.userId,this.roomId),r=Math.round(100*t.mainStream.remoteStream.getAudioLevel());this.stat.getMediaStat().updateAudioLevel({type:"remote",level:r,ssrc:e.ssrc,userId:e.userId})}const r=this.streamPublishManager.getLocalStream(KM.STREAM_TYPE_MAIN),n=Math.round(100*(r?r.getAudioLevel():0));this.stat.getMediaStat().updateAudioLevel({type:"local",level:n})}catch(e){this.logger.error(QU,"setAudioLevelStatTimer, occur error: ".concat(e))}}),this.audioLevelInterval)}},{key:"addSsrc2SdpBatch",value:async function e(t,r){if(!r){return null}const n={answerSdp:t},i=await this.connectionsManager.addTopAudioUserBatch(n.answerSdp,r,3,((e,t)=>{this.audioStreams4TopN.addAudioStream(e,t)}));return this.stat.getMediaStat().setStartSsrc(r),i}},{key:"saveAudioStream4TopN",value:async function e(t){this.logger.info(QU,"AudioPolicy：TOPN_AUDIOPOLICY, save audio stream, streamId: ".concat(t.streams[0].id));if(null!=this.audioStreams4TopN.getAudioStream(t.streams[0].id)){this.audioStreams4TopN.updateAudioStream(t.streams[0].id,t.track),this.logger.info(QU,"AudioPolicy：TOPN_AUDIOPOLICY, save audio stream ok, streamId: ".concat(t.streams[0].id));try{await this.audioStreams4TopN.play(t.streams[0].id),this.audioStreams4TopN.setAudioVolume4Id(t.streams[0].id,this.topNAudioVolume),this.logger.info(QU,"AudioPolicy：TOPN_AUDIOPOLICY, auto play audio success, streamId: ".concat(t.streams[0].id))}catch(e){this.logger.error(QU,"AudioPolicy：TOPN_AUDIOPOLICY, auto play audio fail, ".concat(null==e?void 0:e.message,", code:").concat(null==e?void 0:e.errCode)),this.eventEmitter.emit(oM.Error,{errCode:nc.RTC_ERR_CODE_PLAY_NOT_ALLOW,errDesc:"AudioPolicy：TOPN_AUDIOPOLICY, auto play audio fail, ".concat(null==e?void 0:e.message,", code:").concat(null==e?void 0:e.errCode)})}}else{this.logger.error(QU,"AudioPolicy：TOPN_AUDIOPOLICY, audio stream of streamId: ".concat(t.streams[0].id," not exist"))}}},{key:"handleMaxVolumeNotify",value:function e(t){try{t.topUserAudios&&t.topUserAudios.length>0?(this.top3VolumeUserIds.length=0,t.topUserAudios.forEach((e=>{e.volume=100*(60-(e.volume>60?60:e.volume))/60,this.top3VolumeUserIds.push({user_id:e.userId,volume:e.volume})})),this.audioPolicy===qM.TOPN_AUDIOPOLICY&&this.eventEmitter.emit(oM.VolumeIndicator,{userVolumeInfos:this.top3VolumeUserIds})):this.logger.error(QU,"handleMaxVolumeNotify error,topUserAudios is null")}catch(e){this.logger.error(QU,"handleMaxVolumeNotify error ".concat(null==e?void 0:e.message))}}},{key:"handlePublishStatusNotify",value:function e(t){try{t.urlStatus&&(this.logger.info(QU,"emit ".concat(oM.LiveStreamingUpdated)),this.eventEmitter.emit(oM.LiveStreamingUpdated,t.urlStatus))}catch(e){this.logger.error(QU,"handlePublishStatusNotify error ".concat(e))}}},{key:"setVolume4TopThree",value:function e(t){this.setVolume4TopThreeImpl(t)}},{key:"setVolume4TopThreeImpl",value:function e(t){this.logger.debug(QU,"setVolume4TopThreeImpl volume: "+t),t>100||t<0||this.audioPolicy===qM.TOPN_AUDIOPOLICY&&(this.topNAudioVolume=t,this.audioStreams4TopN.setAudioVolume(t))}},{key:"muteAudio4TopThree",value:function e(t){this.muteAudio4TopThreeImpl(t)}},{key:"muteAudio4TopThreeImpl",value:function e(t){this.logger.debug(QU,"muteAudio4TopThree enable: "+t),this.audioPolicy===qM.TOPN_AUDIOPOLICY&&this.audioStreams4TopN.muteAudio(t)}},{key:"setAudioOutput4TopThree",value:async function e(t){this.audioPolicy===qM.TOPN_AUDIOPOLICY&&await this.audioStreams4TopN.setAudioOutput(t)}},{key:"isTopNAudioMuted",value:function e(){return this.isTopNAudioMutedImpl()}},{key:"isTopNAudioMutedImpl",value:function e(){let t=!1;return this.audioPolicy===qM.TOPN_AUDIOPOLICY&&(t=this.audioStreams4TopN.isAudioMuted(),this.logger.debug(QU,"isTopNAudioMutedImpl : "+t)),t}},{key:"changeUserName",value:async function e(t){return await this.changeUserNameImpl(t)}},{key:"changeUserNameImpl",value:async function e(t){try{return AL.checkUserName(t),await this.signal.appData(this.userInfo.appData,"nickname",t),this.userInfo.appData.nickname=t,!0}catch(e){return this.logger.error(QU,"changeUserNameImpl, error:".concat(e)),!1}}},{key:"reportAudioMuteInfo",value:function e(t,r){this.stat.reportAudioMuteInfo(t,r)}},{key:"reportVideoMuteInfo",value:function e(t,r){this.stat.reportVideoMuteInfo(t,r)}},{key:"startLiveStreaming",value:async function e(t,r,n,i){return await this.startLiveStreamingImpl(t,r,n,i)}},{key:"startLiveStreamingImpl",value:async function e(t,r,n,i){if(this.logger.info(QU,"startLiveStreaming:  publishConfig: ".concat(JSON.stringify(n),", userConfig: ").concat(JSON.stringify(i))),!(r&&t&&n&&i)){throw this.logger.error(QU,"startLiveStreaming failed for parameter error: empty parameter"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}if(this.status!==eM.Joined||this.userInfo.role!==kN){throw this.logger.error(QU,"startLiveStreaming failed for permission not allowed"),new oc(nc.RTC_ERR_CODE_ROLE_NO_PERMISSION)}const o=this.getLiveStreamingUserInfos(i,99===n.template);if(0===o.length){throw this.logger.error(QU,"startLiveStreaming failed for parameter error:".concat(JSON.stringify(i))),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}try{await this.signal.startLiveStreaming(t,r,n,o),this.logger.info(QU,"startLiveStreaming success, taskId: ".concat(t,", url: ").concat(r))}catch(e){throw this.logger.error(QU,"startLiveStreaming failed: ".concat(e)),e}}},{key:"getLiveStreamingUserInfos",value:function e(t,r){if(!t||0===t.length){return null}const n=[],i=this.userInfo.userId;return t.forEach((e=>{const t={userId:e.userId,audioStreams:[],videoStreams:[],layouts:[]};if(r&&!e.layouts){throw this.logger.error(QU,"getLiveStreamingUserInfos, layouts is null when template=99"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}e.userId===i?this.getLocalLiveStreamingUserInfos(e,t,r):this.getRemoteLiveStreamingUserInfos(e,t,r),(t.audioStreams.length||t.videoStreams.length)&&n.push(t)})),this.logger.info(QU,"getLiveStreamingUserInfos, publishInfos : ".concat(JSON.stringify(n))),n}},{key:"getLocalLiveStreamingUserInfos",value:function e(r,n,i){const o=this.streamPublishManager.getPublishedMainStreamInfos();if(r.audio){var a;const e=null==o||null===(a=o.find((e=>e.type===YM.TRACK_TYPE_AUDIO)))||void 0===a?void 0:a.ssrc;e&&n.audioStreams.push(e)}if(!r.resolutionIds||0===r.resolutionIds.length){return}const s=this.streamPublishManager.getPublishedAuxVideoTrackInfo();r.resolutionIds.forEach((e=>{var a;const u=null==o||null===(a=o.find((t=>t.resolutionId===e)))||void 0===a?void 0:a.ssrc;u?t.updateSlidePublishInfo(r,n,u,e,i):(null==s?void 0:s.resolutionId)===e&&t.updateSlidePublishInfo(r,n,s.ssrc,e,i)}))}},{key:"getRemoteLiveStreamingUserInfos",value:function e(r,n,i){const o=this.remoteUserManager.getAllUserStreamsByType(this.roomId,null,null),a=null==o?void 0:o.find((e=>e.userId===r.userId));if(a){if(r.audio){var s,u,c;const e=null===(s=a.mainStream)||void 0===s||null===(u=s.tracks)||void 0===u||null===(c=u.find((e=>e.type===YM.TRACK_TYPE_AUDIO)))||void 0===c?void 0:c.pssrc;e&&n.audioStreams.push(e)}if(!r.resolutionIds||0===r.resolutionIds.length){return}for(const e of r.resolutionIds){var l,f,d;const o=null===(l=a.mainStream)||void 0===l||null===(f=l.tracks)||void 0===f||null===(d=f.find((t=>t.trackId===e)))||void 0===d?void 0:d.pssrc;if(o){t.updateSlidePublishInfo(r,n,o,e,i)}else{var h,p,v;const o=null===(h=a.auxStream)||void 0===h||null===(p=h.tracks)||void 0===p||null===(v=p.find((t=>t.trackId===e)))||void 0===v?void 0:v.pssrc;o&&t.updateSlidePublishInfo(r,n,o,e,i)}}}}},{key:"updateLiveStreaming",value:async function e(t,r,n,i){return await this.updateLiveStreamingImpl(t,r,n,i)}},{key:"updateLiveStreamingImpl",value:async function e(t,r,n,i){if(this.logger.info(QU,"updateLiveStreaming: publishConfig: ".concat(JSON.stringify(n),", userConfig: ").concat(JSON.stringify(i))),!(r&&t&&n&&i)){throw this.logger.error(QU,"updateLiveStreaming failed for parameter error: empty param"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}if(this.status!==eM.Joined||this.userInfo.role!==kN){throw this.logger.error(QU,"updateLiveStreaming failed for permission not allowed"),new oc(nc.RTC_ERR_CODE_ROLE_NO_PERMISSION)}const o=this.getLiveStreamingUserInfos(i,99===n.template);try{await this.signal.updateLiveStreaming(t,n,o),this.logger.info(QU,"updateLiveStreaming success, taskId: ".concat(t,", url: ").concat(r))}catch(e){throw this.logger.error(QU,"updateLiveStreaming failed: ".concat(e)),e}}},{key:"stopLiveStreaming",value:async function e(t){return await this.stopLiveStreamingImpl(t)}},{key:"stopLiveStreamingImpl",value:async function e(t){if(this.logger.info(QU,"stopLiveStreaming:  taskId: ".concat(t)),!t){throw this.logger.error(QU,"stopLiveStreaming failed for parameter error: taskId is empty"),new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}try{await this.signal.stopLiveStreaming(t),this.logger.info(QU,"stopLiveStreaming success, taskId: ".concat(t))}catch(e){throw this.logger.error(QU,"stopLiveStreaming failed: ".concat(e)),e}}},{key:"setProxyServer",value:function e(t){RL.setPorxyServer(t)}},{key:"setTurnServer",value:function e(t){var r;null===(r=this.connectionsManager)||void 0===r||r.setTurnServer(t)}},{key:"addMultiRoomMediaRelay",value:async function e(t){if(this.status!==eM.Joined){throw this.logger.error(QU,"addMultiRoomMediaRelay failed for not joined room."),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION)}AL.checkSrcMultiRoomInfo(t.srcRoomRelayInfo);for(const e of t.dstRoomRelayInfo){AL.checkDstMultiRoomInfo(e,this.userInfo.role)}const r=new Map;t.dstRoomRelayInfo.forEach((e=>{r.set(e.roomId,e.role)}));const n=await this.signal.mediaRelay(t,!0,this.userInfo),i=[];return n.addResult.forEach((async e=>{i.push({roomId:e.roomId,result:e.resultCode,msg:e.resultMessage}),0===e.resultCode?this.userInfo.addRelayInfo(e.roomId,r.get(e.roomId)):this.logger.error(QU,"addMultiRoomMediaRelay failed, roomId: ".concat(e.roomId,", resultCode: ").concat(e.resultCode,", errMsg: ").concat(e.resultMessage)),this.stat.reportRelayJoinInfo({code:e.resultCode,acsAddr:"",requestId:n.requestId,traceId:n.traceId,roomId:e.roomId,role:r.get(e.roomId),roomUid:e.roomUid,failMessage:e.resultMessage})})),i}},{key:"stopMultiRoomMediaRelay",value:async function e(t){if(this.status!==eM.Joined){throw this.logger.error(QU,"stopMultiRoomMediaRelay failed for not joined room."),new oc(nc.RTC_ERR_CODE_INVALID_OPERATION)}let r;if(t&&t.dstRoomRelayInfo&&0!==t.dstRoomRelayInfo.length){AL.checkSrcMultiRoomInfo(t.srcRoomRelayInfo);for(const e of t.dstRoomRelayInfo){AL.checkDstMultiRoomInfo(e,this.userInfo.role)}r=t}else{r={dstRoomRelayInfo:this.userInfo.getRelayInfos()}}const n=await this.signal.mediaRelay(r,!1,this.userInfo),i=[];return n.addResult.forEach((async e=>{i.push({roomId:e.roomId,result:e.resultCode,msg:e.resultMessage}),0===e.resultCode?this.userInfo.removeRelayInfo(e.roomId):this.logger.error(QU,"stopMultiRoomMediaRelay failed, roomId: ".concat(e.roomId,", resultCode: ").concat(e.resultCode,", errMsg: ").concat(e.resultMessage)),this.stat.reportRelayLeavInfo({code:e.resultCode,requestId:n.requestId,traceId:n.traceId,roomId:e.roomId,roomUid:e.roomUid})})),i}},{key:"addRelayClient",value:function e(t){return Zj.addRelayConnection(this,t)}},{key:"stopRelayClient",value:async function e(t){const r=Zj.getRelayConnection(this,t);r&&await r.leave()}},{key:"enableCommandMsg",value:function e(t,r){if(this.status!==eM.Idle&&t){throw new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"pls call enableCommandMsg interface before join room first.")}var n;t?this.cmdMsgAbility.msgFormat=(null==r?void 0:r.msgFormat)===cM.ARRAY_BUFFER?cM.ARRAY_BUFFER:cM.STRING:(null===(n=this.cmdMsgAbility.cmdManager)||void 0===n||n.reset(),this.cmdMsgAbility.cmdManager=null);return this.cmdMsgAbility.enable=t,!0}},{key:"sendCommandMsg",value:function e(t,r){var n;if(!this.cmdMsgAbility.enable){throw new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"pls call enableCommandMsg interface before join room first.")}if(this.status!==eM.Joined){throw new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"pls call this interface after joined room.")}if((null===(n=this.userInfo)||void 0===n?void 0:n.roleSignalType)!==PN.JOINER){throw new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"only joiner can send comand message.")}return AL.checkCmdMsgValid(t),this.cmdMsgAbility.cmdManager.sendCommandMsg(t,r,this.roomId)}},{key:"handleNotifyRoomStreamStatus",value:async function e(t){const{audienceState:r}=t;this.logger.info(QU,"handleNotifyRoomStreamStatus handle room stream status : "+r+" role:"+this.userInfo.role),await this.handleRoomStreamStatus(r,qM.TOPN_AUDIOPOLICY===this.audioPolicy&&this.userInfo.role===ON&&lM.NORMAL===r)}},{key:"handleRoomStreamStatus",value:async function e(t,r,n){this.logger.info(QU,"handle room stream status : "+t),this.roomStreamStatus={audience:t};try{if(this.userInfo.role===ON&&t===lM.PAUSE){this.logger.info(QU,"player handle room stream status : "+t);const e=this.remoteUserManager.getAllSubscribedUpdateInfos4Unsubscribe(this.roomId);await this.updateSubscribe(e,null,!0),qM.TOPN_AUDIOPOLICY===this.audioPolicy&&(this.logger.info(QU,"player handle room stream status : "+t+" and topN unsubscribeUsersAudio"),await this.unsubscribeUsersAudio()),this.logger.info(QU,"player handle room stream status : "+t+" and clear intervals"),this.cleanNetworkStatistic(),this.netQualityRegularReport(),this.cleanTransportStats(),this.setAudioLevelStatTimer()}r&&(this.logger.info(QU,"".concat(this.userInfo.role," handle room stream status : ")+t+" and topN addSsrc4Top3"),this.remoteUserManager.enableTopThreeAudioMode(this.roomId),await this.connectionsManager.generateAndSetOfferSdpByHandler(KM.STREAM_TYPE_MAIN),await this.connectionsManager.generateAndSetAnswerSdpByHandler(KM.STREAM_TYPE_MAIN,this.addSsrc4Top3.bind(this))),(n||this.userInfo.role===ON&&[lM.PAUSE,lM.NORMAL].includes(t))&&(this.logger.info(QU,"eventEmitter RoomStreamStatus : "+t),this.eventEmitter.emit(oM.RoomStreamStatus,t))}catch(e){this.logger.error(QU,"RoomStreamStatus : "+t+" error:"+e)}}},{key:"renewSignature",value:function e(t,r){if("string"!=typeof t||"string"!=typeof r){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER,"ctime or signature must be string")}const n=DN.renewSignature(this.identifiedID,t,r);var i;return n?(this.userInfo=n,null===(i=this.signal)||void 0===i||i.refreshUserInfo(n),this.logger.info(QU,"renewSignature success"),!0):(this.logger.info(QU,"renewSignature fail"),!1)}}],[{key:"getSenderType",value:function e(t,r){return"audio"===t||r&&r.sender?KM.STREAM_TYPE_MAIN:KM.STREAM_TYPE_AUX}},{key:"judgeNetworkQuality",value:function e(t){return(t/=1024)?t>3e3?ZM.NETWORK_QUALITY_GREAT:t>1500?ZM.NETWORK_QUALITY_GOOD:t>500?ZM.NETWORK_QUALITY_DEFECTS:t>150?ZM.NETWORK_QUALITY_WEAK:t>30?ZM.NETWORK_QUALITY_BAD:ZM.NETWORK_QUALITY_DISCONNECT:ZM.NETWORK_QUALITY_UNKNOW}},{key:"isStreamAdd",value:function e(t,r){if(!r){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const n=t===KM.STREAM_TYPE_MAIN?r.mainStream:r.auxStream;return 0===n.preTracks.length&&n.curTracks.length>0}},{key:"isStreamRemove",value:function e(t,r){if(!r){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const n=t===KM.STREAM_TYPE_MAIN?r.mainStream:r.auxStream;return n.preTracks.length>0&&0===n.curTracks.length}},{key:"isStreamUpdate",value:function e(t,r){if(!r){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const n=t===KM.STREAM_TYPE_MAIN?r.mainStream:r.auxStream;return n.addedTracks.length>0||n.updatedTracks.length>0||n.removedTracks.length>0}},{key:"getMuteChangeStatus",value:function e(r,n,i){if(!i){throw new oc(nc.RTC_ERR_CODE_INVALID_PARAMETER)}const o=r===KM.STREAM_TYPE_MAIN?i.mainStream:i.auxStream;return t.getMediaMuteChangeFlag(o,n)}},{key:"getMediaMuteChangeFlag",value:function e(r,n){const i="noTrack",o=r.preTracks.find((e=>e.type===n)),a=r.curTracks.find((e=>e.type===n)),s=o?o.mute:i,u=a?a.mute:i;return t.getMuteChangeFlag(s,u)}},{key:"getMuteChangeFlag",value:function e(t,r){return t!==r?r?ZU.mute:ZU.unmute:ZU.noChange}},{key:"getWatchType4Ops",value:function e(t){return 0===t?"cancel_watch":1===t?"watch":"batch_watch"}},{key:"isSubscriptionChange",value:function e(t){return t.some((e=>{var t,r,n,i,o,a,s,u;return(null===(t=e.mainStream)||void 0===t||null===(r=t.tracks4Subscribe)||void 0===r?void 0:r.length)>0||(null===(n=e.mainStream)||void 0===n||null===(i=n.tracks4Unsubscribe)||void 0===i?void 0:i.length)>0||(null===(o=e.auxStream)||void 0===o||null===(a=o.tracks4Subscribe)||void 0===a?void 0:a.length)>0||(null===(s=e.auxStream)||void 0===s||null===(u=s.tracks4Unsubscribe)||void 0===u?void 0:u.length)>0}))}},{key:"getUserTrackSubscribeInfo",value:function e(t,r,n,i){const o={pSsrcId:i.pssrc,cSsrcId:i.cssrc,pStreamUid:parseInt(i.trackId),pUserId:t.userId,pUserUid:t.userUid};i.type===YM.TRACK_TYPE_AUDIO?n.push(o):(o.mediaData={width:i.width,height:i.height,maxFps:60},i.autoAdjustResolution===nM.ON&&(o.minReceiveContent=XU[i.minResolution]),r.push(o))}},{key:"getUserUpdateInfos",value:function e(t){return t.filter((e=>{var t,r,n,i,o,a,s,u;return(null===(t=e.mainStream)||void 0===t||null===(r=t.allSubscribeTracks)||void 0===r?void 0:r.length)>0||(null===(n=e.mainStream)||void 0===n||null===(i=n.tracks4Unsubscribe)||void 0===i?void 0:i.length)>0||(null===(o=e.auxStream)||void 0===o||null===(a=o.allSubscribeTracks)||void 0===a?void 0:a.length)>0||(null===(s=e.auxStream)||void 0===s||null===(u=s.tracks4Unsubscribe)||void 0===u?void 0:u.length)>0}))}},{key:"newRemoteUserSubscribeInfo",value:function e(t,r,n,i){return{userId:t,roomId:r,mainStream:{remoteStream:n,tracks:[]},auxStream:{remoteStream:i,tracks:[]}}}},{key:"getSsrcLayout",value:function e(t,r){return{alpha:r.alpha,localX:r.localX,localY:r.localY,renderMode:r.renderMode,ssrc:t,subBackGroundColor:r.subBackGroundColor,subHeight:r.subHeight,subWidth:r.subWidth,zorder:r.zorder}}},{key:"updateSlidePublishInfo",value:function e(r,n,i,o,a){if(n.videoStreams.push(i),a&&r.layouts){const e=r.layouts.find((e=>e.resolutionId===o));if(e){const r=t.getSsrcLayout(i,e);n.layouts.push(r)}}}}])}(TN),s($U.prototype,"destroyClient",[fU],Object.getOwnPropertyDescriptor($U.prototype,"destroyClient"),$U.prototype),s($U.prototype,"enableTopThreeAudioMode",[dU],Object.getOwnPropertyDescriptor($U.prototype,"enableTopThreeAudioMode"),$U.prototype),s($U.prototype,"switchAudioMode",[hU],Object.getOwnPropertyDescriptor($U.prototype,"switchAudioMode"),$U.prototype),s($U.prototype,"getConnectionState",[pU],Object.getOwnPropertyDescriptor($U.prototype,"getConnectionState"),$U.prototype),s($U.prototype,"setNetworkBandwidth",[vU],Object.getOwnPropertyDescriptor($U.prototype,"setNetworkBandwidth"),$U.prototype),s($U.prototype,"join",[gU],Object.getOwnPropertyDescriptor($U.prototype,"join"),$U.prototype),s($U.prototype,"enableRtcStats",[mU],Object.getOwnPropertyDescriptor($U.prototype,"enableRtcStats"),$U.prototype),s($U.prototype,"leave",[yU],Object.getOwnPropertyDescriptor($U.prototype,"leave"),$U.prototype),s($U.prototype,"publish",[_U],Object.getOwnPropertyDescriptor($U.prototype,"publish"),$U.prototype),s($U.prototype,"publishImpl",[bU],Object.getOwnPropertyDescriptor($U.prototype,"publishImpl"),$U.prototype),s($U.prototype,"unpublish",[EU],Object.getOwnPropertyDescriptor($U.prototype,"unpublish"),$U.prototype),s($U.prototype,"subscribeAudio",[SU],Object.getOwnPropertyDescriptor($U.prototype,"subscribeAudio"),$U.prototype),s($U.prototype,"unSubscribeAudio",[wU],Object.getOwnPropertyDescriptor($U.prototype,"unSubscribeAudio"),$U.prototype),s($U.prototype,"subscribe",[TU],Object.getOwnPropertyDescriptor($U.prototype,"subscribe"),$U.prototype),s($U.prototype,"batchSubscribe",[CU],Object.getOwnPropertyDescriptor($U.prototype,"batchSubscribe"),$U.prototype),s($U.prototype,"unsubscribe",[AU],Object.getOwnPropertyDescriptor($U.prototype,"unsubscribe"),$U.prototype),s($U.prototype,"switchRole",[RU],Object.getOwnPropertyDescriptor($U.prototype,"switchRole"),$U.prototype),s($U.prototype,"refreshRemoteStreamList",[IU],Object.getOwnPropertyDescriptor($U.prototype,"refreshRemoteStreamList"),$U.prototype),s($U.prototype,"updateRemoteStream",[kU],Object.getOwnPropertyDescriptor($U.prototype,"updateRemoteStream"),$U.prototype),s($U.prototype,"removeRemoteStream",[OU],Object.getOwnPropertyDescriptor($U.prototype,"removeRemoteStream"),$U.prototype),s($U.prototype,"handleWatchMsg",[PU],Object.getOwnPropertyDescriptor($U.prototype,"handleWatchMsg"),$U.prototype),s($U.prototype,"refreshRoomUserInfos",[MU],Object.getOwnPropertyDescriptor($U.prototype,"refreshRoomUserInfos"),$U.prototype),s($U.prototype,"setVolume4TopThree",[xU],Object.getOwnPropertyDescriptor($U.prototype,"setVolume4TopThree"),$U.prototype),s($U.prototype,"muteAudio4TopThree",[LU],Object.getOwnPropertyDescriptor($U.prototype,"muteAudio4TopThree"),$U.prototype),s($U.prototype,"setAudioOutput4TopThree",[DU],Object.getOwnPropertyDescriptor($U.prototype,"setAudioOutput4TopThree"),$U.prototype),s($U.prototype,"isTopNAudioMuted",[NU],Object.getOwnPropertyDescriptor($U.prototype,"isTopNAudioMuted"),$U.prototype),s($U.prototype,"changeUserName",[jU],Object.getOwnPropertyDescriptor($U.prototype,"changeUserName"),$U.prototype),s($U.prototype,"startLiveStreaming",[UU],Object.getOwnPropertyDescriptor($U.prototype,"startLiveStreaming"),$U.prototype),s($U.prototype,"updateLiveStreaming",[BU],Object.getOwnPropertyDescriptor($U.prototype,"updateLiveStreaming"),$U.prototype),s($U.prototype,"stopLiveStreaming",[FU],Object.getOwnPropertyDescriptor($U.prototype,"stopLiveStreaming"),$U.prototype),s($U.prototype,"setProxyServer",[HU],Object.getOwnPropertyDescriptor($U.prototype,"setProxyServer"),$U.prototype),s($U.prototype,"setTurnServer",[VU],Object.getOwnPropertyDescriptor($U.prototype,"setTurnServer"),$U.prototype),s($U.prototype,"addMultiRoomMediaRelay",[WU],Object.getOwnPropertyDescriptor($U.prototype,"addMultiRoomMediaRelay"),$U.prototype),s($U.prototype,"stopMultiRoomMediaRelay",[zU],Object.getOwnPropertyDescriptor($U.prototype,"stopMultiRoomMediaRelay"),$U.prototype),s($U.prototype,"addRelayClient",[GU],Object.getOwnPropertyDescriptor($U.prototype,"addRelayClient"),$U.prototype),s($U.prototype,"stopRelayClient",[YU],Object.getOwnPropertyDescriptor($U.prototype,"stopRelayClient"),$U.prototype),s($U.prototype,"enableCommandMsg",[KU],Object.getOwnPropertyDescriptor($U.prototype,"enableCommandMsg"),$U.prototype),s($U.prototype,"renewSignature",[qU],Object.getOwnPropertyDescriptor($U.prototype,"renewSignature"),$U.prototype),$U);var tB,rB,nB,iB,oB,aB,sB,uB,cB,lB,fB;const dB=new(tB=ND("default$setLogLevel#void#LogLevel"),rB=DD("default$checkSystemRequirements#Promise<true | RtcError> #boolean"),nB=ND("default$isScreenShareSupported#boolean"),iB=DD("default$getDevices#Promise<MediaDeviceInfo[]>"),oB=DD("default$getCameras#Promise<MediaDeviceInfo[]>"),aB=DD("default$getMicrophones#Promise<MediaDeviceInfo[]>"),sB=DD("default$getSpeakers#Promise<MediaDeviceInfo[]>"),uB=ND("default$setParameter#boolean#string#string"),cB=ND("default$createClient#Client#ClientConfig"),lB=ND("default$createStream#LocalStream#StreamConfig"),s((fB=function(e){function t(){var e;a(this,t);e=f(this,t,[{logger:!0,stat:!0}]),o(h(e),"VERSION",xM);return e}p(t,e);return u(t,[{key:"setLogLevel",value:function e(t){AC.setAllLogLevel(t)}},{key:"checkSystemRequirements",value:async function e(t,r){return await rx.checkSystemRequirements(t,r)}},{key:"isScreenShareSupported",value:function e(){return rx.isRTCScreenShareSupported()}},{key:"getDevices",value:async function e(){return await JP()}},{key:"getCameras",value:async function e(){return await ZP()}},{key:"getMicrophones",value:async function e(){return await async function(){return new Promise(((e,t)=>{JP().then((r=>{const n=r.filter((e=>"audioinput"===e.kind&&"communications"!==e.deviceId&&"default"!==e.deviceId));n&&0!==n.length?e(n):t(new oc(nc.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES))})).catch((e=>{t(e)}))}))}()}},{key:"getSpeakers",value:async function e(){return await async function(){return new Promise(((e,t)=>{JP().then((r=>{const n=r.filter((e=>"audiooutput"===e.kind));n&&0!==n.length?e(n):t(new oc(nc.RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES))})).catch((e=>{t(e)}))}))}()}},{key:"setParameter",value:function e(t,r){return zL.setParameter(t,r)}},{key:"createClient",value:function e(t){return AL.checkAppid(t.appId),AL.checkCountryCode(t.countryCode),t.domain&&AL.checkDomain(t.domain),new eB(t)}},{key:"createStream",value:function e(t){if(t.screen){if(t.videoSource||t.audioSource){if(!0===t.video||!0===t.audio){throw new oc(nc.RTC_ERR_CODE_INVALID_OPERATION)}}else if(!this.isScreenShareSupported()){throw new oc(nc.RTC_ERR_CODE_INVALID_OPERATION,"screen share is not supported")}}else{if(!0!==t.video&&!0!==t.audio&&!t.videoSource&&!t.audioSource){throw new oc(nc.RTC_ERR_CODE_INVALID_OPERATION)}if((!0===t.video||!0===t.audio)&&(t.videoSource||t.audioSource)){throw new oc(nc.RTC_ERR_CODE_INVALID_OPERATION)}}return new RN(t)}},{key:"getInfo",value:function e(){return{moduleName:"default"}}}])}(TN)).prototype,"setLogLevel",[tB],Object.getOwnPropertyDescriptor(fB.prototype,"setLogLevel"),fB.prototype),s(fB.prototype,"checkSystemRequirements",[rB],Object.getOwnPropertyDescriptor(fB.prototype,"checkSystemRequirements"),fB.prototype),s(fB.prototype,"isScreenShareSupported",[nB],Object.getOwnPropertyDescriptor(fB.prototype,"isScreenShareSupported"),fB.prototype),s(fB.prototype,"getDevices",[iB],Object.getOwnPropertyDescriptor(fB.prototype,"getDevices"),fB.prototype),s(fB.prototype,"getCameras",[oB],Object.getOwnPropertyDescriptor(fB.prototype,"getCameras"),fB.prototype),s(fB.prototype,"getMicrophones",[aB],Object.getOwnPropertyDescriptor(fB.prototype,"getMicrophones"),fB.prototype),s(fB.prototype,"getSpeakers",[sB],Object.getOwnPropertyDescriptor(fB.prototype,"getSpeakers"),fB.prototype),s(fB.prototype,"setParameter",[uB],Object.getOwnPropertyDescriptor(fB.prototype,"setParameter"),fB.prototype),s(fB.prototype,"createClient",[cB],Object.getOwnPropertyDescriptor(fB.prototype,"createClient"),fB.prototype),s(fB.prototype,"createStream",[lB],Object.getOwnPropertyDescriptor(fB.prototype,"createStream"),fB.prototype),fB),hB={};return hB.VERSION=dB.VERSION,hB.setLogLevel=dB.setLogLevel.bind(dB),hB.checkSystemRequirements=dB.checkSystemRequirements.bind(dB),hB.isScreenShareSupported=dB.isScreenShareSupported.bind(dB),hB.getDevices=dB.getDevices.bind(dB),hB.getCameras=dB.getCameras.bind(dB),hB.getMicrophones=dB.getMicrophones.bind(dB),hB.getSpeakers=dB.getSpeakers.bind(dB),hB.setParameter=dB.setParameter.bind(dB),hB.createClient=dB.createClient.bind(dB),hB.createStream=dB.createStream.bind(dB),hB}))},52696:e=>{e.exports={youCanAlsoAskMe:"You can ask",clickToExitPreview:"Click anywhere to exit preview.",freeDiskSpaceNotEnough:"Insufficient storage",model:"Model",fundamentalFrequency:"Base frequency",turboFrequency:"Turbo frequency",ICS_EXTEND_PARAM_INVALID:"Invalid extended parameter. Carry the extended parameter in a valid format.",sayToStopSpeakingHub:'Say "%s" to stop response',answeringV3:"Answering... Touch or click to end.",sayStopAnswerToStopSpeaking:'Answering... Say "%s" to stop response.',sayStopAnswerToStopSpeaking2:'Responding... Say "%s" to stop.',clickToStopAnswer:"Answering... Click to stop.",clickToStopThink:"Responding... Click to stop.",CLICK_OR_SPEAK_TO_INTERRUPT:"Touch or speak to pause",I_AM_LISTENING_PLEASE_SPEAK:"I'm listening.",PLEASE_WAIT:"Please wait…",IMAGE_LOAD_FAILED:"Load image failed.",IMAGE_LOADING:"Loading image...",PATH_DISALLOWED_CHINESE:"The app path cannot contain Chinese characters.",SHOW_FACE:"Show my face",ICS_THIRD_PARTY_DRIVE_NOT_ALLOWED_THIS_WEB_MESSAGE:"Not supported by the third-party driver. Try with the driver API.",TTS_ACCESS_CONFIG_ERROR:"Check whether the AK/SK of the purchased third-party timbre is correct.",ICS_SIS_FROZEN_ERROR:"Speech recognition is unavailable due to outstanding amounts. Contact the administrator.",TTS_INVALID_TEXT:"This answer cannot be converted to speech.",TTS_NO_ACCESS_CONFIG:"Check whether the AK/SK of the purchased third-party timbre is configured.",TTS_UNSUPPORTED_LANGUAGE_TEXT:"This timbre does not support this language. Check the timbre configuration.",ICS_TEXT_QUESTION_LENGTH_LIMITED:"Input exceeds the limit. Please shorten it.",DHICIS_TTS_CONVERT_FAIL:"It looks like there's a hiccup. Please go ahead with your question.",ICS_MEDIA_SERVICE_ADDR_IS_EMPTY:"Media service address is empty. Contact technical support to locate and rectify the fault.",ICS_MEDIA_NEGOTIATE_FAILED:"Media negotiation failed. Contact technical support to locate and rectify the fault.",MPS_ROOM_NAME_DUPLICATE:"Duplicate interactive room name.",MPS_JOB_HEARTBEAT_FAILED:"Heartbeat failed for intelligent interaction task.",MPS_ASSET_ID_INVALID:"Invalid asset ID.",MPS_OVER_RESOURCE_NUM:"Tenant resources have been used up.",MPS_JOB_NUM_OVER_CONCURRENCY:"Too many concurrent tasks in the dialog.",MPS_VOICE_ID_UNAVAILABLE:"Timbre ID is unavailable.",MPS_TASK_EXPIRED:"Intelligent interaction task has expired.",MPS_INSUFFICIENT_RESOURCE_QUOTA:"Intelligent interaction resource quota is insufficient.",MPS_JOB_NOT_EXISTED:"Intelligent interaction task does not exist or has expired.",MPS_ASSET_ID_UNAVAILABLE:"Asset is unavailable.",MPS_CHANGE_FINISHED_JOB_STATE_FAILED:"Completed tasks cannot be modified.",MPS_ROOM_INFO_NOT_FOUND:"Room information not found.",MPS_QURREY_ASSET_FAILED:"Query dac failed.",MPS_NAME_INCLUDE_INVALID_SYMBOL:"Name contains special characters.",DHICIS_ERROR:"Contact technical support.",DHICIS_INFER_SERVICE_ERROR:"Contact technical support.",DHICIS_TASK_READY_ERROR:"Contact technical support.",DHICIS_CREATE_INFER_MODEL_ERROR:"Contact technical support.",DHICIS_WORKER_JOIN_ROOM_FAIL:"Contact technical support.",DHICIS_MANAGER_SERVICE_ERROR:"Please try again. If the fault persists, contact technical support.",DHICIS_JOB_STOP_BY_COMMAND:"Task has been closed. Start a new one.",DHICIS_FSM_STATE_TIME_OUT:"Please try again. If the fault persists, contact technical support.",DHICIS_ICS_ERROR:"Please try again. If the fault persists, contact technical support.",DHICIS_RTSA_ROOM_EMPTY:"Please try again. If the fault persists, contact technical support.",DHICIS_RTSA_REPORT_LEAVE_ROOM:"Please try again. If the fault persists, contact technical support.",DHICIS_MODEL_FILE_DOWN_FAIL:"Check whether the asset file of the person model exists. If no, replace the file. If yes, contact technical support.",DHICIS_BACKGROUND_FILE_DOWN_FAIL:"Check whether the asset file of the background image exists. If no, replace the background. If yes, contact technical support.",DHICIS_WORKER_JOIN_ROOM_TIMEOUT:"Please try again. If the fault persists, contact technical support.",DHICIS_JOIN_ROOM_TASK_FAIL:"Please try again. If the fault persists, contact technical support.",DHICIS_TTS_PREHEAT_TASK_FAIL:"Please try again. If the fault persists, contact technical support.",DHICIS_DATA_PACKAGE_IS_NOT_ZIP:"Format of the person model asset is incorrect. Replace the asset or contact technical support.",DHICIS_TOO_MANY_ENTRIES_IN_PACKAGE:"Please try again. If the fault persists, contact technical support.",DHICIS_PACKAGE_TOO_LARGE:"Please try again. If the fault persists, contact technical support.",DHICIS_FILE_IN_PACKAGE_TOO_LARGE:"Please try again. If the fault persists, contact technical support.",DHICIS_UNEXPECTED_DIRECTORY_IN_PACKAGE:"Please try again. If the fault persists, contact technical support.",DHICIS_PACKAGE_ENTRY_ILLEGAL_NAME:"Please try again. If the fault persists, contact technical support.",DHICIS_FILE_NAME_INVALID:"Please try again. If the fault persists, contact technical support.",DHICIS_JOB_INFO_PARA_INVALID:"Contact technical support.",DHICIS_FSM_STATE_ERROR:"Please try again. If the fault persists, contact technical support.",ICS_NOT_IN_TEXT_MODE:"Switch to text mode and try again.",ICS_TEXT_QUESTION_IS_EMPTY:"No content entered.",ICS_TEXT_QUESTION_NOT_IN_WAIT_QUESTION_STATUS:"Stop the virtual human from replying or wake it up before asking a new question.",ICS_INVALID_INTERACTION_MODE:"This mode is invalid.",ICS_UNMATCHED_APP_TYPE_AIUI:"iFLYTEK Spark model you configured does not match the selected application type.",ICS_UNMATCHED_APP_TYPE_SPARK:"AIUI application you configured does not match the selected application type.",ICS_THIRD_PARTY_DRIVER_NOT_ALLOWED_WEB_START_CHAT:"Selected application type is not supported. Check the selected application type or driver mode.",DIALOG_NOT_EXIST:"Dialog does not exist. Check whether the operation is correct or contact technical support.",RPC_ACTION_NOT_EXIST:"Unknown error. Check whether the operation is correct or contact technical support.",ICS_EXCEPTION:"Unknown error. Check whether the operation is correct or contact technical support.",REQUEST_TOO_FREQUENTLY:"Too many requests.",TENANT_CLEANUP_JOB_STOPPED:"Task stopped because data has been cleared after tenant deregistration.",NO_PERMISSION_TO_ACCESS:"No permission. Check whether the operation is correct or contact technical support.",ROBOT_NOT_EXIST:"Application does not exist. Check whether the operation is correct or contact technical support.",ROBOT_NO_PERMISSION:"No permission to view application configuration. Check whether the operation is correct or contact technical support.",START_SMART_CHAT_FAILED:"Start intelligent interaction task failed. Contact technical support.",STOP_SMART_CHAT_FAILED:"End intelligent interaction task failed. Contact technical support.",SHOW_SMART_CHAT_FAILED:"Query intelligent interaction task failed. Contact technical support.",GENERATE_SLIDE_VERIFICATON_FAILED:"Unknown error. Check whether the operation is correct or contact technical support.",SLIDE_VERIFICATON_NOT_EXIST:"CAPTCHA verification expired. Please try again.",DIALOG_NO_PERMISSION:"No permission to view dialog information. Check whether the operation is correct or contact technical support.",HOT_QUESTION_NOT_EXIST:"Frequently asked question does not exist. No action is required.",MESSAGE_PARSE_ERROR:"Parse message failed. Check whether the operation is correct or contact technical support.",UNKNOWN_ACTION:"Invalid command received. Check whether the operation is correct or contact technical support.",CONNECT_APP_TIMEOUT:"Request to third-party application timed out. Check application configuration or contact technical support.",AUTHTOKEN_INVALID:"Invalid authentication token. Please try again.",QUERYPARAM_INVALID:"Establish session failed because parameters are invalid. Check whether the operation is correct or contact technical support.",CLIENT_ERROR_MESSAGE:"Third-party application returned an error. Check application configuration or contact technical support.",WEBCLIENT_START_CHAT_WORKER_DISCONNECT:"Unknown error. Try again or contact technical support.",CHANNEL_RECORED_NOT_FOUND:"Unknown error. Try again or contact technical support.",MOBVOI_REQUEST_FLOW_LIMITED:"Too many concurrent Mobvoi questions. Try again later or contact technical support to increase the quota.",UPLOAD_LOG_COUNT_EXCEED_MAX_COUNT:"Too many log files to upload. Try again later.",WEBSOCKET_CONNECTION_JOB_COUNT_EXCEED_MAX_VALUE:"Too many WebSocket connections. Contact technical support.",WEBSOCKET_CONNECTION_POD_COUNT_EXCEED_MAX_VALUE:"Too many WebSocket connections. Contact technical support.",RTC_ERR_CODE_RTC_SDK_ERROR:"SDK error. Contact technical support.",RTC_ERR_CODE_WAIT_RSP_TIMEOUT:"Message response timed out. Contact technical support.",RTC_ERR_CODE_INVALID_PARAMETER:"Incorrect parameter. Contact technical support.",RTC_ERR_CODE_INVALID_OPERATION:"Incorrect user status. Check whether the operation is correct or contact technical support.",RTC_ERR_CODE_NO_AVAILABLE_DEVICES:"No device found. Check whether the device is ready.",RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES:"No camera found. Check whether the video capture device is ready.",RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES:"No audio input device found. Check whether the audio capture device is ready.",RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES:"No audio output device found.",RTC_ERR_CODE_STATUS_ERROR:"Incorrect room status. Check whether you have joined the room.",RTC_ERR_CODE_WAIT_CONFIG_FAIL:"Obtain delivered configuration failed. Contact technical support.",RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL:"Response to stream push failed. Contact technical support.",RTC_ERR_CODE_REGION_NOT_COVERED:"Server address not found. Contact technical support.",RTC_ERR_CODE_WEBSOCKET_INTERRUPTED:"WebSocket connection was forcibly closed because you left or reconnected to the meeting.",RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED:"No microphone permission. Grant the permission in browser settings.",RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED:"Capture failed. The audio and video capture device does not meet the configured capture requirements.",RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND:"No device found. Check whether the device is ready.",RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE:"Microphone cannot be accessed temporarily. Ensure that other applications are not requesting for accessing the microphone and try again.",RTC_ERR_CODE_ROLE_NO_PERMISSION:"No permission for this user role. Check the role.",RTC_ERR_CODE_ANSWER_SDP_INVALID:"SDP negotiation error. Contact technical support.",RTC_ERR_CODE_CLIENT_RELAY_ROOM_OVER_MAXNUM:"跨房数量超过最大值",RTC_ERR_CODE_CLIENT_RELAY_JOINER_OVER_MAXNUM:"跨房内主播人数超过最大值",RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED:"Room audio and video paused.",RTC_ERR_CODE_SIGNATURE_EXPIRED:"Signature expired.",RTC_ERR_CODE_SIGNATURE_INVALID:"Incorrect signature. Check whether the operation is correct or contact technical support.",ERR_GENERAL:"Unknown error. Check whether the operation is correct or contact technical support.",guessYouWantToAsk:"Ask me",audioDeviceNotAllow:"No microphone permission to test devices. Grant the permission in browser settings.",notSupportChangeSpeaker:"This browser does not support device switchover. Select the speaker in system settings.",noSpeakerTip:"Connect a speaker first.",noMicrophoneTip:"Connect a microphone first.",noSpeaker:"None detected.",noMicrophone:"None detected.",audioDevice:"Sound devices",deviceDetection:"Check devices",speaker:"Speaker",detectingSpeaker:"Test",microphone:"Microphone",detectingMicrophone:"Test",cancel:"Cancel",apply:"Save",stopDetection:"Stop",networkAbnormalAndRecovering:"Network error. Reconnecting...",warnNetwrokQualityLeaveTips:"Poor network signal. Check the network.",pleaseEnterStoreCode:"Enter storeCode.",websocketLinksExceeds:"Too many WebSocket connections.",singleTenantWebsocketLinksExceeds:"Too many WebSocket connections of a tenant.",invalidParamter:"Incorrect parameter.",toneResourceError:"Timbre resource error. Contact the administrator.",pleaseEnterDeviceId:"Enter a device ID.",conversationResourceFull:"Dialog resources used up. Contact the administrator to scale up resources.",conversationNoResource:"No dialog resources available. Contact the administrator.",authorizationExpired:"Authentication has expired. Refresh the page to activate.",currentLanguageNotSupportRecognition:"Voice recognition unavailable for this language. Try with another language.",SISAuthorizationFailed:"SIS authorization error. Contact your admin.",equipmentTest:"Check devices",equipmentTesting:"Checking...",computerMemory:"Computer memory",totalMemory:"Total ",noLessThan:"≥ %s",freeMemory:"Remaining ",diskSpace:"Storage space",allCheck:"Items checked: %s",testCompleted:"Completed",runNeedOk:"Meets running requirements.",volumeTest:"Volume test",deviceName:"Device name",noEnoughFreeMemory:"Insufficient memory",dissatisfied:"Not met",mobvoiUnauthorized:"Mobvoi authentication failed. Check whether the account and AppSecret are correct.",domainIsNotAllowed:"Domain access not allowed. Contact the admin.",failedToLoad:"%s loading failed.",upgradingAndRejoing:"Upgrading... Joining again...","开启你的数字人互动之旅=startYourDigitalHumanInteractionJourney":"Chat with virtual human now",mobvoiQuantityNotEnough:"Insufficient Mobvoi question quota. Increase the quota first.",mobvoiRoleIdIsInvalid:"Incorrect role ID in Mobvoi.",iflytekApplicationSceneConfigError:"Contact the administrator to check whether the language scenario was added in iFLYTEK.",refreshAssetFailed:"Query asset failed. Contact the administrator.",sure:"OK",mediaLinkEstablishmentFailed:"Set up media connection failed. Use another network and try again.",sayHelloToStart2:'Just say "%s" to chat.',activating:"Activating...",errorNoEnoughResource2:"Insufficient system resources. Try again later.",errorApplicationConfigurationResourcesFull2:"Insufficient dialog resources. Try again later or contact the administrator to scale out resources.",errorOrderResourcesFull2:"Insufficient dialog resources. Try again later or contact the administrator to scale out resources.",equipmentNormal:"Devices are running properly.",microphoneDeviceNotDetected:"No microphone detected.",collectLogs:"Collect logs",checkEquipment:"Check devices",errorRPCCallFailed:"Internal error. Please try again.",errorAIUIUnauthorized:"Authenticate AIUI configuration failed. Contact the administrator.",errorSpeakUnauthorized:"Authenticate Spark configuration failed. Contact the administrator.",errorOrderResourcesFull:"Create dialog task failed because subscribed resources have been used up. Contact the administrator.",errorApplicationConfigurationResourcesFull:"Create dialog task failed because application configuration resources have been used up. Try again later.",errorCurrentSessionExpired:"Session has expired.",AIUIUnauthorized2:"Authenticate AIUI configuration failed.",subscriptionResourceHasExpired:"Resource has expired and dialog task has been disabled. Renew the resource to continue the dialog.",requestTimedOutTrayAgain:"Request timed out. Try again later.",requestFailed:"Request failed.",requestFailedAndError:"Request failed. %s",websocketIsNotOpen:"WebSocket not connected. Try again later.",ttsInsufficientAccountBalance:"This voice is unavailable due to outstanding amounts. Contact your administrator to use another voice and try again.",sayHelloToStart:'Just say "%s" to chat.',errorActiveCodeAuthLocked:"Activation locked. Try again in %ss.",errorInteractiveNumberIsInsufficient:"Max. number of daily chat characters reached. Contact the administrator.",errorTokenNumberIsInsufficient:"Max. number of daily chat turns reached. Contact the administrator.",sayGoodbyeToStopChat:'Identifying... Say "%s" to end topic.',sayGoodbyeToStopChatV2:'Identifying... Say "%s" to end topic.',recognizingAndClickToStopV2:"Identifying... Click to end topic.",loading:"Loading...",operateTimeout:"Operation timed out.",clickToCeconnect:"Reconnect",webSocketOpenFailed:"Set up WebSocket connection failed.",operateFailed:"Operation failed.",quit:"Exit",maximize:"Maximize",enter:"Join",showInMainScreen:"Primary screen",intelligentInteractiveController:"Controller",showInSecondaryScreen:"Secondary screen",incorrectFormat:"Incorrect format.",pleaseEnterAddress:"Enter the activity address.",pageLoadFailed:"Load page failed.",reload:"Reload",activate:"Activate now",activePageTitle:"Activate intelligent interaction",activePlaceholder:"Activation code",brandNewConversation:"New topic",clickToStart:"Chat now",connecting:"Connecting…",copyErrorInfo:"Copy error info",copyFail:"Copy failed.",copySuccess:"Copied.",defaultErrorMessage:"Check whether the parameters or network is normal.",hint:"Information",jigsawStatusDefault:"Drag the slider to fill the puzzle piece.",jigsawStatusFail:"Verification failed. Please try again.",jigsawStatusSuccess:"Verified.",micPermission:"Microphone not enabled. Enable it and try again.",noEnoughAudioPermission:"No playback permission. Click OK to assign permission.",pageTitle:"Intelligent interaction",pleaseVerifyViaSlider:"Verification",recognizing:"Identifying…",recognizingAndClickToStop:"Identifying... Click to stop",refresh:"Refresh",stopAnswering:"Stop",stopping:"Stopping...",taskError:"Error occurred. Refresh the page and try again.",errorActiveCodeAuthExpired:"Activation code expired. Obtain a new one.",errorActiveCodeAuthFailed:"Activation failed. Enter the activation code again.",errorBrowserNotSupport:"Browser does not support this function. Upgrade the browser or use another one.",errorChatQuotaInsufficient:"Too many users. Try again later.",errorConnectionInterrupted:"Connection lost. Refresh the page.",errorConversationEnded:"Chat already ended or canceled. Refresh the page.",errorDialogConcurrentExceedMaxValue:"Too many concurrent users. Contact the admin.",errorInternalGeneral:"Internal error. Contact R&D engineers.",errorKickOut:"Already joined another room. Refresh the page to join this room.",errorNetworkError:"Network error. Check the network and try again.",errorNoAudioDevicePermission:"Microphone not enabled. Enable it and try again.",errorNoEnoughResource:"Insufficient resources. Try again later.",errorOnceCodeAuthLocked:"Authentication locked. Try again later.",errorPlayNotAllow:"No playback permission. Click OK to assign permission.",errorServerGeneral:"Server error. Contact R&D engineers.",errorSlideVerificatonVerifyFailed:"Verification failed. Please try again.",errorSlideVerificatonVerifyFailedAndExceedMaxTimes:"Slider verification locked. Try again later."}},15625:e=>{e.exports={youCanAlsoAskMe:"你还可以这样问我",TTS_VOICE_ASSET_UNACTIVATED:"当前音色已下架，语音播报失败，请联系管理员替换音色",clickToExitPreview:"点击任意位置退出预览",freeDiskSpaceNotEnough:"磁盘空间不足",model:"型号",fundamentalFrequency:"基频",turboFrequency:"睿频",ICS_EXTEND_PARAM_INVALID:"扩展参数格式非法，请携带格式正确的扩展参数",sayToStopSpeakingHub:"说“%s”可中断回答",answeringV3:"回答中，点击结束对话",sayStopAnswerToStopSpeaking:"回答中，说“%s”可中断回答",sayStopAnswerToStopSpeaking2:"思考中，说“%s”可中断回答",clickToStopAnswer:"回答中，点击中断回答",clickToStopThink:"思考中，点击中断思考",CLICK_OR_SPEAK_TO_INTERRUPT:"点击或说话打断",I_AM_LISTENING_PLEASE_SPEAK:"我正在听，您请讲",PLEASE_WAIT:"请稍等",IMAGE_LOAD_FAILED:"图片加载失败",IMAGE_LOADING:"图片加载中",PATH_DISALLOWED_CHINESE:"app路径不能包含中文",SHOW_FACE:"显示人脸",ICS_THIRD_PARTY_DRIVE_NOT_ALLOWED_THIS_WEB_MESSAGE:"第三方驱动不支持此操作请通过驱动接口控制",APP_PATH_DISALLOWED_CHINESE:"安装包路径不能包含中文,部分功能不可用",TTS_ACCESS_CONFIG_ERROR:"请检查购买的第三方音色的访问配置（ak、sk）是否正确",ICS_SIS_FROZEN_ERROR:"语音识别服务欠费不可用，请联系管理员检查",TTS_INVALID_TEXT:"抱歉，当前答案文本不支持语音播报",TTS_NO_ACCESS_CONFIG:"请检查购买的第三方音色的访问配置（ak、sk）是否配置",TTS_UNSUPPORTED_LANGUAGE_TEXT:"抱歉,当前音色暂不支持该语言，请检查音色配置",ICS_TEXT_QUESTION_LENGTH_LIMITED:"文本输入已超过上限，请检查后重新输入。",DHICIS_TTS_CONVERT_FAIL:"数字人开了个小差，请继续提问",ICS_PACIFY_WORDS_EXIST:"安抚话术已存在，请修改后重试",ICS_PACIFY_WORDS_COUNT_EXCEED_MAX_VALUE:"安抚话术数量超出上限，请联系管理员检查",ICS_PACIFY_WORDS_NOT_EXIST:"安抚话术不存在，请联系管理员检查",ICS_PACIFY_WORDS_NO_PERMISSION:"无安抚话术配置权限，请联系管理员检查",ICS_PACIFY_WORDS_INTENT_NOT_SUPPORT:"不支持该意图，请联系管理员检查",ICS_PACIFY_WORDS_LENGTH_EXCEED_MAX_VALUE:"安抚话术长度超出上限，请联系管理员检查",ICS_PACIFY_WORDS_TYPE_INVALID:"安抚话术类型非法，请联系管理员检查",ICS_INTENT_CALLBACK_AUTHORIZED_FAILED:"鉴权失败，请检查鉴权信息是否正确",ICS_MEDIA_SERVICE_ADDR_IS_EMPTY:"媒体服务地址为空，请联系技术人员进行问题定位及处理",ICS_MEDIA_NEGOTIATE_FAILED:"媒体协商失败，请联系技术人员进行问题定位及处理",MPS_ROOM_NAME_DUPLICATE:"交互房间名称重复",MPS_JOB_HEARTBEAT_FAILED:"智能交互任务心跳失败",MPS_ASSET_ID_INVALID:"资产id无效",MPS_OVER_RESOURCE_NUM:"超过租户的总资源数",MPS_JOB_NUM_OVER_CONCURRENCY:"超过对话配置并发",MPS_VOICE_ID_UNAVAILABLE:"音色id不可用，请检查音色id",MPS_TASK_EXPIRED:"智能交互任务过期",MPS_INSUFFICIENT_RESOURCE_QUOTA:"智能交互配额不足",MPS_JOB_NOT_EXISTED:"智能交互任务不存在或者已经过期",MPS_ASSET_ID_UNAVAILABLE:"资产不可用",MPS_CHANGE_FINISHED_JOB_STATE_FAILED:"任务状态已经完成，不支持修改",MPS_ROOM_INFO_NOT_FOUND:"房间信息未找到",MPS_QURREY_ASSET_FAILED:"查询dac 失败",MPS_NAME_INCLUDE_INVALID_SYMBOL:"名称包含特殊字符",DHICIS_ERROR:"请联系技术支持",DHICIS_INFER_SERVICE_ERROR:"请联系技术支持",DHICIS_TASK_READY_ERROR:"请联系技术支持",DHICIS_CREATE_INFER_MODEL_ERROR:"请联系技术支持",DHICIS_WORKER_JOIN_ROOM_FAIL:"请联系技术支持",DHICIS_MANAGER_SERVICE_ERROR:"请重试，如果失败请联系技术支持",DHICIS_JOB_STOP_BY_COMMAND:"任务已被关闭结束，请重新开启新的任务",DHICIS_FSM_STATE_TIME_OUT:"请重试，如果失败请联系技术支持",DHICIS_ICS_ERROR:"请重试，如果失败请联系技术支持",DHICIS_RTSA_ROOM_EMPTY:"请重试，如果失败请联系技术支持",DHICIS_RTSA_REPORT_LEAVE_ROOM:"请重试，如果失败请联系技术支持",DHICIS_MODEL_FILE_DOWN_FAIL:"请检查人物模型资产文件是否存在，不存在请更换人物模型，如果存在请联系技术支持",DHICIS_BACKGROUND_FILE_DOWN_FAIL:"请检背景图片资产文件是否存在，不存在请更换背景，如果存在请联系技术支持",DHICIS_WORKER_JOIN_ROOM_TIMEOUT:"请重试，如果失败请联系技术支持",DHICIS_JOIN_ROOM_TASK_FAIL:"请重试，如果失败请联系技术支持",DHICIS_TTS_PREHEAT_TASK_FAIL:"请重试，如果失败请联系技术支持",DHICIS_DATA_PACKAGE_IS_NOT_ZIP:"人物模型资产格式不对，请更换模型或者联系技术支持",DHICIS_TOO_MANY_ENTRIES_IN_PACKAGE:"请重试，如果失败请联系技术支持",DHICIS_PACKAGE_TOO_LARGE:"请重试，如果失败请联系技术支持",DHICIS_FILE_IN_PACKAGE_TOO_LARGE:"请重试，如果失败请联系技术支持",DHICIS_UNEXPECTED_DIRECTORY_IN_PACKAGE:"请重试，如果失败请联系技术支持",DHICIS_PACKAGE_ENTRY_ILLEGAL_NAME:"请重试，如果失败请联系技术支持",DHICIS_FILE_NAME_INVALID:"请重试，如果失败请联系技术支持",DHICIS_JOB_INFO_PARA_INVALID:"请联系技术支持",DHICIS_FSM_STATE_ERROR:"请重试，如果失败请联系技术支持",ICS_NOT_IN_TEXT_MODE:"当前非文本模式，请切换至文本对话模式后再尝试",ICS_TEXT_QUESTION_IS_EMPTY:"您还没有输入内容哦",ICS_TEXT_QUESTION_NOT_IN_WAIT_QUESTION_STATUS:"数字人正在回答中或休眠中，请先打断回答或唤醒数字人再提问",ICS_INVALID_INTERACTION_MODE:"该模式无效无法切换至此模式",ICS_UNMATCHED_APP_TYPE_AIUI:"检测到您当前配置的是星火大模型，与所选应用类型不匹配，请检查应用类型与应用信息是否匹配",ICS_UNMATCHED_APP_TYPE_SPARK:"检测到您当前配置的是AIUI的应用，与所选应用类型不匹配，请检查应用类型与应用信息是否匹配",ICS_THIRD_PARTY_DRIVER_NOT_ALLOWED_WEB_START_CHAT:"当前选择的应用类型暂不支持，请检查所选的应用类型或驱动方式是否正确",DIALOG_NOT_EXIST:"对话不存在，请检查操作是否正确或联系技术人员进行问题定位及处理",RPC_ACTION_NOT_EXIST:"发生未知错误，请检查操作是否正确或联系技术人员进行问题定位及处理",ICS_EXCEPTION:"发生未知错误，请检查操作是否正确或联系技术人员进行问题定位及处理",REQUEST_TOO_FREQUENTLY:"请求过于频繁，请稍后重试",TENANT_CLEANUP_JOB_STOPPED:"租户注销后数据已清理，相关任务只能停止啦",NO_PERMISSION_TO_ACCESS:"没有权限访问，请检查操作是否正确或联系技术人员进行问题定位及处理",ROBOT_NOT_EXIST:"应用不存在，请检查操作是否正确或联系技术人员进行问题定位及处理",ROBOT_NO_PERMISSION:"没有权限访问应用配置，请检查操作是否正确或联系技术人员进行问题定位及处理",START_SMART_CHAT_FAILED:"启动智能交互任务失败，请联系技术人员进行问题定位及处理",STOP_SMART_CHAT_FAILED:"结束智能交互任务失败，请联系技术人员进行问题定位及处理",SHOW_SMART_CHAT_FAILED:"查询智能交互任务失败，请联系技术人员进行问题定位及处理",GENERATE_SLIDE_VERIFICATON_FAILED:"发生未知错误，请检查操作是否正确或联系技术人员进行问题定位及处理",SLIDE_VERIFICATON_NOT_EXIST:"滑块验证码信息已过期，请重试",DIALOG_NO_PERMISSION:"没有权限访问对话信息，请检查操作是否正确或联系技术人员进行问题定位及处理",HOT_QUESTION_NOT_EXIST:"热点问题不存在，无需处理",MESSAGE_PARSE_ERROR:"消息解析失败，请检查操作是否正确或联系技术人员进行问题定位及处理",UNKNOWN_ACTION:"收到无效指令，请检查操作是否正确或联系技术人员进行问题定位及处理",CONNECT_APP_TIMEOUT:"请求第三方应用超时，请检查应用配置或联系技术人员进行问题定位及处理",AUTHTOKEN_INVALID:"鉴权凭证无效，请重试",QUERYPARAM_INVALID:"对话建链失败，携带的参数无效，请检查操作是否正确或联系技术人员进行问题定位及处理",CLIENT_ERROR_MESSAGE:"第三方应用返回错误信息，请检查应用配置或联系技术人员进行问题定位及处理",WEBCLIENT_START_CHAT_WORKER_DISCONNECT:"发生未知错误，请重试或联系技术人员进行问题定位及处理",CHANNEL_RECORED_NOT_FOUND:"发生未知错误，请重试或联系技术人员进行问题定位及处理",MOBVOI_REQUEST_FLOW_LIMITED:"奇妙问提问超过并发数限制，请稍后重试或联系技术人员增加并发数",UPLOAD_LOG_COUNT_EXCEED_MAX_COUNT:"上传日志文件数量超过最大值，请稍后重试",WEBSOCKET_CONNECTION_JOB_COUNT_EXCEED_MAX_VALUE:"websocket连接数超过最大值，请联系技术人员进行问题定位及处理",WEBSOCKET_CONNECTION_POD_COUNT_EXCEED_MAX_VALUE:"websocket连接数超过最大值，请联系技术人员进行问题定位及处理",RTC_ERR_CODE_RTC_SDK_ERROR:"SDK出错啦，请联系技术人员进行问题定位及处理",RTC_ERR_CODE_WAIT_RSP_TIMEOUT:"消息响应超时，请联系技术人员进行问题定位及处理",RTC_ERR_CODE_INVALID_PARAMETER:"参数传递错误，请联系技术人员进行问题定位及处理",RTC_ERR_CODE_INVALID_OPERATION:"用户状态不正确，请检查操作是否正确或联系技术人员进行问题定位及处理",RTC_ERR_CODE_NO_AVAILABLE_DEVICES:"未找到可用设备，请排查设备是否就绪",RTC_ERR_CODE_NO_AVAILABLE_VIDEO_INPUT_DEVICES:"未找到可用摄像头设备，请排查视频采集设备是否就绪",RTC_ERR_CODE_NO_AVAILABLE_AUDIO_INPUT_DEVICES:"未找到音频输入设备，请排查音频采集设备是否就绪",RTC_ERR_CODE_NO_AVAILABLE_AUDIO_OUTPUT_DEVICES:"未找到音频输出设备",RTC_ERR_CODE_STATUS_ERROR:"房间状态不正确，检查是否入会成功",RTC_ERR_CODE_WAIT_CONFIG_FAIL:"获取下发配置失败，请联系技术支持",RTC_ERR_CODE_PUBLISH_RESPONSE_FAIL:"发布流响应失败，请联系技术支持",RTC_ERR_CODE_REGION_NOT_COVERED:"没有找到服务端地址，请联系技术支持",RTC_ERR_CODE_WEBSOCKET_INTERRUPTED:"websocket链接被强制关闭，一般为离会或者重连",RTC_ERR_CODE_CAPTURE_PERMISSION_DENIED:"您未授权使用麦克风导致无法采集，请在浏览器设置中允许授权使用麦克风",RTC_ERR_CODE_CAPTURE_OVER_CONSTRAINED:"采集失败，音视频采集设备不支持设置的采集约束",RTC_ERR_CODE_CAPTURE_DEVICE_NOT_FOUND:"未找到可用设备，请排查设备是否就绪",RTC_ERR_CODE_CAPTURE_DEVICE_NOT_READABLE:"暂时无法访问麦克风，请确保当前没有其他应用请求访问麦克风，并重试",RTC_ERR_CODE_ROLE_NO_PERMISSION:"用户角色没有权限，请检查用户角色",RTC_ERR_CODE_ANSWER_SDP_INVALID:"SDP协商错误，请联系技术支持",RTC_ERR_CODE_CLIENT_RELAY_ROOM_OVER_MAXNUM:"跨房数量超过最大值",RTC_ERR_CODE_CLIENT_RELAY_JOINER_OVER_MAXNUM:"跨房内主播人数超过最大值",RTC_ERR_CODE_ROOM_STREAM_STATUS_PAUSED:"房间音视频暂停",RTC_ERR_CODE_SIGNATURE_EXPIRED:"签名过期",RTC_ERR_CODE_SIGNATURE_INVALID:"签名错误，请检查操作是否正确或联系技术人员进行问题定位及处理",ERR_GENERAL:"发生未知错误，请检查操作是否正确或联系技术人员进行问题定位及处理",guessYouWantToAsk:"猜你想问",audioDeviceNotAllow:"您已禁止使用麦克风，无法进行设备检测，请在浏览器设置中允许授权使用麦克风",notSupportChangeSpeaker:"当前浏览器不支持切换设备，请在系统设置中选择扬声器",noSpeakerTip:"未检测到扬声器，请接入扬声器设备",noMicrophoneTip:"未检测到麦克风，请接入麦克风设备",noSpeaker:"未检测到扬声器",noMicrophone:"未检测到麦克风",audioDevice:"声音设备",deviceDetection:"设备检测",speaker:"扬声器",detectingSpeaker:"检测扬声器",microphone:"麦克风",detectingMicrophone:"检测麦克风",cancel:"取消",apply:"应用",stopDetection:"停止检测",networkAbnormalAndRecovering:"网络异常，正在恢复",warnNetwrokQualityLeaveTips:"当前网络信号较差,请检查网络",pleaseEnterStoreCode:"请输入storeCode",websocketLinksExceeds:"websocket建链总数超过阈值",singleTenantWebsocketLinksExceeds:"单租户websocket建链总数超过阈值",invalidParamter:"参数错误",toneResourceError:"数字人音色资源错误，请联系管理员检查",pleaseEnterDeviceId:"请输入DeviceId",conversationResourceFull:"对话资源已满，请联系管理员扩容",conversationNoResource:"对话无资源，请配置管理员配置",authorizationExpired:"当前授权已失效，请刷新页面重新激活",currentLanguageNotSupportRecognition:"当前选择的语言不支持语音识别，请切换语言后重新尝试。",SISAuthorizationFailed:"SIS授权存在问题，请联系管理员检查",equipmentTest:"设备检测",equipmentTesting:"设备检测中",computerMemory:"电脑内存",totalMemory:"总内存",noLessThan:"不少于%s",freeMemory:"剩余内存",diskSpace:"磁盘空间",allCheck:"共检测%s项",testCompleted:"检测完成",runNeedOk:"满足运行需求",volumeTest:"音量测试",deviceName:"设备名称",noEnoughFreeMemory:"剩余内存不足",dissatisfied:"不满足",mobvoiUnauthorized:"奇妙问鉴权失败，请检查账号和AppSecret是否正确配置",domainIsNotAllowed:"此域名不允许访问，请联系管理员",failedToLoad:"%s加载失败",upgradingAndRejoing:"升级中，正在重新加入","开启你的数字人互动之旅=startYourDigitalHumanInteractionJourney":"开启你的数字人互动之旅",mobvoiQuantityNotEnough:"奇妙问提问次数或配额不足，需添加调用配额以继续使用",mobvoiRoleIdIsInvalid:"奇妙问角色 ID 配置错误，请检查是否正确配置",iflytekApplicationSceneConfigError:"请联系管理员检查是否在讯飞平台应用配置内创建对应语言的情景模式",refreshAssetFailed:"当前资产查询失败，请联系管理员检查",sure:"确定",mediaLinkEstablishmentFailed:"媒体建链失败，请切换网络重试",sayHelloToStart2:"您好，试试说“%s”开始与我对话",activating:"激活中",errorNoEnoughResource2:"系统资源不足，请稍后重试",errorApplicationConfigurationResourcesFull2:"对话资源不足，请排队等待或者联系管理员扩容",errorOrderResourcesFull2:"租户资源不足，请排队等待或者联系管理员扩容",equipmentNormal:"设备正常",microphoneDeviceNotDetected:"未检测到麦克风设备",collectLogs:"收集日志",checkEquipment:"检查设备",errorRPCCallFailed:"内部错误，请重试当前操作",errorAIUIUnauthorized:"AIUI配置鉴权失败，请联系管理员检查",errorSpeakUnauthorized:"星火配置鉴权失败，请联系管理员检查",errorOrderResourcesFull:"订购资源已满，对话任务创建失败，请联系管理员购买",errorApplicationConfigurationResourcesFull:"应用配置资源已满，对话任务创建失败，请稍后重试",errorCurrentSessionExpired:"当前会话已失效",AIUIUnauthorized2:"AIUI配置鉴权失败请检查",subscriptionResourceHasExpired:"订购资源已到期，对话任务被停用，请及时续费",requestTimedOutTrayAgain:"请求超时，请稍后重试",requestFailed:"请求失败",requestFailedAndError:"请求失败，%s",websocketIsNotOpen:"websocket未连接，请稍后重试",ttsInsufficientAccountBalance:"音色欠费不可用,请联系管理员更换其他音色后重试",sayHelloToStart:"试试说“%s”开始对话",errorActiveCodeAuthLocked:"验证码激活已锁定，请稍后重试, 剩余%s秒",errorInteractiveNumberIsInsufficient:"问答字数今日已达上限，请联系管理员",errorTokenNumberIsInsufficient:"问答次数今日已达上限，请联系管理员",sayGoodbyeToStopChat:"识别中，说“%s”结束当前对话",sayGoodbyeToStopChatV2:"识别中，说“%s”结束当前对话",recognizingAndClickToStopV2:"识别中，点击结束对话",loading:"正在加载中",operateTimeout:"操作超时",clickToCeconnect:"点击重新连接",webSocketOpenFailed:"WebSocket建链失败",operateFailed:"操作失败",quit:"退出",maximize:"最大化",enter:"立即进入",showInMainScreen:"显示到主屏",intelligentInteractiveController:"智能交互控制器",showInSecondaryScreen:"显示到副屏",incorrectFormat:"格式不正确",pleaseEnterAddress:"请输入活动地址",pageLoadFailed:"页面加载失败",reload:"重新加载",activate:"立即激活",activePageTitle:"智能交互激活",activePlaceholder:"请输入激活码",brandNewConversation:"全新对话",clickToStart:"点击开始对话",connecting:"连接中",copyErrorInfo:"复制错误信息",copyFail:"复制失败",copySuccess:"复制成功",defaultErrorMessage:"请检查参数或者网络是否正常",hint:"提示",jigsawStatusDefault:"向右拖动滑块填充拼图",jigsawStatusFail:"验证失败，请重试",jigsawStatusSuccess:"校验成功",micPermission:"麦克风权限未开启，请开启之后重试",noEnoughAudioPermission:"当前没有播放权限，请点击确认继续",pageTitle:"智能交互",pleaseVerifyViaSlider:"请通过滑块验证",recognizing:"识别中",recognizingAndClickToStop:"识别中，点击停止",refresh:"刷新",stopAnswering:"停止回答",stopping:"停止中",taskError:"活动异常，请刷新后重试",errorActiveCodeAuthExpired:"激活码已过期，请重新获取",errorActiveCodeAuthFailed:"激活失败，请重新输入激活码",errorBrowserNotSupport:"浏览器不支持，请升级或者更换其他浏览器",errorChatQuotaInsufficient:"使用人数达到上限，请等其他人释放后使用",errorConnectionInterrupted:"连接中断，请刷新重试",errorConversationEnded:"当前对话已经结束或被取消，请刷新重新加入",errorDialogConcurrentExceedMaxValue:"并发数超过最大值，请联系对话管理员",errorInternalGeneral:"内部错误，请联系开发人员",errorKickOut:"您已经在其他地方加入房间，如需恢复请刷新重试",errorNetworkError:"网络错误，请检查网络后重试",errorNoAudioDevicePermission:"麦克风权限未开启，请开启后重试",errorNoEnoughResource:"资源不足，请稍后重试",errorOnceCodeAuthLocked:"鉴权码鉴权已锁定，请稍后重试",errorPlayNotAllow:"当前没有播放权限，请点击确认继续",errorServerGeneral:"服务端错误，请联系开发人员",errorSlideVerificatonVerifyFailed:"验证失败，请重试",errorSlideVerificatonVerifyFailedAndExceedMaxTimes:"滑块验证已锁定，请稍后重试"}},42152:function(e){(function t(r,n){if(true)e.exports=n();else{}})(this,(function(){return function(){var e={686:function(e,t,r){"use strict";r.d(t,{default:function(){return M}});var n=r(279);var i=r.n(n);var o=r(370);var a=r.n(o);var s=r(817);var u=r.n(s);function c(e){try{return document.execCommand(e)}catch(e){return false}}var l=function e(t){var r=u()(t);c("cut");return r};var f=l;function d(e){var t=document.documentElement.getAttribute("dir")==="rtl";var r=document.createElement("textarea");r.style.fontSize="12pt";r.style.border="0";r.style.padding="0";r.style.margin="0";r.style.position="absolute";r.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;r.style.top="".concat(n,"px");r.setAttribute("readonly","");r.value=e;return r}var h=function e(t,r){var n=d(t);r.container.appendChild(n);var i=u()(n);c("copy");n.remove();return i};var p=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{container:document.body};var n="";if(typeof t==="string"){n=h(t,r)}else if(t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(t===null||t===void 0?void 0:t.type)){n=h(t.value,r)}else{n=u()(t);c("copy")}return n};var v=p;function g(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){g=function e(t){return typeof t}}else{g=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return g(e)}var m=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=t.action,n=r===void 0?"copy":r,i=t.container,o=t.target,a=t.text;if(n!=="copy"&&n!=="cut"){throw new Error('Invalid "action" value, use either "copy" or "cut"')}if(o!==undefined){if(o&&g(o)==="object"&&o.nodeType===1){if(n==="copy"&&o.hasAttribute("disabled")){throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute')}if(n==="cut"&&(o.hasAttribute("readonly")||o.hasAttribute("disabled"))){throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}}else{throw new Error('Invalid "target" value, use a valid Element')}}if(a){return v(a,{container:i})}if(o){return n==="cut"?f(o):v(o,{container:i})}};var y=m;function _(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_=function e(t){return typeof t}}else{_=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _(e)}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function S(e,t,r){if(t)E(e.prototype,t);if(r)E(e,r);return e}function w(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)T(e,t)}function T(e,t){T=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return T(e,t)}function C(e){var t=I();return function r(){var n=k(e),i;if(t){var o=k(this).constructor;i=Reflect.construct(n,arguments,o)}else{i=n.apply(this,arguments)}return A(this,i)}}function A(e,t){if(t&&(_(t)==="object"||typeof t==="function")){return t}return R(e)}function R(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function I(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function O(e,t){var r="data-clipboard-".concat(e);if(!t.hasAttribute(r)){return}return t.getAttribute(r)}var P=function(e){w(r,e);var t=C(r);function r(e,n){var i;b(this,r);i=t.call(this);i.resolveOptions(n);i.listenClick(e);return i}S(r,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.action=typeof t.action==="function"?t.action:this.defaultAction;this.target=typeof t.target==="function"?t.target:this.defaultTarget;this.text=typeof t.text==="function"?t.text:this.defaultText;this.container=_(t.container)==="object"?t.container:document.body}},{key:"listenClick",value:function e(t){var r=this;this.listener=a()(t,"click",(function(e){return r.onClick(e)}))}},{key:"onClick",value:function e(t){var r=t.delegateTarget||t.currentTarget;var n=this.action(r)||"copy";var i=y({action:n,container:this.container,target:this.target(r),text:this.text(r)});this.emit(i?"success":"error",{action:n,text:i,trigger:r,clearSelection:function e(){if(r){r.focus()}window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function e(t){return O("action",t)}},{key:"defaultTarget",value:function e(t){var r=O("target",t);if(r){return document.querySelector(r)}}},{key:"defaultText",value:function e(t){return O("text",t)}},{key:"destroy",value:function e(){this.listener.destroy()}}],[{key:"copy",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{container:document.body};return v(t,r)}},{key:"cut",value:function e(t){return f(t)}},{key:"isSupported",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:["copy","cut"];var r=typeof t==="string"?[t]:t;var n=!!document.queryCommandSupported;r.forEach((function(e){n=n&&!!document.queryCommandSupported(e)}));return n}}]);return r}(i());var M=P},828:function(e){var t=9;if(typeof Element!=="undefined"&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}function n(e,r){while(e&&e.nodeType!==t){if(typeof e.matches==="function"&&e.matches(r)){return e}e=e.parentNode}}e.exports=n},438:function(e,t,r){var n=r(828);function i(e,t,r,n,i){var o=a.apply(this,arguments);e.addEventListener(r,o,i);return{destroy:function(){e.removeEventListener(r,o,i)}}}function o(e,t,r,n,o){if(typeof e.addEventListener==="function"){return i.apply(null,arguments)}if(typeof r==="function"){return i.bind(null,document).apply(null,arguments)}if(typeof e==="string"){e=document.querySelectorAll(e)}return Array.prototype.map.call(e,(function(e){return i(e,t,r,n,o)}))}function a(e,t,r,i){return function(r){r.delegateTarget=n(r.target,t);if(r.delegateTarget){i.call(e,r)}}}e.exports=o},879:function(e,t){t.node=function(e){return e!==undefined&&e instanceof HTMLElement&&e.nodeType===1};t.nodeList=function(e){var r=Object.prototype.toString.call(e);return e!==undefined&&(r==="[object NodeList]"||r==="[object HTMLCollection]")&&"length"in e&&(e.length===0||t.node(e[0]))};t.string=function(e){return typeof e==="string"||e instanceof String};t.fn=function(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"}},370:function(e,t,r){var n=r(879);var i=r(438);function o(e,t,r){if(!e&&!t&&!r){throw new Error("Missing required arguments")}if(!n.string(t)){throw new TypeError("Second argument must be a String")}if(!n.fn(r)){throw new TypeError("Third argument must be a Function")}if(n.node(e)){return a(e,t,r)}else if(n.nodeList(e)){return s(e,t,r)}else if(n.string(e)){return u(e,t,r)}else{throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}}function a(e,t,r){e.addEventListener(t,r);return{destroy:function(){e.removeEventListener(t,r)}}}function s(e,t,r){Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,r)}));return{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,r)}))}}}function u(e,t,r){return i(document.body,e,t,r)}e.exports=o},817:function(e){function t(e){var t;if(e.nodeName==="SELECT"){e.focus();t=e.value}else if(e.nodeName==="INPUT"||e.nodeName==="TEXTAREA"){var r=e.hasAttribute("readonly");if(!r){e.setAttribute("readonly","")}e.select();e.setSelectionRange(0,e.value.length);if(!r){e.removeAttribute("readonly")}t=e.value}else{if(e.hasAttribute("contenteditable")){e.focus()}var n=window.getSelection();var i=document.createRange();i.selectNodeContents(e);n.removeAllRanges();n.addRange(i);t=n.toString()}return t}e.exports=t},279:function(e){function t(){}t.prototype={on:function(e,t,r){var n=this.e||(this.e={});(n[e]||(n[e]=[])).push({fn:t,ctx:r});return this},once:function(e,t,r){var n=this;function i(){n.off(e,i);t.apply(r,arguments)}i._=t;return this.on(e,i,r)},emit:function(e){var t=[].slice.call(arguments,1);var r=((this.e||(this.e={}))[e]||[]).slice();var n=0;var i=r.length;for(n;n<i;n++){r[n].fn.apply(r[n].ctx,t)}return this},off:function(e,t){var r=this.e||(this.e={});var n=r[e];var i=[];if(n&&t){for(var o=0,a=n.length;o<a;o++){if(n[o].fn!==t&&n[o].fn._!==t)i.push(n[o])}}i.length?r[e]=i:delete r[e];return this}};e.exports=t;e.exports.TinyEmitter=t}};var t={};function r(n){if(t[n]){return t[n].exports}var i=t[n]={exports:{}};e[n](i,i.exports,r);return i.exports}!function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};r.d(t,{a:t});return t}}();!function(){r.d=function(e,t){for(var n in t){if(r.o(t,n)&&!r.o(e,n)){Object.defineProperty(e,n,{enumerable:true,get:t[n]})}}}}();!function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();return r(686)}().default}))},40452:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(98269),r(68214),r(90888),r(75109))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.BlockCipher;var i=t.algo;var o=[];var a=[];var s=[];var u=[];var c=[];var l=[];var f=[];var d=[];var h=[];var p=[];(function(){var e=[];for(var t=0;t<256;t++){if(t<128){e[t]=t<<1}else{e[t]=t<<1^283}}var r=0;var n=0;for(var t=0;t<256;t++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^i&255^99;o[r]=i;a[i]=r;var v=e[r];var g=e[v];var m=e[g];var y=e[i]*257^i*16843008;s[r]=y<<24|y>>>8;u[r]=y<<16|y>>>16;c[r]=y<<8|y>>>24;l[r]=y;var y=m*16843009^g*65537^v*257^r*16843008;f[i]=y<<24|y>>>8;d[i]=y<<16|y>>>16;h[i]=y<<8|y>>>24;p[i]=y;if(!r){r=n=1}else{r=v^e[e[e[m^v]]];n^=e[e[n]]}}})();var v=[0,1,2,4,8,16,32,64,128,27,54];var g=i.AES=n.extend({_doReset:function(){var e;if(this._nRounds&&this._keyPriorReset===this._key){return}var t=this._keyPriorReset=this._key;var r=t.words;var n=t.sigBytes/4;var i=this._nRounds=n+6;var a=(i+1)*4;var s=this._keySchedule=[];for(var u=0;u<a;u++){if(u<n){s[u]=r[u]}else{e=s[u-1];if(!(u%n)){e=e<<8|e>>>24;e=o[e>>>24]<<24|o[e>>>16&255]<<16|o[e>>>8&255]<<8|o[e&255];e^=v[u/n|0]<<24}else if(n>6&&u%n==4){e=o[e>>>24]<<24|o[e>>>16&255]<<16|o[e>>>8&255]<<8|o[e&255]}s[u]=s[u-n]^e}}var c=this._invKeySchedule=[];for(var l=0;l<a;l++){var u=a-l;if(l%4){var e=s[u]}else{var e=s[u-4]}if(l<4||u<=4){c[l]=e}else{c[l]=f[o[e>>>24]]^d[o[e>>>16&255]]^h[o[e>>>8&255]]^p[o[e&255]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,u,c,l,o)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3];e[t+3]=r;this._doCryptBlock(e,t,this._invKeySchedule,f,d,h,p,a);var r=e[t+1];e[t+1]=e[t+3];e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,a,s){var u=this._nRounds;var c=e[t]^r[0];var l=e[t+1]^r[1];var f=e[t+2]^r[2];var d=e[t+3]^r[3];var h=4;for(var p=1;p<u;p++){var v=n[c>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[d&255]^r[h++];var g=n[l>>>24]^i[f>>>16&255]^o[d>>>8&255]^a[c&255]^r[h++];var m=n[f>>>24]^i[d>>>16&255]^o[c>>>8&255]^a[l&255]^r[h++];var y=n[d>>>24]^i[c>>>16&255]^o[l>>>8&255]^a[f&255]^r[h++];c=v;l=g;f=m;d=y}var v=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[d&255])^r[h++];var g=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[c&255])^r[h++];var m=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[l&255])^r[h++];var y=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[f&255])^r[h++];e[t]=v;e[t+1]=g;e[t+2]=m;e[t+3]=y},keySize:256/32});t.AES=n._createHelper(g)})();return e.AES}))},87407:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(98269),r(68214),r(90888),r(75109))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.BlockCipher;var i=t.algo;const o=16;const a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];const s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function c(e,t){let r=t>>24&255;let n=t>>16&255;let i=t>>8&255;let o=t&255;let a=e.sbox[0][r]+e.sbox[1][n];a=a^e.sbox[2][i];a=a+e.sbox[3][o];return a}function l(e,t,r){let n=t;let i=r;let a;for(let t=0;t<o;++t){n=n^e.pbox[t];i=c(e,n)^i;a=n;n=i;i=a}a=n;n=i;i=a;i=i^e.pbox[o];n=n^e.pbox[o+1];return{left:n,right:i}}function f(e,t,r){let n=t;let i=r;let a;for(let t=o+1;t>1;--t){n=n^e.pbox[t];i=c(e,n)^i;a=n;n=i;i=a}a=n;n=i;i=a;i=i^e.pbox[1];n=n^e.pbox[0];return{left:n,right:i}}function d(e,t,r){for(let t=0;t<4;t++){e.sbox[t]=[];for(let r=0;r<256;r++){e.sbox[t][r]=s[t][r]}}let n=0;for(let i=0;i<o+2;i++){e.pbox[i]=a[i]^t[n];n++;if(n>=r){n=0}}let i=0;let u=0;let c=0;for(let t=0;t<o+2;t+=2){c=l(e,i,u);i=c.left;u=c.right;e.pbox[t]=i;e.pbox[t+1]=u}for(let t=0;t<4;t++){for(let r=0;r<256;r+=2){c=l(e,i,u);i=c.left;u=c.right;e.sbox[t][r]=i;e.sbox[t][r+1]=u}}return true}var h=i.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset===this._key){return}var e=this._keyPriorReset=this._key;var t=e.words;var r=e.sigBytes/4;d(u,t,r)},encryptBlock:function(e,t){var r=l(u,e[t],e[t+1]);e[t]=r.left;e[t+1]=r.right},decryptBlock:function(e,t){var r=f(u,e[t],e[t+1]);e[t]=r.left;e[t+1]=r.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(h)})();return e.Blowfish}))},75109:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(90888))}else{}})(this,(function(e){e.lib.Cipher||function(t){var r=e;var n=r.lib;var i=n.Base;var o=n.WordArray;var a=n.BufferedBlockAlgorithm;var s=r.enc;var u=s.Utf8;var c=s.Base64;var l=r.algo;var f=l.EvpKDF;var d=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r);this._xformMode=e;this._key=t;this.reset()},reset:function(){a.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},finalize:function(e){if(e){this._append(e)}var t=this._doFinalize();return t},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){if(typeof e=="string"){return A}else{return w}}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()});var h=n.StreamCipher=d.extend({_doFinalize:function(){var e=this._process(!!"flush");return e},blockSize:1});var p=r.mode={};var v=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e;this._iv=t}});var g=p.CBC=function(){var e=v.extend();e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher;var i=n.blockSize;r.call(this,e,t,i);n.encryptBlock(e,t);this._prevBlock=e.slice(t,t+i)}});e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher;var i=n.blockSize;var o=e.slice(t,t+i);n.decryptBlock(e,t);r.call(this,e,t,i);this._prevBlock=o}});function r(e,r,n){var i;var o=this._iv;if(o){i=o;this._iv=t}else{i=this._prevBlock}for(var a=0;a<n;a++){e[r+a]^=i[a]}}return e}();var m=r.pad={};var y=m.Pkcs7={pad:function(e,t){var r=t*4;var n=r-e.sigBytes%r;var i=n<<24|n<<16|n<<8|n;var a=[];for(var s=0;s<n;s+=4){a.push(i)}var u=o.create(a,n);e.concat(u)},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}};var _=n.BlockCipher=d.extend({cfg:d.cfg.extend({mode:g,padding:y}),reset:function(){var e;d.reset.call(this);var t=this.cfg;var r=t.iv;var n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE){e=n.createEncryptor}else{e=n.createDecryptor;this._minBufferSize=1}if(this._mode&&this._mode.__creator==e){this._mode.init(this,r&&r.words)}else{this._mode=e.call(n,this,r&&r.words);this._mode.__creator=e}},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e;var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);e=this._process(!!"flush")}else{e=this._process(!!"flush");t.unpad(e)}return e},blockSize:128/32});var b=n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}});var E=r.format={};var S=E.OpenSSL={stringify:function(e){var t;var r=e.ciphertext;var n=e.salt;if(n){t=o.create([1398893684,1701076831]).concat(n).concat(r)}else{t=r}return t.toString(c)},parse:function(e){var t;var r=c.parse(e);var n=r.words;if(n[0]==1398893684&&n[1]==1701076831){t=o.create(n.slice(2,4));n.splice(0,4);r.sigBytes-=16}return b.create({ciphertext:r,salt:t})}};var w=n.SerializableCipher=i.extend({cfg:i.extend({format:S}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n);var o=i.finalize(t);var a=i.cfg;return b.create({ciphertext:o,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){n=this.cfg.extend(n);t=this._parse(t,n.format);var i=e.createDecryptor(r,n).finalize(t.ciphertext);return i},_parse:function(e,t){if(typeof e=="string"){return t.parse(e,this)}else{return e}}});var T=r.kdf={};var C=T.OpenSSL={execute:function(e,t,r,n,i){if(!n){n=o.random(64/8)}if(!i){var a=f.create({keySize:t+r}).compute(e,n)}else{var a=f.create({keySize:t+r,hasher:i}).compute(e,n)}var s=o.create(a.words.slice(t),r*4);a.sigBytes=t*4;return b.create({key:a,iv:s,salt:n})}};var A=n.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:C}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=n.kdf.execute(r,e.keySize,e.ivSize,n.salt,n.hasher);n.iv=i.iv;var o=w.encrypt.call(this,e,t,i.key,n);o.mixIn(i);return o},decrypt:function(e,t,r,n){n=this.cfg.extend(n);t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt,n.hasher);n.iv=i.iv;var o=w.decrypt.call(this,e,t,i.key,n);return o}})}()}))},78249:function(e,t,r){(function(r,n){if(true){e.exports=t=n()}else{}})(this,(function(){var e=e||function(e,t){var n;if(typeof window!=="undefined"&&window.crypto){n=window.crypto}if(typeof self!=="undefined"&&self.crypto){n=self.crypto}if(typeof globalThis!=="undefined"&&globalThis.crypto){n=globalThis.crypto}if(!n&&typeof window!=="undefined"&&window.msCrypto){n=window.msCrypto}if(!n&&typeof r.g!=="undefined"&&r.g.crypto){n=r.g.crypto}if(!n&&"function"==="function"){try{n=r(42480)}catch(e){}}var i=function(){if(n){if(typeof n.getRandomValues==="function"){try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}}if(typeof n.randomBytes==="function"){try{return n.randomBytes(4).readInt32LE()}catch(e){}}}throw new Error("Native crypto module could not be used to get secure random number.")};var o=Object.create||function(){function e(){}return function(t){var r;e.prototype=t;r=new e;e.prototype=null;return r}}();var a={};var s=a.lib={};var u=s.Base=function(){return{extend:function(e){var t=o(this);if(e){t.mixIn(e)}if(!t.hasOwnProperty("init")||this.init===t.init){t.init=function(){t.$super.init.apply(this,arguments)}}t.init.prototype=t;t.$super=this;return t},create:function(){var e=this.extend();e.init.apply(e,arguments);return e},init:function(){},mixIn:function(e){for(var t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}if(e.hasOwnProperty("toString")){this.toString=e.toString}},clone:function(){return this.init.prototype.extend(this)}}}();var c=s.WordArray=u.extend({init:function(e,r){e=this.words=e||[];if(r!=t){this.sigBytes=r}else{this.sigBytes=e.length*4}},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words;var r=e.words;var n=this.sigBytes;var i=e.sigBytes;this.clamp();if(n%4){for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}}else{for(var s=0;s<i;s+=4){t[n+s>>>2]=r[s>>>2]}}this.sigBytes+=i;return this},clamp:function(){var t=this.words;var r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8;t.length=e.ceil(r/4)},clone:function(){var e=u.clone.call(this);e.words=this.words.slice(0);return e},random:function(e){var t=[];for(var r=0;r<e;r+=4){t.push(i())}return new c.init(t,e)}});var l=a.enc={};var f=l.Hex={stringify:function(e){var t=e.words;var r=e.sigBytes;var n=[];for(var i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16));n.push((o&15).toString(16))}return n.join("")},parse:function(e){var t=e.length;var r=[];for(var n=0;n<t;n+=2){r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4}return new c.init(r,t/2)}};var d=l.Latin1={stringify:function(e){var t=e.words;var r=e.sigBytes;var n=[];for(var i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){var t=e.length;var r=[];for(var n=0;n<t;n++){r[n>>>2]|=(e.charCodeAt(n)&255)<<24-n%4*8}return new c.init(r,t)}};var h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}};var p=s.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init;this._nDataBytes=0},_append:function(e){if(typeof e=="string"){e=h.parse(e)}this._data.concat(e);this._nDataBytes+=e.sigBytes},_process:function(t){var r;var n=this._data;var i=n.words;var o=n.sigBytes;var a=this.blockSize;var s=a*4;var u=o/s;if(t){u=e.ceil(u)}else{u=e.max((u|0)-this._minBufferSize,0)}var l=u*a;var f=e.min(l*4,o);if(l){for(var d=0;d<l;d+=a){this._doProcessBlock(i,d)}r=i.splice(0,l);n.sigBytes-=f}return new c.init(r,f)},clone:function(){var e=u.clone.call(this);e._data=this._data.clone();return e},_minBufferSize:0});var v=s.Hasher=p.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e);this.reset()},reset:function(){p.reset.call(this);this._doReset()},update:function(e){this._append(e);this._process();return this},finalize:function(e){if(e){this._append(e)}var t=this._doFinalize();return t},blockSize:512/32,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new g.HMAC.init(e,r).finalize(t)}}});var g=a.algo={};return a}(Math);return e}))},98269:function(e,t,r){(function(n,i){if(true){e.exports=t=i(r(78249))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.WordArray;var i=t.enc;var o=i.Base64={stringify:function(e){var t=e.words;var r=e.sigBytes;var n=this._map;e.clamp();var i=[];for(var o=0;o<r;o+=3){var a=t[o>>>2]>>>24-o%4*8&255;var s=t[o+1>>>2]>>>24-(o+1)%4*8&255;var u=t[o+2>>>2]>>>24-(o+2)%4*8&255;var c=a<<16|s<<8|u;for(var l=0;l<4&&o+l*.75<r;l++){i.push(n.charAt(c>>>6*(3-l)&63))}}var f=n.charAt(64);if(f){while(i.length%4){i.push(f)}}return i.join("")},parse:function(e){var t=e.length;var r=this._map;var n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++){n[r.charCodeAt(i)]=i}}var o=r.charAt(64);if(o){var s=e.indexOf(o);if(s!==-1){t=s}}return a(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(e,t,r){var i=[];var o=0;for(var a=0;a<t;a++){if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2;var u=r[e.charCodeAt(a)]>>>6-a%4*2;var c=s|u;i[o>>>2]|=c<<24-o%4*8;o++}}return n.create(i,o)}})();return e.enc.Base64}))},43786:function(e,t,r){(function(n,i){if(true){e.exports=t=i(r(78249))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.WordArray;var i=t.enc;var o=i.Base64url={stringify:function(e,t){if(t===undefined){t=true}var r=e.words;var n=e.sigBytes;var i=t?this._safe_map:this._map;e.clamp();var o=[];for(var a=0;a<n;a+=3){var s=r[a>>>2]>>>24-a%4*8&255;var u=r[a+1>>>2]>>>24-(a+1)%4*8&255;var c=r[a+2>>>2]>>>24-(a+2)%4*8&255;var l=s<<16|u<<8|c;for(var f=0;f<4&&a+f*.75<n;f++){o.push(i.charAt(l>>>6*(3-f)&63))}}var d=i.charAt(64);if(d){while(o.length%4){o.push(d)}}return o.join("")},parse:function(e,t){if(t===undefined){t=true}var r=e.length;var n=t?this._safe_map:this._map;var i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++){i[n.charCodeAt(o)]=o}}var s=n.charAt(64);if(s){var u=e.indexOf(s);if(u!==-1){r=u}}return a(e,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(e,t,r){var i=[];var o=0;for(var a=0;a<t;a++){if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2;var u=r[e.charCodeAt(a)]>>>6-a%4*2;var c=s|u;i[o>>>2]|=c<<24-o%4*8;o++}}return n.create(i,o)}})();return e.enc.Base64url}))},50298:function(e,t,r){(function(n,i){if(true){e.exports=t=i(r(78249))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.WordArray;var i=t.enc;var o=i.Utf16=i.Utf16BE={stringify:function(e){var t=e.words;var r=e.sigBytes;var n=[];for(var i=0;i<r;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){var t=e.length;var r=[];for(var i=0;i<t;i++){r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16}return n.create(r,t*2)}};i.Utf16LE={stringify:function(e){var t=e.words;var r=e.sigBytes;var n=[];for(var i=0;i<r;i+=2){var o=a(t[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){var t=e.length;var r=[];for(var i=0;i<t;i++){r[i>>>1]|=a(e.charCodeAt(i)<<16-i%2*16)}return n.create(r,t*2)}};function a(e){return e<<8&4278255360|e>>>8&16711935}})();return e.enc.Utf16}))},90888:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(62783),r(89824))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.Base;var i=r.WordArray;var o=t.algo;var a=o.MD5;var s=o.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var r;var n=this.cfg;var o=n.hasher.create();var a=i.create();var s=a.words;var u=n.keySize;var c=n.iterations;while(s.length<u){if(r){o.update(r)}r=o.update(e).finalize(t);o.reset();for(var l=1;l<c;l++){r=o.finalize(r);o.reset()}a.concat(r)}a.sigBytes=u*4;return a}});t.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)}})();return e.EvpKDF}))},42209:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){(function(t){var r=e;var n=r.lib;var i=n.CipherParams;var o=r.enc;var a=o.Hex;var s=r.format;var u=s.Hex={stringify:function(e){return e.ciphertext.toString(a)},parse:function(e){var t=a.parse(e);return i.create({ciphertext:t})}}})();return e.format.Hex}))},89824:function(e,t,r){(function(n,i){if(true){e.exports=t=i(r(78249))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.Base;var i=t.enc;var o=i.Utf8;var a=t.algo;var s=a.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init;if(typeof t=="string"){t=o.parse(t)}var r=e.blockSize;var n=r*4;if(t.sigBytes>n){t=e.finalize(t)}t.clamp();var i=this._oKey=t.clone();var a=this._iKey=t.clone();var s=i.words;var u=a.words;for(var c=0;c<r;c++){s[c]^=1549556828;u[c]^=909522486}i.sigBytes=a.sigBytes=n;this.reset()},reset:function(){var e=this._hasher;e.reset();e.update(this._iKey)},update:function(e){this._hasher.update(e);return this},finalize:function(e){var t=this._hasher;var r=t.finalize(e);t.reset();var n=t.finalize(this._oKey.clone().concat(r));return n}})})()}))},81354:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(64938),r(4433),r(50298),r(98269),r(43786),r(68214),r(62783),r(52153),r(87792),r(70034),r(17460),r(13327),r(30706),r(89824),r(2112),r(90888),r(75109),r(8568),r(74242),r(59968),r(27660),r(31148),r(43615),r(92807),r(71077),r(56475),r(16991),r(42209),r(40452),r(94253),r(51857),r(84454),r(93974),r(87407))}else{}})(this,(function(e){return e}))},4433:function(e,t,r){(function(n,i){if(true){e.exports=t=i(r(78249))}else{}})(this,(function(e){(function(){if(typeof ArrayBuffer!="function"){return}var t=e;var r=t.lib;var n=r.WordArray;var i=n.init;var o=n.init=function(e){if(e instanceof ArrayBuffer){e=new Uint8Array(e)}if(e instanceof Int8Array||typeof Uint8ClampedArray!=="undefined"&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array){e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}if(e instanceof Uint8Array){var t=e.byteLength;var r=[];for(var n=0;n<t;n++){r[n>>>2]|=e[n]<<24-n%4*8}i.call(this,r,t)}else{i.apply(this,arguments)}};o.prototype=n})();return e.lib.WordArray}))},68214:function(e,t,r){(function(n,i){if(true){e.exports=t=i(r(78249))}else{}})(this,(function(e){(function(t){var r=e;var n=r.lib;var i=n.WordArray;var o=n.Hasher;var a=r.algo;var s=[];(function(){for(var e=0;e<64;e++){s[e]=t.abs(t.sin(e+1))*4294967296|0}})();var u=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r;var i=e[n];e[n]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}var o=this._hash.words;var a=e[t+0];var u=e[t+1];var h=e[t+2];var p=e[t+3];var v=e[t+4];var g=e[t+5];var m=e[t+6];var y=e[t+7];var _=e[t+8];var b=e[t+9];var E=e[t+10];var S=e[t+11];var w=e[t+12];var T=e[t+13];var C=e[t+14];var A=e[t+15];var R=o[0];var I=o[1];var k=o[2];var O=o[3];R=c(R,I,k,O,a,7,s[0]);O=c(O,R,I,k,u,12,s[1]);k=c(k,O,R,I,h,17,s[2]);I=c(I,k,O,R,p,22,s[3]);R=c(R,I,k,O,v,7,s[4]);O=c(O,R,I,k,g,12,s[5]);k=c(k,O,R,I,m,17,s[6]);I=c(I,k,O,R,y,22,s[7]);R=c(R,I,k,O,_,7,s[8]);O=c(O,R,I,k,b,12,s[9]);k=c(k,O,R,I,E,17,s[10]);I=c(I,k,O,R,S,22,s[11]);R=c(R,I,k,O,w,7,s[12]);O=c(O,R,I,k,T,12,s[13]);k=c(k,O,R,I,C,17,s[14]);I=c(I,k,O,R,A,22,s[15]);R=l(R,I,k,O,u,5,s[16]);O=l(O,R,I,k,m,9,s[17]);k=l(k,O,R,I,S,14,s[18]);I=l(I,k,O,R,a,20,s[19]);R=l(R,I,k,O,g,5,s[20]);O=l(O,R,I,k,E,9,s[21]);k=l(k,O,R,I,A,14,s[22]);I=l(I,k,O,R,v,20,s[23]);R=l(R,I,k,O,b,5,s[24]);O=l(O,R,I,k,C,9,s[25]);k=l(k,O,R,I,p,14,s[26]);I=l(I,k,O,R,_,20,s[27]);R=l(R,I,k,O,T,5,s[28]);O=l(O,R,I,k,h,9,s[29]);k=l(k,O,R,I,y,14,s[30]);I=l(I,k,O,R,w,20,s[31]);R=f(R,I,k,O,g,4,s[32]);O=f(O,R,I,k,_,11,s[33]);k=f(k,O,R,I,S,16,s[34]);I=f(I,k,O,R,C,23,s[35]);R=f(R,I,k,O,u,4,s[36]);O=f(O,R,I,k,v,11,s[37]);k=f(k,O,R,I,y,16,s[38]);I=f(I,k,O,R,E,23,s[39]);R=f(R,I,k,O,T,4,s[40]);O=f(O,R,I,k,a,11,s[41]);k=f(k,O,R,I,p,16,s[42]);I=f(I,k,O,R,m,23,s[43]);R=f(R,I,k,O,b,4,s[44]);O=f(O,R,I,k,w,11,s[45]);k=f(k,O,R,I,A,16,s[46]);I=f(I,k,O,R,h,23,s[47]);R=d(R,I,k,O,a,6,s[48]);O=d(O,R,I,k,y,10,s[49]);k=d(k,O,R,I,C,15,s[50]);I=d(I,k,O,R,g,21,s[51]);R=d(R,I,k,O,w,6,s[52]);O=d(O,R,I,k,p,10,s[53]);k=d(k,O,R,I,E,15,s[54]);I=d(I,k,O,R,u,21,s[55]);R=d(R,I,k,O,_,6,s[56]);O=d(O,R,I,k,A,10,s[57]);k=d(k,O,R,I,m,15,s[58]);I=d(I,k,O,R,T,21,s[59]);R=d(R,I,k,O,v,6,s[60]);O=d(O,R,I,k,S,10,s[61]);k=d(k,O,R,I,h,15,s[62]);I=d(I,k,O,R,b,21,s[63]);o[0]=o[0]+R|0;o[1]=o[1]+I|0;o[2]=o[2]+k|0;o[3]=o[3]+O|0},_doFinalize:function(){var e=this._data;var r=e.words;var n=this._nDataBytes*8;var i=e.sigBytes*8;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296);var a=n;r[(i+64>>>9<<4)+15]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360;r[(i+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;e.sigBytes=(r.length+1)*4;this._process();var s=this._hash;var u=s.words;for(var c=0;c<4;c++){var l=u[c];u[c]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360}return s},clone:function(){var e=o.clone.call(this);e._hash=this._hash.clone();return e}});function c(e,t,r,n,i,o,a){var s=e+(t&r|~t&n)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,r,n,i,o,a){var s=e+(t&n|r&~n)+i+a;return(s<<o|s>>>32-o)+t}function f(e,t,r,n,i,o,a){var s=e+(t^r^n)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,r,n,i,o,a){var s=e+(r^(t|~n))+i+a;return(s<<o|s>>>32-o)+t}r.MD5=o._createHelper(u);r.HmacMD5=o._createHmacHelper(u)})(Math);return e.MD5}))},8568:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher;var i=n.blockSize;r.call(this,e,t,i,n);this._prevBlock=e.slice(t,t+i)}});t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher;var i=n.blockSize;var o=e.slice(t,t+i);r.call(this,e,t,i,n);this._prevBlock=o}});function r(e,t,r,n){var i;var o=this._iv;if(o){i=o.slice(0);this._iv=undefined}else{i=this._prevBlock}n.encryptBlock(i,0);for(var a=0;a<r;a++){e[t+a]^=i[a]}}return t}();return e.mode.CFB}))},59968:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(e){if((e>>24&255)===255){var t=e>>16&255;var r=e>>8&255;var n=e&255;if(t===255){t=0;if(r===255){r=0;if(n===255){n=0}else{++n}}else{++r}}else{++t}e=0;e+=t<<16;e+=r<<8;e+=n}else{e+=1<<24}return e}function n(e){if((e[0]=r(e[0]))===0){e[1]=r(e[1])}return e}var i=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher;var i=r.blockSize;var o=this._iv;var a=this._counter;if(o){a=this._counter=o.slice(0);this._iv=undefined}n(a);var s=a.slice(0);r.encryptBlock(s,0);for(var u=0;u<i;u++){e[t+u]^=s[u]}}});t.Decryptor=i;return t}();return e.mode.CTRGladman}))},74242:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend();var r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher;var n=r.blockSize;var i=this._iv;var o=this._counter;if(i){o=this._counter=i.slice(0);this._iv=undefined}var a=o.slice(0);r.encryptBlock(a,0);o[n-1]=o[n-1]+1|0;for(var s=0;s<n;s++){e[t+s]^=a[s]}}});t.Decryptor=r;return t}();return e.mode.CTR}))},31148:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}});t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}});return t}();return e.mode.ECB}))},27660:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend();var r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher;var n=r.blockSize;var i=this._iv;var o=this._keystream;if(i){o=this._keystream=i.slice(0);this._iv=undefined}r.encryptBlock(o,0);for(var a=0;a<n;a++){e[t+a]^=o[a]}}});t.Decryptor=r;return t}();return e.mode.OFB}))},43615:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes;var n=t*4;var i=n-r%n;var o=r+i-1;e.clamp();e.words[o>>>2]|=i<<24-o%4*8;e.sigBytes+=i},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}};return e.pad.Ansix923}))},92807:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){e.pad.Iso10126={pad:function(t,r){var n=r*4;var i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}};return e.pad.Iso10126}))},71077:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1));e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t);t.sigBytes--}};return e.pad.Iso97971}))},16991:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){e.pad.NoPadding={pad:function(){},unpad:function(){}};return e.pad.NoPadding}))},56475:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(75109))}else{}})(this,(function(e){e.pad.ZeroPadding={pad:function(e,t){var r=t*4;e.clamp();e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words;var r=e.sigBytes-1;for(var r=e.sigBytes-1;r>=0;r--){if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}}};return e.pad.ZeroPadding}))},2112:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(52153),r(89824))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.Base;var i=r.WordArray;var o=t.algo;var a=o.SHA256;var s=o.HMAC;var u=o.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var r=this.cfg;var n=s.create(r.hasher,e);var o=i.create();var a=i.create([1]);var u=o.words;var c=a.words;var l=r.keySize;var f=r.iterations;while(u.length<l){var d=n.update(t).finalize(a);n.reset();var h=d.words;var p=h.length;var v=d;for(var g=1;g<f;g++){v=n.finalize(v);n.reset();var m=v.words;for(var y=0;y<p;y++){h[y]^=m[y]}}o.concat(d);c[0]++}o.sigBytes=l*4;return o}});t.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)}})();return e.PBKDF2}))},93974:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(98269),r(68214),r(90888),r(75109))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.StreamCipher;var i=t.algo;var o=[];var a=[];var s=[];var u=i.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words;var t=this.cfg.iv;var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16];var n=this._C=[e[2]<<16|e[2]>>>16,e[0]&4294901760|e[1]&65535,e[3]<<16|e[3]>>>16,e[1]&4294901760|e[2]&65535,e[0]<<16|e[0]>>>16,e[2]&4294901760|e[3]&65535,e[1]<<16|e[1]>>>16,e[3]&4294901760|e[0]&65535];this._b=0;for(var i=0;i<4;i++){c.call(this)}for(var i=0;i<8;i++){n[i]^=r[i+4&7]}if(t){var o=t.words;var a=o[0];var s=o[1];var u=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;var l=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360;var f=u>>>16|l&4294901760;var d=l<<16|u&65535;n[0]^=u;n[1]^=f;n[2]^=l;n[3]^=d;n[4]^=u;n[5]^=f;n[6]^=l;n[7]^=d;for(var i=0;i<4;i++){c.call(this)}}},_doProcessBlock:function(e,t){var r=this._X;c.call(this);o[0]=r[0]^r[5]>>>16^r[3]<<16;o[1]=r[2]^r[7]>>>16^r[5]<<16;o[2]=r[4]^r[1]>>>16^r[7]<<16;o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++){o[n]=(o[n]<<8|o[n]>>>24)&16711935|(o[n]<<24|o[n]>>>8)&4278255360;e[t+n]^=o[n]}},blockSize:128/32,ivSize:64/32});function c(){var e=this._X;var t=this._C;for(var r=0;r<8;r++){a[r]=t[r]}t[0]=t[0]+1295307597+this._b|0;t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0;t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0;t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0;t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0;t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0;t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0;t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0;this._b=t[7]>>>0<a[7]>>>0?1:0;for(var r=0;r<8;r++){var n=e[r]+t[r];var i=n&65535;var o=n>>>16;var u=((i*i>>>17)+i*o>>>15)+o*o;var c=((n&4294901760)*n|0)+((n&65535)*n|0);s[r]=u^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0;e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0;e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0;e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0;e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0;e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0;e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0;e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=n._createHelper(u)})();return e.RabbitLegacy}))},84454:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(98269),r(68214),r(90888),r(75109))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.StreamCipher;var i=t.algo;var o=[];var a=[];var s=[];var u=i.Rabbit=n.extend({_doReset:function(){var e=this._key.words;var t=this.cfg.iv;for(var r=0;r<4;r++){e[r]=(e[r]<<8|e[r]>>>24)&16711935|(e[r]<<24|e[r]>>>8)&4278255360}var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16];var i=this._C=[e[2]<<16|e[2]>>>16,e[0]&4294901760|e[1]&65535,e[3]<<16|e[3]>>>16,e[1]&4294901760|e[2]&65535,e[0]<<16|e[0]>>>16,e[2]&4294901760|e[3]&65535,e[1]<<16|e[1]>>>16,e[3]&4294901760|e[0]&65535];this._b=0;for(var r=0;r<4;r++){c.call(this)}for(var r=0;r<8;r++){i[r]^=n[r+4&7]}if(t){var o=t.words;var a=o[0];var s=o[1];var u=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;var l=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360;var f=u>>>16|l&4294901760;var d=l<<16|u&65535;i[0]^=u;i[1]^=f;i[2]^=l;i[3]^=d;i[4]^=u;i[5]^=f;i[6]^=l;i[7]^=d;for(var r=0;r<4;r++){c.call(this)}}},_doProcessBlock:function(e,t){var r=this._X;c.call(this);o[0]=r[0]^r[5]>>>16^r[3]<<16;o[1]=r[2]^r[7]>>>16^r[5]<<16;o[2]=r[4]^r[1]>>>16^r[7]<<16;o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++){o[n]=(o[n]<<8|o[n]>>>24)&16711935|(o[n]<<24|o[n]>>>8)&4278255360;e[t+n]^=o[n]}},blockSize:128/32,ivSize:64/32});function c(){var e=this._X;var t=this._C;for(var r=0;r<8;r++){a[r]=t[r]}t[0]=t[0]+1295307597+this._b|0;t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0;t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0;t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0;t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0;t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0;t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0;t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0;this._b=t[7]>>>0<a[7]>>>0?1:0;for(var r=0;r<8;r++){var n=e[r]+t[r];var i=n&65535;var o=n>>>16;var u=((i*i>>>17)+i*o>>>15)+o*o;var c=((n&4294901760)*n|0)+((n&65535)*n|0);s[r]=u^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0;e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0;e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0;e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0;e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0;e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0;e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0;e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=n._createHelper(u)})();return e.Rabbit}))},51857:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(98269),r(68214),r(90888),r(75109))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.StreamCipher;var i=t.algo;var o=i.RC4=n.extend({_doReset:function(){var e=this._key;var t=e.words;var r=e.sigBytes;var n=this._S=[];for(var i=0;i<256;i++){n[i]=i}for(var i=0,o=0;i<256;i++){var a=i%r;var s=t[a>>>2]>>>24-a%4*8&255;o=(o+n[i]+s)%256;var u=n[i];n[i]=n[o];n[o]=u}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:256/32,ivSize:0});function a(){var e=this._S;var t=this._i;var r=this._j;var n=0;for(var i=0;i<4;i++){t=(t+1)%256;r=(r+e[t])%256;var o=e[t];e[t]=e[r];e[r]=o;n|=e[(e[t]+e[r])%256]<<24-i*8}this._i=t;this._j=r;return n}t.RC4=n._createHelper(o);var s=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--){a.call(this)}}});t.RC4Drop=n._createHelper(s)})();return e.RC4}))},30706:function(e,t,r){(function(n,i){if(true){e.exports=t=i(r(78249))}else{}})(this,(function(e){(function(t){var r=e;var n=r.lib;var i=n.WordArray;var o=n.Hasher;var a=r.algo;var s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]);var u=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]);var c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]);var l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]);var f=i.create([0,1518500249,1859775393,2400959708,2840853838]);var d=i.create([1352829926,1548603684,1836072691,2053994217,0]);var h=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r;var i=e[n];e[n]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}var o=this._hash.words;var a=f.words;var h=d.words;var b=s.words;var E=u.words;var S=c.words;var w=l.words;var T,C,A,R,I;var k,O,P,M,x;k=T=o[0];O=C=o[1];P=A=o[2];M=R=o[3];x=I=o[4];var L;for(var r=0;r<80;r+=1){L=T+e[t+b[r]]|0;if(r<16){L+=p(C,A,R)+a[0]}else if(r<32){L+=v(C,A,R)+a[1]}else if(r<48){L+=g(C,A,R)+a[2]}else if(r<64){L+=m(C,A,R)+a[3]}else{L+=y(C,A,R)+a[4]}L=L|0;L=_(L,S[r]);L=L+I|0;T=I;I=R;R=_(A,10);A=C;C=L;L=k+e[t+E[r]]|0;if(r<16){L+=y(O,P,M)+h[0]}else if(r<32){L+=m(O,P,M)+h[1]}else if(r<48){L+=g(O,P,M)+h[2]}else if(r<64){L+=v(O,P,M)+h[3]}else{L+=p(O,P,M)+h[4]}L=L|0;L=_(L,w[r]);L=L+x|0;k=x;x=M;M=_(P,10);P=O;O=L}L=o[1]+A+M|0;o[1]=o[2]+R+x|0;o[2]=o[3]+I+k|0;o[3]=o[4]+T+O|0;o[4]=o[0]+C+P|0;o[0]=L},_doFinalize:function(){var e=this._data;var t=e.words;var r=this._nDataBytes*8;var n=e.sigBytes*8;t[n>>>5]|=128<<24-n%32;t[(n+64>>>9<<4)+14]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360;e.sigBytes=(t.length+1)*4;this._process();var i=this._hash;var o=i.words;for(var a=0;a<5;a++){var s=o[a];o[a]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360}return i},clone:function(){var e=o.clone.call(this);e._hash=this._hash.clone();return e}});function p(e,t,r){return e^t^r}function v(e,t,r){return e&t|~e&r}function g(e,t,r){return(e|~t)^r}function m(e,t,r){return e&r|t&~r}function y(e,t,r){return e^(t|~r)}function _(e,t){return e<<t|e>>>32-t}r.RIPEMD160=o._createHelper(h);r.HmacRIPEMD160=o._createHmacHelper(h)})(Math);return e.RIPEMD160}))},62783:function(e,t,r){(function(n,i){if(true){e.exports=t=i(r(78249))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.WordArray;var i=r.Hasher;var o=t.algo;var a=[];var s=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){var r=this._hash.words;var n=r[0];var i=r[1];var o=r[2];var s=r[3];var u=r[4];for(var c=0;c<80;c++){if(c<16){a[c]=e[t+c]|0}else{var l=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=l<<1|l>>>31}var f=(n<<5|n>>>27)+u+a[c];if(c<20){f+=(i&o|~i&s)+1518500249}else if(c<40){f+=(i^o^s)+1859775393}else if(c<60){f+=(i&o|i&s|o&s)-1894007588}else{f+=(i^o^s)-899497514}u=s;s=o;o=i<<30|i>>>2;i=n;n=f}r[0]=r[0]+n|0;r[1]=r[1]+i|0;r[2]=r[2]+o|0;r[3]=r[3]+s|0;r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data;var t=e.words;var r=this._nDataBytes*8;var n=e.sigBytes*8;t[n>>>5]|=128<<24-n%32;t[(n+64>>>9<<4)+14]=Math.floor(r/4294967296);t[(n+64>>>9<<4)+15]=r;e.sigBytes=t.length*4;this._process();return this._hash},clone:function(){var e=i.clone.call(this);e._hash=this._hash.clone();return e}});t.SHA1=i._createHelper(s);t.HmacSHA1=i._createHmacHelper(s)})();return e.SHA1}))},87792:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(52153))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.WordArray;var i=t.algo;var o=i.SHA256;var a=i.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);e.sigBytes-=4;return e}});t.SHA224=o._createHelper(a);t.HmacSHA224=o._createHmacHelper(a)})();return e.SHA224}))},52153:function(e,t,r){(function(n,i){if(true){e.exports=t=i(r(78249))}else{}})(this,(function(e){(function(t){var r=e;var n=r.lib;var i=n.WordArray;var o=n.Hasher;var a=r.algo;var s=[];var u=[];(function(){function e(e){var r=t.sqrt(e);for(var n=2;n<=r;n++){if(!(e%n)){return false}}return true}function r(e){return(e-(e|0))*4294967296|0}var n=2;var i=0;while(i<64){if(e(n)){if(i<8){s[i]=r(t.pow(n,1/2))}u[i]=r(t.pow(n,1/3));i++}n++}})();var c=[];var l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){var r=this._hash.words;var n=r[0];var i=r[1];var o=r[2];var a=r[3];var s=r[4];var l=r[5];var f=r[6];var d=r[7];for(var h=0;h<64;h++){if(h<16){c[h]=e[t+h]|0}else{var p=c[h-15];var v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3;var g=c[h-2];var m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[h]=v+c[h-7]+m+c[h-16]}var y=s&l^~s&f;var _=n&i^n&o^i&o;var b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22);var E=(s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25);var S=d+E+y+u[h]+c[h];var w=b+_;d=f;f=l;l=s;s=a+S|0;a=o;o=i;i=n;n=S+w|0}r[0]=r[0]+n|0;r[1]=r[1]+i|0;r[2]=r[2]+o|0;r[3]=r[3]+a|0;r[4]=r[4]+s|0;r[5]=r[5]+l|0;r[6]=r[6]+f|0;r[7]=r[7]+d|0},_doFinalize:function(){var e=this._data;var r=e.words;var n=this._nDataBytes*8;var i=e.sigBytes*8;r[i>>>5]|=128<<24-i%32;r[(i+64>>>9<<4)+14]=t.floor(n/4294967296);r[(i+64>>>9<<4)+15]=n;e.sigBytes=r.length*4;this._process();return this._hash},clone:function(){var e=o.clone.call(this);e._hash=this._hash.clone();return e}});r.SHA256=o._createHelper(l);r.HmacSHA256=o._createHmacHelper(l)})(Math);return e.SHA256}))},13327:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(64938))}else{}})(this,(function(e){(function(t){var r=e;var n=r.lib;var i=n.WordArray;var o=n.Hasher;var a=r.x64;var s=a.Word;var u=r.algo;var c=[];var l=[];var f=[];(function(){var e=1,t=0;for(var r=0;r<24;r++){c[e+5*t]=(r+1)*(r+2)/2%64;var n=t%5;var i=(2*e+3*t)%5;e=n;t=i}for(var e=0;e<5;e++){for(var t=0;t<5;t++){l[e+5*t]=t+(2*e+3*t)%5*5}}var o=1;for(var a=0;a<24;a++){var u=0;var d=0;for(var h=0;h<7;h++){if(o&1){var p=(1<<h)-1;if(p<32){d^=1<<p}else{u^=1<<p-32}}if(o&128){o=o<<1^113}else{o<<=1}}f[a]=s.create(u,d)}})();var d=[];(function(){for(var e=0;e<25;e++){d[e]=s.create()}})();var h=u.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){var e=this._state=[];for(var t=0;t<25;t++){e[t]=new s.init}this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){var r=this._state;var n=this.blockSize/2;for(var i=0;i<n;i++){var o=e[t+2*i];var a=e[t+2*i+1];o=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360;a=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;var s=r[i];s.high^=a;s.low^=o}for(var u=0;u<24;u++){for(var h=0;h<5;h++){var p=0,v=0;for(var g=0;g<5;g++){var s=r[h+5*g];p^=s.high;v^=s.low}var m=d[h];m.high=p;m.low=v}for(var h=0;h<5;h++){var y=d[(h+4)%5];var _=d[(h+1)%5];var b=_.high;var E=_.low;var p=y.high^(b<<1|E>>>31);var v=y.low^(E<<1|b>>>31);for(var g=0;g<5;g++){var s=r[h+5*g];s.high^=p;s.low^=v}}for(var S=1;S<25;S++){var p;var v;var s=r[S];var w=s.high;var T=s.low;var C=c[S];if(C<32){p=w<<C|T>>>32-C;v=T<<C|w>>>32-C}else{p=T<<C-32|w>>>64-C;v=w<<C-32|T>>>64-C}var A=d[l[S]];A.high=p;A.low=v}var R=d[0];var I=r[0];R.high=I.high;R.low=I.low;for(var h=0;h<5;h++){for(var g=0;g<5;g++){var S=h+5*g;var s=r[S];var k=d[S];var O=d[(h+1)%5+5*g];var P=d[(h+2)%5+5*g];s.high=k.high^~O.high&P.high;s.low=k.low^~O.low&P.low}}var s=r[0];var M=f[u];s.high^=M.high;s.low^=M.low}},_doFinalize:function(){var e=this._data;var r=e.words;var n=this._nDataBytes*8;var o=e.sigBytes*8;var a=this.blockSize*32;r[o>>>5]|=1<<24-o%32;r[(t.ceil((o+1)/a)*a>>>5)-1]|=128;e.sigBytes=r.length*4;this._process();var s=this._state;var u=this.cfg.outputLength/8;var c=u/8;var l=[];for(var f=0;f<c;f++){var d=s[f];var h=d.high;var p=d.low;h=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360;p=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360;l.push(p);l.push(h)}return new i.init(l,u)},clone:function(){var e=o.clone.call(this);var t=e._state=this._state.slice(0);for(var r=0;r<25;r++){t[r]=t[r].clone()}return e}});r.SHA3=o._createHelper(h);r.HmacSHA3=o._createHmacHelper(h)})(Math);return e.SHA3}))},17460:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(64938),r(70034))}else{}})(this,(function(e){(function(){var t=e;var r=t.x64;var n=r.Word;var i=r.WordArray;var o=t.algo;var a=o.SHA512;var s=o.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);e.sigBytes-=16;return e}});t.SHA384=a._createHelper(s);t.HmacSHA384=a._createHmacHelper(s)})();return e.SHA384}))},70034:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(64938))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.Hasher;var i=t.x64;var o=i.Word;var a=i.WordArray;var s=t.algo;function u(){return o.create.apply(o,arguments)}var c=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)];var l=[];(function(){for(var e=0;e<80;e++){l[e]=u()}})();var f=s.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){var r=this._hash.words;var n=r[0];var i=r[1];var o=r[2];var a=r[3];var s=r[4];var u=r[5];var f=r[6];var d=r[7];var h=n.high;var p=n.low;var v=i.high;var g=i.low;var m=o.high;var y=o.low;var _=a.high;var b=a.low;var E=s.high;var S=s.low;var w=u.high;var T=u.low;var C=f.high;var A=f.low;var R=d.high;var I=d.low;var k=h;var O=p;var P=v;var M=g;var x=m;var L=y;var D=_;var N=b;var j=E;var U=S;var B=w;var F=T;var H=C;var V=A;var W=R;var z=I;for(var G=0;G<80;G++){var Y;var K;var q=l[G];if(G<16){K=q.high=e[t+G*2]|0;Y=q.low=e[t+G*2+1]|0}else{var $=l[G-15];var J=$.high;var Z=$.low;var X=(J>>>1|Z<<31)^(J>>>8|Z<<24)^J>>>7;var Q=(Z>>>1|J<<31)^(Z>>>8|J<<24)^(Z>>>7|J<<25);var ee=l[G-2];var te=ee.high;var re=ee.low;var ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6;var ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26);var oe=l[G-7];var ae=oe.high;var se=oe.low;var ue=l[G-16];var ce=ue.high;var le=ue.low;Y=Q+se;K=X+ae+(Y>>>0<Q>>>0?1:0);Y=Y+ie;K=K+ne+(Y>>>0<ie>>>0?1:0);Y=Y+le;K=K+ce+(Y>>>0<le>>>0?1:0);q.high=K;q.low=Y}var fe=j&B^~j&H;var de=U&F^~U&V;var he=k&P^k&x^P&x;var pe=O&M^O&L^M&L;var ve=(k>>>28|O<<4)^(k<<30|O>>>2)^(k<<25|O>>>7);var ge=(O>>>28|k<<4)^(O<<30|k>>>2)^(O<<25|k>>>7);var me=(j>>>14|U<<18)^(j>>>18|U<<14)^(j<<23|U>>>9);var ye=(U>>>14|j<<18)^(U>>>18|j<<14)^(U<<23|j>>>9);var _e=c[G];var be=_e.high;var Ee=_e.low;var Se=z+ye;var we=W+me+(Se>>>0<z>>>0?1:0);var Se=Se+de;var we=we+fe+(Se>>>0<de>>>0?1:0);var Se=Se+Ee;var we=we+be+(Se>>>0<Ee>>>0?1:0);var Se=Se+Y;var we=we+K+(Se>>>0<Y>>>0?1:0);var Te=ge+pe;var Ce=ve+he+(Te>>>0<ge>>>0?1:0);W=H;z=V;H=B;V=F;B=j;F=U;U=N+Se|0;j=D+we+(U>>>0<N>>>0?1:0)|0;D=x;N=L;x=P;L=M;P=k;M=O;O=Se+Te|0;k=we+Ce+(O>>>0<Se>>>0?1:0)|0}p=n.low=p+O;n.high=h+k+(p>>>0<O>>>0?1:0);g=i.low=g+M;i.high=v+P+(g>>>0<M>>>0?1:0);y=o.low=y+L;o.high=m+x+(y>>>0<L>>>0?1:0);b=a.low=b+N;a.high=_+D+(b>>>0<N>>>0?1:0);S=s.low=S+U;s.high=E+j+(S>>>0<U>>>0?1:0);T=u.low=T+F;u.high=w+B+(T>>>0<F>>>0?1:0);A=f.low=A+V;f.high=C+H+(A>>>0<V>>>0?1:0);I=d.low=I+z;d.high=R+W+(I>>>0<z>>>0?1:0)},_doFinalize:function(){var e=this._data;var t=e.words;var r=this._nDataBytes*8;var n=e.sigBytes*8;t[n>>>5]|=128<<24-n%32;t[(n+128>>>10<<5)+30]=Math.floor(r/4294967296);t[(n+128>>>10<<5)+31]=r;e.sigBytes=t.length*4;this._process();var i=this._hash.toX32();return i},clone:function(){var e=n.clone.call(this);e._hash=this._hash.clone();return e},blockSize:1024/32});t.SHA512=n._createHelper(f);t.HmacSHA512=n._createHmacHelper(f)})();return e.SHA512}))},94253:function(e,t,r){(function(n,i,o){if(true){e.exports=t=i(r(78249),r(98269),r(68214),r(90888),r(75109))}else{}})(this,(function(e){(function(){var t=e;var r=t.lib;var n=r.WordArray;var i=r.BlockCipher;var o=t.algo;var a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4];var s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32];var u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28];var c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}];var l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];var f=o.DES=i.extend({_doReset:function(){var e=this._key;var t=e.words;var r=[];for(var n=0;n<56;n++){var i=a[n]-1;r[n]=t[i>>>5]>>>31-i%32&1}var o=this._subKeys=[];for(var c=0;c<16;c++){var l=o[c]=[];var f=u[c];for(var n=0;n<24;n++){l[n/6|0]|=r[(s[n]-1+f)%28]<<31-n%6;l[4+(n/6|0)]|=r[28+(s[n+24]-1+f)%28]<<31-n%6}l[0]=l[0]<<1|l[0]>>>31;for(var n=1;n<7;n++){l[n]=l[n]>>>(n-1)*4+3}l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(var n=0;n<16;n++){d[n]=o[15-n]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t];this._rBlock=e[t+1];d.call(this,4,252645135);d.call(this,16,65535);h.call(this,2,858993459);h.call(this,8,16711935);d.call(this,1,1431655765);for(var n=0;n<16;n++){var i=r[n];var o=this._lBlock;var a=this._rBlock;var s=0;for(var u=0;u<8;u++){s|=c[u][((a^i[u])&l[u])>>>0]}this._lBlock=a;this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock;this._rBlock=f;d.call(this,1,1431655765);h.call(this,8,16711935);h.call(this,2,858993459);d.call(this,16,65535);d.call(this,4,252645135);e[t]=this._lBlock;e[t+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function d(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r;this._lBlock^=r<<e}function h(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r;this._rBlock^=r<<e}t.DES=i._createHelper(f);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key;var t=e.words;if(t.length!==2&&t.length!==4&&t.length<6){throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.")}var r=t.slice(0,2);var i=t.length<4?t.slice(0,2):t.slice(2,4);var o=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=f.createEncryptor(n.create(r));this._des2=f.createEncryptor(n.create(i));this._des3=f.createEncryptor(n.create(o))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t);this._des2.decryptBlock(e,t);this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t);this._des2.encryptBlock(e,t);this._des1.decryptBlock(e,t)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(p)})();return e.TripleDES}))},64938:function(e,t,r){(function(n,i){if(true){e.exports=t=i(r(78249))}else{}})(this,(function(e){(function(t){var r=e;var n=r.lib;var i=n.Base;var o=n.WordArray;var a=r.x64={};var s=a.Word=i.extend({init:function(e,t){this.high=e;this.low=t}});var u=a.WordArray=i.extend({init:function(e,r){e=this.words=e||[];if(r!=t){this.sigBytes=r}else{this.sigBytes=e.length*8}},toX32:function(){var e=this.words;var t=e.length;var r=[];for(var n=0;n<t;n++){var i=e[n];r.push(i.high);r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){var e=i.clone.call(this);var t=e.words=this.words.slice(0);var r=t.length;for(var n=0;n<r;n++){t[n]=t[n].clone()}return e}})})();return e}))},32667:(e,t,r)=>{var n=r(9950);var i=r(25419);var o=r(17381);function a(e){return e===undefined||e===null}function s(e){var t={};for(var r in e){t[r]=e[r]}return t}function u(e){e=s(e||{});e.whiteList=e.whiteList||n.whiteList;e.onAttr=e.onAttr||n.onAttr;e.onIgnoreAttr=e.onIgnoreAttr||n.onIgnoreAttr;e.safeAttrValue=e.safeAttrValue||n.safeAttrValue;this.options=e}u.prototype.process=function(e){e=e||"";e=e.toString();if(!e)return"";var t=this;var r=t.options;var n=r.whiteList;var o=r.onAttr;var s=r.onIgnoreAttr;var u=r.safeAttrValue;var c=i(e,(function(e,t,r,i,c){var l=n[r];var f=false;if(l===true)f=l;else if(typeof l==="function")f=l(i);else if(l instanceof RegExp)f=l.test(i);if(f!==true)f=false;i=u(r,i);if(!i)return;var d={position:t,sourcePosition:e,source:c,isWhite:f};if(f){var h=o(r,i,d);if(a(h)){return r+":"+i}else{return h}}else{var h=s(r,i,d);if(!a(h)){return h}}}));return c};e.exports=u},9950:(e,t)=>{function r(){var e={};e["align-content"]=false;e["align-items"]=false;e["align-self"]=false;e["alignment-adjust"]=false;e["alignment-baseline"]=false;e["all"]=false;e["anchor-point"]=false;e["animation"]=false;e["animation-delay"]=false;e["animation-direction"]=false;e["animation-duration"]=false;e["animation-fill-mode"]=false;e["animation-iteration-count"]=false;e["animation-name"]=false;e["animation-play-state"]=false;e["animation-timing-function"]=false;e["azimuth"]=false;e["backface-visibility"]=false;e["background"]=true;e["background-attachment"]=true;e["background-clip"]=true;e["background-color"]=true;e["background-image"]=true;e["background-origin"]=true;e["background-position"]=true;e["background-repeat"]=true;e["background-size"]=true;e["baseline-shift"]=false;e["binding"]=false;e["bleed"]=false;e["bookmark-label"]=false;e["bookmark-level"]=false;e["bookmark-state"]=false;e["border"]=true;e["border-bottom"]=true;e["border-bottom-color"]=true;e["border-bottom-left-radius"]=true;e["border-bottom-right-radius"]=true;e["border-bottom-style"]=true;e["border-bottom-width"]=true;e["border-collapse"]=true;e["border-color"]=true;e["border-image"]=true;e["border-image-outset"]=true;e["border-image-repeat"]=true;e["border-image-slice"]=true;e["border-image-source"]=true;e["border-image-width"]=true;e["border-left"]=true;e["border-left-color"]=true;e["border-left-style"]=true;e["border-left-width"]=true;e["border-radius"]=true;e["border-right"]=true;e["border-right-color"]=true;e["border-right-style"]=true;e["border-right-width"]=true;e["border-spacing"]=true;e["border-style"]=true;e["border-top"]=true;e["border-top-color"]=true;e["border-top-left-radius"]=true;e["border-top-right-radius"]=true;e["border-top-style"]=true;e["border-top-width"]=true;e["border-width"]=true;e["bottom"]=false;e["box-decoration-break"]=true;e["box-shadow"]=true;e["box-sizing"]=true;e["box-snap"]=true;e["box-suppress"]=true;e["break-after"]=true;e["break-before"]=true;e["break-inside"]=true;e["caption-side"]=false;e["chains"]=false;e["clear"]=true;e["clip"]=false;e["clip-path"]=false;e["clip-rule"]=false;e["color"]=true;e["color-interpolation-filters"]=true;e["column-count"]=false;e["column-fill"]=false;e["column-gap"]=false;e["column-rule"]=false;e["column-rule-color"]=false;e["column-rule-style"]=false;e["column-rule-width"]=false;e["column-span"]=false;e["column-width"]=false;e["columns"]=false;e["contain"]=false;e["content"]=false;e["counter-increment"]=false;e["counter-reset"]=false;e["counter-set"]=false;e["crop"]=false;e["cue"]=false;e["cue-after"]=false;e["cue-before"]=false;e["cursor"]=false;e["direction"]=false;e["display"]=true;e["display-inside"]=true;e["display-list"]=true;e["display-outside"]=true;e["dominant-baseline"]=false;e["elevation"]=false;e["empty-cells"]=false;e["filter"]=false;e["flex"]=false;e["flex-basis"]=false;e["flex-direction"]=false;e["flex-flow"]=false;e["flex-grow"]=false;e["flex-shrink"]=false;e["flex-wrap"]=false;e["float"]=false;e["float-offset"]=false;e["flood-color"]=false;e["flood-opacity"]=false;e["flow-from"]=false;e["flow-into"]=false;e["font"]=true;e["font-family"]=true;e["font-feature-settings"]=true;e["font-kerning"]=true;e["font-language-override"]=true;e["font-size"]=true;e["font-size-adjust"]=true;e["font-stretch"]=true;e["font-style"]=true;e["font-synthesis"]=true;e["font-variant"]=true;e["font-variant-alternates"]=true;e["font-variant-caps"]=true;e["font-variant-east-asian"]=true;e["font-variant-ligatures"]=true;e["font-variant-numeric"]=true;e["font-variant-position"]=true;e["font-weight"]=true;e["grid"]=false;e["grid-area"]=false;e["grid-auto-columns"]=false;e["grid-auto-flow"]=false;e["grid-auto-rows"]=false;e["grid-column"]=false;e["grid-column-end"]=false;e["grid-column-start"]=false;e["grid-row"]=false;e["grid-row-end"]=false;e["grid-row-start"]=false;e["grid-template"]=false;e["grid-template-areas"]=false;e["grid-template-columns"]=false;e["grid-template-rows"]=false;e["hanging-punctuation"]=false;e["height"]=true;e["hyphens"]=false;e["icon"]=false;e["image-orientation"]=false;e["image-resolution"]=false;e["ime-mode"]=false;e["initial-letters"]=false;e["inline-box-align"]=false;e["justify-content"]=false;e["justify-items"]=false;e["justify-self"]=false;e["left"]=false;e["letter-spacing"]=true;e["lighting-color"]=true;e["line-box-contain"]=false;e["line-break"]=false;e["line-grid"]=false;e["line-height"]=false;e["line-snap"]=false;e["line-stacking"]=false;e["line-stacking-ruby"]=false;e["line-stacking-shift"]=false;e["line-stacking-strategy"]=false;e["list-style"]=true;e["list-style-image"]=true;e["list-style-position"]=true;e["list-style-type"]=true;e["margin"]=true;e["margin-bottom"]=true;e["margin-left"]=true;e["margin-right"]=true;e["margin-top"]=true;e["marker-offset"]=false;e["marker-side"]=false;e["marks"]=false;e["mask"]=false;e["mask-box"]=false;e["mask-box-outset"]=false;e["mask-box-repeat"]=false;e["mask-box-slice"]=false;e["mask-box-source"]=false;e["mask-box-width"]=false;e["mask-clip"]=false;e["mask-image"]=false;e["mask-origin"]=false;e["mask-position"]=false;e["mask-repeat"]=false;e["mask-size"]=false;e["mask-source-type"]=false;e["mask-type"]=false;e["max-height"]=true;e["max-lines"]=false;e["max-width"]=true;e["min-height"]=true;e["min-width"]=true;e["move-to"]=false;e["nav-down"]=false;e["nav-index"]=false;e["nav-left"]=false;e["nav-right"]=false;e["nav-up"]=false;e["object-fit"]=false;e["object-position"]=false;e["opacity"]=false;e["order"]=false;e["orphans"]=false;e["outline"]=false;e["outline-color"]=false;e["outline-offset"]=false;e["outline-style"]=false;e["outline-width"]=false;e["overflow"]=false;e["overflow-wrap"]=false;e["overflow-x"]=false;e["overflow-y"]=false;e["padding"]=true;e["padding-bottom"]=true;e["padding-left"]=true;e["padding-right"]=true;e["padding-top"]=true;e["page"]=false;e["page-break-after"]=false;e["page-break-before"]=false;e["page-break-inside"]=false;e["page-policy"]=false;e["pause"]=false;e["pause-after"]=false;e["pause-before"]=false;e["perspective"]=false;e["perspective-origin"]=false;e["pitch"]=false;e["pitch-range"]=false;e["play-during"]=false;e["position"]=false;e["presentation-level"]=false;e["quotes"]=false;e["region-fragment"]=false;e["resize"]=false;e["rest"]=false;e["rest-after"]=false;e["rest-before"]=false;e["richness"]=false;e["right"]=false;e["rotation"]=false;e["rotation-point"]=false;e["ruby-align"]=false;e["ruby-merge"]=false;e["ruby-position"]=false;e["shape-image-threshold"]=false;e["shape-outside"]=false;e["shape-margin"]=false;e["size"]=false;e["speak"]=false;e["speak-as"]=false;e["speak-header"]=false;e["speak-numeral"]=false;e["speak-punctuation"]=false;e["speech-rate"]=false;e["stress"]=false;e["string-set"]=false;e["tab-size"]=false;e["table-layout"]=false;e["text-align"]=true;e["text-align-last"]=true;e["text-combine-upright"]=true;e["text-decoration"]=true;e["text-decoration-color"]=true;e["text-decoration-line"]=true;e["text-decoration-skip"]=true;e["text-decoration-style"]=true;e["text-emphasis"]=true;e["text-emphasis-color"]=true;e["text-emphasis-position"]=true;e["text-emphasis-style"]=true;e["text-height"]=true;e["text-indent"]=true;e["text-justify"]=true;e["text-orientation"]=true;e["text-overflow"]=true;e["text-shadow"]=true;e["text-space-collapse"]=true;e["text-transform"]=true;e["text-underline-position"]=true;e["text-wrap"]=true;e["top"]=false;e["transform"]=false;e["transform-origin"]=false;e["transform-style"]=false;e["transition"]=false;e["transition-delay"]=false;e["transition-duration"]=false;e["transition-property"]=false;e["transition-timing-function"]=false;e["unicode-bidi"]=false;e["vertical-align"]=false;e["visibility"]=false;e["voice-balance"]=false;e["voice-duration"]=false;e["voice-family"]=false;e["voice-pitch"]=false;e["voice-range"]=false;e["voice-rate"]=false;e["voice-stress"]=false;e["voice-volume"]=false;e["volume"]=false;e["white-space"]=false;e["widows"]=false;e["width"]=true;e["will-change"]=false;e["word-break"]=true;e["word-spacing"]=true;e["word-wrap"]=true;e["wrap-flow"]=false;e["wrap-through"]=false;e["writing-mode"]=false;e["z-index"]=false;return e}function n(e,t,r){}function i(e,t,r){}var o=/javascript\s*\:/gim;function a(e,t){if(o.test(t))return"";return t}t.whiteList=r();t.getDefaultWhiteList=r;t.onAttr=n;t.onIgnoreAttr=i;t.safeAttrValue=a},29970:(e,t,r)=>{var n=r(9950);var i=r(32667);function o(e,t){var r=new i(t);return r.process(e)}t=e.exports=o;t.FilterCSS=i;for(var a in n)t[a]=n[a];if(typeof window!=="undefined"){window.filterCSS=e.exports}},25419:(e,t,r)=>{var n=r(17381);function i(e,t){e=n.trimRight(e);if(e[e.length-1]!==";")e+=";";var r=e.length;var i=false;var o=0;var a=0;var s="";function u(){if(!i){var r=n.trim(e.slice(o,a));var u=r.indexOf(":");if(u!==-1){var c=n.trim(r.slice(0,u));var l=n.trim(r.slice(u+1));if(c){var f=t(o,s.length,c,l,r);if(f)s+=f+"; "}}}o=a+1}for(;a<r;a++){var c=e[a];if(c==="/"&&e[a+1]==="*"){var l=e.indexOf("*/",a+2);if(l===-1)break;a=l+1;o=a+1;i=false}else if(c==="("){i=true}else if(c===")"){i=false}else if(c===";"){if(i){}else{u()}}else if(c==="\n"){u()}}return n.trim(s)}e.exports=i},17381:e=>{e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf){return e.indexOf(t)}for(r=0,n=e.length;r<n;r++){if(e[r]===t){return r}}return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach){return e.forEach(t,r)}for(n=0,i=e.length;n<i;n++){t.call(r,e[n],n,e)}},trim:function(e){if(String.prototype.trim){return e.trim()}return e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){if(String.prototype.trimRight){return e.trimRight()}return e.replace(/(\s*$)/g,"")}}},65987:e=>{var t={single_source_shortest_paths:function(e,r,n){var i={};var o={};o[r]=0;var a=t.PriorityQueue.make();a.push(r,0);var s,u,c,l,f,d,h,p,v;while(!a.empty()){s=a.pop();u=s.value;l=s.cost;f=e[u]||{};for(c in f){if(f.hasOwnProperty(c)){d=f[c];h=l+d;p=o[c];v=typeof o[c]==="undefined";if(v||p>h){o[c]=h;a.push(c,h);i[c]=u}}}}if(typeof n!=="undefined"&&typeof o[n]==="undefined"){var g=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(g)}return i},extract_shortest_path_from_predecessor_list:function(e,t){var r=[];var n=t;var i;while(n){r.push(n);i=e[n];n=e[n]}r.reverse();return r},find_path:function(e,r,n){var i=t.single_source_shortest_paths(e,r,n);return t.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var r=t.PriorityQueue,n={},i;e=e||{};for(i in r){if(r.hasOwnProperty(i)){n[i]=r[i]}}n.queue=[];n.sorter=e.sorter||r.default_sorter;return n},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r);this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};if(true){e.exports=t}},62378:e=>{e.exports=function e(t){var r=[];var n=t.length;for(var i=0;i<n;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319&&n>i+1){var a=t.charCodeAt(i+1);if(a>=56320&&a<=57343){o=(o-55296)*1024+a-56320+65536;i+=1}}if(o<128){r.push(o);continue}if(o<2048){r.push(o>>6|192);r.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){r.push(o>>12|224);r.push(o>>6&63|128);r.push(o&63|128);continue}if(o>=65536&&o<=1114111){r.push(o>>18|240);r.push(o>>12&63|128);r.push(o>>6&63|128);r.push(o&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer}},8679:(e,t,r)=>{var n=r(59864);var i={childContextTypes:true,contextType:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromError:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var o={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var a={$$typeof:true,render:true,defaultProps:true,displayName:true,propTypes:true};var s={$$typeof:true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var u={};u[n.ForwardRef]=a;u[n.Memo]=s;function c(e){if(n.isMemo(e)){return s}return u[e["$$typeof"]]||i}var l=Object.defineProperty;var f=Object.getOwnPropertyNames;var d=Object.getOwnPropertySymbols;var h=Object.getOwnPropertyDescriptor;var p=Object.getPrototypeOf;var v=Object.prototype;function g(e,t,r){if(typeof t!=="string"){if(v){var n=p(t);if(n&&n!==v){g(e,n,r)}}var i=f(t);if(d){i=i.concat(d(t))}var a=c(e);var s=c(t);for(var u=0;u<i.length;++u){var m=i[u];if(!o[m]&&!(r&&r[m])&&!(s&&s[m])&&!(a&&a[m])){var y=h(t,m);try{l(e,m,y)}catch(e){}}}}return e}e.exports=g},55628:(e,t,r)=>{r.r(t)},3195:(e,t,r)=>{r.r(t)},15495:(e,t,r)=>{r.r(t)},79965:(e,t,r)=>{r.r(t)},90598:(e,t,r)=>{r.r(t)},49377:(e,t,r)=>{r.r(t)},28910:(e,t,r)=>{r.r(t)},93231:(e,t,r)=>{r.r(t)},77756:(e,t,r)=>{r.r(t)},87076:(e,t,r)=>{r.r(t)},71822:(e,t,r)=>{r.r(t)},3963:(e,t,r)=>{r.r(t)},54329:(e,t,r)=>{r.r(t)},82347:(e,t,r)=>{r.r(t)},68106:(e,t,r)=>{r.r(t)},18136:(e,t,r)=>{r.r(t)},63944:(e,t,r)=>{r.r(t)},68723:(e,t,r)=>{r.r(t)},55462:(e,t,r)=>{r.r(t)},34298:(e,t,r)=>{r.r(t)},78490:(e,t,r)=>{r.r(t)},84313:(e,t,r)=>{r.r(t)},91378:(e,t,r)=>{r.r(t)},47610:(e,t,r)=>{r.r(t)},42260:(e,t,r)=>{r.r(t)},92592:(e,t,r)=>{const n=r(47138);const i=r(95115);const o=r(6907);const a=r(93776);function s(e,t,r,o,a){const s=[].slice.call(arguments,1);const u=s.length;const c=typeof s[u-1]==="function";if(!c&&!n()){throw new Error("Callback required as last argument")}if(c){if(u<2){throw new Error("Too few arguments provided")}if(u===2){a=r;r=t;t=o=undefined}else if(u===3){if(t.getContext&&typeof a==="undefined"){a=o;o=undefined}else{a=o;o=r;r=t;t=undefined}}}else{if(u<1){throw new Error("Too few arguments provided")}if(u===1){r=t;t=o=undefined}else if(u===2&&!t.getContext){o=r;r=t;t=undefined}return new Promise((function(n,a){try{const a=i.create(r,o);n(e(a,t,o))}catch(e){a(e)}}))}try{const n=i.create(r,o);a(null,e(n,t,o))}catch(e){a(e)}}t.create=i.create;t.toCanvas=s.bind(null,o.render);t.toDataURL=s.bind(null,o.renderToDataURL);t.toString=s.bind(null,(function(e,t,r){return a.render(e,r)}))},47138:e=>{e.exports=function(){return typeof Promise==="function"&&Promise.prototype&&Promise.prototype.then}},21845:(e,t,r)=>{const n=r(10242).getSymbolSize;t.getRowColCoords=function e(t){if(t===1)return[];const r=Math.floor(t/7)+2;const i=n(t);const o=i===145?26:Math.ceil((i-13)/(2*r-2))*2;const a=[i-7];for(let e=1;e<r-1;e++){a[e]=a[e-1]-o}a.push(6);return a.reverse()};t.getPositions=function e(r){const n=[];const i=t.getRowColCoords(r);const o=i.length;for(let e=0;e<o;e++){for(let t=0;t<o;t++){if(e===0&&t===0||e===0&&t===o-1||e===o-1&&t===0){continue}n.push([i[e],i[t]])}}return n}},8260:(e,t,r)=>{const n=r(76910);const i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=n.ALPHANUMERIC;this.data=e}o.getBitsLength=function e(t){return 11*Math.floor(t/2)+6*(t%2)};o.prototype.getLength=function e(){return this.data.length};o.prototype.getBitsLength=function e(){return o.getBitsLength(this.data.length)};o.prototype.write=function e(t){let r;for(r=0;r+2<=this.data.length;r+=2){let e=i.indexOf(this.data[r])*45;e+=i.indexOf(this.data[r+1]);t.put(e,11)}if(this.data.length%2){t.put(i.indexOf(this.data[r]),6)}};e.exports=o},97245:e=>{function t(){this.buffer=[];this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++){this.putBit((e>>>t-r-1&1)===1)}},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);if(this.buffer.length<=t){this.buffer.push(0)}if(e){this.buffer[t]|=128>>>this.length%8}this.length++}};e.exports=t},73280:e=>{function t(e){if(!e||e<1){throw new Error("BitMatrix size must be defined and greater than 0")}this.size=e;this.data=new Uint8Array(e*e);this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r;if(n)this.reservedBit[i]=true};t.prototype.get=function(e,t){return this.data[e*this.size+t]};t.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};e.exports=t},43424:(e,t,r)=>{const n=r(62378);const i=r(76910);function o(e){this.mode=i.BYTE;this.data=new Uint8Array(n(e))}o.getBitsLength=function e(t){return t*8};o.prototype.getLength=function e(){return this.data.length};o.prototype.getBitsLength=function e(){return o.getBitsLength(this.data.length)};o.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++){e.put(this.data[t],8)}};e.exports=o},35393:(e,t,r)=>{const n=r(64908);const i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81];const o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function e(t,r){switch(r){case n.L:return i[(t-1)*4+0];case n.M:return i[(t-1)*4+1];case n.Q:return i[(t-1)*4+2];case n.H:return i[(t-1)*4+3];default:return undefined}};t.getTotalCodewordsCount=function e(t,r){switch(r){case n.L:return o[(t-1)*4+0];case n.M:return o[(t-1)*4+1];case n.Q:return o[(t-1)*4+2];case n.H:return o[(t-1)*4+3];default:return undefined}}},64908:(e,t)=>{t.L={bit:1};t.M={bit:0};t.Q={bit:3};t.H={bit:2};function r(e){if(typeof e!=="string"){throw new Error("Param is not a string")}const r=e.toLowerCase();switch(r){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}t.isValid=function e(t){return t&&typeof t.bit!=="undefined"&&t.bit>=0&&t.bit<4};t.from=function e(n,i){if(t.isValid(n)){return n}try{return r(n)}catch(e){return i}}},76526:(e,t,r)=>{const n=r(10242).getSymbolSize;const i=7;t.getPositions=function e(t){const r=n(t);return[[0,0],[r-i,0],[0,r-i]]}},61642:(e,t,r)=>{const n=r(10242);const i=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0;const o=1<<14|1<<12|1<<10|1<<4|1<<1;const a=n.getBCHDigit(i);t.getEncodedBits=function e(t,r){const s=t.bit<<3|r;let u=s<<10;while(n.getBCHDigit(u)-a>=0){u^=i<<n.getBCHDigit(u)-a}return(s<<10|u)^o}},69729:(e,t)=>{const r=new Uint8Array(512);const n=new Uint8Array(256);(function e(){let t=1;for(let e=0;e<255;e++){r[e]=t;n[t]=e;t<<=1;if(t&256){t^=285}}for(let e=255;e<512;e++){r[e]=r[e-255]}})();t.log=function e(t){if(t<1)throw new Error("log("+t+")");return n[t]};t.exp=function e(t){return r[t]};t.mul=function e(t,i){if(t===0||i===0)return 0;return r[n[t]+n[i]]}},35442:(e,t,r)=>{const n=r(76910);const i=r(10242);function o(e){this.mode=n.KANJI;this.data=e}o.getBitsLength=function e(t){return t*13};o.prototype.getLength=function e(){return this.data.length};o.prototype.getBitsLength=function e(){return o.getBitsLength(this.data.length)};o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=i.toSJIS(this.data[t]);if(r>=33088&&r<=40956){r-=33088}else if(r>=57408&&r<=60351){r-=49472}else{throw new Error("Invalid SJIS character: "+this.data[t]+"\n"+"Make sure your charset is UTF-8")}r=(r>>>8&255)*192+(r&255);e.put(r,13)}};e.exports=o},27126:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r={N1:3,N2:3,N3:40,N4:10};t.isValid=function e(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7};t.from=function e(r){return t.isValid(r)?parseInt(r,10):undefined};t.getPenaltyN1=function e(t){const n=t.size;let i=0;let o=0;let a=0;let s=null;let u=null;for(let e=0;e<n;e++){o=a=0;s=u=null;for(let c=0;c<n;c++){let n=t.get(e,c);if(n===s){o++}else{if(o>=5)i+=r.N1+(o-5);s=n;o=1}n=t.get(c,e);if(n===u){a++}else{if(a>=5)i+=r.N1+(a-5);u=n;a=1}}if(o>=5)i+=r.N1+(o-5);if(a>=5)i+=r.N1+(a-5)}return i};t.getPenaltyN2=function e(t){const n=t.size;let i=0;for(let e=0;e<n-1;e++){for(let r=0;r<n-1;r++){const n=t.get(e,r)+t.get(e,r+1)+t.get(e+1,r)+t.get(e+1,r+1);if(n===4||n===0)i++}}return i*r.N2};t.getPenaltyN3=function e(t){const n=t.size;let i=0;let o=0;let a=0;for(let e=0;e<n;e++){o=a=0;for(let r=0;r<n;r++){o=o<<1&2047|t.get(e,r);if(r>=10&&(o===1488||o===93))i++;a=a<<1&2047|t.get(r,e);if(r>=10&&(a===1488||a===93))i++}}return i*r.N3};t.getPenaltyN4=function e(t){let n=0;const i=t.data.length;for(let e=0;e<i;e++)n+=t.data[e];const o=Math.abs(Math.ceil(n*100/i/5)-10);return o*r.N4};function n(e,r,n){switch(e){case t.Patterns.PATTERN000:return(r+n)%2===0;case t.Patterns.PATTERN001:return r%2===0;case t.Patterns.PATTERN010:return n%3===0;case t.Patterns.PATTERN011:return(r+n)%3===0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2===0;case t.Patterns.PATTERN101:return r*n%2+r*n%3===0;case t.Patterns.PATTERN110:return(r*n%2+r*n%3)%2===0;case t.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}t.applyMask=function e(t,r){const i=r.size;for(let e=0;e<i;e++){for(let o=0;o<i;o++){if(r.isReserved(o,e))continue;r.xor(o,e,n(t,o,e))}}};t.getBestMask=function e(r,n){const i=Object.keys(t.Patterns).length;let o=0;let a=Infinity;for(let e=0;e<i;e++){n(e);t.applyMask(e,r);const i=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(e,r);if(i<a){a=i;o=e}}return o}},76910:(e,t,r)=>{const n=r(43114);const i=r(7007);t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};t.MIXED={bit:-1};t.getCharCountIndicator=function e(t,r){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!n.isValid(r)){throw new Error("Invalid version: "+r)}if(r>=1&&r<10)return t.ccBits[0];else if(r<27)return t.ccBits[1];return t.ccBits[2]};t.getBestModeForData=function e(r){if(i.testNumeric(r))return t.NUMERIC;else if(i.testAlphanumeric(r))return t.ALPHANUMERIC;else if(i.testKanji(r))return t.KANJI;else return t.BYTE};t.toString=function e(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")};t.isValid=function e(t){return t&&t.bit&&t.ccBits};function o(e){if(typeof e!=="string"){throw new Error("Param is not a string")}const r=e.toLowerCase();switch(r){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}t.from=function e(r,n){if(t.isValid(r)){return r}try{return o(r)}catch(e){return n}}},41085:(e,t,r)=>{const n=r(76910);function i(e){this.mode=n.NUMERIC;this.data=e.toString()}i.getBitsLength=function e(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};i.prototype.getLength=function e(){return this.data.length};i.prototype.getBitsLength=function e(){return i.getBitsLength(this.data.length)};i.prototype.write=function e(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3){n=this.data.substr(r,3);i=parseInt(n,10);t.put(i,10)}const o=this.data.length-r;if(o>0){n=this.data.substr(r);i=parseInt(n,10);t.put(i,o*3+1)}};e.exports=i},26143:(e,t,r)=>{const n=r(69729);t.mul=function e(t,r){const i=new Uint8Array(t.length+r.length-1);for(let e=0;e<t.length;e++){for(let o=0;o<r.length;o++){i[e+o]^=n.mul(t[e],r[o])}}return i};t.mod=function e(t,r){let i=new Uint8Array(t);while(i.length-r.length>=0){const e=i[0];for(let t=0;t<r.length;t++){i[t]^=n.mul(r[t],e)}let t=0;while(t<i.length&&i[t]===0)t++;i=i.slice(t)}return i};t.generateECPolynomial=function e(r){let i=new Uint8Array([1]);for(let e=0;e<r;e++){i=t.mul(i,new Uint8Array([1,n.exp(e)]))}return i}},95115:(e,t,r)=>{const n=r(10242);const i=r(64908);const o=r(97245);const a=r(73280);const s=r(21845);const u=r(76526);const c=r(27126);const l=r(35393);const f=r(52882);const d=r(23103);const h=r(61642);const p=r(76910);const v=r(16130);function g(e,t){const r=e.size;const n=u.getPositions(t);for(let t=0;t<n.length;t++){const i=n[t][0];const o=n[t][1];for(let t=-1;t<=7;t++){if(i+t<=-1||r<=i+t)continue;for(let n=-1;n<=7;n++){if(o+n<=-1||r<=o+n)continue;if(t>=0&&t<=6&&(n===0||n===6)||n>=0&&n<=6&&(t===0||t===6)||t>=2&&t<=4&&n>=2&&n<=4){e.set(i+t,o+n,true,true)}else{e.set(i+t,o+n,false,true)}}}}}function m(e){const t=e.size;for(let r=8;r<t-8;r++){const t=r%2===0;e.set(r,6,t,true);e.set(6,r,t,true)}}function y(e,t){const r=s.getPositions(t);for(let t=0;t<r.length;t++){const n=r[t][0];const i=r[t][1];for(let t=-2;t<=2;t++){for(let r=-2;r<=2;r++){if(t===-2||t===2||r===-2||r===2||t===0&&r===0){e.set(n+t,i+r,true,true)}else{e.set(n+t,i+r,false,true)}}}}}function _(e,t){const r=e.size;const n=d.getEncodedBits(t);let i,o,a;for(let t=0;t<18;t++){i=Math.floor(t/3);o=t%3+r-8-3;a=(n>>t&1)===1;e.set(i,o,a,true);e.set(o,i,a,true)}}function b(e,t,r){const n=e.size;const i=h.getEncodedBits(t,r);let o,a;for(o=0;o<15;o++){a=(i>>o&1)===1;if(o<6){e.set(o,8,a,true)}else if(o<8){e.set(o+1,8,a,true)}else{e.set(n-15+o,8,a,true)}if(o<8){e.set(8,n-o-1,a,true)}else if(o<9){e.set(8,15-o-1+1,a,true)}else{e.set(8,15-o-1,a,true)}}e.set(n-8,8,1,true)}function E(e,t){const r=e.size;let n=-1;let i=r-1;let o=7;let a=0;for(let s=r-1;s>0;s-=2){if(s===6)s--;while(true){for(let r=0;r<2;r++){if(!e.isReserved(i,s-r)){let n=false;if(a<t.length){n=(t[a]>>>o&1)===1}e.set(i,s-r,n);o--;if(o===-1){a++;o=7}}}i+=n;if(i<0||r<=i){i-=n;n=-n;break}}}}function S(e,t,r){const i=new o;r.forEach((function(t){i.put(t.mode.bit,4);i.put(t.getLength(),p.getCharCountIndicator(t.mode,e));t.write(i)}));const a=n.getSymbolTotalCodewords(e);const s=l.getTotalCodewordsCount(e,t);const u=(a-s)*8;if(i.getLengthInBits()+4<=u){i.put(0,4)}while(i.getLengthInBits()%8!==0){i.putBit(0)}const c=(u-i.getLengthInBits())/8;for(let e=0;e<c;e++){i.put(e%2?17:236,8)}return w(i,e,t)}function w(e,t,r){const i=n.getSymbolTotalCodewords(t);const o=l.getTotalCodewordsCount(t,r);const a=i-o;const s=l.getBlocksCount(t,r);const u=i%s;const c=s-u;const d=Math.floor(i/s);const h=Math.floor(a/s);const p=h+1;const v=d-h;const g=new f(v);let m=0;const y=new Array(s);const _=new Array(s);let b=0;const E=new Uint8Array(e.buffer);for(let e=0;e<s;e++){const t=e<c?h:p;y[e]=E.slice(m,m+t);_[e]=g.encode(y[e]);m+=t;b=Math.max(b,t)}const S=new Uint8Array(i);let w=0;let T,C;for(T=0;T<b;T++){for(C=0;C<s;C++){if(T<y[C].length){S[w++]=y[C][T]}}}for(T=0;T<v;T++){for(C=0;C<s;C++){S[w++]=_[C][T]}}return S}function T(e,t,r,i){let o;if(Array.isArray(e)){o=v.fromArray(e)}else if(typeof e==="string"){let n=t;if(!n){const t=v.rawSplit(e);n=d.getBestVersionForData(t,r)}o=v.fromString(e,n||40)}else{throw new Error("Invalid data")}const s=d.getBestVersionForData(o,r);if(!s){throw new Error("The amount of data is too big to be stored in a QR Code")}if(!t){t=s}else if(t<s){throw new Error("\n"+"The chosen QR Code version cannot contain this amount of data.\n"+"Minimum version required to store current data is: "+s+".\n")}const u=S(t,r,o);const l=n.getSymbolSize(t);const f=new a(l);g(f,t);m(f);y(f,t);b(f,r,0);if(t>=7){_(f,t)}E(f,u);if(isNaN(i)){i=c.getBestMask(f,b.bind(null,f,r))}c.applyMask(i,f);b(f,r,i);return{modules:f,version:t,errorCorrectionLevel:r,maskPattern:i,segments:o}}t.create=function e(t,r){if(typeof t==="undefined"||t===""){throw new Error("No input text")}let o=i.M;let a;let s;if(typeof r!=="undefined"){o=i.from(r.errorCorrectionLevel,i.M);a=d.from(r.version);s=c.from(r.maskPattern);if(r.toSJISFunc){n.setToSJISFunction(r.toSJISFunc)}}return T(t,a,o,s)}},52882:(e,t,r)=>{const n=r(26143);function i(e){this.genPoly=undefined;this.degree=e;if(this.degree)this.initialize(this.degree)}i.prototype.initialize=function e(t){this.degree=t;this.genPoly=n.generateECPolynomial(this.degree)};i.prototype.encode=function e(t){if(!this.genPoly){throw new Error("Encoder not initialized")}const r=new Uint8Array(t.length+this.degree);r.set(t);const i=n.mod(r,this.genPoly);const o=this.degree-i.length;if(o>0){const e=new Uint8Array(this.degree);e.set(i,o);return e}return i};e.exports=i},7007:(e,t)=>{const r="[0-9]+";const n="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|"+"[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|"+"[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|"+"[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+")(?:.|[\r\n]))+";t.KANJI=new RegExp(i,"g");t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");t.BYTE=new RegExp(o,"g");t.NUMERIC=new RegExp(r,"g");t.ALPHANUMERIC=new RegExp(n,"g");const a=new RegExp("^"+i+"$");const s=new RegExp("^"+r+"$");const u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function e(t){return a.test(t)};t.testNumeric=function e(t){return s.test(t)};t.testAlphanumeric=function e(t){return u.test(t)}},16130:(e,t,r)=>{const n=r(76910);const i=r(41085);const o=r(8260);const a=r(43424);const s=r(35442);const u=r(7007);const c=r(10242);const l=r(65987);function f(e){return unescape(encodeURIComponent(e)).length}function d(e,t,r){const n=[];let i;while((i=e.exec(r))!==null){n.push({data:i[0],index:i.index,mode:t,length:i[0].length})}return n}function h(e){const t=d(u.NUMERIC,n.NUMERIC,e);const r=d(u.ALPHANUMERIC,n.ALPHANUMERIC,e);let i;let o;if(c.isKanjiModeEnabled()){i=d(u.BYTE,n.BYTE,e);o=d(u.KANJI,n.KANJI,e)}else{i=d(u.BYTE_KANJI,n.BYTE,e);o=[]}const a=t.concat(r,i,o);return a.sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function p(e,t){switch(t){case n.NUMERIC:return i.getBitsLength(e);case n.ALPHANUMERIC:return o.getBitsLength(e);case n.KANJI:return s.getBitsLength(e);case n.BYTE:return a.getBitsLength(e)}}function v(e){return e.reduce((function(e,t){const r=e.length-1>=0?e[e.length-1]:null;if(r&&r.mode===t.mode){e[e.length-1].data+=t.data;return e}e.push(t);return e}),[])}function g(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r];switch(i.mode){case n.NUMERIC:t.push([i,{data:i.data,mode:n.ALPHANUMERIC,length:i.length},{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.ALPHANUMERIC:t.push([i,{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.KANJI:t.push([i,{data:i.data,mode:n.BYTE,length:f(i.data)}]);break;case n.BYTE:t.push([{data:i.data,mode:n.BYTE,length:f(i.data)}])}}return t}function m(e,t){const r={};const i={start:{}};let o=["start"];for(let a=0;a<e.length;a++){const s=e[a];const u=[];for(let e=0;e<s.length;e++){const c=s[e];const l=""+a+e;u.push(l);r[l]={node:c,lastCount:0};i[l]={};for(let e=0;e<o.length;e++){const a=o[e];if(r[a]&&r[a].node.mode===c.mode){i[a][l]=p(r[a].lastCount+c.length,c.mode)-p(r[a].lastCount,c.mode);r[a].lastCount+=c.length}else{if(r[a])r[a].lastCount=c.length;i[a][l]=p(c.length,c.mode)+4+n.getCharCountIndicator(c.mode,t)}}}o=u}for(let e=0;e<o.length;e++){i[o[e]].end=0}return{map:i,table:r}}function y(e,t){let r;const u=n.getBestModeForData(e);r=n.from(t,u);if(r!==n.BYTE&&r.bit<u.bit){throw new Error('"'+e+'"'+" cannot be encoded with mode "+n.toString(r)+".\n Suggested mode is: "+n.toString(u))}if(r===n.KANJI&&!c.isKanjiModeEnabled()){r=n.BYTE}switch(r){case n.NUMERIC:return new i(e);case n.ALPHANUMERIC:return new o(e);case n.KANJI:return new s(e);case n.BYTE:return new a(e)}}t.fromArray=function e(t){return t.reduce((function(e,t){if(typeof t==="string"){e.push(y(t,null))}else if(t.data){e.push(y(t.data,t.mode))}return e}),[])};t.fromString=function e(r,n){const i=h(r,c.isKanjiModeEnabled());const o=g(i);const a=m(o,n);const s=l.find_path(a.map,"start","end");const u=[];for(let e=1;e<s.length-1;e++){u.push(a.table[s[e]].node)}return t.fromArray(v(u))};t.rawSplit=function e(r){return t.fromArray(h(r,c.isKanjiModeEnabled()))}},10242:(e,t)=>{let r;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function e(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};t.getSymbolTotalCodewords=function e(t){return n[t]};t.getBCHDigit=function(e){let t=0;while(e!==0){t++;e>>>=1}return t};t.setToSJISFunction=function e(t){if(typeof t!=="function"){throw new Error('"toSJISFunc" is not a valid function.')}r=t};t.isKanjiModeEnabled=function(){return typeof r!=="undefined"};t.toSJIS=function e(t){return r(t)}},43114:(e,t)=>{t.isValid=function e(t){return!isNaN(t)&&t>=1&&t<=40}},23103:(e,t,r)=>{const n=r(10242);const i=r(35393);const o=r(64908);const a=r(76910);const s=r(43114);const u=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0;const c=n.getBCHDigit(u);function l(e,r,n){for(let i=1;i<=40;i++){if(r<=t.getCapacity(i,n,e)){return i}}return undefined}function f(e,t){return a.getCharCountIndicator(e,t)+4}function d(e,t){let r=0;e.forEach((function(e){const n=f(e.mode,t);r+=n+e.getBitsLength()}));return r}function h(e,r){for(let n=1;n<=40;n++){const i=d(e,n);if(i<=t.getCapacity(n,r,a.MIXED)){return n}}return undefined}t.from=function e(t,r){if(s.isValid(t)){return parseInt(t,10)}return r};t.getCapacity=function e(t,r,o){if(!s.isValid(t)){throw new Error("Invalid QR Code version")}if(typeof o==="undefined")o=a.BYTE;const u=n.getSymbolTotalCodewords(t);const c=i.getTotalCodewordsCount(t,r);const l=(u-c)*8;if(o===a.MIXED)return l;const d=l-f(o,t);switch(o){case a.NUMERIC:return Math.floor(d/10*3);case a.ALPHANUMERIC:return Math.floor(d/11*2);case a.KANJI:return Math.floor(d/13);case a.BYTE:default:return Math.floor(d/8)}};t.getBestVersionForData=function e(t,r){let n;const i=o.from(r,o.M);if(Array.isArray(t)){if(t.length>1){return h(t,i)}if(t.length===0){return 1}n=t[0]}else{n=t}return l(n.mode,n.getLength(),i)};t.getEncodedBits=function e(t){if(!s.isValid(t)||t<7){throw new Error("Invalid QR Code version")}let r=t<<12;while(n.getBCHDigit(r)-c>=0){r^=u<<n.getBCHDigit(r)-c}return t<<12|r}},6907:(e,t,r)=>{const n=r(89653);function i(e,t,r){e.clearRect(0,0,t.width,t.height);if(!t.style)t.style={};t.height=r;t.width=r;t.style.height=r+"px";t.style.width=r+"px"}function o(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}t.render=function e(t,r,a){let s=a;let u=r;if(typeof s==="undefined"&&(!r||!r.getContext)){s=r;r=undefined}if(!r){u=o()}s=n.getOptions(s);const c=n.getImageWidth(t.modules.size,s);const l=u.getContext("2d");const f=l.createImageData(c,c);n.qrToImageData(f.data,t,s);i(l,u,c);l.putImageData(f,0,0);return u};t.renderToDataURL=function e(r,n,i){let o=i;if(typeof o==="undefined"&&(!n||!n.getContext)){o=n;n=undefined}if(!o)o={};const a=t.render(r,n,o);const s=o.type||"image/png";const u=o.rendererOpts||{};return a.toDataURL(s,u.quality)}},93776:(e,t,r)=>{const n=r(89653);function i(e,t){const r=e.a/255;const n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function o(e,t,r){let n=e+t;if(typeof r!=="undefined")n+=" "+r;return n}function a(e,t,r){let n="";let i=0;let a=false;let s=0;for(let u=0;u<e.length;u++){const c=Math.floor(u%t);const l=Math.floor(u/t);if(!c&&!a)a=true;if(e[u]){s++;if(!(u>0&&c>0&&e[u-1])){n+=a?o("M",c+r,.5+l+r):o("m",i,0);i=0;a=false}if(!(c+1<t&&e[u+1])){n+=o("h",s);s=0}}else{i++}}return n}t.render=function e(t,r,o){const s=n.getOptions(r);const u=t.modules.size;const c=t.modules.data;const l=u+s.margin*2;const f=!s.color.light.a?"":"<path "+i(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>';const d="<path "+i(s.color.dark,"stroke")+' d="'+a(c,u,s.margin)+'"/>';const h='viewBox="'+"0 0 "+l+" "+l+'"';const p=!s.width?"":'width="'+s.width+'" height="'+s.width+'" ';const v='<svg xmlns="http://www.w3.org/2000/svg" '+p+h+' shape-rendering="crispEdges">'+f+d+"</svg>\n";if(typeof o==="function"){o(null,v)}return v}},89653:(e,t)=>{function r(e){if(typeof e==="number"){e=e.toString()}if(typeof e!=="string"){throw new Error("Color should be defined as hex string")}let t=e.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8){throw new Error("Invalid hex color: "+e)}if(t.length===3||t.length===4){t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))}if(t.length===6)t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function e(t){if(!t)t={};if(!t.color)t.color={};const n=typeof t.margin==="undefined"||t.margin===null||t.margin<0?4:t.margin;const i=t.width&&t.width>=21?t.width:undefined;const o=t.scale||4;return{width:i,scale:i?4:o,margin:n,color:{dark:r(t.color.dark||"#000000ff"),light:r(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}};t.getScale=function e(t,r){return r.width&&r.width>=t+r.margin*2?r.width/(t+r.margin*2):r.scale};t.getImageWidth=function e(r,n){const i=t.getScale(r,n);return Math.floor((r+n.margin*2)*i)};t.qrToImageData=function e(r,n,i){const o=n.modules.size;const a=n.modules.data;const s=t.getScale(o,i);const u=Math.floor((o+i.margin*2)*s);const c=i.margin*s;const l=[i.color.light,i.color.dark];for(let e=0;e<u;e++){for(let t=0;t<u;t++){let n=(e*u+t)*4;let f=i.color.light;if(e>=c&&t>=c&&e<u-c&&t<u-c){const r=Math.floor((e-c)/s);const n=Math.floor((t-c)/s);f=l[a[r*o+n]?1:0]}r[n++]=f.r;r[n++]=f.g;r[n++]=f.b;r[n]=f.a}}}},61431:(e,t,r)=>{r.r(t);r.d(t,{Panel:()=>Se,default:()=>Ie});var n=r(87462);var i=r(70885);var o=r(67294);var a=r.t(o,2);var s=r(73935);var u=r(98924);var c=r(80334);var l=r(25491);var f=o.createContext(null);const d=f;var h=r(30907);function p(e){if(Array.isArray(e))return(0,h.Z)(e)}function v(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var g=r(40181);function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e){return p(e)||v(e)||(0,g.Z)(e)||m()}var _=r(8410);var b=[];function E(e,t){var r=o.useState((function(){if(!(0,u.Z)()){return null}var e=document.createElement("div");if(false){}return e})),n=(0,i.Z)(r,1),a=n[0];var s=o.useRef(false);var c=o.useContext(d);var l=o.useState(b),f=(0,i.Z)(l,2),h=f[0],p=f[1];var v=c||(s.current?undefined:function(e){p((function(t){var r=[e].concat(y(t));return r}))});function g(){if(!a.parentElement){document.body.appendChild(a)}s.current=true}function m(){var e;(e=a.parentElement)===null||e===void 0?void 0:e.removeChild(a);s.current=false}(0,_.Z)((function(){if(e){if(c){c(g)}else{g()}}else{m()}return m}),[e]);(0,_.Z)((function(){if(h.length){h.forEach((function(e){return e()}));p(b)}}),[h]);return[a,v]}var S=r(1413);var w=r(94999);var T="data-rc-order";var C="data-rc-priority";var A="rc-util-key";var R=new Map;function I(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.mark;if(t){return t.startsWith("data-")?t:"data-".concat(t)}return A}function k(e){if(e.attachTo){return e.attachTo}var t=document.querySelector("head");return t||document.body}function O(e){if(e==="queue"){return"prependQueue"}return e?"prepend":"append"}function P(e){return Array.from((R.get(e)||e).children).filter((function(e){return e.tagName==="STYLE"}))}function M(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!(0,u.Z)()){return null}var r=t.csp,n=t.prepend,i=t.priority,o=i===void 0?0:i;var a=O(n);var s=a==="prependQueue";var c=document.createElement("style");c.setAttribute(T,a);if(s&&o){c.setAttribute(C,"".concat(o))}if(r!==null&&r!==void 0&&r.nonce){c.nonce=r===null||r===void 0?void 0:r.nonce}c.innerHTML=e;var l=k(t);var f=l.firstChild;if(n){if(s){var d=(t.styles||P(l)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(T))){return false}var t=Number(e.getAttribute(C)||0);return o>=t}));if(d.length){l.insertBefore(c,d[d.length-1].nextSibling);return c}}l.insertBefore(c,f)}else{l.appendChild(c)}return c}function x(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=k(t);return(t.styles||P(r)).find((function(r){return r.getAttribute(I(t))===e}))}function L(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=x(e,t);if(r){var n=k(t);n.removeChild(r)}}function D(e,t){var r=R.get(e);if(!r||!(0,w.Z)(document,r)){var n=M("",t);var i=n.parentNode;R.set(e,i);e.removeChild(n)}}function N(){R.clear()}function j(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var n=k(r);var i=P(n);var o=(0,S.Z)((0,S.Z)({},r),{},{styles:i});D(n,o);var a=x(t,o);if(a){var s,u;if((s=o.csp)!==null&&s!==void 0&&s.nonce&&a.nonce!==((u=o.csp)===null||u===void 0?void 0:u.nonce)){var c;a.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}if(a.innerHTML!==e){a.innerHTML=e}return a}var l=M(e,o);l.setAttribute(I(o),t);return l}var U;function B(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7));var r=document.createElement("div");r.id=t;var n=r.style;n.position="absolute";n.left="0";n.top="0";n.width="100px";n.height="100px";n.overflow="scroll";var i;var o;if(e){var a=getComputedStyle(e);n.scrollbarColor=a.scrollbarColor;n.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar");var u=parseInt(s.width,10);var c=parseInt(s.height,10);try{var l=u?"width: ".concat(s.width,";"):"";var f=c?"height: ".concat(s.height,";"):"";j("\n#".concat(t,"::-webkit-scrollbar {\n").concat(l,"\n").concat(f,"\n}"),t)}catch(e){console.error(e);i=u;o=c}}document.body.appendChild(r);var d=e&&i&&!isNaN(i)?i:r.offsetWidth-r.clientWidth;var h=e&&o&&!isNaN(o)?o:r.offsetHeight-r.clientHeight;document.body.removeChild(r);L(t);return{width:d,height:h}}function F(e){if(typeof document==="undefined"){return 0}if(e||U===undefined){U=B()}return U.width}function H(e){if(typeof document==="undefined"||!e||!(e instanceof Element)){return{width:0,height:0}}return B(e)}function V(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var W="rc-util-locker-".concat(Date.now());var z=0;function G(e){var t=!!e;var r=o.useState((function(){z+=1;return"".concat(W,"_").concat(z)})),n=(0,i.Z)(r,1),a=n[0];(0,_.Z)((function(){if(t){var e=H(document.body).width;var r=V();j("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),a)}else{L(a)}return function(){L(a)}}),[t,a])}var Y=false;function K(e){if(typeof e==="boolean"){Y=e}return Y}var q=function e(t){if(t===false){return false}if(!(0,u.Z)()||!t){return null}if(typeof t==="string"){return document.querySelector(t)}if(typeof t==="function"){return t()}return t};var $=o.forwardRef((function(e,t){var r=e.open,n=e.autoLock,a=e.getContainer,c=e.debug,f=e.autoDestroy,h=f===void 0?true:f,p=e.children;var v=o.useState(r),g=(0,i.Z)(v,2),m=g[0],y=g[1];var _=m||r;if(false){}o.useEffect((function(){if(h||r){y(r)}}),[r,h]);var b=o.useState((function(){return q(a)})),S=(0,i.Z)(b,2),w=S[0],T=S[1];o.useEffect((function(){var e=q(a);T(e!==null&&e!==void 0?e:null)}));var C=E(_&&!w,c),A=(0,i.Z)(C,2),R=A[0],I=A[1];var k=w!==null&&w!==void 0?w:R;G(n&&r&&(0,u.Z)()&&(k===R||k===document.body));var O=null;if(p&&(0,l.Yr)(p)&&t){var P=p;O=P.ref}var M=(0,l.x1)(O,t);if(!_||!(0,u.Z)()||w===undefined){return null}var x=k===false||K();var L=p;if(t){L=o.cloneElement(p,{ref:M})}return o.createElement(d.Provider,{value:I},x?L:(0,s.createPortal)(L,k))}));if(false){}const J=$;const Z=J;var X=r(93967);var Q=r.n(X);var ee={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function e(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=ee.F1&&r<=ee.F12){return false}switch(r){case ee.ALT:case ee.CAPS_LOCK:case ee.CONTEXT_MENU:case ee.CTRL:case ee.DOWN:case ee.END:case ee.ESC:case ee.HOME:case ee.INSERT:case ee.LEFT:case ee.MAC_FF_META:case ee.META:case ee.NUMLOCK:case ee.NUM_CENTER:case ee.PAGE_DOWN:case ee.PAGE_UP:case ee.PAUSE:case ee.PRINT_SCREEN:case ee.RIGHT:case ee.SHIFT:case ee.UP:case ee.WIN_KEY:case ee.WIN_KEY_RIGHT:return false;default:return true}},isCharacterKey:function e(t){if(t>=ee.ZERO&&t<=ee.NINE){return true}if(t>=ee.NUM_ZERO&&t<=ee.NUM_MULTIPLY){return true}if(t>=ee.A&&t<=ee.Z){return true}if(window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0){return true}switch(t){case ee.SPACE:case ee.QUESTION_MARK:case ee.NUM_PLUS:case ee.NUM_MINUS:case ee.NUM_PERIOD:case ee.NUM_DIVISION:case ee.SEMICOLON:case ee.DASH:case ee.EQUALS:case ee.COMMA:case ee.PERIOD:case ee.SLASH:case ee.APOSTROPHE:case ee.SINGLE_QUOTE:case ee.OPEN_SQUARE_BRACKET:case ee.BACKSLASH:case ee.CLOSE_SQUARE_BRACKET:return true;default:return false}}};const te=ee;function re(){var e=(0,S.Z)({},a);return e.useId}var ne=0;function ie(){if(false){}}var oe=re();const ae=oe?function e(t){var r=oe();if(t){return t}if(false){}return r}:function e(t){var r=o.useState("ssr-id"),n=(0,i.Z)(r,2),a=n[0],s=n[1];o.useEffect((function(){var e=ne;ne+=1;s("rc_unique_".concat(e))}),[]);if(t){return t}if(false){}return a};var se="accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap";var ue="onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError";var ce="".concat(se," ").concat(ue).split(/[\s\n]+/);var le="aria-";var fe="data-";function de(e,t){return e.indexOf(t)===0}function he(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r;if(t===false){r={aria:true,data:true,attr:true}}else if(t===true){r={aria:true}}else{r=(0,S.Z)({},t)}var n={};Object.keys(e).forEach((function(t){if(r.aria&&(t==="role"||de(t,le))||r.data&&de(t,fe)||r.attr&&ce.includes(t)){n[t]=e[t]}}));return n}var pe=r(10747);function ve(e){var t=e.prefixCls,r=e.style,i=e.visible,a=e.maskProps,s=e.motionName;return o.createElement(pe.ZP,{key:"mask",visible:i,motionName:s,leavedClassName:"".concat(t,"-mask-hidden")},(function(e,i){var s=e.className,u=e.style;return o.createElement("div",(0,n.Z)({ref:i,style:(0,S.Z)((0,S.Z)({},u),r),className:Q()("".concat(t,"-mask"),s)},a))}))}function ge(e,t,r){var n=t;if(!n&&r){n="".concat(e,"-").concat(r)}return n}function me(e,t){var r=e["page".concat(t?"Y":"X","Offset")];var n="scroll".concat(t?"Top":"Left");if(typeof r!=="number"){var i=e.document;r=i.documentElement[n];if(typeof r!=="number"){r=i.body[n]}}return r}function ye(e){var t=e.getBoundingClientRect();var r={left:t.left,top:t.top};var n=e.ownerDocument;var i=n.defaultView||n.parentWindow;r.left+=me(i);r.top+=me(i,true);return r}const _e=o.memo((function(e){var t=e.children;return t}),(function(e,t){var r=t.shouldUpdate;return!r}));var be={width:0,height:0,overflow:"hidden",outline:"none"};var Ee=o.forwardRef((function(e,t){var r=e.prefixCls,i=e.className,a=e.style,s=e.title,u=e.ariaId,c=e.footer,l=e.closable,f=e.closeIcon,d=e.onClose,h=e.children,p=e.bodyStyle,v=e.bodyProps,g=e.modalRender,m=e.onMouseDown,y=e.onMouseUp,_=e.holderRef,b=e.visible,E=e.forceRender,w=e.width,T=e.height;var C=(0,o.useRef)();var A=(0,o.useRef)();o.useImperativeHandle(t,(function(){return{focus:function e(){var t;(t=C.current)===null||t===void 0?void 0:t.focus()},changeActive:function e(t){var r=document,n=r.activeElement;if(t&&n===A.current){C.current.focus()}else if(!t&&n===C.current){A.current.focus()}}}}));var R={};if(w!==undefined){R.width=w}if(T!==undefined){R.height=T}var I;if(c){I=o.createElement("div",{className:"".concat(r,"-footer")},c)}var k;if(s){k=o.createElement("div",{className:"".concat(r,"-header")},o.createElement("div",{className:"".concat(r,"-title"),id:u},s))}var O;if(l){O=o.createElement("button",{type:"button",onClick:d,"aria-label":"Close",className:"".concat(r,"-close")},f||o.createElement("span",{className:"".concat(r,"-close-x")}))}var P=o.createElement("div",{className:"".concat(r,"-content")},O,k,o.createElement("div",(0,n.Z)({className:"".concat(r,"-body"),style:p},v),h),I);return o.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":s?u:null,"aria-modal":"true",ref:_,style:(0,S.Z)((0,S.Z)({},a),R),className:Q()(r,i),onMouseDown:m,onMouseUp:y},o.createElement("div",{tabIndex:0,ref:C,style:be,"aria-hidden":"true"}),o.createElement(_e,{shouldUpdate:b||E},g?g(P):P),o.createElement("div",{tabIndex:0,ref:A,style:be,"aria-hidden":"true"}))}));if(false){}const Se=Ee;var we=o.forwardRef((function(e,t){var r=e.prefixCls,a=e.title,s=e.style,u=e.className,c=e.visible,l=e.forceRender,f=e.destroyOnClose,d=e.motionName,h=e.ariaId,p=e.onVisibleChanged,v=e.mousePosition;var g=(0,o.useRef)();var m=o.useState(),y=(0,i.Z)(m,2),_=y[0],b=y[1];var E={};if(_){E.transformOrigin=_}function w(){var e=ye(g.current);b(v?"".concat(v.x-e.left,"px ").concat(v.y-e.top,"px"):"")}return o.createElement(pe.ZP,{visible:c,onVisibleChanged:p,onAppearPrepare:w,onEnterPrepare:w,forceRender:l,motionName:d,removeOnLeave:f,ref:g},(function(i,c){var l=i.className,f=i.style;return o.createElement(Se,(0,n.Z)({},e,{ref:t,title:a,ariaId:h,prefixCls:r,holderRef:c,style:(0,S.Z)((0,S.Z)((0,S.Z)({},f),s),E),className:Q()(u,l)}))}))}));we.displayName="Content";const Te=we;function Ce(e){var t=e.prefixCls,r=t===void 0?"rc-dialog":t,a=e.zIndex,s=e.visible,u=s===void 0?false:s,c=e.keyboard,l=c===void 0?true:c,f=e.focusTriggerAfterClose,d=f===void 0?true:f,h=e.wrapStyle,p=e.wrapClassName,v=e.wrapProps,g=e.onClose,m=e.afterClose,y=e.transitionName,_=e.animation,b=e.closable,E=b===void 0?true:b,T=e.mask,C=T===void 0?true:T,A=e.maskTransitionName,R=e.maskAnimation,I=e.maskClosable,k=I===void 0?true:I,O=e.maskStyle,P=e.maskProps,M=e.rootClassName;var x=(0,o.useRef)();var L=(0,o.useRef)();var D=(0,o.useRef)();var N=o.useState(u),j=(0,i.Z)(N,2),U=j[0],B=j[1];var F=ae();function H(){if(!(0,w.Z)(L.current,document.activeElement)){x.current=document.activeElement}}function V(){if(!(0,w.Z)(L.current,document.activeElement)){var e;(e=D.current)===null||e===void 0?void 0:e.focus()}}function W(e){if(e){V()}else{B(false);if(C&&x.current&&d){try{x.current.focus({preventScroll:true})}catch(e){}x.current=null}if(U){m===null||m===void 0?void 0:m()}}}function z(e){g===null||g===void 0?void 0:g(e)}var G=(0,o.useRef)(false);var Y=(0,o.useRef)();var K=function e(){clearTimeout(Y.current);G.current=true};var q=function e(){Y.current=setTimeout((function(){G.current=false}))};var $=null;if(k){$=function e(t){if(G.current){G.current=false}else if(L.current===t.target){z(t)}}}function J(e){if(l&&e.keyCode===te.ESC){e.stopPropagation();z(e);return}if(u){if(e.keyCode===te.TAB){D.current.changeActive(!e.shiftKey)}}}(0,o.useEffect)((function(){if(u){B(true);H()}}),[u]);(0,o.useEffect)((function(){return function(){clearTimeout(Y.current)}}),[]);return o.createElement("div",(0,n.Z)({className:Q()("".concat(r,"-root"),M)},he(e,{data:true})),o.createElement(ve,{prefixCls:r,visible:C&&u,motionName:ge(r,A,R),style:(0,S.Z)({zIndex:a},O),maskProps:P}),o.createElement("div",(0,n.Z)({tabIndex:-1,onKeyDown:J,className:Q()("".concat(r,"-wrap"),p),ref:L,onClick:$,style:(0,S.Z)((0,S.Z)({zIndex:a},h),{},{display:!U?"none":null})},v),o.createElement(Te,(0,n.Z)({},e,{onMouseDown:K,onMouseUp:q,ref:D,closable:E,ariaId:F,prefixCls:r,visible:u&&U,onClose:z,onVisibleChanged:W,motionName:ge(r,y,_)}))))}var Ae=function e(t){var r=t.visible,a=t.getContainer,s=t.forceRender,u=t.destroyOnClose,c=u===void 0?false:u,l=t.afterClose;var f=o.useState(r),d=(0,i.Z)(f,2),h=d[0],p=d[1];o.useEffect((function(){if(r){p(true)}}),[r]);if(!s&&c&&!h){return null}return o.createElement(Z,{open:r||s||h,autoDestroy:false,getContainer:a,autoLock:r||h},o.createElement(Ce,(0,n.Z)({},t,{destroyOnClose:c,afterClose:function e(){l===null||l===void 0?void 0:l();p(false)}})))};Ae.displayName="Dialog";const Re=Ae;const Ie=Re},10747:(e,t,r)=>{r.d(t,{ZP:()=>xe});var n=r(4942);var i=r(1413);var o=r(70885);var a=r(71002);var s=r(93967);var u=r.n(s);var c=r(34203);var l=r(25491);var f=r(67294);var d=null&&["children"];var h=f.createContext({});function p(e){var t=e.children,r=_objectWithoutProperties(e,d);return React.createElement(h.Provider,{value:r},t)}var v=r(15671);var g=r(43144);var m=r(79340);var y=r(98557);var _=function(e){(0,m.Z)(r,e);var t=(0,y.Z)(r);function r(){(0,v.Z)(this,r);return t.apply(this,arguments)}(0,g.Z)(r,[{key:"render",value:function e(){return this.props.children}}]);return r}(f.Component);const b=_;function E(e){var t=f.useRef();t.current=e;var r=f.useCallback((function(){var e;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return(e=t.current)===null||e===void 0?void 0:e.call.apply(e,[t].concat(n))}),[]);return r}var S=r(8410);var w=r(30470);function T(e){return e!==undefined}function C(e,t){var r=t||{},n=r.defaultValue,i=r.value,o=r.onChange,a=r.postState;var s=useState((function(){if(T(i)){return i}else if(T(n)){return typeof n==="function"?n():n}else{return typeof e==="function"?e():e}})),u=_slicedToArray(s,2),c=u[0],l=u[1];var f=i!==undefined?i:c;var d=a?a(f):f;var h=useEvent(o);var p=useState([f]),v=_slicedToArray(p,2),g=v[0],m=v[1];useLayoutUpdateEffect((function(){var e=g[0];if(c!==e){h(c,e)}}),[g]);useLayoutUpdateEffect((function(){if(!T(i)){l(i)}}),[i]);var y=useEvent((function(e,t){l(e,t);m([f],t)}));return[d,y]}function A(e,t,r,n){if(!t.length){return r}var i=_toArray(t),o=i[0],a=i.slice(1);var s;if(!e&&typeof o==="number"){s=[]}else if(Array.isArray(e)){s=_toConsumableArray(e)}else{s=_objectSpread({},e)}if(n&&r===undefined&&a.length===1){delete s[o][a[0]]}else{s[o]=A(s[o],a,r,n)}return s}function R(e,t,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(t.length&&n&&r===undefined&&!get(e,t.slice(0,-1))){return e}return A(e,t,r,n)}function I(e){return _typeof(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function k(e){return Array.isArray(e)?[]:{}}var O=typeof Reflect==="undefined"?Object.keys:Reflect.ownKeys;function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=k(t[0]);t.forEach((function(e){function t(r,i){var o=new Set(i);var a=get(e,r);var s=Array.isArray(a);if(s||I(a)){if(!o.has(a)){o.add(a);var u=get(n,r);if(s){n=R(n,r,[])}else if(!u||_typeof(u)!=="object"){n=R(n,r,k(a))}O(a).forEach((function(e){t([].concat(_toConsumableArray(r),[e]),o)}))}}else{n=R(n,r,a)}}t([])}));return n}var M=r(80334);function x(e){var t=f.useReducer((function(e){return e+1}),0),r=(0,o.Z)(t,2),n=r[1];var i=f.useRef(e);var a=E((function(){return i.current}));var s=E((function(e){i.current=typeof e==="function"?e(i.current):e;n()}));return[a,s]}var L="none";var D="appear";var N="enter";var j="leave";var U="none";var B="prepare";var F="start";var H="active";var V="end";var W="prepared";var z=r(98924);function G(e,t){var r={};r[e.toLowerCase()]=t.toLowerCase();r["Webkit".concat(e)]="webkit".concat(t);r["Moz".concat(e)]="moz".concat(t);r["ms".concat(e)]="MS".concat(t);r["O".concat(e)]="o".concat(t.toLowerCase());return r}function Y(e,t){var r={animationend:G("Animation","AnimationEnd"),transitionend:G("Transition","TransitionEnd")};if(e){if(!("AnimationEvent"in t)){delete r.animationend.animation}if(!("TransitionEvent"in t)){delete r.transitionend.transition}}return r}var K=Y((0,z.Z)(),typeof window!=="undefined"?window:{});var q={};if((0,z.Z)()){var $=document.createElement("div");q=$.style}var J={};function Z(e){if(J[e]){return J[e]}var t=K[e];if(t){var r=Object.keys(t);var n=r.length;for(var i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in q){J[e]=t[o];return J[e]}}}return""}var X=Z("animationend");var Q=Z("transitionend");var ee=!!(X&&Q);var te=X||"animationend";var re=Q||"transitionend";function ne(e,t){if(!e)return null;if((0,a.Z)(e)==="object"){var r=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[r]}return"".concat(e,"-").concat(t)}const ie=function(e){var t=(0,f.useRef)();function r(t){if(t){t.removeEventListener(re,e);t.removeEventListener(te,e)}}function n(n){if(t.current&&t.current!==n){r(t.current)}if(n&&n!==t.current){n.addEventListener(re,e);n.addEventListener(te,e);t.current=n}}f.useEffect((function(){return function(){r(t.current)}}),[]);return[n,r]};var oe=(0,z.Z)()?f.useLayoutEffect:f.useEffect;const ae=oe;var se=r(75164);const ue=function(){var e=f.useRef(null);function t(){se.Z.cancel(e.current)}function r(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;t();var o=(0,se.Z)((function(){if(i<=1){n({isCanceled:function t(){return o!==e.current}})}else{r(n,i-1)}}));e.current=o}f.useEffect((function(){return function(){t()}}),[]);return[r,t]};var ce=[B,F,H,V];var le=[B,W];var fe=false;var de=true;function he(e){return e===H||e===V}const pe=function(e,t,r){var n=(0,w.Z)(U),i=(0,o.Z)(n,2),a=i[0],s=i[1];var u=ue(),c=(0,o.Z)(u,2),l=c[0],d=c[1];function h(){s(B,true)}var p=t?le:ce;ae((function(){if(a!==U&&a!==V){var e=p.indexOf(a);var t=p[e+1];var n=r(a);if(n===fe){s(t,true)}else if(t){l((function(e){function r(){if(e.isCanceled())return;s(t,true)}if(n===true){r()}else{Promise.resolve(n).then(r)}}))}}}),[e,a]);f.useEffect((function(){return function(){d()}}),[]);return[h,a]};function ve(e,t,r,a){var s=a.motionEnter,u=s===void 0?true:s,c=a.motionAppear,l=c===void 0?true:c,d=a.motionLeave,h=d===void 0?true:d,p=a.motionDeadline,v=a.motionLeaveImmediately,g=a.onAppearPrepare,m=a.onEnterPrepare,y=a.onLeavePrepare,_=a.onAppearStart,b=a.onEnterStart,S=a.onLeaveStart,T=a.onAppearActive,C=a.onEnterActive,A=a.onLeaveActive,R=a.onAppearEnd,I=a.onEnterEnd,k=a.onLeaveEnd,O=a.onVisibleChanged;var P=(0,w.Z)(),M=(0,o.Z)(P,2),U=M[0],V=M[1];var z=x(L),G=(0,o.Z)(z,2),Y=G[0],K=G[1];var q=(0,w.Z)(null),$=(0,o.Z)(q,2),J=$[0],Z=$[1];var X=Y();var Q=(0,f.useRef)(false);var ee=(0,f.useRef)(null);function te(){return r()}var re=(0,f.useRef)(false);function ne(){K(L);Z(null,true)}var oe=E((function(e){var t=Y();if(t===L){return}var r=te();if(e&&!e.deadline&&e.target!==r){return}var n=re.current;var i;if(t===D&&n){i=R===null||R===void 0?void 0:R(r,e)}else if(t===N&&n){i=I===null||I===void 0?void 0:I(r,e)}else if(t===j&&n){i=k===null||k===void 0?void 0:k(r,e)}if(n&&i!==false){ne()}}));var se=ie(oe),ue=(0,o.Z)(se,1),ce=ue[0];var le=function e(t){switch(t){case D:return(0,n.Z)((0,n.Z)((0,n.Z)({},B,g),F,_),H,T);case N:return(0,n.Z)((0,n.Z)((0,n.Z)({},B,m),F,b),H,C);case j:return(0,n.Z)((0,n.Z)((0,n.Z)({},B,y),F,S),H,A);default:return{}}};var ve=f.useMemo((function(){return le(X)}),[X]);var ge=pe(X,!e,(function(e){if(e===B){var t=ve[B];if(!t){return fe}return t(te())}if(_e in ve){var r;Z(((r=ve[_e])===null||r===void 0?void 0:r.call(ve,te(),null))||null)}if(_e===H&&X!==L){ce(te());if(p>0){clearTimeout(ee.current);ee.current=setTimeout((function(){oe({deadline:true})}),p)}}if(_e===W){ne()}return de})),me=(0,o.Z)(ge,2),ye=me[0],_e=me[1];var be=he(_e);re.current=be;var Ee=(0,f.useRef)(null);ae((function(){if(Q.current&&Ee.current===t){return}V(t);var r=Q.current;Q.current=true;var n;if(!r&&t&&l){n=D}if(r&&t&&u){n=N}if(r&&!t&&h||!r&&v&&!t&&h){n=j}var i=le(n);if(n&&(e||i[B])){K(n);ye()}else{K(L)}Ee.current=t}),[t]);(0,f.useEffect)((function(){if(X===D&&!l||X===N&&!u||X===j&&!h){K(L)}}),[l,u,h]);(0,f.useEffect)((function(){return function(){Q.current=false;clearTimeout(ee.current)}}),[]);var Se=f.useRef(false);(0,f.useEffect)((function(){if(U){Se.current=true}if(U!==undefined&&X===L){if(Se.current||U){O===null||O===void 0||O(U)}Se.current=true}}),[U,X]);var we=J;if(ve[B]&&_e===F){we=(0,i.Z)({transition:"none"},we)}return[X,_e,we,U!==null&&U!==void 0?U:t]}function ge(e){var t=e;if((0,a.Z)(e)==="object"){t=e.transitionSupport}function r(e,r){return!!(e.motionName&&t&&r!==false)}var s=f.forwardRef((function(e,t){var a=e.visible,s=a===void 0?true:a,d=e.removeOnLeave,p=d===void 0?true:d,v=e.forceRender,g=e.children,m=e.motionName,y=e.leavedClassName,_=e.eventProps;var E=f.useContext(h),S=E.motion;var w=r(e,S);var T=(0,f.useRef)();var C=(0,f.useRef)();function A(){try{return T.current instanceof HTMLElement?T.current:(0,c.ZP)(C.current)}catch(e){return null}}var R=ve(w,s,A,e),I=(0,o.Z)(R,4),k=I[0],O=I[1],P=I[2],M=I[3];var x=f.useRef(M);if(M){x.current=true}var D=f.useCallback((function(e){T.current=e;(0,l.mH)(t,e)}),[t]);var N;var j=(0,i.Z)((0,i.Z)({},_),{},{visible:s});if(!g){N=null}else if(k===L){if(M){N=g((0,i.Z)({},j),D)}else if(!p&&x.current&&y){N=g((0,i.Z)((0,i.Z)({},j),{},{className:y}),D)}else if(v||!p&&!y){N=g((0,i.Z)((0,i.Z)({},j),{},{style:{display:"none"}}),D)}else{N=null}}else{var U;if(O===B){U="prepare"}else if(he(O)){U="active"}else if(O===F){U="start"}var H=ne(m,"".concat(k,"-").concat(U));N=g((0,i.Z)((0,i.Z)({},j),{},{className:u()(ne(m,k),(0,n.Z)((0,n.Z)({},H,H&&U),m,typeof m==="string")),style:P}),D)}if(f.isValidElement(N)&&(0,l.Yr)(N)){var V=(0,l.C4)(N);if(!V){N=f.cloneElement(N,{ref:D})}}return f.createElement(b,{ref:C},N)}));s.displayName="CSSMotion";return s}const me=ge(ee);var ye=r(87462);var _e=r(45987);var be=r(97326);var Ee="add";var Se="keep";var we="remove";var Te="removed";function Ce(e){var t;if(e&&(0,a.Z)(e)==="object"&&"key"in e){t=e}else{t={key:e}}return(0,i.Z)((0,i.Z)({},t),{},{key:String(t.key)})}function Ae(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return e.map(Ce)}function Re(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var r=[];var n=0;var o=t.length;var a=Ae(e);var s=Ae(t);a.forEach((function(e){var t=false;for(var a=n;a<o;a+=1){var u=s[a];if(u.key===e.key){if(n<a){r=r.concat(s.slice(n,a).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{status:Ee})})));n=a}r.push((0,i.Z)((0,i.Z)({},u),{},{status:Se}));n+=1;t=true;break}}if(!t){r.push((0,i.Z)((0,i.Z)({},e),{},{status:we}))}}));if(n<o){r=r.concat(s.slice(n).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{status:Ee})})))}var u={};r.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var c=Object.keys(u).filter((function(e){return u[e]>1}));c.forEach((function(e){r=r.filter((function(t){var r=t.key,n=t.status;return r!==e||n!==we}));r.forEach((function(t){if(t.key===e){t.status=Se}}))}));return r}var Ie=["component","children","onVisibleChanged","onAllRemoved"],ke=["status"];var Oe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Pe(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:me;var r=function(e){(0,m.Z)(o,e);var r=(0,y.Z)(o);function o(){var e;(0,v.Z)(this,o);for(var t=arguments.length,a=new Array(t),s=0;s<t;s++){a[s]=arguments[s]}e=r.call.apply(r,[this].concat(a));(0,n.Z)((0,be.Z)(e),"state",{keyEntities:[]});(0,n.Z)((0,be.Z)(e),"removeKey",(function(t){e.setState((function(e){var r=e.keyEntities.map((function(e){if(e.key!==t)return e;return(0,i.Z)((0,i.Z)({},e),{},{status:Te})}));return{keyEntities:r}}),(function(){var t=e.state.keyEntities;var r=t.filter((function(e){var t=e.status;return t!==Te})).length;if(r===0&&e.props.onAllRemoved){e.props.onAllRemoved()}}))}));return e}(0,g.Z)(o,[{key:"render",value:function e(){var r=this;var n=this.state.keyEntities;var o=this.props,a=o.component,s=o.children,u=o.onVisibleChanged,c=o.onAllRemoved,l=(0,_e.Z)(o,Ie);var d=a||f.Fragment;var h={};Oe.forEach((function(e){h[e]=l[e];delete l[e]}));delete l.keys;return f.createElement(d,l,n.map((function(e,n){var o=e.status,a=(0,_e.Z)(e,ke);var c=o===Ee||o===Se;return f.createElement(t,(0,ye.Z)({},h,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function e(t){u===null||u===void 0||u(t,{key:a.key});if(!t){r.removeKey(a.key)}}}),(function(e,t){return s((0,i.Z)((0,i.Z)({},e),{},{index:n}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function e(t,r){var n=t.keys;var i=r.keyEntities;var o=Ae(n);var a=Re(i,o);return{keyEntities:a.filter((function(e){var t=i.find((function(t){var r=t.key;return e.key===r}));if(t&&t.status===Te&&e.status===we){return false}return true}))}}}]);return o}(f.Component);(0,n.Z)(r,"defaultProps",{component:"div"});return r}const Me=Pe(ee);const xe=me},94026:(e,t,r)=>{r.r(t);r.d(t,{default:()=>pr,generateTrigger:()=>hr});var n=r(1413);var i=r(87462);var o=r(15671);var a=r(43144);var s=r(97326);var u=r(79340);var c=r(98557);var l=r(4942);var f=r(67294);var d=r(73935);var h=r(75164);var p=r(94999);var v=r(34203);var g=r(25491);function m(e,t,r,n){var i=d.unstable_batchedUpdates?function e(t){d.unstable_batchedUpdates(r,t)}:r;if(e!==null&&e!==void 0&&e.addEventListener){e.addEventListener(t,i,n)}return{remove:function r(){if(e!==null&&e!==void 0&&e.removeEventListener){e.removeEventListener(t,i,n)}}}}var y=r(98924);var _=(0,f.forwardRef)((function(e,t){var r=e.didUpdate,n=e.getContainer,i=e.children;var o=(0,f.useRef)();var a=(0,f.useRef)();(0,f.useImperativeHandle)(t,(function(){return{}}));var s=(0,f.useRef)(false);if(!s.current&&(0,y.Z)()){a.current=n();o.current=a.current.parentNode;s.current=true}(0,f.useEffect)((function(){r===null||r===void 0||r(e)}));(0,f.useEffect)((function(){if(a.current.parentNode===null&&o.current!==null){o.current.appendChild(a.current)}return function(){var e;(e=a.current)===null||e===void 0||(e=e.parentNode)===null||e===void 0||e.removeChild(a.current)}}),[]);return a.current?d.createPortal(i,a.current):null}));const b=_;var E=r(93967);var S=r.n(E);function w(e,t,r){if(r){return e[0]===t[0]}return e[0]===t[0]&&e[1]===t[1]}function T(e,t,r){var i=e[t]||{};return(0,n.Z)((0,n.Z)({},i),r)}function C(e,t,r,n){var i=r.points;var o=Object.keys(e);for(var a=0;a<o.length;a+=1){var s=o[a];if(w(e[s].points,i,n)){return"".concat(t,"-placement-").concat(s)}}return""}var A=r(70885);var R=r(45987);const I=function(){if(typeof navigator==="undefined"||typeof window==="undefined"){return false}var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e===null||e===void 0?void 0:e.substr(0,4))};var k=r(10747);function O(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;if(r){return r}if(n){return{motionName:"".concat(t,"-").concat(n)}}if(i){return{motionName:i}}return null}function P(e){var t=e.prefixCls,r=e.visible,o=e.zIndex,a=e.mask,s=e.maskMotion,u=e.maskAnimation,c=e.maskTransitionName;if(!a){return null}var l={};if(s||c||u){l=(0,n.Z)({motionAppear:true},O({motion:s,prefixCls:t,transitionName:c,animation:u}))}return f.createElement(k.ZP,(0,i.Z)({},l,{visible:r,removeOnLeave:true}),(function(e){var r=e.className;return f.createElement("div",{style:{zIndex:o},className:S()("".concat(t,"-mask"),r)})}))}var M=r(71002);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e){"@babel/helpers - typeof";return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function N(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var j;var U={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function B(){if(j!==undefined){return j}j="";var e=document.createElement("p").style;var t="Transform";for(var r in U){if(r+t in e){j=r}}return j}function F(){return B()?"".concat(B(),"TransitionProperty"):"transitionProperty"}function H(){return B()?"".concat(B(),"Transform"):"transform"}function V(e,t){var r=F();if(r){e.style[r]=t;if(r!=="transitionProperty"){e.style.transitionProperty=t}}}function W(e,t){var r=H();if(r){e.style[r]=t;if(r!=="transform"){e.style.transform=t}}}function z(e){return e.style.transitionProperty||e.style[F()]}function G(e){var t=window.getComputedStyle(e,null);var r=t.getPropertyValue("transform")||t.getPropertyValue(H());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var Y=/matrix\((.*)\)/;var K=/matrix3d\((.*)\)/;function q(e,t){var r=window.getComputedStyle(e,null);var n=r.getPropertyValue("transform")||r.getPropertyValue(H());if(n&&n!=="none"){var i;var o=n.match(Y);if(o){o=o[1];i=o.split(",").map((function(e){return parseFloat(e,10)}));i[4]=t.x;i[5]=t.y;W(e,"matrix(".concat(i.join(","),")"))}else{var a=n.match(K)[1];i=a.split(",").map((function(e){return parseFloat(e,10)}));i[12]=t.x;i[13]=t.y;W(e,"matrix3d(".concat(i.join(","),")"))}}else{W(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}}var $=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;var J;function Z(e){var t=e.style.display;e.style.display="none";e.offsetHeight;e.style.display=t}function X(e,t,r){var n=r;if(D(t)==="object"){for(var i in t){if(t.hasOwnProperty(i)){X(e,i,t[i])}}return undefined}if(typeof n!=="undefined"){if(typeof n==="number"){n="".concat(n,"px")}e.style[t]=n;return undefined}return J(e,t)}function Q(e){var t;var r;var n;var i=e.ownerDocument;var o=i.body;var a=i&&i.documentElement;t=e.getBoundingClientRect();r=Math.floor(t.left);n=Math.floor(t.top);r-=a.clientLeft||o.clientLeft||0;n-=a.clientTop||o.clientTop||0;return{left:r,top:n}}function ee(e,t){var r=e["page".concat(t?"Y":"X","Offset")];var n="scroll".concat(t?"Top":"Left");if(typeof r!=="number"){var i=e.document;r=i.documentElement[n];if(typeof r!=="number"){r=i.body[n]}}return r}function te(e){return ee(e)}function re(e){return ee(e,true)}function ne(e){var t=Q(e);var r=e.ownerDocument;var n=r.defaultView||r.parentWindow;t.left+=te(n);t.top+=re(n);return t}function ie(e){return e!==null&&e!==undefined&&e==e.window}function oe(e){if(ie(e)){return e.document}if(e.nodeType===9){return e}return e.ownerDocument}function ae(e,t,r){var n=r;var i="";var o=oe(e);n=n||o.defaultView.getComputedStyle(e,null);if(n){i=n.getPropertyValue(t)||n[t]}return i}var se=new RegExp("^(".concat($,")(?!px)[a-z%]+$"),"i");var ue=/^(top|right|bottom|left)$/;var ce="currentStyle";var le="runtimeStyle";var fe="left";var de="px";function he(e,t){var r=e[ce]&&e[ce][t];if(se.test(r)&&!ue.test(t)){var n=e.style;var i=n[fe];var o=e[le][fe];e[le][fe]=e[ce][fe];n[fe]=t==="fontSize"?"1em":r||0;r=n.pixelLeft+de;n[fe]=i;e[le][fe]=o}return r===""?"auto":r}if(typeof window!=="undefined"){J=window.getComputedStyle?ae:he}function pe(e,t){if(e==="left"){return t.useCssRight?"right":e}return t.useCssBottom?"bottom":e}function ve(e){if(e==="left"){return"right"}else if(e==="right"){return"left"}else if(e==="top"){return"bottom"}else if(e==="bottom"){return"top"}}function ge(e,t,r){if(X(e,"position")==="static"){e.style.position="relative"}var n=-999;var i=-999;var o=pe("left",r);var a=pe("top",r);var s=ve(o);var u=ve(a);if(o!=="left"){n=999}if(a!=="top"){i=999}var c="";var l=ne(e);if("left"in t||"top"in t){c=z(e)||"";V(e,"none")}if("left"in t){e.style[s]="";e.style[o]="".concat(n,"px")}if("top"in t){e.style[u]="";e.style[a]="".concat(i,"px")}Z(e);var f=ne(e);var d={};for(var h in t){if(t.hasOwnProperty(h)){var p=pe(h,r);var v=h==="left"?n:i;var g=l[h]-f[h];if(p===h){d[p]=v+g}else{d[p]=v-g}}}X(e,d);Z(e);if("left"in t||"top"in t){V(e,c)}var m={};for(var y in t){if(t.hasOwnProperty(y)){var _=pe(y,r);var b=t[y]-l[y];if(y===_){m[_]=d[_]+b}else{m[_]=d[_]-b}}}X(e,m)}function me(e,t){var r=ne(e);var n=G(e);var i={x:n.x,y:n.y};if("left"in t){i.x=n.x+t.left-r.left}if("top"in t){i.y=n.y+t.top-r.top}q(e,i)}function ye(e,t,r){if(r.ignoreShake){var n=ne(e);var i=n.left.toFixed(0);var o=n.top.toFixed(0);var a=t.left.toFixed(0);var s=t.top.toFixed(0);if(i===a&&o===s){return}}if(r.useCssRight||r.useCssBottom){ge(e,t,r)}else if(r.useCssTransform&&H()in document.body.style){me(e,t)}else{ge(e,t,r)}}function _e(e,t){for(var r=0;r<e.length;r++){t(e[r])}}function be(e){return J(e,"boxSizing")==="border-box"}var Ee=["margin","border","padding"];var Se=-1;var we=2;var Te=1;var Ce=0;function Ae(e,t,r){var n={};var i=e.style;var o;for(o in t){if(t.hasOwnProperty(o)){n[o]=i[o];i[o]=t[o]}}r.call(e);for(o in t){if(t.hasOwnProperty(o)){i[o]=n[o]}}}function Re(e,t,r){var n=0;var i;var o;var a;for(o=0;o<t.length;o++){i=t[o];if(i){for(a=0;a<r.length;a++){var s=void 0;if(i==="border"){s="".concat(i).concat(r[a],"Width")}else{s=i+r[a]}n+=parseFloat(J(e,s))||0}}}return n}var Ie={getParent:function e(t){var r=t;do{if(r.nodeType===11&&r.host){r=r.host}else{r=r.parentNode}}while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};_e(["Width","Height"],(function(e){Ie["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],Ie["viewport".concat(e)](r))};Ie["viewport".concat(e)]=function(t){var r="client".concat(e);var n=t.document;var i=n.body;var o=n.documentElement;var a=o[r];return n.compatMode==="CSS1Compat"&&a||i&&i[r]||a}}));function ke(e,t,r){var n=r;if(ie(e)){return t==="width"?Ie.viewportWidth(e):Ie.viewportHeight(e)}else if(e.nodeType===9){return t==="width"?Ie.docWidth(e):Ie.docHeight(e)}var i=t==="width"?["Left","Right"]:["Top","Bottom"];var o=t==="width"?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height);var a=be(e);var s=0;if(o===null||o===undefined||o<=0){o=undefined;s=J(e,t);if(s===null||s===undefined||Number(s)<0){s=e.style[t]||0}s=Math.floor(parseFloat(s))||0}if(n===undefined){n=a?Te:Se}var u=o!==undefined||a;var c=o||s;if(n===Se){if(u){return c-Re(e,["border","padding"],i)}return s}else if(u){if(n===Te){return c}return c+(n===we?-Re(e,["border"],i):Re(e,["margin"],i))}return s+Re(e,Ee.slice(n),i)}var Oe={position:"absolute",visibility:"hidden",display:"block"};function Pe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n;var i=t[0];if(i.offsetWidth!==0){n=ke.apply(undefined,t)}else{Ae(i,Oe,(function(){n=ke.apply(undefined,t)}))}return n}_e(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Ie["outer".concat(t)]=function(t,r){return t&&Pe(t,e,r?Ce:Te)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];Ie[e]=function(t,n){var i=n;if(i!==undefined){if(t){var o=be(t);if(o){i+=Re(t,["padding","border"],r)}return X(t,e,i)}return undefined}return t&&Pe(t,e,Se)}}));function Me(e,t){for(var r in t){if(t.hasOwnProperty(r)){e[r]=t[r]}}return e}var xe={getWindow:function e(t){if(t&&t.document&&t.setTimeout){return t}var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:oe,offset:function e(t,r,n){if(typeof r!=="undefined"){ye(t,r,n||{})}else{return ne(t)}},isWindow:ie,each:_e,css:X,clone:function e(t){var r;var n={};for(r in t){if(t.hasOwnProperty(r)){n[r]=t[r]}}var i=t.overflow;if(i){for(r in t){if(t.hasOwnProperty(r)){n.overflow[r]=t.overflow[r]}}}return n},mix:Me,getWindowScrollLeft:function e(t){return te(t)},getWindowScrollTop:function e(t){return re(t)},merge:function e(){var t={};for(var r=0;r<arguments.length;r++){xe.mix(t,r<0||arguments.length<=r?undefined:arguments[r])}return t},viewportWidth:0,viewportHeight:0};Me(xe,Ie);var Le=xe.getParent;function De(e){if(xe.isWindow(e)||e.nodeType===9){return null}var t=xe.getDocument(e);var r=t.body;var n;var i=xe.css(e,"position");var o=i==="fixed"||i==="absolute";if(!o){return e.nodeName.toLowerCase()==="html"?null:Le(e)}for(n=Le(e);n&&n!==r&&n.nodeType!==9;n=Le(n)){i=xe.css(n,"position");if(i!=="static"){return n}}return null}var Ne=xe.getParent;function je(e){if(xe.isWindow(e)||e.nodeType===9){return false}var t=xe.getDocument(e);var r=t.body;var n=null;for(n=Ne(e);n&&n!==r&&n!==t;n=Ne(n)){var i=xe.css(n,"position");if(i==="fixed"){return true}}return false}function Ue(e,t){var r={left:0,right:Infinity,top:0,bottom:Infinity};var n=De(e);var i=xe.getDocument(e);var o=i.defaultView||i.parentWindow;var a=i.body;var s=i.documentElement;while(n){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==a&&n!==s&&xe.css(n,"overflow")!=="visible"){var u=xe.offset(n);u.left+=n.clientLeft;u.top+=n.clientTop;r.top=Math.max(r.top,u.top);r.right=Math.min(r.right,u.left+n.clientWidth);r.bottom=Math.min(r.bottom,u.top+n.clientHeight);r.left=Math.max(r.left,u.left)}else if(n===a||n===s){break}n=De(n)}var c=null;if(!xe.isWindow(e)&&e.nodeType!==9){c=e.style.position;var l=xe.css(e,"position");if(l==="absolute"){e.style.position="fixed"}}var f=xe.getWindowScrollLeft(o);var d=xe.getWindowScrollTop(o);var h=xe.viewportWidth(o);var p=xe.viewportHeight(o);var v=s.scrollWidth;var g=s.scrollHeight;var m=window.getComputedStyle(a);if(m.overflowX==="hidden"){v=o.innerWidth}if(m.overflowY==="hidden"){g=o.innerHeight}if(e.style){e.style.position=c}if(t||je(e)){r.left=Math.max(r.left,f);r.top=Math.max(r.top,d);r.right=Math.min(r.right,f+h);r.bottom=Math.min(r.bottom,d+p)}else{var y=Math.max(v,f+h);r.right=Math.min(r.right,y);var _=Math.max(g,d+p);r.bottom=Math.min(r.bottom,_)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function Be(e,t,r,n){var i=xe.clone(e);var o={width:t.width,height:t.height};if(n.adjustX&&i.left<r.left){i.left=r.left}if(n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right){o.width-=i.left+o.width-r.right}if(n.adjustX&&i.left+o.width>r.right){i.left=Math.max(r.right-o.width,r.left)}if(n.adjustY&&i.top<r.top){i.top=r.top}if(n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom){o.height-=i.top+o.height-r.bottom}if(n.adjustY&&i.top+o.height>r.bottom){i.top=Math.max(r.bottom-o.height,r.top)}return xe.mix(i,o)}function Fe(e){var t;var r;var n;if(!xe.isWindow(e)&&e.nodeType!==9){t=xe.offset(e);r=xe.outerWidth(e);n=xe.outerHeight(e)}else{var i=xe.getWindow(e);t={left:xe.getWindowScrollLeft(i),top:xe.getWindowScrollTop(i)};r=xe.viewportWidth(i);n=xe.viewportHeight(i)}t.width=r;t.height=n;return t}function He(e,t){var r=t.charAt(0);var n=t.charAt(1);var i=e.width;var o=e.height;var a=e.left;var s=e.top;if(r==="c"){s+=o/2}else if(r==="b"){s+=o}if(n==="c"){a+=i/2}else if(n==="r"){a+=i}return{left:a,top:s}}function Ve(e,t,r,n,i){var o=He(t,r[1]);var a=He(e,r[0]);var s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+n[0]-i[0]),top:Math.round(e.top-s[1]+n[1]-i[1])}}function We(e,t,r){return e.left<r.left||e.left+t.width>r.right}function ze(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function Ge(e,t,r){return e.left>r.right||e.left+t.width<r.left}function Ye(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function Ke(e,t,r){var n=[];xe.each(e,(function(e){n.push(e.replace(t,(function(e){return r[e]})))}));return n}function qe(e,t){e[t]=-e[t];return e}function $e(e,t){var r;if(/%$/.test(e)){r=parseInt(e.substring(0,e.length-1),10)/100*t}else{r=parseInt(e,10)}return r||0}function Je(e,t){e[0]=$e(e[0],t.width);e[1]=$e(e[1],t.height)}function Ze(e,t,r,n){var i=r.points;var o=r.offset||[0,0];var a=r.targetOffset||[0,0];var s=r.overflow;var u=r.source||e;o=[].concat(o);a=[].concat(a);s=s||{};var c={};var l=0;var f=!!(s&&s.alwaysByViewport);var d=Ue(u,f);var h=Fe(u);Je(o,h);Je(a,t);var p=Ve(h,t,i,o,a);var v=xe.merge(h,p);if(d&&(s.adjustX||s.adjustY)&&n){if(s.adjustX){if(We(p,h,d)){var g=Ke(i,/[lr]/gi,{l:"r",r:"l"});var m=qe(o,0);var y=qe(a,0);var _=Ve(h,t,g,m,y);if(!Ge(_,h,d)){l=1;i=g;o=m;a=y}}}if(s.adjustY){if(ze(p,h,d)){var b=Ke(i,/[tb]/gi,{t:"b",b:"t"});var E=qe(o,1);var S=qe(a,1);var w=Ve(h,t,b,E,S);if(!Ye(w,h,d)){l=1;i=b;o=E;a=S}}}if(l){p=Ve(h,t,i,o,a);xe.mix(v,p)}var T=We(p,h,d);var C=ze(p,h,d);if(T||C){var A=i;if(T){A=Ke(i,/[lr]/gi,{l:"r",r:"l"})}if(C){A=Ke(i,/[tb]/gi,{t:"b",b:"t"})}i=A;o=r.offset||[0,0];a=r.targetOffset||[0,0]}c.adjustX=s.adjustX&&T;c.adjustY=s.adjustY&&C;if(c.adjustX||c.adjustY){v=Be(p,h,d,c)}}if(v.width!==h.width){xe.css(u,"width",xe.width(u)+v.width-h.width)}if(v.height!==h.height){xe.css(u,"height",xe.height(u)+v.height-h.height)}xe.offset(u,{left:v.left,top:v.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake});return{points:i,offset:o,targetOffset:a,overflow:c}}function Xe(e,t){var r=Ue(e,t);var n=Fe(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function Qe(e,t,r){var n=r.target||t;var i=Fe(n);var o=!Xe(n,r.overflow&&r.overflow.alwaysByViewport);return Ze(e,i,r,o)}Qe.__getOffsetParent=De;Qe.__getVisibleRectForElement=Ue;function et(e,t,r){var n;var i;var o=xe.getDocument(e);var a=o.defaultView||o.parentWindow;var s=xe.getWindowScrollLeft(a);var u=xe.getWindowScrollTop(a);var c=xe.viewportWidth(a);var l=xe.viewportHeight(a);if("pageX"in t){n=t.pageX}else{n=s+t.clientX}if("pageY"in t){i=t.pageY}else{i=u+t.clientY}var f={left:n,top:i,width:0,height:0};var d=n>=0&&n<=s+c&&i>=0&&i<=u+l;var h=[r.points[0],"cc"];return Ze(e,f,L(L({},r),{},{points:h}),d)}const tt=null&&Qe;var rt=r(80334);function nt(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=new Set;function i(e,t){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var a=n.has(e);(0,rt.ZP)(!a,"Warning: There may be circular references");if(a){return false}if(e===t){return true}if(r&&o>1){return false}n.add(e);var s=o+1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length){return false}for(var u=0;u<e.length;u++){if(!i(e[u],t[u],s)){return false}}return true}if(e&&t&&(0,M.Z)(e)==="object"&&(0,M.Z)(t)==="object"){var c=Object.keys(e);if(c.length!==Object.keys(t).length){return false}return c.every((function(r){return i(e[r],t[r],s)}))}return false}return i(e,t)}const it=nt;const ot=function(e){if(!e){return false}if(e instanceof Element){if(e.offsetParent){return true}if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n){return true}}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,a=i.height;if(o||a){return true}}}return false};var at=r(8410);const st=function(e,t){var r=f.useRef(false);var n=f.useRef(null);function i(){window.clearTimeout(n.current)}function o(a){i();if(!r.current||a===true){if(e(a)===false){return}r.current=true;n.current=window.setTimeout((function(){r.current=false}),t)}else{n.current=window.setTimeout((function(){r.current=false;o()}),t)}}return[o,function(){r.current=false;i()}]};var ut=function(){if(typeof Map!=="undefined"){return Map}function e(e,t){var r=-1;e.some((function(e,n){if(e[0]===t){r=n;return true}return false}));return r}return function(){function t(){this.__entries__=[]}Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:true,configurable:true});t.prototype.get=function(t){var r=e(this.__entries__,t);var n=this.__entries__[r];return n&&n[1]};t.prototype.set=function(t,r){var n=e(this.__entries__,t);if(~n){this.__entries__[n][1]=r}else{this.__entries__.push([t,r])}};t.prototype.delete=function(t){var r=this.__entries__;var n=e(r,t);if(~n){r.splice(n,1)}};t.prototype.has=function(t){return!!~e(this.__entries__,t)};t.prototype.clear=function(){this.__entries__.splice(0)};t.prototype.forEach=function(e,t){if(t===void 0){t=null}for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}};return t}()}();var ct=typeof window!=="undefined"&&typeof document!=="undefined"&&window.document===document;var lt=function(){if(typeof r.g!=="undefined"&&r.g.Math===Math){return r.g}if(typeof self!=="undefined"&&self.Math===Math){return self}if(typeof window!=="undefined"&&window.Math===Math){return window}return Function("return this")()}();var ft=function(){if(typeof requestAnimationFrame==="function"){return requestAnimationFrame.bind(lt)}return function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}();var dt=2;function ht(e,t){var r=false,n=false,i=0;function o(){if(r){r=false;e()}if(n){s()}}function a(){ft(o)}function s(){var e=Date.now();if(r){if(e-i<dt){return}n=true}else{r=true;n=false;setTimeout(a,t)}i=e}return s}var pt=20;var vt=["top","right","bottom","left","width","height","size","weight"];var gt=typeof MutationObserver!=="undefined";var mt=function(){function e(){this.connected_=false;this.mutationEventsAdded_=false;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=ht(this.refresh.bind(this),pt)}e.prototype.addObserver=function(e){if(!~this.observers_.indexOf(e)){this.observers_.push(e)}if(!this.connected_){this.connect_()}};e.prototype.removeObserver=function(e){var t=this.observers_;var r=t.indexOf(e);if(~r){t.splice(r,1)}if(!t.length&&this.connected_){this.disconnect_()}};e.prototype.refresh=function(){var e=this.updateObservers_();if(e){this.refresh()}};e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));e.forEach((function(e){return e.broadcastActive()}));return e.length>0};e.prototype.connect_=function(){if(!ct||this.connected_){return}document.addEventListener("transitionend",this.onTransitionEnd_);window.addEventListener("resize",this.refresh);if(gt){this.mutationsObserver_=new MutationObserver(this.refresh);this.mutationsObserver_.observe(document,{attributes:true,childList:true,characterData:true,subtree:true})}else{document.addEventListener("DOMSubtreeModified",this.refresh);this.mutationEventsAdded_=true}this.connected_=true};e.prototype.disconnect_=function(){if(!ct||!this.connected_){return}document.removeEventListener("transitionend",this.onTransitionEnd_);window.removeEventListener("resize",this.refresh);if(this.mutationsObserver_){this.mutationsObserver_.disconnect()}if(this.mutationEventsAdded_){document.removeEventListener("DOMSubtreeModified",this.refresh)}this.mutationsObserver_=null;this.mutationEventsAdded_=false;this.connected_=false};e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t;var n=vt.some((function(e){return!!~r.indexOf(e)}));if(n){this.refresh()}};e.getInstance=function(){if(!this.instance_){this.instance_=new e}return this.instance_};e.instance_=null;return e}();var yt=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:false,writable:false,configurable:true})}return e};var _t=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||lt};var bt=Ot(0,0,0,0);function Et(e){return parseFloat(e)||0}function St(e){var t=[];for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}return t.reduce((function(t,r){var n=e["border-"+r+"-width"];return t+Et(n)}),0)}function wt(e){var t=["top","right","bottom","left"];var r={};for(var n=0,i=t;n<i.length;n++){var o=i[n];var a=e["padding-"+o];r[o]=Et(a)}return r}function Tt(e){var t=e.getBBox();return Ot(0,0,t.width,t.height)}function Ct(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r){return bt}var n=_t(e).getComputedStyle(e);var i=wt(n);var o=i.left+i.right;var a=i.top+i.bottom;var s=Et(n.width),u=Et(n.height);if(n.boxSizing==="border-box"){if(Math.round(s+o)!==t){s-=St(n,"left","right")+o}if(Math.round(u+a)!==r){u-=St(n,"top","bottom")+a}}if(!Rt(e)){var c=Math.round(s+o)-t;var l=Math.round(u+a)-r;if(Math.abs(c)!==1){s-=c}if(Math.abs(l)!==1){u-=l}}return Ot(i.left,i.top,s,u)}var At=function(){if(typeof SVGGraphicsElement!=="undefined"){return function(e){return e instanceof _t(e).SVGGraphicsElement}}return function(e){return e instanceof _t(e).SVGElement&&typeof e.getBBox==="function"}}();function Rt(e){return e===_t(e).document.documentElement}function It(e){if(!ct){return bt}if(At(e)){return Tt(e)}return Ct(e)}function kt(e){var t=e.x,r=e.y,n=e.width,i=e.height;var o=typeof DOMRectReadOnly!=="undefined"?DOMRectReadOnly:Object;var a=Object.create(o.prototype);yt(a,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t});return a}function Ot(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Pt=function(){function e(e){this.broadcastWidth=0;this.broadcastHeight=0;this.contentRect_=Ot(0,0,0,0);this.target=e}e.prototype.isActive=function(){var e=It(this.target);this.contentRect_=e;return e.width!==this.broadcastWidth||e.height!==this.broadcastHeight};e.prototype.broadcastRect=function(){var e=this.contentRect_;this.broadcastWidth=e.width;this.broadcastHeight=e.height;return e};return e}();var Mt=function(){function e(e,t){var r=kt(t);yt(this,{target:e,contentRect:r})}return e}();var xt=function(){function e(e,t,r){this.activeObservations_=[];this.observations_=new ut;if(typeof e!=="function"){throw new TypeError("The callback provided as parameter 1 is not a function.")}this.callback_=e;this.controller_=t;this.callbackCtx_=r}e.prototype.observe=function(e){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}if(typeof Element==="undefined"||!(Element instanceof Object)){return}if(!(e instanceof _t(e).Element)){throw new TypeError('parameter 1 is not of type "Element".')}var t=this.observations_;if(t.has(e)){return}t.set(e,new Pt(e));this.controller_.addObserver(this);this.controller_.refresh()};e.prototype.unobserve=function(e){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}if(typeof Element==="undefined"||!(Element instanceof Object)){return}if(!(e instanceof _t(e).Element)){throw new TypeError('parameter 1 is not of type "Element".')}var t=this.observations_;if(!t.has(e)){return}t.delete(e);if(!t.size){this.controller_.removeObserver(this)}};e.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};e.prototype.gatherActive=function(){var e=this;this.clearActive();this.observations_.forEach((function(t){if(t.isActive()){e.activeObservations_.push(t)}}))};e.prototype.broadcastActive=function(){if(!this.hasActive()){return}var e=this.callbackCtx_;var t=this.activeObservations_.map((function(e){return new Mt(e.target,e.broadcastRect())}));this.callback_.call(e,t,e);this.clearActive()};e.prototype.clearActive=function(){this.activeObservations_.splice(0)};e.prototype.hasActive=function(){return this.activeObservations_.length>0};return e}();var Lt=typeof WeakMap!=="undefined"?new WeakMap:new ut;var Dt=function(){function e(t){if(!(this instanceof e)){throw new TypeError("Cannot call a class as a function.")}if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}var r=mt.getInstance();var n=new xt(t,r,this);Lt.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach((function(e){Dt.prototype[e]=function(){var t;return(t=Lt.get(this))[e].apply(t,arguments)}}));var Nt=function(){if(typeof lt.ResizeObserver!=="undefined"){return lt.ResizeObserver}return Dt}();const jt=Nt;function Ut(e,t){if(e===t)return true;if(!e||!t)return false;if("pageX"in t&&"pageY"in t){return e.pageX===t.pageX&&e.pageY===t.pageY}if("clientX"in t&&"clientY"in t){return e.clientX===t.clientX&&e.clientY===t.clientY}return false}function Bt(e,t){if(e!==document.activeElement&&(0,p.Z)(t,e)&&typeof e.focus==="function"){e.focus()}}function Ft(e,t){var r=null;var n=null;function i(e){var i=(0,A.Z)(e,1),o=i[0].target;if(!document.documentElement.contains(o))return;var a=o.getBoundingClientRect(),s=a.width,u=a.height;var c=Math.floor(s);var l=Math.floor(u);if(r!==c||n!==l){Promise.resolve().then((function(){t({width:c,height:l})}))}r=c;n=l}var o=new jt(i);if(e){o.observe(e)}return function(){o.disconnect()}}function Ht(e){if(typeof e!=="function")return null;return e()}function Vt(e){if((0,M.Z)(e)!=="object"||!e)return null;return e}var Wt=function e(t,r){var n=t.children,i=t.disabled,o=t.target,a=t.align,s=t.onAlign,u=t.monitorWindowResize,c=t.monitorBufferTime,l=c===void 0?0:c;var d=f.useRef({});var h=f.useRef();var p=f.Children.only(n);var v=f.useRef({});v.current.disabled=i;v.current.target=o;v.current.align=a;v.current.onAlign=s;var y=st((function(){var e=v.current,t=e.disabled,r=e.target,n=e.align,i=e.onAlign;var o=h.current;if(!t&&r&&o){var a;var s=Ht(r);var u=Vt(r);d.current.element=s;d.current.point=u;d.current.align=n;var c=document,l=c.activeElement;if(s&&ot(s)){a=Qe(o,s,n)}else if(u){a=et(o,u,n)}Bt(l,o);if(i&&a){i(o,a)}return true}return false}),l),_=(0,A.Z)(y,2),b=_[0],E=_[1];var S=f.useState(),w=(0,A.Z)(S,2),T=w[0],C=w[1];var R=f.useState(),I=(0,A.Z)(R,2),k=I[0],O=I[1];(0,at.Z)((function(){C(Ht(o));O(Vt(o))}));f.useEffect((function(){if(d.current.element!==T||!Ut(d.current.point,k)||!it(d.current.align,a)){b()}}));f.useEffect((function(){var e=Ft(h.current,b);return e}),[h.current]);f.useEffect((function(){var e=Ft(T,b);return e}),[T]);f.useEffect((function(){if(!i){b()}else{E()}}),[i]);f.useEffect((function(){if(u){var e=m(window,"resize",b);return e.remove}}),[u]);f.useEffect((function(){return function(){E()}}),[]);f.useImperativeHandle(r,(function(){return{forceAlign:function e(){return b(true)}}}));if(f.isValidElement(p)){p=f.cloneElement(p,{ref:(0,g.sQ)(p.ref,h)})}return p};var zt=f.forwardRef(Wt);zt.displayName="Align";const Gt=zt;const Yt=Gt;function Kt(){"use strict";Kt=function e(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function l(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new O(n||[]);return i(a,"_invoke",{value:A(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function _(){}var b={};c(b,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(P([])));S&&S!==r&&n.call(S,a)&&(b=S);var w=_.prototype=m.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==(0,M.Z)(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function e(n,i){function a(){return new t((function(e,t){r(n,i,e,t)}))}return o=o?o.then(a,a):a()}})}function A(t,r,n){var i=d;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=R(s,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=f(t,r,n);if("normal"===c.type){if(i=n.done?v:h,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=v,n.method="throw",n.arg=c.arg)}}}function R(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,R(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError((0,M.Z)(t)+" is not iterable")}return y.prototype=_,i(w,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:y,configurable:!0}),y.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},T(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new C(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(w),c(w,u,"Generator"),c(w,a,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,O.prototype={constructor:O,reset:function t(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!r)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(r){if(this.done)throw r;var i=this;function o(t,n){return u.type="throw",u.arg=r,i.next=t,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function e(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function t(r,n,i){return this.delegate={iterator:P(r),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function qt(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function $t(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){qt(o,n,i,a,s,"next",e)}function s(e){qt(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Jt=r(30470);var Zt=["measure","alignPre","align",null,"motion"];const Xt=function(e,t){var r=(0,Jt.Z)(null),n=(0,A.Z)(r,2),i=n[0],o=n[1];var a=(0,f.useRef)();function s(e){o(e,true)}function u(){h.Z.cancel(a.current)}function c(e){u();a.current=(0,h.Z)((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable";default:}return e}));e===null||e===void 0?void 0:e()}))}(0,f.useEffect)((function(){s("measure")}),[e]);(0,f.useEffect)((function(){switch(i){case"measure":t();break;default:}if(i){a.current=(0,h.Z)($t(Kt().mark((function e(){var t,r;return Kt().wrap((function e(n){while(1){switch(n.prev=n.next){case 0:t=Zt.indexOf(i);r=Zt[t+1];if(r&&t!==-1){s(r)}case 3:case"end":return n.stop()}}}),e)}))))}}),[i]);(0,f.useEffect)((function(){return function(){u()}}),[]);return[i,c]};const Qt=function(e){var t=f.useState({width:0,height:0}),r=(0,A.Z)(t,2),n=r[0],i=r[1];function o(e){var t=e.offsetWidth,r=e.offsetHeight;var n=e.getBoundingClientRect(),o=n.width,a=n.height;if(Math.abs(t-o)<1&&Math.abs(r-a)<1){t=o;r=a}i({width:t,height:r})}var a=f.useMemo((function(){var t={};if(e){var r=n.width,i=n.height;if(e.indexOf("height")!==-1&&i){t.height=i}else if(e.indexOf("minHeight")!==-1&&i){t.minHeight=i}if(e.indexOf("width")!==-1&&r){t.width=r}else if(e.indexOf("minWidth")!==-1&&r){t.minWidth=r}}return t}),[e,n]);return[a,o]};var er=f.forwardRef((function(e,t){var r=e.visible,o=e.prefixCls,a=e.className,s=e.style,u=e.children,c=e.zIndex,l=e.stretch,d=e.destroyPopupOnHide,h=e.forceRender,p=e.align,v=e.point,g=e.getRootDomNode,m=e.getClassNameFromAlign,y=e.onAlign,_=e.onMouseEnter,b=e.onMouseLeave,E=e.onMouseDown,w=e.onTouchStart,T=e.onClick;var C=(0,f.useRef)();var R=(0,f.useRef)();var I=(0,f.useState)(),P=(0,A.Z)(I,2),M=P[0],x=P[1];var L=Qt(l),D=(0,A.Z)(L,2),N=D[0],j=D[1];function U(){if(l){j(g())}}var B=Xt(r,U),F=(0,A.Z)(B,2),H=F[0],V=F[1];var W=(0,f.useState)(0),z=(0,A.Z)(W,2),G=z[0],Y=z[1];var K=(0,f.useRef)();(0,at.Z)((function(){if(H==="alignPre"){Y(0)}}),[H]);function q(){if(v){return v}return g}function $(){var e;(e=C.current)===null||e===void 0?void 0:e.forceAlign()}function J(e,t){var r=m(t);if(M!==r){x(r)}Y((function(e){return e+1}));if(H==="align"){y===null||y===void 0?void 0:y(e,t)}}(0,at.Z)((function(){if(H==="align"){if(G<3){$()}else{V((function(){var e;(e=K.current)===null||e===void 0?void 0:e.call(K)}))}}}),[G]);var Z=(0,n.Z)({},O(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=Z[e];Z[e]=function(e,r){V();return t===null||t===void 0?void 0:t(e,r)}}));function X(){return new Promise((function(e){K.current=e}))}f.useEffect((function(){if(!Z.motionName&&H==="motion"){V()}}),[Z.motionName,H]);f.useImperativeHandle(t,(function(){return{forceAlign:$,getElement:function e(){return R.current}}}));var Q=(0,n.Z)((0,n.Z)({},N),{},{zIndex:c,opacity:H==="motion"||H==="stable"||!r?undefined:0,pointerEvents:!r&&H!=="stable"?"none":undefined},s);var ee=true;if(p!==null&&p!==void 0&&p.points&&(H==="align"||H==="stable")){ee=false}var te=u;if(f.Children.count(u)>1){te=f.createElement("div",{className:"".concat(o,"-content")},u)}return f.createElement(k.ZP,(0,i.Z)({visible:r,ref:R,leavedClassName:"".concat(o,"-hidden")},Z,{onAppearPrepare:X,onEnterPrepare:X,removeOnLeave:d,forceRender:h}),(function(e,t){var r=e.className,i=e.style;var s=S()(o,a,M,r);return f.createElement(Yt,{target:q(),key:"popup",ref:C,monitorWindowResize:true,disabled:ee,align:p,onAlign:J},f.createElement("div",{ref:t,className:s,onMouseEnter:_,onMouseLeave:b,onMouseDownCapture:E,onTouchStartCapture:w,onClick:T,style:(0,n.Z)((0,n.Z)({},i),Q)},te))}))}));er.displayName="PopupInner";const tr=er;var rr=f.forwardRef((function(e,t){var r=e.prefixCls,o=e.visible,a=e.zIndex,s=e.children,u=e.mobile;u=u===void 0?{}:u;var c=u.popupClassName,l=u.popupStyle,d=u.popupMotion,h=d===void 0?{}:d,p=u.popupRender,v=e.onClick;var g=f.useRef();f.useImperativeHandle(t,(function(){return{forceAlign:function e(){},getElement:function e(){return g.current}}}));var m=(0,n.Z)({zIndex:a},l);var y=s;if(f.Children.count(s)>1){y=f.createElement("div",{className:"".concat(r,"-content")},s)}if(p){y=p(y)}return f.createElement(k.ZP,(0,i.Z)({visible:o,ref:g,removeOnLeave:true},h),(function(e,t){var i=e.className,o=e.style;var a=S()(r,c,i);return f.createElement("div",{ref:t,className:a,onClick:v,style:(0,n.Z)((0,n.Z)({},o),m)},y)}))}));rr.displayName="MobilePopupInner";const nr=rr;var ir=["visible","mobile"];var or=f.forwardRef((function(e,t){var r=e.visible,o=e.mobile,a=(0,R.Z)(e,ir);var s=(0,f.useState)(r),u=(0,A.Z)(s,2),c=u[0],l=u[1];var d=(0,f.useState)(false),h=(0,A.Z)(d,2),p=h[0],v=h[1];var g=(0,n.Z)((0,n.Z)({},a),{},{visible:c});(0,f.useEffect)((function(){l(r);if(r&&o){v(I())}}),[r,o]);var m=p?f.createElement(nr,(0,i.Z)({},g,{mobile:o,ref:t})):f.createElement(tr,(0,i.Z)({},g,{ref:t}));return f.createElement("div",null,f.createElement(P,g),m)}));or.displayName="Popup";const ar=or;var sr=f.createContext(null);const ur=sr;function cr(){}function lr(){return""}function fr(e){if(e){return e.ownerDocument}return window.document}var dr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function hr(e){var t=function(t){(0,u.Z)(y,t);var r=(0,c.Z)(y);function y(e){var t;(0,o.Z)(this,y);t=r.call(this,e);(0,l.Z)((0,s.Z)(t),"popupRef",f.createRef());(0,l.Z)((0,s.Z)(t),"triggerRef",f.createRef());(0,l.Z)((0,s.Z)(t),"portalContainer",void 0);(0,l.Z)((0,s.Z)(t),"attachId",void 0);(0,l.Z)((0,s.Z)(t),"clickOutsideHandler",void 0);(0,l.Z)((0,s.Z)(t),"touchOutsideHandler",void 0);(0,l.Z)((0,s.Z)(t),"contextMenuOutsideHandler1",void 0);(0,l.Z)((0,s.Z)(t),"contextMenuOutsideHandler2",void 0);(0,l.Z)((0,s.Z)(t),"mouseDownTimeout",void 0);(0,l.Z)((0,s.Z)(t),"focusTime",void 0);(0,l.Z)((0,s.Z)(t),"preClickTime",void 0);(0,l.Z)((0,s.Z)(t),"preTouchTime",void 0);(0,l.Z)((0,s.Z)(t),"delayTimer",void 0);(0,l.Z)((0,s.Z)(t),"hasPopupMouseDown",void 0);(0,l.Z)((0,s.Z)(t),"onMouseEnter",(function(e){var r=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e);t.delaySetPopupVisible(true,r,r?null:e)}));(0,l.Z)((0,s.Z)(t),"onMouseMove",(function(e){t.fireEvents("onMouseMove",e);t.setPoint(e)}));(0,l.Z)((0,s.Z)(t),"onMouseLeave",(function(e){t.fireEvents("onMouseLeave",e);t.delaySetPopupVisible(false,t.props.mouseLeaveDelay)}));(0,l.Z)((0,s.Z)(t),"onPopupMouseEnter",(function(){t.clearDelayTimer()}));(0,l.Z)((0,s.Z)(t),"onPopupMouseLeave",(function(e){var r;if(e.relatedTarget&&!e.relatedTarget.setTimeout&&(0,p.Z)((r=t.popupRef.current)===null||r===void 0?void 0:r.getElement(),e.relatedTarget)){return}t.delaySetPopupVisible(false,t.props.mouseLeaveDelay)}));(0,l.Z)((0,s.Z)(t),"onFocus",(function(e){t.fireEvents("onFocus",e);t.clearDelayTimer();if(t.isFocusToShow()){t.focusTime=Date.now();t.delaySetPopupVisible(true,t.props.focusDelay)}}));(0,l.Z)((0,s.Z)(t),"onMouseDown",(function(e){t.fireEvents("onMouseDown",e);t.preClickTime=Date.now()}));(0,l.Z)((0,s.Z)(t),"onTouchStart",(function(e){t.fireEvents("onTouchStart",e);t.preTouchTime=Date.now()}));(0,l.Z)((0,s.Z)(t),"onBlur",(function(e){t.fireEvents("onBlur",e);t.clearDelayTimer();if(t.isBlurToHide()){t.delaySetPopupVisible(false,t.props.blurDelay)}}));(0,l.Z)((0,s.Z)(t),"onContextMenu",(function(e){e.preventDefault();t.fireEvents("onContextMenu",e);t.setPopupVisible(true,e)}));(0,l.Z)((0,s.Z)(t),"onContextMenuClose",(function(){if(t.isContextMenuToShow()){t.close()}}));(0,l.Z)((0,s.Z)(t),"onClick",(function(e){t.fireEvents("onClick",e);if(t.focusTime){var r;if(t.preClickTime&&t.preTouchTime){r=Math.min(t.preClickTime,t.preTouchTime)}else if(t.preClickTime){r=t.preClickTime}else if(t.preTouchTime){r=t.preTouchTime}if(Math.abs(r-t.focusTime)<20){return}t.focusTime=0}t.preClickTime=0;t.preTouchTime=0;if(t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault){e.preventDefault()}var n=!t.state.popupVisible;if(t.isClickToHide()&&!n||n&&t.isClickToShow()){t.setPopupVisible(!t.state.popupVisible,e)}}));(0,l.Z)((0,s.Z)(t),"onPopupMouseDown",(function(){t.hasPopupMouseDown=true;clearTimeout(t.mouseDownTimeout);t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=false}),0);if(t.context){var e;(e=t.context).onPopupMouseDown.apply(e,arguments)}}));(0,l.Z)((0,s.Z)(t),"onDocumentClick",(function(e){if(t.props.mask&&!t.props.maskClosable){return}var r=e.target;var n=t.getRootDomNode();var i=t.getPopupDomNode();if((!(0,p.Z)(n,r)||t.isContextMenuOnly())&&!(0,p.Z)(i,r)&&!t.hasPopupMouseDown){t.close()}}));(0,l.Z)((0,s.Z)(t),"getRootDomNode",(function(){var e=t.props.getTriggerDOMNode;if(e){return e(t.triggerRef.current)}try{var r=(0,v.ZP)(t.triggerRef.current);if(r){return r}}catch(e){}return d.findDOMNode((0,s.Z)(t))}));(0,l.Z)((0,s.Z)(t),"getPopupClassNameFromAlign",(function(e){var r=[];var n=t.props,i=n.popupPlacement,o=n.builtinPlacements,a=n.prefixCls,s=n.alignPoint,u=n.getPopupClassNameFromAlign;if(i&&o){r.push(C(o,a,e,s))}if(u){r.push(u(e))}return r.join(" ")}));(0,l.Z)((0,s.Z)(t),"getComponent",(function(){var e=t.props,r=e.prefixCls,n=e.destroyPopupOnHide,o=e.popupClassName,a=e.onPopupAlign,s=e.popupMotion,u=e.popupAnimation,c=e.popupTransitionName,l=e.popupStyle,d=e.mask,h=e.maskAnimation,p=e.maskTransitionName,v=e.maskMotion,g=e.zIndex,m=e.popup,y=e.stretch,_=e.alignPoint,b=e.mobile,E=e.forceRender,S=e.onPopupClick;var w=t.state,T=w.popupVisible,C=w.point;var A=t.getPopupAlign();var R={};if(t.isMouseEnterToShow()){R.onMouseEnter=t.onPopupMouseEnter}if(t.isMouseLeaveToHide()){R.onMouseLeave=t.onPopupMouseLeave}R.onMouseDown=t.onPopupMouseDown;R.onTouchStart=t.onPopupMouseDown;return f.createElement(ar,(0,i.Z)({prefixCls:r,destroyPopupOnHide:n,visible:T,point:_&&C,className:o,align:A,onAlign:a,animation:u,getClassNameFromAlign:t.getPopupClassNameFromAlign},R,{stretch:y,getRootDomNode:t.getRootDomNode,style:l,mask:d,zIndex:g,transitionName:c,maskAnimation:h,maskTransitionName:p,maskMotion:v,ref:t.popupRef,motion:s,mobile:b,forceRender:E,onClick:S}),typeof m==="function"?m():m)}));(0,l.Z)((0,s.Z)(t),"attachParent",(function(e){h.Z.cancel(t.attachId);var r=t.props,n=r.getPopupContainer,i=r.getDocument;var o=t.getRootDomNode();var a;if(!n){a=i(t.getRootDomNode()).body}else if(o||n.length===0){a=n(o)}if(a){a.appendChild(e)}else{t.attachId=(0,h.Z)((function(){t.attachParent(e)}))}}));(0,l.Z)((0,s.Z)(t),"getContainer",(function(){if(!t.portalContainer){var e=t.props.getDocument;var r=e(t.getRootDomNode()).createElement("div");r.style.position="absolute";r.style.top="0";r.style.left="0";r.style.width="100%";t.portalContainer=r}t.attachParent(t.portalContainer);return t.portalContainer}));(0,l.Z)((0,s.Z)(t),"setPoint",(function(e){var r=t.props.alignPoint;if(!r||!e)return;t.setState({point:{pageX:e.pageX,pageY:e.pageY}})}));(0,l.Z)((0,s.Z)(t),"handlePortalUpdate",(function(){if(t.state.prevPopupVisible!==t.state.popupVisible){t.props.afterPopupVisibleChange(t.state.popupVisible)}}));(0,l.Z)((0,s.Z)(t),"triggerContextValue",{onPopupMouseDown:t.onPopupMouseDown});var n;if("popupVisible"in e){n=!!e.popupVisible}else{n=!!e.defaultPopupVisible}t.state={prevPopupVisible:n,popupVisible:n};dr.forEach((function(e){t["fire".concat(e)]=function(r){t.fireEvents(e,r)}}));return t}(0,a.Z)(y,[{key:"componentDidMount",value:function e(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function e(){var t=this.props;var r=this.state;if(r.popupVisible){var n;if(!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())){n=t.getDocument(this.getRootDomNode());this.clickOutsideHandler=m(n,"mousedown",this.onDocumentClick)}if(!this.touchOutsideHandler){n=n||t.getDocument(this.getRootDomNode());this.touchOutsideHandler=m(n,"touchstart",this.onDocumentClick)}if(!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()){n=n||t.getDocument(this.getRootDomNode());this.contextMenuOutsideHandler1=m(n,"scroll",this.onContextMenuClose)}if(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()){this.contextMenuOutsideHandler2=m(window,"blur",this.onContextMenuClose)}return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function e(){this.clearDelayTimer();this.clearOutsideHandler();clearTimeout(this.mouseDownTimeout);h.Z.cancel(this.attachId)}},{key:"getPopupDomNode",value:function e(){var t;return((t=this.popupRef.current)===null||t===void 0?void 0:t.getElement())||null}},{key:"getPopupAlign",value:function e(){var t=this.props;var r=t.popupPlacement,n=t.popupAlign,i=t.builtinPlacements;if(r&&i){return T(i,r,n)}return n}},{key:"setPopupVisible",value:function e(t,r){var n=this.props.alignPoint;var i=this.state.popupVisible;this.clearDelayTimer();if(i!==t){if(!("popupVisible"in this.props)){this.setState({popupVisible:t,prevPopupVisible:i})}this.props.onPopupVisibleChange(t)}if(n&&r&&t){this.setPoint(r)}}},{key:"delaySetPopupVisible",value:function e(t,r,n){var i=this;var o=r*1e3;this.clearDelayTimer();if(o){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){i.setPopupVisible(t,a);i.clearDelayTimer()}),o)}else{this.setPopupVisible(t,n)}}},{key:"clearDelayTimer",value:function e(){if(this.delayTimer){clearTimeout(this.delayTimer);this.delayTimer=null}}},{key:"clearOutsideHandler",value:function e(){if(this.clickOutsideHandler){this.clickOutsideHandler.remove();this.clickOutsideHandler=null}if(this.contextMenuOutsideHandler1){this.contextMenuOutsideHandler1.remove();this.contextMenuOutsideHandler1=null}if(this.contextMenuOutsideHandler2){this.contextMenuOutsideHandler2.remove();this.contextMenuOutsideHandler2=null}if(this.touchOutsideHandler){this.touchOutsideHandler.remove();this.touchOutsideHandler=null}}},{key:"createTwoChains",value:function e(t){var r=this.props.children.props;var n=this.props;if(r[t]&&n[t]){return this["fire".concat(t)]}return r[t]||n[t]}},{key:"isClickToShow",value:function e(){var t=this.props,r=t.action,n=t.showAction;return r.indexOf("click")!==-1||n.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function e(){var t=this.props.action;return t==="contextMenu"||t.length===1&&t[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function e(){var t=this.props,r=t.action,n=t.showAction;return r.indexOf("contextMenu")!==-1||n.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function e(){var t=this.props,r=t.action,n=t.hideAction;return r.indexOf("click")!==-1||n.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function e(){var t=this.props,r=t.action,n=t.showAction;return r.indexOf("hover")!==-1||n.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function e(){var t=this.props,r=t.action,n=t.hideAction;return r.indexOf("hover")!==-1||n.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function e(){var t=this.props,r=t.action,n=t.showAction;return r.indexOf("focus")!==-1||n.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function e(){var t=this.props,r=t.action,n=t.hideAction;return r.indexOf("focus")!==-1||n.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function e(){if(this.state.popupVisible){var t;(t=this.popupRef.current)===null||t===void 0?void 0:t.forceAlign()}}},{key:"fireEvents",value:function e(t,r){var n=this.props.children.props[t];if(n){n(r)}var i=this.props[t];if(i){i(r)}}},{key:"close",value:function e(){this.setPopupVisible(false)}},{key:"render",value:function t(){var r=this.state.popupVisible;var i=this.props,o=i.children,a=i.forceRender,s=i.alignPoint,u=i.className,c=i.autoDestroy;var l=f.Children.only(o);var d={key:"trigger"};if(this.isContextMenuToShow()){d.onContextMenu=this.onContextMenu}else{d.onContextMenu=this.createTwoChains("onContextMenu")}if(this.isClickToHide()||this.isClickToShow()){d.onClick=this.onClick;d.onMouseDown=this.onMouseDown;d.onTouchStart=this.onTouchStart}else{d.onClick=this.createTwoChains("onClick");d.onMouseDown=this.createTwoChains("onMouseDown");d.onTouchStart=this.createTwoChains("onTouchStart")}if(this.isMouseEnterToShow()){d.onMouseEnter=this.onMouseEnter;if(s){d.onMouseMove=this.onMouseMove}}else{d.onMouseEnter=this.createTwoChains("onMouseEnter")}if(this.isMouseLeaveToHide()){d.onMouseLeave=this.onMouseLeave}else{d.onMouseLeave=this.createTwoChains("onMouseLeave")}if(this.isFocusToShow()||this.isBlurToHide()){d.onFocus=this.onFocus;d.onBlur=this.onBlur}else{d.onFocus=this.createTwoChains("onFocus");d.onBlur=this.createTwoChains("onBlur")}var h=S()(l&&l.props&&l.props.className,u);if(h){d.className=h}var p=(0,n.Z)({},d);if((0,g.Yr)(l)){p.ref=(0,g.sQ)(this.triggerRef,l.ref)}var v=f.cloneElement(l,p);var m;if(r||this.popupRef.current||a){m=f.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())}if(!r&&c){m=null}return f.createElement(ur.Provider,{value:this.triggerContextValue},v,m)}}],[{key:"getDerivedStateFromProps",value:function e(t,r){var n=t.popupVisible;var i={};if(n!==undefined&&r.popupVisible!==n){i.popupVisible=n;i.prevPopupVisible=r.popupVisible}return i}}]);return y}(f.Component);(0,l.Z)(t,"contextType",ur);(0,l.Z)(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:lr,getDocument:fr,onPopupVisibleChange:cr,afterPopupVisibleChange:cr,onPopupAlign:cr,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:false,popupAlign:{},defaultPopupVisible:false,mask:false,maskClosable:true,action:[],showAction:[],hideAction:[],autoDestroy:false});return t}const pr=hr(b)},98924:(e,t,r)=>{r.d(t,{Z:()=>n});function n(){return!!(typeof window!=="undefined"&&window.document&&window.document.createElement)}},94999:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e,t){if(!e){return false}if(e.contains){return e.contains(t)}var r=t;while(r){if(r===e){return true}r=r.parentNode}return false}},34203:(e,t,r)=>{r.d(t,{ZP:()=>u});var n=r(71002);var i=r(67294);var o=r(73935);function a(e){return e instanceof HTMLElement||e instanceof SVGElement}function s(e){if(e&&(0,n.Z)(e)==="object"&&a(e.nativeElement)){return e.nativeElement}if(a(e)){return e}return null}function u(e){var t=s(e);if(t){return t}if(e instanceof i.Component){var r;return(r=o.findDOMNode)===null||r===void 0?void 0:r.call(o,e)}return null}},8410:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(67294);var i=r(98924);var o=true&&(0,i.Z)()?n.useLayoutEffect:n.useEffect;var a=function e(t,r){var i=n.useRef(true);o((function(){return t(i.current)}),r);o((function(){i.current=false;return function(){i.current=true}}),[])};var s=function e(t,r){a((function(e){if(!e){return t()}}),r)};const u=a},30470:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(70885);var i=r(67294);function o(e){var t=i.useRef(false);var r=i.useState(e),o=(0,n.Z)(r,2),a=o[0],s=o[1];i.useEffect((function(){t.current=false;return function(){t.current=true}}),[]);function u(e,r){if(r&&t.current){return}s(e)}return[a,u]}},75164:(e,t,r)=>{r.d(t,{Z:()=>c});var n=function e(t){return+setTimeout(t,16)};var i=function e(t){return clearTimeout(t)};if(typeof window!=="undefined"&&"requestAnimationFrame"in window){n=function e(t){return window.requestAnimationFrame(t)};i=function e(t){return window.cancelAnimationFrame(t)}}var o=0;var a=new Map;function s(e){a.delete(e)}var u=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;o+=1;var i=o;function u(e){if(e===0){s(i);t()}else{var r=n((function(){u(e-1)}));a.set(i,r)}}u(r);return i};u.cancel=function(e){var t=a.get(e);s(e);return i(t)};if(false){}const c=u},25491:(e,t,r)=>{r.d(t,{sQ:()=>d,mH:()=>f,C4:()=>m,Yr:()=>p,x1:()=>h});var n=r(71002);var i=r(67294);var o=r(11805);function a(e,t,r){var n=i.useRef({});if(!("value"in n.current)||r(n.current.condition,t)){n.current.value=e();n.current.condition=t}return n.current.value}var s=Symbol.for("react.element");var u=Symbol.for("react.transitional.element");var c=Symbol.for("react.fragment");function l(e){return e&&(0,n.Z)(e)==="object"&&(e.$$typeof===s||e.$$typeof===u)&&e.type===c}var f=function e(t,r){if(typeof t==="function"){t(r)}else if((0,n.Z)(t)==="object"&&t&&"current"in t){t.current=r}};var d=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}var i=r.filter(Boolean);if(i.length<=1){return i[0]}return function(e){r.forEach((function(t){f(t,e)}))}};var h=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return a((function(){return d.apply(void 0,r)}),r,(function(e,t){return e.length!==t.length||e.every((function(e,r){return e!==t[r]}))}))};var p=function e(t){var r,n;if(!t){return false}if(v(t)&&t.props.propertyIsEnumerable("ref")){return true}var i=(0,o.isMemo)(t)?t.type.type:t.type;if(typeof i==="function"&&!((r=i.prototype)!==null&&r!==void 0&&r.render)&&i.$$typeof!==o.ForwardRef){return false}if(typeof t==="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render)&&t.$$typeof!==o.ForwardRef){return false}return true};function v(e){return(0,i.isValidElement)(e)&&!l(e)}var g=function e(t){return v(t)&&p(t)};var m=function e(t){if(t&&v(t)){var r=t;return r.props.propertyIsEnumerable("ref")?r.props.ref:r.ref}return null}},80334:(e,t,r)=>{r.d(t,{ZP:()=>d});var n={};var i=[];var o=function e(t){i.push(t)};function a(e,t){if(false){var r}}function s(e,t){if(false){var r}}function u(){n={}}function c(e,t,r){if(!t&&!n[r]){e(false,r);n[r]=true}}function l(e,t){c(a,e,t)}function f(e,t){c(s,e,t)}l.preMessage=o;l.resetWarned=u;l.noteOnce=f;const d=l},51162:(e,t)=>{var r;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type,e){case o:case s:case a:case d:case h:return e;default:switch(e=e&&e.$$typeof,e){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}r=c;r=u;r=n;t.ForwardRef=f;r=o;r=v;r=p;r=i;r=s;r=a;r=d;r=h;r=function(){return!1};r=function(){return!1};r=function(e){return y(e)===c};r=function(e){return y(e)===u};r=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n};r=function(e){return y(e)===f};r=function(e){return y(e)===o};r=function(e){return y(e)===v};t.isMemo=function(e){return y(e)===p};r=function(e){return y(e)===i};r=function(e){return y(e)===s};r=function(e){return y(e)===a};r=function(e){return y(e)===d};r=function(e){return y(e)===h};r=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===a||e===d||e===h||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===m||void 0!==e.getModuleId)?!0:!1};r=y},11805:(e,t,r)=>{if(true){e.exports=r(51162)}else{}},64448:(e,t,r)=>{var n=r(67294),i=r(63840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t);c(e+"Capture",t)}function c(e,t){s[e]=t;for(e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e){if(f.call(p,e))return!0;if(f.call(h,e))return!1;if(d.test(e))return p[e]=!0;h[e]=!0;return!1}function g(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(n)return!1;if(null!==r)return!r.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function m(e,t,r,n){if(null===t||"undefined"===typeof t||g(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function y(e,t,r,n,i,o,a){this.acceptsBooleans=2===t||3===t||4===t;this.attributeName=n;this.attributeNamespace=i;this.mustUseProperty=r;this.propertyName=e;this.type=t;this.sanitizeURL=o;this.removeEmptyString=a}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new y(e,0,!1,e,null,!1,!1)}));[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new y(t,1,!1,e[1],null,!1,!1)}));["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)}));["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new y(e,2,!1,e,null,!1,!1)}));"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)}));["checked","multiple","muted","selected"].forEach((function(e){_[e]=new y(e,3,!0,e,null,!1,!1)}));["capture","download"].forEach((function(e){_[e]=new y(e,4,!1,e,null,!1,!1)}));["cols","rows","size","span"].forEach((function(e){_[e]=new y(e,6,!1,e,null,!1,!1)}));["rowSpan","start"].forEach((function(e){_[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,E);_[t]=new y(t,1,!1,e,null,!1,!1)}));"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,E);_[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}));["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,E);_[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}));["tabIndex","crossOrigin"].forEach((function(e){_[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)}));_.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach((function(e){_[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));function S(e,t,r,n){var i=_.hasOwnProperty(t)?_[t]:null;if(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])m(t,r,i,n)&&(r=null),n||null===i?v(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3===i.type?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(i=i.type,r=3===i||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r)))}var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var j=Symbol.iterator;function U(e){if(null===e||"object"!==typeof e)return null;e=j&&e[j]||e["@@iterator"];return"function"===typeof e?e:null}var B=Object.assign,F;function H(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var V=!1;function W(e,t){if(!e||V)return"";V=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"===typeof t.stack){for(var i=t.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s){do{if(a--,s--,0>s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName));return u}}while(1<=a&&0<=s)}break}}}finally{V=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?H(e):""}function z(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1),e;case 11:return e=W(e.type.render,!1),e;case 1:return e=W(e.type,!0),e;default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case C:return"Portal";case I:return"Profiler";case R:return"StrictMode";case M:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;e=e.displayName;e||(e=t.displayName||t.name||"",e=""!==e?"ForwardRef("+e+")":"ForwardRef");return e;case L:return t=e.displayName||null,null!==t?t:G(e.type)||"Memo";case D:t=e._payload;e=e._init;try{return G(e(t))}catch(e){}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){var t=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e;o.call(this,e)}});Object.defineProperty(e,t,{enumerable:r.enumerable});return{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null;delete e[t]}}}}function J(e){e._valueTracker||(e._valueTracker=$(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue();var n="";e&&(n=q(e)?e.checked?"true":"false":e.value);e=n;return e!==r?(t.setValue(e),!0):!1}function X(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=K(null!=t.value?t.value:r);e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){t=t.checked;null!=t&&S(e,"checked",t,!1)}function re(e,t){te(e,t);var r=K(t.value),n=t.type;if(null!=r)if("number"===n){if(0===r&&""===e.value||e.value!=r)e.value=""+r}else e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n){e.removeAttribute("value");return}t.hasOwnProperty("value")?ie(e,t.type,r):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue));null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue;r||t===e.value||(e.value=t);e.defaultValue=t}r=e.name;""!==r&&(e.name="");e.defaultChecked=!!e._wrapperState.initialChecked;""!==r&&(e.name=r)}function ie(e,t,r){if("number"!==t||X(e.ownerDocument)!==e)null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r)}var oe=Array.isArray;function ae(e,t,r,n){e=e.options;if(t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{r=""+K(r);t=null;for(i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0;n&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var r=t.value;if(null==r){r=t.children;t=t.defaultValue;if(null!=r){if(null!=t)throw Error(o(92));if(oe(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}null==t&&(t="");r=t}e._wrapperState={initialValue:K(r)}}function ce(e,t){var r=K(t.value),n=K(t.defaultValue);null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r));null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,pe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r,n,i)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{he=he||document.createElement("div");he.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ve(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType){r.nodeValue=t;return}}e.textContent=t}var ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];Object.keys(ge).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1);ge[t]=ge[e]}))}));function ye(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function _e(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=ye(r,t[r],n);"float"===r&&(r="cssFloat");n?e.setProperty(r,i):e[r]=i}}var be=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Te(e){e=e.target||e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}var Ce=null,Ae=null,Re=null;function Ie(e){if(e=Hi(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=Wi(t),Ce(e.stateNode,e.type,t))}}function ke(e){Ae?Re?Re.push(e):Re=[e]:Ae=e}function Oe(){if(Ae){var e=Ae,t=Re;Re=Ae=null;Ie(e);if(t)for(e=0;e<t.length;e++)Ie(t[e])}}function Pe(e,t){return e(t)}function Me(){}var xe=!1;function Le(e,t,r){if(xe)return e(t,r);xe=!0;try{return Pe(e,t,r)}finally{if(xe=!1,null!==Ae||null!==Re)Me(),Oe()}}function De(e,t){var r=e.stateNode;if(null===r)return null;var n=Wi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Ne=!1;if(l)try{var je={};Object.defineProperty(je,"passive",{get:function(){Ne=!0}});window.addEventListener("test",je,je);window.removeEventListener("test",je,je)}catch(e){Ne=!1}function Ue(e,t,r,n,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(e){this.onError(e)}}var Be=!1,Fe=null,He=!1,Ve=null,We={onError:function(e){Be=!0;Fe=e}};function ze(e,t,r,n,i,o,a,s,u){Be=!1;Fe=null;Ue.apply(We,arguments)}function Ge(e,t,r,n,i,a,s,u,c){ze.apply(this,arguments);if(Be){if(Be){var l=Fe;Be=!1;Fe=null}else throw Error(o(198));He||(He=!0,Ve=l)}}function Ye(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(t.flags&4098)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState));if(null!==t)return t.dehydrated}return null}function qe(e){if(Ye(e)!==e)throw Error(o(188))}function $e(e){var t=e.alternate;if(!t){t=Ye(e);if(null===t)throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){n=i.return;if(null!==n){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return qe(i),e;if(a===n)return qe(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0;r=i;n=a;break}if(u===n){s=!0;n=i;r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0;r=a;n=i;break}if(u===n){s=!0;n=a;r=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}function Je(e){e=$e(e);return null!==e?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,et=i.unstable_shouldYield,tt=i.unstable_requestPaint,rt=i.unstable_now,nt=i.unstable_getCurrentPriorityLevel,it=i.unstable_ImmediatePriority,ot=i.unstable_UserBlockingPriority,at=i.unstable_NormalPriority,st=i.unstable_LowPriority,ut=i.unstable_IdlePriority,ct=null,lt=null;function ft(e){if(lt&&"function"===typeof lt.onCommitFiberRoot)try{lt.onCommitFiberRoot(ct,e,void 0,128===(e.current.flags&128))}catch(e){}}var dt=Math.clz32?Math.clz32:vt,ht=Math.log,pt=Math.LN2;function vt(e){e>>>=0;return 0===e?32:31-(ht(e)/pt|0)|0}var gt=64,mt=4194304;function yt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _t(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(0!==a){var s=a&~i;0!==s?n=yt(s):(o&=a,0!==o&&(n=yt(o)))}else a=r&~i,0!==a?n=yt(a):0!==o&&(n=yt(o));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&(i=n&-n,o=t&-t,i>=o||16===i&&0!==(o&4194240)))return t;0!==(n&4)&&(n|=r&16);t=e.entangledLanes;if(0!==t)for(e=e.entanglements,t&=n;0<t;)r=31-dt(t),i=1<<r,n|=e[r],t&=~i;return n}function bt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Et(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-dt(o),s=1<<a,u=i[a];if(-1===u){if(0===(s&r)||0!==(s&n))i[a]=bt(s,t)}else u<=t&&(e.expiredLanes|=s);o&=~s}}function St(e){e=e.pendingLanes&-1073741825;return 0!==e?e:e&1073741824?1073741824:0}function wt(){var e=gt;gt<<=1;0===(gt&4194240)&&(gt=64);return e}function Tt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ct(e,t,r){e.pendingLanes|=t;536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0);e=e.eventTimes;t=31-dt(t);e[t]=r}function At(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t;e.suspendedLanes=0;e.pingedLanes=0;e.expiredLanes&=t;e.mutableReadLanes&=t;e.entangledLanes&=t;t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-dt(r),o=1<<i;t[i]=0;n[i]=-1;e[i]=-1;r&=~o}}function Rt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-dt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t);r&=~i}}var It=0;function kt(e){e&=-e;return 1<e?4<e?0!==(e&268435455)?16:536870912:4:1}var Ot,Pt,Mt,xt,Lt,Dt=!1,Nt=[],jt=null,Ut=null,Bt=null,Ft=new Map,Ht=new Map,Vt=[],Wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ht.delete(t.pointerId)}}function Gt(e,t,r,n,i,o){if(null===e||e.nativeEvent!==o)return e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&(t=Hi(t),null!==t&&Pt(t)),e;e.eventSystemFlags|=n;t=e.targetContainers;null!==i&&-1===t.indexOf(i)&&t.push(i);return e}function Yt(e,t,r,n,i){switch(t){case"focusin":return jt=Gt(jt,e,t,r,n,i),!0;case"dragenter":return Ut=Gt(Ut,e,t,r,n,i),!0;case"mouseover":return Bt=Gt(Bt,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;Ft.set(o,Gt(Ft.get(o)||null,e,t,r,n,i));return!0;case"gotpointercapture":return o=i.pointerId,Ht.set(o,Gt(Ht.get(o)||null,e,t,r,n,i)),!0}return!1}function Kt(e){var t=Fi(e.target);if(null!==t){var r=Ye(t);if(null!==r)if(t=r.tag,13===t){if(t=Ke(r),null!==t){e.blockedOn=t;Lt(e.priority,(function(){Mt(r)}));return}}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===r.tag?r.stateNode.containerInfo:null;return}}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=or(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null===r){r=e.nativeEvent;var n=new r.constructor(r.type,r);we=n;r.target.dispatchEvent(n);we=null}else return t=Hi(r),null!==t&&Pt(t),e.blockedOn=r,!1;t.shift()}return!0}function $t(e,t,r){qt(e)&&r.delete(t)}function Jt(){Dt=!1;null!==jt&&qt(jt)&&(jt=null);null!==Ut&&qt(Ut)&&(Ut=null);null!==Bt&&qt(Bt)&&(Bt=null);Ft.forEach($t);Ht.forEach($t)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Dt||(Dt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Jt)))}function Xt(e){function t(t){return Zt(t,e)}if(0<Nt.length){Zt(Nt[0],e);for(var r=1;r<Nt.length;r++){var n=Nt[r];n.blockedOn===e&&(n.blockedOn=null)}}null!==jt&&Zt(jt,e);null!==Ut&&Zt(Ut,e);null!==Bt&&Zt(Bt,e);Ft.forEach(t);Ht.forEach(t);for(r=0;r<Vt.length;r++)n=Vt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vt.length&&(r=Vt[0],null===r.blockedOn);)Kt(r),null===r.blockedOn&&Vt.shift()}var Qt=w.ReactCurrentBatchConfig,er=!0;function tr(e,t,r,n){var i=It,o=Qt.transition;Qt.transition=null;try{It=1,nr(e,t,r,n)}finally{It=i,Qt.transition=o}}function rr(e,t,r,n){var i=It,o=Qt.transition;Qt.transition=null;try{It=4,nr(e,t,r,n)}finally{It=i,Qt.transition=o}}function nr(e,t,r,n){if(er){var i=or(e,t,r,n);if(null===i)di(e,t,n,ir,r),zt(e,n);else if(Yt(i,e,t,r,n))n.stopPropagation();else if(zt(e,n),t&4&&-1<Wt.indexOf(e)){for(;null!==i;){var o=Hi(i);null!==o&&Ot(o);o=or(e,t,r,n);null===o&&di(e,t,n,ir,r);if(o===i)break;i=o}null!==i&&n.stopPropagation()}else di(e,t,n,null,r)}}var ir=null;function or(e,t,r,n){ir=null;e=Te(n);e=Fi(e);if(null!==e)if(t=Ye(e),null===t)e=null;else if(r=t.tag,13===r){e=Ke(t);if(null!==e)return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);ir=e;return null}function ar(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nt()){case it:return 1;case ot:return 4;case at:case st:return 16;case ut:return 536870912;default:return 16}default:return 16}}var sr=null,ur=null,cr=null;function lr(){if(cr)return cr;var e,t=ur,r=t.length,n,i="value"in sr?sr.value:sr.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return cr=i.slice(e,1<n?1-n:void 0)}function fr(e){var t=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t;10===e&&(e=13);return 32<=e||13===e?e:0}function dr(){return!0}function hr(){return!1}function pr(e){function t(t,r,n,i,o){this._reactName=t;this._targetInst=n;this.type=r;this.nativeEvent=i;this.target=o;this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?dr:hr;this.isPropagationStopped=hr;return this}B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr});return t}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gr=pr(vr),mr=B({},vr,{view:0,detail:0}),yr=pr(mr),_r,br,Er,Sr=B({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){if("movementX"in e)return e.movementX;e!==Er&&(Er&&"mousemove"===e.type?(_r=e.screenX-Er.screenX,br=e.screenY-Er.screenY):br=_r=0,Er=e);return _r},movementY:function(e){return"movementY"in e?e.movementY:br}}),wr=pr(Sr),Tr=B({},Sr,{dataTransfer:0}),Cr=pr(Tr),Ar=B({},mr,{relatedTarget:0}),Rr=pr(Ar),Ir=B({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=pr(Ir),Or=B({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pr=pr(Or),Mr=B({},vr,{data:0}),xr=pr(Mr),Lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nr[e])?!!t[e]:!1}function Ur(){return jr}var Br=B({},mr,{key:function(e){if(e.key){var t=Lr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=fr(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Dr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(e){return"keypress"===e.type?fr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?fr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Fr=pr(Br),Hr=B({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vr=pr(Hr),Wr=B({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),zr=pr(Wr),Gr=B({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yr=pr(Gr),Kr=B({},Sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qr=pr(Kr),$r=[9,13,27,32],Jr=l&&"CompositionEvent"in window,Zr=null;l&&"documentMode"in document&&(Zr=document.documentMode);var Xr=l&&"TextEvent"in window&&!Zr,Qr=l&&(!Jr||Zr&&8<Zr&&11>=Zr),en=String.fromCharCode(32),tn=!1;function rn(e,t){switch(e){case"keyup":return-1!==$r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nn(e){e=e.detail;return"object"===typeof e&&"data"in e?e.data:null}var on=!1;function an(e,t){switch(e){case"compositionend":return nn(t);case"keypress":if(32!==t.which)return null;tn=!0;return en;case"textInput":return e=t.data,e===en&&tn?null:e;default:return null}}function sn(e,t){if(on)return"compositionend"===e||!Jr&&rn(e,t)?(e=lr(),cr=ur=sr=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qr&&"ko"!==t.locale?null:t.data;default:return null}}var un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!un[e.type]:"textarea"===t?!0:!1}function ln(e,t,r,n){ke(n);t=pi(t,"onChange");0<t.length&&(r=new gr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fn=null,dn=null;function hn(e){ai(e,0)}function pn(e){var t=Vi(e);if(Z(t))return e}function vn(e,t){if("change"===e)return t}var gn=!1;if(l){var mn;if(l){var yn="oninput"in document;if(!yn){var _n=document.createElement("div");_n.setAttribute("oninput","return;");yn="function"===typeof _n.oninput}mn=yn}else mn=!1;gn=mn&&(!document.documentMode||9<document.documentMode)}function bn(){fn&&(fn.detachEvent("onpropertychange",En),dn=fn=null)}function En(e){if("value"===e.propertyName&&pn(dn)){var t=[];ln(t,dn,e,Te(e));Le(hn,t)}}function Sn(e,t,r){"focusin"===e?(bn(),fn=t,dn=r,fn.attachEvent("onpropertychange",En)):"focusout"===e&&bn()}function wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return pn(dn)}function Tn(e,t){if("click"===e)return pn(t)}function Cn(e,t){if("input"===e||"change"===e)return pn(t)}function An(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Rn="function"===typeof Object.is?Object.is:An;function In(e,t){if(Rn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!f.call(t,i)||!Rn(e[i],t[i]))return!1}return!0}function kn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function On(e,t){var r=kn(e);e=0;for(var n;r;){if(3===r.nodeType){n=e+r.textContent.length;if(e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kn(r)}}function Pn(e,t){return e&&t?e===t?!0:e&&3===e.nodeType?!1:t&&3===t.nodeType?Pn(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mn(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(e){r=!1}if(r)e=t.contentWindow;else break;t=X(e.document)}return t}function xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ln(e){var t=Mn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pn(r.ownerDocument.documentElement,r)){if(null!==n&&xn(r))if(t=n.start,e=n.end,void 0===e&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i);!e.extend&&o>n&&(i=n,n=o,o=i);i=On(r,o);var a=On(r,n);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}t=[];for(e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});"function"===typeof r.focus&&r.focus();for(r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dn=l&&"documentMode"in document&&11>=document.documentMode,Nn=null,jn=null,Un=null,Bn=!1;function Fn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Bn||null==Nn||Nn!==X(n)||(n=Nn,"selectionStart"in n&&xn(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Un&&In(Un,n)||(Un=n,n=pi(jn,"onSelect"),0<n.length&&(t=new gr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nn)))}function Hn(e,t){var r={};r[e.toLowerCase()]=t.toLowerCase();r["Webkit"+e]="webkit"+t;r["Moz"+e]="moz"+t;return r}var Vn={animationend:Hn("Animation","AnimationEnd"),animationiteration:Hn("Animation","AnimationIteration"),animationstart:Hn("Animation","AnimationStart"),transitionend:Hn("Transition","TransitionEnd")},Wn={},zn={};l&&(zn=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function Gn(e){if(Wn[e])return Wn[e];if(!Vn[e])return e;var t=Vn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zn)return Wn[e]=t[r];return e}var Yn=Gn("animationend"),Kn=Gn("animationiteration"),qn=Gn("animationstart"),$n=Gn("transitionend"),Jn=new Map,Zn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,t){Jn.set(e,t);u(t,[e])}for(var Qn=0;Qn<Zn.length;Qn++){var ei=Zn[Qn],ti=ei.toLowerCase(),ri=ei[0].toUpperCase()+ei.slice(1);Xn(ti,"on"+ri)}Xn(Yn,"onAnimationEnd");Xn(Kn,"onAnimationIteration");Xn(qn,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn($n,"onTransitionEnd");c("onMouseEnter",["mouseout","mouseover"]);c("onMouseLeave",["mouseout","mouseover"]);c("onPointerEnter",["pointerout","pointerover"]);c("onPointerLeave",["pointerout","pointerover"]);u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));u("onBeforeInput",["compositionend","keypress","textInput","paste"]);u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ii=new Set("cancel close invalid load scroll toggle".split(" ").concat(ni));function oi(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r;Ge(n,t,void 0,e);e.currentTarget=null}function ai(e,t){t=0!==(t&4);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,c=s.currentTarget;s=s.listener;if(u!==o&&i.isPropagationStopped())break e;oi(i,s,c);o=u}else for(a=0;a<n.length;a++){s=n[a];u=s.instance;c=s.currentTarget;s=s.listener;if(u!==o&&i.isPropagationStopped())break e;oi(i,s,c);o=u}}}if(He)throw e=Ve,He=!1,Ve=null,e}function si(e,t){var r=t[ji];void 0===r&&(r=t[ji]=new Set);var n=e+"__bubble";r.has(n)||(fi(t,e,2,!1),r.add(n))}function ui(e,t,r){var n=0;t&&(n|=4);fi(r,e,n,t)}var ci="_reactListening"+Math.random().toString(36).slice(2);function li(e){if(!e[ci]){e[ci]=!0;a.forEach((function(t){"selectionchange"!==t&&(ii.has(t)||ui(t,!1,e),ui(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ci]||(t[ci]=!0,ui("selectionchange",!1,t))}}function fi(e,t,r,n){switch(ar(t)){case 1:var i=tr;break;case 4:i=rr;break;default:i=nr}r=i.bind(null,t,r,e);i=void 0;!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0);n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function di(e,t,r,n,i){var o=n;if(0===(t&1)&&0===(t&2)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var u=a.tag;if(3===u||4===u)if(u=a.stateNode.containerInfo,u===i||8===u.nodeType&&u.parentNode===i)return;a=a.return}for(;null!==s;){a=Fi(s);if(null===a)return;u=a.tag;if(5===u||6===u){n=o=a;continue e}s=s.parentNode}}n=n.return}Le((function(){var n=o,i=Te(r),a=[];e:{var s=Jn.get(e);if(void 0!==s){var u=gr,c=e;switch(e){case"keypress":if(0===fr(r))break e;case"keydown":case"keyup":u=Fr;break;case"focusin":c="focus";u=Rr;break;case"focusout":c="blur";u=Rr;break;case"beforeblur":case"afterblur":u=Rr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=Cr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=zr;break;case Yn:case Kn:case qn:u=kr;break;case $n:u=Yr;break;case"scroll":u=yr;break;case"wheel":u=qr;break;case"copy":case"cut":case"paste":u=Pr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Vr}var l=0!==(t&4),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h=n,p;null!==h;){p=h;var v=p.stateNode;5===p.tag&&null!==v&&(p=v,null!==d&&(v=De(h,d),null!=v&&l.push(hi(h,v,p))));if(f)break;h=h.return}0<l.length&&(s=new u(s,c,null,r,i),a.push({event:s,listeners:l}))}}if(0===(t&7)){e:{s="mouseover"===e||"pointerover"===e;u="mouseout"===e||"pointerout"===e;if(s&&r!==we&&(c=r.relatedTarget||r.fromElement)&&(Fi(c)||c[Ni]))break e;if(u||s){s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window;if(u){if(c=r.relatedTarget||r.toElement,u=n,c=c?Fi(c):null,null!==c&&(f=Ye(c),c!==f||5!==c.tag&&6!==c.tag))c=null}else u=null,c=n;if(u!==c){l=wr;v="onMouseLeave";d="onMouseEnter";h="mouse";if("pointerout"===e||"pointerover"===e)l=Vr,v="onPointerLeave",d="onPointerEnter",h="pointer";f=null==u?s:Vi(u);p=null==c?s:Vi(c);s=new l(v,h+"leave",u,r,i);s.target=f;s.relatedTarget=p;v=null;Fi(i)===n&&(l=new l(d,h+"enter",c,r,i),l.target=p,l.relatedTarget=f,v=l);f=v;if(u&&c)t:{l=u;d=c;h=0;for(p=l;p;p=vi(p))h++;p=0;for(v=d;v;v=vi(v))p++;for(;0<h-p;)l=vi(l),h--;for(;0<p-h;)d=vi(d),p--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break t;l=vi(l);d=vi(d)}l=null}else l=null;null!==u&&gi(a,s,u,l,!1);null!==c&&null!==f&&gi(a,f,c,l,!0)}}}e:{s=n?Vi(n):window;u=s.nodeName&&s.nodeName.toLowerCase();if("select"===u||"input"===u&&"file"===s.type)var g=vn;else if(cn(s))if(gn)g=Cn;else{g=wn;var m=Sn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=Tn);if(g&&(g=g(e,n))){ln(a,g,r,i);break e}m&&m(e,s,n);"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)}m=n?Vi(n):window;switch(e){case"focusin":if(cn(m)||"true"===m.contentEditable)Nn=m,jn=n,Un=null;break;case"focusout":Un=jn=Nn=null;break;case"mousedown":Bn=!0;break;case"contextmenu":case"mouseup":case"dragend":Bn=!1;Fn(a,r,i);break;case"selectionchange":if(Dn)break;case"keydown":case"keyup":Fn(a,r,i)}var y;if(Jr)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else on?rn(e,r)&&(_="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(_="onCompositionStart");_&&(Qr&&"ko"!==r.locale&&(on||"onCompositionStart"!==_?"onCompositionEnd"===_&&on&&(y=lr()):(sr=i,ur="value"in sr?sr.value:sr.textContent,on=!0)),m=pi(n,_),0<m.length&&(_=new xr(_,e,null,r,i),a.push({event:_,listeners:m}),y?_.data=y:(y=nn(r),null!==y&&(_.data=y))));if(y=Xr?an(e,r):sn(e,r))n=pi(n,"onBeforeInput"),0<n.length&&(i=new xr("onBeforeInput","beforeinput",null,r,i),a.push({event:i,listeners:n}),i.data=y)}ai(a,t)}))}function hi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pi(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,o=De(e,r),null!=o&&n.unshift(hi(e,o,i)),o=De(e,t),null!=o&&n.push(hi(e,o,i)));e=e.return}return n}function vi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e?e:null}function gi(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,u=s.alternate,c=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==c&&(s=c,i?(u=De(r,o),null!=u&&a.unshift(hi(r,u,s))):i||(u=De(r,o),null!=u&&a.push(hi(r,u,s))));r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var mi=/\r\n?/g,yi=/\u0000|\uFFFD/g;function _i(e){return("string"===typeof e?e:""+e).replace(mi,"\n").replace(yi,"")}function bi(e,t,r){t=_i(t);if(_i(e)!==t&&r)throw Error(o(425))}function Ei(){}var Si=null,wi=null;function Ti(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ci="function"===typeof setTimeout?setTimeout:void 0,Ai="function"===typeof clearTimeout?clearTimeout:void 0,Ri="function"===typeof Promise?Promise:void 0,Ii="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ri?function(e){return Ri.resolve(null).then(e).catch(ki)}:Ci;function ki(e){setTimeout((function(){throw e}))}function Oi(e,t){var r=t,n=0;do{var i=r.nextSibling;e.removeChild(r);if(i&&8===i.nodeType)if(r=i.data,"/$"===r){if(0===n){e.removeChild(i);Xt(t);return}n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);Xt(t)}function Pi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){t=e.data;if("$"===t||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Mi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var xi=Math.random().toString(36).slice(2),Li="__reactFiber$"+xi,Di="__reactProps$"+xi,Ni="__reactContainer$"+xi,ji="__reactEvents$"+xi,Ui="__reactListeners$"+xi,Bi="__reactHandles$"+xi;function Fi(e){var t=e[Li];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ni]||r[Li]){r=t.alternate;if(null!==t.child||null!==r&&null!==r.child)for(e=Mi(e);null!==e;){if(r=e[Li])return r;e=Mi(e)}return t}e=r;r=e.parentNode}return null}function Hi(e){e=e[Li]||e[Ni];return!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Wi(e){return e[Di]||null}var zi=[],Gi=-1;function Yi(e){return{current:e}}function Ki(e){0>Gi||(e.current=zi[Gi],zi[Gi]=null,Gi--)}function qi(e,t){Gi++;zi[Gi]=e.current;e.current=t}var $i={},Ji=Yi($i),Zi=Yi(!1),Xi=$i;function Qi(e,t){var r=e.type.contextTypes;if(!r)return $i;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i);return i}function eo(e){e=e.childContextTypes;return null!==e&&void 0!==e}function to(){Ki(Zi);Ki(Ji)}function ro(e,t,r){if(Ji.current!==$i)throw Error(o(168));qi(Ji,t);qi(Zi,r)}function no(e,t,r){var n=e.stateNode;t=t.childContextTypes;if("function"!==typeof n.getChildContext)return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(o(108,Y(e)||"Unknown",i));return B({},r,n)}function io(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$i;Xi=Ji.current;qi(Ji,e);qi(Zi,Zi.current);return!0}function oo(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=no(e,t,Xi),n.__reactInternalMemoizedMergedChildContext=e,Ki(Zi),Ki(Ji),qi(Ji,e)):Ki(Zi);qi(Zi,r)}var ao=null,so=!1,uo=!1;function co(e){null===ao?ao=[e]:ao.push(e)}function lo(e){so=!0;co(e)}function fo(){if(!uo&&null!==ao){uo=!0;var e=0,t=It;try{var r=ao;for(It=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}ao=null;so=!1}catch(t){throw null!==ao&&(ao=ao.slice(e+1)),Xe(it,fo),t}finally{It=t,uo=!1}}return null}var ho=[],po=0,vo=null,go=0,mo=[],yo=0,_o=null,bo=1,Eo="";function So(e,t){ho[po++]=go;ho[po++]=vo;vo=e;go=t}function wo(e,t,r){mo[yo++]=bo;mo[yo++]=Eo;mo[yo++]=_o;_o=e;var n=bo;e=Eo;var i=32-dt(n)-1;n&=~(1<<i);r+=1;var o=32-dt(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32);n>>=a;i-=a;bo=1<<32-dt(t)+i|r<<i|n;Eo=o+e}else bo=1<<o|r<<i|n,Eo=e}function To(e){null!==e.return&&(So(e,1),wo(e,1,0))}function Co(e){for(;e===vo;)vo=ho[--po],ho[po]=null,go=ho[--po],ho[po]=null;for(;e===_o;)_o=mo[--yo],mo[yo]=null,Eo=mo[--yo],mo[yo]=null,bo=mo[--yo],mo[yo]=null}var Ao=null,Ro=null,Io=!1,ko=null;function Oo(e,t){var r=al(5,null,null,0);r.elementType="DELETED";r.stateNode=t;r.return=e;t=e.deletions;null===t?(e.deletions=[r],e.flags|=16):t.push(r)}function Po(e,t){switch(e.tag){case 5:var r=e.type;t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t;return null!==t?(e.stateNode=t,Ao=e,Ro=Pi(t.firstChild),!0):!1;case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t?(e.stateNode=t,Ao=e,Ro=null,!0):!1;case 13:return t=8!==t.nodeType?null:t,null!==t?(r=null!==_o?{id:bo,overflow:Eo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=al(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ao=e,Ro=null,!0):!1;default:return!1}}function Mo(e){return 0!==(e.mode&1)&&0===(e.flags&128)}function xo(e){if(Io){var t=Ro;if(t){var r=t;if(!Po(e,t)){if(Mo(e))throw Error(o(418));t=Pi(r.nextSibling);var n=Ao;t&&Po(e,t)?Oo(n,r):(e.flags=e.flags&-4097|2,Io=!1,Ao=e)}}else{if(Mo(e))throw Error(o(418));e.flags=e.flags&-4097|2;Io=!1;Ao=e}}}function Lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ao=e}function Do(e){if(e!==Ao)return!1;if(!Io)return Lo(e),Io=!0,!1;var t;(t=3!==e.tag)&&!(t=5!==e.tag)&&(t=e.type,t="head"!==t&&"body"!==t&&!Ti(e.type,e.memoizedProps));if(t&&(t=Ro)){if(Mo(e))throw No(),Error(o(418));for(;t;)Oo(e,t),t=Pi(t.nextSibling)}Lo(e);if(13===e.tag){e=e.memoizedState;e=null!==e?e.dehydrated:null;if(!e)throw Error(o(317));e:{e=e.nextSibling;for(t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Ro=Pi(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Ro=null}}else Ro=Ao?Pi(e.stateNode.nextSibling):null;return!0}function No(){for(var e=Ro;e;)e=Pi(e.nextSibling)}function jo(){Ro=Ao=null;Io=!1}function Uo(e){null===ko?ko=[e]:ko.push(e)}var Bo=w.ReactCurrentBatchConfig;function Fo(e,t){if(e&&e.defaultProps){t=B({},t);e=e.defaultProps;for(var r in e)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Ho=Yi(null),Vo=null,Wo=null,zo=null;function Go(){zo=Wo=Vo=null}function Yo(e){var t=Ho.current;Ki(Ho);e._currentValue=t}function Ko(e,t,r){for(;null!==e;){var n=e.alternate;(e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t);if(e===r)break;e=e.return}}function qo(e,t){Vo=e;zo=Wo=null;e=e.dependencies;null!==e&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ws=!0),e.firstContext=null)}function $o(e){var t=e._currentValue;if(zo!==e)if(e={context:e,memoizedValue:t,next:null},null===Wo){if(null===Vo)throw Error(o(308));Wo=e;Vo.dependencies={lanes:0,firstContext:e}}else Wo=Wo.next=e;return t}var Jo=null;function Zo(e){null===Jo?Jo=[e]:Jo.push(e)}function Xo(e,t,r,n){var i=t.interleaved;null===i?(r.next=r,Zo(t)):(r.next=i.next,i.next=r);t.interleaved=r;return Qo(e,n)}function Qo(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t);r=e;for(e=e.return;null!==e;)e.childLanes|=t,r=e.alternate,null!==r&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var ea=!1;function ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue;t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ia(e,t,r){var n=e.updateQueue;if(null===n)return null;n=n.shared;if(0!==(ec&2)){var i=n.pending;null===i?t.next=t:(t.next=i.next,i.next=t);n.pending=t;return Qo(e,r)}i=n.interleaved;null===i?(t.next=t,Zo(n)):(t.next=i.next,i.next=t);n.interleaved=t;return Qo(e,r)}function oa(e,t,r){t=t.updateQueue;if(null!==t&&(t=t.shared,0!==(r&4194240))){var n=t.lanes;n&=e.pendingLanes;r|=n;t.lanes=r;Rt(e,r)}}function aa(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&(n=n.updateQueue,r===n)){var i=null,o=null;r=r.firstBaseUpdate;if(null!==r){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a;r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects};e.updateQueue=r;return}e=r.lastBaseUpdate;null===e?r.firstBaseUpdate=t:e.next=t;r.lastBaseUpdate=t}function sa(e,t,r,n){var i=e.updateQueue;ea=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null;null===a?o=c:a.next=c;a=u;var l=e.alternate;null!==l&&(l=l.updateQueue,s=l.lastBaseUpdate,s!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;a=0;l=c=u=null;s=o;do{var d=s.lane,h=s.eventTime;if((n&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;d=t;h=r;switch(v.tag){case 1:p=v.payload;if("function"===typeof p){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:p=v.payload;d="function"===typeof p?p.call(h,f,d):p;if(null===d||void 0===d)break e;f=B({},f,d);break e;case 2:ea=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,d=i.effects,null===d?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,a|=d;s=s.next;if(null===s)if(s=i.shared.pending,null===s)break;else d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}while(1);null===l&&(u=f);i.baseState=u;i.firstBaseUpdate=c;i.lastBaseUpdate=l;t=i.shared.interleaved;if(null!==t){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);uc|=a;e.lanes=a;e.memoizedState=f}}function ua(e,t,r){e=t.effects;t.effects=null;if(null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){n.callback=null;n=r;if("function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var ca=(new n.Component).refs;function la(e,t,r,n){t=e.memoizedState;r=r(n,t);r=null===r||void 0===r?t:B({},t,r);e.memoizedState=r;0===e.lanes&&(e.updateQueue.baseState=r)}var fa={isMounted:function(e){return(e=e._reactInternals)?Ye(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ac(),i=Rc(e),o=na(n,i);o.payload=t;void 0!==r&&null!==r&&(o.callback=r);t=ia(e,o,i);null!==t&&(Ic(t,e,i,n),oa(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ac(),i=Rc(e),o=na(n,i);o.tag=1;o.payload=t;void 0!==r&&null!==r&&(o.callback=r);t=ia(e,o,i);null!==t&&(Ic(t,e,i,n),oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ac(),n=Rc(e),i=na(r,n);i.tag=2;void 0!==t&&null!==t&&(i.callback=t);t=ia(e,i,n);null!==t&&(Ic(t,e,n,r),oa(t,e,n))}};function da(e,t,r,n,i,o,a){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!In(r,n)||!In(i,o):!0}function ha(e,t,r){var n=!1,i=$i;var o=t.contextType;"object"===typeof o&&null!==o?o=$o(o):(i=eo(t)?Xi:Ji.current,n=t.contextTypes,o=(n=null!==n&&void 0!==n)?Qi(e,i):$i);t=new t(r,o);e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null;t.updater=fa;e.stateNode=t;t._reactInternals=e;n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o);return t}function pa(e,t,r,n){e=t.state;"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n);"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n);t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function va(e,t,r,n){var i=e.stateNode;i.props=r;i.state=e.memoizedState;i.refs=ca;ta(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=$o(o):(o=eo(t)?Xi:Ji.current,i.context=Qi(e,o));i.state=e.memoizedState;o=t.getDerivedStateFromProps;"function"===typeof o&&(la(e,t,o,r),i.state=e.memoizedState);"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fa.enqueueReplaceState(i,i.state,null),sa(e,r,i,n),i.state=e.memoizedState);"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ga(e,t,r){e=r.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){r=r._owner;if(r){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=n,a=""+e;if(null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a)return t.ref;t=function(e){var t=i.refs;t===ca&&(t=i.refs={});null===e?delete t[a]:t[a]=e};t._stringRef=a;return t}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function ma(e,t){e=Object.prototype.toString.call(t);throw Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){var t=e._init;return t(e._payload)}function _a(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){e=cl(e,t);e.index=0;e.sibling=null;return e}function a(t,r,n){t.index=n;if(!e)return t.flags|=1048576,r;n=t.alternate;if(null!==n)return n=n.index,n<r?(t.flags|=2,r):n;t.flags|=2;return r}function s(t){e&&null===t.alternate&&(t.flags|=2);return t}function u(e,t,r,n){if(null===t||6!==t.tag)return t=hl(r,e.mode,n),t.return=e,t;t=i(t,r);t.return=e;return t}function c(e,t,r,n){var o=r.type;if(o===A)return f(e,t,r.props.children,n,r.key);if(null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&ya(o)===t.type))return n=i(t,r.props),n.ref=ga(e,t,r),n.return=e,n;n=ll(r.type,r.key,r.props,null,e.mode,n);n.ref=ga(e,t,r);n.return=e;return n}function l(e,t,r,n){if(null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation)return t=pl(r,e.mode,n),t.return=e,t;t=i(t,r.children||[]);t.return=e;return t}function f(e,t,r,n,o){if(null===t||7!==t.tag)return t=fl(r,e.mode,n,o),t.return=e,t;t=i(t,r);t.return=e;return t}function d(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return t=hl(""+t,e.mode,r),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case T:return r=ll(t.type,t.key,t.props,null,e.mode,r),r.ref=ga(e,null,t),r.return=e,r;case C:return t=pl(t,e.mode,r),t.return=e,t;case D:var n=t._init;return d(e,n(t._payload),r)}if(oe(t)||U(t))return t=fl(t,e.mode,r,null),t.return=e,t;ma(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case T:return r.key===i?c(e,t,r,n):null;case C:return r.key===i?l(e,t,r,n):null;case D:return i=r._init,h(e,t,i(r._payload),n)}if(oe(r)||U(r))return null!==i?null:f(e,t,r,n,null);ma(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return e=e.get(r)||null,u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case T:return e=e.get(null===n.key?r:n.key)||null,c(t,e,n,i);case C:return e=e.get(null===n.key?r:n.key)||null,l(t,e,n,i);case D:var o=n._init;return p(e,t,r,o(n._payload),i)}if(oe(n)||U(n))return e=e.get(r)||null,f(t,e,n,i,null);ma(t,n)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=h(i,f,s[v],u);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f);o=a(m,o,v);null===l?c=m:l.sibling=m;l=m;f=g}if(v===s.length)return r(i,f),Io&&So(i,v),c;if(null===f){for(;v<s.length;v++)f=d(i,s[v],u),null!==f&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);Io&&So(i,v);return c}for(f=n(i,f);v<s.length;v++)g=p(f,i,v,s[v],u),null!==g&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g);e&&f.forEach((function(e){return t(i,e)}));Io&&So(i,v);return c}function g(i,s,u,c){var l=U(u);if("function"!==typeof l)throw Error(o(150));u=l.call(u);if(null==u)throw Error(o(151));for(var f=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var _=h(i,v,y.value,c);if(null===_){null===v&&(v=m);break}e&&v&&null===_.alternate&&t(i,v);s=a(_,s,g);null===f?l=_:f.sibling=_;f=_;v=m}if(y.done)return r(i,v),Io&&So(i,g),l;if(null===v){for(;!y.done;g++,y=u.next())y=d(i,y.value,c),null!==y&&(s=a(y,s,g),null===f?l=y:f.sibling=y,f=y);Io&&So(i,g);return l}for(v=n(i,v);!y.done;g++,y=u.next())y=p(v,i,g,y.value,c),null!==y&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=a(y,s,g),null===f?l=y:f.sibling=y,f=y);e&&v.forEach((function(e){return t(i,e)}));Io&&So(i,g);return l}function m(e,n,o,a){"object"===typeof o&&null!==o&&o.type===A&&null===o.key&&(o=o.props.children);if("object"===typeof o&&null!==o){switch(o.$$typeof){case T:e:{for(var u=o.key,c=n;null!==c;){if(c.key===u){u=o.type;if(u===A){if(7===c.tag){r(e,c.sibling);n=i(c,o.props.children);n.return=e;e=n;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&ya(u)===c.type){r(e,c.sibling);n=i(c,o.props);n.ref=ga(e,c,o);n.return=e;e=n;break e}r(e,c);break}else t(e,c);c=c.sibling}o.type===A?(n=fl(o.props.children,e.mode,a,o.key),n.return=e,e=n):(a=ll(o.type,o.key,o.props,null,e.mode,a),a.ref=ga(e,n,o),a.return=e,e=a)}return s(e);case C:e:{for(c=o.key;null!==n;){if(n.key===c)if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling);n=i(n,o.children||[]);n.return=e;e=n;break e}else{r(e,n);break}else t(e,n);n=n.sibling}n=pl(o,e.mode,a);n.return=e;e=n}return s(e);case D:return c=o._init,m(e,n,c(o._payload),a)}if(oe(o))return v(e,n,o,a);if(U(o))return g(e,n,o,a);ma(e,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),n=i(n,o),n.return=e,e=n):(r(e,n),n=hl(o,e.mode,a),n.return=e,e=n),s(e)):r(e,n)}return m}var ba=_a(!0),Ea=_a(!1),Sa={},wa=Yi(Sa),Ta=Yi(Sa),Ca=Yi(Sa);function Aa(e){if(e===Sa)throw Error(o(174));return e}function Ra(e,t){qi(Ca,t);qi(Ta,e);qi(wa,Sa);e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=de(t,e)}Ki(wa);qi(wa,t)}function Ia(){Ki(wa);Ki(Ta);Ki(Ca)}function ka(e){Aa(Ca.current);var t=Aa(wa.current);var r=de(t,e.type);t!==r&&(qi(Ta,e),qi(wa,r))}function Oa(e){Ta.current===e&&(Ki(wa),Ki(Ta))}var Pa=Yi(0);function Ma(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(r=r.dehydrated,null===r||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(t.flags&128))return t}else if(null!==t.child){t.child.return=t;t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return;t=t.sibling}return null}var xa=[];function La(){for(var e=0;e<xa.length;e++)xa[e]._workInProgressVersionPrimary=null;xa.length=0}var Da=w.ReactCurrentDispatcher,Na=w.ReactCurrentBatchConfig,ja=0,Ua=null,Ba=null,Fa=null,Ha=!1,Va=!1,Wa=0,za=0;function Ga(){throw Error(o(321))}function Ya(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rn(e[r],t[r]))return!1;return!0}function Ka(e,t,r,n,i,a){ja=a;Ua=t;t.memoizedState=null;t.updateQueue=null;t.lanes=0;Da.current=null===e||null===e.memoizedState?Os:Ps;e=r(n,i);if(Va){a=0;do{Va=!1;Wa=0;if(25<=a)throw Error(o(301));a+=1;Fa=Ba=null;t.updateQueue=null;Da.current=Ms;e=r(n,i)}while(Va)}Da.current=ks;t=null!==Ba&&null!==Ba.next;ja=0;Fa=Ba=Ua=null;Ha=!1;if(t)throw Error(o(300));return e}function qa(){var e=0!==Wa;Wa=0;return e}function $a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Fa?Ua.memoizedState=Fa=e:Fa=Fa.next=e;return Fa}function Ja(){if(null===Ba){var e=Ua.alternate;e=null!==e?e.memoizedState:null}else e=Ba.next;var t=null===Fa?Ua.memoizedState:Fa.next;if(null!==t)Fa=t,Ba=e;else{if(null===e)throw Error(o(310));Ba=e;e={memoizedState:Ba.memoizedState,baseState:Ba.baseState,baseQueue:Ba.baseQueue,queue:Ba.queue,next:null};null===Fa?Ua.memoizedState=Fa=e:Fa=Fa.next=e}return Fa}function Za(e,t){return"function"===typeof t?t(e):t}function Xa(e){var t=Ja(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=Ba,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next;a.next=s}n.baseQueue=i=a;r.pending=null}if(null!==i){a=i.next;n=n.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((ja&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=n):c=c.next=d;Ua.lanes|=f;uc|=f}l=l.next}while(null!==l&&l!==a);null===c?s=n:c.next=u;Rn(n,t.memoizedState)||(Ws=!0);t.memoizedState=n;t.baseState=s;t.baseQueue=c;r.lastRenderedState=n}e=r.interleaved;if(null!==e){i=e;do{a=i.lane,Ua.lanes|=a,uc|=a,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qa(e){var t=Ja(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Rn(a,t.memoizedState)||(Ws=!0);t.memoizedState=a;null===t.baseQueue&&(t.baseState=a);r.lastRenderedState=a}return[a,n]}function es(){}function ts(e,t){var r=Ua,n=Ja(),i=t(),a=!Rn(n.memoizedState,i);a&&(n.memoizedState=i,Ws=!0);n=n.queue;hs(is.bind(null,r,n,e),[e]);if(n.getSnapshot!==t||a||null!==Fa&&Fa.memoizedState.tag&1){r.flags|=2048;us(9,ns.bind(null,r,n,i,t),void 0,null);if(null===tc)throw Error(o(349));0!==(ja&30)||rs(r,t,i)}return i}function rs(e,t,r){e.flags|=16384;e={getSnapshot:t,value:r};t=Ua.updateQueue;null===t?(t={lastEffect:null,stores:null},Ua.updateQueue=t,t.stores=[e]):(r=t.stores,null===r?t.stores=[e]:r.push(e))}function ns(e,t,r,n){t.value=r;t.getSnapshot=n;os(t)&&as(e)}function is(e,t,r){return r((function(){os(t)&&as(e)}))}function os(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rn(e,r)}catch(e){return!0}}function as(e){var t=Qo(e,1);null!==t&&Ic(t,e,1,-1)}function ss(e){var t=$a();"function"===typeof e&&(e=e());t.memoizedState=t.baseState=e;e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:e};t.queue=e;e=e.dispatch=Cs.bind(null,Ua,e);return[t.memoizedState,e]}function us(e,t,r,n){e={tag:e,create:t,destroy:r,deps:n,next:null};t=Ua.updateQueue;null===t?(t={lastEffect:null,stores:null},Ua.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,null===r?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e));return e}function cs(){return Ja().memoizedState}function ls(e,t,r,n){var i=$a();Ua.flags|=e;i.memoizedState=us(1|t,r,void 0,void 0===n?null:n)}function fs(e,t,r,n){var i=Ja();n=void 0===n?null:n;var o=void 0;if(null!==Ba){var a=Ba.memoizedState;o=a.destroy;if(null!==n&&Ya(n,a.deps)){i.memoizedState=us(t,r,o,n);return}}Ua.flags|=e;i.memoizedState=us(1|t,r,o,n)}function ds(e,t){return ls(8390656,8,e,t)}function hs(e,t){return fs(2048,8,e,t)}function ps(e,t){return fs(4,2,e,t)}function vs(e,t){return fs(4,4,e,t)}function gs(e,t){if("function"===typeof t)return e=e(),t(e),function(){t(null)};if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ms(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null;return fs(4,4,gs.bind(null,t,e),r)}function ys(){}function _s(e,t){var r=Ja();t=void 0===t?null:t;var n=r.memoizedState;if(null!==n&&null!==t&&Ya(t,n[1]))return n[0];r.memoizedState=[e,t];return e}function bs(e,t){var r=Ja();t=void 0===t?null:t;var n=r.memoizedState;if(null!==n&&null!==t&&Ya(t,n[1]))return n[0];e=e();r.memoizedState=[e,t];return e}function Es(e,t,r){if(0===(ja&21))return e.baseState&&(e.baseState=!1,Ws=!0),e.memoizedState=r;Rn(r,t)||(r=wt(),Ua.lanes|=r,uc|=r,e.baseState=!0);return t}function Ss(e,t){var r=It;It=0!==r&&4>r?r:4;e(!0);var n=Na.transition;Na.transition={};try{e(!1),t()}finally{It=r,Na.transition=n}}function ws(){return Ja().memoizedState}function Ts(e,t,r){var n=Rc(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(As(e))Rs(t,r);else if(r=Xo(e,t,r,n),null!==r){var i=Ac();Ic(r,e,n,i);Is(r,t,n)}}function Cs(e,t,r){var n=Rc(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(As(e))Rs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&(o=t.lastRenderedReducer,null!==o))try{var a=t.lastRenderedState,s=o(a,r);i.hasEagerState=!0;i.eagerState=s;if(Rn(s,a)){var u=t.interleaved;null===u?(i.next=i,Zo(t)):(i.next=u.next,u.next=i);t.interleaved=i;return}}catch(e){}finally{}r=Xo(e,t,i,n);null!==r&&(i=Ac(),Ic(r,e,n,i),Is(r,t,n))}}function As(e){var t=e.alternate;return e===Ua||null!==t&&t===Ua}function Rs(e,t){Va=Ha=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t);e.pending=t}function Is(e,t,r){if(0!==(r&4194240)){var n=t.lanes;n&=e.pendingLanes;r|=n;t.lanes=r;Rt(e,r)}}var ks={readContext:$o,useCallback:Ga,useContext:Ga,useEffect:Ga,useImperativeHandle:Ga,useInsertionEffect:Ga,useLayoutEffect:Ga,useMemo:Ga,useReducer:Ga,useRef:Ga,useState:Ga,useDebugValue:Ga,useDeferredValue:Ga,useTransition:Ga,useMutableSource:Ga,useSyncExternalStore:Ga,useId:Ga,unstable_isNewReconciler:!1},Os={readContext:$o,useCallback:function(e,t){$a().memoizedState=[e,void 0===t?null:t];return e},useContext:$o,useEffect:ds,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null;return ls(4194308,4,gs.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return ls(4,2,e,t)},useMemo:function(e,t){var r=$a();t=void 0===t?null:t;e=e();r.memoizedState=[e,t];return e},useReducer:function(e,t,r){var n=$a();t=void 0!==r?r(t):t;n.memoizedState=n.baseState=t;e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t};n.queue=e;e=e.dispatch=Ts.bind(null,Ua,e);return[n.memoizedState,e]},useRef:function(e){var t=$a();e={current:e};return t.memoizedState=e},useState:ss,useDebugValue:ys,useDeferredValue:function(e){return $a().memoizedState=e},useTransition:function(){var e=ss(!1),t=e[0];e=Ss.bind(null,e[1]);$a().memoizedState=e;return[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ua,i=$a();if(Io){if(void 0===r)throw Error(o(407));r=r()}else{r=t();if(null===tc)throw Error(o(349));0!==(ja&30)||rs(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};i.queue=a;ds(is.bind(null,n,a,e),[e]);n.flags|=2048;us(9,ns.bind(null,n,a,r,t),void 0,null);return r},useId:function(){var e=$a(),t=tc.identifierPrefix;if(Io){var r=Eo;var n=bo;r=(n&~(1<<32-dt(n)-1)).toString(32)+r;t=":"+t+"R"+r;r=Wa++;0<r&&(t+="H"+r.toString(32));t+=":"}else r=za++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ps={readContext:$o,useCallback:_s,useContext:$o,useEffect:hs,useImperativeHandle:ms,useInsertionEffect:ps,useLayoutEffect:vs,useMemo:bs,useReducer:Xa,useRef:cs,useState:function(){return Xa(Za)},useDebugValue:ys,useDeferredValue:function(e){var t=Ja();return Es(t,Ba.memoizedState,e)},useTransition:function(){var e=Xa(Za)[0],t=Ja().memoizedState;return[e,t]},useMutableSource:es,useSyncExternalStore:ts,useId:ws,unstable_isNewReconciler:!1},Ms={readContext:$o,useCallback:_s,useContext:$o,useEffect:hs,useImperativeHandle:ms,useInsertionEffect:ps,useLayoutEffect:vs,useMemo:bs,useReducer:Qa,useRef:cs,useState:function(){return Qa(Za)},useDebugValue:ys,useDeferredValue:function(e){var t=Ja();return null===Ba?t.memoizedState=e:Es(t,Ba.memoizedState,e)},useTransition:function(){var e=Qa(Za)[0],t=Ja().memoizedState;return[e,t]},useMutableSource:es,useSyncExternalStore:ts,useId:ws,unstable_isNewReconciler:!1};function xs(e,t){try{var r="",n=t;do{r+=z(n),n=n.return}while(n);var i=r}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function Ls(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function Ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var Ns="function"===typeof WeakMap?WeakMap:Map;function js(e,t,r){r=na(-1,r);r.tag=3;r.payload={element:null};var n=t.value;r.callback=function(){gc||(gc=!0,mc=n);Ds(e,t)};return r}function Us(e,t,r){r=na(-1,r);r.tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)};r.callback=function(){Ds(e,t)}}var o=e.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){Ds(e,t);"function"!==typeof n&&(null===yc?yc=new Set([this]):yc.add(this));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})});return r}function Bs(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new Ns;var i=new Set;n.set(t,i)}else i=n.get(t),void 0===i&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Qc.bind(null,e,t,r),t.then(e,e))}function Fs(e){do{var t;if(t=13===e.tag)t=e.memoizedState,t=null!==t?null!==t.dehydrated?!0:!1:!0;if(t)return e;e=e.return}while(null!==e);return null}function Hs(e,t,r,n,i){if(0===(e.mode&1))return e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:(t=na(-1,1),t.tag=2,ia(r,t,1))),r.lanes|=1),e;e.flags|=65536;e.lanes=i;return e}var Vs=w.ReactCurrentOwner,Ws=!1;function zs(e,t,r,n){t.child=null===e?Ea(t,null,r,n):ba(t,e.child,r,n)}function Gs(e,t,r,n,i){r=r.render;var o=t.ref;qo(t,i);n=Ka(e,t,r,n,o,i);r=qa();if(null!==e&&!Ws)return t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fu(e,t,i);Io&&r&&To(t);t.flags|=1;zs(e,t,n,i);return t.child}function Ys(e,t,r,n,i){if(null===e){var o=r.type;if("function"===typeof o&&!sl(o)&&void 0===o.defaultProps&&null===r.compare&&void 0===r.defaultProps)return t.tag=15,t.type=o,Ks(e,t,o,n,i);e=ll(r.type,null,n,t,t.mode,i);e.ref=t.ref;e.return=t;return t.child=e}o=e.child;if(0===(e.lanes&i)){var a=o.memoizedProps;r=r.compare;r=null!==r?r:In;if(r(a,n)&&e.ref===t.ref)return fu(e,t,i)}t.flags|=1;e=cl(o,n);e.ref=t.ref;e.return=t;return t.child=e}function Ks(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(In(o,n)&&e.ref===t.ref)if(Ws=!1,t.pendingProps=n=o,0!==(e.lanes&i))0!==(e.flags&131072)&&(Ws=!0);else return t.lanes=e.lanes,fu(e,t,i)}return Js(e,t,r,n,i)}function qs(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qi(oc,ic),ic|=r;else{if(0===(r&1073741824))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qi(oc,ic),ic|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null};n=null!==o?o.baseLanes:r;qi(oc,ic);ic|=n}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,qi(oc,ic),ic|=n;zs(e,t,i,r);return t.child}function $s(e,t){var r=t.ref;if(null===e&&null!==r||null!==e&&e.ref!==r)t.flags|=512,t.flags|=2097152}function Js(e,t,r,n,i){var o=eo(r)?Xi:Ji.current;o=Qi(t,o);qo(t,i);r=Ka(e,t,r,n,o,i);n=qa();if(null!==e&&!Ws)return t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fu(e,t,i);Io&&n&&To(t);t.flags|=1;zs(e,t,r,i);return t.child}function Zs(e,t,r,n,i){if(eo(r)){var o=!0;io(t)}else o=!1;qo(t,i);if(null===t.stateNode)lu(e,t),ha(t,r,n),va(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=r.contextType;"object"===typeof c&&null!==c?c=$o(c):(c=eo(r)?Xi:Ji.current,c=Qi(t,c));var l=r.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||u!==c)&&pa(t,a,n,c);ea=!1;var d=t.memoizedState;a.state=d;sa(t,n,a,i);u=t.memoizedState;s!==n||d!==u||Zi.current||ea?("function"===typeof l&&(la(t,r,l,n),u=t.memoizedState),(s=ea||da(t,r,s,n,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode;ra(e,t);s=t.memoizedProps;c=t.type===t.elementType?s:Fo(t.type,s);a.props=c;f=t.pendingProps;d=a.context;u=r.contextType;"object"===typeof u&&null!==u?u=$o(u):(u=eo(r)?Xi:Ji.current,u=Qi(t,u));var h=r.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&pa(t,a,n,u);ea=!1;d=t.memoizedState;a.state=d;sa(t,n,a,i);var p=t.memoizedState;s!==f||d!==p||Zi.current||ea?("function"===typeof h&&(la(t,r,h,n),p=t.memoizedState),(c=ea||da(t,r,c,n,d,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=u,n=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return Xs(e,t,r,n,o,i)}function Xs(e,t,r,n,i,o){$s(e,t);var a=0!==(t.flags&128);if(!n&&!a)return i&&oo(t,r,!1),fu(e,t,o);n=t.stateNode;Vs.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();t.flags|=1;null!==e&&a?(t.child=ba(t,e.child,null,o),t.child=ba(t,null,s,o)):zs(e,t,s,o);t.memoizedState=n.state;i&&oo(t,r,!0);return t.child}function Qs(e){var t=e.stateNode;t.pendingContext?ro(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ro(e,t.context,!1);Ra(e,t.containerInfo)}function eu(e,t,r,n,i){jo();Uo(i);t.flags|=256;zs(e,t,r,n);return t.child}var tu={dehydrated:null,treeContext:null,retryLane:0};function ru(e){return{baseLanes:e,cachePool:null,transitions:null}}function nu(e,t,r){var n=t.pendingProps,i=Pa.current,o=!1,a=0!==(t.flags&128),s;(s=a)||(s=null!==e&&null===e.memoizedState?!1:0!==(i&2));if(s)o=!0,t.flags&=-129;else if(null===e||null!==e.memoizedState)i|=1;qi(Pa,i&1);if(null===e){xo(t);e=t.memoizedState;if(null!==e&&(e=e.dehydrated,null!==e))return 0===(t.mode&1)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null;a=n.children;e=n.fallback;return o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},0===(n&1)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=dl(a,n,0,null),e=fl(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ru(r),t.memoizedState=tu,e):iu(t,a)}i=e.memoizedState;if(null!==i&&(s=i.dehydrated,null!==s))return au(e,t,a,n,s,i,r);if(o){o=n.fallback;a=t.mode;i=e.child;s=i.sibling;var u={mode:"hidden",children:n.children};0===(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=cl(i,u),n.subtreeFlags=i.subtreeFlags&14680064);null!==s?o=cl(s,o):(o=fl(o,a,r,null),o.flags|=2);o.return=t;n.return=t;n.sibling=o;t.child=n;n=o;o=t.child;a=e.child.memoizedState;a=null===a?ru(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions};o.memoizedState=a;o.childLanes=e.childLanes&~r;t.memoizedState=tu;return n}o=e.child;e=o.sibling;n=cl(o,{mode:"visible",children:n.children});0===(t.mode&1)&&(n.lanes=r);n.return=t;n.sibling=null;null!==e&&(r=t.deletions,null===r?(t.deletions=[e],t.flags|=16):r.push(e));t.child=n;t.memoizedState=null;return n}function iu(e,t){t=dl({mode:"visible",children:t},e.mode,0,null);t.return=e;return e.child=t}function ou(e,t,r,n){null!==n&&Uo(n);ba(t,e.child,null,r);e=iu(t,t.pendingProps.children);e.flags|=2;t.memoizedState=null;return e}function au(e,t,r,n,i,a,s){if(r){if(t.flags&256)return t.flags&=-257,n=Ls(Error(o(422))),ou(e,t,s,n);if(null!==t.memoizedState)return t.child=e.child,t.flags|=128,null;a=n.fallback;i=t.mode;n=dl({mode:"visible",children:n.children},i,0,null);a=fl(a,i,s,null);a.flags|=2;n.return=t;a.return=t;n.sibling=a;t.child=n;0!==(t.mode&1)&&ba(t,e.child,null,s);t.child.memoizedState=ru(s);t.memoizedState=tu;return a}if(0===(t.mode&1))return ou(e,t,s,null);if("$!"===i.data){n=i.nextSibling&&i.nextSibling.dataset;if(n)var u=n.dgst;n=u;a=Error(o(419));n=Ls(a,n,void 0);return ou(e,t,s,n)}u=0!==(s&e.childLanes);if(Ws||u){n=tc;if(null!==n){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=0!==(i&(n.suspendedLanes|s))?0:i;0!==i&&i!==a.retryLane&&(a.retryLane=i,Qo(e,i),Ic(n,e,i,-1))}Vc();n=Ls(Error(o(421)));return ou(e,t,s,n)}if("$?"===i.data)return t.flags|=128,t.child=e.child,t=tl.bind(null,e),i._reactRetry=t,null;e=a.treeContext;Ro=Pi(i.nextSibling);Ao=t;Io=!0;ko=null;null!==e&&(mo[yo++]=bo,mo[yo++]=Eo,mo[yo++]=_o,bo=e.id,Eo=e.overflow,_o=t);t=iu(t,n.children);t.flags|=4096;return t}function su(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t);Ko(e.return,t,r)}function uu(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function cu(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;zs(e,t,n.children,r);n=Pa.current;if(0!==(n&2))n=n&1|2,t.flags|=128;else{if(null!==e&&0!==(e.flags&128))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&su(e,r,t);else if(19===e.tag)su(e,r,t);else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return;e=e.sibling}n&=1}qi(Pa,n);if(0===(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":r=t.child;for(i=null;null!==r;)e=r.alternate,null!==e&&null===Ma(e)&&(i=r),r=r.sibling;r=i;null===r?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null);uu(t,!1,i,r,o);break;case"backwards":r=null;i=t.child;for(t.child=null;null!==i;){e=i.alternate;if(null!==e&&null===Ma(e)){t.child=i;break}e=i.sibling;i.sibling=r;r=i;i=e}uu(t,!0,r,null,o);break;case"together":uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lu(e,t){0===(t.mode&1)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fu(e,t,r){null!==e&&(t.dependencies=e.dependencies);uc|=t.lanes;if(0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){e=t.child;r=cl(e,e.pendingProps);t.child=r;for(r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=cl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function du(e,t,r){switch(t.tag){case 3:Qs(t);jo();break;case 5:ka(t);break;case 1:eo(t.type)&&io(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;qi(Ho,n._currentValue);n._currentValue=i;break;case 13:n=t.memoizedState;if(null!==n){if(null!==n.dehydrated)return qi(Pa,Pa.current&1),t.flags|=128,null;if(0!==(r&t.child.childLanes))return nu(e,t,r);qi(Pa,Pa.current&1);e=fu(e,t,r);return null!==e?e.sibling:null}qi(Pa,Pa.current&1);break;case 19:n=0!==(r&t.childLanes);if(0!==(e.flags&128)){if(n)return cu(e,t,r);t.flags|=128}i=t.memoizedState;null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null);qi(Pa,Pa.current);if(n)break;else return null;case 22:case 23:return t.lanes=0,qs(e,t,r)}return fu(e,t,r)}var hu,pu,vu,gu;hu=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r;r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return;r=r.sibling}};pu=function(){};vu=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode;Aa(wa.current);var o=null;switch(r){case"input":i=Q(e,i);n=Q(e,n);o=[];break;case"select":i=B({},i,{value:void 0});n=B({},n,{value:void 0});o=[];break;case"textarea":i=se(e,i);n=se(e,n);o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Ei)}Ee(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var c=n[l];u=null!=i?i[l]:void 0;if(n.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(l,r)),r=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&si("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}r&&(o=o||[]).push("style",r);var l=o;if(t.updateQueue=l)t.flags|=4}};gu=function(e,t,r,n){r!==n&&(t.flags|=4)};function mu(e,t){if(!Io)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function yu(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;e.subtreeFlags|=n;e.childLanes=r;return t}function _u(e,t,r){var n=t.pendingProps;Co(t);switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yu(t),null;case 1:return eo(t.type)&&to(),yu(t),null;case 3:n=t.stateNode;Ia();Ki(Zi);Ki(Ji);La();n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null);if(null===e||null===e.child)Do(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(t.flags&256)||(t.flags|=1024,null!==ko&&(Mc(ko),ko=null));pu(e,t);yu(t);return null;case 5:Oa(t);var i=Aa(Ca.current);r=t.type;if(null!==e&&null!=t.stateNode)vu(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(o(166));yu(t);return null}e=Aa(wa.current);if(Do(t)){n=t.stateNode;r=t.type;var a=t.memoizedProps;n[Li]=t;n[Di]=a;e=0!==(t.mode&1);switch(r){case"dialog":si("cancel",n);si("close",n);break;case"iframe":case"object":case"embed":si("load",n);break;case"video":case"audio":for(i=0;i<ni.length;i++)si(ni[i],n);break;case"source":si("error",n);break;case"img":case"image":case"link":si("error",n);si("load",n);break;case"details":si("toggle",n);break;case"input":ee(n,a);si("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple};si("invalid",n);break;case"textarea":ue(n,a),si("invalid",n)}Ee(r,a);i=null;for(var u in a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?n.textContent!==c&&(!0!==a.suppressHydrationWarning&&bi(n.textContent,c,e),i=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&bi(n.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&si("scroll",n)}switch(r){case"input":J(n);ne(n,a,!0);break;case"textarea":J(n);le(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=Ei)}n=i;t.updateQueue=n;null!==n&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument;"http://www.w3.org/1999/xhtml"===e&&(e=fe(r));"http://www.w3.org/1999/xhtml"===e?"script"===r?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),"select"===r&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r);e[Li]=t;e[Di]=n;hu(e,t,!1,!1);t.stateNode=e;e:{u=Se(r,n);switch(r){case"dialog":si("cancel",e);si("close",e);i=n;break;case"iframe":case"object":case"embed":si("load",e);i=n;break;case"video":case"audio":for(i=0;i<ni.length;i++)si(ni[i],e);i=n;break;case"source":si("error",e);i=n;break;case"img":case"image":case"link":si("error",e);si("load",e);i=n;break;case"details":si("toggle",e);i=n;break;case"input":ee(e,n);i=Q(e,n);si("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple};i=B({},n,{value:void 0});si("invalid",e);break;case"textarea":ue(e,n);i=se(e,n);si("invalid",e);break;default:i=n}Ee(r,i);c=i;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?_e(e,l):"dangerouslySetInnerHTML"===a?(l=l?l.__html:void 0,null!=l&&pe(e,l)):"children"===a?"string"===typeof l?("textarea"!==r||""!==l)&&ve(e,l):"number"===typeof l&&ve(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&si("scroll",e):null!=l&&S(e,a,l,u))}switch(r){case"input":J(e);ne(e,n,!1);break;case"textarea":J(e);le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+K(n.value));break;case"select":e.multiple=!!n.multiple;a=n.value;null!=a?ae(e,!!n.multiple,a,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Ei)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}yu(t);return null;case 6:if(e&&null!=t.stateNode)gu(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));r=Aa(Ca.current);Aa(wa.current);if(Do(t)){n=t.stateNode;r=t.memoizedProps;n[Li]=t;if(a=n.nodeValue!==r)if(e=Ao,null!==e)switch(e.tag){case 3:bi(n.nodeValue,r,0!==(e.mode&1));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&bi(n.nodeValue,r,0!==(e.mode&1))}a&&(t.flags|=4)}else n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n),n[Li]=t,t.stateNode=n}yu(t);return null;case 13:Ki(Pa);n=t.memoizedState;if(null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Io&&null!==Ro&&0!==(t.mode&1)&&0===(t.flags&128))No(),jo(),t.flags|=98560,a=!1;else if(a=Do(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(o(318));a=t.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(o(317));a[Li]=t}else jo(),0===(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yu(t);a=!1}else null!==ko&&(Mc(ko),ko=null),a=!0;if(!a)return t.flags&65536?t:null}if(0!==(t.flags&128))return t.lanes=r,t;n=null!==n;n!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(t.mode&1)&&(null===e||0!==(Pa.current&1)?0===ac&&(ac=3):Vc()));null!==t.updateQueue&&(t.flags|=4);yu(t);return null;case 4:return Ia(),pu(e,t),null===e&&li(t.stateNode.containerInfo),yu(t),null;case 10:return Yo(t.type._context),yu(t),null;case 17:return eo(t.type)&&to(),yu(t),null;case 19:Ki(Pa);a=t.memoizedState;if(null===a)return yu(t),null;n=0!==(t.flags&128);u=a.rendering;if(null===u)if(n)mu(a,!1);else{if(0!==ac||null!==e&&0!==(e.flags&128))for(e=t.child;null!==e;){u=Ma(e);if(null!==u){t.flags|=128;mu(a,!1);n=u.updateQueue;null!==n&&(t.updateQueue=n,t.flags|=4);t.subtreeFlags=0;n=r;for(r=t.child;null!==r;)a=r,e=n,a.flags&=14680066,u=a.alternate,null===u?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;qi(Pa,Pa.current&1|2);return t.child}e=e.sibling}null!==a.tail&&rt()>pc&&(t.flags|=128,n=!0,mu(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ma(u),null!==e){if(t.flags|=128,n=!0,r=e.updateQueue,null!==r&&(t.updateQueue=r,t.flags|=4),mu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!Io)return yu(t),null}else 2*rt()-a.renderingStartTime>pc&&1073741824!==r&&(t.flags|=128,n=!0,mu(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(r=a.last,null!==r?r.sibling=u:t.child=u,a.last=u)}if(null!==a.tail)return t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=rt(),t.sibling=null,r=Pa.current,qi(Pa,n?r&1|2:r&1),t;yu(t);return null;case 22:case 23:return Uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(t.mode&1)?0!==(ic&1073741824)&&(yu(t),t.subtreeFlags&6&&(t.flags|=8192)):yu(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function bu(e,t){Co(t);switch(t.tag){case 1:return eo(t.type)&&to(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ia(),Ki(Zi),Ki(Ji),La(),e=t.flags,0!==(e&65536)&&0===(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Oa(t),null;case 13:Ki(Pa);e=t.memoizedState;if(null!==e&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));jo()}e=t.flags;return e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ki(Pa),null;case 4:return Ia(),null;case 10:return Yo(t.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var Eu=!1,Su=!1,wu="function"===typeof WeakSet?WeakSet:Set,Tu=null;function Cu(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(r){Xc(e,t,r)}else r.current=null}function Au(e,t,r){try{r()}catch(r){Xc(e,t,r)}}var Ru=!1;function Iu(e,t){Si=er;e=Mn();if(xn(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(e){r=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;;){d!==r||0!==i&&3!==d.nodeType||(u=s+i);d!==a||0!==n&&3!==d.nodeType||(c=s+n);3===d.nodeType&&(s+=d.nodeValue.length);if(null===(p=d.firstChild))break;h=d;d=p}for(;;){if(d===e)break t;h===r&&++l===i&&(u=s);h===a&&++f===n&&(c=s);if(null!==(p=d.nextSibling))break;d=h;h=d.parentNode}d=p}r=-1===u||-1===c?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;wi={focusedElem:e,selectionRange:r};er=!1;for(Tu=t;null!==Tu;)if(t=Tu,e=t.child,0!==(t.subtreeFlags&1028)&&null!==e)e.return=t,Tu=e;else for(;null!==Tu;){t=Tu;try{var v=t.alternate;if(0!==(t.flags&1024))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Fo(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(e){Xc(t,t.return,e)}e=t.sibling;if(null!==e){e.return=t.return;Tu=e;break}Tu=t.return}v=Ru;Ru=!1;return v}function ku(e,t,r){var n=t.updateQueue;n=null!==n?n.lastEffect:null;if(null!==n){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0;void 0!==o&&Au(t,r,o)}i=i.next}while(i!==n)}}function Ou(e,t){t=t.updateQueue;t=null!==t?t.lastEffect:null;if(null!==t){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pu(e){var t=e.ref;if(null!==t){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}"function"===typeof t?t(e):t.current=e}}function Mu(e){var t=e.alternate;null!==t&&(e.alternate=null,Mu(t));e.child=null;e.deletions=null;e.sibling=null;5===e.tag&&(t=e.stateNode,null!==t&&(delete t[Li],delete t[Di],delete t[ji],delete t[Ui],delete t[Bi]));e.stateNode=null;e.return=null;e.dependencies=null;e.memoizedProps=null;e.memoizedState=null;e.pendingProps=null;e.stateNode=null;e.updateQueue=null}function xu(e){return 5===e.tag||3===e.tag||4===e.tag}function Lu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xu(e.return))return null;e=e.return}e.sibling.return=e.return;for(e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(e.flags&2)continue e;if(null===e.child||4===e.tag)continue e;else e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Du(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==t.onclick||(t.onclick=Ei));else if(4!==n&&(e=e.child,null!==e))for(Du(e,t,r),e=e.sibling;null!==e;)Du(e,t,r),e=e.sibling}function Nu(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(e=e.child,null!==e))for(Nu(e,t,r),e=e.sibling;null!==e;)Nu(e,t,r),e=e.sibling}var ju=null,Uu=!1;function Bu(e,t,r){for(r=r.child;null!==r;)Fu(e,t,r),r=r.sibling}function Fu(e,t,r){if(lt&&"function"===typeof lt.onCommitFiberUnmount)try{lt.onCommitFiberUnmount(ct,r)}catch(e){}switch(r.tag){case 5:Su||Cu(r,t);case 6:var n=ju,i=Uu;ju=null;Bu(e,t,r);ju=n;Uu=i;null!==ju&&(Uu?(e=ju,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ju.removeChild(r.stateNode));break;case 18:null!==ju&&(Uu?(e=ju,r=r.stateNode,8===e.nodeType?Oi(e.parentNode,r):1===e.nodeType&&Oi(e,r),Xt(e)):Oi(ju,r.stateNode));break;case 4:n=ju;i=Uu;ju=r.stateNode.containerInfo;Uu=!0;Bu(e,t,r);ju=n;Uu=i;break;case 0:case 11:case 14:case 15:if(!Su&&(n=r.updateQueue,null!==n&&(n=n.lastEffect,null!==n))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag;void 0!==a&&(0!==(o&2)?Au(r,t,a):0!==(o&4)&&Au(r,t,a));i=i.next}while(i!==n)}Bu(e,t,r);break;case 1:if(!Su&&(Cu(r,t),n=r.stateNode,"function"===typeof n.componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(e){Xc(r,t,e)}Bu(e,t,r);break;case 21:Bu(e,t,r);break;case 22:r.mode&1?(Su=(n=Su)||null!==r.memoizedState,Bu(e,t,r),Su=n):Bu(e,t,r);break;default:Bu(e,t,r)}}function Hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new wu);t.forEach((function(t){var n=rl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Vu(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:ju=u.stateNode;Uu=!1;break e;case 3:ju=u.stateNode.containerInfo;Uu=!0;break e;case 4:ju=u.stateNode.containerInfo;Uu=!0;break e}u=u.return}if(null===ju)throw Error(o(160));Fu(a,s,i);ju=null;Uu=!1;var c=i.alternate;null!==c&&(c.return=null);i.return=null}catch(e){Xc(i,t,e)}}if(t.subtreeFlags&12854)for(t=t.child;null!==t;)Wu(t,e),t=t.sibling}function Wu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vu(t,e);zu(e);if(n&4){try{ku(3,e,e.return),Ou(3,e)}catch(t){Xc(e,e.return,t)}try{ku(5,e,e.return)}catch(t){Xc(e,e.return,t)}}break;case 1:Vu(t,e);zu(e);n&512&&null!==r&&Cu(r,r.return);break;case 5:Vu(t,e);zu(e);n&512&&null!==r&&Cu(r,r.return);if(e.flags&32){var i=e.stateNode;try{ve(i,"")}catch(t){Xc(e,e.return,t)}}if(n&4&&(i=e.stateNode,null!=i)){var a=e.memoizedProps,s=null!==r?r.memoizedProps:a,u=e.type,c=e.updateQueue;e.updateQueue=null;if(null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&te(i,a);Se(u,s);var l=Se(u,a);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?_e(i,d):"dangerouslySetInnerHTML"===f?pe(i,d):"children"===f?ve(i,d):S(i,f,d,l)}switch(u){case"input":re(i,a);break;case"textarea":ce(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ae(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ae(i,!!a.multiple,a.defaultValue,!0):ae(i,!!a.multiple,a.multiple?[]:"",!1))}i[Di]=a}catch(t){Xc(e,e.return,t)}}break;case 6:Vu(t,e);zu(e);if(n&4){if(null===e.stateNode)throw Error(o(162));i=e.stateNode;a=e.memoizedProps;try{i.nodeValue=a}catch(t){Xc(e,e.return,t)}}break;case 3:Vu(t,e);zu(e);if(n&4&&null!==r&&r.memoizedState.isDehydrated)try{Xt(t.containerInfo)}catch(t){Xc(e,e.return,t)}break;case 4:Vu(t,e);zu(e);break;case 13:Vu(t,e);zu(e);i=e.child;i.flags&8192&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(hc=rt()));n&4&&Hu(e);break;case 22:f=null!==r&&null!==r.memoizedState;e.mode&1?(Su=(l=Su)||f,Vu(t,e),Su=l):Vu(t,e);zu(e);if(n&8192){l=null!==e.memoizedState;if((e.stateNode.isHidden=l)&&!f&&0!==(e.mode&1))for(Tu=e,f=e.child;null!==f;){for(d=Tu=f;null!==Tu;){h=Tu;p=h.child;switch(h.tag){case 0:case 11:case 14:case 15:ku(4,h,h.return);break;case 1:Cu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){n=h;r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(e){Xc(n,r,e)}}break;case 5:Cu(h,h.return);break;case 22:if(null!==h.memoizedState){qu(d);continue}}null!==p?(p.return=h,Tu=p):qu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?(a=i.style,"function"===typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(u=d.stateNode,c=d.memoizedProps.style,s=void 0!==c&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ye("display",s))}catch(t){Xc(e,e.return,t)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(t){Xc(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d;d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null);d=d.return}f===d&&(f=null);d.sibling.return=d.return;d=d.sibling}}break;case 19:Vu(t,e);zu(e);n&4&&Hu(e);break;case 21:break;default:Vu(t,e),zu(e)}}function zu(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;null!==r;){if(xu(r)){var n=r;break e}r=r.return}throw Error(o(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ve(i,""),n.flags&=-33);var a=Lu(e);Nu(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,u=Lu(e);Du(e,u,s);break;default:throw Error(o(161))}}catch(t){Xc(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gu(e,t,r){Tu=e;Yu(e,t,r)}function Yu(e,t,r){for(var n=0!==(e.mode&1);null!==Tu;){var i=Tu,o=i.child;if(22===i.tag&&n){var a=null!==i.memoizedState||Eu;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Su;s=Eu;var c=Su;Eu=a;if((Su=u)&&!c)for(Tu=i;null!==Tu;)a=Tu,u=a.child,22===a.tag&&null!==a.memoizedState?$u(i):null!==u?(u.return=a,Tu=u):$u(i);for(;null!==o;)Tu=o,Yu(o,t,r),o=o.sibling;Tu=i;Eu=s;Su=c}Ku(e,t,r)}else 0!==(i.subtreeFlags&8772)&&null!==o?(o.return=i,Tu=o):Ku(e,t,r)}}function Ku(e){for(;null!==Tu;){var t=Tu;if(0!==(t.flags&8772)){var r=t.alternate;try{if(0!==(t.flags&8772))switch(t.tag){case 0:case 11:case 15:Su||Ou(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Su)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Fo(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ua(t,a,n);break;case 3:var s=t.updateQueue;if(null!==s){r=null;if(null!==t.child)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ua(t,s,r)}break;case 5:var u=t.stateNode;if(null===r&&t.flags&4){r=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Xt(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Su||t.flags&512&&Pu(t)}catch(e){Xc(t,t.return,e)}}if(t===e){Tu=null;break}r=t.sibling;if(null!==r){r.return=t.return;Tu=r;break}Tu=t.return}}function qu(e){for(;null!==Tu;){var t=Tu;if(t===e){Tu=null;break}var r=t.sibling;if(null!==r){r.return=t.return;Tu=r;break}Tu=t.return}}function $u(e){for(;null!==Tu;){var t=Tu;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ou(4,t)}catch(e){Xc(t,r,e)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(e){Xc(t,i,e)}}var o=t.return;try{Pu(t)}catch(e){Xc(t,o,e)}break;case 5:var a=t.return;try{Pu(t)}catch(e){Xc(t,a,e)}}}catch(e){Xc(t,t.return,e)}if(t===e){Tu=null;break}var s=t.sibling;if(null!==s){s.return=t.return;Tu=s;break}Tu=t.return}}var Ju=Math.ceil,Zu=w.ReactCurrentDispatcher,Xu=w.ReactCurrentOwner,Qu=w.ReactCurrentBatchConfig,ec=0,tc=null,rc=null,nc=0,ic=0,oc=Yi(0),ac=0,sc=null,uc=0,cc=0,lc=0,fc=null,dc=null,hc=0,pc=Infinity,vc=null,gc=!1,mc=null,yc=null,_c=!1,bc=null,Ec=0,Sc=0,wc=null,Tc=-1,Cc=0;function Ac(){return 0!==(ec&6)?rt():-1!==Tc?Tc:Tc=rt()}function Rc(e){if(0===(e.mode&1))return 1;if(0!==(ec&2)&&0!==nc)return nc&-nc;if(null!==Bo.transition)return 0===Cc&&(Cc=wt()),Cc;e=It;if(0!==e)return e;e=window.event;e=void 0===e?16:ar(e.type);return e}function Ic(e,t,r,n){if(50<Sc)throw Sc=0,wc=null,Error(o(185));Ct(e,r,n);if(0===(ec&2)||e!==tc)e===tc&&(0===(ec&2)&&(cc|=r),4===ac&&Lc(e,nc)),kc(e,n),1===r&&0===ec&&0===(t.mode&1)&&(pc=rt()+500,so&&fo())}function kc(e,t){var r=e.callbackNode;Et(e,t);var n=_t(e,e===tc?nc:0);if(0===n)null!==r&&Qe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){null!=r&&Qe(r);if(1===t)0===e.tag?lo(Dc.bind(null,e)):co(Dc.bind(null,e)),Ii((function(){0===(ec&6)&&fo()})),r=null;else{switch(kt(n)){case 1:r=it;break;case 4:r=ot;break;case 16:r=at;break;case 536870912:r=ut;break;default:r=at}r=il(r,Oc.bind(null,e))}e.callbackPriority=t;e.callbackNode=r}}function Oc(e,t){Tc=-1;Cc=0;if(0!==(ec&6))throw Error(o(327));var r=e.callbackNode;if(Jc()&&e.callbackNode!==r)return null;var n=_t(e,e===tc?nc:0);if(0===n)return null;if(0!==(n&30)||0!==(n&e.expiredLanes)||t)t=Wc(e,n);else{t=n;var i=ec;ec|=2;var a=Hc();if(tc!==e||nc!==t)vc=null,pc=rt()+500,Bc(e,t);do{try{Gc();break}catch(t){Fc(e,t)}}while(1);Go();Zu.current=a;ec=i;null!==rc?t=0:(tc=null,nc=0,t=ac)}if(0!==t){2===t&&(i=St(e),0!==i&&(n=i,t=Pc(e,i)));if(1===t)throw r=sc,Bc(e,0),Lc(e,n),kc(e,rt()),r;if(6===t)Lc(e,n);else{i=e.current.alternate;if(0===(n&30)&&!xc(i)&&(t=Wc(e,n),2===t&&(a=St(e),0!==a&&(n=a,t=Pc(e,a))),1===t))throw r=sc,Bc(e,0),Lc(e,n),kc(e,rt()),r;e.finishedWork=i;e.finishedLanes=n;switch(t){case 0:case 1:throw Error(o(345));case 2:qc(e,dc,vc);break;case 3:Lc(e,n);if((n&130023424)===n&&(t=hc+500-rt(),10<t)){if(0!==_t(e,0))break;i=e.suspendedLanes;if((i&n)!==n){Ac();e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ci(qc.bind(null,e,dc,vc),t);break}qc(e,dc,vc);break;case 4:Lc(e,n);if((n&4194240)===n)break;t=e.eventTimes;for(i=-1;0<n;){var s=31-dt(n);a=1<<s;s=t[s];s>i&&(i=s);n&=~a}n=i;n=rt()-n;n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ju(n/1960))-n;if(10<n){e.timeoutHandle=Ci(qc.bind(null,e,dc,vc),n);break}qc(e,dc,vc);break;case 5:qc(e,dc,vc);break;default:throw Error(o(329))}}}kc(e,rt());return e.callbackNode===r?Oc.bind(null,e):null}function Pc(e,t){var r=fc;e.current.memoizedState.isDehydrated&&(Bc(e,t).flags|=256);e=Wc(e,t);2!==e&&(t=dc,dc=r,null!==t&&Mc(t));return e}function Mc(e){null===dc?dc=e:dc.push.apply(dc,e)}function xc(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(null!==r&&(r=r.stores,null!==r))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Rn(o(),i))return!1}catch(e){return!1}}}r=t.child;if(t.subtreeFlags&16384&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return;t=t.sibling}}return!0}function Lc(e,t){t&=~lc;t&=~cc;e.suspendedLanes|=t;e.pingedLanes&=~t;for(e=e.expirationTimes;0<t;){var r=31-dt(t),n=1<<r;e[r]=-1;t&=~n}}function Dc(e){if(0!==(ec&6))throw Error(o(327));Jc();var t=_t(e,0);if(0===(t&1))return kc(e,rt()),null;var r=Wc(e,t);if(0!==e.tag&&2===r){var n=St(e);0!==n&&(t=n,r=Pc(e,n))}if(1===r)throw r=sc,Bc(e,0),Lc(e,t),kc(e,rt()),r;if(6===r)throw Error(o(345));e.finishedWork=e.current.alternate;e.finishedLanes=t;qc(e,dc,vc);kc(e,rt());return null}function Nc(e,t){var r=ec;ec|=1;try{return e(t)}finally{ec=r,0===ec&&(pc=rt()+500,so&&fo())}}function jc(e){null!==bc&&0===bc.tag&&0===(ec&6)&&Jc();var t=ec;ec|=1;var r=Qu.transition,n=It;try{if(Qu.transition=null,It=1,e)return e()}finally{It=n,Qu.transition=r,ec=t,0===(ec&6)&&fo()}}function Uc(){ic=oc.current;Ki(oc)}function Bc(e,t){e.finishedWork=null;e.finishedLanes=0;var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,Ai(r));if(null!==rc)for(r=rc.return;null!==r;){var n=r;Co(n);switch(n.tag){case 1:n=n.type.childContextTypes;null!==n&&void 0!==n&&to();break;case 3:Ia();Ki(Zi);Ki(Ji);La();break;case 5:Oa(n);break;case 4:Ia();break;case 13:Ki(Pa);break;case 19:Ki(Pa);break;case 10:Yo(n.type._context);break;case 22:case 23:Uc()}r=r.return}tc=e;rc=e=cl(e.current,null);nc=ic=t;ac=0;sc=null;lc=cc=uc=0;dc=fc=null;if(null!==Jo){for(t=0;t<Jo.length;t++)if(r=Jo[t],n=r.interleaved,null!==n){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var a=o.next;o.next=i;n.next=a}r.pending=n}Jo=null}return e}function Fc(e,t){do{var r=rc;try{Go();Da.current=ks;if(Ha){for(var n=Ua.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null);n=n.next}Ha=!1}ja=0;Fa=Ba=Ua=null;Va=!1;Wa=0;Xu.current=null;if(null===r||null===r.return){ac=1;sc=t;rc=null;break}e:{var a=e,s=r.return,u=r,c=t;t=nc;u.flags|=32768;if(null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(f.mode&1)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Fs(s);if(null!==p){p.flags&=-257;Hs(p,s,u,a,t);p.mode&1&&Bs(a,l,t);t=p;c=l;var v=t.updateQueue;if(null===v){var g=new Set;g.add(c);t.updateQueue=g}else v.add(c);break e}else{if(0===(t&1)){Bs(a,l,t);Vc();break e}c=Error(o(426))}}else if(Io&&u.mode&1){var m=Fs(s);if(null!==m){0===(m.flags&65536)&&(m.flags|=256);Hs(m,s,u,a,t);Uo(xs(c,u));break e}}a=c=xs(c,u);4!==ac&&(ac=2);null===fc?fc=[a]:fc.push(a);a=s;do{switch(a.tag){case 3:a.flags|=65536;t&=-t;a.lanes|=t;var y=js(a,c,t);aa(a,y);break e;case 1:u=c;var _=a.type,b=a.stateNode;if(0===(a.flags&128)&&("function"===typeof _.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===yc||!yc.has(b)))){a.flags|=65536;t&=-t;a.lanes|=t;var E=Us(a,u,t);aa(a,E);break e}}a=a.return}while(null!==a)}Kc(r)}catch(e){t=e;rc===r&&null!==r&&(rc=r=r.return);continue}break}while(1)}function Hc(){var e=Zu.current;Zu.current=ks;return null===e?ks:e}function Vc(){if(0===ac||3===ac||2===ac)ac=4;null===tc||0===(uc&268435455)&&0===(cc&268435455)||Lc(tc,nc)}function Wc(e,t){var r=ec;ec|=2;var n=Hc();if(tc!==e||nc!==t)vc=null,Bc(e,t);do{try{zc();break}catch(t){Fc(e,t)}}while(1);Go();ec=r;Zu.current=n;if(null!==rc)throw Error(o(261));tc=null;nc=0;return ac}function zc(){for(;null!==rc;)Yc(rc)}function Gc(){for(;null!==rc&&!et();)Yc(rc)}function Yc(e){var t=nl(e.alternate,e,ic);e.memoizedProps=e.pendingProps;null===t?Kc(e):rc=t;Xu.current=null}function Kc(e){var t=e;do{var r=t.alternate;e=t.return;if(0===(t.flags&32768)){if(r=_u(r,t,ic),null!==r){rc=r;return}}else{r=bu(r,t);if(null!==r){r.flags&=32767;rc=r;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ac=6;rc=null;return}}t=t.sibling;if(null!==t){rc=t;return}rc=t=e}while(null!==t);0===ac&&(ac=5)}function qc(e,t,r){var n=It,i=Qu.transition;try{Qu.transition=null,It=1,$c(e,t,r,n)}finally{Qu.transition=i,It=n}return null}function $c(e,t,r,n){do{Jc()}while(null!==bc);if(0!==(ec&6))throw Error(o(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;e.finishedWork=null;e.finishedLanes=0;if(r===e.current)throw Error(o(177));e.callbackNode=null;e.callbackPriority=0;var a=r.lanes|r.childLanes;At(e,a);e===tc&&(rc=tc=null,nc=0);0===(r.subtreeFlags&2064)&&0===(r.flags&2064)||_c||(_c=!0,il(at,(function(){Jc();return null})));a=0!==(r.flags&15990);if(0!==(r.subtreeFlags&15990)||a){a=Qu.transition;Qu.transition=null;var s=It;It=1;var u=ec;ec|=4;Xu.current=null;Iu(e,r);Wu(r,e);Ln(wi);er=!!Si;wi=Si=null;e.current=r;Gu(r,e,i);tt();ec=u;It=s;Qu.transition=a}else e.current=r;_c&&(_c=!1,bc=e,Ec=i);a=e.pendingLanes;0===a&&(yc=null);ft(r.stateNode,n);kc(e,rt());if(null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(gc)throw gc=!1,e=mc,mc=null,e;0!==(Ec&1)&&0!==e.tag&&Jc();a=e.pendingLanes;0!==(a&1)?e===wc?Sc++:(Sc=0,wc=e):Sc=0;fo();return null}function Jc(){if(null!==bc){var e=kt(Ec),t=Qu.transition,r=It;try{Qu.transition=null;It=16>e?16:e;if(null===bc)var n=!1;else{e=bc;bc=null;Ec=0;if(0!==(ec&6))throw Error(o(331));var i=ec;ec|=4;for(Tu=e.current;null!==Tu;){var a=Tu,s=a.child;if(0!==(Tu.flags&16)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Tu=l;null!==Tu;){var f=Tu;switch(f.tag){case 0:case 11:case 15:ku(8,f,a)}var d=f.child;if(null!==d)d.return=f,Tu=d;else for(;null!==Tu;){f=Tu;var h=f.sibling,p=f.return;Mu(f);if(f===l){Tu=null;break}if(null!==h){h.return=p;Tu=h;break}Tu=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null;g=m}while(null!==g)}}Tu=a}}if(0!==(a.subtreeFlags&2064)&&null!==s)s.return=a,Tu=s;else e:for(;null!==Tu;){a=Tu;if(0!==(a.flags&2048))switch(a.tag){case 0:case 11:case 15:ku(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return;Tu=y;break e}Tu=a.return}}var _=e.current;for(Tu=_;null!==Tu;){s=Tu;var b=s.child;if(0!==(s.subtreeFlags&2064)&&null!==b)b.return=s,Tu=b;else e:for(s=_;null!==Tu;){u=Tu;if(0!==(u.flags&2048))try{switch(u.tag){case 0:case 11:case 15:Ou(9,u)}}catch(e){Xc(u,u.return,e)}if(u===s){Tu=null;break e}var E=u.sibling;if(null!==E){E.return=u.return;Tu=E;break e}Tu=u.return}}ec=i;fo();if(lt&&"function"===typeof lt.onPostCommitFiberRoot)try{lt.onPostCommitFiberRoot(ct,e)}catch(e){}n=!0}return n}finally{It=r,Qu.transition=t}}return!1}function Zc(e,t,r){t=xs(r,t);t=js(e,t,1);e=ia(e,t,1);t=Ac();null!==e&&(Ct(e,1,t),kc(e,t))}function Xc(e,t,r){if(3===e.tag)Zc(e,e,r);else for(;null!==t;){if(3===t.tag){Zc(t,e,r);break}else if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===yc||!yc.has(n))){e=xs(r,e);e=Us(t,e,1);t=ia(t,e,1);e=Ac();null!==t&&(Ct(t,1,e),kc(t,e));break}}t=t.return}}function Qc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t);t=Ac();e.pingedLanes|=e.suspendedLanes&r;tc===e&&(nc&r)===r&&(4===ac||3===ac&&(nc&130023424)===nc&&500>rt()-hc?Bc(e,0):lc|=r);kc(e,t)}function el(e,t){0===t&&(0===(e.mode&1)?t=1:(t=mt,mt<<=1,0===(mt&130023424)&&(mt=4194304)));var r=Ac();e=Qo(e,t);null!==e&&(Ct(e,t,r),kc(e,r))}function tl(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane);el(e,r)}function rl(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode;var i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(t);el(e,r)}var nl;nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Zi.current)Ws=!0;else{if(0===(e.lanes&r)&&0===(t.flags&128))return Ws=!1,du(e,t,r);Ws=0!==(e.flags&131072)?!0:!1}else Ws=!1,Io&&0!==(t.flags&1048576)&&wo(t,go,t.index);t.lanes=0;switch(t.tag){case 2:var n=t.type;lu(e,t);e=t.pendingProps;var i=Qi(t,Ji.current);qo(t,r);i=Ka(null,t,n,e,i,r);var a=qa();t.flags|=1;"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,eo(n)?(a=!0,io(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ta(t),i.updater=fa,t.stateNode=i,i._reactInternals=t,va(t,n,e,r),t=Xs(null,t,n,!0,a,r)):(t.tag=0,Io&&a&&To(t),zs(null,t,i,r),t=t.child);return t;case 16:n=t.elementType;e:{lu(e,t);e=t.pendingProps;i=n._init;n=i(n._payload);t.type=n;i=t.tag=ul(n);e=Fo(n,e);switch(i){case 0:t=Js(null,t,n,e,r);break e;case 1:t=Zs(null,t,n,e,r);break e;case 11:t=Gs(null,t,n,e,r);break e;case 14:t=Ys(null,t,n,Fo(n.type,e),r);break e}throw Error(o(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fo(n,i),Js(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fo(n,i),Zs(e,t,n,i,r);case 3:e:{Qs(t);if(null===e)throw Error(o(387));n=t.pendingProps;a=t.memoizedState;i=a.element;ra(e,t);sa(t,n,null,r);var s=t.memoizedState;n=s.element;if(a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=xs(Error(o(423)),t);t=eu(e,t,n,r,i);break e}else if(n!==i){i=xs(Error(o(424)),t);t=eu(e,t,n,r,i);break e}else for(Ro=Pi(t.stateNode.containerInfo.firstChild),Ao=t,Io=!0,ko=null,r=Ea(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{jo();if(n===i){t=fu(e,t,r);break e}zs(e,t,n,r)}t=t.child}return t;case 5:return ka(t),null===e&&xo(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Ti(n,i)?s=null:null!==a&&Ti(n,a)&&(t.flags|=32),$s(e,t),zs(e,t,s,r),t.child;case 6:return null===e&&xo(t),null;case 13:return nu(e,t,r);case 4:return Ra(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ba(t,null,n,r):zs(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fo(n,i),Gs(e,t,n,i,r);case 7:return zs(e,t,t.pendingProps,r),t.child;case 8:return zs(e,t,t.pendingProps.children,r),t.child;case 12:return zs(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context;i=t.pendingProps;a=t.memoizedProps;s=i.value;qi(Ho,n._currentValue);n._currentValue=s;if(null!==a)if(Rn(a.value,s)){if(a.children===i.children&&!Zi.current){t=fu(e,t,r);break e}}else for(a=t.child,null!==a&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===n){if(1===a.tag){c=na(-1,r&-r);c.tag=2;var l=a.updateQueue;if(null!==l){l=l.shared;var f=l.pending;null===f?c.next=c:(c.next=f.next,f.next=c);l.pending=c}}a.lanes|=r;c=a.alternate;null!==c&&(c.lanes|=r);Ko(a.return,r,t);u.lanes|=r;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){s=a.return;if(null===s)throw Error(o(341));s.lanes|=r;u=s.alternate;null!==u&&(u.lanes|=r);Ko(s,r,t);s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}a=s.sibling;if(null!==a){a.return=s.return;s=a;break}s=s.return}a=s}zs(e,t,i.children,r);t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,qo(t,r),i=$o(i),n=n(i),t.flags|=1,zs(e,t,n,r),t.child;case 14:return n=t.type,i=Fo(n,t.pendingProps),i=Fo(n.type,i),Ys(e,t,n,i,r);case 15:return Ks(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fo(n,i),lu(e,t),t.tag=1,eo(n)?(e=!0,io(t)):e=!1,qo(t,r),ha(t,n,i),va(t,n,i,r),Xs(null,t,n,!0,e,r);case 19:return cu(e,t,r);case 22:return qs(e,t,r)}throw Error(o(156,t.tag))};function il(e,t){return Xe(e,t)}function ol(e,t,r,n){this.tag=e;this.key=r;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=t;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=n;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function al(e,t,r,n){return new ol(e,t,r,n)}function sl(e){e=e.prototype;return!(!e||!e.isReactComponent)}function ul(e){if("function"===typeof e)return sl(e)?1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===P)return 11;if(e===L)return 14}return 2}function cl(e,t){var r=e.alternate;null===r?(r=al(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null);r.flags=e.flags&14680064;r.childLanes=e.childLanes;r.lanes=e.lanes;r.child=e.child;r.memoizedProps=e.memoizedProps;r.memoizedState=e.memoizedState;r.updateQueue=e.updateQueue;t=e.dependencies;r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext};r.sibling=e.sibling;r.index=e.index;r.ref=e.ref;return r}function ll(e,t,r,n,i,a){var s=2;n=e;if("function"===typeof e)sl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case A:return fl(r.children,i,a,t);case R:s=8;i|=8;break;case I:return e=al(12,r,t,i|2),e.elementType=I,e.lanes=a,e;case M:return e=al(13,r,t,i),e.elementType=M,e.lanes=a,e;case x:return e=al(19,r,t,i),e.elementType=x,e.lanes=a,e;case N:return dl(r,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case O:s=9;break e;case P:s=11;break e;case L:s=14;break e;case D:s=16;n=null;break e}throw Error(o(130,null==e?e:typeof e,""))}t=al(s,r,t,i);t.elementType=e;t.type=n;t.lanes=a;return t}function fl(e,t,r,n){e=al(7,e,n,t);e.lanes=r;return e}function dl(e,t,r,n){e=al(22,e,n,t);e.elementType=N;e.lanes=r;e.stateNode={isHidden:!1};return e}function hl(e,t,r){e=al(6,e,null,t);e.lanes=r;return e}function pl(e,t,r){t=al(4,null!==e.children?e.children:[],e.key,t);t.lanes=r;t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return t}function vl(e,t,r,n,i){this.tag=t;this.containerInfo=e;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=Tt(0);this.expirationTimes=Tt(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Tt(0);this.identifierPrefix=n;this.onRecoverableError=i;this.mutableSourceEagerHydrationData=null}function gl(e,t,r,n,i,o,a,s,u){e=new vl(e,t,r,s,u);1===t?(t=1,!0===o&&(t|=8)):t=0;o=al(3,null,null,t);e.current=o;o.stateNode=e;o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null};ta(o);return e}function ml(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function yl(e){if(!e)return $i;e=e._reactInternals;e:{if(Ye(e)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(eo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var r=e.type;if(eo(r))return no(e,r,t)}return t}function _l(e,t,r,n,i,o,a,s,u){e=gl(r,n,!0,e,i,o,a,s,u);e.context=yl(null);r=e.current;n=Ac();i=Rc(r);o=na(n,i);o.callback=void 0!==t&&null!==t?t:null;ia(r,o,i);e.current.lanes=i;Ct(e,i,n);kc(e,n);return e}function bl(e,t,r,n){var i=t.current,o=Ac(),a=Rc(i);r=yl(r);null===t.context?t.context=r:t.pendingContext=r;t=na(o,a);t.payload={element:e};n=void 0===n?null:n;null!==n&&(t.callback=n);e=ia(i,t,a);null!==e&&(Ic(e,i,a,o),oa(e,i,a));return a}function El(e){e=e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sl(e,t){e=e.memoizedState;if(null!==e&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function wl(e,t){Sl(e,t);(e=e.alternate)&&Sl(e,t)}function Tl(){return null}var Cl="function"===typeof reportError?reportError:function(e){console.error(e)};function Al(e){this._internalRoot=e}Rl.prototype.render=Al.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));bl(e,t,null,null)};Rl.prototype.unmount=Al.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;jc((function(){bl(null,e,null,null)}));t[Ni]=null}};function Rl(e){this._internalRoot=e}Rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vt.length&&0!==t&&t<Vt[r].priority;r++);Vt.splice(r,0,e);0===r&&Kt(e)}};function Il(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ol(){}function Pl(e,t,r,n,i){if(i){if("function"===typeof n){var o=n;n=function(){var e=El(a);o.call(e)}}var a=_l(t,n,e,0,null,!1,!1,"",Ol);e._reactRootContainer=a;e[Ni]=a.current;li(8===e.nodeType?e.parentNode:e);jc();return a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var s=n;n=function(){var e=El(u);s.call(e)}}var u=gl(e,0,!1,null,null,!1,!1,"",Ol);e._reactRootContainer=u;e[Ni]=u.current;li(8===e.nodeType?e.parentNode:e);jc((function(){bl(t,u,r,n)}));return u}function Ml(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=El(a);s.call(e)}}bl(t,a,e,i)}else a=Pl(r,t,e,i,n);return El(a)}Ot=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yt(t.pendingLanes);0!==r&&(Rt(t,r|1),kc(t,rt()),0===(ec&6)&&(pc=rt()+500,fo()))}break;case 13:jc((function(){var t=Qo(e,1);if(null!==t){var r=Ac();Ic(t,e,1,r)}})),wl(e,1)}};Pt=function(e){if(13===e.tag){var t=Qo(e,134217728);if(null!==t){var r=Ac();Ic(t,e,134217728,r)}wl(e,134217728)}};Mt=function(e){if(13===e.tag){var t=Rc(e),r=Qo(e,t);if(null!==r){var n=Ac();Ic(r,e,t,n)}wl(e,t)}};xt=function(){return It};Lt=function(e,t){var r=It;try{return It=e,t()}finally{It=r}};Ce=function(e,t,r){switch(t){case"input":re(e,r);t=r.name;if("radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]');for(t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Wi(n);if(!i)throw Error(o(90));Z(n);re(n,i)}}}break;case"textarea":ce(e,r);break;case"select":t=r.value,null!=t&&ae(e,!!r.multiple,t,!1)}};Pe=Nc;Me=jc;var xl={usingClientEntryPoint:!1,Events:[Hi,Vi,Wi,ke,Oe,Nc]},Ll={findFiberByHostInstance:Fi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"};var Dl={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){e=Je(e);return null===e?null:e.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||Tl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{ct=Nl.inject(Dl),lt=Nl}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xl;t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Il(t))throw Error(o(200));return ml(e,t,null,r)};t.createRoot=function(e,t){if(!Il(e))throw Error(o(299));var r=!1,n="",i=Cl;null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError));t=gl(e,1,!1,null,null,r,!1,n,i);e[Ni]=t.current;li(8===e.nodeType?e.parentNode:e);return new Al(t)};t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));e=Object.keys(e).join(",");throw Error(o(268,e))}e=Je(t);e=null===e?null:e.stateNode;return e};t.flushSync=function(e){return jc(e)};t.hydrate=function(e,t,r){if(!kl(t))throw Error(o(200));return Ml(null,e,t,!0,r)};t.hydrateRoot=function(e,t,r){if(!Il(e))throw Error(o(405));var n=null!=r&&r.hydratedSources||null,i=!1,a="",s=Cl;null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError));t=_l(t,null,e,1,null!=r?r:null,i,!1,a,s);e[Ni]=t.current;li(e);if(n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Rl(t)};t.render=function(e,t,r){if(!kl(t))throw Error(o(200));return Ml(null,e,t,!1,r)};t.unmountComponentAtNode=function(e){if(!kl(e))throw Error(o(40));return e._reactRootContainer?(jc((function(){Ml(null,null,e,!1,(function(){e._reactRootContainer=null;e[Ni]=null}))})),!0):!1};t.unstable_batchedUpdates=Nc;t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kl(r))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Ml(e,t,r,!1,n)};t.version="18.2.0-next-9e3b772b8-20220608"},20745:(e,t,r)=>{var n=r(73935);if(true){t.createRoot=n.createRoot;t.hydrateRoot=n.hydrateRoot}else{var i}},73935:(e,t,r)=>{function n(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function"){return}if(false){}try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}if(true){n();e.exports=r(64448)}else{}},69921:(e,t)=>{var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type,e){case l:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof,e){case c:case d:case g:case v:case u:return e;default:return t}}case i:return t}}}function S(e){return E(e)===f}t.AsyncMode=l;t.ConcurrentMode=f;t.ContextConsumer=c;t.ContextProvider=u;t.Element=n;t.ForwardRef=d;t.Fragment=o;t.Lazy=g;t.Memo=v;t.Portal=i;t.Profiler=s;t.StrictMode=a;t.Suspense=h;t.isAsyncMode=function(e){return S(e)||E(e)===l};t.isConcurrentMode=S;t.isContextConsumer=function(e){return E(e)===c};t.isContextProvider=function(e){return E(e)===u};t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n};t.isForwardRef=function(e){return E(e)===d};t.isFragment=function(e){return E(e)===o};t.isLazy=function(e){return E(e)===g};t.isMemo=function(e){return E(e)===v};t.isPortal=function(e){return E(e)===i};t.isProfiler=function(e){return E(e)===s};t.isStrictMode=function(e){return E(e)===a};t.isSuspense=function(e){return E(e)===h};t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===m)};t.typeOf=E},59864:(e,t,r)=>{if(true){e.exports=r(69921)}else{}},86706:(e,t,r)=>{r.r(t);r.d(t,{Provider:()=>le,ReactReduxContext:()=>p,batch:()=>o.unstable_batchedUpdates,connect:()=>ue,createDispatchHook:()=>he,createSelectorHook:()=>S,createStoreHook:()=>fe,shallowEqual:()=>q,useDispatch:()=>pe,useSelector:()=>w,useStore:()=>de});var n=r(61688);var i=r(52798);var o=r(73935);function a(e){e()}let s=a;const u=e=>s=e;const c=()=>s;var l=r(67294);const f=Symbol.for(`react-redux-context`);const d=typeof globalThis!=="undefined"?globalThis:{};function h(){var e;if(!l.createContext)return{};const t=(e=d[f])!=null?e:d[f]=new Map;let r=t.get(l.createContext);if(!r){r=l.createContext(null);if(false){}t.set(l.createContext,r)}return r}const p=h();const v=null&&p;function g(e=p){return function t(){const r=(0,l.useContext)(e);if(false){}return r}}const m=g();const y=()=>{throw new Error("uSES not initialized!")};let _=y;const b=e=>{_=e};const E=(e,t)=>e===t;function S(e=p){const t=e===p?m:g(e);return function e(r,n={}){const{equalityFn:i=E,stabilityCheck:o=undefined,noopCheck:a=undefined}=typeof n==="function"?{equalityFn:n}:n;if(false){}const{store:s,subscription:u,getServerState:c,stabilityCheck:f,noopCheck:d}=t();const h=(0,l.useRef)(true);const p=(0,l.useCallback)({[r.name](e){const t=r(e);if(false){}return t}}[r.name],[r,f,o]);const v=_(u.addNestedSub,s.getState,c||s.getState,p,i);(0,l.useDebugValue)(v);return v}}const w=S();var T=r(87462);var C=r(63366);var A=r(8679);var R=r.n(A);var I=r(72973);const k=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function O(e,t,r,n,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:a}){let s=false;let u;let c;let l;let f;let d;function h(i,o){u=i;c=o;l=e(u,c);f=t(n,c);d=r(l,f,c);s=true;return d}function p(){l=e(u,c);if(t.dependsOnOwnProps)f=t(n,c);d=r(l,f,c);return d}function v(){if(e.dependsOnOwnProps)l=e(u,c);if(t.dependsOnOwnProps)f=t(n,c);d=r(l,f,c);return d}function g(){const t=e(u,c);const n=!a(t,l);l=t;if(n)d=r(l,f,c);return d}function m(e,t){const r=!o(t,c);const n=!i(e,u,t,c);u=e;c=t;if(r&&n)return p();if(r)return v();if(n)return g();return d}return function e(t,r){return s?m(t,r):h(t,r)}}function P(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:i}=t,o=(0,C.Z)(t,k);const a=r(e,o);const s=n(e,o);const u=i(e,o);if(false){}return O(a,s,u,e,o)}function M(e,t){const r={};for(const n in e){const i=e[n];if(typeof i==="function"){r[n]=(...e)=>t(i(...e))}}return r}function x(e){return function t(r){const n=e(r);function i(){return n}i.dependsOnOwnProps=false;return i}}function L(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):e.length!==1}function D(e,t){return function t(r,{displayName:n}){const i=function e(t,r){return i.dependsOnOwnProps?i.mapToProps(t,r):i.mapToProps(t,undefined)};i.dependsOnOwnProps=true;i.mapToProps=function t(r,n){i.mapToProps=e;i.dependsOnOwnProps=L(e);let o=i(r,n);if(typeof o==="function"){i.mapToProps=o;i.dependsOnOwnProps=L(o);o=i(r,n)}if(false){}return o};return i}}function N(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function j(e){return e&&typeof e==="object"?x((t=>M(e,t))):!e?x((e=>({dispatch:e}))):typeof e==="function"?D(e,"mapDispatchToProps"):N(e,"mapDispatchToProps")}function U(e){return!e?x((()=>({}))):typeof e==="function"?D(e,"mapStateToProps"):N(e,"mapStateToProps")}function B(e,t,r){return(0,T.Z)({},r,e,t)}function F(e){return function t(r,{displayName:n,areMergedPropsEqual:i}){let o=false;let a;return function t(r,n,s){const u=e(r,n,s);if(o){if(!i(u,a))a=u}else{o=true;a=u;if(false){}}return a}}}function H(e){return!e?()=>B:typeof e==="function"?F(e):N(e,"mergeProps")}function V(){const e=c();let t=null;let r=null;return{clear(){t=null;r=null},notify(){e((()=>{let e=t;while(e){e.callback();e=e.next}}))},get(){let e=[];let r=t;while(r){e.push(r);r=r.next}return e},subscribe(e){let n=true;let i=r={callback:e,next:null,prev:r};if(i.prev){i.prev.next=i}else{t=i}return function e(){if(!n||t===null)return;n=false;if(i.next){i.next.prev=i.prev}else{r=i.prev}if(i.prev){i.prev.next=i.next}else{t=i.next}}}}}const W={notify(){},get:()=>[]};function z(e,t){let r;let n=W;let i=0;let o=false;function a(e){l();const t=n.subscribe(e);let r=false;return()=>{if(!r){r=true;t();f()}}}function s(){n.notify()}function u(){if(p.onStateChange){p.onStateChange()}}function c(){return o}function l(){i++;if(!r){r=t?t.addNestedSub(u):e.subscribe(u);n=V()}}function f(){i--;if(r&&i===0){r();r=undefined;n.clear();n=W}}function d(){if(!o){o=true;l()}}function h(){if(o){o=false;f()}}const p={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:u,isSubscribed:c,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>n};return p}const G=!!(typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined");const Y=G?l.useLayoutEffect:l.useEffect;function K(e,t){if(e===t){return e!==0||t!==0||1/e===1/t}else{return e!==e&&t!==t}}function q(e,t){if(K(e,t))return true;if(typeof e!=="object"||e===null||typeof t!=="object"||t===null){return false}const r=Object.keys(e);const n=Object.keys(t);if(r.length!==n.length)return false;for(let n=0;n<r.length;n++){if(!Object.prototype.hasOwnProperty.call(t,r[n])||!K(e[r[n]],t[r[n]])){return false}}return true}const $=["reactReduxForwardedRef"];let J=y;const Z=e=>{J=e};const X=null&&[null,0];const Q=[null,null];const ee=e=>{try{return JSON.stringify(e)}catch(t){return String(e)}};function te(e,t,r){Y((()=>e(...t)),r)}function re(e,t,r,n,i,o){e.current=n;r.current=false;if(i.current){i.current=null;o()}}function ne(e,t,r,n,i,o,a,s,u,c,l){if(!e)return()=>{};let f=false;let d=null;const h=()=>{if(f||!s.current){return}const e=t.getState();let r,h;try{r=n(e,i.current)}catch(e){h=e;d=e}if(!h){d=null}if(r===o.current){if(!a.current){c()}}else{o.current=r;u.current=r;a.current=true;l()}};r.onStateChange=h;r.trySubscribe();h();const p=()=>{f=true;r.tryUnsubscribe();r.onStateChange=null;if(d){throw d}};return p}const ie=()=>X;function oe(e,t){return e===t}let ae=false;function se(e,t,r,{pure:n,areStatesEqual:i=oe,areOwnPropsEqual:o=q,areStatePropsEqual:a=q,areMergedPropsEqual:s=q,forwardRef:u=false,context:c=p}={}){if(false){}const f=c;const d=U(e);const h=j(t);const v=H(r);const g=Boolean(e);const m=e=>{if(false){}const t=e.displayName||e.name||"Component";const r=`Connect(${t})`;const n={shouldHandleStateChanges:g,displayName:r,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:d,initMapDispatchToProps:h,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:o,areMergedPropsEqual:s};function c(t){const[r,i,o]=l.useMemo((()=>{const{reactReduxForwardedRef:e}=t,r=(0,C.Z)(t,$);return[t.context,e,r]}),[t]);const a=l.useMemo((()=>r&&r.Consumer&&(0,I.isContextConsumer)(l.createElement(r.Consumer,null))?r:f),[r,f]);const s=l.useContext(a);const u=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch);const c=Boolean(s)&&Boolean(s.store);if(false){}const d=u?t.store:s.store;const h=c?s.getServerState:d.getState;const p=l.useMemo((()=>P(d.dispatch,n)),[d]);const[v,m]=l.useMemo((()=>{if(!g)return Q;const e=z(d,u?undefined:s.subscription);const t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,u,s]);const y=l.useMemo((()=>{if(u){return s}return(0,T.Z)({},s,{subscription:v})}),[u,s,v]);const _=l.useRef();const b=l.useRef(o);const E=l.useRef();const S=l.useRef(false);const w=l.useRef(false);const A=l.useRef(false);const R=l.useRef();Y((()=>{A.current=true;return()=>{A.current=false}}),[]);const k=l.useMemo((()=>{const e=()=>{if(E.current&&o===b.current){return E.current}return p(d.getState(),o)};return e}),[d,o]);const O=l.useMemo((()=>{const e=e=>{if(!v){return()=>{}}return ne(g,d,v,p,b,_,S,A,E,m,e)};return e}),[v]);te(re,[b,_,S,o,E,m]);let M;try{M=J(O,k,h?()=>p(h(),o):k)}catch(e){if(R.current){e.message+=`\nThe error may be correlated with this previous error:\n${R.current.stack}\n\n`}throw e}Y((()=>{R.current=undefined;E.current=undefined;_.current=M}));const x=l.useMemo((()=>l.createElement(e,(0,T.Z)({},M,{ref:i}))),[i,e,M]);const L=l.useMemo((()=>{if(g){return l.createElement(a.Provider,{value:y},x)}return x}),[a,x,y]);return L}const p=l.memo(c);const m=p;m.WrappedComponent=e;m.displayName=c.displayName=r;if(u){const t=l.forwardRef((function e(t,r){return l.createElement(m,(0,T.Z)({},t,{reactReduxForwardedRef:r}))}));const n=t;n.displayName=r;n.WrappedComponent=e;return R()(n,e)}return R()(m,e)};return m}const ue=se;function ce({store:e,context:t,children:r,serverState:n,stabilityCheck:i="once",noopCheck:o="once"}){const a=l.useMemo((()=>{const t=z(e);return{store:e,subscription:t,getServerState:n?()=>n:undefined,stabilityCheck:i,noopCheck:o}}),[e,n,i,o]);const s=l.useMemo((()=>e.getState()),[e]);Y((()=>{const{subscription:t}=a;t.onStateChange=t.notifyNestedSubs;t.trySubscribe();if(s!==e.getState()){t.notifyNestedSubs()}return()=>{t.tryUnsubscribe();t.onStateChange=undefined}}),[a,s]);const u=t||p;return l.createElement(u.Provider,{value:a},r)}const le=ce;function fe(e=p){const t=e===p?m:g(e);return function e(){const{store:r}=t();return r}}const de=fe();function he(e=p){const t=e===p?de:fe(e);return function e(){const r=t();return r.dispatch}}const pe=he();b(i.useSyncExternalStoreWithSelector);Z(n.useSyncExternalStore);u(o.unstable_batchedUpdates)},88359:(e,t)=>{var r;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type,e){case o:case s:case a:case d:case h:return e;default:switch(e=e&&e.$$typeof,e){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}r=c;r=u;r=n;r=f;r=o;r=v;r=p;r=i;r=s;r=a;r=d;r=h;r=function(){return!1};r=function(){return!1};t.isContextConsumer=function(e){return y(e)===c};r=function(e){return y(e)===u};r=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n};r=function(e){return y(e)===f};r=function(e){return y(e)===o};r=function(e){return y(e)===v};r=function(e){return y(e)===p};r=function(e){return y(e)===i};r=function(e){return y(e)===s};r=function(e){return y(e)===a};r=function(e){return y(e)===d};r=function(e){return y(e)===h};r=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===a||e===d||e===h||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===m||void 0!==e.getModuleId)?!0:!1};r=y},72973:(e,t,r)=>{if(true){e.exports=r(88359)}else{}},75251:(e,t,r)=>{var n=r(67294),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,o={},c=null,l=null;void 0!==r&&(c=""+r);void 0!==t.key&&(c=""+t.key);void 0!==t.ref&&(l=t.ref);for(n in t)a.call(t,n)&&!u.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o;t.jsx=c;t.jsxs=c},72408:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(e){if(null===e||"object"!==typeof e)return null;e=h&&e[h]||e["@@iterator"];return"function"===typeof e?e:null}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,r){this.props=e;this.context=t;this.refs=m;this.updater=r||v}y.prototype.isReactComponent={};y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _(){}_.prototype=y.prototype;function b(e,t,r){this.props=e;this.context=t;this.refs=m;this.updater=r||v}var E=b.prototype=new _;E.constructor=b;g(E,y.prototype);E.isPureReactComponent=!0;var S=Array.isArray,w=Object.prototype.hasOwnProperty,T={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps,u)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:T.current}}function R(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}function k(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}var O=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?k(""+e.key):t.toString(36)}function M(e,t,i,o,a){var s=typeof e;if("undefined"===s||"boolean"===s)e=null;var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0}}if(u)return u=e,a=a(u),e=""===o?"."+P(u,0):o,S(a)?(i="",null!=e&&(i=e.replace(O,"$&/")+"/"),M(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=R(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;u=0;o=""===o?".":o+":";if(S(e))for(var c=0;c<e.length;c++){s=e[c];var l=o+P(s,c);u+=M(s,t,i,l,a)}else if(l=p(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)s=s.value,l=o+P(s,c++),u+=M(s,t,i,l,a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function x(e,t,r){if(null==e)return e;var n=[],i=0;M(e,n,"","",(function(e){return t.call(r,e,i++)}));return n}function L(e){if(-1===e._status){var t=e._result;t=t();t.then((function(t){if(0===e._status||-1===e._status)e._status=1,e._result=t}),(function(t){if(0===e._status||-1===e._status)e._status=2,e._result=t}));-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},N={transition:null},j={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:N,ReactCurrentOwner:T};t.Children={map:x,forEach:function(e,t,r){x(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;x(e,(function(){t++}));return t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Component=y;t.Fragment=i;t.Profiler=a;t.PureComponent=b;t.StrictMode=o;t.Suspense=l;t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j;t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,s=T.current);void 0!==t.key&&(o=""+t.key);if(e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:r,type:e.type,key:o,ref:a,props:i,_owner:s}};t.createContext=function(e){e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};e.Provider={$$typeof:s,_context:e};return e.Consumer=e};t.createElement=A;t.createFactory=function(e){var t=A.bind(null,e);t.type=e;return t};t.createRef=function(){return{current:null}};t.forwardRef=function(e){return{$$typeof:c,render:e}};t.isValidElement=I;t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:L}};t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}};t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}};t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};t.useCallback=function(e,t){return D.current.useCallback(e,t)};t.useContext=function(e){return D.current.useContext(e)};t.useDebugValue=function(){};t.useDeferredValue=function(e){return D.current.useDeferredValue(e)};t.useEffect=function(e,t){return D.current.useEffect(e,t)};t.useId=function(){return D.current.useId()};t.useImperativeHandle=function(e,t,r){return D.current.useImperativeHandle(e,t,r)};t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)};t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)};t.useMemo=function(e,t){return D.current.useMemo(e,t)};t.useReducer=function(e,t,r){return D.current.useReducer(e,t,r)};t.useRef=function(e){return D.current.useRef(e)};t.useState=function(e){return D.current.useState(e)};t.useSyncExternalStore=function(e,t,r){return D.current.useSyncExternalStore(e,t,r)};t.useTransition=function(){return D.current.useTransition()};t.version="18.2.0"},67294:(e,t,r)=>{if(true){e.exports=r(72408)}else{}},85893:(e,t,r)=>{if(true){e.exports=r(75251)}else{}},35666:e=>{var t=function(e){"use strict";var t=Object.prototype;var r=t.hasOwnProperty;var n=Object.defineProperty||function(e,t,r){e[t]=r.value};var i;var o=typeof Symbol==="function"?Symbol:{};var a=o.iterator||"@@iterator";var s=o.asyncIterator||"@@asyncIterator";var u=o.toStringTag||"@@toStringTag";function c(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true});return e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var o=t&&t.prototype instanceof m?t:m;var a=Object.create(o.prototype);var s=new O(i||[]);n(a,"_invoke",{value:A(e,r,s)});return a}e.wrap=l;function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var d="suspendedStart";var h="suspendedYield";var p="executing";var v="completed";var g={};function m(){}function y(){}function _(){}var b={};c(b,a,(function(){return this}));var E=Object.getPrototypeOf;var S=E&&E(E(P([])));if(S&&S!==t&&r.call(S,a)){b=S}var w=_.prototype=m.prototype=Object.create(b);y.prototype=_;n(w,"constructor",{value:_,configurable:true});n(_,"constructor",{value:y,configurable:true});y.displayName=c(_,u,"GeneratorFunction");function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}e.isGeneratorFunction=function(e){var t=typeof e==="function"&&e.constructor;return t?t===y||(t.displayName||t.name)==="GeneratorFunction":false};e.mark=function(e){if(Object.setPrototypeOf){Object.setPrototypeOf(e,_)}else{e.__proto__=_;c(e,u,"GeneratorFunction")}e.prototype=Object.create(w);return e};e.awrap=function(e){return{__await:e}};function C(e,t){function i(n,o,a,s){var u=f(e[n],e,o);if(u.type==="throw"){s(u.arg)}else{var c=u.arg;var l=c.value;if(l&&typeof l==="object"&&r.call(l,"__await")){return t.resolve(l.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)}))}return t.resolve(l).then((function(e){c.value=e;a(c)}),(function(e){return i("throw",e,a,s)}))}}var o;function a(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return o=o?o.then(n,n):n()}n(this,"_invoke",{value:a})}T(C.prototype);c(C.prototype,s,(function(){return this}));e.AsyncIterator=C;e.async=function(t,r,n,i,o){if(o===void 0)o=Promise;var a=new C(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))};function A(e,t,r){var n=d;return function i(o,a){if(n===p){throw new Error("Generator is already running")}if(n===v){if(o==="throw"){throw a}return M()}r.method=o;r.arg=a;while(true){var s=r.delegate;if(s){var u=R(s,r);if(u){if(u===g)continue;return u}}if(r.method==="next"){r.sent=r._sent=r.arg}else if(r.method==="throw"){if(n===d){n=v;throw r.arg}r.dispatchException(r.arg)}else if(r.method==="return"){r.abrupt("return",r.arg)}n=p;var c=f(e,t,r);if(c.type==="normal"){n=r.done?v:h;if(c.arg===g){continue}return{value:c.arg,done:r.done}}else if(c.type==="throw"){n=v;r.method="throw";r.arg=c.arg}}}}function R(e,t){var r=t.method;var n=e.iterator[r];if(n===i){t.delegate=null;if(r==="throw"&&e.iterator["return"]){t.method="return";t.arg=i;R(e,t);if(t.method==="throw"){return g}}if(r!=="return"){t.method="throw";t.arg=new TypeError("The iterator does not provide a '"+r+"' method")}return g}var o=f(n,e.iterator,t.arg);if(o.type==="throw"){t.method="throw";t.arg=o.arg;t.delegate=null;return g}var a=o.arg;if(!a){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return g}if(a.done){t[e.resultName]=a.value;t.next=e.nextLoc;if(t.method!=="return"){t.method="next";t.arg=i}}else{return a}t.delegate=null;return g}T(w);c(w,u,"Generator");c(w,a,(function(){return this}));c(w,"toString",(function(){return"[object Generator]"}));function I(e){var t={tryLoc:e[0]};if(1 in e){t.catchLoc=e[1]}if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(I,this);this.reset(true)}e.keys=function(e){var t=Object(e);var r=[];for(var n in t){r.push(n)}r.reverse();return function e(){while(r.length){var n=r.pop();if(n in t){e.value=n;e.done=false;return e}}e.done=true;return e}};function P(e){if(e!=null){var t=e[a];if(t){return t.call(e)}if(typeof e.next==="function"){return e}if(!isNaN(e.length)){var n=-1,o=function t(){while(++n<e.length){if(r.call(e,n)){t.value=e[n];t.done=false;return t}}t.value=i;t.done=true;return t};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}e.values=P;function M(){return{value:i,done:true}}O.prototype={constructor:O,reset:function(e){this.prev=0;this.next=0;this.sent=this._sent=i;this.done=false;this.delegate=null;this.method="next";this.arg=i;this.tryEntries.forEach(k);if(!e){for(var t in this){if(t.charAt(0)==="t"&&r.call(this,t)&&!isNaN(+t.slice(1))){this[t]=i}}}},stop:function(){this.done=true;var e=this.tryEntries[0];var t=e.completion;if(t.type==="throw"){throw t.arg}return this.rval},dispatchException:function(e){if(this.done){throw e}var t=this;function n(r,n){s.type="throw";s.arg=e;t.next=r;if(n){t.method="next";t.arg=i}return!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];var s=a.completion;if(a.tryLoc==="root"){return n("end")}if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc");var c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc){return n(a.catchLoc,true)}else if(this.prev<a.finallyLoc){return n(a.finallyLoc)}}else if(u){if(this.prev<a.catchLoc){return n(a.catchLoc,true)}}else if(c){if(this.prev<a.finallyLoc){return n(a.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}if(o&&(e==="break"||e==="continue")&&o.tryLoc<=t&&t<=o.finallyLoc){o=null}var a=o?o.completion:{};a.type=e;a.arg=t;if(o){this.method="next";this.next=o.finallyLoc;return g}return this.complete(a)},complete:function(e,t){if(e.type==="throw"){throw e.arg}if(e.type==="break"||e.type==="continue"){this.next=e.arg}else if(e.type==="return"){this.rval=this.arg=e.arg;this.method="return";this.next="end"}else if(e.type==="normal"&&t){this.next=t}return g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e){this.complete(r.completion,r.afterLoc);k(r);return g}}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(n.type==="throw"){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){this.delegate={iterator:P(e),resultName:t,nextLoc:r};if(this.method==="next"){this.arg=i}return g}};return e}(true?e.exports:0);try{regeneratorRuntime=t}catch(e){if(typeof globalThis==="object"){globalThis.regeneratorRuntime=t}else{Function("r","regeneratorRuntime = r")(t)}}},60053:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(0<o(i,t))e[n]=t,e[r]=i,r=n;else break e}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,a=i>>>1;n<a;){var s=2*(n+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,r))c<i&&0>o(l,u)?(e[n]=l,e[c]=r,n=c):(e[n]=u,e[s]=r,n=s);else if(c<i&&0>o(l,r))e[n]=l,e[c]=r,n=c;else break e}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(e){for(var t=n(l);null!==t;){if(null===t.callback)i(l);else if(t.startTime<=e)i(l),t.sortIndex=t.expirationTime,r(c,t);else break;t=n(l)}}function E(e){g=!1;b(e);if(!v)if(null!==n(c))v=!0,x(S);else{var t=n(l);null!==t&&L(E,t.startTime-e)}}function S(e,r){v=!1;g&&(g=!1,y(C),C=-1);p=!0;var o=h;try{b(r);for(d=n(c);null!==d&&(!(d.expirationTime>r)||e&&!I());){var a=d.callback;if("function"===typeof a){d.callback=null;h=d.priorityLevel;var s=a(d.expirationTime<=r);r=t.unstable_now();"function"===typeof s?d.callback=s:d===n(c)&&i(c);b(r)}else i(c);d=n(c)}if(null!==d)var u=!0;else{var f=n(l);null!==f&&L(E,f.startTime-r);u=!1}return u}finally{d=null,h=o,p=!1}}var w=!1,T=null,C=-1,A=5,R=-1;function I(){return t.unstable_now()-R<A?!1:!0}function k(){if(null!==T){var e=t.unstable_now();R=e;var r=!0;try{r=T(!0,e)}finally{r?O():(w=!1,T=null)}}else w=!1}var O;if("function"===typeof _)O=function(){_(k)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=k;O=function(){M.postMessage(null)}}else O=function(){m(k,0)};function x(e){T=e;w||(w=!0,O())}function L(e,r){C=m((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5;t.unstable_ImmediatePriority=1;t.unstable_LowPriority=4;t.unstable_NormalPriority=3;t.unstable_Profiling=null;t.unstable_UserBlockingPriority=2;t.unstable_cancelCallback=function(e){e.callback=null};t.unstable_continueExecution=function(){v||p||(v=!0,x(S))};t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5};t.unstable_getCurrentPriorityLevel=function(){return h};t.unstable_getFirstCallbackNode=function(){return n(c)};t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}};t.unstable_pauseExecution=function(){};t.unstable_requestPaint=function(){};t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}};t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();"object"===typeof o&&null!==o?(o=o.delay,o="number"===typeof o&&0<o?a+o:a):o=a;switch(e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}s=o+s;e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s,sortIndex:-1};o>a?(e.sortIndex=o,r(l,e),null===n(c)&&e===n(l)&&(g?(y(C),C=-1):g=!0,L(E,o-a))):(e.sortIndex=s,r(c,e),v||p||(v=!0,x(S)));return e};t.unstable_shouldYield=I;t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},63840:(e,t,r)=>{if(true){e.exports=r(60053)}else{}},83:(e,t,r)=>{var n=r(67294);function i(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var o="function"===typeof Object.is?Object.is:i,a=n.useState,s=n.useEffect,u=n.useLayoutEffect,c=n.useDebugValue;function l(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];u((function(){i.value=r;i.getSnapshot=t;f(i)&&o({inst:i})}),[e,r,t]);s((function(){f(i)&&o({inst:i});return e((function(){f(i)&&o({inst:i})}))}),[e]);c(r);return r}function f(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}function d(e,t){return t()}var h="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?d:l;t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:h},26251:(e,t,r)=>{var n=r(67294),i=r(61688);function o(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var a="function"===typeof Object.is?Object.is:o,s=i.useSyncExternalStore,u=n.useRef,c=n.useEffect,l=n.useMemo,f=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=u(null);if(null===o.current){var d={hasValue:!1,value:null};o.current=d}else d=o.current;o=l((function(){function e(e){if(!o){o=!0;s=e;e=n(e);if(void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return u=t}return u=e}t=u;if(a(s,e))return t;var r=n(e);if(void 0!==i&&i(t,r))return s=e,t;s=e;return u=r}var o=!1,s,u,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,r,n,i]);var h=s(e,o[0],o[1]);c((function(){d.hasValue=!0;d.value=h}),[h]);f(h);return h}},61688:(e,t,r)=>{if(true){e.exports=r(83)}else{}},52798:(e,t,r)=>{if(true){e.exports=r(26251)}else{}},11949:function(e){(function(t,r){true?e.exports=r():0})(this,(function(){"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,u(n.key),n)}}function o(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e,t,r){t=u(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e){var t=s(e,"string");return typeof t==="symbol"?t:String(t)}var c={backdrop:true,button:true,navbar:true,title:true,toolbar:true,className:"",container:"body",filter:null,fullscreen:true,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:false,interval:5e3,keyboard:true,focus:true,loading:true,loop:true,minWidth:200,minHeight:100,movable:true,rotatable:true,scalable:true,zoomable:true,zoomOnTouch:true,zoomOnWheel:true,slideOnTouch:true,toggleOnDblclick:true,tooltip:true,transition:true,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null};var l='<div class="viewer-container" tabindex="-1" touch-action="none">'+'<div class="viewer-canvas"></div>'+'<div class="viewer-footer">'+'<div class="viewer-title"></div>'+'<div class="viewer-toolbar"></div>'+'<div class="viewer-navbar">'+'<ul class="viewer-list" role="navigation"></ul>'+"</div>"+"</div>"+'<div class="viewer-tooltip" role="alert" aria-hidden="true"></div>'+'<div class="viewer-button" data-viewer-action="mix" role="button"></div>'+'<div class="viewer-player"></div>'+"</div>";var f=typeof window!=="undefined"&&typeof window.document!=="undefined";var d=f?window:{};var h=f&&d.document.documentElement?"ontouchstart"in d.document.documentElement:false;var p=f?"PointerEvent"in d:false;var v="viewer";var g="move";var m="switch";var y="zoom";var _="".concat(v,"-active");var b="".concat(v,"-close");var E="".concat(v,"-fade");var S="".concat(v,"-fixed");var w="".concat(v,"-fullscreen");var T="".concat(v,"-fullscreen-exit");var C="".concat(v,"-hide");var A="".concat(v,"-hide-md-down");var R="".concat(v,"-hide-sm-down");var I="".concat(v,"-hide-xs-down");var k="".concat(v,"-in");var O="".concat(v,"-invisible");var P="".concat(v,"-loading");var M="".concat(v,"-move");var x="".concat(v,"-open");var L="".concat(v,"-show");var D="".concat(v,"-transition");var N="click";var j="dblclick";var U="dragstart";var B="focusin";var F="keydown";var H="load";var V="error";var W=h?"touchend touchcancel":"mouseup";var z=h?"touchmove":"mousemove";var G=h?"touchstart":"mousedown";var Y=p?"pointerdown":G;var K=p?"pointermove":z;var q=p?"pointerup pointercancel":W;var $="resize";var J="transitionend";var Z="wheel";var X="ready";var Q="show";var ee="shown";var te="hide";var re="hidden";var ne="view";var ie="viewed";var oe="move";var ae="moved";var se="rotate";var ue="rotated";var ce="scale";var le="scaled";var fe="zoom";var de="zoomed";var he="play";var pe="stop";var ve="".concat(v,"Action");var ge=/\s\s*/;var me=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function ye(e){return typeof e==="string"}var _e=Number.isNaN||d.isNaN;function be(e){return typeof e==="number"&&!_e(e)}function Ee(e){return typeof e==="undefined"}function Se(e){return r(e)==="object"&&e!==null}var we=Object.prototype.hasOwnProperty;function Te(e){if(!Se(e)){return false}try{var t=e.constructor;var r=t.prototype;return t&&r&&we.call(r,"isPrototypeOf")}catch(e){return false}}function Ce(e){return typeof e==="function"}function Ae(e,t){if(e&&Ce(t)){if(Array.isArray(e)||be(e.length)){var r=e.length;var n;for(n=0;n<r;n+=1){if(t.call(e,e[n],n,e)===false){break}}}else if(Se(e)){Object.keys(e).forEach((function(r){t.call(e,e[r],r,e)}))}}return e}var Re=Object.assign||function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++){n[i-1]=arguments[i]}if(Se(t)&&n.length>0){n.forEach((function(e){if(Se(e)){Object.keys(e).forEach((function(r){t[r]=e[r]}))}}))}return t};var Ie=/^(?:width|height|left|top|marginLeft|marginTop)$/;function ke(e,t){var r=e.style;Ae(t,(function(e,t){if(Ie.test(t)&&be(e)){e+="px"}r[t]=e}))}function Oe(e){return ye(e)?e.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e}function Pe(e,t){if(!e||!t){return false}return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function Me(e,t){if(!e||!t){return}if(be(e.length)){Ae(e,(function(e){Me(e,t)}));return}if(e.classList){e.classList.add(t);return}var r=e.className.trim();if(!r){e.className=t}else if(r.indexOf(t)<0){e.className="".concat(r," ").concat(t)}}function xe(e,t){if(!e||!t){return}if(be(e.length)){Ae(e,(function(e){xe(e,t)}));return}if(e.classList){e.classList.remove(t);return}if(e.className.indexOf(t)>=0){e.className=e.className.replace(t,"")}}function Le(e,t,r){if(!t){return}if(be(e.length)){Ae(e,(function(e){Le(e,t,r)}));return}if(r){Me(e,t)}else{xe(e,t)}}var De=/([a-z\d])([A-Z])/g;function Ne(e){return e.replace(De,"$1-$2").toLowerCase()}function je(e,t){if(Se(e[t])){return e[t]}if(e.dataset){return e.dataset[t]}return e.getAttribute("data-".concat(Ne(t)))}function Ue(e,t,r){if(Se(r)){e[t]=r}else if(e.dataset){e.dataset[t]=r}else{e.setAttribute("data-".concat(Ne(t)),r)}}var Be=function(){var e=false;if(f){var t=false;var r=function e(){};var n=Object.defineProperty({},"once",{get:function r(){e=true;return t},set:function e(r){t=r}});d.addEventListener("test",r,n);d.removeEventListener("test",r,n)}return e}();function Fe(e,t,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var i=r;t.trim().split(ge).forEach((function(t){if(!Be){var o=e.listeners;if(o&&o[t]&&o[t][r]){i=o[t][r];delete o[t][r];if(Object.keys(o[t]).length===0){delete o[t]}if(Object.keys(o).length===0){delete e.listeners}}}e.removeEventListener(t,i,n)}))}function He(e,t,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var i=r;t.trim().split(ge).forEach((function(t){if(n.once&&!Be){var o=e.listeners,a=o===void 0?{}:o;i=function o(){delete a[t][r];e.removeEventListener(t,i,n);for(var s=arguments.length,u=new Array(s),c=0;c<s;c++){u[c]=arguments[c]}r.apply(e,u)};if(!a[t]){a[t]={}}if(a[t][r]){e.removeEventListener(t,a[t][r],n)}a[t][r]=i;e.listeners=a}e.addEventListener(t,i,n)}))}function Ve(e,r,n,i){var o;if(Ce(Event)&&Ce(CustomEvent)){o=new CustomEvent(r,t({bubbles:true,cancelable:true,detail:n},i))}else{o=document.createEvent("CustomEvent");o.initCustomEvent(r,true,true,n)}return e.dispatchEvent(o)}function We(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}function ze(e){var t=e.rotate,r=e.scaleX,n=e.scaleY,i=e.translateX,o=e.translateY;var a=[];if(be(i)&&i!==0){a.push("translateX(".concat(i,"px)"))}if(be(o)&&o!==0){a.push("translateY(".concat(o,"px)"))}if(be(t)&&t!==0){a.push("rotate(".concat(t,"deg)"))}if(be(r)&&r!==1){a.push("scaleX(".concat(r,")"))}if(be(n)&&n!==1){a.push("scaleY(".concat(n,")"))}var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Ge(e){return ye(e)?decodeURIComponent(e.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Ye=d.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(d.navigator.userAgent);function Ke(e,t,r){var n=document.createElement("img");if(e.naturalWidth&&!Ye){r(e.naturalWidth,e.naturalHeight);return n}var i=document.body||document.documentElement;n.onload=function(){r(n.width,n.height);if(!Ye){i.removeChild(n)}};Ae(t.inheritedAttributes,(function(t){var r=e.getAttribute(t);if(r!==null){n.setAttribute(t,r)}}));n.src=e.src;if(!Ye){n.style.cssText="left:0;"+"max-height:none!important;"+"max-width:none!important;"+"min-height:0!important;"+"min-width:0!important;"+"opacity:0;"+"position:absolute;"+"top:0;"+"z-index:-1;";i.appendChild(n)}return n}function qe(e){switch(e){case 2:return I;case 3:return R;case 4:return A;default:return""}}function $e(e){var r=t({},e);var n=[];Ae(e,(function(e,t){delete r[t];Ae(r,(function(t){var r=Math.abs(e.startX-t.startX);var i=Math.abs(e.startY-t.startY);var o=Math.abs(e.endX-t.endX);var a=Math.abs(e.endY-t.endY);var s=Math.sqrt(r*r+i*i);var u=Math.sqrt(o*o+a*a);var c=(u-s)/s;n.push(c)}))}));n.sort((function(e,t){return Math.abs(e)<Math.abs(t)}));return n[0]}function Je(e,r){var n=e.pageX,i=e.pageY;var o={endX:n,endY:i};return r?o:t({timeStamp:Date.now(),startX:n,startY:i},o)}function Ze(e){var t=0;var r=0;var n=0;Ae(e,(function(e){var i=e.startX,o=e.startY;t+=i;r+=o;n+=1}));t/=n;r/=n;return{pageX:t,pageY:r}}var Xe={render:function e(){this.initContainer();this.initViewer();this.initList();this.renderViewer()},initBody:function e(){var t=this.element.ownerDocument;var r=t.body||t.documentElement;this.body=r;this.scrollbarWidth=window.innerWidth-t.documentElement.clientWidth;this.initialBodyPaddingRight=r.style.paddingRight;this.initialBodyComputedPaddingRight=window.getComputedStyle(r).paddingRight},initContainer:function e(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function e(){var t=this.options,r=this.parent;var n;if(t.inline){n={width:Math.max(r.offsetWidth,t.minWidth),height:Math.max(r.offsetHeight,t.minHeight)};this.parentData=n}if(this.fulled||!n){n=this.containerData}this.viewerData=Re({},n)},renderViewer:function e(){if(this.options.inline&&!this.fulled){ke(this.viewer,this.viewerData)}},initList:function e(){var t=this;var r=this.element,n=this.options,i=this.list;var o=[];i.innerHTML="";Ae(this.images,(function(e,r){var a=e.src;var s=e.alt||Ge(a);var u=t.getImageURL(e);if(a||u){var c=document.createElement("li");var l=document.createElement("img");Ae(n.inheritedAttributes,(function(t){var r=e.getAttribute(t);if(r!==null){l.setAttribute(t,r)}}));if(n.navbar){l.src=a||u}l.alt=s;l.setAttribute("data-original-url",u||a);c.setAttribute("data-index",r);c.setAttribute("data-viewer-action","view");c.setAttribute("role","button");if(n.keyboard){c.setAttribute("tabindex",0)}c.appendChild(l);i.appendChild(c);o.push(c)}}));this.items=o;Ae(o,(function(e){var r=e.firstElementChild;var i;var o;Ue(r,"filled",true);if(n.loading){Me(e,P)}He(r,H,i=function i(a){Fe(r,V,o);if(n.loading){xe(e,P)}t.loadImage(a)},{once:true});He(r,V,o=function t(){Fe(r,H,i);if(n.loading){xe(e,P)}},{once:true})}));if(n.transition){He(r,ie,(function(){Me(i,D)}),{once:true})}},renderList:function e(){var t=this.index;var r=this.items[t];if(!r){return}var n=r.nextElementSibling;var i=parseInt(window.getComputedStyle(n||r).marginLeft,10);var o=r.offsetWidth;var a=o+i;ke(this.list,Re({width:a*this.length-i},ze({translateX:(this.viewerData.width-o)/2-a*t})))},resetList:function e(){var t=this.list;t.innerHTML="";xe(t,D);ke(t,ze({translateX:0}))},initImage:function e(t){var r=this;var n=this.options,i=this.image,o=this.viewerData;var a=this.footer.offsetHeight;var s=o.width;var u=Math.max(o.height-a,a);var c=this.imageData||{};var l;this.imageInitializing={abort:function e(){l.onload=null}};l=Ke(i,n,(function(e,i){var o=e/i;var a=Math.max(0,Math.min(1,n.initialCoverage));var l=s;var f=u;r.imageInitializing=false;if(u*o>s){f=s/o}else{l=u*o}a=be(a)?a:.9;l=Math.min(l*a,e);f=Math.min(f*a,i);var d=(s-l)/2;var h=(u-f)/2;var p={left:d,top:h,x:d,y:h,width:l,height:f,oldRatio:1,ratio:l/e,aspectRatio:o,naturalWidth:e,naturalHeight:i};var v=Re({},p);if(n.rotatable){p.rotate=c.rotate||0;v.rotate=0}if(n.scalable){p.scaleX=c.scaleX||1;p.scaleY=c.scaleY||1;v.scaleX=1;v.scaleY=1}r.imageData=p;r.initialImageData=v;if(t){t()}}))},renderImage:function e(t){var r=this;var n=this.image,i=this.imageData;ke(n,Re({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},ze(i)));if(t){if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&Pe(n,D)){var o=function e(){r.imageRendering=false;t()};this.imageRendering={abort:function e(){Fe(n,J,o)}};He(n,J,o,{once:true})}else{t()}}},resetImage:function e(){var t=this.image;if(t){if(this.viewing){this.viewing.abort()}t.parentNode.removeChild(t);this.image=null;this.title.innerHTML=""}}};var Qe={bind:function e(){var t=this.options,r=this.viewer,n=this.canvas;var i=this.element.ownerDocument;He(r,N,this.onClick=this.click.bind(this));He(r,U,this.onDragStart=this.dragstart.bind(this));He(n,Y,this.onPointerDown=this.pointerdown.bind(this));He(i,K,this.onPointerMove=this.pointermove.bind(this));He(i,q,this.onPointerUp=this.pointerup.bind(this));He(i,F,this.onKeyDown=this.keydown.bind(this));He(window,$,this.onResize=this.resize.bind(this));if(t.zoomable&&t.zoomOnWheel){He(r,Z,this.onWheel=this.wheel.bind(this),{passive:false,capture:true})}if(t.toggleOnDblclick){He(n,j,this.onDblclick=this.dblclick.bind(this))}},unbind:function e(){var t=this.options,r=this.viewer,n=this.canvas;var i=this.element.ownerDocument;Fe(r,N,this.onClick);Fe(r,U,this.onDragStart);Fe(n,Y,this.onPointerDown);Fe(i,K,this.onPointerMove);Fe(i,q,this.onPointerUp);Fe(i,F,this.onKeyDown);Fe(window,$,this.onResize);if(t.zoomable&&t.zoomOnWheel){Fe(r,Z,this.onWheel,{passive:false,capture:true})}if(t.toggleOnDblclick){Fe(n,j,this.onDblclick)}}};var et={click:function e(t){var r=this.options,n=this.imageData;var i=t.target;var o=je(i,ve);if(!o&&i.localName==="img"&&i.parentElement.localName==="li"){i=i.parentElement;o=je(i,ve)}if(h&&t.isTrusted&&i===this.canvas){clearTimeout(this.clickCanvasTimeout)}switch(o){case"mix":if(this.played){this.stop()}else if(r.inline){if(this.fulled){this.exit()}else{this.full()}}else{this.hide()}break;case"hide":if(!this.pointerMoved){this.hide()}break;case"view":this.view(je(i,"index"));break;case"zoom-in":this.zoom(.1,true);break;case"zoom-out":this.zoom(-.1,true);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(r.loop);break;case"play":this.play(r.fullscreen);break;case"next":this.next(r.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:if(this.played){this.stop()}}},dblclick:function e(t){t.preventDefault();if(this.viewed&&t.target===this.image){if(h&&t.isTrusted){clearTimeout(this.doubleClickImageTimeout)}this.toggle(t.isTrusted?t:t.detail&&t.detail.originalEvent)}},load:function e(){var t=this;if(this.timeout){clearTimeout(this.timeout);this.timeout=false}var r=this.element,n=this.options,i=this.image,o=this.index,a=this.viewerData;xe(i,O);if(n.loading){xe(this.canvas,P)}i.style.cssText="height:0;"+"margin-left:".concat(a.width/2,"px;")+"margin-top:".concat(a.height/2,"px;")+"max-width:none!important;"+"position:relative;"+"width:0;";this.initImage((function(){Le(i,M,n.movable);Le(i,D,n.transition);t.renderImage((function(){t.viewed=true;t.viewing=false;if(Ce(n.viewed)){He(r,ie,n.viewed,{once:true})}Ve(r,ie,{originalImage:t.images[o],index:o,image:i},{cancelable:false})}))}))},loadImage:function e(t){var r=t.target;var n=r.parentNode;var i=n.offsetWidth||30;var o=n.offsetHeight||50;var a=!!je(r,"filled");Ke(r,this.options,(function(e,t){var n=e/t;var s=i;var u=o;if(o*n>i){if(a){s=o*n}else{u=i/n}}else if(a){u=i/n}else{s=o*n}ke(r,Re({width:s,height:u},ze({translateX:(i-s)/2,translateY:(o-u)/2})))}))},keydown:function e(t){var r=this.options;if(!r.keyboard){return}var n=t.keyCode||t.which||t.charCode;switch(n){case 13:if(this.viewer.contains(t.target)){this.click(t)}break}if(!this.fulled){return}switch(n){case 27:if(this.played){this.stop()}else if(r.inline){if(this.fulled){this.exit()}}else{this.hide()}break;case 32:if(this.played){this.stop()}break;case 37:if(this.played&&this.playing){this.playing.prev()}else{this.prev(r.loop)}break;case 38:t.preventDefault();this.zoom(r.zoomRatio,true);break;case 39:if(this.played&&this.playing){this.playing.next()}else{this.next(r.loop)}break;case 40:t.preventDefault();this.zoom(-r.zoomRatio,true);break;case 48:case 49:if(t.ctrlKey){t.preventDefault();this.toggle()}break}},dragstart:function e(t){if(t.target.localName==="img"){t.preventDefault()}},pointerdown:function e(t){var r=this.options,n=this.pointers;var i=t.buttons,o=t.button;this.pointerMoved=false;if(!this.viewed||this.showing||this.viewing||this.hiding||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(be(i)&&i!==1||be(o)&&o!==0||t.ctrlKey)){return}t.preventDefault();if(t.changedTouches){Ae(t.changedTouches,(function(e){n[e.identifier]=Je(e)}))}else{n[t.pointerId||0]=Je(t)}var a=r.movable?g:false;if(r.zoomOnTouch&&r.zoomable&&Object.keys(n).length>1){a=y}else if(r.slideOnTouch&&(t.pointerType==="touch"||t.type==="touchstart")&&this.isSwitchable()){a=m}if(r.transition&&(a===g||a===y)){xe(this.image,D)}this.action=a},pointermove:function e(t){var r=this.pointers,n=this.action;if(!this.viewed||!n){return}t.preventDefault();if(t.changedTouches){Ae(t.changedTouches,(function(e){Re(r[e.identifier]||{},Je(e,true))}))}else{Re(r[t.pointerId||0]||{},Je(t,true))}this.change(t)},pointerup:function e(t){var r=this;var n=this.options,i=this.action,o=this.pointers;var a;if(t.changedTouches){Ae(t.changedTouches,(function(e){a=o[e.identifier];delete o[e.identifier]}))}else{a=o[t.pointerId||0];delete o[t.pointerId||0]}if(!i){return}t.preventDefault();if(n.transition&&(i===g||i===y)){Me(this.image,D)}this.action=false;if(h&&i!==y&&a&&Date.now()-a.timeStamp<500){clearTimeout(this.clickCanvasTimeout);clearTimeout(this.doubleClickImageTimeout);if(n.toggleOnDblclick&&this.viewed&&t.target===this.image){if(this.imageClicked){this.imageClicked=false;this.doubleClickImageTimeout=setTimeout((function(){Ve(r.image,j,{originalEvent:t})}),50)}else{this.imageClicked=true;this.doubleClickImageTimeout=setTimeout((function(){r.imageClicked=false}),500)}}else{this.imageClicked=false;if(n.backdrop&&n.backdrop!=="static"&&t.target===this.canvas){this.clickCanvasTimeout=setTimeout((function(){Ve(r.canvas,N,{originalEvent:t})}),50)}}}},resize:function e(){var t=this;if(!this.isShown||this.hiding){return}if(this.fulled){this.close();this.initBody();this.open()}this.initContainer();this.initViewer();this.renderViewer();this.renderList();if(this.viewed){this.initImage((function(){t.renderImage()}))}if(this.played){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Ae(this.player.getElementsByTagName("img"),(function(e){He(e,H,t.loadImage.bind(t),{once:true});Ve(e,H)}))}},wheel:function e(t){var r=this;if(!this.viewed){return}t.preventDefault();if(this.wheeling){return}this.wheeling=true;setTimeout((function(){r.wheeling=false}),50);var n=Number(this.options.zoomRatio)||.1;var i=1;if(t.deltaY){i=t.deltaY>0?1:-1}else if(t.wheelDelta){i=-t.wheelDelta/120}else if(t.detail){i=t.detail>0?1:-1}this.zoom(-i*n,true,null,t)}};var tt={show:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.element,n=this.options;if(n.inline||this.showing||this.isShown||this.showing){return this}if(!this.ready){this.build();if(this.ready){this.show(t)}return this}if(Ce(n.show)){He(r,Q,n.show,{once:true})}if(Ve(r,Q)===false||!this.ready){return this}if(this.hiding){this.transitioning.abort()}this.showing=true;this.open();var i=this.viewer;xe(i,C);i.setAttribute("role","dialog");i.setAttribute("aria-labelledby",this.title.id);i.setAttribute("aria-modal",true);i.removeAttribute("aria-hidden");if(n.transition&&!t){var o=this.shown.bind(this);this.transitioning={abort:function e(){Fe(i,J,o);xe(i,k)}};Me(i,D);i.initialOffsetWidth=i.offsetWidth;He(i,J,o,{once:true});Me(i,k)}else{Me(i,k);this.shown()}return this},hide:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var n=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing)){return this}if(Ce(i.hide)){He(n,te,i.hide,{once:true})}if(Ve(n,te)===false){return this}if(this.showing){this.transitioning.abort()}this.hiding=true;if(this.played){this.stop()}else if(this.viewing){this.viewing.abort()}var o=this.viewer,a=this.image;var s=function e(){xe(o,k);t.hidden()};if(i.transition&&!r){var u=function e(r){if(r&&r.target===o){Fe(o,J,e);t.hidden()}};var c=function e(){if(Pe(o,D)){He(o,J,u);xe(o,k)}else{s()}};this.transitioning={abort:function e(){if(t.viewed&&Pe(a,D)){Fe(a,J,c)}else if(Pe(o,D)){Fe(o,J,u)}}};if(this.viewed&&Pe(a,D)){He(a,J,c,{once:true});this.zoomTo(0,false,null,null,true)}else{c()}}else{s()}return this},view:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.options.initialViewIndex;r=Number(r)||0;if(this.hiding||this.played||r<0||r>=this.length||this.viewed&&r===this.index){return this}if(!this.isShown){this.index=r;return this.show()}if(this.viewing){this.viewing.abort()}var n=this.element,i=this.options,o=this.title,a=this.canvas;var s=this.items[r];var u=s.querySelector("img");var c=je(u,"originalUrl");var l=u.getAttribute("alt");var f=document.createElement("img");Ae(i.inheritedAttributes,(function(e){var t=u.getAttribute(e);if(t!==null){f.setAttribute(e,t)}}));f.src=c;f.alt=l;if(Ce(i.view)){He(n,ne,i.view,{once:true})}if(Ve(n,ne,{originalImage:this.images[r],index:r,image:f})===false||!this.isShown||this.hiding||this.played){return this}var d=this.items[this.index];if(d){xe(d,_);d.removeAttribute("aria-selected")}Me(s,_);s.setAttribute("aria-selected",true);if(i.focus){s.focus()}this.image=f;this.viewed=false;this.index=r;this.imageData={};Me(f,O);if(i.loading){Me(a,P)}a.innerHTML="";a.appendChild(f);this.renderList();o.innerHTML="";var h=function e(){var r=t.imageData;var n=Array.isArray(i.title)?i.title[1]:i.title;o.innerHTML=Oe(Ce(n)?n.call(t,f,r):"".concat(l," (").concat(r.naturalWidth," × ").concat(r.naturalHeight,")"))};var p;var v;He(n,ie,h,{once:true});this.viewing={abort:function e(){Fe(n,ie,h);if(f.complete){if(t.imageRendering){t.imageRendering.abort()}else if(t.imageInitializing){t.imageInitializing.abort()}}else{f.src="";Fe(f,H,p);if(t.timeout){clearTimeout(t.timeout)}}}};if(f.complete){this.load()}else{He(f,H,p=function e(){Fe(f,V,v);t.load()},{once:true});He(f,V,v=function e(){Fe(f,H,p);if(t.timeout){clearTimeout(t.timeout);t.timeout=false}xe(f,O);if(i.loading){xe(t.canvas,P)}},{once:true});if(this.timeout){clearTimeout(this.timeout)}this.timeout=setTimeout((function(){xe(f,O);t.timeout=false}),1e3)}return this},prev:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.index-1;if(r<0){r=t?this.length-1:0}this.view(r);return this},next:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.length-1;var n=this.index+1;if(n>r){n=t?0:r}this.view(n);return this},move:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t;var n=this.imageData;this.moveTo(Ee(t)?t:n.x+Number(t),Ee(r)?r:n.y+Number(r));return this},moveTo:function e(t){var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=this.element,a=this.options,s=this.imageData;t=Number(t);n=Number(n);if(this.viewed&&!this.played&&a.movable){var u=s.x;var c=s.y;var l=false;if(be(t)){l=true}else{t=u}if(be(n)){l=true}else{n=c}if(l){if(Ce(a.move)){He(o,oe,a.move,{once:true})}if(Ve(o,oe,{x:t,y:n,oldX:u,oldY:c,originalEvent:i})===false){return this}s.x=t;s.y=n;s.left=t;s.top=n;this.moving=true;this.renderImage((function(){r.moving=false;if(Ce(a.moved)){He(o,ae,a.moved,{once:true})}Ve(o,ae,{x:t,y:n,oldX:u,oldY:c,originalEvent:i},{cancelable:false})}))}}return this},rotate:function e(t){this.rotateTo((this.imageData.rotate||0)+Number(t));return this},rotateTo:function e(t){var r=this;var n=this.element,i=this.options,o=this.imageData;t=Number(t);if(be(t)&&this.viewed&&!this.played&&i.rotatable){var a=o.rotate;if(Ce(i.rotate)){He(n,se,i.rotate,{once:true})}if(Ve(n,se,{degree:t,oldDegree:a})===false){return this}o.rotate=t;this.rotating=true;this.renderImage((function(){r.rotating=false;if(Ce(i.rotated)){He(n,ue,i.rotated,{once:true})}Ve(n,ue,{degree:t,oldDegree:a},{cancelable:false})}))}return this},scaleX:function e(t){this.scale(t,this.imageData.scaleY);return this},scaleY:function e(t){this.scale(this.imageData.scaleX,t);return this},scale:function e(t){var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t;var i=this.element,o=this.options,a=this.imageData;t=Number(t);n=Number(n);if(this.viewed&&!this.played&&o.scalable){var s=a.scaleX;var u=a.scaleY;var c=false;if(be(t)){c=true}else{t=s}if(be(n)){c=true}else{n=u}if(c){if(Ce(o.scale)){He(i,ce,o.scale,{once:true})}if(Ve(i,ce,{scaleX:t,scaleY:n,oldScaleX:s,oldScaleY:u})===false){return this}a.scaleX=t;a.scaleY=n;this.scaling=true;this.renderImage((function(){r.scaling=false;if(Ce(o.scaled)){He(i,le,o.scaled,{once:true})}Ve(i,le,{scaleX:t,scaleY:n,oldScaleX:s,oldScaleY:u},{cancelable:false})}))}}return this},zoom:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var o=this.imageData;t=Number(t);if(t<0){t=1/(1-t)}else{t=1+t}this.zoomTo(o.width*t/o.naturalWidth,r,n,i);return this},zoomTo:function e(t){var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var s=this.element,u=this.options,c=this.pointers,l=this.imageData;var f=l.x,d=l.y,h=l.width,p=l.height,v=l.naturalWidth,g=l.naturalHeight;t=Math.max(0,t);if(be(t)&&this.viewed&&!this.played&&(a||u.zoomable)){if(!a){var m=Math.max(.01,u.minZoomRatio);var y=Math.min(100,u.maxZoomRatio);t=Math.min(Math.max(t,m),y)}if(o){switch(o.type){case"wheel":if(u.zoomRatio>=.055&&t>.95&&t<1.05){t=1}break;case"pointermove":case"touchmove":case"mousemove":if(t>.99&&t<1.01){t=1}break}}var _=v*t;var b=g*t;var E=_-h;var S=b-p;var w=l.ratio;if(Ce(u.zoom)){He(s,fe,u.zoom,{once:true})}if(Ve(s,fe,{ratio:t,oldRatio:w,originalEvent:o})===false){return this}this.zooming=true;if(o){var T=We(this.viewer);var C=c&&Object.keys(c).length>0?Ze(c):{pageX:o.pageX,pageY:o.pageY};l.x-=E*((C.pageX-T.left-f)/h);l.y-=S*((C.pageY-T.top-d)/p)}else if(Te(i)&&be(i.x)&&be(i.y)){l.x-=E*((i.x-f)/h);l.y-=S*((i.y-d)/p)}else{l.x-=E/2;l.y-=S/2}l.left=l.x;l.top=l.y;l.width=_;l.height=b;l.oldRatio=w;l.ratio=t;this.renderImage((function(){r.zooming=false;if(Ce(u.zoomed)){He(s,de,u.zoomed,{once:true})}Ve(s,de,{ratio:t,oldRatio:w,originalEvent:o},{cancelable:false})}));if(n){this.tooltip()}}return this},play:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this.isShown||this.played){return this}var n=this.element,i=this.options;if(Ce(i.play)){He(n,he,i.play,{once:true})}if(Ve(n,he)===false){return this}var o=this.player;var a=this.loadImage.bind(this);var s=[];var u=0;var c=0;this.played=true;this.onLoadWhenPlay=a;if(r){this.requestFullscreen(r)}Me(o,L);Ae(this.items,(function(e,t){var r=e.querySelector("img");var n=document.createElement("img");n.src=je(r,"originalUrl");n.alt=r.getAttribute("alt");n.referrerPolicy=r.referrerPolicy;u+=1;Me(n,E);Le(n,D,i.transition);if(Pe(e,_)){Me(n,k);c=t}s.push(n);He(n,H,a,{once:true});o.appendChild(n)}));if(be(i.interval)&&i.interval>0){var l=function e(){clearTimeout(t.playing.timeout);xe(s[c],k);c-=1;c=c>=0?c:u-1;Me(s[c],k);t.playing.timeout=setTimeout(e,i.interval)};var f=function e(){clearTimeout(t.playing.timeout);xe(s[c],k);c+=1;c=c<u?c:0;Me(s[c],k);t.playing.timeout=setTimeout(e,i.interval)};if(u>1){this.playing={prev:l,next:f,timeout:setTimeout(f,i.interval)}}}return this},stop:function e(){var t=this;if(!this.played){return this}var r=this.element,n=this.options;if(Ce(n.stop)){He(r,pe,n.stop,{once:true})}if(Ve(r,pe)===false){return this}var i=this.player;clearTimeout(this.playing.timeout);this.playing=false;this.played=false;Ae(i.getElementsByTagName("img"),(function(e){Fe(e,H,t.onLoadWhenPlay)}));xe(i,L);i.innerHTML="";this.exitFullscreen();return this},full:function e(){var t=this;var r=this.options,n=this.viewer,i=this.image,o=this.list;if(!this.isShown||this.played||this.fulled||!r.inline){return this}this.fulled=true;this.open();Me(this.button,T);if(r.transition){xe(o,D);if(this.viewed){xe(i,D)}}Me(n,S);n.setAttribute("role","dialog");n.setAttribute("aria-labelledby",this.title.id);n.setAttribute("aria-modal",true);n.removeAttribute("style");ke(n,{zIndex:r.zIndex});if(r.focus){this.enforceFocus()}this.initContainer();this.viewerData=Re({},this.containerData);this.renderList();if(this.viewed){this.initImage((function(){t.renderImage((function(){if(r.transition){setTimeout((function(){Me(i,D);Me(o,D)}),0)}}))}))}return this},exit:function e(){var t=this;var r=this.options,n=this.viewer,i=this.image,o=this.list;if(!this.isShown||this.played||!this.fulled||!r.inline){return this}this.fulled=false;this.close();xe(this.button,T);if(r.transition){xe(o,D);if(this.viewed){xe(i,D)}}if(r.focus){this.clearEnforceFocus()}n.removeAttribute("role");n.removeAttribute("aria-labelledby");n.removeAttribute("aria-modal");xe(n,S);ke(n,{zIndex:r.zIndexInline});this.viewerData=Re({},this.parentData);this.renderViewer();this.renderList();if(this.viewed){this.initImage((function(){t.renderImage((function(){if(r.transition){setTimeout((function(){Me(i,D);Me(o,D)}),0)}}))}))}return this},tooltip:function e(){var t=this;var r=this.options,n=this.tooltipBox,i=this.imageData;if(!this.viewed||this.played||!r.tooltip){return this}n.textContent="".concat(Math.round(i.ratio*100),"%");if(!this.tooltipping){if(r.transition){if(this.fading){Ve(n,J)}Me(n,L);Me(n,E);Me(n,D);n.removeAttribute("aria-hidden");n.initialOffsetWidth=n.offsetWidth;Me(n,k)}else{Me(n,L);n.removeAttribute("aria-hidden")}}else{clearTimeout(this.tooltipping)}this.tooltipping=setTimeout((function(){if(r.transition){He(n,J,(function(){xe(n,L);xe(n,E);xe(n,D);n.setAttribute("aria-hidden",true);t.fading=false}),{once:true});xe(n,k);t.fading=true}else{xe(n,L);n.setAttribute("aria-hidden",true)}t.tooltipping=false}),1e3);return this},toggle:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(this.imageData.ratio===1){this.zoomTo(this.imageData.oldRatio,true,null,t)}else{this.zoomTo(1,true,null,t)}return this},reset:function e(){if(this.viewed&&!this.played){this.imageData=Re({},this.initialImageData);this.renderImage()}return this},update:function e(){var t=this;var r=this.element,n=this.options,i=this.isImg;if(i&&!r.parentNode){return this.destroy()}var o=[];Ae(i?[r]:r.querySelectorAll("img"),(function(e){if(Ce(n.filter)){if(n.filter.call(t,e)){o.push(e)}}else if(t.getImageURL(e)){o.push(e)}}));if(!o.length){return this}this.images=o;this.length=o.length;if(this.ready){var a=[];Ae(this.items,(function(e,t){var r=e.querySelector("img");var n=o[t];if(n&&r){if(n.src!==r.src||n.alt!==r.alt){a.push(t)}}else{a.push(t)}}));ke(this.list,{width:"auto"});this.initList();if(this.isShown){if(this.length){if(this.viewed){var s=a.indexOf(this.index);if(s>=0){this.viewed=false;this.view(Math.max(Math.min(this.index-s,this.length-1),0))}else{var u=this.items[this.index];Me(u,_);u.setAttribute("aria-selected",true)}}}else{this.image=null;this.viewed=false;this.index=0;this.imageData={};this.canvas.innerHTML="";this.title.innerHTML=""}}}else{this.build()}return this},destroy:function e(){var t=this.element,r=this.options;if(!t[v]){return this}this.destroyed=true;if(this.ready){if(this.played){this.stop()}if(r.inline){if(this.fulled){this.exit()}this.unbind()}else if(this.isShown){if(this.viewing){if(this.imageRendering){this.imageRendering.abort()}else if(this.imageInitializing){this.imageInitializing.abort()}}if(this.hiding){this.transitioning.abort()}this.hidden()}else if(this.showing){this.transitioning.abort();this.hidden()}this.ready=false;this.viewer.parentNode.removeChild(this.viewer)}else if(r.inline){if(this.delaying){this.delaying.abort()}else if(this.initializing){this.initializing.abort()}}if(!r.inline){Fe(t,N,this.onStart)}t[v]=undefined;return this}};var rt={getImageURL:function e(t){var r=this.options.url;if(ye(r)){r=t.getAttribute(r)}else if(Ce(r)){r=r.call(this,t)}else{r=""}return r},enforceFocus:function e(){var t=this;this.clearEnforceFocus();He(document,B,this.onFocusin=function(e){var r=t.viewer;var n=e.target;if(n===document||n===r||r.contains(n)){return}while(n){if(n.getAttribute("tabindex")!==null||n.getAttribute("aria-modal")==="true"){return}n=n.parentElement}r.focus()})},clearEnforceFocus:function e(){if(this.onFocusin){Fe(document,B,this.onFocusin);this.onFocusin=null}},open:function e(){var t=this.body;Me(t,x);if(this.scrollbarWidth>0){t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")}},close:function e(){var t=this.body;xe(t,x);if(this.scrollbarWidth>0){t.style.paddingRight=this.initialBodyPaddingRight}},shown:function e(){var t=this.element,r=this.options,n=this.viewer;this.fulled=true;this.isShown=true;this.render();this.bind();this.showing=false;if(r.focus){n.focus();this.enforceFocus()}if(Ce(r.shown)){He(t,ee,r.shown,{once:true})}if(Ve(t,ee)===false){return}if(this.ready&&this.isShown&&!this.hiding){this.view(this.index)}},hidden:function e(){var t=this.element,r=this.options,n=this.viewer;if(r.fucus){this.clearEnforceFocus()}this.close();this.unbind();Me(n,C);n.removeAttribute("role");n.removeAttribute("aria-labelledby");n.removeAttribute("aria-modal");n.setAttribute("aria-hidden",true);this.resetList();this.resetImage();this.fulled=false;this.viewed=false;this.isShown=false;this.hiding=false;if(!this.destroyed){if(Ce(r.hidden)){He(t,re,r.hidden,{once:true})}Ve(t,re,null,{cancelable:false})}},requestFullscreen:function e(t){var r=this.element.ownerDocument;if(this.fulled&&!(r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement)){var n=r.documentElement;if(n.requestFullscreen){if(Te(t)){n.requestFullscreen(t)}else{n.requestFullscreen()}}else if(n.webkitRequestFullscreen){n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else if(n.mozRequestFullScreen){n.mozRequestFullScreen()}else if(n.msRequestFullscreen){n.msRequestFullscreen()}}},exitFullscreen:function e(){var t=this.element.ownerDocument;if(this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)){if(t.exitFullscreen){t.exitFullscreen()}else if(t.webkitExitFullscreen){t.webkitExitFullscreen()}else if(t.mozCancelFullScreen){t.mozCancelFullScreen()}else if(t.msExitFullscreen){t.msExitFullscreen()}}},change:function e(t){var r=this.options,n=this.pointers;var i=n[Object.keys(n)[0]];if(!i){return}var o=i.endX-i.startX;var a=i.endY-i.startY;switch(this.action){case g:if(o!==0||a!==0){this.pointerMoved=true;this.move(o,a,t)}break;case y:this.zoom($e(n),false,null,t);break;case m:{this.action="switched";var s=Math.abs(o);if(s>1&&s>Math.abs(a)){this.pointers={};if(o>1){this.prev(r.loop)}else if(o<-1){this.next(r.loop)}}break}}Ae(n,(function(e){e.startX=e.endX;e.startY=e.endY}))},isSwitchable:function e(){var t=this.imageData,r=this.viewerData;return this.length>1&&t.x>=0&&t.y>=0&&t.width<=r.width&&t.height<=r.height}};var nt=d.Viewer;var it=function(e){return function(){e+=1;return e}}(-1);var ot=function(){function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};n(this,e);if(!t||t.nodeType!==1){throw new Error("The first argument is required and must be an element.")}this.element=t;this.options=Re({},c,Te(r)&&r);this.action=false;this.fading=false;this.fulled=false;this.hiding=false;this.imageClicked=false;this.imageData={};this.index=this.options.initialViewIndex;this.isImg=false;this.isShown=false;this.length=0;this.moving=false;this.played=false;this.playing=false;this.pointers={};this.ready=false;this.rotating=false;this.scaling=false;this.showing=false;this.timeout=false;this.tooltipping=false;this.viewed=false;this.viewing=false;this.wheeling=false;this.zooming=false;this.pointerMoved=false;this.id=it();this.init()}o(e,[{key:"init",value:function e(){var t=this;var r=this.element,n=this.options;if(r[v]){return}r[v]=this;if(n.focus&&!n.keyboard){n.focus=false}var i=r.localName==="img";var o=[];Ae(i?[r]:r.querySelectorAll("img"),(function(e){if(Ce(n.filter)){if(n.filter.call(t,e)){o.push(e)}}else if(t.getImageURL(e)){o.push(e)}}));this.isImg=i;this.length=o.length;this.images=o;this.initBody();if(Ee(document.createElement(v).style.transition)){n.transition=false}if(n.inline){var a=0;var s=function e(){a+=1;if(a===t.length){var r;t.initializing=false;t.delaying={abort:function e(){clearTimeout(r)}};r=setTimeout((function(){t.delaying=false;t.build()}),0)}};this.initializing={abort:function e(){Ae(o,(function(e){if(!e.complete){Fe(e,H,s);Fe(e,V,s)}}))}};Ae(o,(function(e){if(e.complete){s()}else{var t;var r;He(e,H,t=function t(){Fe(e,V,r);s()},{once:true});He(e,V,r=function r(){Fe(e,H,t);s()},{once:true})}}))}else{He(r,N,this.onStart=function(e){var r=e.target;if(r.localName==="img"&&(!Ce(n.filter)||n.filter.call(t,r))){t.view(t.images.indexOf(r))}})}}},{key:"build",value:function e(){if(this.ready){return}var t=this.element,r=this.options;var n=t.parentNode;var i=document.createElement("div");i.innerHTML=l;var o=i.querySelector(".".concat(v,"-container"));var a=o.querySelector(".".concat(v,"-title"));var s=o.querySelector(".".concat(v,"-toolbar"));var u=o.querySelector(".".concat(v,"-navbar"));var c=o.querySelector(".".concat(v,"-button"));var f=o.querySelector(".".concat(v,"-canvas"));this.parent=n;this.viewer=o;this.title=a;this.toolbar=s;this.navbar=u;this.button=c;this.canvas=f;this.footer=o.querySelector(".".concat(v,"-footer"));this.tooltipBox=o.querySelector(".".concat(v,"-tooltip"));this.player=o.querySelector(".".concat(v,"-player"));this.list=o.querySelector(".".concat(v,"-list"));o.id="".concat(v).concat(this.id);a.id="".concat(v,"Title").concat(this.id);Me(a,!r.title?C:qe(Array.isArray(r.title)?r.title[0]:r.title));Me(u,!r.navbar?C:qe(r.navbar));Le(c,C,!r.button);if(r.keyboard){c.setAttribute("tabindex",0)}if(r.backdrop){Me(o,"".concat(v,"-backdrop"));if(!r.inline&&r.backdrop!=="static"){Ue(f,ve,"hide")}}if(ye(r.className)&&r.className){r.className.split(ge).forEach((function(e){Me(o,e)}))}if(r.toolbar){var d=document.createElement("ul");var h=Te(r.toolbar);var p=me.slice(0,3);var g=me.slice(7,9);var m=me.slice(9);if(!h){Me(s,qe(r.toolbar))}Ae(h?r.toolbar:me,(function(e,t){var n=h&&Te(e);var i=h?Ne(t):e;var o=n&&!Ee(e.show)?e.show:e;if(!o||!r.zoomable&&p.indexOf(i)!==-1||!r.rotatable&&g.indexOf(i)!==-1||!r.scalable&&m.indexOf(i)!==-1){return}var a=n&&!Ee(e.size)?e.size:e;var s=n&&!Ee(e.click)?e.click:e;var u=document.createElement("li");if(r.keyboard){u.setAttribute("tabindex",0)}u.setAttribute("role","button");Me(u,"".concat(v,"-").concat(i));if(!Ce(s)){Ue(u,ve,i)}if(be(o)){Me(u,qe(o))}if(["small","large"].indexOf(a)!==-1){Me(u,"".concat(v,"-").concat(a))}else if(i==="play"){Me(u,"".concat(v,"-large"))}if(Ce(s)){He(u,N,s)}d.appendChild(u)}));s.appendChild(d)}else{Me(s,C)}if(!r.rotatable){var y=s.querySelectorAll('li[class*="rotate"]');Me(y,O);Ae(y,(function(e){s.appendChild(e)}))}if(r.inline){Me(c,w);ke(o,{zIndex:r.zIndexInline});if(window.getComputedStyle(n).position==="static"){ke(n,{position:"relative"})}n.insertBefore(o,t.nextSibling)}else{Me(c,b);Me(o,S);Me(o,E);Me(o,C);ke(o,{zIndex:r.zIndex});var _=r.container;if(ye(_)){_=t.ownerDocument.querySelector(_)}if(!_){_=this.body}_.appendChild(o)}if(r.inline){this.render();this.bind();this.isShown=true}this.ready=true;if(Ce(r.ready)){He(t,X,r.ready,{once:true})}if(Ve(t,X)===false){this.ready=false;return}if(this.ready&&r.inline){this.view(this.index)}}}],[{key:"noConflict",value:function t(){window.Viewer=nt;return e}},{key:"setDefaults",value:function e(t){Re(c,Te(t)&&t)}}]);return e}();Re(ot.prototype,Xe,Qe,et,tt,rt);return ot}))},82302:(e,t,r)=>{var n=r(29970).FilterCSS;var i=r(29970).getDefaultWhiteList;var o=r(75938);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var s=new n;function u(e,t,r){}function c(e,t,r){}function l(e,t,r){}function f(e,t,r){}function d(e){return e.replace(p,"&lt;").replace(v,"&gt;")}function h(e,t,r,n){r=k(r);if(t==="href"||t==="src"){r=o.trim(r);if(r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/")){return""}}else if(t==="background"){E.lastIndex=0;if(E.test(r)){return""}}else if(t==="style"){S.lastIndex=0;if(S.test(r)){return""}w.lastIndex=0;if(w.test(r)){E.lastIndex=0;if(E.test(r)){return""}}if(n!==false){n=n||s;r=n.process(r)}}r=O(r);return r}var p=/</g;var v=/>/g;var g=/"/g;var m=/&quot;/g;var y=/&#([a-zA-Z0-9]*);?/gim;var _=/&colon;?/gim;var b=/&newline;?/gim;var E=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi;var S=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi;var w=/u\s*r\s*l\s*\(.*/gi;function T(e){return e.replace(g,"&quot;")}function C(e){return e.replace(m,'"')}function A(e){return e.replace(y,(function e(t,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))}))}function R(e){return e.replace(_,":").replace(b," ")}function I(e){var t="";for(var r=0,n=e.length;r<n;r++){t+=e.charCodeAt(r)<32?" ":e.charAt(r)}return o.trim(t)}function k(e){e=C(e);e=A(e);e=R(e);e=I(e);return e}function O(e){e=T(e);e=d(e);return e}function P(){return""}function M(e,t){if(typeof t!=="function"){t=function(){}}var r=!Array.isArray(e);function n(t){if(r)return true;return o.indexOf(e,t)!==-1}var i=[];var a=false;return{onIgnoreTag:function(e,r,o){if(n(e)){if(o.isClosing){var s="[/removed]";var u=o.position+s.length;i.push([a!==false?a:o.position,u]);a=false;return s}else{if(!a){a=o.position}return"[removed]"}}else{return t(e,r,o)}},remove:function(e){var t="";var r=0;o.forEach(i,(function(n){t+=e.slice(r,n[0]);r=n[1]}));t+=e.slice(r);return t}}}function x(e){var t="";var r=0;while(r<e.length){var n=e.indexOf("\x3c!--",r);if(n===-1){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("--\x3e",n);if(i===-1){break}r=i+3}return t}function L(e){var t=e.split("");t=t.filter((function(e){var t=e.charCodeAt(0);if(t===127)return false;if(t<=31){if(t===10||t===13)return true;return false}return true}));return t.join("")}t.whiteList=a();t.getDefaultWhiteList=a;t.onTag=u;t.onIgnoreTag=c;t.onTagAttr=l;t.onIgnoreTagAttr=f;t.safeAttrValue=h;t.escapeHtml=d;t.escapeQuote=T;t.unescapeQuote=C;t.escapeHtmlEntities=A;t.escapeDangerHtml5Entities=R;t.clearNonPrintableCharacter=I;t.friendlyAttrValue=k;t.escapeAttrValue=O;t.onIgnoreTagStripAll=P;t.StripTagBody=M;t.stripCommentTag=x;t.stripBlankChar=L;t.cssFilter=s;t.getDefaultCSSWhiteList=i},68924:(e,t,r)=>{var n=r(82302);var i=r(73268);var o=r(82973);function a(e,t){var r=new o(t);return r.process(e)}t=e.exports=a;t.filterXSS=a;t.FilterXSS=o;(function(){for(var e in n){t[e]=n[e]}for(var r in i){t[r]=i[r]}})();if(typeof window!=="undefined"){window.filterXSS=e.exports}function s(){return typeof self!=="undefined"&&typeof DedicatedWorkerGlobalScope!=="undefined"&&self instanceof DedicatedWorkerGlobalScope}if(s()){self.filterXSS=e.exports}},73268:(e,t,r)=>{var n=r(75938);function i(e){var t=n.spaceIndex(e);var r;if(t===-1){r=e.slice(1,-1)}else{r=e.slice(1,t+1)}r=n.trim(r).toLowerCase();if(r.slice(0,1)==="/")r=r.slice(1);if(r.slice(-1)==="/")r=r.slice(0,-1);return r}function o(e){return e.slice(0,2)==="</"}function a(e,t,r){"use strict";var n="";var a=0;var s=false;var u=false;var c=0;var l=e.length;var f="";var d="";e:for(c=0;c<l;c++){var h=e.charAt(c);if(s===false){if(h==="<"){s=c;continue}}else{if(u===false){if(h==="<"){n+=r(e.slice(a,c));s=c;a=c;continue}if(h===">"||c===l-1){n+=r(e.slice(a,s));d=e.slice(s,c+1);f=i(d);n+=t(s,n.length,f,d,o(d));a=c+1;s=false;continue}if(h==='"'||h==="'"){var p=1;var v=e.charAt(c-p);while(v.trim()===""||v==="="){if(v==="="){u=h;continue e}v=e.charAt(c-++p)}}}else{if(h===u){u=false;continue}}}}if(a<l){n+=r(e.substr(a))}return n}var s=/[^a-zA-Z0-9\\_:.-]/gim;function u(e,t){"use strict";var r=0;var i=0;var o=[];var a=false;var u=e.length;function d(e,r){e=n.trim(e);e=e.replace(s,"").toLowerCase();if(e.length<1)return;var i=t(e,r||"");if(i)o.push(i)}for(var p=0;p<u;p++){var v=e.charAt(p);var g,m;if(a===false&&v==="="){a=e.slice(r,p);r=p+1;i=e.charAt(r)==='"'||e.charAt(r)==="'"?r:l(e,p+1);continue}if(a!==false){if(p===i){m=e.indexOf(v,p+1);if(m===-1){break}else{g=n.trim(e.slice(i+1,m));d(a,g);a=false;p=m;r=p+1;continue}}}if(/\s|\n|\t/.test(v)){e=e.replace(/\s|\n|\t/g," ");if(a===false){m=c(e,p);if(m===-1){g=n.trim(e.slice(r,p));d(g);a=false;r=p+1;continue}else{p=m-1;continue}}else{m=f(e,p-1);if(m===-1){g=n.trim(e.slice(r,p));g=h(g);d(a,g);a=false;r=p+1;continue}else{continue}}}}if(r<e.length){if(a===false){d(e.slice(r))}else{d(a,h(n.trim(e.slice(r))))}}return n.trim(o.join(" "))}function c(e,t){for(;t<e.length;t++){var r=e[t];if(r===" ")continue;if(r==="=")return t;return-1}}function l(e,t){for(;t<e.length;t++){var r=e[t];if(r===" ")continue;if(r==="'"||r==='"')return t;return-1}}function f(e,t){for(;t>0;t--){var r=e[t];if(r===" ")continue;if(r==="=")return t;return-1}}function d(e){if(e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"){return true}else{return false}}function h(e){if(d(e)){return e.substr(1,e.length-2)}else{return e}}t.parseTag=a;t.parseAttr=u},75938:e=>{e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf){return e.indexOf(t)}for(r=0,n=e.length;r<n;r++){if(e[r]===t){return r}}return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach){return e.forEach(t,r)}for(n=0,i=e.length;n<i;n++){t.call(r,e[n],n,e)}},trim:function(e){if(String.prototype.trim){return e.trim()}return e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/;var r=t.exec(e);return r?r.index:-1}}},82973:(e,t,r)=>{var n=r(29970).FilterCSS;var i=r(82302);var o=r(73268);var a=o.parseTag;var s=o.parseAttr;var u=r(75938);function c(e){return e===undefined||e===null}function l(e){var t=u.spaceIndex(e);if(t===-1){return{html:"",closing:e[e.length-2]==="/"}}e=u.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";if(r)e=u.trim(e.slice(0,-1));return{html:e,closing:r}}function f(e){var t={};for(var r in e){t[r]=e[r]}return t}function d(e){var t={};for(var r in e){if(Array.isArray(e[r])){t[r.toLowerCase()]=e[r].map((function(e){return e.toLowerCase()}))}else{t[r.toLowerCase()]=e[r]}}return t}function h(e){e=f(e||{});if(e.stripIgnoreTag){if(e.onIgnoreTag){console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time')}e.onIgnoreTag=i.onIgnoreTagStripAll}if(e.whiteList||e.allowList){e.whiteList=d(e.whiteList||e.allowList)}else{e.whiteList=i.whiteList}e.onTag=e.onTag||i.onTag;e.onTagAttr=e.onTagAttr||i.onTagAttr;e.onIgnoreTag=e.onIgnoreTag||i.onIgnoreTag;e.onIgnoreTagAttr=e.onIgnoreTagAttr||i.onIgnoreTagAttr;e.safeAttrValue=e.safeAttrValue||i.safeAttrValue;e.escapeHtml=e.escapeHtml||i.escapeHtml;this.options=e;if(e.css===false){this.cssFilter=false}else{e.css=e.css||{};this.cssFilter=new n(e.css)}}h.prototype.process=function(e){e=e||"";e=e.toString();if(!e)return"";var t=this;var r=t.options;var n=r.whiteList;var o=r.onTag;var f=r.onIgnoreTag;var d=r.onTagAttr;var h=r.onIgnoreTagAttr;var p=r.safeAttrValue;var v=r.escapeHtml;var g=t.cssFilter;if(r.stripBlankChar){e=i.stripBlankChar(e)}if(!r.allowCommentTag){e=i.stripCommentTag(e)}var m=false;if(r.stripIgnoreTagBody){m=i.StripTagBody(r.stripIgnoreTagBody,f);f=m.onIgnoreTag}var y=a(e,(function(e,t,r,i,a){var m={sourcePosition:e,position:t,isClosing:a,isWhite:Object.prototype.hasOwnProperty.call(n,r)};var y=o(r,i,m);if(!c(y))return y;if(m.isWhite){if(m.isClosing){return"</"+r+">"}var _=l(i);var b=n[r];var E=s(_.html,(function(e,t){var n=u.indexOf(b,e)!==-1;var i=d(r,e,t,n);if(!c(i))return i;if(n){t=p(r,e,t,g);if(t){return e+'="'+t+'"'}else{return e}}else{i=h(r,e,t,n);if(!c(i))return i;return}}));i="<"+r;if(E)i+=" "+E;if(_.closing)i+=" /";i+=">";return i}else{y=f(r,i,m);if(!c(y))return y;return v(i)}}),v);if(m){y=m.remove(y)}return y};e.exports=h},84063:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABDgAAAJhCAYAAACkQQCKAAAABHNCSVQICAgIfAhkiAAAHEdJREFUeJzt3TF2Ikm6huGoVk3Z44w9NrmIWQR42spgXIO1lJcsoheRaY89c869lozq1qlr9ASdSiWQIBD6xPM4XagkSEE5+XbEH1+enp7+twAAAAAE+1pK+eutLwIAAADgLX659QUAAAAAvNXX4YO//OUvt7oOAAAAgJP89ttvuz+/CBxfvnwpDw8P735BAAAAAKd4fn5+8dgWFQAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxvt76AgCAj6HrutL3fSmllL7vS9d1N76iUpqmKaWUslgsymKx2D0GABj78vT09LM++PbtW3l4eLjl9QAAN9C2bWnb9taXcVTTNGW5XAodAEB5fn4uP3782D0WOADgjqWEjbHValVWq9WtLwMAuKFx4DCDAwDuVGrcKCX72gGA6zCDAwDuUNd1k4FgtVp9uFkXdTbI+HrrYys5AIBSBA4AuEvb7fbV1z7qto+maUrTNGWxWJTtdvti+Gnbth8uyAAAt2GLCgDcma7rXp2Qsl6vP2TcGGqapqzX61cxYyrWAAD3R+AAgDszDgKr1SpqBcR6vX7x+CMcZwsA3J4tKgBwZ8ZB4BYrN+r8jL7vy2KxOHmbyWq1ejGTo+u6qEgDAFyewAEAd2QcN947CkydflKvqW5BOUff9wIHANw5W1QAgHex2WwOHu3adV3ZbDaznmuxWFzqsgCAT0LgAIA79l6hYGqw6b7vOxRBAAD2sUUFALi6qcGmNa70ff8iarRt++FPdAEAPh6BAwC4ukODTZumKX3fOw0FAHgTW1QAgKuaM9h0vFVG7AAATiVwAABXNQ4aU/Gi7/v3uhwA4JOyRQUAuLqmaV6Ejc1mU5bLZSmlTG5PceQrAHAqgQMAuLrFYvEiYhw6VcWAUQDgHLaoAABXt1qtZoWLpmkEDgDgLAIHAHDUJYZ+Hoscq9WqrNfrN78OAHCfbFEBACZ1XVe22+2LuDF3JcY+q9Vqd2LKdrvd/XmxWJi7AQC8icABALzSdV3ZbDavvt62bWnbtqzX67ODRP05QQMAuCRbVACAF/bFjaHNZnORbSsAAJcicAAAO/vixtRqC5EDAPhIBA4AoJSyP27U4Z9TszdEDgDgoxA4AICDcaOGjX0DRm8ROcYrSuqwUgDgfgkcAHDn5sSNQ18r5TaRYxheDCwFAL48PT39rA++fftWHh4ebnk9AMAVjWPGP/7xj/Lrr7+++r5jx8HW01TG3nK6CgDAKZ6fn8uPHz92j63gAIA7dk7cOPQ9x1ZydF23N44AALzF11tfAADwccyJG8PvLaW8ihWbzWZyJcd49Ujf92W9Xr/xigEA/mAFBwBQSjktbhz7mfFKjn1zPgAALkXgAADOihvHfrZGjn1xw8knAMAl2aICAHfkX//616uvvSVuDJ+jlOntKvu+/62vCQAwZAUHANyRv//97y8eLxaLi4WGudFC3AAArkHgAIA7dukjXY/FC3EDALgWW1QAgIuqEWN4HGzTNGW5XO4NKl3Xle12O3tFyanfDwB8fgIHAHAVp6zWqLM6uq4rbdtOHjNbDcNJ13VlsVhcfCUKAJDHFhUA4ObGgWJ8zGw1jBtV3/dXvTYAIIPAAQDc3NSRsePIMRU3Sim2qAAApRSBAwD4APZtZ6mRY1/cWK/X73F5AEAAMzgA4I6Mt4J8pO0dNXCMQ0adzzF2aE4HAHB/rOAAgDs2NefiluYOJhU3AIAxgQMA7sw4IExt/bilY5FD3AAApggcAHDn9s23AABI8vDPf/7zf3YPHh7KL79oHgDwmdXVD8P5G/XPH2FlxLHg8uuvv5bFYlH+9re/veNVAQAfzc+fP8vz8/Pu8Zenp6ef9cG3b9/Kw8PDTS4MAHhfj4+Pr77WNE1ZLBaTx7ae49RgcspqEltVAOC+PT8/lx8/fuweCxwAcKfeY2tK0zSzj3I9dBRs3/d7/07kAID7NA4ctqgAwJ2qqzX+85//lH//+99XeY36vMcixKG40TTN5LaaUv7YrjLn1BUA4PMZb1FRMwDgjtUVFnNXWZxjznaXOasz9p2u8tGOugUAbuPrrS8AALi9pmnK9+/fd7Gg7/tXqyXOsVgsZm0haZrmRajYt/WkBo5hEOn73jYVAMAMDgDg9rqu20WV5XI5a0tLZYsKANwnQ0YBAACAeOPAYQYHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAg3tdbXwAAcJqu60rf92WxWJSmad78fG3bllLKxZ7vXF3Xle12W0opZb1e7/2+tm13v/9qtbr6dX2U96eq11NKeZffHwBSCBwA3J2u697ldebeDNcb9lIO39hX2+22dF1XVqvVRQPHnNe+trmfzfD75oaRfQ4Fg67rLvr+nPpvb+rz7ft+9/kDAH8SOAC4O5vN5l1e5/v377O/972iy2dV37+2bc+68a8R49rRoO/7F0HlmNVqNRldAIDXBA4A7ta1thu4AT2sbdujN/mPj4+vvtY0TVmv12WxWEx+fbPZnBwqhis03ntFxKF/f3P+DY3fBwC4dwIHAHdruVwevMls2/bkuQtd1wkc72T4PjdNU1ar1S6ezP3c6tagUt43cNQos89ms5n8dzT+nQGAPwkcADCh3ihfas7FZzGcd3HMvoA0te2iPnfdPnTK9p7h89b5FH3fz/rcbrV641zDIDNnq9WxiAcAn4nAAQAj4y0Uh7ZTfJSTNd7T3BUqy+Xyylfy2nq9Ll3XnRQ36p+PbZs5ZXbLKYGmDpmdEyOGgWPO53CLzwAAbkXgAICRuXGjlBK1wmO4QmLKvr/bt51i36qHU4ZoXsPcuHHr6xzqum5WLKtRo2mayRkc4xUpKf82AeASBA4A+K/x9otjMxLu3TmBY2p46DW/b2olxXCwaCmHP+fhqSer1eqmgz3nXHPalhsAuCSBAwDK9P/R7/t+8kZxeBN56RvJuTf29Tr2xYSpVRf7VmLUWDO+gd9ut59yYOowTp2yAufW25GOrTj5jJ8VAJxC4ADg7g1DwfjI0bZty3q93t3Y1tMt6qkdacY36MOb4vHvUwd2XtKh1RKn2Bdl5v5c/dmUz3AcN6bmjAzncwDAPRI4AOC/hje86/V6Fzg2m82LEzqOHfH5Ftd63o9i3wqIunJlGJPmOGVVxfAI33MC1S1Xb5wSL8zdAOBeCRwA3L26CmB8YziMGuMVHtdyjzenw9UJb/39Hx8f936eNWr0fT/7M/wIqyLatt2Fmbq6aLvd7n2vbjknBABuSeAAgPLyxrreTA5nUDRNs1sBUG+iU7Y3HHKLG/jxgNbhNphjw1trmKifx9TztG2795jWxM+sfkbHrv0jxBgAuCWBA4C7Nwwaw8el/HEjvVwuS9M0u5UGdetK27a74zovMYDylqs33vO1D831OHXmR9/3u2ufEwLOnSkyFVTm/txbLZfLslgsXvxeU9dSv2YFBwD3SuAA4K51Xfdq1UC9KR3fVNY/r1arXeAYznW49TGiKYbbQ+oqmVPfu8ViUbque7FqYc4KhnOP9x1+zqfYt5LkFE3TvAglw9VE9euX3OYDAKkEDgDu2vDmcblc7r5Wyh83w5vN5lXoKOXPgaT1Jrtt293jUw1vzI8dBXrIOdsv6mu/Z5gZ3pQP41Apr1fP7DN1vePn+qyWy2Xpum5yDoe4AcA9EzgAuHtTAye7riuLxWJ3E14DxvjmuQaSS9xUn7tKoF7Hua+5z7VnOtSYM3zvaiwar1rYZzh3o5Tj78MpKyrGxwd3XXfyKS/XNFzFUa/TCiIA7pnAAQATxjfYw7kblx4wOhxkeu7PvuV1S3n/G+PhSpVz3sv6+dSb/Gvc4A9netQtMYdOL3nr68y99uHvvt1uX4Soz756BQAOETgA4ICpuRs1clxaHWZ6is1mc3bkGN4Yn7od5K2GgWNqLsbUbJSprUKl/DkctpTL3eAPt8+U8jqo3HoVR92mMrxGcQOAeydwAMBAnakxdSrKcO7GpXyE4ZC3eN3hqST73s9j7/P4Jv9aN/j1eevrbTabi25VOfd0lmFwAQAEDgDYGc5cqKaOgb1GELhFZLjl3Iblcrkb6jpUT1Wpx/Oe4pKrN6bmg4y3hpzzmdV/R/U93zdUdc5nUoNL/VkrOAC4dwIHAPxXnbXQ933p+373f8entgFc8ma6lLwZGG+1Lw7U9/3Q90wZ/w5TgWKO4TyPqVkr6/V6ty2oruQ4xXi2y3DOR339ubFiuMXoo2ydAYBbEjgAYGB8A1q3rNQb73rzW+dwTG1lmeuWkWF8Y/0R1dBR3//xDI7hjI6pE19OjRzjuR/7fm69XpfHx8fd958zO2V8jcPXnzPEdmq10aW3zgBAGoEDAA6YOk1lGDtWq9Wbb27f+4Z07tyGa812qL/3OEoMX+/YNY4HkI5XMJx6Msk4GBxbmTFcydF13Vkn64wD1zCe1a8d+9m6lae+H9c45QUAUggcAHCC4U3nW7YEDG9u33t7ypxjRedc3+Pj49mvPyee1Pe2vn797/CEk3r9bdu+uLmfu81lvGqjBoNjP9c0Tfn+/fuLk3WqOaFjas7H8Hdp23ZydVCd/1HVEDMMLo+Pj1ZyAHCXBA4A7lbd+vDW5zj0eMqxOQ/XtG+A5vj6hi59ozwOFsOAMhwyOl5FUWPEMG7U32G8haj+/T41FIznq5z6WYyjxNTfje37HcbPN95ycmiVSZ3bUf9+7lYXAPhMBA4A7tb4hvS9zJnzcA37wsp4VcDUUNUp+7ZxjLePjB16zn2rO6ZWSQyfp54ocugznYoapcxftbHP8DqG19n3/YvnnVotMvVerFar3ftQV6VMxY2pY4zrNdT/vmVGDACkETgAuFvD4zov6dhNdnWrwaJTN9ZTUeHYaR63uHHeFyPqio8aEPatXhgfy/qWsDE0dYpL13WvVlkMv//Qezs8Anbo2DXXwbf1fej7XuAA4G58eXp6+lkffPv2rTw8PNzyegDg6urN36VuboeGqyH2rXCoJ7NcInDUoafjE0YOff/U/9Wfmrmx7705Nt/inGNehz+73W4nf5+5M08Ofd97rWo49D7Pff06xLY6deaLY2MB+Oyen5/Ljx8/do8FDgAAACDOOHD8csNrAQAAALgIgQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQT+AAAAAA4gkcAAAAQDyBAwAAAIgncAAAAADxBA4AAAAgnsABAAAAxBM4AAAAgHgCBwAAABBP4AAAAADiCRwAAABAPIEDAAAAiCdwAAAAAPEEDgAAACCewAEAAADEEzgAAACAeAIHAAAAEE/gAAAAAOIJHAAAAEA8gQMAAACIJ3AAAAAA8QQOAAAAIJ7AAQAAAMQTOAAAAIB4AgcAAAAQ7+vwwc+fP8vvv/9+q2sBAAAAOMuLwPHbb7/d6joAAAAAzmaLCgAAABDvaynl/259EQAAAABv8f8JGFYBNHBN+QAAAABJRU5ErkJggg=="},42480:()=>{},97218:(e,t,r)=>{function n(e,t){return function r(){return e.apply(t,arguments)}}const{toString:i}=Object.prototype;const{getPrototypeOf:o}=Object;const a=(e=>t=>{const r=i.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null));const s=e=>{e=e.toLowerCase();return t=>a(t)===e};const u=e=>t=>typeof t===e;const{isArray:c}=Array;const l=u("undefined");function f(e){return e!==null&&!l(e)&&e.constructor!==null&&!l(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const d=s("ArrayBuffer");function h(e){let t;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){t=ArrayBuffer.isView(e)}else{t=e&&e.buffer&&d(e.buffer)}return t}const p=u("string");const v=u("function");const g=u("number");const m=e=>e!==null&&typeof e==="object";const y=e=>e===true||e===false;const _=e=>{if(a(e)!=="object"){return false}const t=o(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};const b=s("Date");const E=s("File");const S=s("Blob");const w=s("FileList");const T=e=>m(e)&&v(e.pipe);const C=e=>{let t;return e&&(typeof FormData==="function"&&e instanceof FormData||v(e.append)&&((t=a(e))==="formdata"||t==="object"&&v(e.toString)&&e.toString()==="[object FormData]"))};const A=s("URLSearchParams");const[R,I,k,O]=["ReadableStream","Request","Response","Headers"].map(s);const P=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function M(e,t,{allOwnKeys:r=false}={}){if(e===null||typeof e==="undefined"){return}let n;let i;if(typeof e!=="object"){e=[e]}if(c(e)){for(n=0,i=e.length;n<i;n++){t.call(null,e[n],n,e)}}else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e);const o=i.length;let a;for(n=0;n<o;n++){a=i[n];t.call(null,e[a],a,e)}}}function x(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length;let i;while(n-- >0){i=r[n];if(t===i.toLowerCase()){return i}}return null}const L=(()=>{if(typeof globalThis!=="undefined")return globalThis;return typeof self!=="undefined"?self:typeof window!=="undefined"?window:r.g})();const D=e=>!l(e)&&e!==L;function N(){const{caseless:e}=D(this)&&this||{};const t={};const r=(r,n)=>{const i=e&&x(t,n)||n;if(_(t[i])&&_(r)){t[i]=N(t[i],r)}else if(_(r)){t[i]=N({},r)}else if(c(r)){t[i]=r.slice()}else{t[i]=r}};for(let e=0,t=arguments.length;e<t;e++){arguments[e]&&M(arguments[e],r)}return t}const j=(e,t,r,{allOwnKeys:i}={})=>{M(t,((t,i)=>{if(r&&v(t)){e[i]=n(t,r)}else{e[i]=t}}),{allOwnKeys:i});return e};const U=e=>{if(e.charCodeAt(0)===65279){e=e.slice(1)}return e};const B=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n);e.prototype.constructor=e;Object.defineProperty(e,"super",{value:t.prototype});r&&Object.assign(e.prototype,r)};const F=(e,t,r,n)=>{let i;let a;let s;const u={};t=t||{};if(e==null)return t;do{i=Object.getOwnPropertyNames(e);a=i.length;while(a-- >0){s=i[a];if((!n||n(s,e,t))&&!u[s]){t[s]=e[s];u[s]=true}}e=r!==false&&o(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t};const H=(e,t,r)=>{e=String(e);if(r===undefined||r>e.length){r=e.length}r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r};const V=e=>{if(!e)return null;if(c(e))return e;let t=e.length;if(!g(t))return null;const r=new Array(t);while(t-- >0){r[t]=e[t]}return r};const W=(e=>t=>e&&t instanceof e)(typeof Uint8Array!=="undefined"&&o(Uint8Array));const z=(e,t)=>{const r=e&&e[Symbol.iterator];const n=r.call(e);let i;while((i=n.next())&&!i.done){const r=i.value;t.call(e,r[0],r[1])}};const G=(e,t)=>{let r;const n=[];while((r=e.exec(t))!==null){n.push(r)}return n};const Y=s("HTMLFormElement");const K=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function e(t,r,n){return r.toUpperCase()+n}));const q=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype);const $=s("RegExp");const J=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e);const n={};M(r,((r,i)=>{let o;if((o=t(r,i,e))!==false){n[i]=o||r}}));Object.defineProperties(e,n)};const Z=e=>{J(e,((t,r)=>{if(v(e)&&["arguments","caller","callee"].indexOf(r)!==-1){return false}const n=e[r];if(!v(n))return;t.enumerable=false;if("writable"in t){t.writable=false;return}if(!t.set){t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}}}))};const X=(e,t)=>{const r={};const n=e=>{e.forEach((e=>{r[e]=true}))};c(e)?n(e):n(String(e).split(t));return r};const Q=()=>{};const ee=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;const te="abcdefghijklmnopqrstuvwxyz";const re="0123456789";const ne={DIGIT:re,ALPHA:te,ALPHA_DIGIT:te+te.toUpperCase()+re};const ie=(e=16,t=ne.ALPHA_DIGIT)=>{let r="";const{length:n}=t;while(e--){r+=t[Math.random()*n|0]}return r};function oe(e){return!!(e&&v(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ae=e=>{const t=new Array(10);const r=(e,n)=>{if(m(e)){if(t.indexOf(e)>=0){return}if(!("toJSON"in e)){t[n]=e;const i=c(e)?[]:{};M(e,((e,t)=>{const o=r(e,n+1);!l(o)&&(i[t]=o)}));t[n]=undefined;return i}}return e};return r(e,0)};const se=s("AsyncFunction");const ue=e=>e&&(m(e)||v(e))&&v(e.then)&&v(e.catch);const ce=((e,t)=>{if(e){return setImmediate}return t?((e,t)=>{L.addEventListener("message",(({source:r,data:n})=>{if(r===L&&n===e){t.length&&t.shift()()}}),false);return r=>{t.push(r);L.postMessage(e,"*")}})(`axios@${Math.random()}`,[]):e=>setTimeout(e)})(typeof setImmediate==="function",v(L.postMessage));const le=typeof queueMicrotask!=="undefined"?queueMicrotask.bind(L):typeof process!=="undefined"&&process.nextTick||ce;var fe={isArray:c,isArrayBuffer:d,isBuffer:f,isFormData:C,isArrayBufferView:h,isString:p,isNumber:g,isBoolean:y,isObject:m,isPlainObject:_,isReadableStream:R,isRequest:I,isResponse:k,isHeaders:O,isUndefined:l,isDate:b,isFile:E,isBlob:S,isRegExp:$,isFunction:v,isStream:T,isURLSearchParams:A,isTypedArray:W,isFileList:w,forEach:M,merge:N,extend:j,trim:P,stripBOM:U,inherits:B,toFlatObject:F,kindOf:a,kindOfTest:s,endsWith:H,toArray:V,forEachEntry:z,matchAll:G,isHTMLForm:Y,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:J,freezeMethods:Z,toObjectSet:X,toCamelCase:K,noop:Q,toFiniteNumber:ee,findKey:x,global:L,isContextDefined:D,ALPHABET:ne,generateString:ie,isSpecCompliantForm:oe,toJSONObject:ae,isAsyncFn:se,isThenable:ue,setImmediate:ce,asap:le};function de(e,t,r,n,i){Error.call(this);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack}this.message=e;this.name="AxiosError";t&&(this.code=t);r&&(this.config=r);n&&(this.request=n);if(i){this.response=i;this.status=i.status?i.status:null}}fe.inherits(de,Error,{toJSON:function e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const he=de.prototype;const pe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{pe[e]={value:e}}));Object.defineProperties(de,pe);Object.defineProperty(he,"isAxiosError",{value:true});de.from=(e,t,r,n,i,o)=>{const a=Object.create(he);fe.toFlatObject(e,a,(function e(t){return t!==Error.prototype}),(e=>e!=="isAxiosError"));de.call(a,e.message,t,r,n,i);a.cause=e;a.name=e.name;o&&Object.assign(a,o);return a};var ve=null;function ge(e){return fe.isPlainObject(e)||fe.isArray(e)}function me(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function ye(e,t,r){if(!e)return t;return e.concat(t).map((function e(t,n){t=me(t);return!r&&n?"["+t+"]":t})).join(r?".":"")}function _e(e){return fe.isArray(e)&&!e.some(ge)}const be=fe.toFlatObject(fe,{},null,(function e(t){return/^is[A-Z]/.test(t)}));function Ee(e,t,r){if(!fe.isObject(e)){throw new TypeError("target must be an object")}t=t||new FormData;r=fe.toFlatObject(r,{metaTokens:true,dots:false,indexes:false},false,(function e(t,r){return!fe.isUndefined(r[t])}));const n=r.metaTokens;const i=r.visitor||l;const o=r.dots;const a=r.indexes;const s=r.Blob||typeof Blob!=="undefined"&&Blob;const u=s&&fe.isSpecCompliantForm(t);if(!fe.isFunction(i)){throw new TypeError("visitor must be a function")}function c(e){if(e===null)return"";if(fe.isDate(e)){return e.toISOString()}if(!u&&fe.isBlob(e)){throw new de("Blob is not supported. Use a Buffer instead.")}if(fe.isArrayBuffer(e)||fe.isTypedArray(e)){return u&&typeof Blob==="function"?new Blob([e]):Buffer.from(e)}return e}function l(e,r,i){let s=e;if(e&&!i&&typeof e==="object"){if(fe.endsWith(r,"{}")){r=n?r:r.slice(0,-2);e=JSON.stringify(e)}else if(fe.isArray(e)&&_e(e)||(fe.isFileList(e)||fe.endsWith(r,"[]"))&&(s=fe.toArray(e))){r=me(r);s.forEach((function e(n,i){!(fe.isUndefined(n)||n===null)&&t.append(a===true?ye([r],i,o):a===null?r:r+"[]",c(n))}));return false}}if(ge(e)){return true}t.append(ye(i,r,o),c(e));return false}const f=[];const d=Object.assign(be,{defaultVisitor:l,convertValue:c,isVisitable:ge});function h(e,r){if(fe.isUndefined(e))return;if(f.indexOf(e)!==-1){throw Error("Circular reference detected in "+r.join("."))}f.push(e);fe.forEach(e,(function e(n,o){const a=!(fe.isUndefined(n)||n===null)&&i.call(t,n,fe.isString(o)?o.trim():o,r,d);if(a===true){h(n,r?r.concat(o):[o])}}));f.pop()}if(!fe.isObject(e)){throw new TypeError("data must be an object")}h(e);return t}function Se(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function e(r){return t[r]}))}function we(e,t){this._pairs=[];e&&Ee(e,this,t)}const Te=we.prototype;Te.append=function e(t,r){this._pairs.push([t,r])};Te.toString=function e(t){const r=t?function(e){return t.call(this,e,Se)}:Se;return this._pairs.map((function e(t){return r(t[0])+"="+r(t[1])}),"").join("&")};function Ce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ae(e,t,r){if(!t){return e}const n=r&&r.encode||Ce;if(fe.isFunction(r)){r={serialize:r}}const i=r&&r.serialize;let o;if(i){o=i(t,r)}else{o=fe.isURLSearchParams(t)?t.toString():new we(t,r).toString(n)}if(o){const t=e.indexOf("#");if(t!==-1){e=e.slice(0,t)}e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Re{constructor(){this.handlers=[]}use(e,t,r){this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:false,runWhen:r?r.runWhen:null});return this.handlers.length-1}eject(e){if(this.handlers[e]){this.handlers[e]=null}}clear(){if(this.handlers){this.handlers=[]}}forEach(e){fe.forEach(this.handlers,(function t(r){if(r!==null){e(r)}}))}}var Ie=Re;var ke={silentJSONParsing:true,forcedJSONParsing:true,clarifyTimeoutError:false};var Oe=typeof URLSearchParams!=="undefined"?URLSearchParams:we;var Pe=typeof FormData!=="undefined"?FormData:null;var Me=typeof Blob!=="undefined"?Blob:null;var xe={isBrowser:true,classes:{URLSearchParams:Oe,FormData:Pe,Blob:Me},protocols:["http","https","file","blob","url","data"]};const Le=typeof window!=="undefined"&&typeof document!=="undefined";const De=typeof navigator==="object"&&navigator||undefined;const Ne=Le&&(!De||["ReactNative","NativeScript","NS"].indexOf(De.product)<0);const je=(()=>typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==="function")();const Ue=Le&&window.location.href||"http://localhost";var Be=Object.freeze({__proto__:null,hasBrowserEnv:Le,hasStandardBrowserWebWorkerEnv:je,hasStandardBrowserEnv:Ne,navigator:De,origin:Ue});var Fe={...Be,...xe};function He(e,t){return Ee(e,new Fe.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){if(Fe.isNode&&fe.isBuffer(e)){this.append(t,e.toString("base64"));return false}return n.defaultVisitor.apply(this,arguments)}},t))}function Ve(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map((e=>e[0]==="[]"?"":e[1]||e[0]))}function We(e){const t={};const r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++){o=r[n];t[o]=e[o]}return t}function ze(e){function t(e,r,n,i){let o=e[i++];if(o==="__proto__")return true;const a=Number.isFinite(+o);const s=i>=e.length;o=!o&&fe.isArray(n)?n.length:o;if(s){if(fe.hasOwnProp(n,o)){n[o]=[n[o],r]}else{n[o]=r}return!a}if(!n[o]||!fe.isObject(n[o])){n[o]=[]}const u=t(e,r,n[o],i);if(u&&fe.isArray(n[o])){n[o]=We(n[o])}return!a}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const r={};fe.forEachEntry(e,((e,n)=>{t(Ve(e),n,r,0)}));return r}return null}function Ge(e,t,r){if(fe.isString(e)){try{(t||JSON.parse)(e);return fe.trim(e)}catch(e){if(e.name!=="SyntaxError"){throw e}}}return(r||JSON.stringify)(e)}const Ye={transitional:ke,adapter:["xhr","http","fetch"],transformRequest:[function e(t,r){const n=r.getContentType()||"";const i=n.indexOf("application/json")>-1;const o=fe.isObject(t);if(o&&fe.isHTMLForm(t)){t=new FormData(t)}const a=fe.isFormData(t);if(a){return i?JSON.stringify(ze(t)):t}if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t)||fe.isReadableStream(t)){return t}if(fe.isArrayBufferView(t)){return t.buffer}if(fe.isURLSearchParams(t)){r.setContentType("application/x-www-form-urlencoded;charset=utf-8",false);return t.toString()}let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1){return He(t,this.formSerializer).toString()}if((s=fe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Ee(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}if(o||i){r.setContentType("application/json",false);return Ge(t)}return t}],transformResponse:[function e(t){const r=this.transitional||Ye.transitional;const n=r&&r.forcedJSONParsing;const i=this.responseType==="json";if(fe.isResponse(t)||fe.isReadableStream(t)){return t}if(t&&fe.isString(t)&&(n&&!this.responseType||i)){const e=r&&r.silentJSONParsing;const n=!e&&i;try{return JSON.parse(t)}catch(e){if(n){if(e.name==="SyntaxError"){throw de.from(e,de.ERR_BAD_RESPONSE,this,null,this.response)}throw e}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fe.classes.FormData,Blob:Fe.classes.Blob},validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":undefined}}};fe.forEach(["delete","get","head","post","put","patch"],(e=>{Ye.headers[e]={}}));var Ke=Ye;const qe=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var $e=e=>{const t={};let r;let n;let i;e&&e.split("\n").forEach((function e(o){i=o.indexOf(":");r=o.substring(0,i).trim().toLowerCase();n=o.substring(i+1).trim();if(!r||t[r]&&qe[r]){return}if(r==="set-cookie"){if(t[r]){t[r].push(n)}else{t[r]=[n]}}else{t[r]=t[r]?t[r]+", "+n:n}}));return t};const Je=Symbol("internals");function Ze(e){return e&&String(e).trim().toLowerCase()}function Xe(e){if(e===false||e==null){return e}return fe.isArray(e)?e.map(Xe):String(e)}function Qe(e){const t=Object.create(null);const r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;while(n=r.exec(e)){t[n[1]]=n[2]}return t}const et=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tt(e,t,r,n,i){if(fe.isFunction(n)){return n.call(this,t,r)}if(i){t=r}if(!fe.isString(t))return;if(fe.isString(n)){return t.indexOf(n)!==-1}if(fe.isRegExp(n)){return n.test(t)}}function rt(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}function nt(e,t){const r=fe.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:true})}))}class it{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=Ze(t);if(!i){throw new Error("header name must be a non-empty string")}const o=fe.findKey(n,i);if(!o||n[o]===undefined||r===true||r===undefined&&n[o]!==false){n[o||t]=Xe(e)}}const o=(e,t)=>fe.forEach(e,((e,r)=>i(e,r,t)));if(fe.isPlainObject(e)||e instanceof this.constructor){o(e,t)}else if(fe.isString(e)&&(e=e.trim())&&!et(e)){o($e(e),t)}else if(fe.isHeaders(e)){for(const[t,n]of e.entries()){i(n,t,r)}}else{e!=null&&i(t,e,r)}return this}get(e,t){e=Ze(e);if(e){const r=fe.findKey(this,e);if(r){const e=this[r];if(!t){return e}if(t===true){return Qe(e)}if(fe.isFunction(t)){return t.call(this,e,r)}if(fe.isRegExp(t)){return t.exec(e)}throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){e=Ze(e);if(e){const r=fe.findKey(this,e);return!!(r&&this[r]!==undefined&&(!t||tt(this,this[r],r,t)))}return false}delete(e,t){const r=this;let n=false;function i(e){e=Ze(e);if(e){const i=fe.findKey(r,e);if(i&&(!t||tt(r,r[i],i,t))){delete r[i];n=true}}}if(fe.isArray(e)){e.forEach(i)}else{i(e)}return n}clear(e){const t=Object.keys(this);let r=t.length;let n=false;while(r--){const i=t[r];if(!e||tt(this,this[i],i,e,true)){delete this[i];n=true}}return n}normalize(e){const t=this;const r={};fe.forEach(this,((n,i)=>{const o=fe.findKey(r,i);if(o){t[o]=Xe(n);delete t[i];return}const a=e?rt(i):String(i).trim();if(a!==i){delete t[i]}t[a]=Xe(n);r[a]=true}));return this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);fe.forEach(this,((r,n)=>{r!=null&&r!==false&&(t[n]=e&&fe.isArray(r)?r.join(", "):r)}));return t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);t.forEach((e=>r.set(e)));return r}static accessor(e){const t=this[Je]=this[Je]={accessors:{}};const r=t.accessors;const n=this.prototype;function i(e){const t=Ze(e);if(!r[t]){nt(n,e);r[t]=true}}fe.isArray(e)?e.forEach(i):i(e);return this}}it.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(it.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}));fe.freezeMethods(it);var ot=it;function at(e,t){const r=this||Ke;const n=t||r;const i=ot.from(n.headers);let o=n.data;fe.forEach(e,(function e(n){o=n.call(r,o,i.normalize(),t?t.status:undefined)}));i.normalize();return o}function st(e){return!!(e&&e.__CANCEL__)}function ut(e,t,r){de.call(this,e==null?"canceled":e,de.ERR_CANCELED,t,r);this.name="CanceledError"}fe.inherits(ut,de,{__CANCEL__:true});function ct(e,t,r){const n=r.config.validateStatus;if(!r.status||!n||n(r.status)){e(r)}else{t(new de("Request failed with status code "+r.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}}function lt(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ft(e,t){e=e||10;const r=new Array(e);const n=new Array(e);let i=0;let o=0;let a;t=t!==undefined?t:1e3;return function s(u){const c=Date.now();const l=n[o];if(!a){a=c}r[i]=u;n[i]=c;let f=o;let d=0;while(f!==i){d+=r[f++];f=f%e}i=(i+1)%e;if(i===o){o=(o+1)%e}if(c-a<t){return}const h=l&&c-l;return h?Math.round(d*1e3/h):undefined}}function dt(e,t){let r=0;let n=1e3/t;let i;let o;const a=(t,n=Date.now())=>{r=n;i=null;if(o){clearTimeout(o);o=null}e.apply(null,t)};const s=(...e)=>{const t=Date.now();const s=t-r;if(s>=n){a(e,t)}else{i=e;if(!o){o=setTimeout((()=>{o=null;a(i)}),n-s)}}};const u=()=>i&&a(i);return[s,u]}const ht=(e,t,r=3)=>{let n=0;const i=ft(50,250);return dt((r=>{const o=r.loaded;const a=r.lengthComputable?r.total:undefined;const s=o-n;const u=i(s);const c=o<=a;n=o;const l={loaded:o,total:a,progress:a?o/a:undefined,bytes:s,rate:u?u:undefined,estimated:u&&a&&c?(a-o)/u:undefined,event:r,lengthComputable:a!=null,[t?"download":"upload"]:true};e(l)}),r)};const pt=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]};const vt=e=>(...t)=>fe.asap((()=>e(...t)));var gt=Fe.hasStandardBrowserEnv?((e,t)=>r=>{r=new URL(r,Fe.origin);return e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)})(new URL(Fe.origin),Fe.navigator&&/(msie|trident)/i.test(Fe.navigator.userAgent)):()=>true;var mt=Fe.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const a=[e+"="+encodeURIComponent(t)];fe.isNumber(r)&&a.push("expires="+new Date(r).toGMTString());fe.isString(n)&&a.push("path="+n);fe.isString(i)&&a.push("domain="+i);o===true&&a.push("secure");document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yt(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _t(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bt(e,t){if(e&&!yt(t)){return _t(e,t)}return t}const Et=e=>e instanceof ot?{...e}:e;function St(e,t){t=t||{};const r={};function n(e,t,r,n){if(fe.isPlainObject(e)&&fe.isPlainObject(t)){return fe.merge.call({caseless:n},e,t)}else if(fe.isPlainObject(t)){return fe.merge({},t)}else if(fe.isArray(t)){return t.slice()}return t}function i(e,t,r,i){if(!fe.isUndefined(t)){return n(e,t,r,i)}else if(!fe.isUndefined(e)){return n(undefined,e,r,i)}}function o(e,t){if(!fe.isUndefined(t)){return n(undefined,t)}}function a(e,t){if(!fe.isUndefined(t)){return n(undefined,t)}else if(!fe.isUndefined(e)){return n(undefined,e)}}function s(r,i,o){if(o in t){return n(r,i)}else if(o in e){return n(undefined,r)}}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,r)=>i(Et(e),Et(t),r,true)};fe.forEach(Object.keys(Object.assign({},e,t)),(function n(o){const a=u[o]||i;const c=a(e[o],t[o],o);fe.isUndefined(c)&&a!==s||(r[o]=c)}));return r}var wt=e=>{const t=St({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:s}=t;t.headers=a=ot.from(a);t.url=Ae(bt(t.baseURL,t.url),e.params,e.paramsSerializer);if(s){a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")))}let u;if(fe.isFormData(r)){if(Fe.hasStandardBrowserEnv||Fe.hasStandardBrowserWebWorkerEnv){a.setContentType(undefined)}else if((u=a.getContentType())!==false){const[e,...t]=u?u.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}}if(Fe.hasStandardBrowserEnv){n&&fe.isFunction(n)&&(n=n(t));if(n||n!==false&&gt(t.url)){const e=i&&o&&mt.read(o);if(e){a.set(i,e)}}}return t};const Tt=typeof XMLHttpRequest!=="undefined";var Ct=Tt&&function(e){return new Promise((function t(r,n){const i=wt(e);let o=i.data;const a=ot.from(i.headers).normalize();let{responseType:s,onUploadProgress:u,onDownloadProgress:c}=i;let l;let f,d;let h,p;function v(){h&&h();p&&p();i.cancelToken&&i.cancelToken.unsubscribe(l);i.signal&&i.signal.removeEventListener("abort",l)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,true);g.timeout=i.timeout;function m(){if(!g){return}const t=ot.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());const i=!s||s==="text"||s==="json"?g.responseText:g.response;const o={data:i,status:g.status,statusText:g.statusText,headers:t,config:e,request:g};ct((function e(t){r(t);v()}),(function e(t){n(t);v()}),o);g=null}if("onloadend"in g){g.onloadend=m}else{g.onreadystatechange=function e(){if(!g||g.readyState!==4){return}if(g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)){return}setTimeout(m)}}g.onabort=function t(){if(!g){return}n(new de("Request aborted",de.ECONNABORTED,e,g));g=null};g.onerror=function t(){n(new de("Network Error",de.ERR_NETWORK,e,g));g=null};g.ontimeout=function t(){let r=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const o=i.transitional||ke;if(i.timeoutErrorMessage){r=i.timeoutErrorMessage}n(new de(r,o.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,e,g));g=null};o===undefined&&a.setContentType(null);if("setRequestHeader"in g){fe.forEach(a.toJSON(),(function e(t,r){g.setRequestHeader(r,t)}))}if(!fe.isUndefined(i.withCredentials)){g.withCredentials=!!i.withCredentials}if(s&&s!=="json"){g.responseType=i.responseType}if(c){[d,p]=ht(c,true);g.addEventListener("progress",d)}if(u&&g.upload){[f,h]=ht(u);g.upload.addEventListener("progress",f);g.upload.addEventListener("loadend",h)}if(i.cancelToken||i.signal){l=t=>{if(!g){return}n(!t||t.type?new ut(null,e,g):t);g.abort();g=null};i.cancelToken&&i.cancelToken.subscribe(l);if(i.signal){i.signal.aborted?l():i.signal.addEventListener("abort",l)}}const y=lt(i.url);if(y&&Fe.protocols.indexOf(y)===-1){n(new de("Unsupported protocol "+y+":",de.ERR_BAD_REQUEST,e));return}g.send(o||null)}))};const At=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r=new AbortController;let n;const i=function(e){if(!n){n=true;a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof de?t:new ut(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null;i(new de(`timeout ${t} of ms exceeded`,de.ETIMEDOUT))}),t);const a=()=>{if(e){o&&clearTimeout(o);o=null;e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}));e=null}};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;s.unsubscribe=()=>fe.asap(a);return s}};var Rt=At;const It=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0;let i;while(n<r){i=n+t;yield e.slice(n,i);n=i}};const kt=async function*(e,t){for await(const r of Ot(e)){yield*It(r,t)}};const Ot=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e){break}yield r}}finally{await t.cancel()}};const Pt=(e,t,r,n)=>{const i=kt(e,t);let o=0;let a;let s=e=>{if(!a){a=true;n&&n(e)}};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t){s();e.close();return}let a=n.byteLength;if(r){let e=o+=a;r(e)}e.enqueue(new Uint8Array(n))}catch(e){s(e);throw e}},cancel(e){s(e);return i.return()}},{highWaterMark:2})};const Mt=typeof fetch==="function"&&typeof Request==="function"&&typeof Response==="function";const xt=Mt&&typeof ReadableStream==="function";const Lt=Mt&&(typeof TextEncoder==="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer()));const Dt=(e,...t)=>{try{return!!e(...t)}catch(e){return false}};const Nt=xt&&Dt((()=>{let e=false;const t=new Request(Fe.origin,{body:new ReadableStream,method:"POST",get duplex(){e=true;return"half"}}).headers.has("Content-Type");return e&&!t}));const jt=64*1024;const Ut=xt&&Dt((()=>fe.isReadableStream(new Response("").body)));const Bt={stream:Ut&&(e=>e.body)};Mt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!Bt[t]&&(Bt[t]=fe.isFunction(e[t])?e=>e[t]():(e,r)=>{throw new de(`Response type '${t}' is not supported`,de.ERR_NOT_SUPPORT,r)})}))})(new Response);const Ft=async e=>{if(e==null){return 0}if(fe.isBlob(e)){return e.size}if(fe.isSpecCompliantForm(e)){const t=new Request(Fe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}if(fe.isArrayBufferView(e)||fe.isArrayBuffer(e)){return e.byteLength}if(fe.isURLSearchParams(e)){e=e+""}if(fe.isString(e)){return(await Lt(e)).byteLength}};const Ht=async(e,t)=>{const r=fe.toFiniteNumber(e.getContentLength());return r==null?Ft(t):r};var Vt=Mt&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:u,responseType:c,headers:l,withCredentials:f="same-origin",fetchOptions:d}=wt(e);c=c?(c+"").toLowerCase():"text";let h=Rt([i,o&&o.toAbortSignal()],a);let p;const v=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(u&&Nt&&r!=="get"&&r!=="head"&&(g=await Ht(l,n))!==0){let e=new Request(t,{method:"POST",body:n,duplex:"half"});let r;if(fe.isFormData(n)&&(r=e.headers.get("content-type"))){l.setContentType(r)}if(e.body){const[t,r]=pt(g,ht(vt(u)));n=Pt(e.body,jt,t,r)}}if(!fe.isString(f)){f=f?"include":"omit"}const i="credentials"in Request.prototype;p=new Request(t,{...d,signal:h,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:i?f:undefined});let o=await fetch(p);const a=Ut&&(c==="stream"||c==="response");if(Ut&&(s||a&&v)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=fe.toFiniteNumber(o.headers.get("content-length"));const[r,n]=s&&pt(t,ht(vt(s),true))||[];o=new Response(Pt(o.body,jt,r,(()=>{n&&n();v&&v()})),e)}c=c||"text";let m=await Bt[fe.findKey(Bt,c)||"text"](o,e);!a&&v&&v();return await new Promise(((t,r)=>{ct(t,r,{data:m,headers:ot.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})}))}catch(t){v&&v();if(t&&t.name==="TypeError"&&/fetch/i.test(t.message)){throw Object.assign(new de("Network Error",de.ERR_NETWORK,e,p),{cause:t.cause||t})}throw de.from(t,t&&t.code,e,p)}});const Wt={http:ve,xhr:Ct,fetch:Vt};fe.forEach(Wt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const zt=e=>`- ${e}`;const Gt=e=>fe.isFunction(e)||e===null||e===false;var Yt={getAdapter:e=>{e=fe.isArray(e)?e:[e];const{length:t}=e;let r;let n;const i={};for(let o=0;o<t;o++){r=e[o];let t;n=r;if(!Gt(r)){n=Wt[(t=String(r)).toLowerCase()];if(n===undefined){throw new de(`Unknown adapter '${t}'`)}}if(n){break}i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(t===false?"is not supported by the environment":"is not available in the build")));let r=t?e.length>1?"since :\n"+e.map(zt).join("\n"):" "+zt(e[0]):"as no adapter specified";throw new de(`There is no suitable adapter to dispatch the request `+r,"ERR_NOT_SUPPORT")}return n},adapters:Wt};function Kt(e){if(e.cancelToken){e.cancelToken.throwIfRequested()}if(e.signal&&e.signal.aborted){throw new ut(null,e)}}function qt(e){Kt(e);e.headers=ot.from(e.headers);e.data=at.call(e,e.transformRequest);if(["post","put","patch"].indexOf(e.method)!==-1){e.headers.setContentType("application/x-www-form-urlencoded",false)}const t=Yt.getAdapter(e.adapter||Ke.adapter);return t(e).then((function t(r){Kt(e);r.data=at.call(e,e.transformResponse,r);r.headers=ot.from(r.headers);return r}),(function t(r){if(!st(r)){Kt(e);if(r&&r.response){r.response.data=at.call(e,e.transformResponse,r.response);r.response.headers=ot.from(r.response.headers)}}return Promise.reject(r)}))}const $t="1.7.8";const Jt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Jt[e]=function r(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Zt={};Jt.transitional=function e(t,r,n){function i(e,t){return"[Axios v"+$t+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(e,n,o)=>{if(t===false){throw new de(i(n," has been removed"+(r?" in "+r:"")),de.ERR_DEPRECATED)}if(r&&!Zt[n]){Zt[n]=true;console.warn(i(n," has been deprecated since v"+r+" and will be removed in the near future"))}return t?t(e,n,o):true}};Jt.spelling=function e(t){return(e,r)=>{console.warn(`${r} is likely a misspelling of ${t}`);return true}};function Xt(e,t,r){if(typeof e!=="object"){throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE)}const n=Object.keys(e);let i=n.length;while(i-- >0){const o=n[i];const a=t[o];if(a){const t=e[o];const r=t===undefined||a(t,o,e);if(r!==true){throw new de("option "+o+" must be "+r,de.ERR_BAD_OPTION_VALUE)}continue}if(r!==true){throw new de("Unknown option "+o,de.ERR_BAD_OPTION)}}}var Qt={assertOptions:Xt,validators:Jt};const er=Qt.validators;class tr{constructor(e){this.defaults=e;this.interceptors={request:new Ie,response:new Ie}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{if(!e.stack){e.stack=r}else if(r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))){e.stack+="\n"+r}}catch(e){}}throw e}}_request(e,t){if(typeof e==="string"){t=t||{};t.url=e}else{t=e||{}}t=St(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;if(r!==undefined){Qt.assertOptions(r,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},false)}if(n!=null){if(fe.isFunction(n)){t.paramsSerializer={serialize:n}}else{Qt.assertOptions(n,{encode:er.function,serialize:er.function},true)}}Qt.assertOptions(t,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},true);t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&fe.merge(i.common,i[t.method]);i&&fe.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]}));t.headers=ot.concat(o,i);const a=[];let s=true;this.interceptors.request.forEach((function e(r){if(typeof r.runWhen==="function"&&r.runWhen(t)===false){return}s=s&&r.synchronous;a.unshift(r.fulfilled,r.rejected)}));const u=[];this.interceptors.response.forEach((function e(t){u.push(t.fulfilled,t.rejected)}));let c;let l=0;let f;if(!s){const e=[qt.bind(this),undefined];e.unshift.apply(e,a);e.push.apply(e,u);f=e.length;c=Promise.resolve(t);while(l<f){c=c.then(e[l++],e[l++])}return c}f=a.length;let d=t;l=0;while(l<f){const e=a[l++];const t=a[l++];try{d=e(d)}catch(e){t.call(this,e);break}}try{c=qt.call(this,d)}catch(e){return Promise.reject(e)}l=0;f=u.length;while(l<f){c=c.then(u[l++],u[l++])}return c}getUri(e){e=St(this.defaults,e);const t=bt(e.baseURL,e.url);return Ae(t,e.params,e.paramsSerializer)}}fe.forEach(["delete","get","head","options"],(function e(t){tr.prototype[t]=function(e,r){return this.request(St(r||{},{method:t,url:e,data:(r||{}).data}))}}));fe.forEach(["post","put","patch"],(function e(t){function r(e){return function r(n,i,o){return this.request(St(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}tr.prototype[t]=r();tr.prototype[t+"Form"]=r(true)}));var rr=tr;class nr{constructor(e){if(typeof e!=="function"){throw new TypeError("executor must be a function.")}let t;this.promise=new Promise((function e(r){t=r}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;while(t-- >0){r._listeners[t](e)}r._listeners=null}));this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e);t=e})).then(e);n.cancel=function e(){r.unsubscribe(t)};return n};e((function e(n,i,o){if(r.reason){return}r.reason=new ut(n,i,o);t(r.reason)}))}throwIfRequested(){if(this.reason){throw this.reason}}subscribe(e){if(this.reason){e(this.reason);return}if(this._listeners){this._listeners.push(e)}else{this._listeners=[e]}}unsubscribe(e){if(!this._listeners){return}const t=this._listeners.indexOf(e);if(t!==-1){this._listeners.splice(t,1)}}toAbortSignal(){const e=new AbortController;const t=t=>{e.abort(t)};this.subscribe(t);e.signal.unsubscribe=()=>this.unsubscribe(t);return e.signal}static source(){let e;const t=new nr((function t(r){e=r}));return{token:t,cancel:e}}}var ir=nr;function or(e){return function t(r){return e.apply(null,r)}}function ar(e){return fe.isObject(e)&&e.isAxiosError===true}const sr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sr).forEach((([e,t])=>{sr[t]=e}));var ur=sr;function cr(e){const t=new rr(e);const r=n(rr.prototype.request,t);fe.extend(r,rr.prototype,t,{allOwnKeys:true});fe.extend(r,t,null,{allOwnKeys:true});r.create=function t(r){return cr(St(e,r))};return r}const lr=cr(Ke);lr.Axios=rr;lr.CanceledError=ut;lr.CancelToken=ir;lr.isCancel=st;lr.VERSION=$t;lr.toFormData=Ee;lr.AxiosError=de;lr.Cancel=lr.CanceledError;lr.all=function e(t){return Promise.all(t)};lr.spread=or;lr.isAxiosError=ar;lr.mergeConfig=St;lr.AxiosHeaders=ot;lr.formToJSON=e=>ze(fe.isHTMLForm(e)?new FormData(e):e);lr.getAdapter=Yt.getAdapter;lr.HttpStatusCode=ur;lr.default=lr;e.exports=lr},93967:(e,t)=>{var r,n;(function(){"use strict";var i={}.hasOwnProperty;function o(){var e="";for(var t=0;t<arguments.length;t++){var r=arguments[t];if(r){e=s(e,a(r))}}return e}function a(e){if(typeof e==="string"||typeof e==="number"){return e}if(typeof e!=="object"){return""}if(Array.isArray(e)){return o.apply(null,e)}if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]")){return e.toString()}var t="";for(var r in e){if(i.call(e,r)&&e[r]){t=s(t,r)}}return t}function s(e,t){if(!t){return e}if(e){return e+" "+t}return e+t}if(true&&e.exports){o.default=o;e.exports=o}else if(true){!(r=[],n=function(){return o}.apply(t,r),n!==undefined&&(e.exports=n))}else{}})()},10509:(e,t,r)=>{var n=r(69985);var i=r(23691);var o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not a function")}},52655:(e,t,r)=>{var n=r(19429);var i=r(23691);var o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not a constructor")}},23550:(e,t,r)=>{var n=r(60598);var i=String;var o=TypeError;e.exports=function(e){if(n(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},10029:(e,t,r)=>{var n=r(61034).has;e.exports=function(e){n(e);return e}},87370:(e,t,r)=>{var n=r(44201);var i=r(25391);var o=r(72560).f;var a=n("unscopables");var s=Array.prototype;if(s[a]===undefined){o(s,a,{configurable:true,value:i(null)})}e.exports=function(e){s[a][e]=true}},71514:(e,t,r)=>{var n=r(10730).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},767:(e,t,r)=>{var n=r(23622);var i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},85027:(e,t,r)=>{var n=r(48999);var i=String;var o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not an object")}},37075:e=>{e.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"},33050:(e,t,r)=>{var n=r(51087);var i=r(52743);var o=r(6648);var a=n.ArrayBuffer;var s=n.TypeError;e.exports=a&&i(a.prototype,"byteLength","get")||function(e){if(o(e)!=="ArrayBuffer")throw new s("ArrayBuffer expected");return e.byteLength}},22961:(e,t,r)=>{var n=r(51087);var i=r(37075);var o=r(33050);var a=n.DataView;e.exports=function(e){if(!i||o(e)!==0)return false;try{new a(e);return false}catch(e){return true}}},11655:(e,t,r)=>{var n=r(3689);e.exports=n((function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);if(Object.isExtensible(e))Object.defineProperty(e,"a",{value:8})}}))},33021:(e,t,r)=>{var n=r(22961);var i=TypeError;e.exports=function(e){if(n(e))throw new i("ArrayBuffer is detached");return e}},29195:(e,t,r)=>{var n=r(51087);var i=r(68844);var o=r(52743);var a=r(19842);var s=r(33021);var u=r(33050);var c=r(21420);var l=r(63514);var f=n.structuredClone;var d=n.ArrayBuffer;var h=n.DataView;var p=Math.min;var v=d.prototype;var g=h.prototype;var m=i(v.slice);var y=o(v,"resizable","get");var _=o(v,"maxByteLength","get");var b=i(g.getInt8);var E=i(g.setInt8);e.exports=(l||c)&&function(e,t,r){var n=u(e);var i=t===undefined?n:a(t);var o=!y||!y(e);var v;s(e);if(l){e=f(e,{transfer:[e]});if(n===i&&(r||o))return e}if(n>=i&&(!r||o)){v=m(e,0,i)}else{var g=r&&!o&&_?{maxByteLength:_(e)}:undefined;v=new d(i,g);var S=new h(e);var w=new h(v);var T=p(i,n);for(var C=0;C<T;C++)E(w,C,b(S,C))}if(!l)c(e);return v}},54872:(e,t,r)=>{var n=r(37075);var i=r(67697);var o=r(51087);var a=r(69985);var s=r(48999);var u=r(36812);var c=r(50926);var l=r(23691);var f=r(75773);var d=r(11880);var h=r(62148);var p=r(23622);var v=r(61868);var g=r(49385);var m=r(44201);var y=r(14630);var _=r(618);var b=_.enforce;var E=_.get;var S=o.Int8Array;var w=S&&S.prototype;var T=o.Uint8ClampedArray;var C=T&&T.prototype;var A=S&&v(S);var R=w&&v(w);var I=Object.prototype;var k=o.TypeError;var O=m("toStringTag");var P=y("TYPED_ARRAY_TAG");var M="TypedArrayConstructor";var x=n&&!!g&&c(o.opera)!=="Opera";var L=false;var D,N,j;var U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};var B={BigInt64Array:8,BigUint64Array:8};var F=function e(t){if(!s(t))return false;var r=c(t);return r==="DataView"||u(U,r)||u(B,r)};var H=function(e){var t=v(e);if(!s(t))return;var r=E(t);return r&&u(r,M)?r[M]:H(t)};var V=function(e){if(!s(e))return false;var t=c(e);return u(U,t)||u(B,t)};var W=function(e){if(V(e))return e;throw new k("Target is not a typed array")};var z=function(e){if(a(e)&&(!g||p(A,e)))return e;throw new k(l(e)+" is not a typed array constructor")};var G=function(e,t,r,n){if(!i)return;if(r)for(var a in U){var s=o[a];if(s&&u(s.prototype,e))try{delete s.prototype[e]}catch(r){try{s.prototype[e]=t}catch(e){}}}if(!R[e]||r){d(R,e,r?t:x&&w[e]||t,n)}};var Y=function(e,t,r){var n,a;if(!i)return;if(g){if(r)for(n in U){a=o[n];if(a&&u(a,e))try{delete a[e]}catch(e){}}if(!A[e]||r){try{return d(A,e,r?t:x&&A[e]||t)}catch(e){}}else return}for(n in U){a=o[n];if(a&&(!a[e]||r)){d(a,e,t)}}};for(D in U){N=o[D];j=N&&N.prototype;if(j)b(j)[M]=N;else x=false}for(D in B){N=o[D];j=N&&N.prototype;if(j)b(j)[M]=N}if(!x||!a(A)||A===Function.prototype){A=function e(){throw new k("Incorrect invocation")};if(x)for(D in U){if(o[D])g(o[D],A)}}if(!x||!R||R===I){R=A.prototype;if(x)for(D in U){if(o[D])g(o[D].prototype,R)}}if(x&&v(C)!==R){g(C,R)}if(i&&!u(R,O)){L=true;h(R,O,{configurable:true,get:function(){return s(this)?this[P]:undefined}});for(D in U)if(o[D]){f(o[D],P,D)}}e.exports={NATIVE_ARRAY_BUFFER_VIEWS:x,TYPED_ARRAY_TAG:L&&P,aTypedArray:W,aTypedArrayConstructor:z,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:H,isView:F,isTypedArray:V,TypedArray:A,TypedArrayPrototype:R}},83999:(e,t,r)=>{var n=r(51087);var i=r(68844);var o=r(67697);var a=r(37075);var s=r(41236);var u=r(75773);var c=r(62148);var l=r(6045);var f=r(3689);var d=r(767);var h=r(68700);var p=r(43126);var v=r(19842);var g=r(37788);var m=r(15477);var y=r(61868);var _=r(49385);var b=r(62872);var E=r(96004);var S=r(33457);var w=r(8758);var T=r(55997);var C=r(618);var A=s.PROPER;var R=s.CONFIGURABLE;var I="ArrayBuffer";var k="DataView";var O="prototype";var P="Wrong length";var M="Wrong index";var x=C.getterFor(I);var L=C.getterFor(k);var D=C.set;var N=n[I];var j=N;var U=j&&j[O];var B=n[k];var F=B&&B[O];var H=Object.prototype;var V=n.Array;var W=n.RangeError;var z=i(b);var G=i([].reverse);var Y=m.pack;var K=m.unpack;var q=function(e){return[e&255]};var $=function(e){return[e&255,e>>8&255]};var J=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]};var Z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]};var X=function(e){return Y(g(e),23,4)};var Q=function(e){return Y(e,52,8)};var ee=function(e,t,r){c(e[O],t,{configurable:true,get:function(){return r(this)[t]}})};var te=function(e,t,r,n){var i=L(e);var o=v(r);var a=!!n;if(o+t>i.byteLength)throw new W(M);var s=i.bytes;var u=o+i.byteOffset;var c=E(s,u,u+t);return a?c:G(c)};var re=function(e,t,r,n,i,o){var a=L(e);var s=v(r);var u=n(+i);var c=!!o;if(s+t>a.byteLength)throw new W(M);var l=a.bytes;var f=s+a.byteOffset;for(var d=0;d<t;d++)l[f+d]=u[c?d:t-d-1]};if(!a){j=function e(t){d(this,U);var r=v(t);D(this,{type:I,bytes:z(V(r),0),byteLength:r});if(!o){this.byteLength=r;this.detached=false}};U=j[O];B=function e(t,r,n){d(this,F);d(t,U);var i=x(t);var a=i.byteLength;var s=h(r);if(s<0||s>a)throw new W("Wrong offset");n=n===undefined?a-s:p(n);if(s+n>a)throw new W(P);D(this,{type:k,buffer:t,byteLength:n,byteOffset:s,bytes:i.bytes});if(!o){this.buffer=t;this.byteLength=n;this.byteOffset=s}};F=B[O];if(o){ee(j,"byteLength",x);ee(B,"buffer",L);ee(B,"byteLength",L);ee(B,"byteOffset",L)}l(F,{getInt8:function e(t){return te(this,1,t)[0]<<24>>24},getUint8:function e(t){return te(this,1,t)[0]},getInt16:function e(t){var r=te(this,2,t,arguments.length>1?arguments[1]:false);return(r[1]<<8|r[0])<<16>>16},getUint16:function e(t){var r=te(this,2,t,arguments.length>1?arguments[1]:false);return r[1]<<8|r[0]},getInt32:function e(t){return Z(te(this,4,t,arguments.length>1?arguments[1]:false))},getUint32:function e(t){return Z(te(this,4,t,arguments.length>1?arguments[1]:false))>>>0},getFloat32:function e(t){return K(te(this,4,t,arguments.length>1?arguments[1]:false),23)},getFloat64:function e(t){return K(te(this,8,t,arguments.length>1?arguments[1]:false),52)},setInt8:function e(t,r){re(this,1,t,q,r)},setUint8:function e(t,r){re(this,1,t,q,r)},setInt16:function e(t,r){re(this,2,t,$,r,arguments.length>2?arguments[2]:false)},setUint16:function e(t,r){re(this,2,t,$,r,arguments.length>2?arguments[2]:false)},setInt32:function e(t,r){re(this,4,t,J,r,arguments.length>2?arguments[2]:false)},setUint32:function e(t,r){re(this,4,t,J,r,arguments.length>2?arguments[2]:false)},setFloat32:function e(t,r){re(this,4,t,X,r,arguments.length>2?arguments[2]:false)},setFloat64:function e(t,r){re(this,8,t,Q,r,arguments.length>2?arguments[2]:false)}})}else{var ne=A&&N.name!==I;if(!f((function(){N(1)}))||!f((function(){new N(-1)}))||f((function(){new N;new N(1.5);new N(NaN);return N.length!==1||ne&&!R}))){j=function e(t){d(this,U);return S(new N(v(t)),this,j)};j[O]=U;U.constructor=j;w(j,N)}else if(ne&&R){u(N,"name",I)}if(_&&y(F)!==H){_(F,H)}var ie=new B(new j(2));var oe=i(F.setInt8);ie.setInt8(0,2147483648);ie.setInt8(1,2147483649);if(ie.getInt8(0)||!ie.getInt8(1))l(F,{setInt8:function e(t,r){oe(this,t,r<<24>>24)},setUint8:function e(t,r){oe(this,t,r<<24>>24)}},{unsafe:true})}T(j,I);T(B,k);e.exports={ArrayBuffer:j,DataView:B}},70357:(e,t,r)=>{var n=r(90690);var i=r(27578);var o=r(6310);var a=r(98494);var s=Math.min;e.exports=[].copyWithin||function e(t,r){var u=n(this);var c=o(u);var l=i(t,c);var f=i(r,c);var d=arguments.length>2?arguments[2]:undefined;var h=s((d===undefined?c:i(d,c))-f,c-l);var p=1;if(f<l&&l<f+h){p=-1;f+=h-1;l+=h-1}while(h-- >0){if(f in u)u[l]=u[f];else a(u,l);l+=p;f+=p}return u}},62872:(e,t,r)=>{var n=r(90690);var i=r(27578);var o=r(6310);e.exports=function e(t){var r=n(this);var a=o(r);var s=arguments.length;var u=i(s>1?arguments[1]:undefined,a);var c=s>2?arguments[2]:undefined;var l=c===undefined?a:i(c,a);while(l>u)r[u++]=t;return r}},57612:(e,t,r)=>{var n=r(2960).forEach;var i=r(16834);var o=i("forEach");e.exports=!o?function e(t){return n(this,t,arguments.length>1?arguments[1]:undefined)}:[].forEach},59976:(e,t,r)=>{var n=r(6310);e.exports=function(e,t,r){var i=0;var o=arguments.length>2?r:n(t);var a=new e(o);while(o>i)a[i]=t[i++];return a}},21055:(e,t,r)=>{var n=r(54071);var i=r(22615);var o=r(90690);var a=r(71228);var s=r(93292);var u=r(19429);var c=r(6310);var l=r(76522);var f=r(5185);var d=r(91664);var h=Array;e.exports=function e(t){var r=o(t);var p=u(this);var v=arguments.length;var g=v>1?arguments[1]:undefined;var m=g!==undefined;if(m)g=n(g,v>2?arguments[2]:undefined);var y=d(r);var _=0;var b,E,S,w,T,C;if(y&&!(this===h&&s(y))){E=p?new this:[];w=f(r,y);T=w.next;for(;!(S=i(T,w)).done;_++){C=m?a(w,g,[S.value,_],true):S.value;l(E,_,C)}}else{b=c(r);E=p?new this(b):h(b);for(;b>_;_++){C=m?g(r[_],_):r[_];l(E,_,C)}}E.length=_;return E}},84328:(e,t,r)=>{var n=r(65290);var i=r(27578);var o=r(6310);var a=function(e){return function(t,r,a){var s=n(t);var u=o(s);if(u===0)return!e&&-1;var c=i(a,u);var l;if(e&&r!==r)while(u>c){l=s[c++];if(l!==l)return true}else for(;u>c;c++){if((e||c in s)&&s[c]===r)return e||c||0}return!e&&-1}};e.exports={includes:a(true),indexOf:a(false)}},61969:(e,t,r)=>{var n=r(54071);var i=r(94413);var o=r(90690);var a=r(6310);var s=function(e){var t=e===1;return function(r,s,u){var c=o(r);var l=i(c);var f=a(l);var d=n(s,u);var h,p;while(f-- >0){h=l[f];p=d(h,f,c);if(p)switch(e){case 0:return h;case 1:return f}}return t?-1:undefined}};e.exports={findLast:s(0),findLastIndex:s(1)}},2960:(e,t,r)=>{var n=r(54071);var i=r(68844);var o=r(94413);var a=r(90690);var s=r(6310);var u=r(27120);var c=i([].push);var l=function(e){var t=e===1;var r=e===2;var i=e===3;var l=e===4;var f=e===6;var d=e===7;var h=e===5||f;return function(p,v,g,m){var y=a(p);var _=o(y);var b=s(_);var E=n(v,g);var S=0;var w=m||u;var T=t?w(p,b):r||d?w(p,0):undefined;var C,A;for(;b>S;S++)if(h||S in _){C=_[S];A=E(C,S,y);if(e){if(t)T[S]=A;else if(A)switch(e){case 3:return true;case 5:return C;case 6:return S;case 2:c(T,C)}else switch(e){case 4:return false;case 7:c(T,C)}}}return f?-1:i||l?l:T}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},60953:(e,t,r)=>{var n=r(61735);var i=r(65290);var o=r(68700);var a=r(6310);var s=r(16834);var u=Math.min;var c=[].lastIndexOf;var l=!!c&&1/[1].lastIndexOf(1,-0)<0;var f=s("lastIndexOf");var d=l||!f;e.exports=d?function e(t){if(l)return n(c,this,arguments)||0;var r=i(this);var s=a(r);if(s===0)return-1;var f=s-1;if(arguments.length>1)f=u(f,o(arguments[1]));if(f<0)f=s+f;for(;f>=0;f--)if(f in r&&r[f]===t)return f||0;return-1}:c},29042:(e,t,r)=>{var n=r(3689);var i=r(44201);var o=r(21352);var a=i("species");e.exports=function(e){return o>=51||!n((function(){var t=[];var r=t.constructor={};r[a]=function(){return{foo:1}};return t[e](Boolean).foo!==1}))}},16834:(e,t,r)=>{var n=r(3689);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},88820:(e,t,r)=>{var n=r(10509);var i=r(90690);var o=r(94413);var a=r(6310);var s=TypeError;var u="Reduce of empty array with no initial value";var c=function(e){return function(t,r,c,l){var f=i(t);var d=o(f);var h=a(f);n(r);if(h===0&&c<2)throw new s(u);var p=e?h-1:0;var v=e?-1:1;if(c<2)while(true){if(p in d){l=d[p];p+=v;break}p+=v;if(e?p<0:h<=p){throw new s(u)}}for(;e?p>=0:h>p;p+=v)if(p in d){l=r(l,d[p],p,f)}return l}};e.exports={left:c(false),right:c(true)}},5649:(e,t,r)=>{var n=r(67697);var i=r(92297);var o=TypeError;var a=Object.getOwnPropertyDescriptor;var s=n&&!function(){if(this!==undefined)return true;try{Object.defineProperty([],"length",{writable:false}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable){throw new o("Cannot set read only .length")}return e.length=t}:function(e,t){return e.length=t}},96004:(e,t,r)=>{var n=r(68844);e.exports=n([].slice)},50382:(e,t,r)=>{var n=r(96004);var i=Math.floor;var o=function(e,t){var r=e.length;if(r<8){var a=1;var s,u;while(a<r){u=a;s=e[a];while(u&&t(e[u-1],s)>0){e[u]=e[--u]}if(u!==a++)e[u]=s}}else{var c=i(r/2);var l=o(n(e,0,c),t);var f=o(n(e,c),t);var d=l.length;var h=f.length;var p=0;var v=0;while(p<d||v<h){e[p+v]=p<d&&v<h?t(l[p],f[v])<=0?l[p++]:f[v++]:p<d?l[p++]:f[v++]}}return e};e.exports=o},25271:(e,t,r)=>{var n=r(92297);var i=r(19429);var o=r(48999);var a=r(44201);var s=a("species");var u=Array;e.exports=function(e){var t;if(n(e)){t=e.constructor;if(i(t)&&(t===u||n(t.prototype)))t=undefined;else if(o(t)){t=t[s];if(t===null)t=undefined}}return t===undefined?u:t}},27120:(e,t,r)=>{var n=r(25271);e.exports=function(e,t){return new(n(e))(t===0?0:t)}},26166:(e,t,r)=>{var n=r(6310);e.exports=function(e,t){var r=n(e);var i=new t(r);var o=0;for(;o<r;o++)i[o]=e[r-o-1];return i}},16134:(e,t,r)=>{var n=r(6310);var i=r(68700);var o=RangeError;e.exports=function(e,t,r,a){var s=n(e);var u=i(r);var c=u<0?s+u:u;if(c>=s||c<0)throw new o("Incorrect index");var l=new t(s);var f=0;for(;f<s;f++)l[f]=f===c?a:e[f];return l}},18368:e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var r=t+"+/";var n=t+"-_";var i=function(e){var t={};var r=0;for(;r<64;r++)t[e.charAt(r)]=r;return t};e.exports={i2c:r,c2i:i(r),i2cUrl:n,c2iUrl:i(n)}},71228:(e,t,r)=>{var n=r(85027);var i=r(72125);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},86431:(e,t,r)=>{var n=r(44201);var i=n("iterator");var o=false;try{var a=0;var s={next:function(){return{done:!!a++}},return:function(){o=true}};s[i]=function(){return this};Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!o)return false}catch(e){return false}var r=false;try{var n={};n[i]=function(){return{next:function(){return{done:r=true}}}};e(n)}catch(e){}return r}},6648:(e,t,r)=>{var n=r(68844);var i=n({}.toString);var o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},50926:(e,t,r)=>{var n=r(23043);var i=r(69985);var o=r(6648);var a=r(44201);var s=a("toStringTag");var u=Object;var c=o(function(){return arguments}())==="Arguments";var l=function(e,t){try{return e[t]}catch(e){}};e.exports=n?o:function(e){var t,r,n;return e===undefined?"Undefined":e===null?"Null":typeof(r=l(t=u(e),s))=="string"?r:c?o(t):(n=o(t))==="Object"&&i(t.callee)?"Arguments":n}},70800:(e,t,r)=>{var n=r(25391);var i=r(62148);var o=r(6045);var a=r(54071);var s=r(767);var u=r(981);var c=r(18734);var l=r(91934);var f=r(27807);var d=r(14241);var h=r(67697);var p=r(45375).fastKey;var v=r(618);var g=v.set;var m=v.getterFor;e.exports={getConstructor:function(e,t,r,l){var f=e((function(e,i){s(e,d);g(e,{type:t,index:n(null),first:null,last:null,size:0});if(!h)e.size=0;if(!u(i))c(i,e[l],{that:e,AS_ENTRIES:r})}));var d=f.prototype;var v=m(t);var y=function(e,t,r){var n=v(e);var i=_(e,t);var o,a;if(i){i.value=r}else{n.last=i={index:a=p(t,true),key:t,value:r,previous:o=n.last,next:null,removed:false};if(!n.first)n.first=i;if(o)o.next=i;if(h)n.size++;else e.size++;if(a!=="F")n.index[a]=i}return e};var _=function(e,t){var r=v(e);var n=p(t);var i;if(n!=="F")return r.index[n];for(i=r.first;i;i=i.next){if(i.key===t)return i}};o(d,{clear:function e(){var t=this;var r=v(t);var i=r.first;while(i){i.removed=true;if(i.previous)i.previous=i.previous.next=null;i=i.next}r.first=r.last=null;r.index=n(null);if(h)r.size=0;else t.size=0},delete:function(e){var t=this;var r=v(t);var n=_(t,e);if(n){var i=n.next;var o=n.previous;delete r.index[n.index];n.removed=true;if(o)o.next=i;if(i)i.previous=o;if(r.first===n)r.first=i;if(r.last===n)r.last=o;if(h)r.size--;else t.size--}return!!n},forEach:function e(t){var r=v(this);var n=a(t,arguments.length>1?arguments[1]:undefined);var i;while(i=i?i.next:r.first){n(i.value,i.key,this);while(i&&i.removed)i=i.previous}},has:function e(t){return!!_(this,t)}});o(d,r?{get:function e(t){var r=_(this,t);return r&&r.value},set:function e(t,r){return y(this,t===0?0:t,r)}}:{add:function e(t){return y(this,t=t===0?0:t,t)}});if(h)i(d,"size",{configurable:true,get:function(){return v(this).size}});return f},setStrong:function(e,t,r){var n=t+" Iterator";var i=m(t);var o=m(n);l(e,t,(function(e,t){g(this,{type:n,target:e,state:i(e),kind:t,last:null})}),(function(){var e=o(this);var t=e.kind;var r=e.last;while(r&&r.removed)r=r.previous;if(!e.target||!(e.last=r=r?r.next:e.state.first)){e.target=null;return f(undefined,true)}if(t==="keys")return f(r.key,false);if(t==="values")return f(r.value,false);return f([r.key,r.value],false)}),r?"entries":"values",!r,true);d(t)}}},70637:(e,t,r)=>{var n=r(68844);var i=r(6045);var o=r(45375).getWeakData;var a=r(767);var s=r(85027);var u=r(981);var c=r(48999);var l=r(18734);var f=r(2960);var d=r(36812);var h=r(618);var p=h.set;var v=h.getterFor;var g=f.find;var m=f.findIndex;var y=n([].splice);var _=0;var b=function(e){return e.frozen||(e.frozen=new E)};var E=function(){this.entries=[]};var S=function(e,t){return g(e.entries,(function(e){return e[0]===t}))};E.prototype={get:function(e){var t=S(this,e);if(t)return t[1]},has:function(e){return!!S(this,e)},set:function(e,t){var r=S(this,e);if(r)r[1]=t;else this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));if(~t)y(this.entries,t,1);return!!~t}};e.exports={getConstructor:function(e,t,r,n){var f=e((function(e,i){a(e,h);p(e,{type:t,id:_++,frozen:null});if(!u(i))l(i,e[n],{that:e,AS_ENTRIES:r})}));var h=f.prototype;var g=v(t);var m=function(e,t,r){var n=g(e);var i=o(s(t),true);if(i===true)b(n).set(t,r);else i[n.id]=r;return e};i(h,{delete:function(e){var t=g(this);if(!c(e))return false;var r=o(e);if(r===true)return b(t)["delete"](e);return r&&d(r,t.id)&&delete r[t.id]},has:function e(t){var r=g(this);if(!c(t))return false;var n=o(t);if(n===true)return b(r).has(t);return n&&d(n,r.id)}});i(h,r?{get:function e(t){var r=g(this);if(c(t)){var n=o(t);if(n===true)return b(r).get(t);if(n)return n[r.id]}},set:function e(t,r){return m(this,t,r)}}:{add:function e(t){return m(this,t,true)}});return f}}},20319:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(68844);var a=r(35266);var s=r(11880);var u=r(45375);var c=r(18734);var l=r(767);var f=r(69985);var d=r(981);var h=r(48999);var p=r(3689);var v=r(86431);var g=r(55997);var m=r(33457);e.exports=function(e,t,r){var y=e.indexOf("Map")!==-1;var _=e.indexOf("Weak")!==-1;var b=y?"set":"add";var E=i[e];var S=E&&E.prototype;var w=E;var T={};var C=function(e){var t=o(S[e]);s(S,e,e==="add"?function e(r){t(this,r===0?0:r);return this}:e==="delete"?function(e){return _&&!h(e)?false:t(this,e===0?0:e)}:e==="get"?function e(r){return _&&!h(r)?undefined:t(this,r===0?0:r)}:e==="has"?function e(r){return _&&!h(r)?false:t(this,r===0?0:r)}:function e(r,n){t(this,r===0?0:r,n);return this})};var A=a(e,!f(E)||!(_||S.forEach&&!p((function(){(new E).entries().next()}))));if(A){w=r.getConstructor(t,e,y,b);u.enable()}else if(a(e,true)){var R=new w;var I=R[b](_?{}:-0,1)!==R;var k=p((function(){R.has(1)}));var O=v((function(e){new E(e)}));var P=!_&&p((function(){var e=new E;var t=5;while(t--)e[b](t,t);return!e.has(-0)}));if(!O){w=t((function(e,t){l(e,S);var r=m(new E,e,w);if(!d(t))c(t,r[b],{that:r,AS_ENTRIES:y});return r}));w.prototype=S;S.constructor=w}if(k||P){C("delete");C("has");y&&C("get")}if(P||I)C(b);if(_&&S.clear)delete S.clear}T[e]=w;n({global:true,constructor:true,forced:w!==E},T);g(w,e);if(!_)r.setStrong(w,e,y);return w}},8758:(e,t,r)=>{var n=r(36812);var i=r(19152);var o=r(82474);var a=r(72560);e.exports=function(e,t,r){var s=i(t);var u=a.f;var c=o.f;for(var l=0;l<s.length;l++){var f=s[l];if(!n(e,f)&&!(r&&n(r,f))){u(e,f,c(t,f))}}}},27413:(e,t,r)=>{var n=r(44201);var i=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[i]=false;return"/./"[e](t)}catch(e){}}return false}},81748:(e,t,r)=>{var n=r(3689);e.exports=!n((function(){function e(){}e.prototype.constructor=null;return Object.getPrototypeOf(new e)!==e.prototype}))},71568:(e,t,r)=>{var n=r(68844);var i=r(74684);var o=r(34327);var a=/"/g;var s=n("".replace);e.exports=function(e,t,r,n){var u=o(i(e));var c="<"+t;if(r!=="")c+=" "+r+'="'+s(o(n),a,"&quot;")+'"';return c+">"+u+"</"+t+">"}},27807:e=>{e.exports=function(e,t){return{value:e,done:t}}},75773:(e,t,r)=>{var n=r(67697);var i=r(72560);var o=r(75684);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){e[t]=r;return e}},75684:e=>{e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},76522:(e,t,r)=>{var n=r(67697);var i=r(72560);var o=r(75684);e.exports=function(e,t,r){if(n)i.f(e,t,o(0,r));else e[t]=r}},99455:(e,t,r)=>{var n=r(68844);var i=r(3689);var o=r(77254).start;var a=RangeError;var s=isFinite;var u=Math.abs;var c=Date.prototype;var l=c.toISOString;var f=n(c.getTime);var d=n(c.getUTCDate);var h=n(c.getUTCFullYear);var p=n(c.getUTCHours);var v=n(c.getUTCMilliseconds);var g=n(c.getUTCMinutes);var m=n(c.getUTCMonth);var y=n(c.getUTCSeconds);e.exports=i((function(){return l.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"}))||!i((function(){l.call(new Date(NaN))}))?function e(){if(!s(f(this)))throw new a("Invalid time value");var t=this;var r=h(t);var n=v(t);var i=r<0?"-":r>9999?"+":"";return i+o(u(r),i?6:4,0)+"-"+o(m(t)+1,2,0)+"-"+o(d(t),2,0)+"T"+o(p(t),2,0)+":"+o(g(t),2,0)+":"+o(y(t),2,0)+"."+o(n,3,0)+"Z"}:l},81797:(e,t,r)=>{var n=r(85027);var i=r(35899);var o=TypeError;e.exports=function(e){n(this);if(e==="string"||e==="default")e="string";else if(e!=="number")throw new o("Incorrect hint");return i(this,e)}},62148:(e,t,r)=>{var n=r(98702);var i=r(72560);e.exports=function(e,t,r){if(r.get)n(r.get,t,{getter:true});if(r.set)n(r.set,t,{setter:true});return i.f(e,t,r)}},11880:(e,t,r)=>{var n=r(69985);var i=r(72560);var o=r(98702);var a=r(95014);e.exports=function(e,t,r,s){if(!s)s={};var u=s.enumerable;var c=s.name!==undefined?s.name:t;if(n(r))o(r,c,s);if(s.global){if(u)e[t]=r;else a(t,r)}else{try{if(!s.unsafe)delete e[t];else if(e[t])u=true}catch(e){}if(u)e[t]=r;else i.f(e,t,{value:r,enumerable:false,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},6045:(e,t,r)=>{var n=r(11880);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},95014:(e,t,r)=>{var n=r(51087);var i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:true,writable:true})}catch(r){n[e]=t}return t}},98494:(e,t,r)=>{var n=r(23691);var i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+n(t)+" of "+n(e))}},67697:(e,t,r)=>{var n=r(3689);e.exports=!n((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},21420:(e,t,r)=>{var n=r(51087);var i=r(42337);var o=r(63514);var a=n.structuredClone;var s=n.ArrayBuffer;var u=n.MessageChannel;var c=false;var l,f,d,h;if(o){c=function(e){a(e,{transfer:[e]})}}else if(s)try{if(!u){l=i("worker_threads");if(l)u=l.MessageChannel}if(u){f=new u;d=new s(2);h=function(e){f.port1.postMessage(null,[e])};if(d.byteLength===2){h(d);if(d.byteLength===0)c=h}}}catch(e){}e.exports=c},36420:(e,t,r)=>{var n=r(51087);var i=r(48999);var o=n.document;var a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},55565:e=>{var t=TypeError;var r=9007199254740991;e.exports=function(e){if(e>r)throw t("Maximum allowed index exceeded");return e}},37136:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},66338:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},33265:(e,t,r)=>{var n=r(36420);var i=n("span").classList;var o=i&&i.constructor&&i.constructor.prototype;e.exports=o===Object.prototype?undefined:o},72739:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},66164:(e,t,r)=>{var n=r(68017);var i=n.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},54014:(e,t,r)=>{var n=r(68017);e.exports=/MSIE|Trident/.test(n)},17636:(e,t,r)=>{var n=r(68017);e.exports=/ipad|iphone|ipod/i.test(n)&&typeof Pebble!="undefined"},41631:(e,t,r)=>{var n=r(68017);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},30240:(e,t,r)=>{var n=r(39791);e.exports=n==="NODE"},9976:(e,t,r)=>{var n=r(68017);e.exports=/web0s(?!.*chrome)/i.test(n)},68017:(e,t,r)=>{var n=r(51087);var i=n.navigator;var o=i&&i.userAgent;e.exports=o?String(o):""},21352:(e,t,r)=>{var n=r(51087);var i=r(68017);var o=n.process;var a=n.Deno;var s=o&&o.versions||a&&a.version;var u=s&&s.v8;var c,l;if(u){c=u.split(".");l=c[0]>0&&c[0]<4?1:+(c[0]+c[1])}if(!l&&i){c=i.match(/Edge\/(\d+)/);if(!c||c[1]>=74){c=i.match(/Chrome\/(\d+)/);if(c)l=+c[1]}}e.exports=l},83826:(e,t,r)=>{var n=r(68017);var i=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},39791:(e,t,r)=>{var n=r(51087);var i=r(68017);var o=r(6648);var a=function(e){return i.slice(0,e.length)===e};e.exports=function(){if(a("Bun/"))return"BUN";if(a("Cloudflare-Workers"))return"CLOUDFLARE";if(a("Deno/"))return"DENO";if(a("Node.js/"))return"NODE";if(n.Bun&&typeof Bun.version=="string")return"BUN";if(n.Deno&&typeof Deno.version=="object")return"DENO";if(o(n.process)==="process")return"NODE";if(n.window&&n.document)return"BROWSER";return"REST"}()},56610:(e,t,r)=>{var n=r(68844);var i=Error;var o=n("".replace);var a=function(e){return String(new i(e).stack)}("zxcasd");var s=/\n\s*at [^:]*:[^\n]*/;var u=s.test(a);e.exports=function(e,t){if(u&&typeof e=="string"&&!i.prepareStackTrace){while(t--)e=o(e,s,"")}return e}},65411:(e,t,r)=>{var n=r(75773);var i=r(56610);var o=r(49599);var a=Error.captureStackTrace;e.exports=function(e,t,r,s){if(o){if(a)a(e,t);else n(e,"stack",i(r,s))}}},49599:(e,t,r)=>{var n=r(3689);var i=r(75684);e.exports=!n((function(){var e=new Error("a");if(!("stack"in e))return true;Object.defineProperty(e,"stack",i(1,7));return e.stack!==7}))},20445:(e,t,r)=>{var n=r(67697);var i=r(3689);var o=r(85027);var a=r(13841);var s=Error.prototype.toString;var u=i((function(){if(n){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if(s.call(e)!=="true")return true}return s.call({message:1,name:2})!=="2: 1"||s.call({})!=="Error"}));e.exports=u?function e(){var t=o(this);var r=a(t.name,"Error");var n=a(t.message);return!r?n:!n?r:r+": "+n}:s},79989:(e,t,r)=>{var n=r(51087);var i=r(82474).f;var o=r(75773);var a=r(11880);var s=r(95014);var u=r(8758);var c=r(35266);e.exports=function(e,t){var r=e.target;var l=e.global;var f=e.stat;var d,h,p,v,g,m;if(l){h=n}else if(f){h=n[r]||s(r,{})}else{h=n[r]&&n[r].prototype}if(h)for(p in t){g=t[p];if(e.dontCallGetSet){m=i(h,p);v=m&&m.value}else v=h[p];d=c(l?p:r+(f?".":"#")+p,e.forced);if(!d&&v!==undefined){if(typeof g==typeof v)continue;u(g,v)}if(e.sham||v&&v.sham){o(g,"sham",true)}a(h,p,g,e)}}},3689:e=>{e.exports=function(e){try{return!!e()}catch(e){return true}}},65773:(e,t,r)=>{r(64043);var n=r(22615);var i=r(11880);var o=r(56308);var a=r(3689);var s=r(44201);var u=r(75773);var c=s("species");var l=RegExp.prototype;e.exports=function(e,t,r,f){var d=s(e);var h=!a((function(){var t={};t[d]=function(){return 7};return""[e](t)!==7}));var p=h&&!a((function(){var t=false;var r=/a/;if(e==="split"){r={};r.constructor={};r.constructor[c]=function(){return r};r.flags="";r[d]=/./[d]}r.exec=function(){t=true;return null};r[d]("");return!t}));if(!h||!p||r){var v=/./[d];var g=t(d,""[e],(function(e,t,r,i,a){var s=t.exec;if(s===o||s===l.exec){if(h&&!a){return{done:true,value:n(v,t,r,i)}}return{done:true,value:n(e,r,t,i)}}return{done:false}}));i(String.prototype,e,g[0]);i(l,d,g[1])}if(f)u(l[d],"sham",true)}},37809:(e,t,r)=>{var n=r(92297);var i=r(6310);var o=r(55565);var a=r(54071);var s=function(e,t,r,u,c,l,f,d){var h=c;var p=0;var v=f?a(f,d):false;var g,m;while(p<u){if(p in r){g=v?v(r[p],p,t):r[p];if(l>0&&n(g)){m=i(g);h=s(e,t,g,m,h,l-1)-1}else{o(h+1);e[h]=g}h++}p++}return h};e.exports=s},71594:(e,t,r)=>{var n=r(3689);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},61735:(e,t,r)=>{var n=r(97215);var i=Function.prototype;var o=i.apply;var a=i.call;e.exports=typeof Reflect=="object"&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},54071:(e,t,r)=>{var n=r(46576);var i=r(10509);var o=r(97215);var a=n(n.bind);e.exports=function(e,t){i(e);return t===undefined?e:o?a(e,t):function(){return e.apply(t,arguments)}}},97215:(e,t,r)=>{var n=r(3689);e.exports=!n((function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}))},86761:(e,t,r)=>{var n=r(68844);var i=r(10509);var o=r(48999);var a=r(36812);var s=r(96004);var u=r(97215);var c=Function;var l=n([].concat);var f=n([].join);var d={};var h=function(e,t,r){if(!a(d,t)){var n=[];var i=0;for(;i<t;i++)n[i]="a["+i+"]";d[t]=c("C,a","return new C("+f(n,",")+")")}return d[t](e,r)};e.exports=u?c.bind:function e(t){var r=i(this);var n=r.prototype;var a=s(arguments,1);var u=function e(){var n=l(a,s(arguments));return this instanceof u?h(r,n.length,n):r.apply(t,n)};if(o(n))u.prototype=n;return u}},22615:(e,t,r)=>{var n=r(97215);var i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},41236:(e,t,r)=>{var n=r(67697);var i=r(36812);var o=Function.prototype;var a=n&&Object.getOwnPropertyDescriptor;var s=i(o,"name");var u=s&&function e(){}.name==="something";var c=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},52743:(e,t,r)=>{var n=r(68844);var i=r(10509);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},46576:(e,t,r)=>{var n=r(6648);var i=r(68844);e.exports=function(e){if(n(e)==="Function")return i(e)}},68844:(e,t,r)=>{var n=r(97215);var i=Function.prototype;var o=i.call;var a=n&&i.bind.bind(o,o);e.exports=n?a:function(e){return function(){return o.apply(e,arguments)}}},42337:(e,t,r)=>{var n=r(51087);var i=r(30240);e.exports=function(e){if(i){try{return n.process.getBuiltinModule(e)}catch(e){}try{return Function('return require("'+e+'")')()}catch(e){}}}},88277:(e,t,r)=>{var n=r(51087);e.exports=function(e,t){var r=n[e];var i=r&&r.prototype;return i&&i[t]}},76058:(e,t,r)=>{var n=r(51087);var i=r(69985);var o=function(e){return i(e)?e:undefined};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},22302:e=>{e.exports=function(e){return{iterator:e,next:e.next,done:false}}},36752:(e,t,r)=>{var n=r(22615);var i=r(85027);var o=r(22302);var a=r(91664);e.exports=function(e,t){if(!t||typeof e!=="string")i(e);var r=a(e);return o(i(r!==undefined?n(r,e):e))}},91664:(e,t,r)=>{var n=r(50926);var i=r(54849);var o=r(981);var a=r(9478);var s=r(44201);var u=s("iterator");e.exports=function(e){if(!o(e))return i(e,u)||i(e,"@@iterator")||a[n(e)]}},5185:(e,t,r)=>{var n=r(22615);var i=r(10509);var o=r(85027);var a=r(23691);var s=r(91664);var u=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return o(n(r,e));throw new u(a(e)+" is not iterable")}},92643:(e,t,r)=>{var n=r(68844);var i=r(92297);var o=r(69985);var a=r(6648);var s=r(34327);var u=n([].push);e.exports=function(e){if(o(e))return e;if(!i(e))return;var t=e.length;var r=[];for(var n=0;n<t;n++){var c=e[n];if(typeof c=="string")u(r,c);else if(typeof c=="number"||a(c)==="Number"||a(c)==="String")u(r,s(c))}var l=r.length;var f=true;return function(e,t){if(f){f=false;return t}if(i(this))return t;for(var n=0;n<l;n++)if(r[n]===e)return t}}},54849:(e,t,r)=>{var n=r(10509);var i=r(981);e.exports=function(e,t){var r=e[t];return i(r)?undefined:n(r)}},41074:(e,t,r)=>{var n=r(10509);var i=r(85027);var o=r(22615);var a=r(68700);var s=r(22302);var u="Invalid size";var c=RangeError;var l=TypeError;var f=Math.max;var d=function(e,t){this.set=e;this.size=f(t,0);this.has=n(e.has);this.keys=n(e.keys)};d.prototype={getIterator:function(){return s(i(o(this.keys,this.set)))},includes:function(e){return o(this.has,this.set,e)}};e.exports=function(e){i(e);var t=+e.size;if(t!==t)throw new l(u);var r=a(t);if(r<0)throw new c(u);return new d(e,r)}},27017:(e,t,r)=>{var n=r(68844);var i=r(90690);var o=Math.floor;var a=n("".charAt);var s=n("".replace);var u=n("".slice);var c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g;var l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,f,d){var h=r+e.length;var p=n.length;var v=l;if(f!==undefined){f=i(f);v=c}return s(d,v,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,h);case"<":c=f[u(s,1,-1)];break;default:var l=+s;if(l===0)return i;if(l>p){var d=o(l/10);if(d===0)return i;if(d<=p)return n[d-1]===undefined?a(s,1):n[d-1]+a(s,1);return i}c=n[l-1]}return c===undefined?"":c}))}},51087:function(e,t,r){var n=function(e){return e&&e.Math===Math&&e};e.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof r.g=="object"&&r.g)||n(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},36812:(e,t,r)=>{var n=r(68844);var i=r(90690);var o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function e(t,r){return o(i(t),r)}},57248:e=>{e.exports={}},20920:e=>{e.exports=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(e){}}},2688:(e,t,r)=>{var n=r(76058);e.exports=n("document","documentElement")},68506:(e,t,r)=>{var n=r(67697);var i=r(3689);var o=r(36420);e.exports=!n&&!i((function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7}))},15477:e=>{var t=Array;var r=Math.abs;var n=Math.pow;var i=Math.floor;var o=Math.log;var a=Math.LN2;var s=function(e,s,u){var c=t(u);var l=u*8-s-1;var f=(1<<l)-1;var d=f>>1;var h=s===23?n(2,-24)-n(2,-77):0;var p=e<0||e===0&&1/e<0?1:0;var v=0;var g,m,y;e=r(e);if(e!==e||e===Infinity){m=e!==e?1:0;g=f}else{g=i(o(e)/a);y=n(2,-g);if(e*y<1){g--;y*=2}if(g+d>=1){e+=h/y}else{e+=h*n(2,1-d)}if(e*y>=2){g++;y/=2}if(g+d>=f){m=0;g=f}else if(g+d>=1){m=(e*y-1)*n(2,s);g+=d}else{m=e*n(2,d-1)*n(2,s);g=0}}while(s>=8){c[v++]=m&255;m/=256;s-=8}g=g<<s|m;l+=s;while(l>0){c[v++]=g&255;g/=256;l-=8}c[v-1]|=p*128;return c};var u=function(e,t){var r=e.length;var i=r*8-t-1;var o=(1<<i)-1;var a=o>>1;var s=i-7;var u=r-1;var c=e[u--];var l=c&127;var f;c>>=7;while(s>0){l=l*256+e[u--];s-=8}f=l&(1<<-s)-1;l>>=-s;s+=t;while(s>0){f=f*256+e[u--];s-=8}if(l===0){l=1-a}else if(l===o){return f?NaN:c?-Infinity:Infinity}else{f+=n(2,t);l-=a}return(c?-1:1)*f*n(2,l-t)};e.exports={pack:s,unpack:u}},94413:(e,t,r)=>{var n=r(68844);var i=r(3689);var o=r(6648);var a=Object;var s=n("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return o(e)==="String"?s(e,""):a(e)}:a},33457:(e,t,r)=>{var n=r(69985);var i=r(48999);var o=r(49385);e.exports=function(e,t,r){var a,s;if(o&&n(a=t.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype)o(e,s);return e}},6738:(e,t,r)=>{var n=r(68844);var i=r(69985);var o=r(84091);var a=n(Function.toString);if(!i(o.inspectSource)){o.inspectSource=function(e){return a(e)}}e.exports=o.inspectSource},62570:(e,t,r)=>{var n=r(48999);var i=r(75773);e.exports=function(e,t){if(n(t)&&"cause"in t){i(e,"cause",t.cause)}}},45375:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(57248);var a=r(48999);var s=r(36812);var u=r(72560).f;var c=r(72741);var l=r(26062);var f=r(27049);var d=r(14630);var h=r(71594);var p=false;var v=d("meta");var g=0;var m=function(e){u(e,v,{value:{objectID:"O"+g++,weakData:{}}})};var y=function(e,t){if(!a(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!s(e,v)){if(!f(e))return"F";if(!t)return"E";m(e)}return e[v].objectID};var _=function(e,t){if(!s(e,v)){if(!f(e))return true;if(!t)return false;m(e)}return e[v].weakData};var b=function(e){if(h&&p&&f(e)&&!s(e,v))m(e);return e};var E=function(){S.enable=function(){};p=true;var e=c.f;var t=i([].splice);var r={};r[v]=1;if(e(r).length){c.f=function(r){var n=e(r);for(var i=0,o=n.length;i<o;i++){if(n[i]===v){t(n,i,1);break}}return n};n({target:"Object",stat:true,forced:true},{getOwnPropertyNames:l.f})}};var S=e.exports={enable:E,fastKey:y,getWeakData:_,onFreeze:b};o[v]=true},618:(e,t,r)=>{var n=r(59834);var i=r(51087);var o=r(48999);var a=r(75773);var s=r(36812);var u=r(84091);var c=r(2713);var l=r(57248);var f="Object already initialized";var d=i.TypeError;var h=i.WeakMap;var p,v,g;var m=function(e){return g(e)?v(e):p(e,{})};var y=function(e){return function(t){var r;if(!o(t)||(r=v(t)).type!==e){throw new d("Incompatible receiver, "+e+" required")}return r}};if(n||u.state){var _=u.state||(u.state=new h);_.get=_.get;_.has=_.has;_.set=_.set;p=function(e,t){if(_.has(e))throw new d(f);t.facade=e;_.set(e,t);return t};v=function(e){return _.get(e)||{}};g=function(e){return _.has(e)}}else{var b=c("state");l[b]=true;p=function(e,t){if(s(e,b))throw new d(f);t.facade=e;a(e,b,t);return t};v=function(e){return s(e,b)?e[b]:{}};g=function(e){return s(e,b)}}e.exports={set:p,get:v,has:g,enforce:m,getterFor:y}},93292:(e,t,r)=>{var n=r(44201);var i=r(9478);var o=n("iterator");var a=Array.prototype;e.exports=function(e){return e!==undefined&&(i.Array===e||a[o]===e)}},92297:(e,t,r)=>{var n=r(6648);e.exports=Array.isArray||function e(t){return n(t)==="Array"}},9401:(e,t,r)=>{var n=r(50926);e.exports=function(e){var t=n(e);return t==="BigInt64Array"||t==="BigUint64Array"}},69985:e=>{var t=typeof document=="object"&&document.all;e.exports=typeof t=="undefined"&&t!==undefined?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"}},19429:(e,t,r)=>{var n=r(68844);var i=r(3689);var o=r(69985);var a=r(50926);var s=r(76058);var u=r(6738);var c=function(){};var l=s("Reflect","construct");var f=/^\s*(?:class|function)\b/;var d=n(f.exec);var h=!f.test(c);var p=function e(t){if(!o(t))return false;try{l(c,[],t);return true}catch(e){return false}};var v=function e(t){if(!o(t))return false;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return false}try{return h||!!d(f,u(t))}catch(e){return true}};v.sham=true;e.exports=!l||i((function(){var e;return p(p.call)||!p(Object)||!p((function(){e=true}))||e}))?v:p},76251:(e,t,r)=>{var n=r(36812);e.exports=function(e){return e!==undefined&&(n(e,"value")||n(e,"writable"))}},35266:(e,t,r)=>{var n=r(3689);var i=r(69985);var o=/#|\.prototype\./;var a=function(e,t){var r=u[s(e)];return r===l?true:r===c?false:i(t)?n(t):!!t};var s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()};var u=a.data={};var c=a.NATIVE="N";var l=a.POLYFILL="P";e.exports=a},71973:(e,t,r)=>{var n=r(48999);var i=Math.floor;e.exports=Number.isInteger||function e(t){return!n(t)&&isFinite(t)&&i(t)===t}},981:e=>{e.exports=function(e){return e===null||e===undefined}},48999:(e,t,r)=>{var n=r(69985);e.exports=function(e){return typeof e=="object"?e!==null:n(e)}},60598:(e,t,r)=>{var n=r(48999);e.exports=function(e){return n(e)||e===null}},53931:e=>{e.exports=false},91245:(e,t,r)=>{var n=r(48999);var i=r(6648);var o=r(44201);var a=o("match");e.exports=function(e){var t;return n(e)&&((t=e[a])!==undefined?!!t:i(e)==="RegExp")}},30734:(e,t,r)=>{var n=r(76058);var i=r(69985);var o=r(23622);var a=r(39525);var s=Object;e.exports=a?function(e){return typeof e=="symbol"}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,s(e))}},96704:(e,t,r)=>{var n=r(22615);e.exports=function(e,t,r){var i=r?e:e.iterator;var o=e.next;var a,s;while(!(a=n(o,i)).done){s=t(a.value);if(s!==undefined)return s}}},18734:(e,t,r)=>{var n=r(54071);var i=r(22615);var o=r(85027);var a=r(23691);var s=r(93292);var u=r(6310);var c=r(23622);var l=r(5185);var f=r(91664);var d=r(72125);var h=TypeError;var p=function(e,t){this.stopped=e;this.result=t};var v=p.prototype;e.exports=function(e,t,r){var g=r&&r.that;var m=!!(r&&r.AS_ENTRIES);var y=!!(r&&r.IS_RECORD);var _=!!(r&&r.IS_ITERATOR);var b=!!(r&&r.INTERRUPTED);var E=n(t,g);var S,w,T,C,A,R,I;var k=function(e){if(S)d(S,"normal",e);return new p(true,e)};var O=function(e){if(m){o(e);return b?E(e[0],e[1],k):E(e[0],e[1])}return b?E(e,k):E(e)};if(y){S=e.iterator}else if(_){S=e}else{w=f(e);if(!w)throw new h(a(e)+" is not iterable");if(s(w)){for(T=0,C=u(e);C>T;T++){A=O(e[T]);if(A&&c(v,A))return A}return new p(false)}S=l(e,w)}R=y?e.next:S.next;while(!(I=i(R,S)).done){try{A=O(I.value)}catch(e){d(S,"throw",e)}if(typeof A=="object"&&A&&c(v,A))return A}return new p(false)}},72125:(e,t,r)=>{var n=r(22615);var i=r(85027);var o=r(54849);e.exports=function(e,t,r){var a,s;i(e);try{a=o(e,"return");if(!a){if(t==="throw")throw r;return r}a=n(a,e)}catch(e){s=true;a=e}if(t==="throw")throw r;if(s)throw a;i(a);return r}},30974:(e,t,r)=>{var n=r(12013).IteratorPrototype;var i=r(25391);var o=r(75684);var a=r(55997);var s=r(9478);var u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";e.prototype=i(n,{next:o(+!c,r)});a(e,l,false,true);s[l]=u;return e}},65419:(e,t,r)=>{var n=r(22615);var i=r(25391);var o=r(75773);var a=r(6045);var s=r(44201);var u=r(618);var c=r(54849);var l=r(12013).IteratorPrototype;var f=r(27807);var d=r(72125);var h=s("toStringTag");var p="IteratorHelper";var v="WrapForValidIterator";var g=u.set;var m=function(e){var t=u.getterFor(e?v:p);return a(i(l),{next:function r(){var n=t(this);if(e)return n.nextHandler();if(n.done)return f(undefined,true);try{var i=n.nextHandler();return n.returnHandlerResult?i:f(i,n.done)}catch(e){n.done=true;throw e}},return:function(){var r=t(this);var i=r.iterator;r.done=true;if(e){var o=c(i,"return");return o?n(o,i):f(undefined,true)}if(r.inner)try{d(r.inner.iterator,"normal")}catch(e){return d(i,"throw",e)}if(i)d(i,"normal");return f(undefined,true)}})};var y=m(true);var _=m(false);o(_,h,"Iterator Helper");e.exports=function(e,t,r){var n=function n(i,o){if(o){o.iterator=i.iterator;o.next=i.next}else o=i;o.type=t?v:p;o.returnHandlerResult=!!r;o.nextHandler=e;o.counter=0;o.done=false;g(this,o)};n.prototype=t?y:_;return n}},91934:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(53931);var a=r(41236);var s=r(69985);var u=r(30974);var c=r(61868);var l=r(49385);var f=r(55997);var d=r(75773);var h=r(11880);var p=r(44201);var v=r(9478);var g=r(12013);var m=a.PROPER;var y=a.CONFIGURABLE;var _=g.IteratorPrototype;var b=g.BUGGY_SAFARI_ITERATORS;var E=p("iterator");var S="keys";var w="values";var T="entries";var C=function(){return this};e.exports=function(e,t,r,a,p,g,A){u(r,t,a);var R=function(e){if(e===p&&M)return M;if(!b&&e&&e in O)return O[e];switch(e){case S:return function t(){return new r(this,e)};case w:return function t(){return new r(this,e)};case T:return function t(){return new r(this,e)}}return function(){return new r(this)}};var I=t+" Iterator";var k=false;var O=e.prototype;var P=O[E]||O["@@iterator"]||p&&O[p];var M=!b&&P||R(p);var x=t==="Array"?O.entries||P:P;var L,D,N;if(x){L=c(x.call(new e));if(L!==Object.prototype&&L.next){if(!o&&c(L)!==_){if(l){l(L,_)}else if(!s(L[E])){h(L,E,C)}}f(L,I,true,true);if(o)v[I]=C}}if(m&&p===w&&P&&P.name!==w){if(!o&&y){d(O,"name",w)}else{k=true;M=function e(){return i(P,this)}}}if(p){D={values:R(w),keys:g?M:R(S),entries:R(T)};if(A)for(N in D){if(b||k||!(N in O)){h(O,N,D[N])}}else n({target:t,proto:true,forced:b||k},D)}if((!o||A)&&O[E]!==M){h(O,E,M,{name:p})}v[t]=M;return D}},88983:(e,t,r)=>{var n=r(22615);var i=r(10509);var o=r(85027);var a=r(22302);var s=r(65419);var u=r(71228);var c=s((function(){var e=this.iterator;var t=o(n(this.next,e));var r=this.done=!!t.done;if(!r)return u(e,this.mapper,[t.value,this.counter++],true)}));e.exports=function e(t){o(this);i(t);return new c(a(this),{mapper:t})}},12013:(e,t,r)=>{var n=r(3689);var i=r(69985);var o=r(48999);var a=r(25391);var s=r(61868);var u=r(11880);var c=r(44201);var l=r(53931);var f=c("iterator");var d=false;var h,p,v;if([].keys){v=[].keys();if(!("next"in v))d=true;else{p=s(s(v));if(p!==Object.prototype)h=p}}var g=!o(h)||n((function(){var e={};return h[f].call(e)!==e}));if(g)h={};else if(l)h=a(h);if(!i(h[f])){u(h,f,(function(){return this}))}e.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:d}},9478:e=>{e.exports={}},6310:(e,t,r)=>{var n=r(43126);e.exports=function(e){return n(e.length)}},98702:(e,t,r)=>{var n=r(68844);var i=r(3689);var o=r(69985);var a=r(36812);var s=r(67697);var u=r(41236).CONFIGURABLE;var c=r(6738);var l=r(618);var f=l.enforce;var d=l.get;var h=String;var p=Object.defineProperty;var v=n("".slice);var g=n("".replace);var m=n([].join);var y=s&&!i((function(){return p((function(){}),"length",{value:8}).length!==8}));var _=String(String).split("String");var b=e.exports=function(e,t,r){if(v(h(t),0,7)==="Symbol("){t="["+g(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"}if(r&&r.getter)t="get "+t;if(r&&r.setter)t="set "+t;if(!a(e,"name")||u&&e.name!==t){if(s)p(e,"name",{value:t,configurable:true});else e.name=t}if(y&&r&&a(r,"arity")&&e.length!==r.arity){p(e,"length",{value:r.arity})}try{if(r&&a(r,"constructor")&&r.constructor){if(s)p(e,"prototype",{writable:false})}else if(e.prototype)e.prototype=undefined}catch(e){}var n=f(e);if(!a(n,"source")){n.source=m(_,typeof t=="string"?t:"")}return e};Function.prototype.toString=b((function e(){return o(this)&&d(this).source||c(this)}),"toString")},83914:(e,t,r)=>{var n=r(68844);var i=Map.prototype;e.exports={Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i["delete"]),proto:i}},21745:e=>{var t=Math.expm1;var r=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||t(-2e-17)!==-2e-17?function e(t){var n=+t;return n===0?n:n>-1e-6&&n<1e-6?n+n*n/2:r(n)-1}:t},40134:(e,t,r)=>{var n=r(55680);var i=r(80406);var o=Math.abs;var a=2220446049250313e-31;e.exports=function(e,t,r,s){var u=+e;var c=o(u);var l=n(u);if(c<s)return l*i(c/s/t)*s*t;var f=(1+t/a)*c;var d=f-(f-c);if(d>r||d!==d)return l*Infinity;return l*d}},37788:(e,t,r)=>{var n=r(40134);var i=1.1920928955078125e-7;var o=34028234663852886e22;var a=11754943508222875e-54;e.exports=Math.fround||function e(t){return n(t,i,o,a)}},4736:e=>{var t=Math.log;var r=Math.LOG10E;e.exports=Math.log10||function e(n){return t(n)*r}},93956:e=>{var t=Math.log;e.exports=Math.log1p||function e(r){var n=+r;return n>-1e-8&&n<1e-8?n-n*n/2:t(1+n)}},69405:e=>{var t=Math.log;var r=Math.LN2;e.exports=Math.log2||function e(n){return t(n)/r}},80406:e=>{var t=2220446049250313e-31;var r=1/t;e.exports=function(e){return e+r-r}},55680:e=>{e.exports=Math.sign||function e(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}},58828:e=>{var t=Math.ceil;var r=Math.floor;e.exports=Math.trunc||function e(n){var i=+n;return(i>0?r:t)(i)}},80231:(e,t,r)=>{var n=r(51087);var i=r(70517);var o=r(54071);var a=r(99886).set;var s=r(34410);var u=r(41631);var c=r(17636);var l=r(9976);var f=r(30240);var d=n.MutationObserver||n.WebKitMutationObserver;var h=n.document;var p=n.process;var v=n.Promise;var g=i("queueMicrotask");var m,y,_,b,E;if(!g){var S=new s;var w=function(){var e,t;if(f&&(e=p.domain))e.exit();while(t=S.get())try{t()}catch(e){if(S.head)m();throw e}if(e)e.enter()};if(!u&&!f&&!l&&d&&h){y=true;_=h.createTextNode("");new d(w).observe(_,{characterData:true});m=function(){_.data=y=!y}}else if(!c&&v&&v.resolve){b=v.resolve(undefined);b.constructor=v;E=o(b.then,b);m=function(){E(w)}}else if(f){m=function(){p.nextTick(w)}}else{a=o(a,n);m=function(){a(w)}}g=function(e){if(!S.head)m();S.add(e)}}e.exports=g},48742:(e,t,r)=>{var n=r(10509);var i=TypeError;var o=function(e){var t,r;this.promise=new e((function(e,n){if(t!==undefined||r!==undefined)throw new i("Bad Promise constructor");t=e;r=n}));this.resolve=n(t);this.reject=n(r)};e.exports.f=function(e){return new o(e)}},13841:(e,t,r)=>{var n=r(34327);e.exports=function(e,t){return e===undefined?arguments.length<2?"":t:n(e)}},4654:e=>{var t=RangeError;e.exports=function(e){if(e===e)return e;throw new t("NaN is not allowed")}},42124:(e,t,r)=>{var n=r(91245);var i=TypeError;e.exports=function(e){if(n(e)){throw new i("The method doesn't accept regular expressions")}return e}},70046:(e,t,r)=>{var n=r(51087);var i=n.isFinite;e.exports=Number.isFinite||function e(t){return typeof t=="number"&&i(t)}},14818:(e,t,r)=>{var n=r(51087);var i=r(3689);var o=r(68844);var a=r(34327);var s=r(61435).trim;var u=r(86350);var c=o("".charAt);var l=n.parseFloat;var f=n.Symbol;var d=f&&f.iterator;var h=1/l(u+"-0")!==-Infinity||d&&!i((function(){l(Object(d))}));e.exports=h?function e(t){var r=s(a(t));var n=l(r);return n===0&&c(r,0)==="-"?-0:n}:l},67897:(e,t,r)=>{var n=r(51087);var i=r(3689);var o=r(68844);var a=r(34327);var s=r(61435).trim;var u=r(86350);var c=n.parseInt;var l=n.Symbol;var f=l&&l.iterator;var d=/^[+-]?0x/i;var h=o(d.exec);var p=c(u+"08")!==8||c(u+"0x16")!==22||f&&!i((function(){c(Object(f))}));e.exports=p?function e(t,r){var n=s(a(t));return c(n,r>>>0||(h(d,n)?16:10))}:c},45394:(e,t,r)=>{var n=r(67697);var i=r(68844);var o=r(22615);var a=r(3689);var s=r(20300);var u=r(7518);var c=r(49556);var l=r(90690);var f=r(94413);var d=Object.assign;var h=Object.defineProperty;var p=i([].concat);e.exports=!d||a((function(){if(n&&d({b:1},d(h({},"a",{enumerable:true,get:function(){h(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var e={};var t={};var r=Symbol("assign detection");var i="abcdefghijklmnopqrst";e[r]=7;i.split("").forEach((function(e){t[e]=e}));return d({},e)[r]!==7||s(d({},t)).join("")!==i}))?function e(t,r){var i=l(t);var a=arguments.length;var d=1;var h=u.f;var v=c.f;while(a>d){var g=f(arguments[d++]);var m=h?p(s(g),h(g)):s(g);var y=m.length;var _=0;var b;while(y>_){b=m[_++];if(!n||o(v,g,b))i[b]=g[b]}}return i}:d},25391:(e,t,r)=>{var n=r(85027);var i=r(98920);var o=r(72739);var a=r(57248);var s=r(2688);var u=r(36420);var c=r(2713);var l=">";var f="<";var d="prototype";var h="script";var p=c("IE_PROTO");var v=function(){};var g=function(e){return f+h+l+e+f+"/"+h+l};var m=function(e){e.write(g(""));e.close();var t=e.parentWindow.Object;e=null;return t};var y=function(){var e=u("iframe");var t="java"+h+":";var r;e.style.display="none";s.appendChild(e);e.src=String(t);r=e.contentWindow.document;r.open();r.write(g("document.F=Object"));r.close();return r.F};var _;var b=function(){try{_=new ActiveXObject("htmlfile")}catch(e){}b=typeof document!="undefined"?document.domain&&_?m(_):y():m(_);var e=o.length;while(e--)delete b[d][o[e]];return b()};a[p]=true;e.exports=Object.create||function e(t,r){var o;if(t!==null){v[d]=n(t);o=new v;v[d]=null;o[p]=t}else o=b();return r===undefined?o:i.f(o,r)}},98920:(e,t,r)=>{var n=r(67697);var i=r(15648);var o=r(72560);var a=r(85027);var s=r(65290);var u=r(20300);t.f=n&&!i?Object.defineProperties:function e(t,r){a(t);var n=s(r);var i=u(r);var c=i.length;var l=0;var f;while(c>l)o.f(t,f=i[l++],n[f]);return t}},72560:(e,t,r)=>{var n=r(67697);var i=r(68506);var o=r(15648);var a=r(85027);var s=r(18360);var u=TypeError;var c=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var f="enumerable";var d="configurable";var h="writable";t.f=n?o?function e(t,r,n){a(t);r=s(r);a(n);if(typeof t==="function"&&r==="prototype"&&"value"in n&&h in n&&!n[h]){var i=l(t,r);if(i&&i[h]){t[r]=n.value;n={configurable:d in n?n[d]:i[d],enumerable:f in n?n[f]:i[f],writable:false}}}return c(t,r,n)}:c:function e(t,r,n){a(t);r=s(r);a(n);if(i)try{return c(t,r,n)}catch(e){}if("get"in n||"set"in n)throw new u("Accessors not supported");if("value"in n)t[r]=n.value;return t}},82474:(e,t,r)=>{var n=r(67697);var i=r(22615);var o=r(49556);var a=r(75684);var s=r(65290);var u=r(18360);var c=r(36812);var l=r(68506);var f=Object.getOwnPropertyDescriptor;t.f=n?f:function e(t,r){t=s(t);r=u(r);if(l)try{return f(t,r)}catch(e){}if(c(t,r))return a(!i(o.f,t,r),t[r])}},26062:(e,t,r)=>{var n=r(6648);var i=r(65290);var o=r(72741).f;var a=r(96004);var s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var u=function(e){try{return o(e)}catch(e){return a(s)}};e.exports.f=function e(t){return s&&n(t)==="Window"?u(t):o(i(t))}},72741:(e,t,r)=>{var n=r(54948);var i=r(72739);var o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,o)}},7518:(e,t)=>{t.f=Object.getOwnPropertySymbols},61868:(e,t,r)=>{var n=r(36812);var i=r(69985);var o=r(90690);var a=r(2713);var s=r(81748);var u=a("IE_PROTO");var c=Object;var l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=o(e);if(n(t,u))return t[u];var r=t.constructor;if(i(r)&&t instanceof r){return r.prototype}return t instanceof c?l:null}},27049:(e,t,r)=>{var n=r(3689);var i=r(48999);var o=r(6648);var a=r(11655);var s=Object.isExtensible;var u=n((function(){s(1)}));e.exports=u||a?function e(t){if(!i(t))return false;if(a&&o(t)==="ArrayBuffer")return false;return s?s(t):true}:s},23622:(e,t,r)=>{var n=r(68844);e.exports=n({}.isPrototypeOf)},54948:(e,t,r)=>{var n=r(68844);var i=r(36812);var o=r(65290);var a=r(84328).indexOf;var s=r(57248);var u=n([].push);e.exports=function(e,t){var r=o(e);var n=0;var c=[];var l;for(l in r)!i(s,l)&&i(r,l)&&u(c,l);while(t.length>n)if(i(r,l=t[n++])){~a(c,l)||u(c,l)}return c}},20300:(e,t,r)=>{var n=r(54948);var i=r(72739);e.exports=Object.keys||function e(t){return n(t,i)}},49556:(e,t)=>{var r={}.propertyIsEnumerable;var n=Object.getOwnPropertyDescriptor;var i=n&&!r.call({1:2},1);t.f=i?function e(t){var r=n(this,t);return!!r&&r.enumerable}:r},90600:(e,t,r)=>{var n=r(53931);var i=r(51087);var o=r(3689);var a=r(83826);e.exports=n||!o((function(){if(a&&a<535)return;var e=Math.random();__defineSetter__.call(null,e,(function(){}));delete i[e]}))},49385:(e,t,r)=>{var n=r(52743);var i=r(48999);var o=r(74684);var a=r(23550);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=false;var t={};var r;try{r=n(Object.prototype,"__proto__","set");r(t,[]);e=t instanceof Array}catch(e){}return function t(n,s){o(n);a(s);if(!i(n))return n;if(e)r(n,s);else n.__proto__=s;return n}}():undefined)},49419:(e,t,r)=>{var n=r(67697);var i=r(3689);var o=r(68844);var a=r(61868);var s=r(20300);var u=r(65290);var c=r(49556).f;var l=o(c);var f=o([].push);var d=n&&i((function(){var e=Object.create(null);e[2]=2;return!l(e,2)}));var h=function(e){return function(t){var r=u(t);var i=s(r);var o=d&&a(r)===null;var c=i.length;var h=0;var p=[];var v;while(c>h){v=i[h++];if(!n||(o?v in r:l(r,v))){f(p,e?[v,r[v]]:r[v])}}return p}};e.exports={entries:h(true),values:h(false)}},65073:(e,t,r)=>{var n=r(23043);var i=r(50926);e.exports=n?{}.toString:function e(){return"[object "+i(this)+"]"}},35899:(e,t,r)=>{var n=r(22615);var i=r(69985);var o=r(48999);var a=TypeError;e.exports=function(e,t){var r,s;if(t==="string"&&i(r=e.toString)&&!o(s=n(r,e)))return s;if(i(r=e.valueOf)&&!o(s=n(r,e)))return s;if(t!=="string"&&i(r=e.toString)&&!o(s=n(r,e)))return s;throw new a("Can't convert object to primitive value")}},19152:(e,t,r)=>{var n=r(76058);var i=r(68844);var o=r(72741);var a=r(7518);var s=r(85027);var u=i([].concat);e.exports=n("Reflect","ownKeys")||function e(t){var r=o.f(s(t));var n=a.f;return n?u(r,n(t)):r}},50496:(e,t,r)=>{var n=r(51087);e.exports=n},9302:e=>{e.exports=function(e){try{return{error:false,value:e()}}catch(e){return{error:true,value:e}}}},87073:(e,t,r)=>{var n=r(51087);var i=r(17919);var o=r(69985);var a=r(35266);var s=r(6738);var u=r(44201);var c=r(39791);var l=r(53931);var f=r(21352);var d=i&&i.prototype;var h=u("species");var p=false;var v=o(n.PromiseRejectionEvent);var g=a("Promise",(function(){var e=s(i);var t=e!==String(i);if(!t&&f===66)return true;if(l&&!(d["catch"]&&d["finally"]))return true;if(!f||f<51||!/native code/.test(e)){var r=new i((function(e){e(1)}));var n=function(e){e((function(){}),(function(){}))};var o=r.constructor={};o[h]=n;p=r.then((function(){}))instanceof n;if(!p)return true}return!t&&(c==="BROWSER"||c==="DENO")&&!v}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:p}},17919:(e,t,r)=>{var n=r(51087);e.exports=n.Promise},72945:(e,t,r)=>{var n=r(85027);var i=r(48999);var o=r(48742);e.exports=function(e,t){n(e);if(i(t)&&t.constructor===e)return t;var r=o.f(e);var a=r.resolve;a(t);return r.promise}},562:(e,t,r)=>{var n=r(17919);var i=r(86431);var o=r(87073).CONSTRUCTOR;e.exports=o||!i((function(e){n.all(e).then(undefined,(function(){}))}))},38055:(e,t,r)=>{var n=r(72560).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:true,get:function(){return t[r]},set:function(e){t[r]=e}})}},34410:e=>{var t=function(){this.head=null;this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};var r=this.tail;if(r)r.next=t;else this.head=t;this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;if(t===null)this.tail=null;return e.item}}};e.exports=t},66100:(e,t,r)=>{var n=r(22615);var i=r(85027);var o=r(69985);var a=r(6648);var s=r(56308);var u=TypeError;e.exports=function(e,t){var r=e.exec;if(o(r)){var c=n(r,e,t);if(c!==null)i(c);return c}if(a(e)==="RegExp")return n(s,e,t);throw new u("RegExp#exec called on incompatible receiver")}},56308:(e,t,r)=>{var n=r(22615);var i=r(68844);var o=r(34327);var a=r(69633);var s=r(87901);var u=r(83430);var c=r(25391);var l=r(618).get;var f=r(62100);var d=r(26738);var h=u("native-string-replace",String.prototype.replace);var p=RegExp.prototype.exec;var v=p;var g=i("".charAt);var m=i("".indexOf);var y=i("".replace);var _=i("".slice);var b=function(){var e=/a/;var t=/b*/g;n(p,e,"a");n(p,t,"a");return e.lastIndex!==0||t.lastIndex!==0}();var E=s.BROKEN_CARET;var S=/()??/.exec("")[1]!==undefined;var w=b||S||E||f||d;if(w){v=function e(t){var r=this;var i=l(r);var s=o(t);var u=i.raw;var f,d,w,T,C,A,R;if(u){u.lastIndex=r.lastIndex;f=n(v,u,s);r.lastIndex=u.lastIndex;return f}var I=i.groups;var k=E&&r.sticky;var O=n(a,r);var P=r.source;var M=0;var x=s;if(k){O=y(O,"y","");if(m(O,"g")===-1){O+="g"}x=_(s,r.lastIndex);if(r.lastIndex>0&&(!r.multiline||r.multiline&&g(s,r.lastIndex-1)!=="\n")){P="(?: "+P+")";x=" "+x;M++}d=new RegExp("^(?:"+P+")",O)}if(S){d=new RegExp("^"+P+"$(?!\\s)",O)}if(b)w=r.lastIndex;T=n(p,k?d:r,x);if(k){if(T){T.input=_(T.input,M);T[0]=_(T[0],M);T.index=r.lastIndex;r.lastIndex+=T[0].length}else r.lastIndex=0}else if(b&&T){r.lastIndex=r.global?T.index+T[0].length:w}if(S&&T&&T.length>1){n(h,T[0],d,(function(){for(C=1;C<arguments.length-2;C++){if(arguments[C]===undefined)T[C]=undefined}}))}if(T&&I){T.groups=A=c(null);for(C=0;C<I.length;C++){R=I[C];A[R[0]]=T[R[1]]}}return T}}e.exports=v},69633:(e,t,r)=>{var n=r(85027);e.exports=function(){var e=n(this);var t="";if(e.hasIndices)t+="d";if(e.global)t+="g";if(e.ignoreCase)t+="i";if(e.multiline)t+="m";if(e.dotAll)t+="s";if(e.unicode)t+="u";if(e.unicodeSets)t+="v";if(e.sticky)t+="y";return t}},63477:(e,t,r)=>{var n=r(22615);var i=r(36812);var o=r(23622);var a=r(69633);var s=RegExp.prototype;e.exports=function(e){var t=e.flags;return t===undefined&&!("flags"in s)&&!i(e,"flags")&&o(s,e)?n(a,e):t}},87901:(e,t,r)=>{var n=r(3689);var i=r(51087);var o=i.RegExp;var a=n((function(){var e=o("a","y");e.lastIndex=2;return e.exec("abcd")!==null}));var s=a||n((function(){return!o("a","y").sticky}));var u=a||n((function(){var e=o("^r","gy");e.lastIndex=2;return e.exec("str")!==null}));e.exports={BROKEN_CARET:u,MISSED_STICKY:s,UNSUPPORTED_Y:a}},62100:(e,t,r)=>{var n=r(3689);var i=r(51087);var o=i.RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.test("\n")&&e.flags==="s")}))},26738:(e,t,r)=>{var n=r(3689);var i=r(51087);var o=i.RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}))},74684:(e,t,r)=>{var n=r(981);var i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},70517:(e,t,r)=>{var n=r(51087);var i=r(67697);var o=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return n[e];var t=o(n,e);return t&&t.value}},70953:e=>{e.exports=Object.is||function e(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}},8552:(e,t,r)=>{var n=r(51087);var i=r(61735);var o=r(69985);var a=r(39791);var s=r(68017);var u=r(96004);var c=r(21500);var l=n.Function;var f=/MSIE .\./.test(s)||a==="BUN"&&function(){var e=n.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();e.exports=function(e,t){var r=t?2:1;return f?function(n,a){var s=c(arguments.length,1)>r;var f=o(n)?n:l(n);var d=s?u(arguments,r):[];var h=s?function(){i(f,this,d)}:f;return t?e(h,a):e(h)}:e}},3097:(e,t,r)=>{var n=r(61034);var i=r(48774);var o=n.Set;var a=n.add;e.exports=function(e){var t=new o;i(e,(function(e){a(t,e)}));return t}},27748:(e,t,r)=>{var n=r(10029);var i=r(61034);var o=r(3097);var a=r(17026);var s=r(41074);var u=r(48774);var c=r(96704);var l=i.has;var f=i.remove;e.exports=function e(t){var r=n(this);var i=s(t);var d=o(r);if(a(r)<=i.size)u(r,(function(e){if(i.includes(e))f(d,e)}));else c(i.getIterator(),(function(e){if(l(r,e))f(d,e)}));return d}},61034:(e,t,r)=>{var n=r(68844);var i=Set.prototype;e.exports={Set,add:n(i.add),has:n(i.has),remove:n(i["delete"]),proto:i}},72948:(e,t,r)=>{var n=r(10029);var i=r(61034);var o=r(17026);var a=r(41074);var s=r(48774);var u=r(96704);var c=i.Set;var l=i.add;var f=i.has;e.exports=function e(t){var r=n(this);var i=a(t);var d=new c;if(o(r)>i.size){u(i.getIterator(),(function(e){if(f(r,e))l(d,e)}))}else{s(r,(function(e){if(i.includes(e))l(d,e)}))}return d}},97795:(e,t,r)=>{var n=r(10029);var i=r(61034).has;var o=r(17026);var a=r(41074);var s=r(48774);var u=r(96704);var c=r(72125);e.exports=function e(t){var r=n(this);var l=a(t);if(o(r)<=l.size)return s(r,(function(e){if(l.includes(e))return false}),true)!==false;var f=l.getIterator();return u(f,(function(e){if(i(r,e))return c(f,"normal",false)}))!==false}},26951:(e,t,r)=>{var n=r(10029);var i=r(17026);var o=r(48774);var a=r(41074);e.exports=function e(t){var r=n(this);var s=a(t);if(i(r)>s.size)return false;return o(r,(function(e){if(!s.includes(e))return false}),true)!==false}},3894:(e,t,r)=>{var n=r(10029);var i=r(61034).has;var o=r(17026);var a=r(41074);var s=r(96704);var u=r(72125);e.exports=function e(t){var r=n(this);var c=a(t);if(o(r)<c.size)return false;var l=c.getIterator();return s(l,(function(e){if(!i(r,e))return u(l,"normal",false)}))!==false}},48774:(e,t,r)=>{var n=r(68844);var i=r(96704);var o=r(61034);var a=o.Set;var s=o.proto;var u=n(s.forEach);var c=n(s.keys);var l=c(new a).next;e.exports=function(e,t,r){return r?i({iterator:c(e),next:l},t):u(e,t)}},53234:(e,t,r)=>{var n=r(76058);var i=function(e){return{size:e,has:function(){return false},keys:function(){return{next:function(){return{done:true}}}}}};var o=function(e){return{size:e,has:function(){return true},keys:function(){throw new Error("e")}}};e.exports=function(e,t){var r=n("Set");try{(new r)[e](i(0));try{(new r)[e](i(-1));return false}catch(n){if(!t)return true;try{(new r)[e](o(-Infinity));return false}catch(n){var a=new r;a.add(1);a.add(2);return t(a[e](o(Infinity)))}}}catch(e){return false}}},17026:(e,t,r)=>{var n=r(52743);var i=r(61034);e.exports=n(i.proto,"size","get")||function(e){return e.size}},14241:(e,t,r)=>{var n=r(76058);var i=r(62148);var o=r(44201);var a=r(67697);var s=o("species");e.exports=function(e){var t=n(e);if(a&&t&&!t[s]){i(t,s,{configurable:true,get:function(){return this}})}}},62289:(e,t,r)=>{var n=r(10029);var i=r(61034);var o=r(3097);var a=r(41074);var s=r(96704);var u=i.add;var c=i.has;var l=i.remove;e.exports=function e(t){var r=n(this);var i=a(t).getIterator();var f=o(r);s(i,(function(e){if(c(r,e))l(f,e);else u(f,e)}));return f}},55997:(e,t,r)=>{var n=r(72560).f;var i=r(36812);var o=r(44201);var a=o("toStringTag");e.exports=function(e,t,r){if(e&&!r)e=e.prototype;if(e&&!i(e,a)){n(e,a,{configurable:true,value:t})}}},75674:(e,t,r)=>{var n=r(10029);var i=r(61034).add;var o=r(3097);var a=r(41074);var s=r(96704);e.exports=function e(t){var r=n(this);var u=a(t).getIterator();var c=o(r);s(u,(function(e){i(c,e)}));return c}},2713:(e,t,r)=>{var n=r(83430);var i=r(14630);var o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},84091:(e,t,r)=>{var n=r(53931);var i=r(51087);var o=r(95014);var a="__core-js_shared__";var s=e.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.40.0",mode:n?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"})},83430:(e,t,r)=>{var n=r(84091);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},76373:(e,t,r)=>{var n=r(85027);var i=r(52655);var o=r(981);var a=r(44201);var s=a("species");e.exports=function(e,t){var r=n(e).constructor;var a;return r===undefined||o(a=n(r)[s])?t:i(a)}},74580:(e,t,r)=>{var n=r(3689);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},10730:(e,t,r)=>{var n=r(68844);var i=r(68700);var o=r(34327);var a=r(74684);var s=n("".charAt);var u=n("".charCodeAt);var c=n("".slice);var l=function(e){return function(t,r){var n=o(a(t));var l=i(r);var f=n.length;var d,h;if(l<0||l>=f)return e?"":undefined;d=u(n,l);return d<55296||d>56319||l+1===f||(h=u(n,l+1))<56320||h>57343?e?s(n,l):d:e?c(n,l,l+2):(d-55296<<10)+(h-56320)+65536}};e.exports={codeAt:l(false),charAt:l(true)}},35947:(e,t,r)=>{var n=r(68017);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},77254:(e,t,r)=>{var n=r(68844);var i=r(43126);var o=r(34327);var a=r(90534);var s=r(74684);var u=n(a);var c=n("".slice);var l=Math.ceil;var f=function(e){return function(t,r,n){var a=o(s(t));var f=i(r);var d=a.length;var h=n===undefined?" ":o(n);var p,v;if(f<=d||h==="")return a;p=f-d;v=u(h,l(p/h.length));if(v.length>p)v=c(v,0,p);return e?a+v:v+a}};e.exports={start:f(false),end:f(true)}},6430:(e,t,r)=>{var n=r(68844);var i=2147483647;var o=36;var a=1;var s=26;var u=38;var c=700;var l=72;var f=128;var d="-";var h=/[^\0-\u007E]/;var p=/[.\u3002\uFF0E\uFF61]/g;var v="Overflow: input needs wider integers to process";var g=o-a;var m=RangeError;var y=n(p.exec);var _=Math.floor;var b=String.fromCharCode;var E=n("".charCodeAt);var S=n([].join);var w=n([].push);var T=n("".replace);var C=n("".split);var A=n("".toLowerCase);var R=function(e){var t=[];var r=0;var n=e.length;while(r<n){var i=E(e,r++);if(i>=55296&&i<=56319&&r<n){var o=E(e,r++);if((o&64512)===56320){w(t,((i&1023)<<10)+(o&1023)+65536)}else{w(t,i);r--}}else{w(t,i)}}return t};var I=function(e){return e+22+75*(e<26)};var k=function(e,t,r){var n=0;e=r?_(e/c):e>>1;e+=_(e/t);while(e>g*s>>1){e=_(e/g);n+=o}return _(n+(g+1)*e/(e+u))};var O=function(e){var t=[];e=R(e);var r=e.length;var n=f;var u=0;var c=l;var h,p;for(h=0;h<e.length;h++){p=e[h];if(p<128){w(t,b(p))}}var g=t.length;var y=g;if(g){w(t,d)}while(y<r){var E=i;for(h=0;h<e.length;h++){p=e[h];if(p>=n&&p<E){E=p}}var T=y+1;if(E-n>_((i-u)/T)){throw new m(v)}u+=(E-n)*T;n=E;for(h=0;h<e.length;h++){p=e[h];if(p<n&&++u>i){throw new m(v)}if(p===n){var C=u;var A=o;while(true){var O=A<=c?a:A>=c+s?s:A-c;if(C<O)break;var P=C-O;var M=o-O;w(t,b(I(O+P%M)));C=_(P/M);A+=o}w(t,b(I(C)));c=k(u,T,y===g);u=0;y++}}u++;n++}return S(t,"")};e.exports=function(e){var t=[];var r=C(T(A(e),p,"."),".");var n,i;for(n=0;n<r.length;n++){i=r[n];w(t,y(h,i)?"xn--"+O(i):i)}return S(t,".")}},90534:(e,t,r)=>{var n=r(68700);var i=r(34327);var o=r(74684);var a=RangeError;e.exports=function e(t){var r=i(o(this));var s="";var u=n(t);if(u<0||u===Infinity)throw new a("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(r+=r))if(u&1)s+=r;return s}},79558:(e,t,r)=>{var n=r(61435).end;var i=r(75984);e.exports=i("trimEnd")?function e(){return n(this)}:"".trimEnd},75984:(e,t,r)=>{var n=r(41236).PROPER;var i=r(3689);var o=r(86350);var a="​᠎";e.exports=function(e){return i((function(){return!!o[e]()||a[e]()!==a||n&&o[e].name!==e}))}},72291:(e,t,r)=>{var n=r(61435).start;var i=r(75984);e.exports=i("trimStart")?function e(){return n(this)}:"".trimStart},61435:(e,t,r)=>{var n=r(68844);var i=r(74684);var o=r(34327);var a=r(86350);var s=n("".replace);var u=RegExp("^["+a+"]+");var c=RegExp("(^|[^"+a+"])["+a+"]+$");var l=function(e){return function(t){var r=o(i(t));if(e&1)r=s(r,u,"");if(e&2)r=s(r,c,"$1");return r}};e.exports={start:l(1),end:l(2),trim:l(3)}},63514:(e,t,r)=>{var n=r(51087);var i=r(3689);var o=r(21352);var a=r(39791);var s=n.structuredClone;e.exports=!!s&&!i((function(){if(a==="DENO"&&o>92||a==="NODE"&&o>94||a==="BROWSER"&&o>97)return false;var e=new ArrayBuffer(8);var t=s(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8}))},50146:(e,t,r)=>{var n=r(21352);var i=r(3689);var o=r(51087);var a=o.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},13032:(e,t,r)=>{var n=r(22615);var i=r(76058);var o=r(44201);var a=r(11880);e.exports=function(){var e=i("Symbol");var t=e&&e.prototype;var r=t&&t.valueOf;var s=o("toPrimitive");if(t&&!t[s]){a(t,s,(function(e){return n(r,this)}),{arity:1})}}},46549:(e,t,r)=>{var n=r(50146);e.exports=n&&!!Symbol["for"]&&!!Symbol.keyFor},99886:(e,t,r)=>{var n=r(51087);var i=r(61735);var o=r(54071);var a=r(69985);var s=r(36812);var u=r(3689);var c=r(2688);var l=r(96004);var f=r(36420);var d=r(21500);var h=r(41631);var p=r(30240);var v=n.setImmediate;var g=n.clearImmediate;var m=n.process;var y=n.Dispatch;var _=n.Function;var b=n.MessageChannel;var E=n.String;var S=0;var w={};var T="onreadystatechange";var C,A,R,I;u((function(){C=n.location}));var k=function(e){if(s(w,e)){var t=w[e];delete w[e];t()}};var O=function(e){return function(){k(e)}};var P=function(e){k(e.data)};var M=function(e){n.postMessage(E(e),C.protocol+"//"+C.host)};if(!v||!g){v=function e(t){d(arguments.length,1);var r=a(t)?t:_(t);var n=l(arguments,1);w[++S]=function(){i(r,undefined,n)};A(S);return S};g=function e(t){delete w[t]};if(p){A=function(e){m.nextTick(O(e))}}else if(y&&y.now){A=function(e){y.now(O(e))}}else if(b&&!h){R=new b;I=R.port2;R.port1.onmessage=P;A=o(I.postMessage,I)}else if(n.addEventListener&&a(n.postMessage)&&!n.importScripts&&C&&C.protocol!=="file:"&&!u(M)){A=M;n.addEventListener("message",P,false)}else if(T in f("script")){A=function(e){c.appendChild(f("script"))[T]=function(){c.removeChild(this);k(e)}}}else{A=function(e){setTimeout(O(e),0)}}}e.exports={set:v,clear:g}},23648:(e,t,r)=>{var n=r(68844);e.exports=n(1..valueOf)},27578:(e,t,r)=>{var n=r(68700);var i=Math.max;var o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},71530:(e,t,r)=>{var n=r(88732);var i=TypeError;e.exports=function(e){var t=n(e,"number");if(typeof t=="number")throw new i("Can't convert number to bigint");return BigInt(t)}},19842:(e,t,r)=>{var n=r(68700);var i=r(43126);var o=RangeError;e.exports=function(e){if(e===undefined)return 0;var t=n(e);var r=i(t);if(t!==r)throw new o("Wrong length or index");return r}},65290:(e,t,r)=>{var n=r(94413);var i=r(74684);e.exports=function(e){return n(i(e))}},68700:(e,t,r)=>{var n=r(58828);e.exports=function(e){var t=+e;return t!==t||t===0?0:n(t)}},43126:(e,t,r)=>{var n=r(68700);var i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},90690:(e,t,r)=>{var n=r(74684);var i=Object;e.exports=function(e){return i(n(e))}},83250:(e,t,r)=>{var n=r(15904);var i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw new i("Wrong offset");return r}},15904:(e,t,r)=>{var n=r(68700);var i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new i("The argument can't be less than 0");return t}},88732:(e,t,r)=>{var n=r(22615);var i=r(48999);var o=r(30734);var a=r(54849);var s=r(35899);var u=r(44201);var c=TypeError;var l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r=a(e,l);var u;if(r){if(t===undefined)t="default";u=n(r,e,t);if(!i(u)||o(u))return u;throw new c("Can't convert object to primitive value")}if(t===undefined)t="number";return s(e,t)}},18360:(e,t,r)=>{var n=r(88732);var i=r(30734);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},23043:(e,t,r)=>{var n=r(44201);var i=n("toStringTag");var o={};o[i]="z";e.exports=String(o)==="[object z]"},34327:(e,t,r)=>{var n=r(50926);var i=String;e.exports=function(e){if(n(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},87191:e=>{var t=Math.round;e.exports=function(e){var r=t(e);return r<0?0:r>255?255:r&255}},23691:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},31158:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(22615);var a=r(67697);var s=r(39800);var u=r(54872);var c=r(83999);var l=r(767);var f=r(75684);var d=r(75773);var h=r(71973);var p=r(43126);var v=r(19842);var g=r(83250);var m=r(87191);var y=r(18360);var _=r(36812);var b=r(50926);var E=r(48999);var S=r(30734);var w=r(25391);var T=r(23622);var C=r(49385);var A=r(72741).f;var R=r(41304);var I=r(2960).forEach;var k=r(14241);var O=r(62148);var P=r(72560);var M=r(82474);var x=r(59976);var L=r(618);var D=r(33457);var N=L.get;var j=L.set;var U=L.enforce;var B=P.f;var F=M.f;var H=i.RangeError;var V=c.ArrayBuffer;var W=V.prototype;var z=c.DataView;var G=u.NATIVE_ARRAY_BUFFER_VIEWS;var Y=u.TYPED_ARRAY_TAG;var K=u.TypedArray;var q=u.TypedArrayPrototype;var $=u.isTypedArray;var J="BYTES_PER_ELEMENT";var Z="Wrong length";var X=function(e,t){O(e,t,{configurable:true,get:function(){return N(this)[t]}})};var Q=function(e){var t;return T(W,e)||(t=b(e))==="ArrayBuffer"||t==="SharedArrayBuffer"};var ee=function(e,t){return $(e)&&!S(t)&&t in e&&h(+t)&&t>=0};var te=function e(t,r){r=y(r);return ee(t,r)?f(2,t[r]):F(t,r)};var re=function e(t,r,n){r=y(r);if(ee(t,r)&&E(n)&&_(n,"value")&&!_(n,"get")&&!_(n,"set")&&!n.configurable&&(!_(n,"writable")||n.writable)&&(!_(n,"enumerable")||n.enumerable)){t[r]=n.value;return t}return B(t,r,n)};if(a){if(!G){M.f=te;P.f=re;X(q,"buffer");X(q,"byteOffset");X(q,"byteLength");X(q,"length")}n({target:"Object",stat:true,forced:!G},{getOwnPropertyDescriptor:te,defineProperty:re});e.exports=function(e,t,r){var a=e.match(/\d+/)[0]/8;var u=e+(r?"Clamped":"")+"Array";var c="get"+e;var f="set"+e;var h=i[u];var y=h;var _=y&&y.prototype;var b={};var S=function(e,t){var r=N(e);return r.view[c](t*a+r.byteOffset,true)};var T=function(e,t,n){var i=N(e);i.view[f](t*a+i.byteOffset,r?m(n):n,true)};var O=function(e,t){B(e,t,{get:function(){return S(this,t)},set:function(e){return T(this,t,e)},enumerable:true})};if(!G){y=t((function(e,t,r,n){l(e,_);var i=0;var s=0;var u,c,f;if(!E(t)){f=v(t);c=f*a;u=new V(c)}else if(Q(t)){u=t;s=g(r,a);var d=t.byteLength;if(n===undefined){if(d%a)throw new H(Z);c=d-s;if(c<0)throw new H(Z)}else{c=p(n)*a;if(c+s>d)throw new H(Z)}f=c/a}else if($(t)){return x(y,t)}else{return o(R,y,t)}j(e,{buffer:u,byteOffset:s,byteLength:c,length:f,view:new z(u)});while(i<f)O(e,i++)}));if(C)C(y,K);_=y.prototype=w(q)}else if(s){y=t((function(e,t,r,n){l(e,_);return D(function(){if(!E(t))return new h(v(t));if(Q(t))return n!==undefined?new h(t,g(r,a),n):r!==undefined?new h(t,g(r,a)):new h(t);if($(t))return x(y,t);return o(R,y,t)}(),e,y)}));if(C)C(y,K);I(A(h),(function(e){if(!(e in y)){d(y,e,h[e])}}));y.prototype=_}if(_.constructor!==y){d(_,"constructor",y)}U(_).TypedArrayConstructor=y;if(Y){d(_,Y,u)}var P=y!==h;b[u]=y;n({global:true,constructor:true,forced:P,sham:!G},b);if(!(J in y)){d(y,J,a)}if(!(J in _)){d(_,J,a)}k(u)}}else e.exports=function(){}},39800:(e,t,r)=>{var n=r(51087);var i=r(3689);var o=r(86431);var a=r(54872).NATIVE_ARRAY_BUFFER_VIEWS;var s=n.ArrayBuffer;var u=n.Int8Array;e.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(e){new u;new u(null);new u(1.5);new u(e)}),true)||i((function(){return new u(new s(2),1,undefined).length!==1}))},74899:(e,t,r)=>{var n=r(59976);var i=r(54872).getTypedArrayConstructor;e.exports=function(e,t){return n(i(e),t)}},41304:(e,t,r)=>{var n=r(54071);var i=r(22615);var o=r(52655);var a=r(90690);var s=r(6310);var u=r(5185);var c=r(91664);var l=r(93292);var f=r(9401);var d=r(54872).aTypedArrayConstructor;var h=r(71530);e.exports=function e(t){var r=o(this);var p=a(t);var v=arguments.length;var g=v>1?arguments[1]:undefined;var m=g!==undefined;var y=c(p);var _,b,E,S,w,T,C,A;if(y&&!l(y)){C=u(p,y);A=C.next;p=[];while(!(T=i(A,C)).done){p.push(T.value)}}if(m&&v>2){g=n(g,arguments[2])}b=s(p);E=new(d(r))(b);S=f(E);for(_=0;b>_;_++){w=m?g(p[_],_):p[_];E[_]=S?h(w):+w}return E}},14630:(e,t,r)=>{var n=r(68844);var i=0;var o=Math.random();var a=n(1..toString);e.exports=function(e){return"Symbol("+(e===undefined?"":e)+")_"+a(++i+o,36)}},76837:(e,t,r)=>{var n=r(3689);var i=r(44201);var o=r(67697);var a=r(53931);var s=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","https://a");var t=e.searchParams;var r=new URLSearchParams("a=1&a=2&b=3");var n="";e.pathname="c%20d";t.forEach((function(e,r){t["delete"]("b");n+=r+e}));r["delete"]("a",2);r["delete"]("b",undefined);return a&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",undefined)||r.has("b"))||!t.size&&(a||!o)||!t.sort||e.href!=="https://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[s]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://тест").host!=="xn--e1aybc"||new URL("https://a#б").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",undefined).host!=="x"}))},39525:(e,t,r)=>{var n=r(50146);e.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},15648:(e,t,r)=>{var n=r(67697);var i=r(3689);e.exports=n&&i((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:false}).prototype!==42}))},21500:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},59834:(e,t,r)=>{var n=r(51087);var i=r(69985);var o=n.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},35405:(e,t,r)=>{var n=r(50496);var i=r(36812);var o=r(96145);var a=r(72560).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});if(!i(t,e))a(t,e,{value:o.f(e)})}},96145:(e,t,r)=>{var n=r(44201);t.f=n},44201:(e,t,r)=>{var n=r(51087);var i=r(83430);var o=r(36812);var a=r(14630);var s=r(50146);var u=r(39525);var c=n.Symbol;var l=i("wks");var f=u?c["for"]||c:c&&c.withoutSetter||a;e.exports=function(e){if(!o(l,e)){l[e]=s&&o(c,e)?c[e]:f("Symbol."+e)}return l[e]}},86350:e=>{e.exports="\t\n\v\f\r      "+"          　\u2028\u2029\ufeff"},51064:(e,t,r)=>{var n=r(76058);var i=r(36812);var o=r(75773);var a=r(23622);var s=r(49385);var u=r(8758);var c=r(38055);var l=r(33457);var f=r(13841);var d=r(62570);var h=r(65411);var p=r(67697);var v=r(53931);e.exports=function(e,t,r,g){var m="stackTraceLimit";var y=g?2:1;var _=e.split(".");var b=_[_.length-1];var E=n.apply(null,_);if(!E)return;var S=E.prototype;if(!v&&i(S,"cause"))delete S.cause;if(!r)return E;var w=n("Error");var T=t((function(e,t){var r=f(g?t:e,undefined);var n=g?new E(e):new E;if(r!==undefined)o(n,"message",r);h(n,T,n.stack,2);if(this&&a(S,this))l(n,this,T);if(arguments.length>y)d(n,arguments[y]);return n}));T.prototype=S;if(b!=="Error"){if(s)s(T,w);else u(T,w,{name:true})}else if(p&&m in E){c(T,E,m);c(T,E,"prepareStackTrace")}u(T,E);if(!v)try{if(S.name!==b){o(S,"name",b)}S.constructor=T}catch(e){}return T}},54927:(e,t,r)=>{var n=r(79989);var i=r(76058);var o=r(61735);var a=r(3689);var s=r(51064);var u="AggregateError";var c=i(u);var l=!a((function(){return c([1]).errors[0]!==1}))&&a((function(){return c([1],u,{cause:7}).cause!==7}));n({global:true,constructor:true,arity:2,forced:l},{AggregateError:s(u,(function(e){return function t(r,n){return o(e,this,arguments)}}),l,true)})},39382:(e,t,r)=>{var n=r(79989);var i=r(23622);var o=r(61868);var a=r(49385);var s=r(8758);var u=r(25391);var c=r(75773);var l=r(75684);var f=r(62570);var d=r(65411);var h=r(18734);var p=r(13841);var v=r(44201);var g=v("toStringTag");var m=Error;var y=[].push;var _=function e(t,r){var n=i(b,this);var s;if(a){s=a(new m,n?o(this):b)}else{s=n?this:u(b);c(s,g,"Error")}if(r!==undefined)c(s,"message",p(r));d(s,_,s.stack,1);if(arguments.length>2)f(s,arguments[2]);var l=[];h(t,y,{that:l});c(s,"errors",l);return s};if(a)a(_,m);else s(_,m,{name:true});var b=_.prototype=u(m.prototype,{constructor:l(1,_),message:l(1,""),name:l(1,"AggregateError")});n({global:true,constructor:true,arity:2},{AggregateError:_})},95879:(e,t,r)=>{r(39382)},69365:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(83999);var a=r(14241);var s="ArrayBuffer";var u=o[s];var c=i[s];n({global:true,constructor:true,forced:c!==u},{ArrayBuffer:u});a(s)},9045:(e,t,r)=>{var n=r(67697);var i=r(62148);var o=r(22961);var a=ArrayBuffer.prototype;if(n&&!("detached"in a)){i(a,"detached",{configurable:true,get:function e(){return o(this)}})}},33870:(e,t,r)=>{var n=r(79989);var i=r(54872);var o=i.NATIVE_ARRAY_BUFFER_VIEWS;n({target:"ArrayBuffer",stat:true,forced:!o},{isView:i.isView})},99211:(e,t,r)=>{var n=r(79989);var i=r(46576);var o=r(3689);var a=r(83999);var s=r(85027);var u=r(27578);var c=r(43126);var l=a.ArrayBuffer;var f=a.DataView;var d=f.prototype;var h=i(l.prototype.slice);var p=i(d.getUint8);var v=i(d.setUint8);var g=o((function(){return!new l(2).slice(1,undefined).byteLength}));n({target:"ArrayBuffer",proto:true,unsafe:true,forced:g},{slice:function e(t,r){if(h&&r===undefined){return h(s(this),t)}var n=s(this).byteLength;var i=u(t,n);var o=u(r===undefined?n:r,n);var a=new l(c(o-i));var d=new f(this);var g=new f(a);var m=0;while(i<o){v(g,m++,p(d,i++))}return a}})},94774:(e,t,r)=>{var n=r(79989);var i=r(29195);if(i)n({target:"ArrayBuffer",proto:true},{transferToFixedLength:function e(){return i(this,arguments.length?arguments[0]:undefined,false)}})},53627:(e,t,r)=>{var n=r(79989);var i=r(29195);if(i)n({target:"ArrayBuffer",proto:true},{transfer:function e(){return i(this,arguments.length?arguments[0]:undefined,true)}})},92176:(e,t,r)=>{var n=r(79989);var i=r(90690);var o=r(6310);var a=r(68700);var s=r(87370);n({target:"Array",proto:true},{at:function e(t){var r=i(this);var n=o(r);var s=a(t);var u=s>=0?s:n+s;return u<0||u>=n?undefined:r[u]}});s("at")},34338:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=r(92297);var a=r(48999);var s=r(90690);var u=r(6310);var c=r(55565);var l=r(76522);var f=r(27120);var d=r(29042);var h=r(44201);var p=r(21352);var v=h("isConcatSpreadable");var g=p>=51||!i((function(){var e=[];e[v]=false;return e.concat()[0]!==e}));var m=function(e){if(!a(e))return false;var t=e[v];return t!==undefined?!!t:o(e)};var y=!g||!d("concat");n({target:"Array",proto:true,arity:1,forced:y},{concat:function e(t){var r=s(this);var n=f(r,0);var i=0;var o,a,d,h,p;for(o=-1,d=arguments.length;o<d;o++){p=o===-1?r:arguments[o];if(m(p)){h=u(p);c(i+h);for(a=0;a<h;a++,i++)if(a in p)l(n,i,p[a])}else{c(i+1);l(n,i++,p)}}n.length=i;return n}})},2966:(e,t,r)=>{var n=r(79989);var i=r(70357);var o=r(87370);n({target:"Array",proto:true},{copyWithin:i});o("copyWithin")},55791:(e,t,r)=>{var n=r(79989);var i=r(2960).every;var o=r(16834);var a=o("every");n({target:"Array",proto:true,forced:!a},{every:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}})},97895:(e,t,r)=>{var n=r(79989);var i=r(62872);var o=r(87370);n({target:"Array",proto:true},{fill:i});o("fill")},38077:(e,t,r)=>{var n=r(79989);var i=r(2960).filter;var o=r(29042);var a=o("filter");n({target:"Array",proto:true,forced:!a},{filter:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}})},39772:(e,t,r)=>{var n=r(79989);var i=r(2960).findIndex;var o=r(87370);var a="findIndex";var s=true;if(a in[])Array(1)[a]((function(){s=false}));n({target:"Array",proto:true,forced:s},{findIndex:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}});o(a)},93383:(e,t,r)=>{var n=r(79989);var i=r(61969).findLastIndex;var o=r(87370);n({target:"Array",proto:true},{findLastIndex:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}});o("findLastIndex")},59867:(e,t,r)=>{var n=r(79989);var i=r(61969).findLast;var o=r(87370);n({target:"Array",proto:true},{findLast:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}});o("findLast")},25728:(e,t,r)=>{var n=r(79989);var i=r(2960).find;var o=r(87370);var a="find";var s=true;if(a in[])Array(1)[a]((function(){s=false}));n({target:"Array",proto:true,forced:s},{find:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}});o(a)},54564:(e,t,r)=>{var n=r(79989);var i=r(37809);var o=r(10509);var a=r(90690);var s=r(6310);var u=r(27120);n({target:"Array",proto:true},{flatMap:function e(t){var r=a(this);var n=s(r);var c;o(t);c=u(r,0);c.length=i(c,r,r,n,0,1,t,arguments.length>1?arguments[1]:undefined);return c}})},62795:(e,t,r)=>{var n=r(79989);var i=r(37809);var o=r(90690);var a=r(6310);var s=r(68700);var u=r(27120);n({target:"Array",proto:true},{flat:function e(){var t=arguments.length?arguments[0]:undefined;var r=o(this);var n=a(r);var c=u(r,0);c.length=i(c,r,r,n,0,t===undefined?1:s(t));return c}})},49693:(e,t,r)=>{var n=r(79989);var i=r(57612);n({target:"Array",proto:true,forced:[].forEach!==i},{forEach:i})},77049:(e,t,r)=>{var n=r(79989);var i=r(21055);var o=r(86431);var a=!o((function(e){Array.from(e)}));n({target:"Array",stat:true,forced:a},{from:i})},76801:(e,t,r)=>{var n=r(79989);var i=r(84328).includes;var o=r(3689);var a=r(87370);var s=o((function(){return!Array(1).includes()}));n({target:"Array",proto:true,forced:s},{includes:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}});a("includes")},97195:(e,t,r)=>{var n=r(79989);var i=r(46576);var o=r(84328).indexOf;var a=r(16834);var s=i([].indexOf);var u=!!s&&1/s([1],1,-0)<0;var c=u||!a("indexOf");n({target:"Array",proto:true,forced:c},{indexOf:function e(t){var r=arguments.length>1?arguments[1]:undefined;return u?s(this,t,r)||0:o(this,t,r)}})},63975:(e,t,r)=>{var n=r(79989);var i=r(92297);n({target:"Array",stat:true},{isArray:i})},752:(e,t,r)=>{var n=r(65290);var i=r(87370);var o=r(9478);var a=r(618);var s=r(72560).f;var u=r(91934);var c=r(27807);var l=r(53931);var f=r(67697);var d="Array Iterator";var h=a.set;var p=a.getterFor(d);e.exports=u(Array,"Array",(function(e,t){h(this,{type:d,target:n(e),index:0,kind:t})}),(function(){var e=p(this);var t=e.target;var r=e.index++;if(!t||r>=t.length){e.target=null;return c(undefined,true)}switch(e.kind){case"keys":return c(r,false);case"values":return c(t[r],false)}return c([r,t[r]],false)}),"values");var v=o.Arguments=o.Array;i("keys");i("values");i("entries");if(!l&&f&&v.name!=="values")try{s(v,"name",{value:"values"})}catch(e){}},6203:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(94413);var a=r(65290);var s=r(16834);var u=i([].join);var c=o!==Object;var l=c||!s("join",",");n({target:"Array",proto:true,forced:l},{join:function e(t){return u(a(this),t===undefined?",":t)}})},72410:(e,t,r)=>{var n=r(79989);var i=r(60953);n({target:"Array",proto:true,forced:i!==[].lastIndexOf},{lastIndexOf:i})},50886:(e,t,r)=>{var n=r(79989);var i=r(2960).map;var o=r(29042);var a=o("map");n({target:"Array",proto:true,forced:!a},{map:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}})},37593:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=r(19429);var a=r(76522);var s=Array;var u=i((function(){function e(){}return!(s.of.call(e)instanceof e)}));n({target:"Array",stat:true,forced:u},{of:function e(){var t=0;var r=arguments.length;var n=new(o(this)?this:s)(r);while(r>t)a(n,t,arguments[t++]);n.length=r;return n}})},70560:(e,t,r)=>{var n=r(79989);var i=r(90690);var o=r(6310);var a=r(5649);var s=r(55565);var u=r(3689);var c=u((function(){return[].push.call({length:4294967296},1)!==4294967297}));var l=function(){try{Object.defineProperty([],"length",{writable:false}).push()}catch(e){return e instanceof TypeError}};var f=c||!l();n({target:"Array",proto:true,arity:1,forced:f},{push:function e(t){var r=i(this);var n=o(r);var u=arguments.length;s(n+u);for(var c=0;c<u;c++){r[n]=arguments[c];n++}a(r,n);return n}})},81386:(e,t,r)=>{var n=r(79989);var i=r(88820).right;var o=r(16834);var a=r(21352);var s=r(30240);var u=!s&&a>79&&a<83;var c=u||!o("reduceRight");n({target:"Array",proto:true,forced:c},{reduceRight:function e(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:undefined)}})},278:(e,t,r)=>{var n=r(79989);var i=r(88820).left;var o=r(16834);var a=r(21352);var s=r(30240);var u=!s&&a>79&&a<83;var c=u||!o("reduce");n({target:"Array",proto:true,forced:c},{reduce:function e(t){var r=arguments.length;return i(this,t,r,r>1?arguments[1]:undefined)}})},93374:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(92297);var a=i([].reverse);var s=[1,2];n({target:"Array",proto:true,forced:String(s)===String(s.reverse())},{reverse:function e(){if(o(this))this.length=this.length;return a(this)}})},89730:(e,t,r)=>{var n=r(79989);var i=r(92297);var o=r(19429);var a=r(48999);var s=r(27578);var u=r(6310);var c=r(65290);var l=r(76522);var f=r(44201);var d=r(29042);var h=r(96004);var p=d("slice");var v=f("species");var g=Array;var m=Math.max;n({target:"Array",proto:true,forced:!p},{slice:function e(t,r){var n=c(this);var f=u(n);var d=s(t,f);var p=s(r===undefined?f:r,f);var y,_,b;if(i(n)){y=n.constructor;if(o(y)&&(y===g||i(y.prototype))){y=undefined}else if(a(y)){y=y[v];if(y===null)y=undefined}if(y===g||y===undefined){return h(n,d,p)}}_=new(y===undefined?g:y)(m(p-d,0));for(b=0;d<p;d++,b++)if(d in n)l(_,b,n[d]);_.length=b;return _}})},98742:(e,t,r)=>{var n=r(79989);var i=r(2960).some;var o=r(16834);var a=o("some");n({target:"Array",proto:true,forced:!a},{some:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}})},65137:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(10509);var a=r(90690);var s=r(6310);var u=r(98494);var c=r(34327);var l=r(3689);var f=r(50382);var d=r(16834);var h=r(66164);var p=r(54014);var v=r(21352);var g=r(83826);var m=[];var y=i(m.sort);var _=i(m.push);var b=l((function(){m.sort(undefined)}));var E=l((function(){m.sort(null)}));var S=d("sort");var w=!l((function(){if(v)return v<70;if(h&&h>3)return;if(p)return true;if(g)return g<603;var e="";var t,r,n,i;for(t=65;t<76;t++){r=String.fromCharCode(t);switch(t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++){m.push({k:r+i,v:n})}}m.sort((function(e,t){return t.v-e.v}));for(i=0;i<m.length;i++){r=m[i].k.charAt(0);if(e.charAt(e.length-1)!==r)e+=r}return e!=="DGBEFHACIJK"}));var T=b||!E||!S||!w;var C=function(e){return function(t,r){if(r===undefined)return-1;if(t===undefined)return 1;if(e!==undefined)return+e(t,r)||0;return c(t)>c(r)?1:-1}};n({target:"Array",proto:true,forced:T},{sort:function e(t){if(t!==undefined)o(t);var r=a(this);if(w)return t===undefined?y(r):y(r,t);var n=[];var i=s(r);var c,l;for(l=0;l<i;l++){if(l in r)_(n,r[l])}f(n,C(t));c=s(n);l=0;while(l<c)r[l]=n[l++];while(l<i)u(r,l++);return r}})},21932:(e,t,r)=>{var n=r(14241);n("Array")},62506:(e,t,r)=>{var n=r(79989);var i=r(90690);var o=r(27578);var a=r(68700);var s=r(6310);var u=r(5649);var c=r(55565);var l=r(27120);var f=r(76522);var d=r(98494);var h=r(29042);var p=h("splice");var v=Math.max;var g=Math.min;n({target:"Array",proto:true,forced:!p},{splice:function e(t,r){var n=i(this);var h=s(n);var p=o(t,h);var m=arguments.length;var y,_,b,E,S,w;if(m===0){y=_=0}else if(m===1){y=0;_=h-p}else{y=m-2;_=g(v(a(r),0),h-p)}c(h+y-_);b=l(n,_);for(E=0;E<_;E++){S=p+E;if(S in n)f(b,E,n[S])}b.length=_;if(y<_){for(E=p;E<h-_;E++){S=E+_;w=E+y;if(S in n)n[w]=n[S];else d(n,w)}for(E=h;E>h-_+y;E--)d(n,E-1)}else if(y>_){for(E=h-_;E>p;E--){S=E+_-1;w=E+y-1;if(S in n)n[w]=n[S];else d(n,w)}}for(E=0;E<y;E++){n[E+p]=arguments[E+2]}u(n,h-_+y);return b}})},29830:(e,t,r)=>{var n=r(79989);var i=r(26166);var o=r(65290);var a=r(87370);var s=Array;n({target:"Array",proto:true},{toReversed:function e(){return i(o(this),s)}});a("toReversed")},12894:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(10509);var a=r(65290);var s=r(59976);var u=r(88277);var c=r(87370);var l=Array;var f=i(u("Array","sort"));n({target:"Array",proto:true},{toSorted:function e(t){if(t!==undefined)o(t);var r=a(this);var n=s(l,r);return f(n,t)}});c("toSorted")},93530:(e,t,r)=>{var n=r(79989);var i=r(87370);var o=r(55565);var a=r(6310);var s=r(27578);var u=r(65290);var c=r(68700);var l=Array;var f=Math.max;var d=Math.min;n({target:"Array",proto:true},{toSpliced:function e(t,r){var n=u(this);var i=a(n);var h=s(t,i);var p=arguments.length;var v=0;var g,m,y,_;if(p===0){g=m=0}else if(p===1){g=0;m=i-h}else{g=p-2;m=d(f(c(r),0),i-h)}y=o(i+g-m);_=l(y);for(;v<h;v++)_[v]=n[v];for(;v<h+g;v++)_[v]=arguments[v-h+2];for(;v<y;v++)_[v]=n[v+m-g];return _}});i("toSpliced")},90385:(e,t,r)=>{var n=r(87370);n("flatMap")},13383:(e,t,r)=>{var n=r(87370);n("flat")},91719:(e,t,r)=>{var n=r(79989);var i=r(90690);var o=r(6310);var a=r(5649);var s=r(98494);var u=r(55565);var c=[].unshift(0)!==1;var l=function(){try{Object.defineProperty([],"length",{writable:false}).unshift()}catch(e){return e instanceof TypeError}};var f=c||!l();n({target:"Array",proto:true,arity:1,forced:f},{unshift:function e(t){var r=i(this);var n=o(r);var c=arguments.length;if(c){u(n+c);var l=n;while(l--){var f=l+c;if(l in r)r[f]=r[l];else s(r,f)}for(var d=0;d<c;d++){r[d]=arguments[d]}}return a(r,n+c)}})},21319:(e,t,r)=>{var n=r(79989);var i=r(16134);var o=r(65290);var a=Array;n({target:"Array",proto:true},{with:function(e,t){return i(o(this),a,e,t)}})},87347:(e,t,r)=>{var n=r(79989);var i=r(83999);var o=r(37075);n({global:true,constructor:true,forced:!o},{DataView:i.DataView})},18201:(e,t,r)=>{r(87347)},55635:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(3689);var a=o((function(){return new Date(16e11).getYear()!==120}));var s=i(Date.prototype.getFullYear);n({target:"Date",proto:true,forced:a},{getYear:function e(){return s(this)-1900}})},42227:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=Date;var a=i(o.prototype.getTime);n({target:"Date",stat:true},{now:function e(){return a(new o)}})},99679:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(68700);var a=Date.prototype;var s=i(a.getTime);var u=i(a.setFullYear);n({target:"Date",proto:true},{setYear:function e(t){s(this);var r=o(t);var n=r>=0&&r<=99?r+1900:r;return u(this,n)}})},24343:(e,t,r)=>{var n=r(79989);n({target:"Date",proto:true},{toGMTString:Date.prototype.toUTCString})},65007:(e,t,r)=>{var n=r(79989);var i=r(99455);n({target:"Date",proto:true,forced:Date.prototype.toISOString!==i},{toISOString:i})},78150:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=r(90690);var a=r(88732);var s=i((function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}));n({target:"Date",proto:true,arity:1,forced:s},{toJSON:function e(t){var r=o(this);var n=a(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}})},59903:(e,t,r)=>{var n=r(36812);var i=r(11880);var o=r(81797);var a=r(44201);var s=a("toPrimitive");var u=Date.prototype;if(!n(u,s)){i(u,s,o)}},30024:(e,t,r)=>{var n=r(68844);var i=r(11880);var o=Date.prototype;var a="Invalid Date";var s="toString";var u=n(o[s]);var c=n(o.getTime);if(String(new Date(NaN))!==a){i(o,s,(function e(){var t=c(this);return t===t?u(this):a}))}},21057:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(61735);var a=r(51064);var s="WebAssembly";var u=i[s];var c=new Error("e",{cause:7}).cause!==7;var l=function(e,t){var r={};r[e]=a(e,t,c);n({global:true,constructor:true,arity:1,forced:c},r)};var f=function(e,t){if(u&&u[e]){var r={};r[e]=a(s+"."+e,t,c);n({target:s,stat:true,constructor:true,arity:1,forced:c},r)}};l("Error",(function(e){return function t(r){return o(e,this,arguments)}}));l("EvalError",(function(e){return function t(r){return o(e,this,arguments)}}));l("RangeError",(function(e){return function t(r){return o(e,this,arguments)}}));l("ReferenceError",(function(e){return function t(r){return o(e,this,arguments)}}));l("SyntaxError",(function(e){return function t(r){return o(e,this,arguments)}}));l("TypeError",(function(e){return function t(r){return o(e,this,arguments)}}));l("URIError",(function(e){return function t(r){return o(e,this,arguments)}}));f("CompileError",(function(e){return function t(r){return o(e,this,arguments)}}));f("LinkError",(function(e){return function t(r){return o(e,this,arguments)}}));f("RuntimeError",(function(e){return function t(r){return o(e,this,arguments)}}))},68932:(e,t,r)=>{var n=r(11880);var i=r(20445);var o=Error.prototype;if(o.toString!==i){n(o,"toString",i)}},60428:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(34327);var a=i("".charAt);var s=i("".charCodeAt);var u=i(/./.exec);var c=i(1..toString);var l=i("".toUpperCase);var f=/[\w*+\-./@]/;var d=function(e,t){var r=c(e,16);while(r.length<t)r="0"+r;return r};n({global:true},{escape:function e(t){var r=o(t);var n="";var i=r.length;var c=0;var h,p;while(c<i){h=a(r,c++);if(u(f,h)){n+=h}else{p=s(h,0);if(p<256){n+="%"+d(p,2)}else{n+="%u"+l(d(p,4))}}}return n}})},41517:(e,t,r)=>{var n=r(79989);var i=r(86761);n({target:"Function",proto:true,forced:Function.bind!==i},{bind:i})},56269:(e,t,r)=>{var n=r(69985);var i=r(48999);var o=r(72560);var a=r(23622);var s=r(44201);var u=r(98702);var c=s("hasInstance");var l=Function.prototype;if(!(c in l)){o.f(l,c,{value:u((function(e){if(!n(this)||!i(e))return false;var t=this.prototype;return i(t)?a(t,e):e instanceof this}),c)})}},34284:(e,t,r)=>{var n=r(67697);var i=r(41236).EXISTS;var o=r(68844);var a=r(62148);var s=Function.prototype;var u=o(s.toString);var c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/;var l=o(c.exec);var f="name";if(n&&!i){a(s,f,{configurable:true,get:function(){try{return l(c,u(this))[1]}catch(e){return""}}})}},45398:(e,t,r)=>{var n=r(79989);var i=r(51087);n({global:true,forced:i.globalThis!==i},{globalThis:i})},5203:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(767);var a=r(85027);var s=r(69985);var u=r(61868);var c=r(62148);var l=r(76522);var f=r(3689);var d=r(36812);var h=r(44201);var p=r(12013).IteratorPrototype;var v=r(67697);var g=r(53931);var m="constructor";var y="Iterator";var _=h("toStringTag");var b=TypeError;var E=i[y];var S=g||!s(E)||E.prototype!==p||!f((function(){E({})}));var w=function e(){o(this,p);if(u(this)===p)throw new b("Abstract class Iterator not directly constructable")};var T=function(e,t){if(v){c(p,e,{configurable:true,get:function(){return t},set:function(t){a(this);if(this===p)throw new b("You can't redefine this property");if(d(this,e))this[e]=t;else l(this,e,t)}})}else p[e]=t};if(!d(p,_))T(_,y);if(S||!d(p,m)||p[m]===Object){T(m,w)}w.prototype=p;n({global:true,constructor:true,forced:S},{Iterator:w})},20518:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(85027);var a=r(22302);var s=r(4654);var u=r(15904);var c=r(65419);var l=r(53931);var f=c((function(){var e=this.iterator;var t=this.next;var r,n;while(this.remaining){this.remaining--;r=o(i(t,e));n=this.done=!!r.done;if(n)return}r=o(i(t,e));n=this.done=!!r.done;if(!n)return r.value}));n({target:"Iterator",proto:true,real:true,forced:l},{drop:function e(t){o(this);var r=u(s(+t));return new f(a(this),{remaining:r})}})},52047:(e,t,r)=>{var n=r(79989);var i=r(18734);var o=r(10509);var a=r(85027);var s=r(22302);n({target:"Iterator",proto:true,real:true},{every:function e(t){a(this);o(t);var r=s(this);var n=0;return!i(r,(function(e,r){if(!t(e,n++))return r()}),{IS_RECORD:true,INTERRUPTED:true}).stopped}})},10141:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(10509);var a=r(85027);var s=r(22302);var u=r(65419);var c=r(71228);var l=r(53931);var f=u((function(){var e=this.iterator;var t=this.predicate;var r=this.next;var n,o,s;while(true){n=a(i(r,e));o=this.done=!!n.done;if(o)return;s=n.value;if(c(e,t,[s,this.counter++],true))return s}}));n({target:"Iterator",proto:true,real:true,forced:l},{filter:function e(t){a(this);o(t);return new f(s(this),{predicate:t})}})},18519:(e,t,r)=>{var n=r(79989);var i=r(18734);var o=r(10509);var a=r(85027);var s=r(22302);n({target:"Iterator",proto:true,real:true},{find:function e(t){a(this);o(t);var r=s(this);var n=0;return i(r,(function(e,r){if(t(e,n++))return r(e)}),{IS_RECORD:true,INTERRUPTED:true}).result}})},65400:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(10509);var a=r(85027);var s=r(22302);var u=r(36752);var c=r(65419);var l=r(72125);var f=r(53931);var d=c((function(){var e=this.iterator;var t=this.mapper;var r,n;while(true){if(n=this.inner)try{r=a(i(n.next,n.iterator));if(!r.done)return r.value;this.inner=null}catch(t){l(e,"throw",t)}r=a(i(this.next,e));if(this.done=!!r.done)return;try{this.inner=u(t(r.value,this.counter++),false)}catch(t){l(e,"throw",t)}}}));n({target:"Iterator",proto:true,real:true,forced:f},{flatMap:function e(t){a(this);o(t);return new d(s(this),{mapper:t,inner:null})}})},90701:(e,t,r)=>{var n=r(79989);var i=r(18734);var o=r(10509);var a=r(85027);var s=r(22302);n({target:"Iterator",proto:true,real:true},{forEach:function e(t){a(this);o(t);var r=s(this);var n=0;i(r,(function(e){t(e,n++)}),{IS_RECORD:true})}})},77835:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(90690);var a=r(23622);var s=r(12013).IteratorPrototype;var u=r(65419);var c=r(36752);var l=r(53931);var f=u((function(){return i(this.next,this.iterator)}),true);n({target:"Iterator",stat:true,forced:l},{from:function e(t){var r=c(typeof t=="string"?o(t):t,true);return a(s,r.iterator)?r.iterator:new f(r)}})},4470:(e,t,r)=>{var n=r(79989);var i=r(88983);var o=r(53931);n({target:"Iterator",proto:true,real:true,forced:o},{map:i})},27692:(e,t,r)=>{var n=r(79989);var i=r(18734);var o=r(10509);var a=r(85027);var s=r(22302);var u=TypeError;n({target:"Iterator",proto:true,real:true},{reduce:function e(t){a(this);o(t);var r=s(this);var n=arguments.length<2;var c=n?undefined:arguments[1];var l=0;i(r,(function(e){if(n){n=false;c=e}else{c=t(c,e,l)}l++}),{IS_RECORD:true});if(n)throw new u("Reduce of empty iterator with no initial value");return c}})},30190:(e,t,r)=>{var n=r(79989);var i=r(18734);var o=r(10509);var a=r(85027);var s=r(22302);n({target:"Iterator",proto:true,real:true},{some:function e(t){a(this);o(t);var r=s(this);var n=0;return i(r,(function(e,r){if(t(e,n++))return r()}),{IS_RECORD:true,INTERRUPTED:true}).stopped}})},39596:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(85027);var a=r(22302);var s=r(4654);var u=r(15904);var c=r(65419);var l=r(72125);var f=r(53931);var d=c((function(){var e=this.iterator;if(!this.remaining--){this.done=true;return l(e,"normal",undefined)}var t=o(i(this.next,e));var r=this.done=!!t.done;if(!r)return t.value}));n({target:"Iterator",proto:true,real:true,forced:f},{take:function e(t){o(this);var r=u(s(+t));return new d(a(this),{remaining:r})}})},32637:(e,t,r)=>{var n=r(79989);var i=r(85027);var o=r(18734);var a=r(22302);var s=[].push;n({target:"Iterator",proto:true,real:true},{toArray:function e(){var t=[];o(a(i(this)),s,{that:t,IS_RECORD:true});return t}})},48324:(e,t,r)=>{var n=r(79989);var i=r(76058);var o=r(61735);var a=r(22615);var s=r(68844);var u=r(3689);var c=r(69985);var l=r(30734);var f=r(96004);var d=r(92643);var h=r(50146);var p=String;var v=i("JSON","stringify");var g=s(/./.exec);var m=s("".charAt);var y=s("".charCodeAt);var _=s("".replace);var b=s(1..toString);var E=/[\uD800-\uDFFF]/g;var S=/^[\uD800-\uDBFF]$/;var w=/^[\uDC00-\uDFFF]$/;var T=!h||u((function(){var e=i("Symbol")("stringify detection");return v([e])!=="[null]"||v({a:e})!=="{}"||v(Object(e))!=="{}"}));var C=u((function(){return v("\udf06\ud834")!=='"\\udf06\\ud834"'||v("\udead")!=='"\\udead"'}));var A=function(e,t){var r=f(arguments);var n=d(t);if(!c(n)&&(e===undefined||l(e)))return;r[1]=function(e,t){if(c(n))t=a(n,this,p(e),t);if(!l(t))return t};return o(v,null,r)};var R=function(e,t,r){var n=m(r,t-1);var i=m(r,t+1);if(g(S,e)&&!g(w,i)||g(w,e)&&!g(S,n)){return"\\u"+b(y(e,0),16)}return e};if(v){n({target:"JSON",stat:true,arity:3,forced:T||C},{stringify:function e(t,r,n){var i=f(arguments);var a=o(T?A:v,null,i);return C&&typeof a=="string"?_(a,E,R):a}})}},7629:(e,t,r)=>{var n=r(51087);var i=r(55997);i(n.JSON,"JSON",true)},9322:(e,t,r)=>{var n=r(20319);var i=r(70800);n("Map",(function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}}),i)},89348:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(10509);var a=r(74684);var s=r(18734);var u=r(83914);var c=r(53931);var l=r(3689);var f=u.Map;var d=u.has;var h=u.get;var p=u.set;var v=i([].push);var g=c||l((function(){return f.groupBy("ab",(function(e){return e})).get("a").length!==1}));n({target:"Map",stat:true,forced:c||g},{groupBy:function e(t,r){a(t);o(r);var n=new f;var i=0;s(t,(function(e){var t=r(e,i++);if(!d(n,t))p(n,t,[e]);else v(h(n,t),e)}));return n}})},56646:(e,t,r)=>{r(9322)},6557:(e,t,r)=>{var n=r(79989);var i=r(93956);var o=Math.acosh;var a=Math.log;var s=Math.sqrt;var u=Math.LN2;var c=!o||Math.floor(o(Number.MAX_VALUE))!==710||o(Infinity)!==Infinity;n({target:"Math",stat:true,forced:c},{acosh:function e(t){var r=+t;return r<1?NaN:r>94906265.62425156?a(r)+u:i(r-1+s(r-1)*s(r+1))}})},62428:(e,t,r)=>{var n=r(79989);var i=Math.asinh;var o=Math.log;var a=Math.sqrt;function s(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-s(-t):o(t+a(t*t+1))}var u=!(i&&1/i(0)>0);n({target:"Math",stat:true,forced:u},{asinh:s})},45263:(e,t,r)=>{var n=r(79989);var i=Math.atanh;var o=Math.log;var a=!(i&&1/i(-0)<0);n({target:"Math",stat:true,forced:a},{atanh:function e(t){var r=+t;return r===0?r:o((1+r)/(1-r))/2}})},74712:(e,t,r)=>{var n=r(79989);var i=r(55680);var o=Math.abs;var a=Math.pow;n({target:"Math",stat:true},{cbrt:function e(t){var r=+t;return i(r)*a(o(r),1/3)}})},54986:(e,t,r)=>{var n=r(79989);var i=Math.floor;var o=Math.log;var a=Math.LOG2E;n({target:"Math",stat:true},{clz32:function e(t){var r=t>>>0;return r?31-i(o(r+.5)*a):32}})},47221:(e,t,r)=>{var n=r(79989);var i=r(21745);var o=Math.cosh;var a=Math.abs;var s=Math.E;var u=!o||o(710)===Infinity;n({target:"Math",stat:true,forced:u},{cosh:function e(t){var r=i(a(t)-1)+1;return(r+1/(r*s*s))*(s/2)}})},94992:(e,t,r)=>{var n=r(79989);var i=r(21745);n({target:"Math",stat:true,forced:i!==Math.expm1},{expm1:i})},25499:(e,t,r)=>{var n=r(79989);var i=r(37788);n({target:"Math",stat:true},{fround:i})},59944:(e,t,r)=>{var n=r(79989);var i=Math.hypot;var o=Math.abs;var a=Math.sqrt;var s=!!i&&i(Infinity,NaN)!==Infinity;n({target:"Math",stat:true,arity:2,forced:s},{hypot:function e(t,r){var n=0;var i=0;var s=arguments.length;var u=0;var c,l;while(i<s){c=o(arguments[i++]);if(u<c){l=u/c;n=n*l*l+1;u=c}else if(c>0){l=c/u;n+=l*l}else n+=c}return u===Infinity?Infinity:u*a(n)}})},78527:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=Math.imul;var a=i((function(){return o(4294967295,5)!==-5||o.length!==2}));n({target:"Math",stat:true,forced:a},{imul:function e(t,r){var n=65535;var i=+t;var o=+r;var a=n&i;var s=n&o;return 0|a*s+((n&i>>>16)*s+a*(n&o>>>16)<<16>>>0)}})},75239:(e,t,r)=>{var n=r(79989);var i=r(4736);n({target:"Math",stat:true},{log10:i})},92076:(e,t,r)=>{var n=r(79989);var i=r(93956);n({target:"Math",stat:true},{log1p:i})},68813:(e,t,r)=>{var n=r(79989);var i=r(69405);n({target:"Math",stat:true},{log2:i})},96976:(e,t,r)=>{var n=r(79989);var i=r(55680);n({target:"Math",stat:true},{sign:i})},62700:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=r(21745);var a=Math.abs;var s=Math.exp;var u=Math.E;var c=i((function(){return Math.sinh(-2e-17)!==-2e-17}));n({target:"Math",stat:true,forced:c},{sinh:function e(t){var r=+t;return a(r)<1?(o(r)-o(-r))/2:(s(r-1)-s(-r-1))*(u/2)}})},91554:(e,t,r)=>{var n=r(79989);var i=r(21745);var o=Math.exp;n({target:"Math",stat:true},{tanh:function e(t){var r=+t;var n=i(r);var a=i(-r);return n===Infinity?1:a===Infinity?-1:(n-a)/(o(r)+o(-r))}})},77509:(e,t,r)=>{var n=r(55997);n(Math,"Math",true)},21416:(e,t,r)=>{var n=r(79989);var i=r(58828);n({target:"Math",stat:true},{trunc:i})},79288:(e,t,r)=>{var n=r(79989);var i=r(53931);var o=r(67697);var a=r(51087);var s=r(50496);var u=r(68844);var c=r(35266);var l=r(36812);var f=r(33457);var d=r(23622);var h=r(30734);var p=r(88732);var v=r(3689);var g=r(72741).f;var m=r(82474).f;var y=r(72560).f;var _=r(23648);var b=r(61435).trim;var E="Number";var S=a[E];var w=s[E];var T=S.prototype;var C=a.TypeError;var A=u("".slice);var R=u("".charCodeAt);var I=function(e){var t=p(e,"number");return typeof t=="bigint"?t:k(t)};var k=function(e){var t=p(e,"number");var r,n,i,o,a,s,u,c;if(h(t))throw new C("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){t=b(t);r=R(t,0);if(r===43||r===45){n=R(t,2);if(n===88||n===120)return NaN}else if(r===48){switch(R(t,1)){case 66:case 98:i=2;o=49;break;case 79:case 111:i=8;o=55;break;default:return+t}a=A(t,2);s=a.length;for(u=0;u<s;u++){c=R(a,u);if(c<48||c>o)return NaN}return parseInt(a,i)}}return+t};var O=c(E,!S(" 0o1")||!S("0b1")||S("+0x1"));var P=function(e){return d(T,e)&&v((function(){_(e)}))};var M=function e(t){var r=arguments.length<1?0:S(I(t));return P(this)?f(Object(r),this,M):r};M.prototype=T;if(O&&!i)T.constructor=M;n({global:true,constructor:true,wrap:true,forced:O},{Number:M});var x=function(e,t){for(var r=o?g(t):("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,"+"EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,"+"fromString,range").split(","),n=0,i;r.length>n;n++){if(l(t,i=r[n])&&!l(e,i)){y(e,i,m(t,i))}}};if(i&&w)x(s[E],w);if(O||i)x(s[E],S)},53584:(e,t,r)=>{var n=r(79989);n({target:"Number",stat:true,nonConfigurable:true,nonWritable:true},{EPSILON:Math.pow(2,-52)})},82243:(e,t,r)=>{var n=r(79989);var i=r(70046);n({target:"Number",stat:true},{isFinite:i})},95765:(e,t,r)=>{var n=r(79989);var i=r(71973);n({target:"Number",stat:true},{isInteger:i})},45993:(e,t,r)=>{var n=r(79989);n({target:"Number",stat:true},{isNaN:function e(t){return t!==t}})},92547:(e,t,r)=>{var n=r(79989);var i=r(71973);var o=Math.abs;n({target:"Number",stat:true},{isSafeInteger:function e(t){return i(t)&&o(t)<=9007199254740991}})},7936:(e,t,r)=>{var n=r(79989);n({target:"Number",stat:true,nonConfigurable:true,nonWritable:true},{MAX_SAFE_INTEGER:9007199254740991})},32704:(e,t,r)=>{var n=r(79989);n({target:"Number",stat:true,nonConfigurable:true,nonWritable:true},{MIN_SAFE_INTEGER:-9007199254740991})},52362:(e,t,r)=>{var n=r(79989);var i=r(14818);n({target:"Number",stat:true,forced:Number.parseFloat!==i},{parseFloat:i})},21552:(e,t,r)=>{var n=r(79989);var i=r(67897);n({target:"Number",stat:true,forced:Number.parseInt!==i},{parseInt:i})},10704:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(68700);var a=r(23648);var s=r(90534);var u=r(4736);var c=r(3689);var l=RangeError;var f=String;var d=isFinite;var h=Math.abs;var p=Math.floor;var v=Math.pow;var g=Math.round;var m=i(1..toExponential);var y=i(s);var _=i("".slice);var b=m(-69e-12,4)==="-6.9000e-11"&&m(1.255,2)==="1.25e+0"&&m(12345,3)==="1.235e+4"&&m(25,0)==="3e+1";var E=function(){return c((function(){m(1,Infinity)}))&&c((function(){m(1,-Infinity)}))};var S=function(){return!c((function(){m(Infinity,Infinity);m(NaN,Infinity)}))};var w=!b||!E()||!S();n({target:"Number",proto:true,forced:w},{toExponential:function e(t){var r=a(this);if(t===undefined)return m(r);var n=o(t);if(!d(r))return String(r);if(n<0||n>20)throw new l("Incorrect fraction digits");if(b)return m(r,n);var i="";var s,c,E,S;if(r<0){i="-";r=-r}if(r===0){c=0;s=y("0",n+1)}else{var w=u(r);c=p(w);var T=v(10,c-n);var C=g(r/T);if(2*r>=(2*C+1)*T){C+=1}if(C>=v(10,n+1)){C/=10;c+=1}s=f(C)}if(n!==0){s=_(s,0,1)+"."+_(s,1)}if(c===0){E="+";S="0"}else{E=c>0?"+":"-";S=f(h(c))}s+="e"+E+S;return i+s}})},97389:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(68700);var a=r(23648);var s=r(90534);var u=r(3689);var c=RangeError;var l=String;var f=Math.floor;var d=i(s);var h=i("".slice);var p=i(1..toFixed);var v=function(e,t,r){return t===0?r:t%2===1?v(e,t-1,r*e):v(e*e,t/2,r)};var g=function(e){var t=0;var r=e;while(r>=4096){t+=12;r/=4096}while(r>=2){t+=1;r/=2}return t};var m=function(e,t,r){var n=-1;var i=r;while(++n<6){i+=t*e[n];e[n]=i%1e7;i=f(i/1e7)}};var y=function(e,t){var r=6;var n=0;while(--r>=0){n+=e[r];e[r]=f(n/t);n=n%t*1e7}};var _=function(e){var t=6;var r="";while(--t>=0){if(r!==""||t===0||e[t]!==0){var n=l(e[t]);r=r===""?n:r+d("0",7-n.length)+n}}return r};var b=u((function(){return p(8e-5,3)!=="0.000"||p(.9,0)!=="1"||p(1.255,2)!=="1.25"||p(0xde0b6b3a7640080,0)!=="1000000000000000128"}))||!u((function(){p({})}));n({target:"Number",proto:true,forced:b},{toFixed:function e(t){var r=a(this);var n=o(t);var i=[0,0,0,0,0,0];var s="";var u="0";var f,p,b,E;if(n<0||n>20)throw new c("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return l(r);if(r<0){s="-";r=-r}if(r>1e-21){f=g(r*v(2,69,1))-69;p=f<0?r*v(2,-f,1):r/v(2,f,1);p*=4503599627370496;f=52-f;if(f>0){m(i,0,p);b=n;while(b>=7){m(i,1e7,0);b-=7}m(i,v(10,b,1),0);b=f-1;while(b>=23){y(i,1<<23);b-=23}y(i,1<<b);m(i,1,1);y(i,2);u=_(i)}else{m(i,0,p);m(i,1<<-f,0);u=_(i)+d("0",n)}}if(n>0){E=u.length;u=s+(E<=n?"0."+d("0",n-E)+u:h(u,0,E-n)+"."+h(u,E-n))}else{u=s+u}return u}})},25284:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(3689);var a=r(23648);var s=i(1..toPrecision);var u=o((function(){return s(1,undefined)!=="1"}))||!o((function(){s({})}));n({target:"Number",proto:true,forced:u},{toPrecision:function e(t){return t===undefined?s(a(this)):s(a(this),t)}})},60429:(e,t,r)=>{var n=r(79989);var i=r(45394);n({target:"Object",stat:true,arity:2,forced:Object.assign!==i},{assign:i})},51013:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(25391);n({target:"Object",stat:true,sham:!i},{create:o})},33994:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(90600);var a=r(10509);var s=r(90690);var u=r(72560);if(i){n({target:"Object",proto:true,forced:o},{__defineGetter__:function e(t,r){u.f(s(this),t,{get:a(r),enumerable:true,configurable:true})}})}},35082:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(98920).f;n({target:"Object",stat:true,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},40739:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(72560).f;n({target:"Object",stat:true,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},47409:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(90600);var a=r(10509);var s=r(90690);var u=r(72560);if(i){n({target:"Object",proto:true,forced:o},{__defineSetter__:function e(t,r){u.f(s(this),t,{set:a(r),enumerable:true,configurable:true})}})}},36585:(e,t,r)=>{var n=r(79989);var i=r(49419).entries;n({target:"Object",stat:true},{entries:function e(t){return i(t)}})},41830:(e,t,r)=>{var n=r(79989);var i=r(71594);var o=r(3689);var a=r(48999);var s=r(45375).onFreeze;var u=Object.freeze;var c=o((function(){u(1)}));n({target:"Object",stat:true,forced:c,sham:!i},{freeze:function e(t){return u&&a(t)?u(s(t)):t}})},85415:(e,t,r)=>{var n=r(79989);var i=r(18734);var o=r(76522);n({target:"Object",stat:true},{fromEntries:function e(t){var r={};i(t,(function(e,t){o(r,e,t)}),{AS_ENTRIES:true});return r}})},81919:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=r(65290);var a=r(82474).f;var s=r(67697);var u=!s||i((function(){a(1)}));n({target:"Object",stat:true,forced:u,sham:!s},{getOwnPropertyDescriptor:function e(t,r){return a(o(t),r)}})},99474:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(19152);var a=r(65290);var s=r(82474);var u=r(76522);n({target:"Object",stat:true,sham:!i},{getOwnPropertyDescriptors:function e(t){var r=a(t);var n=s.f;var i=o(r);var c={};var l=0;var f,d;while(i.length>l){d=n(r,f=i[l++]);if(d!==undefined)u(c,f,d)}return c}})},79997:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=r(26062).f;var a=i((function(){return!Object.getOwnPropertyNames(1)}));n({target:"Object",stat:true,forced:a},{getOwnPropertyNames:o})},79434:(e,t,r)=>{var n=r(79989);var i=r(50146);var o=r(3689);var a=r(7518);var s=r(90690);var u=!i||o((function(){a.f(1)}));n({target:"Object",stat:true,forced:u},{getOwnPropertySymbols:function e(t){var r=a.f;return r?r(s(t)):[]}})},88052:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=r(90690);var a=r(61868);var s=r(81748);var u=i((function(){a(1)}));n({target:"Object",stat:true,forced:u,sham:!s},{getPrototypeOf:function e(t){return a(o(t))}})},44079:(e,t,r)=>{var n=r(79989);var i=r(76058);var o=r(68844);var a=r(10509);var s=r(74684);var u=r(18360);var c=r(18734);var l=r(3689);var f=Object.groupBy;var d=i("Object","create");var h=o([].push);var p=!f||l((function(){return f("ab",(function(e){return e})).a.length!==1}));n({target:"Object",stat:true,forced:p},{groupBy:function e(t,r){s(t);a(r);var n=d(null);var i=0;c(t,(function(e){var t=u(r(e,i++));if(t in n)h(n[t],e);else n[t]=[e]}));return n}})},14566:(e,t,r)=>{var n=r(79989);var i=r(36812);n({target:"Object",stat:true},{hasOwn:i})},36446:(e,t,r)=>{var n=r(79989);var i=r(27049);n({target:"Object",stat:true,forced:Object.isExtensible!==i},{isExtensible:i})},35140:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=r(48999);var a=r(6648);var s=r(11655);var u=Object.isFrozen;var c=s||i((function(){u(1)}));n({target:"Object",stat:true,forced:c},{isFrozen:function e(t){if(!o(t))return true;if(s&&a(t)==="ArrayBuffer")return true;return u?u(t):false}})},4179:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=r(48999);var a=r(6648);var s=r(11655);var u=Object.isSealed;var c=s||i((function(){u(1)}));n({target:"Object",stat:true,forced:c},{isSealed:function e(t){if(!o(t))return true;if(s&&a(t)==="ArrayBuffer")return true;return u?u(t):false}})},76101:(e,t,r)=>{var n=r(79989);var i=r(70953);n({target:"Object",stat:true},{is:i})},69358:(e,t,r)=>{var n=r(79989);var i=r(90690);var o=r(20300);var a=r(3689);var s=a((function(){o(1)}));n({target:"Object",stat:true,forced:s},{keys:function e(t){return o(i(t))}})},75450:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(90600);var a=r(90690);var s=r(18360);var u=r(61868);var c=r(82474).f;if(i){n({target:"Object",proto:true,forced:o},{__lookupGetter__:function e(t){var r=a(this);var n=s(t);var i;do{if(i=c(r,n))return i.get}while(r=u(r))}})}},54993:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(90600);var a=r(90690);var s=r(18360);var u=r(61868);var c=r(82474).f;if(i){n({target:"Object",proto:true,forced:o},{__lookupSetter__:function e(t){var r=a(this);var n=s(t);var i;do{if(i=c(r,n))return i.set}while(r=u(r))}})}},48115:(e,t,r)=>{var n=r(79989);var i=r(48999);var o=r(45375).onFreeze;var a=r(71594);var s=r(3689);var u=Object.preventExtensions;var c=s((function(){u(1)}));n({target:"Object",stat:true,forced:c,sham:!a},{preventExtensions:function e(t){return u&&i(t)?u(o(t)):t}})},19330:(e,t,r)=>{var n=r(67697);var i=r(62148);var o=r(48999);var a=r(60598);var s=r(90690);var u=r(74684);var c=Object.getPrototypeOf;var l=Object.setPrototypeOf;var f=Object.prototype;var d="__proto__";if(n&&c&&l&&!(d in f))try{i(f,d,{configurable:true,get:function e(){return c(s(this))},set:function e(t){var r=u(this);if(a(t)&&o(r)){l(r,t)}}})}catch(e){}},30658:(e,t,r)=>{var n=r(79989);var i=r(48999);var o=r(45375).onFreeze;var a=r(71594);var s=r(3689);var u=Object.seal;var c=s((function(){u(1)}));n({target:"Object",stat:true,forced:c,sham:!a},{seal:function e(t){return u&&i(t)?u(o(t)):t}})},5399:(e,t,r)=>{var n=r(79989);var i=r(49385);n({target:"Object",stat:true},{setPrototypeOf:i})},60228:(e,t,r)=>{var n=r(23043);var i=r(11880);var o=r(65073);if(!n){i(Object.prototype,"toString",o,{unsafe:true})}},86466:(e,t,r)=>{var n=r(79989);var i=r(49419).values;n({target:"Object",stat:true},{values:function e(t){return i(t)}})},80939:(e,t,r)=>{var n=r(79989);var i=r(14818);n({global:true,forced:parseFloat!==i},{parseFloat:i})},32320:(e,t,r)=>{var n=r(79989);var i=r(67897);n({global:true,forced:parseInt!==i},{parseInt:i})},41195:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(10509);var a=r(48742);var s=r(9302);var u=r(18734);var c=r(562);n({target:"Promise",stat:true,forced:c},{allSettled:function e(t){var r=this;var n=a.f(r);var c=n.resolve;var l=n.reject;var f=s((function(){var e=o(r.resolve);var n=[];var a=0;var s=1;u(t,(function(t){var o=a++;var u=false;s++;i(e,r,t).then((function(e){if(u)return;u=true;n[o]={status:"fulfilled",value:e};--s||c(n)}),(function(e){if(u)return;u=true;n[o]={status:"rejected",reason:e};--s||c(n)}))}));--s||c(n)}));if(f.error)l(f.value);return n.promise}})},81692:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(10509);var a=r(48742);var s=r(9302);var u=r(18734);var c=r(562);n({target:"Promise",stat:true,forced:c},{all:function e(t){var r=this;var n=a.f(r);var c=n.resolve;var l=n.reject;var f=s((function(){var e=o(r.resolve);var n=[];var a=0;var s=1;u(t,(function(t){var o=a++;var u=false;s++;i(e,r,t).then((function(e){if(u)return;u=true;n[o]=e;--s||c(n)}),l)}));--s||c(n)}));if(f.error)l(f.value);return n.promise}})},87609:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(10509);var a=r(76058);var s=r(48742);var u=r(9302);var c=r(18734);var l=r(562);var f="No one promise resolved";n({target:"Promise",stat:true,forced:l},{any:function e(t){var r=this;var n=a("AggregateError");var l=s.f(r);var d=l.resolve;var h=l.reject;var p=u((function(){var e=o(r.resolve);var a=[];var s=0;var u=1;var l=false;c(t,(function(t){var o=s++;var c=false;u++;i(e,r,t).then((function(e){if(c||l)return;l=true;d(e)}),(function(e){if(c||l)return;c=true;a[o]=e;--u||h(new n(a,f))}))}));--u||h(new n(a,f))}));if(p.error)h(p.value);return l.promise}})},75089:(e,t,r)=>{var n=r(79989);var i=r(53931);var o=r(87073).CONSTRUCTOR;var a=r(17919);var s=r(76058);var u=r(69985);var c=r(11880);var l=a&&a.prototype;n({target:"Promise",proto:true,forced:o,real:true},{catch:function(e){return this.then(undefined,e)}});if(!i&&u(a)){var f=s("Promise").prototype["catch"];if(l["catch"]!==f){c(l,"catch",f,{unsafe:true})}}},56697:(e,t,r)=>{var n=r(79989);var i=r(53931);var o=r(30240);var a=r(51087);var s=r(22615);var u=r(11880);var c=r(49385);var l=r(55997);var f=r(14241);var d=r(10509);var h=r(69985);var p=r(48999);var v=r(767);var g=r(76373);var m=r(99886).set;var y=r(80231);var _=r(20920);var b=r(9302);var E=r(34410);var S=r(618);var w=r(17919);var T=r(87073);var C=r(48742);var A="Promise";var R=T.CONSTRUCTOR;var I=T.REJECTION_EVENT;var k=T.SUBCLASSING;var O=S.getterFor(A);var P=S.set;var M=w&&w.prototype;var x=w;var L=M;var D=a.TypeError;var N=a.document;var j=a.process;var U=C.f;var B=U;var F=!!(N&&N.createEvent&&a.dispatchEvent);var H="unhandledrejection";var V="rejectionhandled";var W=0;var z=1;var G=2;var Y=1;var K=2;var q,$,J,Z;var X=function(e){var t;return p(e)&&h(t=e.then)?t:false};var Q=function(e,t){var r=t.value;var n=t.state===z;var i=n?e.ok:e.fail;var o=e.resolve;var a=e.reject;var u=e.domain;var c,l,f;try{if(i){if(!n){if(t.rejection===K)ie(t);t.rejection=Y}if(i===true)c=r;else{if(u)u.enter();c=i(r);if(u){u.exit();f=true}}if(c===e.promise){a(new D("Promise-chain cycle"))}else if(l=X(c)){s(l,c,o,a)}else o(c)}else a(r)}catch(e){if(u&&!f)u.exit();a(e)}};var ee=function(e,t){if(e.notified)return;e.notified=true;y((function(){var r=e.reactions;var n;while(n=r.get()){Q(n,e)}e.notified=false;if(t&&!e.rejection)re(e)}))};var te=function(e,t,r){var n,i;if(F){n=N.createEvent("Event");n.promise=t;n.reason=r;n.initEvent(e,false,true);a.dispatchEvent(n)}else n={promise:t,reason:r};if(!I&&(i=a["on"+e]))i(n);else if(e===H)_("Unhandled promise rejection",r)};var re=function(e){s(m,a,(function(){var t=e.facade;var r=e.value;var n=ne(e);var i;if(n){i=b((function(){if(o){j.emit("unhandledRejection",r,t)}else te(H,t,r)}));e.rejection=o||ne(e)?K:Y;if(i.error)throw i.value}}))};var ne=function(e){return e.rejection!==Y&&!e.parent};var ie=function(e){s(m,a,(function(){var t=e.facade;if(o){j.emit("rejectionHandled",t)}else te(V,t,e.value)}))};var oe=function(e,t,r){return function(n){e(t,n,r)}};var ae=function(e,t,r){if(e.done)return;e.done=true;if(r)e=r;e.value=t;e.state=G;ee(e,true)};var se=function(e,t,r){if(e.done)return;e.done=true;if(r)e=r;try{if(e.facade===t)throw new D("Promise can't be resolved itself");var n=X(t);if(n){y((function(){var r={done:false};try{s(n,t,oe(se,r,e),oe(ae,r,e))}catch(t){ae(r,t,e)}}))}else{e.value=t;e.state=z;ee(e,false)}}catch(t){ae({done:false},t,e)}};if(R){x=function e(t){v(this,L);d(t);s(q,this);var r=O(this);try{t(oe(se,r),oe(ae,r))}catch(e){ae(r,e)}};L=x.prototype;q=function e(t){P(this,{type:A,done:false,notified:false,parent:false,reactions:new E,rejection:false,state:W,value:null})};q.prototype=u(L,"then",(function e(t,r){var n=O(this);var i=U(g(this,x));n.parent=true;i.ok=h(t)?t:true;i.fail=h(r)&&r;i.domain=o?j.domain:undefined;if(n.state===W)n.reactions.add(i);else y((function(){Q(i,n)}));return i.promise}));$=function(){var e=new q;var t=O(e);this.promise=e;this.resolve=oe(se,t);this.reject=oe(ae,t)};C.f=U=function(e){return e===x||e===J?new $(e):B(e)};if(!i&&h(w)&&M!==Object.prototype){Z=M.then;if(!k){u(M,"then",(function e(t,r){var n=this;return new x((function(e,t){s(Z,n,e,t)})).then(t,r)}),{unsafe:true})}try{delete M.constructor}catch(e){}if(c){c(M,L)}}}n({global:true,constructor:true,wrap:true,forced:R},{Promise:x});l(x,A,false,true);f(A)},36409:(e,t,r)=>{var n=r(79989);var i=r(53931);var o=r(17919);var a=r(3689);var s=r(76058);var u=r(69985);var c=r(76373);var l=r(72945);var f=r(11880);var d=o&&o.prototype;var h=!!o&&a((function(){d["finally"].call({then:function(){}},(function(){}))}));n({target:"Promise",proto:true,real:true,forced:h},{finally:function(e){var t=c(this,s("Promise"));var r=u(e);return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}});if(!i&&u(o)){var p=s("Promise").prototype["finally"];if(d["finally"]!==p){f(d,"finally",p,{unsafe:true})}}},73964:(e,t,r)=>{r(56697);r(81692);r(75089);r(58829);r(42092);r(57905)},58829:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(10509);var a=r(48742);var s=r(9302);var u=r(18734);var c=r(562);n({target:"Promise",stat:true,forced:c},{race:function e(t){var r=this;var n=a.f(r);var c=n.reject;var l=s((function(){var e=o(r.resolve);u(t,(function(t){i(e,r,t).then(n.resolve,c)}))}));if(l.error)c(l.value);return n.promise}})},42092:(e,t,r)=>{var n=r(79989);var i=r(48742);var o=r(87073).CONSTRUCTOR;n({target:"Promise",stat:true,forced:o},{reject:function e(t){var r=i.f(this);var n=r.reject;n(t);return r.promise}})},57905:(e,t,r)=>{var n=r(79989);var i=r(76058);var o=r(53931);var a=r(17919);var s=r(87073).CONSTRUCTOR;var u=r(72945);var c=i("Promise");var l=o&&!s;n({target:"Promise",stat:true,forced:o||s},{resolve:function e(t){return u(l&&this===c?a:this,t)}})},80183:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(61735);var a=r(96004);var s=r(48742);var u=r(10509);var c=r(9302);var l=i.Promise;var f=false;var d=!l||!l["try"]||c((function(){l["try"]((function(e){f=e===8}),8)})).error||!f;n({target:"Promise",stat:true,forced:d},{try:function(e){var t=arguments.length>1?a(arguments,1):[];var r=s.f(this);var n=c((function(){return o(u(e),undefined,t)}));(n.error?r.reject:r.resolve)(n.value);return r.promise}})},13505:(e,t,r)=>{var n=r(79989);var i=r(48742);n({target:"Promise",stat:true},{withResolvers:function e(){var t=i.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})},54333:(e,t,r)=>{var n=r(79989);var i=r(61735);var o=r(10509);var a=r(85027);var s=r(3689);var u=!s((function(){Reflect.apply((function(){}))}));n({target:"Reflect",stat:true,forced:u},{apply:function e(t,r,n){return i(o(t),r,a(n))}})},30050:(e,t,r)=>{var n=r(79989);var i=r(76058);var o=r(61735);var a=r(86761);var s=r(52655);var u=r(85027);var c=r(48999);var l=r(25391);var f=r(3689);var d=i("Reflect","construct");var h=Object.prototype;var p=[].push;var v=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)}));var g=!f((function(){d((function(){}))}));var m=v||g;n({target:"Reflect",stat:true,forced:m,sham:m},{construct:function e(t,r){s(t);u(r);var n=arguments.length<3?t:s(arguments[2]);if(g&&!v)return d(t,r,n);if(t===n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var i=[null];o(p,i,r);return new(o(a,t,i))}var f=n.prototype;var m=l(c(f)?f:h);var y=o(t,m,r);return c(y)?y:m}})},99871:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(85027);var a=r(18360);var s=r(72560);var u=r(3689);var c=u((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})}));n({target:"Reflect",stat:true,forced:c,sham:!i},{defineProperty:function e(t,r,n){o(t);var i=a(r);o(n);try{s.f(t,i,n);return true}catch(e){return false}}})},1049:(e,t,r)=>{var n=r(79989);var i=r(85027);var o=r(82474).f;n({target:"Reflect",stat:true},{deleteProperty:function e(t,r){var n=o(i(t),r);return n&&!n.configurable?false:delete t[r]}})},50149:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(85027);var a=r(82474);n({target:"Reflect",stat:true,sham:!i},{getOwnPropertyDescriptor:function e(t,r){return a.f(o(t),r)}})},43792:(e,t,r)=>{var n=r(79989);var i=r(85027);var o=r(61868);var a=r(81748);n({target:"Reflect",stat:true,sham:!a},{getPrototypeOf:function e(t){return o(i(t))}})},32349:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(48999);var a=r(85027);var s=r(76251);var u=r(82474);var c=r(61868);function l(e,t){var r=arguments.length<3?e:arguments[2];var n,f;if(a(e)===r)return e[t];n=u.f(e,t);if(n)return s(n)?n.value:n.get===undefined?undefined:i(n.get,r);if(o(f=c(e)))return l(f,t,r)}n({target:"Reflect",stat:true},{get:l})},69707:(e,t,r)=>{var n=r(79989);n({target:"Reflect",stat:true},{has:function e(t,r){return r in t}})},63545:(e,t,r)=>{var n=r(79989);var i=r(85027);var o=r(27049);n({target:"Reflect",stat:true},{isExtensible:function e(t){i(t);return o(t)}})},62087:(e,t,r)=>{var n=r(79989);var i=r(19152);n({target:"Reflect",stat:true},{ownKeys:i})},51505:(e,t,r)=>{var n=r(79989);var i=r(76058);var o=r(85027);var a=r(71594);n({target:"Reflect",stat:true,sham:!a},{preventExtensions:function e(t){o(t);try{var r=i("Object","preventExtensions");if(r)r(t);return true}catch(e){return false}}})},22373:(e,t,r)=>{var n=r(79989);var i=r(85027);var o=r(23550);var a=r(49385);if(a)n({target:"Reflect",stat:true},{setPrototypeOf:function e(t,r){i(t);o(r);try{a(t,r);return true}catch(e){return false}}})},45247:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(85027);var a=r(48999);var s=r(76251);var u=r(3689);var c=r(72560);var l=r(82474);var f=r(61868);var d=r(75684);function h(e,t,r){var n=arguments.length<4?e:arguments[3];var u=l.f(o(e),t);var p,v,g;if(!u){if(a(v=f(e))){return h(v,t,r,n)}u=d(0)}if(s(u)){if(u.writable===false||!a(n))return false;if(p=l.f(n,t)){if(p.get||p.set||p.writable===false)return false;p.value=r;c.f(n,t,p)}else c.f(n,t,d(0,r))}else{g=u.set;if(g===undefined)return false;i(g,n,r)}return true}var p=u((function(){var e=function(){};var t=c.f(new e,"a",{configurable:true});return Reflect.set(e.prototype,"a",1,t)!==false}));n({target:"Reflect",stat:true,forced:p},{set:h})},76034:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(55997);n({global:true},{Reflect:{}});o(i.Reflect,"Reflect",true)},52003:(e,t,r)=>{var n=r(67697);var i=r(51087);var o=r(68844);var a=r(35266);var s=r(33457);var u=r(75773);var c=r(25391);var l=r(72741).f;var f=r(23622);var d=r(91245);var h=r(34327);var p=r(63477);var v=r(87901);var g=r(38055);var m=r(11880);var y=r(3689);var _=r(36812);var b=r(618).enforce;var E=r(14241);var S=r(44201);var w=r(62100);var T=r(26738);var C=S("match");var A=i.RegExp;var R=A.prototype;var I=i.SyntaxError;var k=o(R.exec);var O=o("".charAt);var P=o("".replace);var M=o("".indexOf);var x=o("".slice);var L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/;var D=/a/g;var N=/a/g;var j=new A(D)!==D;var U=v.MISSED_STICKY;var B=v.UNSUPPORTED_Y;var F=n&&(!j||U||w||T||y((function(){N[C]=false;return A(D)!==D||A(N)===N||String(A(D,"i"))!=="/a/i"})));var H=function(e){var t=e.length;var r=0;var n="";var i=false;var o;for(;r<=t;r++){o=O(e,r);if(o==="\\"){n+=o+O(e,++r);continue}if(!i&&o==="."){n+="[\\s\\S]"}else{if(o==="["){i=true}else if(o==="]"){i=false}n+=o}}return n};var V=function(e){var t=e.length;var r=0;var n="";var i=[];var o=c(null);var a=false;var s=false;var u=0;var l="";var f;for(;r<=t;r++){f=O(e,r);if(f==="\\"){f+=O(e,++r)}else if(f==="]"){a=false}else if(!a)switch(true){case f==="[":a=true;break;case f==="(":n+=f;if(x(e,r+1,r+3)==="?:"){continue}if(k(L,x(e,r+1))){r+=2;s=true}u++;continue;case f===">"&&s:if(l===""||_(o,l)){throw new I("Invalid capture group name")}o[l]=true;i[i.length]=[l,u];s=false;l="";continue}if(s)l+=f;else n+=f}return[n,i]};if(a("RegExp",F)){var W=function e(t,r){var n=f(R,this);var i=d(t);var o=r===undefined;var a=[];var c=t;var l,v,g,m,y,_;if(!n&&i&&o&&t.constructor===W){return t}if(i||f(R,t)){t=t.source;if(o)r=p(c)}t=t===undefined?"":h(t);r=r===undefined?"":h(r);c=t;if(w&&"dotAll"in D){v=!!r&&M(r,"s")>-1;if(v)r=P(r,/s/g,"")}l=r;if(U&&"sticky"in D){g=!!r&&M(r,"y")>-1;if(g&&B)r=P(r,/y/g,"")}if(T){m=V(t);t=m[0];a=m[1]}y=s(A(t,r),n?this:R,W);if(v||g||a.length){_=b(y);if(v){_.dotAll=true;_.raw=W(H(t),l)}if(g)_.sticky=true;if(a.length)_.groups=a}if(t!==c)try{u(y,"source",c===""?"(?:)":c)}catch(e){}return y};for(var z=l(A),G=0;z.length>G;){g(W,A,z[G++])}R.constructor=W;W.prototype=R;m(i,"RegExp",W,{constructor:true})}E("RegExp")},68518:(e,t,r)=>{var n=r(67697);var i=r(62100);var o=r(6648);var a=r(62148);var s=r(618).get;var u=RegExp.prototype;var c=TypeError;if(n&&i){a(u,"dotAll",{configurable:true,get:function e(){if(this===u)return;if(o(this)==="RegExp"){return!!s(this).dotAll}throw new c("Incompatible receiver, RegExp required")}})}},64043:(e,t,r)=>{var n=r(79989);var i=r(56308);n({target:"RegExp",proto:true,forced:/./.exec!==i},{exec:i})},25847:(e,t,r)=>{var n=r(51087);var i=r(67697);var o=r(62148);var a=r(69633);var s=r(3689);var u=n.RegExp;var c=u.prototype;var l=i&&s((function(){var e=true;try{u(".","d")}catch(t){e=false}var t={};var r="";var n=e?"dgimsy":"gimsy";var i=function(e,n){Object.defineProperty(t,e,{get:function(){r+=n;return true}})};var o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};if(e)o.hasIndices="d";for(var a in o)i(a,o[a]);var s=Object.getOwnPropertyDescriptor(c,"flags").get.call(t);return s!==n||r!==n}));if(l)o(c,"flags",{configurable:true,get:a})},13440:(e,t,r)=>{var n=r(67697);var i=r(87901).MISSED_STICKY;var o=r(6648);var a=r(62148);var s=r(618).get;var u=RegExp.prototype;var c=TypeError;if(n&&i){a(u,"sticky",{configurable:true,get:function e(){if(this===u)return;if(o(this)==="RegExp"){return!!s(this).sticky}throw new c("Incompatible receiver, RegExp required")}})}},7409:(e,t,r)=>{r(64043);var n=r(79989);var i=r(22615);var o=r(69985);var a=r(85027);var s=r(34327);var u=function(){var e=false;var t=/[ac]/;t.exec=function(){e=true;return/./.exec.apply(this,arguments)};return t.test("abc")===true&&e}();var c=/./.test;n({target:"RegExp",proto:true,forced:!u},{test:function(e){var t=a(this);var r=s(e);var n=t.exec;if(!o(n))return i(c,t,r);var u=i(n,t,r);if(u===null)return false;a(u);return true}})},12826:(e,t,r)=>{var n=r(41236).PROPER;var i=r(11880);var o=r(85027);var a=r(34327);var s=r(3689);var u=r(63477);var c="toString";var l=RegExp.prototype;var f=l[c];var d=s((function(){return f.call({source:"a",flags:"b"})!=="/a/b"}));var h=n&&f.name!==c;if(d||h){i(l,c,(function e(){var t=o(this);var r=a(t.source);var n=a(u(t));return"/"+r+"/"+n}),{unsafe:true})}},17985:(e,t,r)=>{var n=r(20319);var i=r(70800);n("Set",(function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}}),i)},22556:(e,t,r)=>{var n=r(79989);var i=r(27748);var o=r(53234);var a=!o("difference",(function(e){return e.size===0}));n({target:"Set",proto:true,real:true,forced:a},{difference:i})},82845:(e,t,r)=>{var n=r(79989);var i=r(3689);var o=r(72948);var a=r(53234);var s=!a("intersection",(function(e){return e.size===2&&e.has(1)&&e.has(2)}))||i((function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"}));n({target:"Set",proto:true,real:true,forced:s},{intersection:o})},50570:(e,t,r)=>{var n=r(79989);var i=r(97795);var o=r(53234);var a=!o("isDisjointFrom",(function(e){return!e}));n({target:"Set",proto:true,real:true,forced:a},{isDisjointFrom:i})},33019:(e,t,r)=>{var n=r(79989);var i=r(26951);var o=r(53234);var a=!o("isSubsetOf",(function(e){return e}));n({target:"Set",proto:true,real:true,forced:a},{isSubsetOf:i})},21473:(e,t,r)=>{var n=r(79989);var i=r(3894);var o=r(53234);var a=!o("isSupersetOf",(function(e){return!e}));n({target:"Set",proto:true,real:true,forced:a},{isSupersetOf:i})},19649:(e,t,r)=>{r(17985)},88208:(e,t,r)=>{var n=r(79989);var i=r(62289);var o=r(53234);n({target:"Set",proto:true,real:true,forced:!o("symmetricDifference")},{symmetricDifference:i})},22624:(e,t,r)=>{var n=r(79989);var i=r(75674);var o=r(53234);n({target:"Set",proto:true,real:true,forced:!o("union")},{union:i})},90343:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("anchor")},{anchor:function e(t){return i(this,"a","name",t)}})},7961:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(74684);var a=r(68700);var s=r(34327);var u=r(3689);var c=i("".charAt);var l=u((function(){return"𠮷".at(-2)!=="\ud842"}));n({target:"String",proto:true,forced:l},{at:function e(t){var r=s(o(this));var n=r.length;var i=a(t);var u=i>=0?i:n+i;return u<0||u>=n?undefined:c(r,u)}})},21444:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("big")},{big:function e(){return i(this,"big","","")}})},25906:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("blink")},{blink:function e(){return i(this,"blink","","")}})},95682:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("bold")},{bold:function e(){return i(this,"b","","")}})},86239:(e,t,r)=>{var n=r(79989);var i=r(10730).codeAt;n({target:"String",proto:true},{codePointAt:function e(t){return i(this,t)}})},2918:(e,t,r)=>{var n=r(79989);var i=r(46576);var o=r(82474).f;var a=r(43126);var s=r(34327);var u=r(42124);var c=r(74684);var l=r(27413);var f=r(53931);var d=i("".slice);var h=Math.min;var p=l("endsWith");var v=!f&&!p&&!!function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}();n({target:"String",proto:true,forced:!v&&!p},{endsWith:function e(t){var r=s(c(this));u(t);var n=arguments.length>1?arguments[1]:undefined;var i=r.length;var o=n===undefined?i:h(a(n),i);var l=s(t);return d(r,o-l.length,o)===l}})},98041:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("fixed")},{fixed:function e(){return i(this,"tt","","")}})},6364:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("fontcolor")},{fontcolor:function e(t){return i(this,"font","color",t)}})},82954:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("fontsize")},{fontsize:function e(t){return i(this,"font","size",t)}})},20283:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(27578);var a=RangeError;var s=String.fromCharCode;var u=String.fromCodePoint;var c=i([].join);var l=!!u&&u.length!==1;n({target:"String",stat:true,arity:1,forced:l},{fromCodePoint:function e(t){var r=[];var n=arguments.length;var i=0;var u;while(n>i){u=+arguments[i++];if(o(u,1114111)!==u)throw new a(u+" is not a valid code point");r[i]=u<65536?s(u):s(((u-=65536)>>10)+55296,u%1024+56320)}return c(r,"")}})},43843:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(42124);var a=r(74684);var s=r(34327);var u=r(27413);var c=i("".indexOf);n({target:"String",proto:true,forced:!u("includes")},{includes:function e(t){return!!~c(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:undefined)}})},12281:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(74684);var a=r(34327);var s=i("".charCodeAt);n({target:"String",proto:true},{isWellFormed:function e(){var t=a(o(this));var r=t.length;for(var n=0;n<r;n++){var i=s(t,n);if((i&63488)!==55296)continue;if(i>=56320||++n>=r||(s(t,n)&64512)!==56320)return false}return true}})},19162:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("italics")},{italics:function e(){return i(this,"i","","")}})},21694:(e,t,r)=>{var n=r(10730).charAt;var i=r(34327);var o=r(618);var a=r(91934);var s=r(27807);var u="String Iterator";var c=o.set;var l=o.getterFor(u);a(String,"String",(function(e){c(this,{type:u,string:i(e),index:0})}),(function e(){var t=l(this);var r=t.string;var i=t.index;var o;if(i>=r.length)return s(undefined,true);o=n(r,i);t.index+=o.length;return s(o,false)}))},37960:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("link")},{link:function e(t){return i(this,"a","href",t)}})},79866:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(46576);var a=r(30974);var s=r(27807);var u=r(74684);var c=r(43126);var l=r(34327);var f=r(85027);var d=r(981);var h=r(6648);var p=r(91245);var v=r(63477);var g=r(54849);var m=r(11880);var y=r(3689);var _=r(44201);var b=r(76373);var E=r(71514);var S=r(66100);var w=r(618);var T=r(53931);var C=_("matchAll");var A="RegExp String";var R=A+" Iterator";var I=w.set;var k=w.getterFor(R);var O=RegExp.prototype;var P=TypeError;var M=o("".indexOf);var x=o("".matchAll);var L=!!x&&!y((function(){x("a",/./)}));var D=a((function e(t,r,n,i){I(this,{type:R,regexp:t,string:r,global:n,unicode:i,done:false})}),A,(function e(){var t=k(this);if(t.done)return s(undefined,true);var r=t.regexp;var n=t.string;var i=S(r,n);if(i===null){t.done=true;return s(undefined,true)}if(t.global){if(l(i[0])==="")r.lastIndex=E(n,c(r.lastIndex),t.unicode);return s(i,false)}t.done=true;return s(i,false)}));var N=function(e){var t=f(this);var r=l(e);var n=b(t,RegExp);var i=l(v(t));var o,a,s;o=new n(n===RegExp?t.source:t,i);a=!!~M(i,"g");s=!!~M(i,"u");o.lastIndex=c(t.lastIndex);return new D(o,r,a,s)};n({target:"String",proto:true,forced:L},{matchAll:function e(t){var r=u(this);var n,o,a,s;if(!d(t)){if(p(t)){n=l(u(v(t)));if(!~M(n,"g"))throw new P("`.matchAll` does not allow non-global regexes")}if(L)return x(r,t);a=g(t,C);if(a===undefined&&T&&h(t)==="RegExp")a=N;if(a)return i(a,t,r)}else if(L)return x(r,t);o=l(r);s=new RegExp(t,"g");return T?i(N,s,o):s[C](o)}});T||C in O||m(O,C,N)},22462:(e,t,r)=>{var n=r(22615);var i=r(65773);var o=r(85027);var a=r(981);var s=r(43126);var u=r(34327);var c=r(74684);var l=r(54849);var f=r(71514);var d=r(66100);i("match",(function(e,t,r){return[function t(r){var i=c(this);var o=a(r)?undefined:l(r,e);return o?n(o,r,i):new RegExp(r)[e](u(i))},function(e){var n=o(this);var i=u(e);var a=r(t,n,i);if(a.done)return a.value;if(!n.global)return d(n,i);var c=n.unicode;n.lastIndex=0;var l=[];var h=0;var p;while((p=d(n,i))!==null){var v=u(p[0]);l[h]=v;if(v==="")n.lastIndex=f(i,s(n.lastIndex),c);h++}return h===0?null:l}]}))},72940:(e,t,r)=>{var n=r(79989);var i=r(77254).end;var o=r(35947);n({target:"String",proto:true,forced:o},{padEnd:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}})},8472:(e,t,r)=>{var n=r(79989);var i=r(77254).start;var o=r(35947);n({target:"String",proto:true,forced:o},{padStart:function e(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}})},92404:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(65290);var a=r(90690);var s=r(34327);var u=r(6310);var c=i([].push);var l=i([].join);n({target:"String",stat:true},{raw:function e(t){var r=o(a(t).raw);var n=u(r);if(!n)return"";var i=arguments.length;var f=[];var d=0;while(true){c(f,s(r[d++]));if(d===n)return l(f,"");if(d<i)c(f,s(arguments[d]))}}})},59588:(e,t,r)=>{var n=r(79989);var i=r(90534);n({target:"String",proto:true},{repeat:i})},56532:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(68844);var a=r(74684);var s=r(69985);var u=r(981);var c=r(91245);var l=r(34327);var f=r(54849);var d=r(63477);var h=r(27017);var p=r(44201);var v=r(53931);var g=p("replace");var m=TypeError;var y=o("".indexOf);var _=o("".replace);var b=o("".slice);var E=Math.max;n({target:"String",proto:true},{replaceAll:function e(t,r){var n=a(this);var o,p,S,w,T,C,A,R,I,k;var O=0;var P="";if(!u(t)){o=c(t);if(o){p=l(a(d(t)));if(!~y(p,"g"))throw new m("`.replaceAll` does not allow non-global regexes")}S=f(t,g);if(S)return i(S,t,n,r);if(v&&o)return _(l(n),t,r)}w=l(n);T=l(t);C=s(r);if(!C)r=l(r);A=T.length;R=E(1,A);I=y(w,T);while(I!==-1){k=C?l(r(T,I,w)):h(T,w,I,[],undefined,r);P+=b(w,O,I)+k;O=I+A;I=I+R>w.length?-1:y(w,T,I+R)}if(O<w.length){P+=b(w,O)}return P}})},57267:(e,t,r)=>{var n=r(61735);var i=r(22615);var o=r(68844);var a=r(65773);var s=r(3689);var u=r(85027);var c=r(69985);var l=r(981);var f=r(68700);var d=r(43126);var h=r(34327);var p=r(74684);var v=r(71514);var g=r(54849);var m=r(27017);var y=r(66100);var _=r(44201);var b=_("replace");var E=Math.max;var S=Math.min;var w=o([].concat);var T=o([].push);var C=o("".indexOf);var A=o("".slice);var R=function(e){return e===undefined?e:String(e)};var I=function(){return"a".replace(/./,"$0")==="$0"}();var k=function(){if(/./[b]){return/./[b]("a","$0")===""}return false}();var O=!s((function(){var e=/./;e.exec=function(){var e=[];e.groups={a:"7"};return e};return"".replace(e,"$<a>")!=="7"}));a("replace",(function(e,t,r){var o=k?"$":"$0";return[function e(r,n){var o=p(this);var a=l(r)?undefined:g(r,b);return a?i(a,r,o,n):i(t,h(o),r,n)},function(e,i){var a=u(this);var s=h(e);if(typeof i=="string"&&C(i,o)===-1&&C(i,"$<")===-1){var l=r(t,a,s,i);if(l.done)return l.value}var p=c(i);if(!p)i=h(i);var g=a.global;var _;if(g){_=a.unicode;a.lastIndex=0}var b=[];var I;while(true){I=y(a,s);if(I===null)break;T(b,I);if(!g)break;var k=h(I[0]);if(k==="")a.lastIndex=v(s,d(a.lastIndex),_)}var O="";var P=0;for(var M=0;M<b.length;M++){I=b[M];var x=h(I[0]);var L=E(S(f(I.index),s.length),0);var D=[];var N;for(var j=1;j<I.length;j++)T(D,R(I[j]));var U=I.groups;if(p){var B=w([x],D,L,s);if(U!==undefined)T(B,U);N=h(n(i,undefined,B))}else{N=m(x,s,L,D,U,i)}if(L>=P){O+=A(s,P,L)+N;P=L+x.length}}return O+A(s,P)}]}),!O||!I||k)},61514:(e,t,r)=>{var n=r(22615);var i=r(65773);var o=r(85027);var a=r(981);var s=r(74684);var u=r(70953);var c=r(34327);var l=r(54849);var f=r(66100);i("search",(function(e,t,r){return[function t(r){var i=s(this);var o=a(r)?undefined:l(r,e);return o?n(o,r,i):new RegExp(r)[e](c(i))},function(e){var n=o(this);var i=c(e);var a=r(t,n,i);if(a.done)return a.value;var s=n.lastIndex;if(!u(s,0))n.lastIndex=0;var l=f(n,i);if(!u(n.lastIndex,s))n.lastIndex=s;return l===null?-1:l.index}]}))},470:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("small")},{small:function e(){return i(this,"small","","")}})},9873:(e,t,r)=>{var n=r(22615);var i=r(68844);var o=r(65773);var a=r(85027);var s=r(981);var u=r(74684);var c=r(76373);var l=r(71514);var f=r(43126);var d=r(34327);var h=r(54849);var p=r(66100);var v=r(87901);var g=r(3689);var m=v.UNSUPPORTED_Y;var y=4294967295;var _=Math.min;var b=i([].push);var E=i("".slice);var S=!g((function(){var e=/(?:)/;var t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"}));var w="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;o("split",(function(e,t,r){var i="0".split(undefined,0).length?function(e,r){return e===undefined&&r===0?[]:n(t,this,e,r)}:t;return[function t(r,o){var a=u(this);var c=s(r)?undefined:h(r,e);return c?n(c,r,a,o):n(i,d(a),r,o)},function(e,n){var o=a(this);var s=d(e);if(!w){var u=r(i,o,s,n,i!==t);if(u.done)return u.value}var h=c(o,RegExp);var v=o.unicode;var g=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(m?"g":"y");var S=new h(m?"^(?:"+o.source+")":o,g);var T=n===undefined?y:n>>>0;if(T===0)return[];if(s.length===0)return p(S,s)===null?[s]:[];var C=0;var A=0;var R=[];while(A<s.length){S.lastIndex=m?0:A;var I=p(S,m?E(s,A):s);var k;if(I===null||(k=_(f(S.lastIndex+(m?A:0)),s.length))===C){A=l(s,A,v)}else{b(R,E(s,C,A));if(R.length===T)return R;for(var O=1;O<=I.length-1;O++){b(R,I[O]);if(R.length===T)return R}A=C=k}}b(R,E(s,C));return R}]}),w||!S,m)},268:(e,t,r)=>{var n=r(79989);var i=r(46576);var o=r(82474).f;var a=r(43126);var s=r(34327);var u=r(42124);var c=r(74684);var l=r(27413);var f=r(53931);var d=i("".slice);var h=Math.min;var p=l("startsWith");var v=!f&&!p&&!!function(){var e=o(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:true,forced:!v&&!p},{startsWith:function e(t){var r=s(c(this));u(t);var n=a(h(arguments.length>1?arguments[1]:undefined,r.length));var i=s(t);return d(r,n,n+i.length)===i}})},67446:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("strike")},{strike:function e(){return i(this,"strike","","")}})},47729:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("sub")},{sub:function e(){return i(this,"sub","","")}})},20372:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(74684);var a=r(68700);var s=r(34327);var u=i("".slice);var c=Math.max;var l=Math.min;var f=!"".substr||"ab".substr(-1)!=="b";n({target:"String",proto:true,forced:f},{substr:function e(t,r){var n=s(o(this));var i=n.length;var f=a(t);var d,h;if(f===Infinity)f=0;if(f<0)f=c(i+f,0);d=r===undefined?i:a(r);if(d<=0||d===Infinity)return"";h=l(f+d,i);return f>=h?"":u(n,f,h)}})},2e3:(e,t,r)=>{var n=r(79989);var i=r(71568);var o=r(74580);n({target:"String",proto:true,forced:o("sup")},{sup:function e(){return i(this,"sup","","")}})},35237:(e,t,r)=>{var n=r(79989);var i=r(22615);var o=r(68844);var a=r(74684);var s=r(34327);var u=r(3689);var c=Array;var l=o("".charAt);var f=o("".charCodeAt);var d=o([].join);var h="".toWellFormed;var p="�";var v=h&&u((function(){return i(h,1)!=="1"}));n({target:"String",proto:true,forced:v},{toWellFormed:function e(){var t=s(a(this));if(v)return i(h,t);var r=t.length;var n=c(r);for(var o=0;o<r;o++){var u=f(t,o);if((u&63488)!==55296)n[o]=l(t,o);else if(u>=56320||o+1>=r||(f(t,o+1)&64512)!==56320)n[o]=p;else{n[o]=l(t,o);n[++o]=l(t,o)}}return d(n,"")}})},16386:(e,t,r)=>{r(61313);var n=r(79989);var i=r(79558);n({target:"String",proto:true,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},10974:(e,t,r)=>{var n=r(79989);var i=r(72291);n({target:"String",proto:true,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},61313:(e,t,r)=>{var n=r(79989);var i=r(79558);n({target:"String",proto:true,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},3255:(e,t,r)=>{r(10974);var n=r(79989);var i=r(72291);n({target:"String",proto:true,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},28436:(e,t,r)=>{var n=r(79989);var i=r(61435).trim;var o=r(75984);n({target:"String",proto:true,forced:o("trim")},{trim:function e(){return i(this)}})},58373:(e,t,r)=>{var n=r(35405);n("asyncIterator")},37855:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(22615);var a=r(68844);var s=r(53931);var u=r(67697);var c=r(50146);var l=r(3689);var f=r(36812);var d=r(23622);var h=r(85027);var p=r(65290);var v=r(18360);var g=r(34327);var m=r(75684);var y=r(25391);var _=r(20300);var b=r(72741);var E=r(26062);var S=r(7518);var w=r(82474);var T=r(72560);var C=r(98920);var A=r(49556);var R=r(11880);var I=r(62148);var k=r(83430);var O=r(2713);var P=r(57248);var M=r(14630);var x=r(44201);var L=r(96145);var D=r(35405);var N=r(13032);var j=r(55997);var U=r(618);var B=r(2960).forEach;var F=O("hidden");var H="Symbol";var V="prototype";var W=U.set;var z=U.getterFor(H);var G=Object[V];var Y=i.Symbol;var K=Y&&Y[V];var q=i.RangeError;var $=i.TypeError;var J=i.QObject;var Z=w.f;var X=T.f;var Q=E.f;var ee=A.f;var te=a([].push);var re=k("symbols");var ne=k("op-symbols");var ie=k("wks");var oe=!J||!J[V]||!J[V].findChild;var ae=function(e,t,r){var n=Z(G,t);if(n)delete G[t];X(e,t,r);if(n&&e!==G){X(G,t,n)}};var se=u&&l((function(){return y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a!==7}))?ae:X;var ue=function(e,t){var r=re[e]=y(K);W(r,{type:H,tag:e,description:t});if(!u)r.description=t;return r};var ce=function e(t,r,n){if(t===G)ce(ne,r,n);h(t);var i=v(r);h(n);if(f(re,i)){if(!n.enumerable){if(!f(t,F))X(t,F,m(1,y(null)));t[F][i]=true}else{if(f(t,F)&&t[F][i])t[F][i]=false;n=y(n,{enumerable:m(0,false)})}return se(t,i,n)}return X(t,i,n)};var le=function e(t,r){h(t);var n=p(r);var i=_(n).concat(ve(n));B(i,(function(e){if(!u||o(de,n,e))ce(t,e,n[e])}));return t};var fe=function e(t,r){return r===undefined?y(t):le(y(t),r)};var de=function e(t){var r=v(t);var n=o(ee,this,r);if(this===G&&f(re,r)&&!f(ne,r))return false;return n||!f(this,r)||!f(re,r)||f(this,F)&&this[F][r]?n:true};var he=function e(t,r){var n=p(t);var i=v(r);if(n===G&&f(re,i)&&!f(ne,i))return;var o=Z(n,i);if(o&&f(re,i)&&!(f(n,F)&&n[F][i])){o.enumerable=true}return o};var pe=function e(t){var r=Q(p(t));var n=[];B(r,(function(e){if(!f(re,e)&&!f(P,e))te(n,e)}));return n};var ve=function(e){var t=e===G;var r=Q(t?ne:p(e));var n=[];B(r,(function(e){if(f(re,e)&&(!t||f(G,e))){te(n,re[e])}}));return n};if(!c){Y=function e(){if(d(K,this))throw new $("Symbol is not a constructor");var t=!arguments.length||arguments[0]===undefined?undefined:g(arguments[0]);var r=M(t);var n=function(e){var t=this===undefined?i:this;if(t===G)o(n,ne,e);if(f(t,F)&&f(t[F],r))t[F][r]=false;var a=m(1,e);try{se(t,r,a)}catch(e){if(!(e instanceof q))throw e;ae(t,r,a)}};if(u&&oe)se(G,r,{configurable:true,set:n});return ue(r,t)};K=Y[V];R(K,"toString",(function e(){return z(this).tag}));R(Y,"withoutSetter",(function(e){return ue(M(e),e)}));A.f=de;T.f=ce;C.f=le;w.f=he;b.f=E.f=pe;S.f=ve;L.f=function(e){return ue(x(e),e)};if(u){I(K,"description",{configurable:true,get:function e(){return z(this).description}});if(!s){R(G,"propertyIsEnumerable",de,{unsafe:true})}}}n({global:true,constructor:true,wrap:true,forced:!c,sham:!c},{Symbol:Y});B(_(ie),(function(e){D(e)}));n({target:H,stat:true,forced:!c},{useSetter:function(){oe=true},useSimple:function(){oe=false}});n({target:"Object",stat:true,forced:!c,sham:!u},{create:fe,defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:he});n({target:"Object",stat:true,forced:!c},{getOwnPropertyNames:pe});N();j(Y,H);P[F]=true},86544:(e,t,r)=>{var n=r(79989);var i=r(67697);var o=r(51087);var a=r(68844);var s=r(36812);var u=r(69985);var c=r(23622);var l=r(34327);var f=r(62148);var d=r(8758);var h=o.Symbol;var p=h&&h.prototype;if(i&&u(h)&&(!("description"in p)||h().description!==undefined)){var v={};var g=function e(){var t=arguments.length<1||arguments[0]===undefined?undefined:l(arguments[0]);var r=c(p,this)?new h(t):t===undefined?h():h(t);if(t==="")v[r]=true;return r};d(g,h);g.prototype=p;p.constructor=g;var m=String(h("description detection"))==="Symbol(description detection)";var y=a(p.valueOf);var _=a(p.toString);var b=/^Symbol\((.*)\)[^)]+$/;var E=a("".replace);var S=a("".slice);f(p,"description",{configurable:true,get:function e(){var t=y(this);if(s(v,t))return"";var r=_(t);var n=m?S(r,7,-1):E(r,b,"$1");return n===""?undefined:n}});n({global:true,constructor:true,forced:true},{Symbol:g})}},43975:(e,t,r)=>{var n=r(79989);var i=r(76058);var o=r(36812);var a=r(34327);var s=r(83430);var u=r(46549);var c=s("string-to-symbol-registry");var l=s("symbol-to-string-registry");n({target:"Symbol",stat:true,forced:!u},{for:function(e){var t=a(e);if(o(c,t))return c[t];var r=i("Symbol")(t);c[t]=r;l[r]=t;return r}})},96157:(e,t,r)=>{var n=r(35405);n("hasInstance")},82529:(e,t,r)=>{var n=r(35405);n("isConcatSpreadable")},84254:(e,t,r)=>{var n=r(35405);n("iterator")},59749:(e,t,r)=>{r(37855);r(43975);r(81445);r(48324);r(79434)},81445:(e,t,r)=>{var n=r(79989);var i=r(36812);var o=r(30734);var a=r(23691);var s=r(83430);var u=r(46549);var c=s("symbol-to-string-registry");n({target:"Symbol",stat:true,forced:!u},{keyFor:function e(t){if(!o(t))throw new TypeError(a(t)+" is not a symbol");if(i(c,t))return c[t]}})},93531:(e,t,r)=>{var n=r(35405);n("matchAll")},64155:(e,t,r)=>{var n=r(35405);n("match")},95906:(e,t,r)=>{var n=r(35405);n("replace")},50549:(e,t,r)=>{var n=r(35405);n("search")},96285:(e,t,r)=>{var n=r(35405);n("species")},18200:(e,t,r)=>{var n=r(35405);n("split")},69373:(e,t,r)=>{var n=r(35405);var i=r(13032);n("toPrimitive");i()},66793:(e,t,r)=>{var n=r(76058);var i=r(35405);var o=r(55997);i("toStringTag");o(n("Symbol"),"Symbol")},44578:(e,t,r)=>{var n=r(35405);n("unscopables")},95194:(e,t,r)=>{var n=r(54872);var i=r(6310);var o=r(68700);var a=n.aTypedArray;var s=n.exportTypedArrayMethod;s("at",(function e(t){var r=a(this);var n=i(r);var s=o(t);var u=s>=0?s:n+s;return u<0||u>=n?undefined:r[u]}))},36664:(e,t,r)=>{var n=r(68844);var i=r(54872);var o=r(70357);var a=n(o);var s=i.aTypedArray;var u=i.exportTypedArrayMethod;u("copyWithin",(function e(t,r){return a(s(this),t,r,arguments.length>2?arguments[2]:undefined)}))},55980:(e,t,r)=>{var n=r(54872);var i=r(2960).every;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("every",(function e(t){return i(o(this),t,arguments.length>1?arguments[1]:undefined)}))},79943:(e,t,r)=>{var n=r(54872);var i=r(62872);var o=r(71530);var a=r(50926);var s=r(22615);var u=r(68844);var c=r(3689);var l=n.aTypedArray;var f=n.exportTypedArrayMethod;var d=u("".slice);var h=c((function(){var e=0;new Int8Array(2).fill({valueOf:function(){return e++}});return e!==1}));f("fill",(function e(t){var r=arguments.length;l(this);var n=d(a(this),0,3)==="Big"?o(t):+t;return s(i,this,n,r>1?arguments[1]:undefined,r>2?arguments[2]:undefined)}),h)},96089:(e,t,r)=>{var n=r(54872);var i=r(2960).filter;var o=r(74899);var a=n.aTypedArray;var s=n.exportTypedArrayMethod;s("filter",(function e(t){var r=i(a(this),t,arguments.length>1?arguments[1]:undefined);return o(this,r)}))},48690:(e,t,r)=>{var n=r(54872);var i=r(2960).findIndex;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("findIndex",(function e(t){return i(o(this),t,arguments.length>1?arguments[1]:undefined)}))},82:(e,t,r)=>{var n=r(54872);var i=r(61969).findLastIndex;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("findLastIndex",(function e(t){return i(o(this),t,arguments.length>1?arguments[1]:undefined)}))},20522:(e,t,r)=>{var n=r(54872);var i=r(61969).findLast;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("findLast",(function e(t){return i(o(this),t,arguments.length>1?arguments[1]:undefined)}))},18539:(e,t,r)=>{var n=r(54872);var i=r(2960).find;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("find",(function e(t){return i(o(this),t,arguments.length>1?arguments[1]:undefined)}))},29068:(e,t,r)=>{var n=r(31158);n("Float32",(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},70292:(e,t,r)=>{var n=r(31158);n("Float64",(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},45385:(e,t,r)=>{var n=r(54872);var i=r(2960).forEach;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("forEach",(function e(t){i(o(this),t,arguments.length>1?arguments[1]:undefined)}))},59495:(e,t,r)=>{var n=r(39800);var i=r(54872).exportTypedArrayStaticMethod;var o=r(41304);i("from",o,n)},85552:(e,t,r)=>{var n=r(54872);var i=r(84328).includes;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("includes",(function e(t){return i(o(this),t,arguments.length>1?arguments[1]:undefined)}))},31803:(e,t,r)=>{var n=r(54872);var i=r(84328).indexOf;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("indexOf",(function e(t){return i(o(this),t,arguments.length>1?arguments[1]:undefined)}))},89988:(e,t,r)=>{var n=r(31158);n("Int16",(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},854:(e,t,r)=>{var n=r(31158);n("Int32",(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},55304:(e,t,r)=>{var n=r(31158);n("Int8",(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},91565:(e,t,r)=>{var n=r(51087);var i=r(3689);var o=r(68844);var a=r(54872);var s=r(752);var u=r(44201);var c=u("iterator");var l=n.Uint8Array;var f=o(s.values);var d=o(s.keys);var h=o(s.entries);var p=a.aTypedArray;var v=a.exportTypedArrayMethod;var g=l&&l.prototype;var m=!i((function(){g[c].call([1])}));var y=!!g&&g.values&&g[c]===g.values&&g.values.name==="values";var _=function e(){return f(p(this))};v("entries",(function e(){return h(p(this))}),m);v("keys",(function e(){return d(p(this))}),m);v("values",_,m||!y,{name:"values"});v(c,_,m||!y,{name:"values"})},67987:(e,t,r)=>{var n=r(54872);var i=r(68844);var o=n.aTypedArray;var a=n.exportTypedArrayMethod;var s=i([].join);a("join",(function e(t){return s(o(this),t)}))},49365:(e,t,r)=>{var n=r(54872);var i=r(61735);var o=r(60953);var a=n.aTypedArray;var s=n.exportTypedArrayMethod;s("lastIndexOf",(function e(t){var r=arguments.length;return i(o,a(this),r>1?[t,arguments[1]]:[t])}))},80677:(e,t,r)=>{var n=r(54872);var i=r(2960).map;var o=n.aTypedArray;var a=n.getTypedArrayConstructor;var s=n.exportTypedArrayMethod;s("map",(function e(t){return i(o(this),t,arguments.length>1?arguments[1]:undefined,(function(e,t){return new(a(e))(t)}))}))},19038:(e,t,r)=>{var n=r(54872);var i=r(39800);var o=n.aTypedArrayConstructor;var a=n.exportTypedArrayStaticMethod;a("of",(function e(){var t=0;var r=arguments.length;var n=new(o(this))(r);while(r>t)n[t]=arguments[t++];return n}),i)},41165:(e,t,r)=>{var n=r(54872);var i=r(88820).right;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("reduceRight",(function e(t){var r=arguments.length;return i(o(this),t,r,r>1?arguments[1]:undefined)}))},18118:(e,t,r)=>{var n=r(54872);var i=r(88820).left;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("reduce",(function e(t){var r=arguments.length;return i(o(this),t,r,r>1?arguments[1]:undefined)}))},71522:(e,t,r)=>{var n=r(54872);var i=n.aTypedArray;var o=n.exportTypedArrayMethod;var a=Math.floor;o("reverse",(function e(){var t=this;var r=i(t).length;var n=a(r/2);var o=0;var s;while(o<n){s=t[o];t[o++]=t[--r];t[r]=s}return t}))},79976:(e,t,r)=>{var n=r(51087);var i=r(22615);var o=r(54872);var a=r(6310);var s=r(83250);var u=r(90690);var c=r(3689);var l=n.RangeError;var f=n.Int8Array;var d=f&&f.prototype;var h=d&&d.set;var p=o.aTypedArray;var v=o.exportTypedArrayMethod;var g=!c((function(){var e=new Uint8ClampedArray(2);i(h,e,{length:1,0:3},1);return e[1]!==3}));var m=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new f(2);e.set(1);e.set("2",1);return e[0]!==0||e[1]!==2}));v("set",(function e(t){p(this);var r=s(arguments.length>1?arguments[1]:undefined,1);var n=u(t);if(g)return i(h,this,n,r);var o=this.length;var c=a(n);var f=0;if(c+r>o)throw new l("Wrong length");while(f<c)this[r+f]=n[f++]}),!g||m)},4797:(e,t,r)=>{var n=r(54872);var i=r(3689);var o=r(96004);var a=n.aTypedArray;var s=n.getTypedArrayConstructor;var u=n.exportTypedArrayMethod;var c=i((function(){new Int8Array(1).slice()}));u("slice",(function e(t,r){var n=o(a(this),t,r);var i=s(this);var u=0;var c=n.length;var l=new i(c);while(c>u)l[u]=n[u++];return l}),c)},7300:(e,t,r)=>{var n=r(54872);var i=r(2960).some;var o=n.aTypedArray;var a=n.exportTypedArrayMethod;a("some",(function e(t){return i(o(this),t,arguments.length>1?arguments[1]:undefined)}))},93356:(e,t,r)=>{var n=r(51087);var i=r(46576);var o=r(3689);var a=r(10509);var s=r(50382);var u=r(54872);var c=r(66164);var l=r(54014);var f=r(21352);var d=r(83826);var h=u.aTypedArray;var p=u.exportTypedArrayMethod;var v=n.Uint16Array;var g=v&&i(v.prototype.sort);var m=!!g&&!(o((function(){g(new v(2),null)}))&&o((function(){g(new v(2),{})})));var y=!!g&&!o((function(){if(f)return f<74;if(c)return c<67;if(l)return true;if(d)return d<602;var e=new v(516);var t=Array(516);var r,n;for(r=0;r<516;r++){n=r%4;e[r]=515-r;t[r]=r-2*n+3}g(e,(function(e,t){return(e/4|0)-(t/4|0)}));for(r=0;r<516;r++){if(e[r]!==t[r])return true}}));var _=function(e){return function(t,r){if(e!==undefined)return+e(t,r)||0;if(r!==r)return-1;if(t!==t)return 1;if(t===0&&r===0)return 1/t>0&&1/r<0?1:-1;return t>r}};p("sort",(function e(t){if(t!==undefined)a(t);if(y)return g(this,t);return s(h(this),_(t))}),!y||m)},62533:(e,t,r)=>{var n=r(54872);var i=r(43126);var o=r(27578);var a=n.aTypedArray;var s=n.getTypedArrayConstructor;var u=n.exportTypedArrayMethod;u("subarray",(function e(t,r){var n=a(this);var u=n.length;var c=o(t,u);var l=s(n);return new l(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,i((r===undefined?u:o(r,u))-c))}))},99724:(e,t,r)=>{var n=r(51087);var i=r(61735);var o=r(54872);var a=r(3689);var s=r(96004);var u=n.Int8Array;var c=o.aTypedArray;var l=o.exportTypedArrayMethod;var f=[].toLocaleString;var d=!!u&&a((function(){f.call(new u(1))}));var h=a((function(){return[1,2].toLocaleString()!==new u([1,2]).toLocaleString()}))||!a((function(){u.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function e(){return i(f,d?s(c(this)):c(this),s(arguments))}),h)},24224:(e,t,r)=>{var n=r(26166);var i=r(54872);var o=i.aTypedArray;var a=i.exportTypedArrayMethod;var s=i.getTypedArrayConstructor;a("toReversed",(function e(){return n(o(this),s(this))}))},61121:(e,t,r)=>{var n=r(54872);var i=r(68844);var o=r(10509);var a=r(59976);var s=n.aTypedArray;var u=n.getTypedArrayConstructor;var c=n.exportTypedArrayMethod;var l=i(n.TypedArrayPrototype.sort);c("toSorted",(function e(t){if(t!==undefined)o(t);var r=s(this);var n=a(u(r),r);return l(n,t)}))},99901:(e,t,r)=>{var n=r(54872).exportTypedArrayMethod;var i=r(3689);var o=r(51087);var a=r(68844);var s=o.Uint8Array;var u=s&&s.prototype||{};var c=[].toString;var l=a([].join);if(i((function(){c.call({})}))){c=function e(){return l(this)}}var f=u.toString!==c;n("toString",c,f)},75679:(e,t,r)=>{var n=r(31158);n("Uint16",(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},18557:(e,t,r)=>{var n=r(31158);n("Uint32",(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},28607:(e,t,r)=>{var n=r(31158);n("Uint8",(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},30938:(e,t,r)=>{var n=r(31158);n("Uint8",(function(e){return function t(r,n,i){return e(this,r,n,i)}}),true)},37133:(e,t,r)=>{var n=r(16134);var i=r(54872);var o=r(9401);var a=r(68700);var s=r(71530);var u=i.aTypedArray;var c=i.getTypedArrayConstructor;var l=i.exportTypedArrayMethod;var f=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();l("with",{with:function(e,t){var r=u(this);var i=a(e);var l=o(r)?s(t):+t;return n(r,c(r),i,l)}}["with"],!f)},622:(e,t,r)=>{var n=r(79989);var i=r(68844);var o=r(34327);var a=String.fromCharCode;var s=i("".charAt);var u=i(/./.exec);var c=i("".slice);var l=/^[\da-f]{2}$/i;var f=/^[\da-f]{4}$/i;n({global:true},{unescape:function e(t){var r=o(t);var n="";var i=r.length;var d=0;var h,p;while(d<i){h=s(r,d++);if(h==="%"){if(s(r,d)==="u"){p=c(r,d+1,d+5);if(u(f,p)){n+=a(parseInt(p,16));d+=5;continue}}else{p=c(r,d,d+2);if(u(l,p)){n+=a(parseInt(p,16));d+=2;continue}}}n+=h}return n}})},45164:(e,t,r)=>{var n=r(71594);var i=r(51087);var o=r(68844);var a=r(6045);var s=r(45375);var u=r(20319);var c=r(70637);var l=r(48999);var f=r(618).enforce;var d=r(3689);var h=r(59834);var p=Object;var v=Array.isArray;var g=p.isExtensible;var m=p.isFrozen;var y=p.isSealed;var _=p.freeze;var b=p.seal;var E=!i.ActiveXObject&&"ActiveXObject"in i;var S;var w=function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}};var T=u("WeakMap",w,c);var C=T.prototype;var A=o(C.set);var R=function(){return n&&d((function(){var e=_([]);A(new T,e,1);return!m(e)}))};if(h)if(E){S=c.getConstructor(w,"WeakMap",true);s.enable();var I=o(C["delete"]);var k=o(C.has);var O=o(C.get);a(C,{delete:function(e){if(l(e)&&!g(e)){var t=f(this);if(!t.frozen)t.frozen=new S;return I(this,e)||t.frozen["delete"](e)}return I(this,e)},has:function e(t){if(l(t)&&!g(t)){var r=f(this);if(!r.frozen)r.frozen=new S;return k(this,t)||r.frozen.has(t)}return k(this,t)},get:function e(t){if(l(t)&&!g(t)){var r=f(this);if(!r.frozen)r.frozen=new S;return k(this,t)?O(this,t):r.frozen.get(t)}return O(this,t)},set:function e(t,r){if(l(t)&&!g(t)){var n=f(this);if(!n.frozen)n.frozen=new S;k(this,t)?A(this,t,r):n.frozen.set(t,r)}else A(this,t,r);return this}})}else if(R()){a(C,{set:function e(t,r){var n;if(v(t)){if(m(t))n=_;else if(y(t))n=b}A(this,t,r);if(n)n(t);return this}})}},51090:(e,t,r)=>{r(45164)},87884:(e,t,r)=>{var n=r(20319);var i=r(70637);n("WeakSet",(function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}}),i)},50414:(e,t,r)=>{r(87884)},52586:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(76058);var a=r(68844);var s=r(22615);var u=r(3689);var c=r(34327);var l=r(21500);var f=r(18368).c2i;var d=/[^\d+/a-z]/i;var h=/[\t\n\f\r ]+/g;var p=/[=]{1,2}$/;var v=o("atob");var g=String.fromCharCode;var m=a("".charAt);var y=a("".replace);var _=a(d.exec);var b=!!v&&!u((function(){return v("aGk=")!=="hi"}));var E=b&&u((function(){return v(" ")!==""}));var S=b&&!u((function(){v("a")}));var w=b&&!u((function(){v()}));var T=b&&v.length!==1;var C=!b||E||S||w||T;n({global:true,bind:true,enumerable:true,forced:C},{atob:function e(t){l(arguments.length,1);if(b&&!E&&!S)return s(v,i,t);var r=y(c(t),h,"");var n="";var a=0;var u=0;var w,T,C;if(r.length%4===0){r=y(r,p,"")}w=r.length;if(w%4===1||_(d,r)){throw new(o("DOMException"))("The string is not correctly encoded","InvalidCharacterError")}while(a<w){T=m(r,a++);C=u%4?C*64+f[T]:f[T];if(u++%4)n+=g(255&C>>(-2*u&6))}return n}})},84645:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(76058);var a=r(68844);var s=r(22615);var u=r(3689);var c=r(34327);var l=r(21500);var f=r(18368).i2c;var d=o("btoa");var h=a("".charAt);var p=a("".charCodeAt);var v=!!d&&!u((function(){return d("hi")!=="aGk="}));var g=v&&!u((function(){d()}));var m=v&&u((function(){return d(null)!=="bnVsbA=="}));var y=v&&d.length!==1;n({global:true,bind:true,enumerable:true,forced:!v||g||m||y},{btoa:function e(t){l(arguments.length,1);if(v)return s(d,i,c(t));var r=c(t);var n="";var a=0;var u=f;var g,m;while(h(r,a)||(u="=",a%1)){m=p(r,a+=3/4);if(m>255){throw new(o("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError")}g=g<<8|m;n+=h(u,63&g>>8-a%1*8)}return n}})},19742:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(99886).clear;n({global:true,bind:true,enumerable:true,forced:i.clearImmediate!==o},{clearImmediate:o})},47522:(e,t,r)=>{var n=r(51087);var i=r(66338);var o=r(33265);var a=r(57612);var s=r(75773);var u=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var c in i){if(i[c]){u(n[c]&&n[c].prototype)}}u(o)},76265:(e,t,r)=>{var n=r(51087);var i=r(66338);var o=r(33265);var a=r(752);var s=r(75773);var u=r(55997);var c=r(44201);var l=c("iterator");var f=a.values;var d=function(e,t){if(e){if(e[l]!==f)try{s(e,l,f)}catch(t){e[l]=f}u(e,t,true);if(i[t])for(var r in a){if(e[r]!==a[r])try{s(e,r,a[r])}catch(t){e[r]=a[r]}}}};for(var h in i){d(n[h]&&n[h].prototype,h)}d(o,"DOMTokenList")},97337:(e,t,r)=>{var n=r(79989);var i=r(76058);var o=r(42337);var a=r(3689);var s=r(25391);var u=r(75684);var c=r(72560).f;var l=r(11880);var f=r(62148);var d=r(36812);var h=r(767);var p=r(85027);var v=r(20445);var g=r(13841);var m=r(37136);var y=r(56610);var _=r(618);var b=r(67697);var E=r(53931);var S="DOMException";var w="DATA_CLONE_ERR";var T=i("Error");var C=i(S)||function(){try{var e=i("MessageChannel")||o("worker_threads").MessageChannel;(new e).port1.postMessage(new WeakMap)}catch(e){if(e.name===w&&e.code===25)return e.constructor}}();var A=C&&C.prototype;var R=T.prototype;var I=_.set;var k=_.getterFor(S);var O="stack"in new T(S);var P=function(e){return d(m,e)&&m[e].m?m[e].c:0};var M=function e(){h(this,x);var t=arguments.length;var r=g(t<1?undefined:arguments[0]);var n=g(t<2?undefined:arguments[1],"Error");var i=P(n);I(this,{type:S,name:n,message:r,code:i});if(!b){this.name=n;this.message=r;this.code=i}if(O){var o=new T(r);o.name=S;c(this,"stack",u(1,y(o.stack,1)))}};var x=M.prototype=s(R);var L=function(e){return{enumerable:true,configurable:true,get:e}};var D=function(e){return L((function(){return k(this)[e]}))};if(b){f(x,"code",D("code"));f(x,"message",D("message"));f(x,"name",D("name"))}c(x,"constructor",u(1,M));var N=a((function(){return!(new C instanceof T)}));var j=N||a((function(){return R.toString!==v||String(new C(1,2))!=="2: 1"}));var U=N||a((function(){return new C(1,"DataCloneError").code!==25}));var B=N||C[w]!==25||A[w]!==25;var F=E?j||U||B:N;n({global:true,constructor:true,forced:F},{DOMException:F?M:C});var H=i(S);var V=H.prototype;if(j&&(E||C===H)){l(V,"toString",v)}if(U&&b&&C===H){f(V,"code",L((function(){return P(p(this).name)})))}for(var W in m)if(d(m,W)){var z=m[W];var G=z.s;var Y=u(6,z.c);if(!d(H,G)){c(H,G,Y)}if(!d(V,G)){c(V,G,Y)}}},13429:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(76058);var a=r(75684);var s=r(72560).f;var u=r(36812);var c=r(767);var l=r(33457);var f=r(13841);var d=r(37136);var h=r(56610);var p=r(67697);var v=r(53931);var g="DOMException";var m=o("Error");var y=o(g);var _=function e(){c(this,b);var t=arguments.length;var r=f(t<1?undefined:arguments[0]);var n=f(t<2?undefined:arguments[1],"Error");var i=new y(r,n);var o=new m(r);o.name=g;s(i,"stack",a(1,h(o.stack,1)));l(i,this,_);return i};var b=_.prototype=y.prototype;var E="stack"in new m(g);var S="stack"in new y(1,2);var w=y&&p&&Object.getOwnPropertyDescriptor(i,g);var T=!!w&&!(w.writable&&w.configurable);var C=E&&!T&&!S;n({global:true,constructor:true,forced:v||C},{DOMException:C?_:y});var A=o(g);var R=A.prototype;if(R.constructor!==A){if(!v){s(R,"constructor",a(1,A))}for(var I in d)if(u(d,I)){var k=d[I];var O=k.s;if(!u(A,O)){s(A,O,a(6,k.c))}}}},37462:(e,t,r)=>{var n=r(76058);var i=r(55997);var o="DOMException";i(n(o),o)},40088:(e,t,r)=>{r(19742);r(52731)},10455:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(80231);var a=r(10509);var s=r(21500);var u=r(3689);var c=r(67697);var l=u((function(){return c&&Object.getOwnPropertyDescriptor(i,"queueMicrotask").value.length!==1}));n({global:true,enumerable:true,dontCallGetSet:true,forced:l},{queueMicrotask:function e(t){s(arguments.length,1);o(a(t))}})},3650:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(62148);var a=r(67697);var s=TypeError;var u=Object.defineProperty;var c=i.self!==i;try{if(a){var l=Object.getOwnPropertyDescriptor(i,"self");if(c||!l||!l.get||!l.enumerable){o(i,"self",{get:function e(){return i},set:function e(t){if(this!==i)throw new s("Illegal invocation");u(i,"self",{value:t,writable:true,configurable:true,enumerable:true})},configurable:true,enumerable:true})}}else n({global:true,simple:true,forced:c},{self:i})}catch(e){}},52731:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(99886).set;var a=r(8552);var s=i.setImmediate?a(o,false):o;n({global:true,bind:true,enumerable:true,forced:i.setImmediate!==s},{setImmediate:s})},10209:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(8552);var a=o(i.setInterval,true);n({global:true,bind:true,forced:i.setInterval!==a},{setInterval:a})},83509:(e,t,r)=>{var n=r(79989);var i=r(51087);var o=r(8552);var a=o(i.setTimeout,true);n({global:true,bind:true,forced:i.setTimeout!==a},{setTimeout:a})},25564:(e,t,r)=>{var n=r(53931);var i=r(79989);var o=r(51087);var a=r(76058);var s=r(68844);var u=r(3689);var c=r(14630);var l=r(69985);var f=r(19429);var d=r(981);var h=r(48999);var p=r(30734);var v=r(18734);var g=r(85027);var m=r(50926);var y=r(36812);var _=r(76522);var b=r(75773);var E=r(6310);var S=r(21500);var w=r(63477);var T=r(83914);var C=r(61034);var A=r(48774);var R=r(21420);var I=r(49599);var k=r(63514);var O=o.Object;var P=o.Array;var M=o.Date;var x=o.Error;var L=o.TypeError;var D=o.PerformanceMark;var N=a("DOMException");var j=T.Map;var U=T.has;var B=T.get;var F=T.set;var H=C.Set;var V=C.add;var W=C.has;var z=a("Object","keys");var G=s([].push);var Y=s(true.valueOf);var K=s(1..valueOf);var q=s("".valueOf);var $=s(M.prototype.getTime);var J=c("structuredClone");var Z="DataCloneError";var X="Transferring";var Q=function(e){return!u((function(){var t=new o.Set([7]);var r=e(t);var n=e(O(7));return r===t||!r.has(7)||!h(n)||+n!==7}))&&e};var ee=function(e,t){return!u((function(){var r=new t;var n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)}))};var te=function(e){return!u((function(){var t=e(new o.AggregateError([1],J,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==J||t.cause!==3}))};var re=o.structuredClone;var ne=n||!ee(re,x)||!ee(re,N)||!te(re);var ie=!re&&Q((function(e){return new D(J,{detail:e}).detail}));var oe=Q(re)||ie;var ae=function(e){throw new N("Uncloneable type: "+e,Z)};var se=function(e,t){throw new N((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Z)};var ue=function(e,t){if(!oe)se(t);return oe(e)};var ce=function(){var e;try{e=new o.DataTransfer}catch(t){try{e=new o.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null};var le=function(e,t,r){if(U(t,e))return B(t,e);var n=r||m(e);var i,a,s,u,c,f;if(n==="SharedArrayBuffer"){if(oe)i=oe(e);else i=e}else{var d=o.DataView;if(!d&&!l(e.slice))se("ArrayBuffer");try{if(l(e.slice)&&!e.resizable){i=e.slice(0)}else{a=e.byteLength;s="maxByteLength"in e?{maxByteLength:e.maxByteLength}:undefined;i=new ArrayBuffer(a,s);u=new d(e);c=new d(i);for(f=0;f<a;f++){c.setUint8(f,u.getUint8(f))}}}catch(e){throw new N("ArrayBuffer is detached",Z)}}F(t,e,i);return i};var fe=function(e,t,r,n,i){var a=o[t];if(!h(a))se(t);return new a(le(e.buffer,i),r,n)};var de=function(e,t){if(p(e))ae("Symbol");if(!h(e))return e;if(t){if(U(t,e))return B(t,e)}else t=new j;var r=m(e);var n,i,s,u,c,f,d,v;switch(r){case"Array":s=P(E(e));break;case"Object":s={};break;case"Map":s=new j;break;case"Set":s=new H;break;case"RegExp":s=new RegExp(e.source,w(e));break;case"Error":i=e.name;switch(i){case"AggregateError":s=new(a(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":s=new(a(i));break;case"CompileError":case"LinkError":case"RuntimeError":s=new(a("WebAssembly",i));break;default:s=new x}break;case"DOMException":s=new N(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":s=le(e,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":f=r==="DataView"?e.byteLength:e.length;s=fe(e,r,e.byteOffset,f,t);break;case"DOMQuad":try{s=new DOMQuad(de(e.p1,t),de(e.p2,t),de(e.p3,t),de(e.p4,t))}catch(t){s=ue(e,r)}break;case"File":if(oe)try{s=oe(e);if(m(s)!==r)s=undefined}catch(e){}if(!s)try{s=new File([e],e.name,e)}catch(e){}if(!s)se(r);break;case"FileList":u=ce();if(u){for(c=0,f=E(e);c<f;c++){u.items.add(de(e[c],t))}s=u.files}else s=ue(e,r);break;case"ImageData":try{s=new ImageData(de(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){s=ue(e,r)}break;default:if(oe){s=oe(e)}else switch(r){case"BigInt":s=O(e.valueOf());break;case"Boolean":s=O(Y(e));break;case"Number":s=O(K(e));break;case"String":s=O(q(e));break;case"Date":s=new M($(e));break;case"Blob":try{s=e.slice(0,e.size,e.type)}catch(e){se(r)}break;case"DOMPoint":case"DOMPointReadOnly":n=o[r];try{s=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(e){se(r)}break;case"DOMRect":case"DOMRectReadOnly":n=o[r];try{s=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(e){se(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=o[r];try{s=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(e){se(r)}break;case"AudioData":case"VideoFrame":if(!l(e.clone))se(r);try{s=e.clone()}catch(e){ae(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":se(r);default:ae(r)}}F(t,e,s);switch(r){case"Array":case"Object":d=z(e);for(c=0,f=E(d);c<f;c++){v=d[c];_(s,v,de(e[v],t))}break;case"Map":e.forEach((function(e,r){F(s,de(r,t),de(e,t))}));break;case"Set":e.forEach((function(e){V(s,de(e,t))}));break;case"Error":b(s,"message",de(e.message,t));if(y(e,"cause")){b(s,"cause",de(e.cause,t))}if(i==="AggregateError"){s.errors=de(e.errors,t)}else if(i==="SuppressedError"){s.error=de(e.error,t);s.suppressed=de(e.suppressed,t)}case"DOMException":if(I){b(s,"stack",de(e.stack,t))}}return s};var he=function(e,t){if(!h(e))throw new L("Transfer option cannot be converted to a sequence");var r=[];v(e,(function(e){G(r,g(e))}));var n=0;var i=E(r);var a=new H;var s,u,c,d,p,y;while(n<i){s=r[n++];u=m(s);if(u==="ArrayBuffer"?W(a,s):U(t,s)){throw new N("Duplicate transferable",Z)}if(u==="ArrayBuffer"){V(a,s);continue}if(k){d=re(s,{transfer:[s]})}else switch(u){case"ImageBitmap":c=o.OffscreenCanvas;if(!f(c))se(u,X);try{p=new c(s.width,s.height);y=p.getContext("bitmaprenderer");y.transferFromImageBitmap(s);d=p.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":if(!l(s.clone)||!l(s.close))se(u,X);try{d=s.clone();s.close()}catch(e){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":se(u,X)}if(d===undefined)throw new N("This object cannot be transferred: "+u,Z);F(t,s,d)}return a};var pe=function(e){A(e,(function(e){if(k){oe(e,{transfer:[e]})}else if(l(e.transfer)){e.transfer()}else if(R){R(e)}else{se("ArrayBuffer",X)}}))};i({global:true,enumerable:true,sham:!k,forced:ne},{structuredClone:function e(t){var r=S(arguments.length,1)>1&&!d(arguments[1])?g(arguments[1]):undefined;var n=r?r.transfer:undefined;var i,o;if(n!==undefined){i=new j;o=he(n,i)}var a=de(t,i);if(o)pe(o);return a}})},96869:(e,t,r)=>{r(10209);r(83509)},2625:(e,t,r)=>{r(752);r(20283);var n=r(79989);var i=r(51087);var o=r(70517);var a=r(76058);var s=r(22615);var u=r(68844);var c=r(67697);var l=r(76837);var f=r(11880);var d=r(62148);var h=r(6045);var p=r(55997);var v=r(30974);var g=r(618);var m=r(767);var y=r(69985);var _=r(36812);var b=r(54071);var E=r(50926);var S=r(85027);var w=r(48999);var T=r(34327);var C=r(25391);var A=r(75684);var R=r(5185);var I=r(91664);var k=r(27807);var O=r(21500);var P=r(44201);var M=r(50382);var x=P("iterator");var L="URLSearchParams";var D=L+"Iterator";var N=g.set;var j=g.getterFor(L);var U=g.getterFor(D);var B=o("fetch");var F=o("Request");var H=o("Headers");var V=F&&F.prototype;var W=H&&H.prototype;var z=i.TypeError;var G=i.encodeURIComponent;var Y=String.fromCharCode;var K=a("String","fromCodePoint");var q=parseInt;var $=u("".charAt);var J=u([].join);var Z=u([].push);var X=u("".replace);var Q=u([].shift);var ee=u([].splice);var te=u("".split);var re=u("".slice);var ne=u(/./.exec);var ie=/\+/g;var oe="�";var ae=/^[0-9a-f]+$/i;var se=function(e,t){var r=re(e,t,t+2);if(!ne(ae,r))return NaN;return q(r,16)};var ue=function(e){var t=0;for(var r=128;r>0&&(e&r)!==0;r>>=1){t++}return t};var ce=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(e[0]&31)<<6|e[1]&63;break;case 3:t=(e[0]&15)<<12|(e[1]&63)<<6|e[2]&63;break;case 4:t=(e[0]&7)<<18|(e[1]&63)<<12|(e[2]&63)<<6|e[3]&63;break}return t>1114111?null:t};var le=function(e){e=X(e,ie," ");var t=e.length;var r="";var n=0;while(n<t){var i=$(e,n);if(i==="%"){if($(e,n+1)==="%"||n+3>t){r+="%";n++;continue}var o=se(e,n+1);if(o!==o){r+=i;n++;continue}n+=2;var a=ue(o);if(a===0){i=Y(o)}else{if(a===1||a>4){r+=oe;n++;continue}var s=[o];var u=1;while(u<a){n++;if(n+3>t||$(e,n)!=="%")break;var c=se(e,n+1);if(c!==c){n+=3;break}if(c>191||c<128)break;Z(s,c);n+=2;u++}if(s.length!==a){r+=oe;continue}var l=ce(s);if(l===null){r+=oe}else{i=K(l)}}}r+=i;n++}return r};var fe=/[!'()~]|%20/g;var de={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"};var he=function(e){return de[e]};var pe=function(e){return X(G(e),fe,he)};var ve=v((function e(t,r){N(this,{type:D,target:j(t).entries,index:0,kind:r})}),L,(function e(){var t=U(this);var r=t.target;var n=t.index++;if(!r||n>=r.length){t.target=null;return k(undefined,true)}var i=r[n];switch(t.kind){case"keys":return k(i.key,false);case"values":return k(i.value,false)}return k([i.key,i.value],false)}),true);var ge=function(e){this.entries=[];this.url=null;if(e!==undefined){if(w(e))this.parseObject(e);else this.parseQuery(typeof e=="string"?$(e,0)==="?"?re(e,1):e:T(e))}};ge.prototype={type:L,bindURL:function(e){this.url=e;this.update()},parseObject:function(e){var t=this.entries;var r=I(e);var n,i,o,a,u,c,l;if(r){n=R(e,r);i=n.next;while(!(o=s(i,n)).done){a=R(S(o.value));u=a.next;if((c=s(u,a)).done||(l=s(u,a)).done||!s(u,a).done)throw new z("Expected sequence with length 2");Z(t,{key:T(c.value),value:T(l.value)})}}else for(var f in e)if(_(e,f)){Z(t,{key:f,value:T(e[f])})}},parseQuery:function(e){if(e){var t=this.entries;var r=te(e,"&");var n=0;var i,o;while(n<r.length){i=r[n++];if(i.length){o=te(i,"=");Z(t,{key:le(Q(o)),value:le(J(o,"="))})}}}},serialize:function(){var e=this.entries;var t=[];var r=0;var n;while(r<e.length){n=e[r++];Z(t,pe(n.key)+"="+pe(n.value))}return J(t,"&")},update:function(){this.entries.length=0;this.parseQuery(this.url.query)},updateURL:function(){if(this.url)this.url.update()}};var me=function e(){m(this,ye);var t=arguments.length>0?arguments[0]:undefined;var r=N(this,new ge(t));if(!c)this.size=r.entries.length};var ye=me.prototype;h(ye,{append:function e(t,r){var n=j(this);O(arguments.length,2);Z(n.entries,{key:T(t),value:T(r)});if(!c)this.length++;n.updateURL()},delete:function(e){var t=j(this);var r=O(arguments.length,1);var n=t.entries;var i=T(e);var o=r<2?undefined:arguments[1];var a=o===undefined?o:T(o);var s=0;while(s<n.length){var u=n[s];if(u.key===i&&(a===undefined||u.value===a)){ee(n,s,1);if(a!==undefined)break}else s++}if(!c)this.size=n.length;t.updateURL()},get:function e(t){var r=j(this).entries;O(arguments.length,1);var n=T(t);var i=0;for(;i<r.length;i++){if(r[i].key===n)return r[i].value}return null},getAll:function e(t){var r=j(this).entries;O(arguments.length,1);var n=T(t);var i=[];var o=0;for(;o<r.length;o++){if(r[o].key===n)Z(i,r[o].value)}return i},has:function e(t){var r=j(this).entries;var n=O(arguments.length,1);var i=T(t);var o=n<2?undefined:arguments[1];var a=o===undefined?o:T(o);var s=0;while(s<r.length){var u=r[s++];if(u.key===i&&(a===undefined||u.value===a))return true}return false},set:function e(t,r){var n=j(this);O(arguments.length,1);var i=n.entries;var o=false;var a=T(t);var s=T(r);var u=0;var l;for(;u<i.length;u++){l=i[u];if(l.key===a){if(o)ee(i,u--,1);else{o=true;l.value=s}}}if(!o)Z(i,{key:a,value:s});if(!c)this.size=i.length;n.updateURL()},sort:function e(){var t=j(this);M(t.entries,(function(e,t){return e.key>t.key?1:-1}));t.updateURL()},forEach:function e(t){var r=j(this).entries;var n=b(t,arguments.length>1?arguments[1]:undefined);var i=0;var o;while(i<r.length){o=r[i++];n(o.value,o.key,this)}},keys:function e(){return new ve(this,"keys")},values:function e(){return new ve(this,"values")},entries:function e(){return new ve(this,"entries")}},{enumerable:true});f(ye,x,ye.entries,{name:"entries"});f(ye,"toString",(function e(){return j(this).serialize()}),{enumerable:true});if(c)d(ye,"size",{get:function e(){return j(this).entries.length},configurable:true,enumerable:true});p(me,L);n({global:true,constructor:true,forced:!l},{URLSearchParams:me});if(!l&&y(H)){var _e=u(W.has);var be=u(W.set);var Ee=function(e){if(w(e)){var t=e.body;var r;if(E(t)===L){r=e.headers?new H(e.headers):new H;if(!_e(r,"content-type")){be(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8")}return C(e,{body:A(0,T(t)),headers:A(0,r)})}}return e};if(y(B)){n({global:true,enumerable:true,dontCallGetSet:true,forced:true},{fetch:function e(t){return B(t,arguments.length>1?Ee(arguments[1]):{})}})}if(y(F)){var Se=function e(t){m(this,V);return new F(t,arguments.length>1?Ee(arguments[1]):{})};V.constructor=Se;Se.prototype=V;n({global:true,constructor:true,dontCallGetSet:true,forced:true},{Request:Se})}}e.exports={URLSearchParams:me,getState:j}},98858:(e,t,r)=>{var n=r(11880);var i=r(68844);var o=r(34327);var a=r(21500);var s=URLSearchParams;var u=s.prototype;var c=i(u.append);var l=i(u["delete"]);var f=i(u.forEach);var d=i([].push);var h=new s("a=1&a=2&b=3");h["delete"]("a",1);h["delete"]("b",undefined);if(h+""!=="a=2"){n(u,"delete",(function(e){var t=arguments.length;var r=t<2?undefined:arguments[1];if(t&&r===undefined)return l(this,e);var n=[];f(this,(function(e,t){d(n,{key:t,value:e})}));a(t,1);var i=o(e);var s=o(r);var u=0;var h=0;var p=false;var v=n.length;var g;while(u<v){g=n[u++];if(p||g.key===i){p=true;l(this,g.key)}else h++}while(h<v){g=n[h++];if(!(g.key===i&&g.value===s))c(this,g.key,g.value)}}),{enumerable:true,unsafe:true})}},61318:(e,t,r)=>{var n=r(11880);var i=r(68844);var o=r(34327);var a=r(21500);var s=URLSearchParams;var u=s.prototype;var c=i(u.getAll);var l=i(u.has);var f=new s("a=1");if(f.has("a",2)||!f.has("a",undefined)){n(u,"has",(function e(t){var r=arguments.length;var n=r<2?undefined:arguments[1];if(r&&n===undefined)return l(this,t);var i=c(this,t);a(r,1);var s=o(n);var u=0;while(u<i.length){if(i[u++]===s)return true}return false}),{enumerable:true,unsafe:true})}},79307:(e,t,r)=>{r(2625)},33228:(e,t,r)=>{var n=r(67697);var i=r(68844);var o=r(62148);var a=URLSearchParams.prototype;var s=i(a.forEach);if(n&&!("size"in a)){o(a,"size",{get:function e(){var t=0;s(this,(function(){t++}));return t},configurable:true,enumerable:true})}},69822:(e,t,r)=>{var n=r(79989);var i=r(76058);var o=r(3689);var a=r(21500);var s=r(34327);var u=r(76837);var c=i("URL");var l=u&&o((function(){c.canParse()}));var f=o((function(){return c.canParse.length!==1}));n({target:"URL",stat:true,forced:!l||f},{canParse:function e(t){var r=a(arguments.length,1);var n=s(t);var i=r<2||arguments[1]===undefined?undefined:s(arguments[1]);try{return!!new c(n,i)}catch(e){return false}}})},79391:(e,t,r)=>{r(21694);var n=r(79989);var i=r(67697);var o=r(76837);var a=r(51087);var s=r(54071);var u=r(68844);var c=r(11880);var l=r(62148);var f=r(767);var d=r(36812);var h=r(45394);var p=r(21055);var v=r(96004);var g=r(10730).codeAt;var m=r(6430);var y=r(34327);var _=r(55997);var b=r(21500);var E=r(2625);var S=r(618);var w=S.set;var T=S.getterFor("URL");var C=E.URLSearchParams;var A=E.getState;var R=a.URL;var I=a.TypeError;var k=a.parseInt;var O=Math.floor;var P=Math.pow;var M=u("".charAt);var x=u(/./.exec);var L=u([].join);var D=u(1..toString);var N=u([].pop);var j=u([].push);var U=u("".replace);var B=u([].shift);var F=u("".split);var H=u("".slice);var V=u("".toLowerCase);var W=u([].unshift);var z="Invalid authority";var G="Invalid scheme";var Y="Invalid host";var K="Invalid port";var q=/[a-z]/i;var $=/[\d+-.a-z]/i;var J=/\d/;var Z=/^0x/i;var X=/^[0-7]+$/;var Q=/^\d+$/;var ee=/^[\da-f]+$/i;var te=/[\0\t\n\r #%/:<>?@[\\\]^|]/;var re=/[\0\t\n\r #/:<>?@[\\\]^|]/;var ne=/^[\u0000-\u0020]+/;var ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/;var oe=/[\t\n\r]/g;var ae;var se=function(e){var t=F(e,".");var r,n,i,o,a,s,u;if(t.length&&t[t.length-1]===""){t.length--}r=t.length;if(r>4)return e;n=[];for(i=0;i<r;i++){o=t[i];if(o==="")return e;a=10;if(o.length>1&&M(o,0)==="0"){a=x(Z,o)?16:8;o=H(o,a===8?1:2)}if(o===""){s=0}else{if(!x(a===10?Q:a===8?X:ee,o))return e;s=k(o,a)}j(n,s)}for(i=0;i<r;i++){s=n[i];if(i===r-1){if(s>=P(256,5-r))return null}else if(s>255)return null}u=N(n);for(i=0;i<n.length;i++){u+=n[i]*P(256,3-i)}return u};var ue=function(e){var t=[0,0,0,0,0,0,0,0];var r=0;var n=null;var i=0;var o,a,s,u,c,l,f;var d=function(){return M(e,i)};if(d()===":"){if(M(e,1)!==":")return;i+=2;r++;n=r}while(d()){if(r===8)return;if(d()===":"){if(n!==null)return;i++;r++;n=r;continue}o=a=0;while(a<4&&x(ee,d())){o=o*16+k(d(),16);i++;a++}if(d()==="."){if(a===0)return;i-=a;if(r>6)return;s=0;while(d()){u=null;if(s>0){if(d()==="."&&s<4)i++;else return}if(!x(J,d()))return;while(x(J,d())){c=k(d(),10);if(u===null)u=c;else if(u===0)return;else u=u*10+c;if(u>255)return;i++}t[r]=t[r]*256+u;s++;if(s===2||s===4)r++}if(s!==4)return;break}else if(d()===":"){i++;if(!d())return}else if(d())return;t[r++]=o}if(n!==null){l=r-n;r=7;while(r!==0&&l>0){f=t[r];t[r--]=t[n+l-1];t[n+--l]=f}}else if(r!==8)return;return t};var ce=function(e){var t=null;var r=1;var n=null;var i=0;var o=0;for(;o<8;o++){if(e[o]!==0){if(i>r){t=n;r=i}n=null;i=0}else{if(n===null)n=o;++i}}return i>r?n:t};var le=function(e){var t,r,n,i;if(typeof e=="number"){t=[];for(r=0;r<4;r++){W(t,e%256);e=O(e/256)}return L(t,".")}if(typeof e=="object"){t="";n=ce(e);for(r=0;r<8;r++){if(i&&e[r]===0)continue;if(i)i=false;if(n===r){t+=r?":":"::";i=true}else{t+=D(e[r],16);if(r<7)t+=":"}}return"["+t+"]"}return e};var fe={};var de=h({},fe,{" ":1,'"':1,"<":1,">":1,"`":1});var he=h({},de,{"#":1,"?":1,"{":1,"}":1});var pe=h({},he,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1});var ve=function(e,t){var r=g(e,0);return r>32&&r<127&&!d(t,e)?e:encodeURIComponent(e)};var ge={ftp:21,file:null,http:80,https:443,ws:80,wss:443};var me=function(e,t){var r;return e.length===2&&x(q,M(e,0))&&((r=M(e,1))===":"||!t&&r==="|")};var ye=function(e){var t;return e.length>1&&me(H(e,0,2))&&(e.length===2||((t=M(e,2))==="/"||t==="\\"||t==="?"||t==="#"))};var _e=function(e){return e==="."||V(e)==="%2e"};var be=function(e){e=V(e);return e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"};var Ee={};var Se={};var we={};var Te={};var Ce={};var Ae={};var Re={};var Ie={};var ke={};var Oe={};var Pe={};var Me={};var xe={};var Le={};var De={};var Ne={};var je={};var Ue={};var Be={};var Fe={};var He={};var Ve=function(e,t,r){var n=y(e);var i,o,a;if(t){o=this.parse(n);if(o)throw new I(o);this.searchParams=null}else{if(r!==undefined)i=new Ve(r,true);o=this.parse(n,null,i);if(o)throw new I(o);a=A(new C);a.bindURL(this);this.searchParams=a}};Ve.prototype={type:"URL",parse:function(e,t,r){var n=this;var i=t||Ee;var o=0;var a="";var s=false;var u=false;var c=false;var l,f,h,g;e=y(e);if(!t){n.scheme="";n.username="";n.password="";n.host=null;n.port=null;n.path=[];n.query=null;n.fragment=null;n.cannotBeABaseURL=false;e=U(e,ne,"");e=U(e,ie,"$1")}e=U(e,oe,"");l=p(e);while(o<=l.length){f=l[o];switch(i){case Ee:if(f&&x(q,f)){a+=V(f);i=Se}else if(!t){i=we;continue}else return G;break;case Se:if(f&&(x($,f)||f==="+"||f==="-"||f===".")){a+=V(f)}else if(f===":"){if(t&&(n.isSpecial()!==d(ge,a)||a==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;n.scheme=a;if(t){if(n.isSpecial()&&ge[n.scheme]===n.port)n.port=null;return}a="";if(n.scheme==="file"){i=Le}else if(n.isSpecial()&&r&&r.scheme===n.scheme){i=Te}else if(n.isSpecial()){i=Ie}else if(l[o+1]==="/"){i=Ce;o++}else{n.cannotBeABaseURL=true;j(n.path,"");i=Be}}else if(!t){a="";i=we;o=0;continue}else return G;break;case we:if(!r||r.cannotBeABaseURL&&f!=="#")return G;if(r.cannotBeABaseURL&&f==="#"){n.scheme=r.scheme;n.path=v(r.path);n.query=r.query;n.fragment="";n.cannotBeABaseURL=true;i=He;break}i=r.scheme==="file"?Le:Ae;continue;case Te:if(f==="/"&&l[o+1]==="/"){i=ke;o++}else{i=Ae;continue}break;case Ce:if(f==="/"){i=Oe;break}else{i=Ue;continue}case Ae:n.scheme=r.scheme;if(f===ae){n.username=r.username;n.password=r.password;n.host=r.host;n.port=r.port;n.path=v(r.path);n.query=r.query}else if(f==="/"||f==="\\"&&n.isSpecial()){i=Re}else if(f==="?"){n.username=r.username;n.password=r.password;n.host=r.host;n.port=r.port;n.path=v(r.path);n.query="";i=Fe}else if(f==="#"){n.username=r.username;n.password=r.password;n.host=r.host;n.port=r.port;n.path=v(r.path);n.query=r.query;n.fragment="";i=He}else{n.username=r.username;n.password=r.password;n.host=r.host;n.port=r.port;n.path=v(r.path);n.path.length--;i=Ue;continue}break;case Re:if(n.isSpecial()&&(f==="/"||f==="\\")){i=ke}else if(f==="/"){i=Oe}else{n.username=r.username;n.password=r.password;n.host=r.host;n.port=r.port;i=Ue;continue}break;case Ie:i=ke;if(f!=="/"||M(a,o+1)!=="/")continue;o++;break;case ke:if(f!=="/"&&f!=="\\"){i=Oe;continue}break;case Oe:if(f==="@"){if(s)a="%40"+a;s=true;h=p(a);for(var m=0;m<h.length;m++){var _=h[m];if(_===":"&&!c){c=true;continue}var b=ve(_,pe);if(c)n.password+=b;else n.username+=b}a=""}else if(f===ae||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()){if(s&&a==="")return z;o-=p(a).length+1;a="";i=Pe}else a+=f;break;case Pe:case Me:if(t&&n.scheme==="file"){i=Ne;continue}else if(f===":"&&!u){if(a==="")return Y;g=n.parseHost(a);if(g)return g;a="";i=xe;if(t===Me)return}else if(f===ae||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()){if(n.isSpecial()&&a==="")return Y;if(t&&a===""&&(n.includesCredentials()||n.port!==null))return;g=n.parseHost(a);if(g)return g;a="";i=je;if(t)return;continue}else{if(f==="[")u=true;else if(f==="]")u=false;a+=f}break;case xe:if(x(J,f)){a+=f}else if(f===ae||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()||t){if(a!==""){var E=k(a,10);if(E>65535)return K;n.port=n.isSpecial()&&E===ge[n.scheme]?null:E;a=""}if(t)return;i=je;continue}else return K;break;case Le:n.scheme="file";if(f==="/"||f==="\\")i=De;else if(r&&r.scheme==="file"){switch(f){case ae:n.host=r.host;n.path=v(r.path);n.query=r.query;break;case"?":n.host=r.host;n.path=v(r.path);n.query="";i=Fe;break;case"#":n.host=r.host;n.path=v(r.path);n.query=r.query;n.fragment="";i=He;break;default:if(!ye(L(v(l,o),""))){n.host=r.host;n.path=v(r.path);n.shortenPath()}i=Ue;continue}}else{i=Ue;continue}break;case De:if(f==="/"||f==="\\"){i=Ne;break}if(r&&r.scheme==="file"&&!ye(L(v(l,o),""))){if(me(r.path[0],true))j(n.path,r.path[0]);else n.host=r.host}i=Ue;continue;case Ne:if(f===ae||f==="/"||f==="\\"||f==="?"||f==="#"){if(!t&&me(a)){i=Ue}else if(a===""){n.host="";if(t)return;i=je}else{g=n.parseHost(a);if(g)return g;if(n.host==="localhost")n.host="";if(t)return;a="";i=je}continue}else a+=f;break;case je:if(n.isSpecial()){i=Ue;if(f!=="/"&&f!=="\\")continue}else if(!t&&f==="?"){n.query="";i=Fe}else if(!t&&f==="#"){n.fragment="";i=He}else if(f!==ae){i=Ue;if(f!=="/")continue}break;case Ue:if(f===ae||f==="/"||f==="\\"&&n.isSpecial()||!t&&(f==="?"||f==="#")){if(be(a)){n.shortenPath();if(f!=="/"&&!(f==="\\"&&n.isSpecial())){j(n.path,"")}}else if(_e(a)){if(f!=="/"&&!(f==="\\"&&n.isSpecial())){j(n.path,"")}}else{if(n.scheme==="file"&&!n.path.length&&me(a)){if(n.host)n.host="";a=M(a,0)+":"}j(n.path,a)}a="";if(n.scheme==="file"&&(f===ae||f==="?"||f==="#")){while(n.path.length>1&&n.path[0]===""){B(n.path)}}if(f==="?"){n.query="";i=Fe}else if(f==="#"){n.fragment="";i=He}}else{a+=ve(f,he)}break;case Be:if(f==="?"){n.query="";i=Fe}else if(f==="#"){n.fragment="";i=He}else if(f!==ae){n.path[0]+=ve(f,fe)}break;case Fe:if(!t&&f==="#"){n.fragment="";i=He}else if(f!==ae){if(f==="'"&&n.isSpecial())n.query+="%27";else if(f==="#")n.query+="%23";else n.query+=ve(f,fe)}break;case He:if(f!==ae)n.fragment+=ve(f,de);break}o++}},parseHost:function(e){var t,r,n;if(M(e,0)==="["){if(M(e,e.length-1)!=="]")return Y;t=ue(H(e,1,-1));if(!t)return Y;this.host=t}else if(!this.isSpecial()){if(x(re,e))return Y;t="";r=p(e);for(n=0;n<r.length;n++){t+=ve(r[n],fe)}this.host=t}else{e=m(e);if(x(te,e))return Y;t=se(e);if(t===null)return Y;this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return d(ge,this.scheme)},shortenPath:function(){var e=this.path;var t=e.length;if(t&&(this.scheme!=="file"||t!==1||!me(e[0],true))){e.length--}},serialize:function(){var e=this;var t=e.scheme;var r=e.username;var n=e.password;var i=e.host;var o=e.port;var a=e.path;var s=e.query;var u=e.fragment;var c=t+":";if(i!==null){c+="//";if(e.includesCredentials()){c+=r+(n?":"+n:"")+"@"}c+=le(i);if(o!==null)c+=":"+o}else if(t==="file")c+="//";c+=e.cannotBeABaseURL?a[0]:a.length?"/"+L(a,"/"):"";if(s!==null)c+="?"+s;if(u!==null)c+="#"+u;return c},setHref:function(e){var t=this.parse(e);if(t)throw new I(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme;var t=this.port;if(e==="blob")try{return new We(e.path[0]).origin}catch(e){return"null"}if(e==="file"||!this.isSpecial())return"null";return e+"://"+le(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(y(e)+":",Ee)},getUsername:function(){return this.username},setUsername:function(e){var t=p(y(e));if(this.cannotHaveUsernamePasswordPort())return;this.username="";for(var r=0;r<t.length;r++){this.username+=ve(t[r],pe)}},getPassword:function(){return this.password},setPassword:function(e){var t=p(y(e));if(this.cannotHaveUsernamePasswordPort())return;this.password="";for(var r=0;r<t.length;r++){this.password+=ve(t[r],pe)}},getHost:function(){var e=this.host;var t=this.port;return e===null?"":t===null?le(e):le(e)+":"+t},setHost:function(e){if(this.cannotBeABaseURL)return;this.parse(e,Pe)},getHostname:function(){var e=this.host;return e===null?"":le(e)},setHostname:function(e){if(this.cannotBeABaseURL)return;this.parse(e,Me)},getPort:function(){var e=this.port;return e===null?"":y(e)},setPort:function(e){if(this.cannotHaveUsernamePasswordPort())return;e=y(e);if(e==="")this.port=null;else this.parse(e,xe)},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+L(e,"/"):""},setPathname:function(e){if(this.cannotBeABaseURL)return;this.path=[];this.parse(e,je)},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=y(e);if(e===""){this.query=null}else{if(M(e,0)==="?")e=H(e,1);this.query="";this.parse(e,Fe)}this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=y(e);if(e===""){this.fragment=null;return}if(M(e,0)==="#")e=H(e,1);this.fragment="";this.parse(e,He)},update:function(){this.query=this.searchParams.serialize()||null}};var We=function e(t){var r=f(this,ze);var n=b(arguments.length,1)>1?arguments[1]:undefined;var o=w(r,new Ve(t,false,n));if(!i){r.href=o.serialize();r.origin=o.getOrigin();r.protocol=o.getProtocol();r.username=o.getUsername();r.password=o.getPassword();r.host=o.getHost();r.hostname=o.getHostname();r.port=o.getPort();r.pathname=o.getPathname();r.search=o.getSearch();r.searchParams=o.getSearchParams();r.hash=o.getHash()}};var ze=We.prototype;var Ge=function(e,t){return{get:function(){return T(this)[e]()},set:t&&function(e){return T(this)[t](e)},configurable:true,enumerable:true}};if(i){l(ze,"href",Ge("serialize","setHref"));l(ze,"origin",Ge("getOrigin"));l(ze,"protocol",Ge("getProtocol","setProtocol"));l(ze,"username",Ge("getUsername","setUsername"));l(ze,"password",Ge("getPassword","setPassword"));l(ze,"host",Ge("getHost","setHost"));l(ze,"hostname",Ge("getHostname","setHostname"));l(ze,"port",Ge("getPort","setPort"));l(ze,"pathname",Ge("getPathname","setPathname"));l(ze,"search",Ge("getSearch","setSearch"));l(ze,"searchParams",Ge("getSearchParams"));l(ze,"hash",Ge("getHash","setHash"))}c(ze,"toJSON",(function e(){return T(this).serialize()}),{enumerable:true});c(ze,"toString",(function e(){return T(this).serialize()}),{enumerable:true});if(R){var Ye=R.createObjectURL;var Ke=R.revokeObjectURL;if(Ye)c(We,"createObjectURL",s(Ye,R));if(Ke)c(We,"revokeObjectURL",s(Ke,R))}_(We,"URL");n({global:true,constructor:true,forced:!o,sham:!i},{URL:We})},78730:(e,t,r)=>{r(79391)},15680:(e,t,r)=>{var n=r(79989);var i=r(76058);var o=r(21500);var a=r(34327);var s=r(76837);var u=i("URL");n({target:"URL",stat:true,forced:!s},{parse:function e(t){var r=o(arguments.length,1);var n=a(t);var i=r<2||arguments[1]===undefined?undefined:a(arguments[1]);try{return new u(n,i)}catch(e){return null}}})},19979:(e,t,r)=>{var n=r(79989);var i=r(22615);n({target:"URL",proto:true,enumerable:true},{toJSON:function e(){return i(URL.prototype.toString,this)}})},92676:(e,t,r)=>{r(59749);r(86544);r(58373);r(96157);r(82529);r(84254);r(64155);r(93531);r(95906);r(50549);r(96285);r(18200);r(69373);r(66793);r(44578);r(21057);r(68932);r(95879);r(54927);r(92176);r(34338);r(2966);r(55791);r(97895);r(38077);r(25728);r(39772);r(59867);r(93383);r(62795);r(54564);r(49693);r(77049);r(76801);r(97195);r(63975);r(752);r(6203);r(72410);r(50886);r(37593);r(70560);r(278);r(81386);r(93374);r(89730);r(98742);r(65137);r(21932);r(62506);r(29830);r(12894);r(93530);r(13383);r(90385);r(91719);r(21319);r(69365);r(33870);r(99211);r(18201);r(9045);r(53627);r(94774);r(55635);r(42227);r(99679);r(24343);r(65007);r(78150);r(59903);r(30024);r(60428);r(41517);r(56269);r(34284);r(45398);r(5203);r(20518);r(52047);r(10141);r(18519);r(65400);r(90701);r(77835);r(4470);r(27692);r(30190);r(39596);r(32637);r(48324);r(7629);r(56646);r(89348);r(6557);r(62428);r(45263);r(74712);r(54986);r(47221);r(94992);r(25499);r(59944);r(78527);r(75239);r(92076);r(68813);r(96976);r(62700);r(91554);r(77509);r(21416);r(79288);r(53584);r(82243);r(95765);r(45993);r(92547);r(7936);r(32704);r(52362);r(21552);r(10704);r(97389);r(25284);r(60429);r(51013);r(33994);r(35082);r(40739);r(47409);r(36585);r(41830);r(85415);r(81919);r(99474);r(79997);r(88052);r(44079);r(14566);r(76101);r(36446);r(35140);r(4179);r(69358);r(75450);r(54993);r(48115);r(19330);r(30658);r(5399);r(60228);r(86466);r(80939);r(32320);r(73964);r(41195);r(87609);r(36409);r(80183);r(13505);r(54333);r(30050);r(99871);r(1049);r(32349);r(50149);r(43792);r(69707);r(63545);r(62087);r(51505);r(45247);r(22373);r(76034);r(52003);r(68518);r(64043);r(25847);r(13440);r(7409);r(12826);r(19649);r(22556);r(82845);r(50570);r(33019);r(21473);r(88208);r(22624);r(7961);r(86239);r(2918);r(20283);r(43843);r(12281);r(21694);r(22462);r(79866);r(72940);r(8472);r(92404);r(59588);r(57267);r(56532);r(61514);r(9873);r(268);r(20372);r(35237);r(28436);r(16386);r(3255);r(90343);r(21444);r(25906);r(95682);r(98041);r(6364);r(82954);r(19162);r(37960);r(470);r(67446);r(47729);r(2e3);r(29068);r(70292);r(55304);r(89988);r(854);r(28607);r(30938);r(75679);r(18557);r(95194);r(36664);r(55980);r(79943);r(96089);r(18539);r(48690);r(20522);r(82);r(45385);r(59495);r(85552);r(31803);r(91565);r(67987);r(49365);r(80677);r(19038);r(18118);r(41165);r(71522);r(79976);r(4797);r(7300);r(93356);r(62533);r(99724);r(24224);r(61121);r(99901);r(37133);r(622);r(51090);r(50414);r(52586);r(84645);r(47522);r(76265);r(97337);r(13429);r(37462);r(40088);r(10455);r(3650);r(25564);r(96869);r(78730);r(69822);r(15680);r(19979);r(79307);r(98858);r(61318);r(33228);e.exports=r(50496)},30907:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}},97326:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},15671:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},43144:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(49142);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,n.Z)(i.key),i)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},98557:(e,t,r)=>{r.d(t,{Z:()=>u});function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(i=function t(){return!!e})()}var o=r(71002);var a=r(97326);function s(e,t){if(t&&("object"==(0,o.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(e)}function u(e){var t=i();return function(){var r,i=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return s(this,r)}}},4942:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(49142);function i(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},87462:(e,t,r)=>{r.d(t,{Z:()=>n});function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}},79340:(e,t,r)=>{r.d(t,{Z:()=>i});function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}},1413:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(4942);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},45987:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(63366);function i(e,t){if(null==e)return{};var r,i,o=(0,n.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},63366:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}},70885:(e,t,r)=>{r.d(t,{Z:()=>s});function n(e){if(Array.isArray(e))return e}function i(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw i}}return s}}var o=r(40181);function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return n(e)||i(e,t)||(0,o.Z)(e,t)||a()}},49142:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(71002);function i(e,t){if("object"!=(0,n.Z)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=(0,n.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function o(e){var t=i(e,"string");return"symbol"==(0,n.Z)(t)?t:t+""}},71002:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}},40181:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(30907);function i(e,t){if(e){if("string"==typeof e)return(0,n.Z)(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}},10091:(e,t,r)=>{r.r(t);r.d(t,{Swiper:()=>I,SwiperSlide:()=>O,useSwiper:()=>A,useSwiperSlide:()=>T});var n=r(67294);var i=r(51020);function o(e){return typeof e==="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function a(e,t){const r=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>r.indexOf(e)<0)).forEach((r=>{if(typeof e[r]==="undefined")e[r]=t[r];else if(o(t[r])&&o(e[r])&&Object.keys(t[r]).length>0){if(t[r].__swiper__)e[r]=t[r];else a(e[r],t[r])}else{e[r]=t[r]}}))}function s(e){if(e===void 0){e={}}return e.navigation&&typeof e.navigation.nextEl==="undefined"&&typeof e.navigation.prevEl==="undefined"}function u(e){if(e===void 0){e={}}return e.pagination&&typeof e.pagination.el==="undefined"}function c(e){if(e===void 0){e={}}return e.scrollbar&&typeof e.scrollbar.el==="undefined"}function l(e){if(e===void 0){e=""}const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e));const r=[];t.forEach((e=>{if(r.indexOf(e)<0)r.push(e)}));return r.join(" ")}const f=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function d(e,t){if(e===void 0){e={}}if(t===void 0){t=true}const r={on:{}};const n={};const s={};a(r,i["default"].defaults);a(r,i["default"].extendedDefaults);r._emitClasses=true;r.init=false;const u={};const c=f.map((e=>e.replace(/_/,"")));const l=Object.assign({},e);Object.keys(l).forEach((i=>{if(typeof e[i]==="undefined")return;if(c.indexOf(i)>=0){if(o(e[i])){r[i]={};s[i]={};a(r[i],e[i]);a(s[i],e[i])}else{r[i]=e[i];s[i]=e[i]}}else if(i.search(/on[A-Z]/)===0&&typeof e[i]==="function"){if(t){n[`${i[2].toLowerCase()}${i.substr(3)}`]=e[i]}else{r.on[`${i[2].toLowerCase()}${i.substr(3)}`]=e[i]}}else{u[i]=e[i]}}));["navigation","pagination","scrollbar"].forEach((e=>{if(r[e]===true)r[e]={};if(r[e]===false)delete r[e]}));return{params:r,passedParams:s,rest:u,events:n}}function h(e,t){let{el:r,nextEl:n,prevEl:i,paginationEl:o,scrollbarEl:a,swiper:l}=e;if(s(t)&&n&&i){l.params.navigation.nextEl=n;l.originalParams.navigation.nextEl=n;l.params.navigation.prevEl=i;l.originalParams.navigation.prevEl=i}if(u(t)&&o){l.params.pagination.el=o;l.originalParams.pagination.el=o}if(c(t)&&a){l.params.scrollbar.el=a;l.originalParams.scrollbar.el=a}l.init(r)}function p(e,t){let r=t.slidesPerView;if(t.breakpoints){const e=i["default"].prototype.getBreakpoint(t.breakpoints);const n=e in t.breakpoints?t.breakpoints[e]:undefined;if(n&&n.slidesPerView){r=n.slidesPerView}}let n=Math.ceil(parseFloat(t.loopedSlides||r,10));n+=t.loopAdditionalSlides;if(n>e.length&&t.loopedSlidesLimit){n=e.length}return n}function v(e,t,r){const i=t.map(((t,r)=>n.cloneElement(t,{swiper:e,"data-swiper-slide-index":r})));function o(e,t,i){return n.cloneElement(e,{key:`${e.key}-duplicate-${t}-${i}`,className:`${e.props.className||""} ${r.slideDuplicateClass}`})}if(r.loopFillGroupWithBlank){const e=r.slidesPerGroup-i.length%r.slidesPerGroup;if(e!==r.slidesPerGroup){for(let t=0;t<e;t+=1){const e=n.createElement("div",{className:`${r.slideClass} ${r.slideBlankClass}`});i.push(e)}}}if(r.slidesPerView==="auto"&&!r.loopedSlides){r.loopedSlides=i.length}const a=p(i,r);const s=[];const u=[];for(let e=0;e<a;e+=1){const t=e-Math.floor(e/i.length)*i.length;u.push(o(i[t],e,"append"));s.unshift(o(i[i.length-t-1],e,"prepend"))}if(e){e.loopedSlides=a}return[...s,...i,...u]}function g(e,t,r,n,i){const a=[];if(!t)return a;const s=e=>{if(a.indexOf(e)<0)a.push(e)};if(r&&n){const e=n.map(i);const t=r.map(i);if(e.join("")!==t.join(""))s("children");if(n.length!==r.length)s("children")}const u=f.filter((e=>e[0]==="_")).map((e=>e.replace(/_/,"")));u.forEach((r=>{if(r in e&&r in t){if(o(e[r])&&o(t[r])){const n=Object.keys(e[r]);const i=Object.keys(t[r]);if(n.length!==i.length){s(r)}else{n.forEach((n=>{if(e[r][n]!==t[r][n]){s(r)}}));i.forEach((n=>{if(e[r][n]!==t[r][n])s(r)}))}}else if(e[r]!==t[r]){s(r)}}}));return a}function m(e){const t=[];n.Children.toArray(e).forEach((e=>{if(e.type&&e.type.displayName==="SwiperSlide"){t.push(e)}else if(e.props&&e.props.children){m(e.props.children).forEach((e=>t.push(e)))}}));return t}function y(e){const t=[];const r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};n.Children.toArray(e).forEach((e=>{if(e.type&&e.type.displayName==="SwiperSlide"){t.push(e)}else if(e.props&&e.props.slot&&r[e.props.slot]){r[e.props.slot].push(e)}else if(e.props&&e.props.children){const n=m(e.props.children);if(n.length>0){n.forEach((e=>t.push(e)))}else{r["container-end"].push(e)}}else{r["container-end"].push(e)}}));return{slides:t,slots:r}}function _(e){let{swiper:t,slides:r,passedParams:n,changedParams:i,nextEl:s,prevEl:u,scrollbarEl:c,paginationEl:l}=e;const f=i.filter((e=>e!=="children"&&e!=="direction"));const{params:d,pagination:h,navigation:p,scrollbar:v,virtual:g,thumbs:m}=t;let y;let _;let b;let E;let S;if(i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper){y=true}if(i.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control){_=true}if(i.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(d.pagination||d.pagination===false)&&h&&!h.el){b=true}if(i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||c)&&(d.scrollbar||d.scrollbar===false)&&v&&!v.el){E=true}if(i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||u)&&(n.navigation.nextEl||s)&&(d.navigation||d.navigation===false)&&p&&!p.prevEl&&!p.nextEl){S=true}const w=e=>{if(!t[e])return;t[e].destroy();if(e==="navigation"){d[e].prevEl=undefined;d[e].nextEl=undefined;t[e].prevEl=undefined;t[e].nextEl=undefined}else{d[e].el=undefined;t[e].el=undefined}};f.forEach((e=>{if(o(d[e])&&o(n[e])){a(d[e],n[e])}else{const t=n[e];if((t===true||t===false)&&(e==="navigation"||e==="pagination"||e==="scrollbar")){if(t===false){w(e)}}else{d[e]=n[e]}}}));if(f.includes("controller")&&!_&&t.controller&&t.controller.control&&d.controller&&d.controller.control){t.controller.control=d.controller.control}if(i.includes("children")&&r&&g&&d.virtual.enabled){g.slides=r;g.update(true)}else if(i.includes("children")&&t.lazy&&t.params.lazy.enabled){t.lazy.load()}if(y){const e=m.init();if(e)m.update(true)}if(_){t.controller.control=d.controller.control}if(b){if(l)d.pagination.el=l;h.init();h.render();h.update()}if(E){if(c)d.scrollbar.el=c;v.init();v.updateSize();v.setTranslate()}if(S){if(s)d.navigation.nextEl=s;if(u)d.navigation.prevEl=u;p.init();p.update()}if(i.includes("allowSlideNext")){t.allowSlideNext=n.allowSlideNext}if(i.includes("allowSlidePrev")){t.allowSlidePrev=n.allowSlidePrev}if(i.includes("direction")){t.changeDirection(n.direction,false)}t.update()}function b(e,t,r){if(!r)return null;const i=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`};return t.filter(((e,t)=>t>=r.from&&t<=r.to)).map((t=>n.cloneElement(t,{swiper:e,style:i})))}const E=e=>{if(!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled)return;e.updateSlides();e.updateProgress();e.updateSlidesClasses();if(e.lazy&&e.params.lazy.enabled){e.lazy.load()}if(e.parallax&&e.params.parallax&&e.params.parallax.enabled){e.parallax.setTranslate()}};function S(e,t){if(typeof window==="undefined")return(0,n.useEffect)(e,t);return(0,n.useLayoutEffect)(e,t)}const w=(0,n.createContext)(null);const T=()=>(0,n.useContext)(w);const C=(0,n.createContext)(null);const A=()=>(0,n.useContext)(C);function R(){R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return R.apply(this,arguments)}const I=(0,n.forwardRef)((function(e,t){let{className:r,tag:o="div",wrapperTag:f="div",children:m,onSwiper:w,...T}=e===void 0?{}:e;let A=false;const[I,k]=(0,n.useState)("swiper");const[O,P]=(0,n.useState)(null);const[M,x]=(0,n.useState)(false);const L=(0,n.useRef)(false);const D=(0,n.useRef)(null);const N=(0,n.useRef)(null);const j=(0,n.useRef)(null);const U=(0,n.useRef)(null);const B=(0,n.useRef)(null);const F=(0,n.useRef)(null);const H=(0,n.useRef)(null);const V=(0,n.useRef)(null);const{params:W,passedParams:z,rest:G,events:Y}=d(T);const{slides:K,slots:q}=y(m);const $=()=>{x(!M)};Object.assign(W.on,{_containerClasses(e,t){k(t)}});const J=()=>{Object.assign(W.on,Y);A=true;N.current=new i["default"](W);N.current.loopCreate=()=>{};N.current.loopDestroy=()=>{};if(W.loop){N.current.loopedSlides=p(K,W)}if(N.current.virtual&&N.current.params.virtual.enabled){N.current.virtual.slides=K;const e={cache:false,slides:K,renderExternal:P,renderExternalUpdate:false};a(N.current.params.virtual,e);a(N.current.originalParams.virtual,e)}};if(!D.current){J()}if(N.current){N.current.on("_beforeBreakpoint",$)}const Z=()=>{if(A||!Y||!N.current)return;Object.keys(Y).forEach((e=>{N.current.on(e,Y[e])}))};const X=()=>{if(!Y||!N.current)return;Object.keys(Y).forEach((e=>{N.current.off(e,Y[e])}))};(0,n.useEffect)((()=>()=>{if(N.current)N.current.off("_beforeBreakpoint",$)}));(0,n.useEffect)((()=>{if(!L.current&&N.current){N.current.emitSlidesClasses();L.current=true}}));S((()=>{if(t){t.current=D.current}if(!D.current)return;if(N.current.destroyed){J()}h({el:D.current,nextEl:B.current,prevEl:F.current,paginationEl:H.current,scrollbarEl:V.current,swiper:N.current},W);if(w)w(N.current);return()=>{if(N.current&&!N.current.destroyed){N.current.destroy(true,false)}}}),[]);S((()=>{Z();const e=g(z,j.current,K,U.current,(e=>e.key));j.current=z;U.current=K;if(e.length&&N.current&&!N.current.destroyed){_({swiper:N.current,slides:K,passedParams:z,changedParams:e,nextEl:B.current,prevEl:F.current,scrollbarEl:V.current,paginationEl:H.current})}return()=>{X()}}));S((()=>{E(N.current)}),[O]);function Q(){if(W.virtual){return b(N.current,K,O)}if(!W.loop||N.current&&N.current.destroyed){return K.map((e=>n.cloneElement(e,{swiper:N.current})))}return v(N.current,K,W)}return n.createElement(o,R({ref:D,className:l(`${I}${r?` ${r}`:""}`)},G),n.createElement(C.Provider,{value:N.current},q["container-start"],n.createElement(f,{className:"swiper-wrapper"},q["wrapper-start"],Q(),q["wrapper-end"]),s(W)&&n.createElement(n.Fragment,null,n.createElement("div",{ref:F,className:"swiper-button-prev"}),n.createElement("div",{ref:B,className:"swiper-button-next"})),c(W)&&n.createElement("div",{ref:V,className:"swiper-scrollbar"}),u(W)&&n.createElement("div",{ref:H,className:"swiper-pagination"}),q["container-end"]))}));I.displayName="Swiper";function k(){k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return k.apply(this,arguments)}const O=(0,n.forwardRef)((function(e,t){let{tag:r="div",children:i,className:o="",swiper:a,zoom:s,virtualIndex:u,...c}=e===void 0?{}:e;const f=(0,n.useRef)(null);const[d,h]=(0,n.useState)("swiper-slide");function p(e,t,r){if(t===f.current){h(r)}}S((()=>{if(t){t.current=f.current}if(!f.current||!a){return}if(a.destroyed){if(d!=="swiper-slide"){h("swiper-slide")}return}a.on("_slideClass",p);return()=>{if(!a)return;a.off("_slideClass",p)}}));S((()=>{if(a&&f.current&&!a.destroyed){h(a.getSlideClasses(f.current))}}),[a]);const v={isActive:d.indexOf("swiper-slide-active")>=0||d.indexOf("swiper-slide-duplicate-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isDuplicate:d.indexOf("swiper-slide-duplicate")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0||d.indexOf("swiper-slide-duplicate-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0||d.indexOf("swiper-slide-duplicate-next")>=0};const g=()=>typeof i==="function"?i(v):i;return n.createElement(r,k({ref:f,className:l(`${d}${o?` ${o}`:""}`),"data-swiper-slide-index":u},c),n.createElement(w.Provider,{value:v},s?n.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s==="number"?s:undefined},g()):g()))}));O.displayName="SwiperSlide"},51020:(e,t,r)=>{r.r(t);r.d(t,{A11y:()=>Yr,Autoplay:()=>$r,Controller:()=>Gr,EffectCards:()=>vn,EffectCoverflow:()=>hn,EffectCreative:()=>pn,EffectCube:()=>ln,EffectFade:()=>cn,EffectFlip:()=>dn,FreeMode:()=>Zr,Grid:()=>Xr,HashNavigation:()=>qr,History:()=>Kr,Keyboard:()=>Dr,Lazy:()=>zr,Manipulation:()=>on,Mousewheel:()=>Nr,Navigation:()=>Ur,Pagination:()=>Fr,Parallax:()=>Vr,Scrollbar:()=>Hr,Swiper:()=>xr,Thumbs:()=>Jr,Virtual:()=>Lr,Zoom:()=>Wr,default:()=>xr});function n(e){return e!==null&&typeof e==="object"&&"constructor"in e&&e.constructor===Object}function i(e={},t={}){Object.keys(t).forEach((r=>{if(typeof e[r]==="undefined")e[r]=t[r];else if(n(t[r])&&n(e[r])&&Object.keys(t[r]).length>0){i(e[r],t[r])}}))}const o={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){const e=typeof document!=="undefined"?document:{};i(e,o);return e}const s={document:o,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function e(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){if(typeof setTimeout==="undefined"){e();return null}return setTimeout(e,0)},cancelAnimationFrame(e){if(typeof setTimeout==="undefined"){return}clearTimeout(e)}};function u(){const e=typeof window!=="undefined"?window:{};i(e,s);return e}function c(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get(){return t},set(e){t.__proto__=e}})}class l extends Array{constructor(e){if(typeof e==="number"){super(e)}else{super(...e||[]);c(this)}}}function f(e=[]){const t=[];e.forEach((e=>{if(Array.isArray(e)){t.push(...f(e))}else{t.push(e)}}));return t}function d(e,t){return Array.prototype.filter.call(e,t)}function h(e){const t=[];for(let r=0;r<e.length;r+=1){if(t.indexOf(e[r])===-1)t.push(e[r])}return t}function p(e){return e.toLowerCase().replace(/-(.)/g,((e,t)=>t.toUpperCase()))}function v(e,t){if(typeof e!=="string"){return[e]}const r=[];const n=t.querySelectorAll(e);for(let e=0;e<n.length;e+=1){r.push(n[e])}return r}function g(e,t){const r=u();const n=a();let i=[];if(!t&&e instanceof l){return e}if(!e){return new l(i)}if(typeof e==="string"){const r=e.trim();if(r.indexOf("<")>=0&&r.indexOf(">")>=0){let e="div";if(r.indexOf("<li")===0)e="ul";if(r.indexOf("<tr")===0)e="tbody";if(r.indexOf("<td")===0||r.indexOf("<th")===0)e="tr";if(r.indexOf("<tbody")===0)e="table";if(r.indexOf("<option")===0)e="select";const t=n.createElement(e);t.innerHTML=r;for(let e=0;e<t.childNodes.length;e+=1){i.push(t.childNodes[e])}}else{i=v(e.trim(),t||n)}}else if(e.nodeType||e===r||e===n){i.push(e)}else if(Array.isArray(e)){if(e instanceof l)return e;i=e}return new l(h(i))}g.fn=l.prototype;function m(...e){const t=f(e.map((e=>e.split(" "))));this.forEach((e=>{e.classList.add(...t)}));return this}function y(...e){const t=f(e.map((e=>e.split(" "))));this.forEach((e=>{e.classList.remove(...t)}));return this}function _(...e){const t=f(e.map((e=>e.split(" "))));this.forEach((e=>{t.forEach((t=>{e.classList.toggle(t)}))}))}function b(...e){const t=f(e.map((e=>e.split(" "))));return d(this,(e=>t.filter((t=>e.classList.contains(t))).length>0)).length>0}function E(e,t){if(arguments.length===1&&typeof e==="string"){if(this[0])return this[0].getAttribute(e);return undefined}for(let r=0;r<this.length;r+=1){if(arguments.length===2){this[r].setAttribute(e,t)}else{for(const t in e){this[r][t]=e[t];this[r].setAttribute(t,e[t])}}}return this}function S(e){for(let t=0;t<this.length;t+=1){this[t].removeAttribute(e)}return this}function w(e,t){if(arguments.length===1&&typeof e==="string"){if(this[0])return this[0][e]}else{for(let r=0;r<this.length;r+=1){if(arguments.length===2){this[r][e]=t}else{for(const t in e){this[r][t]=e[t]}}}return this}return this}function T(e,t){let r;if(typeof t==="undefined"){r=this[0];if(!r)return undefined;if(r.dom7ElementDataStorage&&e in r.dom7ElementDataStorage){return r.dom7ElementDataStorage[e]}const t=r.getAttribute(`data-${e}`);if(t){return t}return undefined}for(let n=0;n<this.length;n+=1){r=this[n];if(!r.dom7ElementDataStorage)r.dom7ElementDataStorage={};r.dom7ElementDataStorage[e]=t}return this}function C(e){for(let t=0;t<this.length;t+=1){const r=this[t];if(r.dom7ElementDataStorage&&r.dom7ElementDataStorage[e]){r.dom7ElementDataStorage[e]=null;delete r.dom7ElementDataStorage[e]}}}function A(){const e=this[0];if(!e)return undefined;const t={};if(e.dataset){for(const r in e.dataset){t[r]=e.dataset[r]}}else{for(let r=0;r<e.attributes.length;r+=1){const n=e.attributes[r];if(n.name.indexOf("data-")>=0){t[p(n.name.split("data-")[1])]=n.value}}}for(const e in t){if(t[e]==="false")t[e]=false;else if(t[e]==="true")t[e]=true;else if(parseFloat(t[e])===t[e]*1)t[e]*=1}return t}function R(e){if(typeof e==="undefined"){const e=this[0];if(!e)return undefined;if(e.multiple&&e.nodeName.toLowerCase()==="select"){const t=[];for(let r=0;r<e.selectedOptions.length;r+=1){t.push(e.selectedOptions[r].value)}return t}return e.value}for(let t=0;t<this.length;t+=1){const r=this[t];if(Array.isArray(e)&&r.multiple&&r.nodeName.toLowerCase()==="select"){for(let t=0;t<r.options.length;t+=1){r.options[t].selected=e.indexOf(r.options[t].value)>=0}}else{r.value=e}}return this}function I(e){return this.val(e)}function k(e){for(let t=0;t<this.length;t+=1){this[t].style.transform=e}return this}function O(e){for(let t=0;t<this.length;t+=1){this[t].style.transitionDuration=typeof e!=="string"?`${e}ms`:e}return this}function P(...e){let[t,r,n,i]=e;if(typeof e[1]==="function"){[t,n,i]=e;r=undefined}if(!i)i=false;function o(e){const t=e.target;if(!t)return;const i=e.target.dom7EventData||[];if(i.indexOf(e)<0){i.unshift(e)}if(g(t).is(r))n.apply(t,i);else{const e=g(t).parents();for(let t=0;t<e.length;t+=1){if(g(e[t]).is(r))n.apply(e[t],i)}}}function a(e){const t=e&&e.target?e.target.dom7EventData||[]:[];if(t.indexOf(e)<0){t.unshift(e)}n.apply(this,t)}const s=t.split(" ");let u;for(let e=0;e<this.length;e+=1){const t=this[e];if(!r){for(u=0;u<s.length;u+=1){const e=s[u];if(!t.dom7Listeners)t.dom7Listeners={};if(!t.dom7Listeners[e])t.dom7Listeners[e]=[];t.dom7Listeners[e].push({listener:n,proxyListener:a});t.addEventListener(e,a,i)}}else{for(u=0;u<s.length;u+=1){const e=s[u];if(!t.dom7LiveListeners)t.dom7LiveListeners={};if(!t.dom7LiveListeners[e])t.dom7LiveListeners[e]=[];t.dom7LiveListeners[e].push({listener:n,proxyListener:o});t.addEventListener(e,o,i)}}}return this}function M(...e){let[t,r,n,i]=e;if(typeof e[1]==="function"){[t,n,i]=e;r=undefined}if(!i)i=false;const o=t.split(" ");for(let e=0;e<o.length;e+=1){const t=o[e];for(let e=0;e<this.length;e+=1){const o=this[e];let a;if(!r&&o.dom7Listeners){a=o.dom7Listeners[t]}else if(r&&o.dom7LiveListeners){a=o.dom7LiveListeners[t]}if(a&&a.length){for(let e=a.length-1;e>=0;e-=1){const r=a[e];if(n&&r.listener===n){o.removeEventListener(t,r.proxyListener,i);a.splice(e,1)}else if(n&&r.listener&&r.listener.dom7proxy&&r.listener.dom7proxy===n){o.removeEventListener(t,r.proxyListener,i);a.splice(e,1)}else if(!n){o.removeEventListener(t,r.proxyListener,i);a.splice(e,1)}}}}}return this}function x(...e){const t=this;let[r,n,i,o]=e;if(typeof e[1]==="function"){[r,i,o]=e;n=undefined}function a(...e){i.apply(this,e);t.off(r,n,a,o);if(a.dom7proxy){delete a.dom7proxy}}a.dom7proxy=i;return t.on(r,n,a,o)}function L(...e){const t=u();const r=e[0].split(" ");const n=e[1];for(let i=0;i<r.length;i+=1){const o=r[i];for(let r=0;r<this.length;r+=1){const i=this[r];if(t.CustomEvent){const r=new t.CustomEvent(o,{detail:n,bubbles:true,cancelable:true});i.dom7EventData=e.filter(((e,t)=>t>0));i.dispatchEvent(r);i.dom7EventData=[];delete i.dom7EventData}}}return this}function D(e){const t=this;function r(n){if(n.target!==this)return;e.call(this,n);t.off("transitionstart",r)}if(e){t.on("transitionstart",r)}return this}function N(e){const t=this;function r(n){if(n.target!==this)return;e.call(this,n);t.off("transitionend",r)}if(e){t.on("transitionend",r)}return this}function j(e){const t=this;function r(n){if(n.target!==this)return;e.call(this,n);t.off("animationend",r)}if(e){t.on("animationend",r)}return this}function U(){const e=getWindow();if(this[0]===e){return e.innerWidth}if(this.length>0){return parseFloat(this.css("width"))}return null}function B(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function F(){const e=getWindow();if(this[0]===e){return e.innerHeight}if(this.length>0){return parseFloat(this.css("height"))}return null}function H(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function V(){if(this.length>0){const e=u();const t=a();const r=this[0];const n=r.getBoundingClientRect();const i=t.body;const o=r.clientTop||i.clientTop||0;const s=r.clientLeft||i.clientLeft||0;const c=r===e?e.scrollY:r.scrollTop;const l=r===e?e.scrollX:r.scrollLeft;return{top:n.top+c-o,left:n.left+l-s}}return null}function W(){for(let e=0;e<this.length;e+=1){this[e].style.display="none"}return this}function z(){const e=getWindow();for(let t=0;t<this.length;t+=1){const r=this[t];if(r.style.display==="none"){r.style.display=""}if(e.getComputedStyle(r,null).getPropertyValue("display")==="none"){r.style.display="block"}}return this}function G(){const e=u();if(this[0])return e.getComputedStyle(this[0],null);return{}}function Y(e,t){const r=u();let n;if(arguments.length===1){if(typeof e==="string"){if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}else{for(n=0;n<this.length;n+=1){for(const t in e){this[n].style[t]=e[t]}}return this}}if(arguments.length===2&&typeof e==="string"){for(n=0;n<this.length;n+=1){this[n].style[e]=t}return this}return this}function K(e){if(!e)return this;this.forEach(((t,r)=>{e.apply(t,[t,r])}));return this}function q(e){const t=d(this,e);return g(t)}function $(e){if(typeof e==="undefined"){return this[0]?this[0].innerHTML:null}for(let t=0;t<this.length;t+=1){this[t].innerHTML=e}return this}function J(e){if(typeof e==="undefined"){return this[0]?this[0].textContent.trim():null}for(let t=0;t<this.length;t+=1){this[t].textContent=e}return this}function Z(e){const t=u();const r=a();const n=this[0];let i;let o;if(!n||typeof e==="undefined")return false;if(typeof e==="string"){if(n.matches)return n.matches(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);i=g(e);for(o=0;o<i.length;o+=1){if(i[o]===n)return true}return false}if(e===r){return n===r}if(e===t){return n===t}if(e.nodeType||e instanceof l){i=e.nodeType?[e]:e;for(o=0;o<i.length;o+=1){if(i[o]===n)return true}return false}return false}function X(){let e=this[0];let t;if(e){t=0;while((e=e.previousSibling)!==null){if(e.nodeType===1)t+=1}return t}return undefined}function Q(e){if(typeof e==="undefined")return this;const t=this.length;if(e>t-1){return g([])}if(e<0){const r=t+e;if(r<0)return g([]);return g([this[r]])}return g([this[e]])}function ee(...e){let t;const r=a();for(let n=0;n<e.length;n+=1){t=e[n];for(let e=0;e<this.length;e+=1){if(typeof t==="string"){const n=r.createElement("div");n.innerHTML=t;while(n.firstChild){this[e].appendChild(n.firstChild)}}else if(t instanceof l){for(let r=0;r<t.length;r+=1){this[e].appendChild(t[r])}}else{this[e].appendChild(t)}}}return this}function te(e){g(e).append(this);return this}function re(e){const t=a();let r;let n;for(r=0;r<this.length;r+=1){if(typeof e==="string"){const i=t.createElement("div");i.innerHTML=e;for(n=i.childNodes.length-1;n>=0;n-=1){this[r].insertBefore(i.childNodes[n],this[r].childNodes[0])}}else if(e instanceof l){for(n=0;n<e.length;n+=1){this[r].insertBefore(e[n],this[r].childNodes[0])}}else{this[r].insertBefore(e,this[r].childNodes[0])}}return this}function ne(e){g(e).prepend(this);return this}function ie(e){const t=g(e);for(let e=0;e<this.length;e+=1){if(t.length===1){t[0].parentNode.insertBefore(this[e],t[0])}else if(t.length>1){for(let r=0;r<t.length;r+=1){t[r].parentNode.insertBefore(this[e].cloneNode(true),t[r])}}}}function oe(e){const t=g(e);for(let e=0;e<this.length;e+=1){if(t.length===1){t[0].parentNode.insertBefore(this[e],t[0].nextSibling)}else if(t.length>1){for(let r=0;r<t.length;r+=1){t[r].parentNode.insertBefore(this[e].cloneNode(true),t[r].nextSibling)}}}}function ae(e){if(this.length>0){if(e){if(this[0].nextElementSibling&&g(this[0].nextElementSibling).is(e)){return g([this[0].nextElementSibling])}return g([])}if(this[0].nextElementSibling)return g([this[0].nextElementSibling]);return g([])}return g([])}function se(e){const t=[];let r=this[0];if(!r)return g([]);while(r.nextElementSibling){const n=r.nextElementSibling;if(e){if(g(n).is(e))t.push(n)}else t.push(n);r=n}return g(t)}function ue(e){if(this.length>0){const t=this[0];if(e){if(t.previousElementSibling&&g(t.previousElementSibling).is(e)){return g([t.previousElementSibling])}return g([])}if(t.previousElementSibling)return g([t.previousElementSibling]);return g([])}return g([])}function ce(e){const t=[];let r=this[0];if(!r)return g([]);while(r.previousElementSibling){const n=r.previousElementSibling;if(e){if(g(n).is(e))t.push(n)}else t.push(n);r=n}return g(t)}function le(e){return this.nextAll(e).add(this.prevAll(e))}function fe(e){const t=[];for(let r=0;r<this.length;r+=1){if(this[r].parentNode!==null){if(e){if(g(this[r].parentNode).is(e))t.push(this[r].parentNode)}else{t.push(this[r].parentNode)}}}return g(t)}function de(e){const t=[];for(let r=0;r<this.length;r+=1){let n=this[r].parentNode;while(n){if(e){if(g(n).is(e))t.push(n)}else{t.push(n)}n=n.parentNode}}return g(t)}function he(e){let t=this;if(typeof e==="undefined"){return g([])}if(!t.is(e)){t=t.parents(e).eq(0)}return t}function pe(e){const t=[];for(let r=0;r<this.length;r+=1){const n=this[r].querySelectorAll(e);for(let e=0;e<n.length;e+=1){t.push(n[e])}}return g(t)}function ve(e){const t=[];for(let r=0;r<this.length;r+=1){const n=this[r].children;for(let r=0;r<n.length;r+=1){if(!e||g(n[r]).is(e)){t.push(n[r])}}}return g(t)}function ge(){for(let e=0;e<this.length;e+=1){if(this[e].parentNode)this[e].parentNode.removeChild(this[e])}return this}function me(){return this.remove()}function ye(...e){const t=this;let r;let n;for(r=0;r<e.length;r+=1){const i=g(e[r]);for(n=0;n<i.length;n+=1){t.push(i[n])}}return t}function _e(){for(let e=0;e<this.length;e+=1){const t=this[e];if(t.nodeType===1){for(let e=0;e<t.childNodes.length;e+=1){if(t.childNodes[e].parentNode){t.childNodes[e].parentNode.removeChild(t.childNodes[e])}}t.textContent=""}}return this}function be(...e){const t=getWindow();let[r,n,i,o,a]=e;if(e.length===4&&typeof o==="function"){a=o;[r,n,i,a,o]=e}if(typeof o==="undefined")o="swing";return this.each((function e(){const s=this;let u;let c;let l;let f;let d;let h;let p;let v;let g=n>0||n===0;let m=r>0||r===0;if(typeof o==="undefined"){o="swing"}if(g){u=s.scrollTop;if(!i){s.scrollTop=n}}if(m){c=s.scrollLeft;if(!i){s.scrollLeft=r}}if(!i)return;if(g){l=s.scrollHeight-s.offsetHeight;d=Math.max(Math.min(n,l),0)}if(m){f=s.scrollWidth-s.offsetWidth;h=Math.max(Math.min(r,f),0)}let y=null;if(g&&d===u)g=false;if(m&&h===c)m=false;function _(e=(new Date).getTime()){if(y===null){y=e}const r=Math.max(Math.min((e-y)/i,1),0);const n=o==="linear"?r:.5-Math.cos(r*Math.PI)/2;let l;if(g)p=u+n*(d-u);if(m)v=c+n*(h-c);if(g&&d>u&&p>=d){s.scrollTop=d;l=true}if(g&&d<u&&p<=d){s.scrollTop=d;l=true}if(m&&h>c&&v>=h){s.scrollLeft=h;l=true}if(m&&h<c&&v<=h){s.scrollLeft=h;l=true}if(l){if(a)a();return}if(g)s.scrollTop=p;if(m)s.scrollLeft=v;t.requestAnimationFrame(_)}t.requestAnimationFrame(_)}))}function Ee(...e){let[t,r,n,i]=e;if(e.length===3&&typeof n==="function"){[t,r,i,n]=e}const o=this;if(typeof t==="undefined"){if(o.length>0)return o[0].scrollTop;return null}return o.scrollTo(undefined,t,r,n,i)}function Se(...e){let[t,r,n,i]=e;if(e.length===3&&typeof n==="function"){[t,r,i,n]=e}const o=this;if(typeof t==="undefined"){if(o.length>0)return o[0].scrollLeft;return null}return o.scrollTo(t,undefined,r,n,i)}function we(e,t){const r=getWindow();const n=this;const i={props:Object.assign({},e),params:Object.assign({duration:300,easing:"swing"},t),elements:n,animating:false,que:[],easingProgress(e,t){if(e==="swing"){return.5-Math.cos(t*Math.PI)/2}if(typeof e==="function"){return e(t)}return t},stop(){if(i.frameId){r.cancelAnimationFrame(i.frameId)}i.animating=false;i.elements.each((e=>{const t=e;delete t.dom7AnimateInstance}));i.que=[]},done(e){i.animating=false;i.elements.each((e=>{const t=e;delete t.dom7AnimateInstance}));if(e)e(n);if(i.que.length>0){const e=i.que.shift();i.animate(e[0],e[1])}},animate(e,t){if(i.animating){i.que.push([e,t]);return i}const o=[];i.elements.each(((t,n)=>{let a;let s;let u;let c;let l;if(!t.dom7AnimateInstance)i.elements[n].dom7AnimateInstance=i;o[n]={container:t};Object.keys(e).forEach((i=>{a=r.getComputedStyle(t,null).getPropertyValue(i).replace(",",".");s=parseFloat(a);u=a.replace(s,"");c=parseFloat(e[i]);l=e[i]+u;o[n][i]={initialFullValue:a,initialValue:s,unit:u,finalValue:c,finalFullValue:l,currentValue:s}}))}));let a=null;let s;let u=0;let c=0;let l;let f=false;i.animating=true;function d(){s=(new Date).getTime();let h;let p;if(!f){f=true;if(t.begin)t.begin(n)}if(a===null){a=s}if(t.progress){t.progress(n,Math.max(Math.min((s-a)/t.duration,1),0),a+t.duration-s<0?0:a+t.duration-s,a)}o.forEach((r=>{const n=r;if(l||n.done)return;Object.keys(e).forEach((r=>{if(l||n.done)return;h=Math.max(Math.min((s-a)/t.duration,1),0);p=i.easingProgress(t.easing,h);const{initialValue:f,finalValue:d,unit:v}=n[r];n[r].currentValue=f+p*(d-f);const g=n[r].currentValue;if(d>f&&g>=d||d<f&&g<=d){n.container.style[r]=d+v;c+=1;if(c===Object.keys(e).length){n.done=true;u+=1}if(u===o.length){l=true}}if(l){i.done(t.complete);return}n.container.style[r]=g+v}))}));if(l)return;i.frameId=r.requestAnimationFrame(d)}i.frameId=r.requestAnimationFrame(d);return i}};if(i.elements.length===0){return n}let o;for(let e=0;e<i.elements.length;e+=1){if(i.elements[e].dom7AnimateInstance){o=i.elements[e].dom7AnimateInstance}else i.elements[e].dom7AnimateInstance=i}if(!o){o=i}if(e==="stop"){o.stop()}else{o.animate(i.props,i.params)}return n}function Te(){const e=this;for(let t=0;t<e.length;t+=1){if(e[t].dom7AnimateInstance){e[t].dom7AnimateInstance.stop()}}}const Ce="resize scroll".split(" ");function Ae(e){function t(...t){if(typeof t[0]==="undefined"){for(let t=0;t<this.length;t+=1){if(Ce.indexOf(e)<0){if(e in this[t])this[t][e]();else{g(this[t]).trigger(e)}}}return this}return this.on(e,...t)}return t}const Re=Ae("click");const Ie=Ae("blur");const ke=Ae("focus");const Oe=Ae("focusin");const Pe=Ae("focusout");const Me=Ae("keyup");const xe=Ae("keydown");const Le=Ae("keypress");const De=Ae("submit");const Ne=Ae("change");const je=Ae("mousedown");const Ue=Ae("mousemove");const Be=Ae("mouseup");const Fe=Ae("mouseenter");const He=Ae("mouseleave");const Ve=Ae("mouseout");const We=Ae("mouseover");const ze=Ae("touchstart");const Ge=Ae("touchend");const Ye=Ae("touchmove");const Ke=Ae("resize");const qe=Ae("scroll");const $e=null&&g;const Je={addClass:m,removeClass:y,hasClass:b,toggleClass:_,attr:E,removeAttr:S,transform:k,transition:O,on:P,off:M,trigger:L,transitionEnd:N,outerWidth:B,outerHeight:H,styles:G,offset:V,css:Y,each:K,html:$,text:J,is:Z,index:X,eq:Q,append:ee,prepend:re,next:ae,nextAll:se,prev:ue,prevAll:ce,parent:fe,parents:de,closest:he,find:pe,children:ve,filter:q,remove:ge};Object.keys(Je).forEach((e=>{Object.defineProperty(g.fn,e,{value:Je[e],writable:true})}));const Ze=g;function Xe(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}function Qe(e,t){if(t===void 0){t=0}return setTimeout(e,t)}function et(){return Date.now()}function tt(e){const t=u();let r;if(t.getComputedStyle){r=t.getComputedStyle(e,null)}if(!r&&e.currentStyle){r=e.currentStyle}if(!r){r=e.style}return r}function rt(e,t){if(t===void 0){t="x"}const r=u();let n;let i;let o;const a=tt(e,null);if(r.WebKitCSSMatrix){i=a.transform||a.webkitTransform;if(i.split(",").length>6){i=i.split(", ").map((e=>e.replace(",","."))).join(", ")}o=new r.WebKitCSSMatrix(i==="none"?"":i)}else{o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");n=o.toString().split(",")}if(t==="x"){if(r.WebKitCSSMatrix)i=o.m41;else if(n.length===16)i=parseFloat(n[12]);else i=parseFloat(n[4])}if(t==="y"){if(r.WebKitCSSMatrix)i=o.m42;else if(n.length===16)i=parseFloat(n[13]);else i=parseFloat(n[5])}return i||0}function nt(e){return typeof e==="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function it(e){if(typeof window!=="undefined"&&typeof window.HTMLElement!=="undefined"){return e instanceof HTMLElement}return e&&(e.nodeType===1||e.nodeType===11)}function ot(){const e=Object(arguments.length<=0?undefined:arguments[0]);const t=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const n=r<0||arguments.length<=r?undefined:arguments[r];if(n!==undefined&&n!==null&&!it(n)){const r=Object.keys(Object(n)).filter((e=>t.indexOf(e)<0));for(let t=0,i=r.length;t<i;t+=1){const i=r[t];const o=Object.getOwnPropertyDescriptor(n,i);if(o!==undefined&&o.enumerable){if(nt(e[i])&&nt(n[i])){if(n[i].__swiper__){e[i]=n[i]}else{ot(e[i],n[i])}}else if(!nt(e[i])&&nt(n[i])){e[i]={};if(n[i].__swiper__){e[i]=n[i]}else{ot(e[i],n[i])}}else{e[i]=n[i]}}}}}return e}function at(e,t,r){e.style.setProperty(t,r)}function st(e){let{swiper:t,targetPosition:r,side:n}=e;const i=u();const o=-t.translate;let a=null;let s;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none";i.cancelAnimationFrame(t.cssModeFrameID);const l=r>o?"next":"prev";const f=(e,t)=>l==="next"&&e>=t||l==="prev"&&e<=t;const d=()=>{s=(new Date).getTime();if(a===null){a=s}const e=Math.max(Math.min((s-a)/c,1),0);const u=.5-Math.cos(e*Math.PI)/2;let l=o+u*(r-o);if(f(l,r)){l=r}t.wrapperEl.scrollTo({[n]:l});if(f(l,r)){t.wrapperEl.style.overflow="hidden";t.wrapperEl.style.scrollSnapType="";setTimeout((()=>{t.wrapperEl.style.overflow="";t.wrapperEl.scrollTo({[n]:l})}));i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(d)};d()}let ut;function ct(){const e=u();const t=a();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function t(){let r=false;try{const t=Object.defineProperty({},"passive",{get(){r=true}});e.addEventListener("testPassiveListener",null,t)}catch(e){}return r}(),gestures:function t(){return"ongesturestart"in e}()}}function lt(){if(!ut){ut=ct()}return ut}let ft;function dt(e){let{userAgent:t}=e===void 0?{}:e;const r=lt();const n=u();const i=n.navigator.platform;const o=t||n.navigator.userAgent;const a={ios:false,android:false};const s=n.screen.width;const c=n.screen.height;const l=o.match(/(Android);?[\s\/]+([\d.]+)?/);let f=o.match(/(iPad).*OS\s([\d_]+)/);const d=o.match(/(iPod)(.*OS\s([\d_]+))?/);const h=!f&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/);const p=i==="Win32";let v=i==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];if(!f&&v&&r.touch&&g.indexOf(`${s}x${c}`)>=0){f=o.match(/(Version)\/([\d.]+)/);if(!f)f=[0,1,"13_0_0"];v=false}if(l&&!p){a.os="android";a.android=true}if(f||h||d){a.os="ios";a.ios=true}return a}function ht(e){if(e===void 0){e={}}if(!ft){ft=dt(e)}return ft}let pt;function vt(){const e=u();function t(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}return{isSafari:t(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function gt(){if(!pt){pt=vt()}return pt}function mt(e){let{swiper:t,on:r,emit:n}=e;const i=u();let o=null;let a=null;const s=()=>{if(!t||t.destroyed||!t.initialized)return;n("beforeResize");n("resize")};const c=()=>{if(!t||t.destroyed||!t.initialized)return;o=new ResizeObserver((e=>{a=i.requestAnimationFrame((()=>{const{width:r,height:n}=t;let i=r;let o=n;e.forEach((e=>{let{contentBoxSize:r,contentRect:n,target:a}=e;if(a&&a!==t.el)return;i=n?n.width:(r[0]||r).inlineSize;o=n?n.height:(r[0]||r).blockSize}));if(i!==r||o!==n){s()}}))}));o.observe(t.el)};const l=()=>{if(a){i.cancelAnimationFrame(a)}if(o&&o.unobserve&&t.el){o.unobserve(t.el);o=null}};const f=()=>{if(!t||t.destroyed||!t.initialized)return;n("orientationchange")};r("init",(()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver!=="undefined"){c();return}i.addEventListener("resize",s);i.addEventListener("orientationchange",f)}));r("destroy",(()=>{l();i.removeEventListener("resize",s);i.removeEventListener("orientationchange",f)}))}function yt(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;const o=[];const a=u();const s=function(e,t){if(t===void 0){t={}}const r=a.MutationObserver||a.WebkitMutationObserver;const n=new r((e=>{if(e.length===1){i("observerUpdate",e[0]);return}const t=function t(){i("observerUpdate",e[0])};if(a.requestAnimationFrame){a.requestAnimationFrame(t)}else{a.setTimeout(t,0)}}));n.observe(e,{attributes:typeof t.attributes==="undefined"?true:t.attributes,childList:typeof t.childList==="undefined"?true:t.childList,characterData:typeof t.characterData==="undefined"?true:t.characterData});o.push(n)};const c=()=>{if(!t.params.observer)return;if(t.params.observeParents){const e=t.$el.parents();for(let t=0;t<e.length;t+=1){s(e[t])}}s(t.$el[0],{childList:t.params.observeSlideChildren});s(t.$wrapperEl[0],{attributes:false})};const l=()=>{o.forEach((e=>{e.disconnect()}));o.splice(0,o.length)};r({observer:false,observeParents:false,observeSlideChildren:false});n("init",c);n("destroy",l)}const _t={on(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed)return n;if(typeof t!=="function")return n;const i=r?"unshift":"push";e.split(" ").forEach((e=>{if(!n.eventsListeners[e])n.eventsListeners[e]=[];n.eventsListeners[e][i](t)}));return n},once(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed)return n;if(typeof t!=="function")return n;function i(){n.off(e,i);if(i.__emitterProxy){delete i.__emitterProxy}for(var r=arguments.length,o=new Array(r),a=0;a<r;a++){o[a]=arguments[a]}t.apply(n,o)}i.__emitterProxy=t;return n.on(e,i,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed)return r;if(typeof e!=="function")return r;const n=t?"unshift":"push";if(r.eventsAnyListeners.indexOf(e)<0){r.eventsAnyListeners[n](e)}return r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);if(r>=0){t.eventsAnyListeners.splice(r,1)}return t},off(e,t){const r=this;if(!r.eventsListeners||r.destroyed)return r;if(!r.eventsListeners)return r;e.split(" ").forEach((e=>{if(typeof t==="undefined"){r.eventsListeners[e]=[]}else if(r.eventsListeners[e]){r.eventsListeners[e].forEach(((n,i)=>{if(n===t||n.__emitterProxy&&n.__emitterProxy===t){r.eventsListeners[e].splice(i,1)}}))}}));return r},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t;let r;let n;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++){o[a]=arguments[a]}if(typeof o[0]==="string"||Array.isArray(o[0])){t=o[0];r=o.slice(1,o.length);n=e}else{t=o[0].events;r=o[0].data;n=o[0].context||e}r.unshift(n);const s=Array.isArray(t)?t:t.split(" ");s.forEach((t=>{if(e.eventsAnyListeners&&e.eventsAnyListeners.length){e.eventsAnyListeners.forEach((e=>{e.apply(n,[t,...r])}))}if(e.eventsListeners&&e.eventsListeners[t]){e.eventsListeners[t].forEach((e=>{e.apply(n,r)}))}}));return e}};function bt(){const e=this;let t;let r;const n=e.$el;if(typeof e.params.width!=="undefined"&&e.params.width!==null){t=e.params.width}else{t=n[0].clientWidth}if(typeof e.params.height!=="undefined"&&e.params.height!==null){r=e.params.height}else{r=n[0].clientHeight}if(t===0&&e.isHorizontal()||r===0&&e.isVertical()){return}t=t-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10);r=r-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10);if(Number.isNaN(t))t=0;if(Number.isNaN(r))r=0;Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r})}function Et(){const e=this;function t(t){if(e.isHorizontal()){return t}return{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function r(e,r){return parseFloat(e.getPropertyValue(t(r))||0)}const n=e.params;const{$wrapperEl:i,size:o,rtlTranslate:a,wrongRTL:s}=e;const u=e.virtual&&n.virtual.enabled;const c=u?e.virtual.slides.length:e.slides.length;const l=i.children(`.${e.params.slideClass}`);const f=u?e.virtual.slides.length:l.length;let d=[];const h=[];const p=[];let v=n.slidesOffsetBefore;if(typeof v==="function"){v=n.slidesOffsetBefore.call(e)}let g=n.slidesOffsetAfter;if(typeof g==="function"){g=n.slidesOffsetAfter.call(e)}const m=e.snapGrid.length;const y=e.slidesGrid.length;let _=n.spaceBetween;let b=-v;let E=0;let S=0;if(typeof o==="undefined"){return}if(typeof _==="string"&&_.indexOf("%")>=0){_=parseFloat(_.replace("%",""))/100*o}e.virtualSize=-_;if(a)l.css({marginLeft:"",marginBottom:"",marginTop:""});else l.css({marginRight:"",marginBottom:"",marginTop:""});if(n.centeredSlides&&n.cssMode){at(e.wrapperEl,"--swiper-centered-offset-before","");at(e.wrapperEl,"--swiper-centered-offset-after","")}const w=n.grid&&n.grid.rows>1&&e.grid;if(w){e.grid.initSlides(f)}let T;const C=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>typeof n.breakpoints[e].slidesPerView!=="undefined")).length>0;for(let i=0;i<f;i+=1){T=0;const a=l.eq(i);if(w){e.grid.updateSlide(i,a,f,t)}if(a.css("display")==="none")continue;if(n.slidesPerView==="auto"){if(C){l[i].style[t("width")]=``}const o=getComputedStyle(a[0]);const s=a[0].style.transform;const u=a[0].style.webkitTransform;if(s){a[0].style.transform="none"}if(u){a[0].style.webkitTransform="none"}if(n.roundLengths){T=e.isHorizontal()?a.outerWidth(true):a.outerHeight(true)}else{const e=r(o,"width");const t=r(o,"padding-left");const n=r(o,"padding-right");const i=r(o,"margin-left");const s=r(o,"margin-right");const u=o.getPropertyValue("box-sizing");if(u&&u==="border-box"){T=e+i+s}else{const{clientWidth:r,offsetWidth:o}=a[0];T=e+t+n+i+s+(o-r)}}if(s){a[0].style.transform=s}if(u){a[0].style.webkitTransform=u}if(n.roundLengths)T=Math.floor(T)}else{T=(o-(n.slidesPerView-1)*_)/n.slidesPerView;if(n.roundLengths)T=Math.floor(T);if(l[i]){l[i].style[t("width")]=`${T}px`}}if(l[i]){l[i].swiperSlideSize=T}p.push(T);if(n.centeredSlides){b=b+T/2+E/2+_;if(E===0&&i!==0)b=b-o/2-_;if(i===0)b=b-o/2-_;if(Math.abs(b)<1/1e3)b=0;if(n.roundLengths)b=Math.floor(b);if(S%n.slidesPerGroup===0)d.push(b);h.push(b)}else{if(n.roundLengths)b=Math.floor(b);if((S-Math.min(e.params.slidesPerGroupSkip,S))%e.params.slidesPerGroup===0)d.push(b);h.push(b);b=b+T+_}e.virtualSize+=T+_;E=T;S+=1}e.virtualSize=Math.max(e.virtualSize,o)+g;if(a&&s&&(n.effect==="slide"||n.effect==="coverflow")){i.css({width:`${e.virtualSize+n.spaceBetween}px`})}if(n.setWrapperSize){i.css({[t("width")]:`${e.virtualSize+n.spaceBetween}px`})}if(w){e.grid.updateWrapperSize(T,d,t)}if(!n.centeredSlides){const t=[];for(let r=0;r<d.length;r+=1){let i=d[r];if(n.roundLengths)i=Math.floor(i);if(d[r]<=e.virtualSize-o){t.push(i)}}d=t;if(Math.floor(e.virtualSize-o)-Math.floor(d[d.length-1])>1){d.push(e.virtualSize-o)}}if(d.length===0)d=[0];if(n.spaceBetween!==0){const r=e.isHorizontal()&&a?"marginLeft":t("marginRight");l.filter(((e,t)=>{if(!n.cssMode)return true;if(t===l.length-1){return false}return true})).css({[r]:`${_}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;p.forEach((t=>{e+=t+(n.spaceBetween?n.spaceBetween:0)}));e-=n.spaceBetween;const t=e-o;d=d.map((e=>{if(e<0)return-v;if(e>t)return t+g;return e}))}if(n.centerInsufficientSlides){let e=0;p.forEach((t=>{e+=t+(n.spaceBetween?n.spaceBetween:0)}));e-=n.spaceBetween;if(e<o){const t=(o-e)/2;d.forEach(((e,r)=>{d[r]=e-t}));h.forEach(((e,r)=>{h[r]=e+t}))}}Object.assign(e,{slides:l,snapGrid:d,slidesGrid:h,slidesSizesGrid:p});if(n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){at(e.wrapperEl,"--swiper-centered-offset-before",`${-d[0]}px`);at(e.wrapperEl,"--swiper-centered-offset-after",`${e.size/2-p[p.length-1]/2}px`);const t=-e.snapGrid[0];const r=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t));e.slidesGrid=e.slidesGrid.map((e=>e+r))}if(f!==c){e.emit("slidesLengthChange")}if(d.length!==m){if(e.params.watchOverflow)e.checkOverflow();e.emit("snapGridLengthChange")}if(h.length!==y){e.emit("slidesGridLengthChange")}if(n.watchSlidesProgress){e.updateSlidesOffset()}if(!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const t=`${n.containerModifierClass}backface-hidden`;const r=e.$el.hasClass(t);if(f<=n.maxBackfaceHiddenSlides){if(!r)e.$el.addClass(t)}else if(r){e.$el.removeClass(t)}}}function St(e){const t=this;const r=[];const n=t.virtual&&t.params.virtual.enabled;let i=0;let o;if(typeof e==="number"){t.setTransition(e)}else if(e===true){t.setTransition(t.params.speed)}const a=e=>{if(n){return t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]}return t.slides.eq(e)[0]};if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1){if(t.params.centeredSlides){(t.visibleSlides||Ze([])).each((e=>{r.push(e)}))}else{for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const e=t.activeIndex+o;if(e>t.slides.length&&!n)break;r.push(a(e))}}}else{r.push(a(t.activeIndex))}for(o=0;o<r.length;o+=1){if(typeof r[o]!=="undefined"){const e=r[o].offsetHeight;i=e>i?e:i}}if(i||i===0)t.$wrapperEl.css("height",`${i}px`)}function wt(){const e=this;const t=e.slides;for(let r=0;r<t.length;r+=1){t[r].swiperSlideOffset=e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop}}function Tt(e){if(e===void 0){e=this&&this.translate||0}const t=this;const r=t.params;const{slides:n,rtlTranslate:i,snapGrid:o}=t;if(n.length===0)return;if(typeof n[0].swiperSlideOffset==="undefined")t.updateSlidesOffset();let a=-e;if(i)a=e;n.removeClass(r.slideVisibleClass);t.visibleSlidesIndexes=[];t.visibleSlides=[];for(let e=0;e<n.length;e+=1){const s=n[e];let u=s.swiperSlideOffset;if(r.cssMode&&r.centeredSlides){u-=n[0].swiperSlideOffset}const c=(a+(r.centeredSlides?t.minTranslate():0)-u)/(s.swiperSlideSize+r.spaceBetween);const l=(a-o[0]+(r.centeredSlides?t.minTranslate():0)-u)/(s.swiperSlideSize+r.spaceBetween);const f=-(a-u);const d=f+t.slidesSizesGrid[e];const h=f>=0&&f<t.size-1||d>1&&d<=t.size||f<=0&&d>=t.size;if(h){t.visibleSlides.push(s);t.visibleSlidesIndexes.push(e);n.eq(e).addClass(r.slideVisibleClass)}s.progress=i?-c:c;s.originalProgress=i?-l:l}t.visibleSlides=Ze(t.visibleSlides)}function Ct(e){const t=this;if(typeof e==="undefined"){const r=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*r||0}const r=t.params;const n=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:o,isEnd:a}=t;const s=o;const u=a;if(n===0){i=0;o=true;a=true}else{i=(e-t.minTranslate())/n;o=i<=0;a=i>=1}Object.assign(t,{progress:i,isBeginning:o,isEnd:a});if(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)t.updateSlidesProgress(e);if(o&&!s){t.emit("reachBeginning toEdge")}if(a&&!u){t.emit("reachEnd toEdge")}if(s&&!o||u&&!a){t.emit("fromEdge")}t.emit("progress",i)}function At(){const e=this;const{slides:t,params:r,$wrapperEl:n,activeIndex:i,realIndex:o}=e;const a=e.virtual&&r.virtual.enabled;t.removeClass(`${r.slideActiveClass} ${r.slideNextClass} ${r.slidePrevClass} ${r.slideDuplicateActiveClass} ${r.slideDuplicateNextClass} ${r.slideDuplicatePrevClass}`);let s;if(a){s=e.$wrapperEl.find(`.${r.slideClass}[data-swiper-slide-index="${i}"]`)}else{s=t.eq(i)}s.addClass(r.slideActiveClass);if(r.loop){if(s.hasClass(r.slideDuplicateClass)){n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(r.slideDuplicateActiveClass)}else{n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(r.slideDuplicateActiveClass)}}let u=s.nextAll(`.${r.slideClass}`).eq(0).addClass(r.slideNextClass);if(r.loop&&u.length===0){u=t.eq(0);u.addClass(r.slideNextClass)}let c=s.prevAll(`.${r.slideClass}`).eq(0).addClass(r.slidePrevClass);if(r.loop&&c.length===0){c=t.eq(-1);c.addClass(r.slidePrevClass)}if(r.loop){if(u.hasClass(r.slideDuplicateClass)){n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass)}else{n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass)}if(c.hasClass(r.slideDuplicateClass)){n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass)}else{n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass)}}e.emitSlidesClasses()}function Rt(e){const t=this;const r=t.rtlTranslate?t.translate:-t.translate;const{slidesGrid:n,snapGrid:i,params:o,activeIndex:a,realIndex:s,snapIndex:u}=t;let c=e;let l;if(typeof c==="undefined"){for(let e=0;e<n.length;e+=1){if(typeof n[e+1]!=="undefined"){if(r>=n[e]&&r<n[e+1]-(n[e+1]-n[e])/2){c=e}else if(r>=n[e]&&r<n[e+1]){c=e+1}}else if(r>=n[e]){c=e}}if(o.normalizeSlideIndex){if(c<0||typeof c==="undefined")c=0}}if(i.indexOf(r)>=0){l=i.indexOf(r)}else{const e=Math.min(o.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/o.slidesPerGroup)}if(l>=i.length)l=i.length-1;if(c===a){if(l!==u){t.snapIndex=l;t.emit("snapIndexChange")}return}const f=parseInt(t.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(t,{snapIndex:l,realIndex:f,previousIndex:a,activeIndex:c});t.emit("activeIndexChange");t.emit("snapIndexChange");if(s!==f){t.emit("realIndexChange")}if(t.initialized||t.params.runCallbacksOnInit){t.emit("slideChange")}}function It(e){const t=this;const r=t.params;const n=Ze(e).closest(`.${r.slideClass}`)[0];let i=false;let o;if(n){for(let e=0;e<t.slides.length;e+=1){if(t.slides[e]===n){i=true;o=e;break}}}if(n&&i){t.clickedSlide=n;if(t.virtual&&t.params.virtual.enabled){t.clickedIndex=parseInt(Ze(n).attr("data-swiper-slide-index"),10)}else{t.clickedIndex=o}}else{t.clickedSlide=undefined;t.clickedIndex=undefined;return}if(r.slideToClickedSlide&&t.clickedIndex!==undefined&&t.clickedIndex!==t.activeIndex){t.slideToClickedSlide()}}const kt={updateSize:bt,updateSlides:Et,updateAutoHeight:St,updateSlidesOffset:wt,updateSlidesProgress:Tt,updateProgress:Ct,updateSlidesClasses:At,updateActiveIndex:Rt,updateClickedSlide:It};function Ot(e){if(e===void 0){e=this.isHorizontal()?"x":"y"}const t=this;const{params:r,rtlTranslate:n,translate:i,$wrapperEl:o}=t;if(r.virtualTranslate){return n?-i:i}if(r.cssMode){return i}let a=rt(o[0],e);if(n)a=-a;return a||0}function Pt(e,t){const r=this;const{rtlTranslate:n,params:i,$wrapperEl:o,wrapperEl:a,progress:s}=r;let u=0;let c=0;const l=0;if(r.isHorizontal()){u=n?-e:e}else{c=e}if(i.roundLengths){u=Math.floor(u);c=Math.floor(c)}if(i.cssMode){a[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-u:-c}else if(!i.virtualTranslate){o.transform(`translate3d(${u}px, ${c}px, ${l}px)`)}r.previousTranslate=r.translate;r.translate=r.isHorizontal()?u:c;let f;const d=r.maxTranslate()-r.minTranslate();if(d===0){f=0}else{f=(e-r.minTranslate())/d}if(f!==s){r.updateProgress(e)}r.emit("setTranslate",r.translate,t)}function Mt(){return-this.snapGrid[0]}function xt(){return-this.snapGrid[this.snapGrid.length-1]}function Lt(e,t,r,n,i){if(e===void 0){e=0}if(t===void 0){t=this.params.speed}if(r===void 0){r=true}if(n===void 0){n=true}const o=this;const{params:a,wrapperEl:s}=o;if(o.animating&&a.preventInteractionOnTransition){return false}const u=o.minTranslate();const c=o.maxTranslate();let l;if(n&&e>u)l=u;else if(n&&e<c)l=c;else l=e;o.updateProgress(l);if(a.cssMode){const e=o.isHorizontal();if(t===0){s[e?"scrollLeft":"scrollTop"]=-l}else{if(!o.support.smoothScroll){st({swiper:o,targetPosition:-l,side:e?"left":"top"});return true}s.scrollTo({[e?"left":"top"]:-l,behavior:"smooth"})}return true}if(t===0){o.setTransition(0);o.setTranslate(l);if(r){o.emit("beforeTransitionStart",t,i);o.emit("transitionEnd")}}else{o.setTransition(t);o.setTranslate(l);if(r){o.emit("beforeTransitionStart",t,i);o.emit("transitionStart")}if(!o.animating){o.animating=true;if(!o.onTranslateToWrapperTransitionEnd){o.onTranslateToWrapperTransitionEnd=function e(t){if(!o||o.destroyed)return;if(t.target!==this)return;o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd);o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd);o.onTranslateToWrapperTransitionEnd=null;delete o.onTranslateToWrapperTransitionEnd;if(r){o.emit("transitionEnd")}}}o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd);o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd)}}return true}const Dt={getTranslate:Ot,setTranslate:Pt,minTranslate:Mt,maxTranslate:xt,translateTo:Lt};function Nt(e,t){const r=this;if(!r.params.cssMode){r.$wrapperEl.transition(e)}r.emit("setTransition",e,t)}function jt(e){let{swiper:t,runCallbacks:r,direction:n,step:i}=e;const{activeIndex:o,previousIndex:a}=t;let s=n;if(!s){if(o>a)s="next";else if(o<a)s="prev";else s="reset"}t.emit(`transition${i}`);if(r&&o!==a){if(s==="reset"){t.emit(`slideResetTransition${i}`);return}t.emit(`slideChangeTransition${i}`);if(s==="next"){t.emit(`slideNextTransition${i}`)}else{t.emit(`slidePrevTransition${i}`)}}}function Ut(e,t){if(e===void 0){e=true}const r=this;const{params:n}=r;if(n.cssMode)return;if(n.autoHeight){r.updateAutoHeight()}jt({swiper:r,runCallbacks:e,direction:t,step:"Start"})}function Bt(e,t){if(e===void 0){e=true}const r=this;const{params:n}=r;r.animating=false;if(n.cssMode)return;r.setTransition(0);jt({swiper:r,runCallbacks:e,direction:t,step:"End"})}const Ft={setTransition:Nt,transitionStart:Ut,transitionEnd:Bt};function Ht(e,t,r,n,i){if(e===void 0){e=0}if(t===void 0){t=this.params.speed}if(r===void 0){r=true}if(typeof e!=="number"&&typeof e!=="string"){throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`)}if(typeof e==="string"){const t=parseInt(e,10);const r=isFinite(t);if(!r){throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`)}e=t}const o=this;let a=e;if(a<0)a=0;const{params:s,snapGrid:u,slidesGrid:c,previousIndex:l,activeIndex:f,rtlTranslate:d,wrapperEl:h,enabled:p}=o;if(o.animating&&s.preventInteractionOnTransition||!p&&!n&&!i){return false}const v=Math.min(o.params.slidesPerGroupSkip,a);let g=v+Math.floor((a-v)/o.params.slidesPerGroup);if(g>=u.length)g=u.length-1;if((f||s.initialSlide||0)===(l||0)&&r){o.emit("beforeSlideChangeStart")}const m=-u[g];o.updateProgress(m);if(s.normalizeSlideIndex){for(let e=0;e<c.length;e+=1){const t=-Math.floor(m*100);const r=Math.floor(c[e]*100);const n=Math.floor(c[e+1]*100);if(typeof c[e+1]!=="undefined"){if(t>=r&&t<n-(n-r)/2){a=e}else if(t>=r&&t<n){a=e+1}}else if(t>=r){a=e}}}if(o.initialized&&a!==f){if(!o.allowSlideNext&&m<o.translate&&m<o.minTranslate()){return false}if(!o.allowSlidePrev&&m>o.translate&&m>o.maxTranslate()){if((f||0)!==a)return false}}let y;if(a>f)y="next";else if(a<f)y="prev";else y="reset";if(d&&-m===o.translate||!d&&m===o.translate){o.updateActiveIndex(a);if(s.autoHeight){o.updateAutoHeight()}o.updateSlidesClasses();if(s.effect!=="slide"){o.setTranslate(m)}if(y!=="reset"){o.transitionStart(r,y);o.transitionEnd(r,y)}return false}if(s.cssMode){const e=o.isHorizontal();const r=d?m:-m;if(t===0){const t=o.virtual&&o.params.virtual.enabled;if(t){o.wrapperEl.style.scrollSnapType="none";o._immediateVirtual=true}h[e?"scrollLeft":"scrollTop"]=r;if(t){requestAnimationFrame((()=>{o.wrapperEl.style.scrollSnapType="";o._swiperImmediateVirtual=false}))}}else{if(!o.support.smoothScroll){st({swiper:o,targetPosition:r,side:e?"left":"top"});return true}h.scrollTo({[e?"left":"top"]:r,behavior:"smooth"})}return true}o.setTransition(t);o.setTranslate(m);o.updateActiveIndex(a);o.updateSlidesClasses();o.emit("beforeTransitionStart",t,n);o.transitionStart(r,y);if(t===0){o.transitionEnd(r,y)}else if(!o.animating){o.animating=true;if(!o.onSlideToWrapperTransitionEnd){o.onSlideToWrapperTransitionEnd=function e(t){if(!o||o.destroyed)return;if(t.target!==this)return;o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd);o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd);o.onSlideToWrapperTransitionEnd=null;delete o.onSlideToWrapperTransitionEnd;o.transitionEnd(r,y)}}o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd);o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)}return true}function Vt(e,t,r,n){if(e===void 0){e=0}if(t===void 0){t=this.params.speed}if(r===void 0){r=true}if(typeof e==="string"){const t=parseInt(e,10);const r=isFinite(t);if(!r){throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`)}e=t}const i=this;let o=e;if(i.params.loop){o+=i.loopedSlides}return i.slideTo(o,t,r,n)}function Wt(e,t,r){if(e===void 0){e=this.params.speed}if(t===void 0){t=true}const n=this;const{animating:i,enabled:o,params:a}=n;if(!o)return n;let s=a.slidesPerGroup;if(a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto){s=Math.max(n.slidesPerViewDynamic("current",true),1)}const u=n.activeIndex<a.slidesPerGroupSkip?1:s;if(a.loop){if(i&&a.loopPreventsSlide)return false;n.loopFix();n._clientLeft=n.$wrapperEl[0].clientLeft}if(a.rewind&&n.isEnd){return n.slideTo(0,e,t,r)}return n.slideTo(n.activeIndex+u,e,t,r)}function zt(e,t,r){if(e===void 0){e=this.params.speed}if(t===void 0){t=true}const n=this;const{params:i,animating:o,snapGrid:a,slidesGrid:s,rtlTranslate:u,enabled:c}=n;if(!c)return n;if(i.loop){if(o&&i.loopPreventsSlide)return false;n.loopFix();n._clientLeft=n.$wrapperEl[0].clientLeft}const l=u?n.translate:-n.translate;function f(e){if(e<0)return-Math.floor(Math.abs(e));return Math.floor(e)}const d=f(l);const h=a.map((e=>f(e)));let p=a[h.indexOf(d)-1];if(typeof p==="undefined"&&i.cssMode){let e;a.forEach(((t,r)=>{if(d>=t){e=r}}));if(typeof e!=="undefined"){p=a[e>0?e-1:e]}}let v=0;if(typeof p!=="undefined"){v=s.indexOf(p);if(v<0)v=n.activeIndex-1;if(i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto){v=v-n.slidesPerViewDynamic("previous",true)+1;v=Math.max(v,0)}}if(i.rewind&&n.isBeginning){const i=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(i,e,t,r)}return n.slideTo(v,e,t,r)}function Gt(e,t,r){if(e===void 0){e=this.params.speed}if(t===void 0){t=true}const n=this;return n.slideTo(n.activeIndex,e,t,r)}function Yt(e,t,r,n){if(e===void 0){e=this.params.speed}if(t===void 0){t=true}if(n===void 0){n=.5}const i=this;let o=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,o);const s=a+Math.floor((o-a)/i.params.slidesPerGroup);const u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[s]){const e=i.snapGrid[s];const t=i.snapGrid[s+1];if(u-e>(t-e)*n){o+=i.params.slidesPerGroup}}else{const e=i.snapGrid[s-1];const t=i.snapGrid[s];if(u-e<=(t-e)*n){o-=i.params.slidesPerGroup}}o=Math.max(o,0);o=Math.min(o,i.slidesGrid.length-1);return i.slideTo(o,e,t,r)}function Kt(){const e=this;const{params:t,$wrapperEl:r}=e;const n=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let i=e.clickedIndex;let o;if(t.loop){if(e.animating)return;o=parseInt(Ze(e.clickedSlide).attr("data-swiper-slide-index"),10);if(t.centeredSlides){if(i<e.loopedSlides-n/2||i>e.slides.length-e.loopedSlides+n/2){e.loopFix();i=r.children(`.${t.slideClass}[data-swiper-slide-index="${o}"]:not(.${t.slideDuplicateClass})`).eq(0).index();Qe((()=>{e.slideTo(i)}))}else{e.slideTo(i)}}else if(i>e.slides.length-n){e.loopFix();i=r.children(`.${t.slideClass}[data-swiper-slide-index="${o}"]:not(.${t.slideDuplicateClass})`).eq(0).index();Qe((()=>{e.slideTo(i)}))}else{e.slideTo(i)}}else{e.slideTo(i)}}const qt={slideTo:Ht,slideToLoop:Vt,slideNext:Wt,slidePrev:zt,slideReset:Gt,slideToClosest:Yt,slideToClickedSlide:Kt};function $t(){const e=this;const t=a();const{params:r,$wrapperEl:n}=e;const i=n.children().length>0?Ze(n.children()[0].parentNode):n;i.children(`.${r.slideClass}.${r.slideDuplicateClass}`).remove();let o=i.children(`.${r.slideClass}`);if(r.loopFillGroupWithBlank){const e=r.slidesPerGroup-o.length%r.slidesPerGroup;if(e!==r.slidesPerGroup){for(let n=0;n<e;n+=1){const e=Ze(t.createElement("div")).addClass(`${r.slideClass} ${r.slideBlankClass}`);i.append(e)}o=i.children(`.${r.slideClass}`)}}if(r.slidesPerView==="auto"&&!r.loopedSlides)r.loopedSlides=o.length;e.loopedSlides=Math.ceil(parseFloat(r.loopedSlides||r.slidesPerView,10));e.loopedSlides+=r.loopAdditionalSlides;if(e.loopedSlides>o.length&&e.params.loopedSlidesLimit){e.loopedSlides=o.length}const s=[];const u=[];o.each(((e,t)=>{Ze(e).attr("data-swiper-slide-index",t)}));for(let t=0;t<e.loopedSlides;t+=1){const e=t-Math.floor(t/o.length)*o.length;u.push(o.eq(e)[0]);s.unshift(o.eq(o.length-e-1)[0])}for(let e=0;e<u.length;e+=1){i.append(Ze(u[e].cloneNode(true)).addClass(r.slideDuplicateClass))}for(let e=s.length-1;e>=0;e-=1){i.prepend(Ze(s[e].cloneNode(true)).addClass(r.slideDuplicateClass))}}function Jt(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:r,loopedSlides:n,allowSlidePrev:i,allowSlideNext:o,snapGrid:a,rtlTranslate:s}=e;let u;e.allowSlidePrev=true;e.allowSlideNext=true;const c=-a[t];const l=c-e.getTranslate();if(t<n){u=r.length-n*3+t;u+=n;const i=e.slideTo(u,0,false,true);if(i&&l!==0){e.setTranslate((s?-e.translate:e.translate)-l)}}else if(t>=r.length-n){u=-r.length+t+n;u+=n;const i=e.slideTo(u,0,false,true);if(i&&l!==0){e.setTranslate((s?-e.translate:e.translate)-l)}}e.allowSlidePrev=i;e.allowSlideNext=o;e.emit("loopFix")}function Zt(){const e=this;const{$wrapperEl:t,params:r,slides:n}=e;t.children(`.${r.slideClass}.${r.slideDuplicateClass},.${r.slideClass}.${r.slideBlankClass}`).remove();n.removeAttr("data-swiper-slide-index")}const Xt={loopCreate:$t,loopFix:Jt,loopDestroy:Zt};function Qt(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;r.style.cursor="move";r.style.cursor=e?"grabbing":"grab"}function er(){const e=this;if(e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode){return}e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor=""}const tr={setGrabCursor:Qt,unsetGrabCursor:er};function rr(e,t){if(t===void 0){t=this}function r(t){if(!t||t===a()||t===u())return null;if(t.assignedSlot)t=t.assignedSlot;const n=t.closest(e);if(!n&&!t.getRootNode){return null}return n||r(t.getRootNode().host)}return r(t)}function nr(e){const t=this;const r=a();const n=u();const i=t.touchEventsData;const{params:o,touches:s,enabled:c}=t;if(!c)return;if(t.animating&&o.preventInteractionOnTransition){return}if(!t.animating&&o.cssMode&&o.loop){t.loopFix()}let l=e;if(l.originalEvent)l=l.originalEvent;let f=Ze(l.target);if(o.touchEventsTarget==="wrapper"){if(!f.closest(t.wrapperEl).length)return}i.isTouchEvent=l.type==="touchstart";if(!i.isTouchEvent&&"which"in l&&l.which===3)return;if(!i.isTouchEvent&&"button"in l&&l.button>0)return;if(i.isTouched&&i.isMoved)return;const d=!!o.noSwipingClass&&o.noSwipingClass!=="";if(d&&l.target&&l.target.shadowRoot&&e.path&&e.path[0]){f=Ze(e.path[0])}const h=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`;const p=!!(l.target&&l.target.shadowRoot);if(o.noSwiping&&(p?rr(h,f[0]):f.closest(h)[0])){t.allowClick=true;return}if(o.swipeHandler){if(!f.closest(o.swipeHandler)[0])return}s.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX;s.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const v=s.currentX;const g=s.currentY;const m=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection;const y=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(m&&(v<=y||v>=n.innerWidth-y)){if(m==="prevent"){e.preventDefault()}else{return}}Object.assign(i,{isTouched:true,isMoved:false,allowTouchCallbacks:true,isScrolling:undefined,startMoving:undefined});s.startX=v;s.startY=g;i.touchStartTime=et();t.allowClick=true;t.updateSize();t.swipeDirection=undefined;if(o.threshold>0)i.allowThresholdMove=false;if(l.type!=="touchstart"){let e=true;if(f.is(i.focusableElements)){e=false;if(f[0].nodeName==="SELECT"){i.isTouched=false}}if(r.activeElement&&Ze(r.activeElement).is(i.focusableElements)&&r.activeElement!==f[0]){r.activeElement.blur()}const n=e&&t.allowTouchMove&&o.touchStartPreventDefault;if((o.touchStartForcePreventDefault||n)&&!f[0].isContentEditable){l.preventDefault()}}if(t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode){t.freeMode.onTouchStart()}t.emit("touchStart",l)}function ir(e){const t=a();const r=this;const n=r.touchEventsData;const{params:i,touches:o,rtlTranslate:s,enabled:u}=r;if(!u)return;let c=e;if(c.originalEvent)c=c.originalEvent;if(!n.isTouched){if(n.startMoving&&n.isScrolling){r.emit("touchMoveOpposite",c)}return}if(n.isTouchEvent&&c.type!=="touchmove")return;const l=c.type==="touchmove"&&c.targetTouches&&(c.targetTouches[0]||c.changedTouches[0]);const f=c.type==="touchmove"?l.pageX:c.pageX;const d=c.type==="touchmove"?l.pageY:c.pageY;if(c.preventedByNestedSwiper){o.startX=f;o.startY=d;return}if(!r.allowTouchMove){if(!Ze(c.target).is(n.focusableElements)){r.allowClick=false}if(n.isTouched){Object.assign(o,{startX:f,startY:d,currentX:f,currentY:d});n.touchStartTime=et()}return}if(n.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop){if(r.isVertical()){if(d<o.startY&&r.translate<=r.maxTranslate()||d>o.startY&&r.translate>=r.minTranslate()){n.isTouched=false;n.isMoved=false;return}}else if(f<o.startX&&r.translate<=r.maxTranslate()||f>o.startX&&r.translate>=r.minTranslate()){return}}if(n.isTouchEvent&&t.activeElement){if(c.target===t.activeElement&&Ze(c.target).is(n.focusableElements)){n.isMoved=true;r.allowClick=false;return}}if(n.allowTouchCallbacks){r.emit("touchMove",c)}if(c.targetTouches&&c.targetTouches.length>1)return;o.currentX=f;o.currentY=d;const h=o.currentX-o.startX;const p=o.currentY-o.startY;if(r.params.threshold&&Math.sqrt(h**2+p**2)<r.params.threshold)return;if(typeof n.isScrolling==="undefined"){let e;if(r.isHorizontal()&&o.currentY===o.startY||r.isVertical()&&o.currentX===o.startX){n.isScrolling=false}else{if(h*h+p*p>=25){e=Math.atan2(Math.abs(p),Math.abs(h))*180/Math.PI;n.isScrolling=r.isHorizontal()?e>i.touchAngle:90-e>i.touchAngle}}}if(n.isScrolling){r.emit("touchMoveOpposite",c)}if(typeof n.startMoving==="undefined"){if(o.currentX!==o.startX||o.currentY!==o.startY){n.startMoving=true}}if(n.isScrolling){n.isTouched=false;return}if(!n.startMoving){return}r.allowClick=false;if(!i.cssMode&&c.cancelable){c.preventDefault()}if(i.touchMoveStopPropagation&&!i.nested){c.stopPropagation()}if(!n.isMoved){if(i.loop&&!i.cssMode){r.loopFix()}n.startTranslate=r.getTranslate();r.setTransition(0);if(r.animating){r.$wrapperEl.trigger("webkitTransitionEnd transitionend")}n.allowMomentumBounce=false;if(i.grabCursor&&(r.allowSlideNext===true||r.allowSlidePrev===true)){r.setGrabCursor(true)}r.emit("sliderFirstMove",c)}r.emit("sliderMove",c);n.isMoved=true;let v=r.isHorizontal()?h:p;o.diff=v;v*=i.touchRatio;if(s)v=-v;r.swipeDirection=v>0?"prev":"next";n.currentTranslate=v+n.startTranslate;let g=true;let m=i.resistanceRatio;if(i.touchReleaseOnEdges){m=0}if(v>0&&n.currentTranslate>r.minTranslate()){g=false;if(i.resistance)n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+v)**m}else if(v<0&&n.currentTranslate<r.maxTranslate()){g=false;if(i.resistance)n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-v)**m}if(g){c.preventedByNestedSwiper=true}if(!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate){n.currentTranslate=n.startTranslate}if(!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate){n.currentTranslate=n.startTranslate}if(!r.allowSlidePrev&&!r.allowSlideNext){n.currentTranslate=n.startTranslate}if(i.threshold>0){if(Math.abs(v)>i.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=true;o.startX=o.currentX;o.startY=o.currentY;n.currentTranslate=n.startTranslate;o.diff=r.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{n.currentTranslate=n.startTranslate;return}}if(!i.followFinger||i.cssMode)return;if(i.freeMode&&i.freeMode.enabled&&r.freeMode||i.watchSlidesProgress){r.updateActiveIndex();r.updateSlidesClasses()}if(r.params.freeMode&&i.freeMode.enabled&&r.freeMode){r.freeMode.onTouchMove()}r.updateProgress(n.currentTranslate);r.setTranslate(n.currentTranslate)}function or(e){const t=this;const r=t.touchEventsData;const{params:n,touches:i,rtlTranslate:o,slidesGrid:a,enabled:s}=t;if(!s)return;let u=e;if(u.originalEvent)u=u.originalEvent;if(r.allowTouchCallbacks){t.emit("touchEnd",u)}r.allowTouchCallbacks=false;if(!r.isTouched){if(r.isMoved&&n.grabCursor){t.setGrabCursor(false)}r.isMoved=false;r.startMoving=false;return}if(n.grabCursor&&r.isMoved&&r.isTouched&&(t.allowSlideNext===true||t.allowSlidePrev===true)){t.setGrabCursor(false)}const c=et();const l=c-r.touchStartTime;if(t.allowClick){const e=u.path||u.composedPath&&u.composedPath();t.updateClickedSlide(e&&e[0]||u.target);t.emit("tap click",u);if(l<300&&c-r.lastClickTime<300){t.emit("doubleTap doubleClick",u)}}r.lastClickTime=et();Qe((()=>{if(!t.destroyed)t.allowClick=true}));if(!r.isTouched||!r.isMoved||!t.swipeDirection||i.diff===0||r.currentTranslate===r.startTranslate){r.isTouched=false;r.isMoved=false;r.startMoving=false;return}r.isTouched=false;r.isMoved=false;r.startMoving=false;let f;if(n.followFinger){f=o?t.translate:-t.translate}else{f=-r.currentTranslate}if(n.cssMode){return}if(t.params.freeMode&&n.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:f});return}let d=0;let h=t.slidesSizesGrid[0];for(let e=0;e<a.length;e+=e<n.slidesPerGroupSkip?1:n.slidesPerGroup){const t=e<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(typeof a[e+t]!=="undefined"){if(f>=a[e]&&f<a[e+t]){d=e;h=a[e+t]-a[e]}}else if(f>=a[e]){d=e;h=a[a.length-1]-a[a.length-2]}}let p=null;let v=null;if(n.rewind){if(t.isBeginning){v=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1}else if(t.isEnd){p=0}}const g=(f-a[d])/h;const m=d<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(l>n.longSwipesMs){if(!n.longSwipes){t.slideTo(t.activeIndex);return}if(t.swipeDirection==="next"){if(g>=n.longSwipesRatio)t.slideTo(n.rewind&&t.isEnd?p:d+m);else t.slideTo(d)}if(t.swipeDirection==="prev"){if(g>1-n.longSwipesRatio){t.slideTo(d+m)}else if(v!==null&&g<0&&Math.abs(g)>n.longSwipesRatio){t.slideTo(v)}else{t.slideTo(d)}}}else{if(!n.shortSwipes){t.slideTo(t.activeIndex);return}const e=t.navigation&&(u.target===t.navigation.nextEl||u.target===t.navigation.prevEl);if(!e){if(t.swipeDirection==="next"){t.slideTo(p!==null?p:d+m)}if(t.swipeDirection==="prev"){t.slideTo(v!==null?v:d)}}else if(u.target===t.navigation.nextEl){t.slideTo(d+m)}else{t.slideTo(d)}}}function ar(){const e=this;const{params:t,el:r}=e;if(r&&r.offsetWidth===0)return;if(t.breakpoints){e.setBreakpoint()}const{allowSlideNext:n,allowSlidePrev:i,snapGrid:o}=e;e.allowSlideNext=true;e.allowSlidePrev=true;e.updateSize();e.updateSlides();e.updateSlidesClasses();if((t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides){e.slideTo(e.slides.length-1,0,false,true)}else{e.slideTo(e.activeIndex,0,false,true)}if(e.autoplay&&e.autoplay.running&&e.autoplay.paused){e.autoplay.run()}e.allowSlidePrev=i;e.allowSlideNext=n;if(e.params.watchOverflow&&o!==e.snapGrid){e.checkOverflow()}}function sr(e){const t=this;if(!t.enabled)return;if(!t.allowClick){if(t.params.preventClicks)e.preventDefault();if(t.params.preventClicksPropagation&&t.animating){e.stopPropagation();e.stopImmediatePropagation()}}}function ur(){const e=this;const{wrapperEl:t,rtlTranslate:r,enabled:n}=e;if(!n)return;e.previousTranslate=e.translate;if(e.isHorizontal()){e.translate=-t.scrollLeft}else{e.translate=-t.scrollTop}if(e.translate===0)e.translate=0;e.updateActiveIndex();e.updateSlidesClasses();let i;const o=e.maxTranslate()-e.minTranslate();if(o===0){i=0}else{i=(e.translate-e.minTranslate())/o}if(i!==e.progress){e.updateProgress(r?-e.translate:e.translate)}e.emit("setTranslate",e.translate,false)}let cr=false;function lr(){}const fr=(e,t)=>{const r=a();const{params:n,touchEvents:i,el:o,wrapperEl:s,device:u,support:c}=e;const l=!!n.nested;const f=t==="on"?"addEventListener":"removeEventListener";const d=t;if(!c.touch){o[f](i.start,e.onTouchStart,false);r[f](i.move,e.onTouchMove,l);r[f](i.end,e.onTouchEnd,false)}else{const t=i.start==="touchstart"&&c.passiveListener&&n.passiveListeners?{passive:true,capture:false}:false;o[f](i.start,e.onTouchStart,t);o[f](i.move,e.onTouchMove,c.passiveListener?{passive:false,capture:l}:l);o[f](i.end,e.onTouchEnd,t);if(i.cancel){o[f](i.cancel,e.onTouchEnd,t)}}if(n.preventClicks||n.preventClicksPropagation){o[f]("click",e.onClick,true)}if(n.cssMode){s[f]("scroll",e.onScroll)}if(n.updateOnWindowResize){e[d](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",ar,true)}else{e[d]("observerUpdate",ar,true)}};function dr(){const e=this;const t=a();const{params:r,support:n}=e;e.onTouchStart=nr.bind(e);e.onTouchMove=ir.bind(e);e.onTouchEnd=or.bind(e);if(r.cssMode){e.onScroll=ur.bind(e)}e.onClick=sr.bind(e);if(n.touch&&!cr){t.addEventListener("touchstart",lr);cr=true}fr(e,"on")}function hr(){const e=this;fr(e,"off")}const pr={attachEvents:dr,detachEvents:hr};const vr=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function gr(){const e=this;const{activeIndex:t,initialized:r,loopedSlides:n=0,params:i,$el:o}=e;const a=i.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const s=e.getBreakpoint(a,e.params.breakpointsBase,e.el);if(!s||e.currentBreakpoint===s)return;const u=s in a?a[s]:undefined;const c=u||e.originalParams;const l=vr(e,i);const f=vr(e,c);const d=i.enabled;if(l&&!f){o.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`);e.emitContainerClasses()}else if(!l&&f){o.addClass(`${i.containerModifierClass}grid`);if(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&i.grid.fill==="column"){o.addClass(`${i.containerModifierClass}grid-column`)}e.emitContainerClasses()}["navigation","pagination","scrollbar"].forEach((t=>{const r=i[t]&&i[t].enabled;const n=c[t]&&c[t].enabled;if(r&&!n){e[t].disable()}if(!r&&n){e[t].enable()}}));const h=c.direction&&c.direction!==i.direction;const p=i.loop&&(c.slidesPerView!==i.slidesPerView||h);if(h&&r){e.changeDirection()}ot(e.params,c);const v=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev});if(d&&!v){e.disable()}else if(!d&&v){e.enable()}e.currentBreakpoint=s;e.emit("_beforeBreakpoint",c);if(p&&r){e.loopDestroy();e.loopCreate();e.updateSlides();e.slideTo(t-n+e.loopedSlides,0,false)}e.emit("breakpoint",c)}function mr(e,t,r){if(t===void 0){t="window"}if(!e||t==="container"&&!r)return undefined;let n=false;const i=u();const o=t==="window"?i.innerHeight:r.clientHeight;const a=Object.keys(e).map((e=>{if(typeof e==="string"&&e.indexOf("@")===0){const t=parseFloat(e.substr(1));const r=o*t;return{value:r,point:e}}return{value:e,point:e}}));a.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<a.length;e+=1){const{point:o,value:s}=a[e];if(t==="window"){if(i.matchMedia(`(min-width: ${s}px)`).matches){n=o}}else if(s<=r.clientWidth){n=o}}return n||"max"}const yr={setBreakpoint:gr,getBreakpoint:mr};function _r(e,t){const r=[];e.forEach((e=>{if(typeof e==="object"){Object.keys(e).forEach((n=>{if(e[n]){r.push(t+n)}}))}else if(typeof e==="string"){r.push(t+e)}}));return r}function br(){const e=this;const{classNames:t,params:r,rtl:n,$el:i,device:o,support:a}=e;const s=_r(["initialized",r.direction,{"pointer-events":!a.touch},{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...s);i.addClass([...t].join(" "));e.emitContainerClasses()}function Er(){const e=this;const{$el:t,classNames:r}=e;t.removeClass(r.join(" "));e.emitContainerClasses()}const Sr={addClasses:br,removeClasses:Er};function wr(e,t,r,n,i,o){const a=u();let s;function c(){if(o)o()}const l=Ze(e).parent("picture")[0];if(!l&&(!e.complete||!i)){if(t){s=new a.Image;s.onload=c;s.onerror=c;if(n){s.sizes=n}if(r){s.srcset=r}if(t){s.src=t}}else{c()}}else{c()}}function Tr(){const e=this;e.imagesToLoad=e.$el.find("img");function t(){if(typeof e==="undefined"||e===null||!e||e.destroyed)return;if(e.imagesLoaded!==undefined)e.imagesLoaded+=1;if(e.imagesLoaded===e.imagesToLoad.length){if(e.params.updateOnImagesReady)e.update();e.emit("imagesReady")}}for(let r=0;r<e.imagesToLoad.length;r+=1){const n=e.imagesToLoad[r];e.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),true,t)}}const Cr={loadImage:wr,preloadImages:Tr};function Ar(){const e=this;const{isLocked:t,params:r}=e;const{slidesOffsetBefore:n}=r;if(n){const t=e.slides.length-1;const r=e.slidesGrid[t]+e.slidesSizesGrid[t]+n*2;e.isLocked=e.size>r}else{e.isLocked=e.snapGrid.length===1}if(r.allowSlideNext===true){e.allowSlideNext=!e.isLocked}if(r.allowSlidePrev===true){e.allowSlidePrev=!e.isLocked}if(t&&t!==e.isLocked){e.isEnd=false}if(t!==e.isLocked){e.emit(e.isLocked?"lock":"unlock")}}const Rr={checkOverflow:Ar};const Ir={init:true,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:false,updateOnWindowResize:true,resizeObserver:true,nested:false,createElements:false,enabled:true,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:false,userAgent:null,url:null,edgeSwipeDetection:false,edgeSwipeThreshold:20,autoHeight:false,setWrapperSize:false,virtualTranslate:false,effect:"slide",breakpoints:undefined,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:false,centeredSlides:false,centeredSlidesBounds:false,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:true,centerInsufficientSlides:false,watchOverflow:true,roundLengths:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,allowTouchMove:true,threshold:0,touchMoveStopPropagation:false,touchStartPreventDefault:true,touchStartForcePreventDefault:false,touchReleaseOnEdges:false,uniqueNavElements:true,resistance:true,resistanceRatio:.85,watchSlidesProgress:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:true,loopFillGroupWithBlank:false,loopPreventsSlide:true,rewind:false,allowSlidePrev:true,allowSlideNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:true,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:true,_emitClasses:false};function kr(e,t){return function r(n){if(n===void 0){n={}}const i=Object.keys(n)[0];const o=n[i];if(typeof o!=="object"||o===null){ot(t,n);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&e[i]===true){e[i]={auto:true}}if(!(i in e&&"enabled"in o)){ot(t,n);return}if(e[i]===true){e[i]={enabled:true}}if(typeof e[i]==="object"&&!("enabled"in e[i])){e[i].enabled=true}if(!e[i])e[i]={enabled:false};ot(t,n)}}const Or={eventsEmitter:_t,update:kt,translate:Dt,transition:Ft,slide:qt,loop:Xt,grabCursor:tr,events:pr,breakpoints:yr,checkOverflow:Rr,classes:Sr,images:Cr};const Pr={};class Mr{constructor(){let e;let t;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}if(n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"){t=n[0]}else{[e,t]=n}if(!t)t={};t=ot({},t);if(e&&!t.el)t.el=e;if(t.el&&Ze(t.el).length>1){const e=[];Ze(t.el).each((r=>{const n=ot({},t,{el:r});e.push(new Mr(n))}));return e}const o=this;o.__swiper__=true;o.support=lt();o.device=ht({userAgent:t.userAgent});o.browser=gt();o.eventsListeners={};o.eventsAnyListeners=[];o.modules=[...o.__modules__];if(t.modules&&Array.isArray(t.modules)){o.modules.push(...t.modules)}const a={};o.modules.forEach((e=>{e({swiper:o,extendParams:kr(t,a),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const s=ot({},Ir,a);o.params=ot({},s,Pr,t);o.originalParams=ot({},o.params);o.passedParams=ot({},t);if(o.params&&o.params.on){Object.keys(o.params.on).forEach((e=>{o.on(e,o.params.on[e])}))}if(o.params&&o.params.onAny){o.onAny(o.params.onAny)}o.$=Ze;Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:Ze(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:true,isEnd:false,translate:0,previousTranslate:0,progress:0,velocity:0,animating:false,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEvents:function e(){const t=["touchstart","touchmove","touchend","touchcancel"];const r=["pointerdown","pointermove","pointerup"];o.touchEventsTouch={start:t[0],move:t[1],end:t[2],cancel:t[3]};o.touchEventsDesktop={start:r[0],move:r[1],end:r[2]};return o.support.touch||!o.params.simulateTouch?o.touchEventsTouch:o.touchEventsDesktop}(),touchEventsData:{isTouched:undefined,isMoved:undefined,allowTouchCallbacks:undefined,touchStartTime:undefined,isScrolling:undefined,currentTranslate:undefined,startTranslate:undefined,allowThresholdMove:undefined,focusableElements:o.params.focusableElements,lastClickTime:et(),clickTimeout:undefined,velocities:[],allowMomentumBounce:undefined,isTouchEvent:undefined,startMoving:undefined},allowClick:true,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0});o.emit("_swiper");if(o.params.init){o.init()}return o}enable(){const e=this;if(e.enabled)return;e.enabled=true;if(e.params.grabCursor){e.setGrabCursor()}e.emit("enable")}disable(){const e=this;if(!e.enabled)return;e.enabled=false;if(e.params.grabCursor){e.unsetGrabCursor()}e.emit("disable")}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const n=r.minTranslate();const i=r.maxTranslate();const o=(i-n)*e+n;r.translateTo(o,typeof t==="undefined"?0:t);r.updateActiveIndex();r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>t.indexOf("swiper")===0||t.indexOf(e.params.containerModifierClass)===0));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;if(t.destroyed)return"";return e.className.split(" ").filter((e=>e.indexOf("swiper-slide")===0||e.indexOf(t.params.slideClass)===0)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((r=>{const n=e.getSlideClasses(r);t.push({slideEl:r,classNames:n});e.emit("_slideClass",r,n)}));e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){if(e===void 0){e="current"}if(t===void 0){t=false}const r=this;const{params:n,slides:i,slidesGrid:o,slidesSizesGrid:a,size:s,activeIndex:u}=r;let c=1;if(n.centeredSlides){let e=i[u].swiperSlideSize;let t;for(let r=u+1;r<i.length;r+=1){if(i[r]&&!t){e+=i[r].swiperSlideSize;c+=1;if(e>s)t=true}}for(let r=u-1;r>=0;r-=1){if(i[r]&&!t){e+=i[r].swiperSlideSize;c+=1;if(e>s)t=true}}}else{if(e==="current"){for(let e=u+1;e<i.length;e+=1){const r=t?o[e]+a[e]-o[u]<s:o[e]-o[u]<s;if(r){c+=1}}}else{for(let e=u-1;e>=0;e-=1){const t=o[u]-o[e]<s;if(t){c+=1}}}}return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;if(r.breakpoints){e.setBreakpoint()}e.updateSize();e.updateSlides();e.updateProgress();e.updateSlidesClasses();function n(){const t=e.rtlTranslate?e.translate*-1:e.translate;const r=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(r);e.updateActiveIndex();e.updateSlidesClasses()}let i;if(e.params.freeMode&&e.params.freeMode.enabled){n();if(e.params.autoHeight){e.updateAutoHeight()}}else{if((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides){i=e.slideTo(e.slides.length-1,0,false,true)}else{i=e.slideTo(e.activeIndex,0,false,true)}if(!i){n()}}if(r.watchOverflow&&t!==e.snapGrid){e.checkOverflow()}e.emit("update")}changeDirection(e,t){if(t===void 0){t=true}const r=this;const n=r.params.direction;if(!e){e=n==="horizontal"?"vertical":"horizontal"}if(e===n||e!=="horizontal"&&e!=="vertical"){return r}r.$el.removeClass(`${r.params.containerModifierClass}${n}`).addClass(`${r.params.containerModifierClass}${e}`);r.emitContainerClasses();r.params.direction=e;r.slides.each((t=>{if(e==="vertical"){t.style.width=""}else{t.style.height=""}}));r.emit("changeDirection");if(t)r.update();return r}changeLanguageDirection(e){const t=this;if(t.rtl&&e==="rtl"||!t.rtl&&e==="ltr")return;t.rtl=e==="rtl";t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl;if(t.rtl){t.$el.addClass(`${t.params.containerModifierClass}rtl`);t.el.dir="rtl"}else{t.$el.removeClass(`${t.params.containerModifierClass}rtl`);t.el.dir="ltr"}t.update()}mount(e){const t=this;if(t.mounted)return true;const r=Ze(e||t.params.el);e=r[0];if(!e){return false}e.swiper=t;const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;const i=()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=Ze(e.shadowRoot.querySelector(n()));t.children=e=>r.children(e);return t}if(!r.children){return Ze(r).children(n())}return r.children(n())};let o=i();if(o.length===0&&t.params.createElements){const e=a();const n=e.createElement("div");o=Ze(n);n.className=t.params.wrapperClass;r.append(n);r.children(`.${t.params.slideClass}`).each((e=>{o.append(e)}))}Object.assign(t,{$el:r,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:true,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"});return true}init(e){const t=this;if(t.initialized)return t;const r=t.mount(e);if(r===false)return t;t.emit("beforeInit");if(t.params.breakpoints){t.setBreakpoint()}t.addClasses();if(t.params.loop){t.loopCreate()}t.updateSize();t.updateSlides();if(t.params.watchOverflow){t.checkOverflow()}if(t.params.grabCursor&&t.enabled){t.setGrabCursor()}if(t.params.preloadImages){t.preloadImages()}if(t.params.loop){t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,false,true)}else{t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,false,true)}t.attachEvents();t.initialized=true;t.emit("init");t.emit("afterInit");return t}destroy(e,t){if(e===void 0){e=true}if(t===void 0){t=true}const r=this;const{params:n,$el:i,$wrapperEl:o,slides:a}=r;if(typeof r.params==="undefined"||r.destroyed){return null}r.emit("beforeDestroy");r.initialized=false;r.detachEvents();if(n.loop){r.loopDestroy()}if(t){r.removeClasses();i.removeAttr("style");o.removeAttr("style");if(a&&a.length){a.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")}}r.emit("destroy");Object.keys(r.eventsListeners).forEach((e=>{r.off(e)}));if(e!==false){r.$el[0].swiper=null;Xe(r)}r.destroyed=true;return null}static extendDefaults(e){ot(Pr,e)}static get extendedDefaults(){return Pr}static get defaults(){return Ir}static installModule(e){if(!Mr.prototype.__modules__)Mr.prototype.__modules__=[];const t=Mr.prototype.__modules__;if(typeof e==="function"&&t.indexOf(e)<0){t.push(e)}}static use(e){if(Array.isArray(e)){e.forEach((e=>Mr.installModule(e)));return Mr}Mr.installModule(e);return Mr}}Object.keys(Or).forEach((e=>{Object.keys(Or[e]).forEach((t=>{Mr.prototype[t]=Or[e][t]}))}));Mr.use([mt,yt]);const xr=Mr;function Lr(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;r({virtual:{enabled:false,slides:[],cache:true,renderSlide:null,renderExternal:null,renderExternalUpdate:true,addSlidesBefore:0,addSlidesAfter:0}});let o;t.virtual={cache:{},from:undefined,to:undefined,slides:[],offset:0,slidesGrid:[]};function a(e,r){const n=t.params.virtual;if(n.cache&&t.virtual.cache[r]){return t.virtual.cache[r]}const i=n.renderSlide?Ze(n.renderSlide.call(t,e,r)):Ze(`<div class="${t.params.slideClass}" data-swiper-slide-index="${r}">${e}</div>`);if(!i.attr("data-swiper-slide-index"))i.attr("data-swiper-slide-index",r);if(n.cache)t.virtual.cache[r]=i;return i}function s(e){const{slidesPerView:r,slidesPerGroup:n,centeredSlides:o}=t.params;const{addSlidesBefore:s,addSlidesAfter:u}=t.params.virtual;const{from:c,to:l,slides:f,slidesGrid:d,offset:h}=t.virtual;if(!t.params.cssMode){t.updateActiveIndex()}const p=t.activeIndex||0;let v;if(t.rtlTranslate)v="right";else v=t.isHorizontal()?"left":"top";let g;let m;if(o){g=Math.floor(r/2)+n+u;m=Math.floor(r/2)+n+s}else{g=r+(n-1)+u;m=n+s}const y=Math.max((p||0)-m,0);const _=Math.min((p||0)+g,f.length-1);const b=(t.slidesGrid[y]||0)-(t.slidesGrid[0]||0);Object.assign(t.virtual,{from:y,to:_,offset:b,slidesGrid:t.slidesGrid});function E(){t.updateSlides();t.updateProgress();t.updateSlidesClasses();if(t.lazy&&t.params.lazy.enabled){t.lazy.load()}i("virtualUpdate")}if(c===y&&l===_&&!e){if(t.slidesGrid!==d&&b!==h){t.slides.css(v,`${b}px`)}t.updateProgress();i("virtualUpdate");return}if(t.params.virtual.renderExternal){t.params.virtual.renderExternal.call(t,{offset:b,from:y,to:_,slides:function e(){const t=[];for(let e=y;e<=_;e+=1){t.push(f[e])}return t}()});if(t.params.virtual.renderExternalUpdate){E()}else{i("virtualUpdate")}return}const S=[];const w=[];if(e){t.$wrapperEl.find(`.${t.params.slideClass}`).remove()}else{for(let e=c;e<=l;e+=1){if(e<y||e>_){t.$wrapperEl.find(`.${t.params.slideClass}[data-swiper-slide-index="${e}"]`).remove()}}}for(let t=0;t<f.length;t+=1){if(t>=y&&t<=_){if(typeof l==="undefined"||e){w.push(t)}else{if(t>l)w.push(t);if(t<c)S.push(t)}}}w.forEach((e=>{t.$wrapperEl.append(a(f[e],e))}));S.sort(((e,t)=>t-e)).forEach((e=>{t.$wrapperEl.prepend(a(f[e],e))}));t.$wrapperEl.children(".swiper-slide").css(v,`${b}px`);E()}function u(e){if(typeof e==="object"&&"length"in e){for(let r=0;r<e.length;r+=1){if(e[r])t.virtual.slides.push(e[r])}}else{t.virtual.slides.push(e)}s(true)}function c(e){const r=t.activeIndex;let n=r+1;let i=1;if(Array.isArray(e)){for(let r=0;r<e.length;r+=1){if(e[r])t.virtual.slides.unshift(e[r])}n=r+e.length;i=e.length}else{t.virtual.slides.unshift(e)}if(t.params.virtual.cache){const e=t.virtual.cache;const r={};Object.keys(e).forEach((t=>{const n=e[t];const o=n.attr("data-swiper-slide-index");if(o){n.attr("data-swiper-slide-index",parseInt(o,10)+i)}r[parseInt(t,10)+i]=n}));t.virtual.cache=r}s(true);t.slideTo(n,0)}function l(e){if(typeof e==="undefined"||e===null)return;let r=t.activeIndex;if(Array.isArray(e)){for(let n=e.length-1;n>=0;n-=1){t.virtual.slides.splice(e[n],1);if(t.params.virtual.cache){delete t.virtual.cache[e[n]]}if(e[n]<r)r-=1;r=Math.max(r,0)}}else{t.virtual.slides.splice(e,1);if(t.params.virtual.cache){delete t.virtual.cache[e]}if(e<r)r-=1;r=Math.max(r,0)}s(true);t.slideTo(r,0)}function f(){t.virtual.slides=[];if(t.params.virtual.cache){t.virtual.cache={}}s(true);t.slideTo(0,0)}n("beforeInit",(()=>{if(!t.params.virtual.enabled)return;t.virtual.slides=t.params.virtual.slides;t.classNames.push(`${t.params.containerModifierClass}virtual`);t.params.watchSlidesProgress=true;t.originalParams.watchSlidesProgress=true;if(!t.params.initialSlide){s()}}));n("setTranslate",(()=>{if(!t.params.virtual.enabled)return;if(t.params.cssMode&&!t._immediateVirtual){clearTimeout(o);o=setTimeout((()=>{s()}),100)}else{s()}}));n("init update resize",(()=>{if(!t.params.virtual.enabled)return;if(t.params.cssMode){at(t.wrapperEl,"--swiper-virtual-size",`${t.virtualSize}px`)}}));Object.assign(t.virtual,{appendSlide:u,prependSlide:c,removeSlide:l,removeAllSlides:f,update:s})}function Dr(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;const o=a();const s=u();t.keyboard={enabled:false};r({keyboard:{enabled:false,onlyInViewport:true,pageUpDown:true}});function c(e){if(!t.enabled)return;const{rtlTranslate:r}=t;let n=e;if(n.originalEvent)n=n.originalEvent;const a=n.keyCode||n.charCode;const u=t.params.keyboard.pageUpDown;const c=u&&a===33;const l=u&&a===34;const f=a===37;const d=a===39;const h=a===38;const p=a===40;if(!t.allowSlideNext&&(t.isHorizontal()&&d||t.isVertical()&&p||l)){return false}if(!t.allowSlidePrev&&(t.isHorizontal()&&f||t.isVertical()&&h||c)){return false}if(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey){return undefined}if(o.activeElement&&o.activeElement.nodeName&&(o.activeElement.nodeName.toLowerCase()==="input"||o.activeElement.nodeName.toLowerCase()==="textarea")){return undefined}if(t.params.keyboard.onlyInViewport&&(c||l||f||d||h||p)){let e=false;if(t.$el.parents(`.${t.params.slideClass}`).length>0&&t.$el.parents(`.${t.params.slideActiveClass}`).length===0){return undefined}const n=t.$el;const i=n[0].clientWidth;const o=n[0].clientHeight;const a=s.innerWidth;const u=s.innerHeight;const c=t.$el.offset();if(r)c.left-=t.$el[0].scrollLeft;const l=[[c.left,c.top],[c.left+i,c.top],[c.left,c.top+o],[c.left+i,c.top+o]];for(let t=0;t<l.length;t+=1){const r=l[t];if(r[0]>=0&&r[0]<=a&&r[1]>=0&&r[1]<=u){if(r[0]===0&&r[1]===0)continue;e=true}}if(!e)return undefined}if(t.isHorizontal()){if(c||l||f||d){if(n.preventDefault)n.preventDefault();else n.returnValue=false}if((l||d)&&!r||(c||f)&&r)t.slideNext();if((c||f)&&!r||(l||d)&&r)t.slidePrev()}else{if(c||l||h||p){if(n.preventDefault)n.preventDefault();else n.returnValue=false}if(l||p)t.slideNext();if(c||h)t.slidePrev()}i("keyPress",a);return undefined}function l(){if(t.keyboard.enabled)return;Ze(o).on("keydown",c);t.keyboard.enabled=true}function f(){if(!t.keyboard.enabled)return;Ze(o).off("keydown",c);t.keyboard.enabled=false}n("init",(()=>{if(t.params.keyboard.enabled){l()}}));n("destroy",(()=>{if(t.keyboard.enabled){f()}}));Object.assign(t.keyboard,{enable:l,disable:f})}function Nr(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;const o=u();r({mousewheel:{enabled:false,releaseOnEdges:false,invert:false,forceToAxis:false,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}});t.mousewheel={enabled:false};let a;let s=et();let c;const l=[];function f(e){const t=10;const r=40;const n=800;let i=0;let o=0;let a=0;let s=0;if("detail"in e){o=e.detail}if("wheelDelta"in e){o=-e.wheelDelta/120}if("wheelDeltaY"in e){o=-e.wheelDeltaY/120}if("wheelDeltaX"in e){i=-e.wheelDeltaX/120}if("axis"in e&&e.axis===e.HORIZONTAL_AXIS){i=o;o=0}a=i*t;s=o*t;if("deltaY"in e){s=e.deltaY}if("deltaX"in e){a=e.deltaX}if(e.shiftKey&&!a){a=s;s=0}if((a||s)&&e.deltaMode){if(e.deltaMode===1){a*=r;s*=r}else{a*=n;s*=n}}if(a&&!i){i=a<1?-1:1}if(s&&!o){o=s<1?-1:1}return{spinX:i,spinY:o,pixelX:a,pixelY:s}}function d(){if(!t.enabled)return;t.mouseEntered=true}function h(){if(!t.enabled)return;t.mouseEntered=false}function p(e){if(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta){return false}if(t.params.mousewheel.thresholdTime&&et()-s<t.params.mousewheel.thresholdTime){return false}if(e.delta>=6&&et()-s<60){return true}if(e.direction<0){if((!t.isEnd||t.params.loop)&&!t.animating){t.slideNext();i("scroll",e.raw)}}else if((!t.isBeginning||t.params.loop)&&!t.animating){t.slidePrev();i("scroll",e.raw)}s=(new o.Date).getTime();return false}function v(e){const r=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&r.releaseOnEdges){return true}}else if(t.isBeginning&&!t.params.loop&&r.releaseOnEdges){return true}return false}function g(e){let r=e;let n=true;if(!t.enabled)return;const o=t.params.mousewheel;if(t.params.cssMode){r.preventDefault()}let s=t.$el;if(t.params.mousewheel.eventsTarget!=="container"){s=Ze(t.params.mousewheel.eventsTarget)}if(!t.mouseEntered&&!s[0].contains(r.target)&&!o.releaseOnEdges)return true;if(r.originalEvent)r=r.originalEvent;let u=0;const d=t.rtlTranslate?-1:1;const h=f(r);if(o.forceToAxis){if(t.isHorizontal()){if(Math.abs(h.pixelX)>Math.abs(h.pixelY))u=-h.pixelX*d;else return true}else if(Math.abs(h.pixelY)>Math.abs(h.pixelX))u=-h.pixelY;else return true}else{u=Math.abs(h.pixelX)>Math.abs(h.pixelY)?-h.pixelX*d:-h.pixelY}if(u===0)return true;if(o.invert)u=-u;let g=t.getTranslate()+u*o.sensitivity;if(g>=t.minTranslate())g=t.minTranslate();if(g<=t.maxTranslate())g=t.maxTranslate();n=t.params.loop?true:!(g===t.minTranslate()||g===t.maxTranslate());if(n&&t.params.nested)r.stopPropagation();if(!t.params.freeMode||!t.params.freeMode.enabled){const t={time:et(),delta:Math.abs(u),direction:Math.sign(u),raw:e};if(l.length>=2){l.shift()}const r=l.length?l[l.length-1]:undefined;l.push(t);if(r){if(t.direction!==r.direction||t.delta>r.delta||t.time>r.time+150){p(t)}}else{p(t)}if(v(t)){return true}}else{const e={time:et(),delta:Math.abs(u),direction:Math.sign(u)};const n=c&&e.time<c.time+500&&e.delta<=c.delta&&e.direction===c.direction;if(!n){c=undefined;if(t.params.loop){t.loopFix()}let s=t.getTranslate()+u*o.sensitivity;const f=t.isBeginning;const d=t.isEnd;if(s>=t.minTranslate())s=t.minTranslate();if(s<=t.maxTranslate())s=t.maxTranslate();t.setTransition(0);t.setTranslate(s);t.updateProgress();t.updateActiveIndex();t.updateSlidesClasses();if(!f&&t.isBeginning||!d&&t.isEnd){t.updateSlidesClasses()}if(t.params.freeMode.sticky){clearTimeout(a);a=undefined;if(l.length>=15){l.shift()}const r=l.length?l[l.length-1]:undefined;const n=l[0];l.push(e);if(r&&(e.delta>r.delta||e.direction!==r.direction)){l.splice(0)}else if(l.length>=15&&e.time-n.time<500&&n.delta-e.delta>=1&&e.delta<=6){const r=u>0?.8:.2;c=e;l.splice(0);a=Qe((()=>{t.slideToClosest(t.params.speed,true,undefined,r)}),0)}if(!a){a=Qe((()=>{const r=.5;c=e;l.splice(0);t.slideToClosest(t.params.speed,true,undefined,r)}),500)}}if(!n)i("scroll",r);if(t.params.autoplay&&t.params.autoplayDisableOnInteraction)t.autoplay.stop();if(s===t.minTranslate()||s===t.maxTranslate())return true}}if(r.preventDefault)r.preventDefault();else r.returnValue=false;return false}function m(e){let r=t.$el;if(t.params.mousewheel.eventsTarget!=="container"){r=Ze(t.params.mousewheel.eventsTarget)}r[e]("mouseenter",d);r[e]("mouseleave",h);r[e]("wheel",g)}function y(){if(t.params.cssMode){t.wrapperEl.removeEventListener("wheel",g);return true}if(t.mousewheel.enabled)return false;m("on");t.mousewheel.enabled=true;return true}function _(){if(t.params.cssMode){t.wrapperEl.addEventListener(event,g);return true}if(!t.mousewheel.enabled)return false;m("off");t.mousewheel.enabled=false;return true}n("init",(()=>{if(!t.params.mousewheel.enabled&&t.params.cssMode){_()}if(t.params.mousewheel.enabled)y()}));n("destroy",(()=>{if(t.params.cssMode){y()}if(t.mousewheel.enabled)_()}));Object.assign(t.mousewheel,{enable:y,disable:_})}function jr(e,t,r,n){const i=a();if(e.params.createElements){Object.keys(n).forEach((o=>{if(!r[o]&&r.auto===true){let a=e.$el.children(`.${n[o]}`)[0];if(!a){a=i.createElement("div");a.className=n[o];e.$el.append(a)}r[o]=a;t[o]=a}}))}return r}function Ur(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;r({navigation:{nextEl:null,prevEl:null,hideOnClick:false,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}});t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function o(e){let r;if(e){r=Ze(e);if(t.params.uniqueNavElements&&typeof e==="string"&&r.length>1&&t.$el.find(e).length===1){r=t.$el.find(e)}}return r}function a(e,r){const n=t.params.navigation;if(e&&e.length>0){e[r?"addClass":"removeClass"](n.disabledClass);if(e[0]&&e[0].tagName==="BUTTON")e[0].disabled=r;if(t.params.watchOverflow&&t.enabled){e[t.isLocked?"addClass":"removeClass"](n.lockClass)}}}function s(){if(t.params.loop)return;const{$nextEl:e,$prevEl:r}=t.navigation;a(r,t.isBeginning&&!t.params.rewind);a(e,t.isEnd&&!t.params.rewind)}function u(e){e.preventDefault();if(t.isBeginning&&!t.params.loop&&!t.params.rewind)return;t.slidePrev();i("navigationPrev")}function c(e){e.preventDefault();if(t.isEnd&&!t.params.loop&&!t.params.rewind)return;t.slideNext();i("navigationNext")}function l(){const e=t.params.navigation;t.params.navigation=jr(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"});if(!(e.nextEl||e.prevEl))return;const r=o(e.nextEl);const n=o(e.prevEl);if(r&&r.length>0){r.on("click",c)}if(n&&n.length>0){n.on("click",u)}Object.assign(t.navigation,{$nextEl:r,nextEl:r&&r[0],$prevEl:n,prevEl:n&&n[0]});if(!t.enabled){if(r)r.addClass(e.lockClass);if(n)n.addClass(e.lockClass)}}function f(){const{$nextEl:e,$prevEl:r}=t.navigation;if(e&&e.length){e.off("click",c);e.removeClass(t.params.navigation.disabledClass)}if(r&&r.length){r.off("click",u);r.removeClass(t.params.navigation.disabledClass)}}n("init",(()=>{if(t.params.navigation.enabled===false){h()}else{l();s()}}));n("toEdge fromEdge lock unlock",(()=>{s()}));n("destroy",(()=>{f()}));n("enable disable",(()=>{const{$nextEl:e,$prevEl:r}=t.navigation;if(e){e[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}if(r){r[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}}));n("click",((e,r)=>{const{$nextEl:n,$prevEl:o}=t.navigation;const a=r.target;if(t.params.navigation.hideOnClick&&!Ze(a).is(o)&&!Ze(a).is(n)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===a||t.pagination.el.contains(a)))return;let e;if(n){e=n.hasClass(t.params.navigation.hiddenClass)}else if(o){e=o.hasClass(t.params.navigation.hiddenClass)}if(e===true){i("navigationShow")}else{i("navigationHide")}if(n){n.toggleClass(t.params.navigation.hiddenClass)}if(o){o.toggleClass(t.params.navigation.hiddenClass)}}}));const d=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass);l();s()};const h=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass);f()};Object.assign(t.navigation,{enable:d,disable:h,update:s,init:l,destroy:f})}function Br(e){if(e===void 0){e=""}return`.${e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Fr(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;const o="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:false,hideOnClick:false,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:false,type:"bullets",dynamicBullets:false,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}});t.pagination={el:null,$el:null,bullets:[]};let a;let s=0;function u(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function c(e,r){const{bulletActiveClass:n}=t.params.pagination;e[r]().addClass(`${n}-${r}`)[r]().addClass(`${n}-${r}-${r}`)}function l(){const e=t.rtl;const r=t.params.pagination;if(u())return;const n=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length;const o=t.pagination.$el;let l;const f=t.params.loop?Math.ceil((n-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop){l=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup);if(l>n-1-t.loopedSlides*2){l-=n-t.loopedSlides*2}if(l>f-1)l-=f;if(l<0&&t.params.paginationType!=="bullets")l=f+l}else if(typeof t.snapIndex!=="undefined"){l=t.snapIndex}else{l=t.activeIndex||0}if(r.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const n=t.pagination.bullets;let i;let u;let f;if(r.dynamicBullets){a=n.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](true);o.css(t.isHorizontal()?"width":"height",`${a*(r.dynamicMainBullets+4)}px`);if(r.dynamicMainBullets>1&&t.previousIndex!==undefined){s+=l-(t.previousIndex-t.loopedSlides||0);if(s>r.dynamicMainBullets-1){s=r.dynamicMainBullets-1}else if(s<0){s=0}}i=Math.max(l-s,0);u=i+(Math.min(n.length,r.dynamicMainBullets)-1);f=(u+i)/2}n.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${r.bulletActiveClass}${e}`)).join(" "));if(o.length>1){n.each((e=>{const t=Ze(e);const n=t.index();if(n===l){t.addClass(r.bulletActiveClass)}if(r.dynamicBullets){if(n>=i&&n<=u){t.addClass(`${r.bulletActiveClass}-main`)}if(n===i){c(t,"prev")}if(n===u){c(t,"next")}}}))}else{const e=n.eq(l);const o=e.index();e.addClass(r.bulletActiveClass);if(r.dynamicBullets){const e=n.eq(i);const a=n.eq(u);for(let e=i;e<=u;e+=1){n.eq(e).addClass(`${r.bulletActiveClass}-main`)}if(t.params.loop){if(o>=n.length){for(let e=r.dynamicMainBullets;e>=0;e-=1){n.eq(n.length-e).addClass(`${r.bulletActiveClass}-main`)}n.eq(n.length-r.dynamicMainBullets-1).addClass(`${r.bulletActiveClass}-prev`)}else{c(e,"prev");c(a,"next")}}else{c(e,"prev");c(a,"next")}}}if(r.dynamicBullets){const i=Math.min(n.length,r.dynamicMainBullets+4);const o=(a*i-a)/2-f*a;const s=e?"right":"left";n.css(t.isHorizontal()?s:"top",`${o}px`)}}if(r.type==="fraction"){o.find(Br(r.currentClass)).text(r.formatFractionCurrent(l+1));o.find(Br(r.totalClass)).text(r.formatFractionTotal(f))}if(r.type==="progressbar"){let e;if(r.progressbarOpposite){e=t.isHorizontal()?"vertical":"horizontal"}else{e=t.isHorizontal()?"horizontal":"vertical"}const n=(l+1)/f;let i=1;let a=1;if(e==="horizontal"){i=n}else{a=n}o.find(Br(r.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${i}) scaleY(${a})`).transition(t.params.speed)}if(r.type==="custom"&&r.renderCustom){o.html(r.renderCustom(t,l+1,f));i("paginationRender",o[0])}else{i("paginationUpdate",o[0])}if(t.params.watchOverflow&&t.enabled){o[t.isLocked?"addClass":"removeClass"](r.lockClass)}}function f(){const e=t.params.pagination;if(u())return;const r=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length;const n=t.pagination.$el;let o="";if(e.type==="bullets"){let i=t.params.loop?Math.ceil((r-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&i>r){i=r}for(let r=0;r<i;r+=1){if(e.renderBullet){o+=e.renderBullet.call(t,r,e.bulletClass)}else{o+=`<${e.bulletElement} class="${e.bulletClass}"></${e.bulletElement}>`}}n.html(o);t.pagination.bullets=n.find(Br(e.bulletClass))}if(e.type==="fraction"){if(e.renderFraction){o=e.renderFraction.call(t,e.currentClass,e.totalClass)}else{o=`<span class="${e.currentClass}"></span>`+" / "+`<span class="${e.totalClass}"></span>`}n.html(o)}if(e.type==="progressbar"){if(e.renderProgressbar){o=e.renderProgressbar.call(t,e.progressbarFillClass)}else{o=`<span class="${e.progressbarFillClass}"></span>`}n.html(o)}if(e.type!=="custom"){i("paginationRender",t.pagination.$el[0])}}function d(){t.params.pagination=jr(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let r=Ze(e.el);if(r.length===0)return;if(t.params.uniqueNavElements&&typeof e.el==="string"&&r.length>1){r=t.$el.find(e.el);if(r.length>1){r=r.filter((e=>{if(Ze(e).parents(".swiper")[0]!==t.el)return false;return true}))}}if(e.type==="bullets"&&e.clickable){r.addClass(e.clickableClass)}r.addClass(e.modifierClass+e.type);r.addClass(t.isHorizontal()?e.horizontalClass:e.verticalClass);if(e.type==="bullets"&&e.dynamicBullets){r.addClass(`${e.modifierClass}${e.type}-dynamic`);s=0;if(e.dynamicMainBullets<1){e.dynamicMainBullets=1}}if(e.type==="progressbar"&&e.progressbarOpposite){r.addClass(e.progressbarOppositeClass)}if(e.clickable){r.on("click",Br(e.bulletClass),(function e(r){r.preventDefault();let n=Ze(this).index()*t.params.slidesPerGroup;if(t.params.loop)n+=t.loopedSlides;t.slideTo(n)}))}Object.assign(t.pagination,{$el:r,el:r[0]});if(!t.enabled){r.addClass(e.lockClass)}}function h(){const e=t.params.pagination;if(u())return;const r=t.pagination.$el;r.removeClass(e.hiddenClass);r.removeClass(e.modifierClass+e.type);r.removeClass(t.isHorizontal()?e.horizontalClass:e.verticalClass);if(t.pagination.bullets&&t.pagination.bullets.removeClass)t.pagination.bullets.removeClass(e.bulletActiveClass);if(e.clickable){r.off("click",Br(e.bulletClass))}}n("init",(()=>{if(t.params.pagination.enabled===false){v()}else{d();f();l()}}));n("activeIndexChange",(()=>{if(t.params.loop){l()}else if(typeof t.snapIndex==="undefined"){l()}}));n("snapIndexChange",(()=>{if(!t.params.loop){l()}}));n("slidesLengthChange",(()=>{if(t.params.loop){f();l()}}));n("snapGridLengthChange",(()=>{if(!t.params.loop){f();l()}}));n("destroy",(()=>{h()}));n("enable disable",(()=>{const{$el:e}=t.pagination;if(e){e[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}}));n("lock unlock",(()=>{l()}));n("click",((e,r)=>{const n=r.target;const{$el:o}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&o&&o.length>0&&!Ze(n).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&n===t.navigation.nextEl||t.navigation.prevEl&&n===t.navigation.prevEl))return;const e=o.hasClass(t.params.pagination.hiddenClass);if(e===true){i("paginationShow")}else{i("paginationHide")}o.toggleClass(t.params.pagination.hiddenClass)}}));const p=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass);if(t.pagination.$el){t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass)}d();f();l()};const v=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass);if(t.pagination.$el){t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass)}h()};Object.assign(t.pagination,{enable:p,disable:v,render:f,update:l,init:d,destroy:h})}function Hr(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;const o=a();let s=false;let u=null;let c=null;let l;let f;let d;let h;r({scrollbar:{el:null,dragSize:"auto",hide:false,draggable:false,snapOnRelease:true,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:`swiper-scrollbar-horizontal`,verticalClass:`swiper-scrollbar-vertical`}});t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function p(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:r,progress:n}=t;const{$dragEl:i,$el:o}=e;const a=t.params.scrollbar;let s=f;let c=(d-f)*n;if(r){c=-c;if(c>0){s=f-c;c=0}else if(-c+f>d){s=d+c}}else if(c<0){s=f+c;c=0}else if(c+f>d){s=d-c}if(t.isHorizontal()){i.transform(`translate3d(${c}px, 0, 0)`);i[0].style.width=`${s}px`}else{i.transform(`translate3d(0px, ${c}px, 0)`);i[0].style.height=`${s}px`}if(a.hide){clearTimeout(u);o[0].style.opacity=1;u=setTimeout((()=>{o[0].style.opacity=0;o.transition(400)}),1e3)}}function v(e){if(!t.params.scrollbar.el||!t.scrollbar.el)return;t.scrollbar.$dragEl.transition(e)}function g(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t;const{$dragEl:r,$el:n}=e;r[0].style.width="";r[0].style.height="";d=t.isHorizontal()?n[0].offsetWidth:n[0].offsetHeight;h=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0));if(t.params.scrollbar.dragSize==="auto"){f=d*h}else{f=parseInt(t.params.scrollbar.dragSize,10)}if(t.isHorizontal()){r[0].style.width=`${f}px`}else{r[0].style.height=`${f}px`}if(h>=1){n[0].style.display="none"}else{n[0].style.display=""}if(t.params.scrollbar.hide){n[0].style.opacity=0}if(t.params.watchOverflow&&t.enabled){e.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}}function m(e){if(t.isHorizontal()){return e.type==="touchstart"||e.type==="touchmove"?e.targetTouches[0].clientX:e.clientX}return e.type==="touchstart"||e.type==="touchmove"?e.targetTouches[0].clientY:e.clientY}function y(e){const{scrollbar:r,rtlTranslate:n}=t;const{$el:i}=r;let o;o=(m(e)-i.offset()[t.isHorizontal()?"left":"top"]-(l!==null?l:f/2))/(d-f);o=Math.max(Math.min(o,1),0);if(n){o=1-o}const a=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*o;t.updateProgress(a);t.setTranslate(a);t.updateActiveIndex();t.updateSlidesClasses()}function _(e){const r=t.params.scrollbar;const{scrollbar:n,$wrapperEl:o}=t;const{$el:a,$dragEl:u}=n;s=true;l=e.target===u[0]||e.target===u?m(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null;e.preventDefault();e.stopPropagation();o.transition(100);u.transition(100);y(e);clearTimeout(c);a.transition(0);if(r.hide){a.css("opacity",1)}if(t.params.cssMode){t.$wrapperEl.css("scroll-snap-type","none")}i("scrollbarDragStart",e)}function b(e){const{scrollbar:r,$wrapperEl:n}=t;const{$el:o,$dragEl:a}=r;if(!s)return;if(e.preventDefault)e.preventDefault();else e.returnValue=false;y(e);n.transition(0);o.transition(0);a.transition(0);i("scrollbarDragMove",e)}function E(e){const r=t.params.scrollbar;const{scrollbar:n,$wrapperEl:o}=t;const{$el:a}=n;if(!s)return;s=false;if(t.params.cssMode){t.$wrapperEl.css("scroll-snap-type","");o.transition("")}if(r.hide){clearTimeout(c);c=Qe((()=>{a.css("opacity",0);a.transition(400)}),1e3)}i("scrollbarDragEnd",e);if(r.snapOnRelease){t.slideToClosest()}}function S(e){const{scrollbar:r,touchEventsTouch:n,touchEventsDesktop:i,params:a,support:s}=t;const u=r.$el;if(!u)return;const c=u[0];const l=s.passiveListener&&a.passiveListeners?{passive:false,capture:false}:false;const f=s.passiveListener&&a.passiveListeners?{passive:true,capture:false}:false;if(!c)return;const d=e==="on"?"addEventListener":"removeEventListener";if(!s.touch){c[d](i.start,_,l);o[d](i.move,b,l);o[d](i.end,E,f)}else{c[d](n.start,_,l);c[d](n.move,b,l);c[d](n.end,E,f)}}function w(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;S("on")}function T(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;S("off")}function C(){const{scrollbar:e,$el:r}=t;t.params.scrollbar=jr(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const n=t.params.scrollbar;if(!n.el)return;let i=Ze(n.el);if(t.params.uniqueNavElements&&typeof n.el==="string"&&i.length>1&&r.find(n.el).length===1){i=r.find(n.el)}i.addClass(t.isHorizontal()?n.horizontalClass:n.verticalClass);let o=i.find(`.${t.params.scrollbar.dragClass}`);if(o.length===0){o=Ze(`<div class="${t.params.scrollbar.dragClass}"></div>`);i.append(o)}Object.assign(e,{$el:i,el:i[0],$dragEl:o,dragEl:o[0]});if(n.draggable){w()}if(i){i[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}}function A(){const e=t.params.scrollbar;const r=t.scrollbar.$el;if(r){r.removeClass(t.isHorizontal()?e.horizontalClass:e.verticalClass)}T()}n("init",(()=>{if(t.params.scrollbar.enabled===false){I()}else{C();g();p()}}));n("update resize observerUpdate lock unlock",(()=>{g()}));n("setTranslate",(()=>{p()}));n("setTransition",((e,t)=>{v(t)}));n("enable disable",(()=>{const{$el:e}=t.scrollbar;if(e){e[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}}));n("destroy",(()=>{A()}));const R=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass);if(t.scrollbar.$el){t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass)}C();g();p()};const I=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass);if(t.scrollbar.$el){t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass)}A()};Object.assign(t.scrollbar,{enable:R,disable:I,updateSize:g,setTranslate:p,init:C,destroy:A})}function Vr(e){let{swiper:t,extendParams:r,on:n}=e;r({parallax:{enabled:false}});const i=(e,r)=>{const{rtl:n}=t;const i=Ze(e);const o=n?-1:1;const a=i.attr("data-swiper-parallax")||"0";let s=i.attr("data-swiper-parallax-x");let u=i.attr("data-swiper-parallax-y");const c=i.attr("data-swiper-parallax-scale");const l=i.attr("data-swiper-parallax-opacity");if(s||u){s=s||"0";u=u||"0"}else if(t.isHorizontal()){s=a;u="0"}else{u=a;s="0"}if(s.indexOf("%")>=0){s=`${parseInt(s,10)*r*o}%`}else{s=`${s*r*o}px`}if(u.indexOf("%")>=0){u=`${parseInt(u,10)*r}%`}else{u=`${u*r}px`}if(typeof l!=="undefined"&&l!==null){const e=l-(l-1)*(1-Math.abs(r));i[0].style.opacity=e}if(typeof c==="undefined"||c===null){i.transform(`translate3d(${s}, ${u}, 0px)`)}else{const e=c-(c-1)*(1-Math.abs(r));i.transform(`translate3d(${s}, ${u}, 0px) scale(${e})`)}};const o=()=>{const{$el:e,slides:r,progress:n,snapGrid:o}=t;e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((e=>{i(e,n)}));r.each(((e,r)=>{let a=e.progress;if(t.params.slidesPerGroup>1&&t.params.slidesPerView!=="auto"){a+=Math.ceil(r/2)-n*(o.length-1)}a=Math.min(Math.max(a,-1),1);Ze(e).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((e=>{i(e,a)}))}))};const a=function(e){if(e===void 0){e=t.params.speed}const{$el:r}=t;r.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((t=>{const r=Ze(t);let n=parseInt(r.attr("data-swiper-parallax-duration"),10)||e;if(e===0)n=0;r.transition(n)}))};n("beforeInit",(()=>{if(!t.params.parallax.enabled)return;t.params.watchSlidesProgress=true;t.originalParams.watchSlidesProgress=true}));n("init",(()=>{if(!t.params.parallax.enabled)return;o()}));n("setTranslate",(()=>{if(!t.params.parallax.enabled)return;o()}));n("setTransition",((e,r)=>{if(!t.params.parallax.enabled)return;a(r)}))}function Wr(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;const o=u();r({zoom:{enabled:false,maxRatio:3,minRatio:1,toggle:true,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}});t.zoom={enabled:false};let a=1;let s=false;let c;let l;let f;const d={$slideEl:undefined,slideWidth:undefined,slideHeight:undefined,$imageEl:undefined,$imageWrapEl:undefined,maxRatio:3};const h={isTouched:undefined,isMoved:undefined,currentX:undefined,currentY:undefined,minX:undefined,minY:undefined,maxX:undefined,maxY:undefined,width:undefined,height:undefined,startX:undefined,startY:undefined,touchesStart:{},touchesCurrent:{}};const p={x:undefined,y:undefined,prevPositionX:undefined,prevPositionY:undefined,prevTime:undefined};let v=1;Object.defineProperty(t.zoom,"scale",{get(){return v},set(e){if(v!==e){const t=d.$imageEl?d.$imageEl[0]:undefined;const r=d.$slideEl?d.$slideEl[0]:undefined;i("zoomChange",e,t,r)}v=e}});function g(e){if(e.targetTouches.length<2)return 1;const t=e.targetTouches[0].pageX;const r=e.targetTouches[0].pageY;const n=e.targetTouches[1].pageX;const i=e.targetTouches[1].pageY;const o=Math.sqrt((n-t)**2+(i-r)**2);return o}function m(e){const r=t.support;const n=t.params.zoom;l=false;f=false;if(!r.gestures){if(e.type!=="touchstart"||e.type==="touchstart"&&e.targetTouches.length<2){return}l=true;d.scaleStart=g(e)}if(!d.$slideEl||!d.$slideEl.length){d.$slideEl=Ze(e.target).closest(`.${t.params.slideClass}`);if(d.$slideEl.length===0)d.$slideEl=t.slides.eq(t.activeIndex);d.$imageEl=d.$slideEl.find(`.${n.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0);d.$imageWrapEl=d.$imageEl.parent(`.${n.containerClass}`);d.maxRatio=d.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio;if(d.$imageWrapEl.length===0){d.$imageEl=undefined;return}}if(d.$imageEl){d.$imageEl.transition(0)}s=true}function y(e){const r=t.support;const n=t.params.zoom;const i=t.zoom;if(!r.gestures){if(e.type!=="touchmove"||e.type==="touchmove"&&e.targetTouches.length<2){return}f=true;d.scaleMove=g(e)}if(!d.$imageEl||d.$imageEl.length===0){if(e.type==="gesturechange")m(e);return}if(r.gestures){i.scale=e.scale*a}else{i.scale=d.scaleMove/d.scaleStart*a}if(i.scale>d.maxRatio){i.scale=d.maxRatio-1+(i.scale-d.maxRatio+1)**.5}if(i.scale<n.minRatio){i.scale=n.minRatio+1-(n.minRatio-i.scale+1)**.5}d.$imageEl.transform(`translate3d(0,0,0) scale(${i.scale})`)}function _(e){const r=t.device;const n=t.support;const i=t.params.zoom;const o=t.zoom;if(!n.gestures){if(!l||!f){return}if(e.type!=="touchend"||e.type==="touchend"&&e.changedTouches.length<2&&!r.android){return}l=false;f=false}if(!d.$imageEl||d.$imageEl.length===0)return;o.scale=Math.max(Math.min(o.scale,d.maxRatio),i.minRatio);d.$imageEl.transition(t.params.speed).transform(`translate3d(0,0,0) scale(${o.scale})`);a=o.scale;s=false;if(o.scale===1)d.$slideEl=undefined}function b(e){const r=t.device;if(!d.$imageEl||d.$imageEl.length===0)return;if(h.isTouched)return;if(r.android&&e.cancelable)e.preventDefault();h.isTouched=true;h.touchesStart.x=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX;h.touchesStart.y=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY}function E(e){const r=t.zoom;if(!d.$imageEl||d.$imageEl.length===0)return;t.allowClick=false;if(!h.isTouched||!d.$slideEl)return;if(!h.isMoved){h.width=d.$imageEl[0].offsetWidth;h.height=d.$imageEl[0].offsetHeight;h.startX=rt(d.$imageWrapEl[0],"x")||0;h.startY=rt(d.$imageWrapEl[0],"y")||0;d.slideWidth=d.$slideEl[0].offsetWidth;d.slideHeight=d.$slideEl[0].offsetHeight;d.$imageWrapEl.transition(0)}const n=h.width*r.scale;const i=h.height*r.scale;if(n<d.slideWidth&&i<d.slideHeight)return;h.minX=Math.min(d.slideWidth/2-n/2,0);h.maxX=-h.minX;h.minY=Math.min(d.slideHeight/2-i/2,0);h.maxY=-h.minY;h.touchesCurrent.x=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;h.touchesCurrent.y=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;if(!h.isMoved&&!s){if(t.isHorizontal()&&(Math.floor(h.minX)===Math.floor(h.startX)&&h.touchesCurrent.x<h.touchesStart.x||Math.floor(h.maxX)===Math.floor(h.startX)&&h.touchesCurrent.x>h.touchesStart.x)){h.isTouched=false;return}if(!t.isHorizontal()&&(Math.floor(h.minY)===Math.floor(h.startY)&&h.touchesCurrent.y<h.touchesStart.y||Math.floor(h.maxY)===Math.floor(h.startY)&&h.touchesCurrent.y>h.touchesStart.y)){h.isTouched=false;return}}if(e.cancelable){e.preventDefault()}e.stopPropagation();h.isMoved=true;h.currentX=h.touchesCurrent.x-h.touchesStart.x+h.startX;h.currentY=h.touchesCurrent.y-h.touchesStart.y+h.startY;if(h.currentX<h.minX){h.currentX=h.minX+1-(h.minX-h.currentX+1)**.8}if(h.currentX>h.maxX){h.currentX=h.maxX-1+(h.currentX-h.maxX+1)**.8}if(h.currentY<h.minY){h.currentY=h.minY+1-(h.minY-h.currentY+1)**.8}if(h.currentY>h.maxY){h.currentY=h.maxY-1+(h.currentY-h.maxY+1)**.8}if(!p.prevPositionX)p.prevPositionX=h.touchesCurrent.x;if(!p.prevPositionY)p.prevPositionY=h.touchesCurrent.y;if(!p.prevTime)p.prevTime=Date.now();p.x=(h.touchesCurrent.x-p.prevPositionX)/(Date.now()-p.prevTime)/2;p.y=(h.touchesCurrent.y-p.prevPositionY)/(Date.now()-p.prevTime)/2;if(Math.abs(h.touchesCurrent.x-p.prevPositionX)<2)p.x=0;if(Math.abs(h.touchesCurrent.y-p.prevPositionY)<2)p.y=0;p.prevPositionX=h.touchesCurrent.x;p.prevPositionY=h.touchesCurrent.y;p.prevTime=Date.now();d.$imageWrapEl.transform(`translate3d(${h.currentX}px, ${h.currentY}px,0)`)}function S(){const e=t.zoom;if(!d.$imageEl||d.$imageEl.length===0)return;if(!h.isTouched||!h.isMoved){h.isTouched=false;h.isMoved=false;return}h.isTouched=false;h.isMoved=false;let r=300;let n=300;const i=p.x*r;const o=h.currentX+i;const a=p.y*n;const s=h.currentY+a;if(p.x!==0)r=Math.abs((o-h.currentX)/p.x);if(p.y!==0)n=Math.abs((s-h.currentY)/p.y);const u=Math.max(r,n);h.currentX=o;h.currentY=s;const c=h.width*e.scale;const l=h.height*e.scale;h.minX=Math.min(d.slideWidth/2-c/2,0);h.maxX=-h.minX;h.minY=Math.min(d.slideHeight/2-l/2,0);h.maxY=-h.minY;h.currentX=Math.max(Math.min(h.currentX,h.maxX),h.minX);h.currentY=Math.max(Math.min(h.currentY,h.maxY),h.minY);d.$imageWrapEl.transition(u).transform(`translate3d(${h.currentX}px, ${h.currentY}px,0)`)}function w(){const e=t.zoom;if(d.$slideEl&&t.previousIndex!==t.activeIndex){if(d.$imageEl){d.$imageEl.transform("translate3d(0,0,0) scale(1)")}if(d.$imageWrapEl){d.$imageWrapEl.transform("translate3d(0,0,0)")}e.scale=1;a=1;d.$slideEl=undefined;d.$imageEl=undefined;d.$imageWrapEl=undefined}}function T(e){const r=t.zoom;const n=t.params.zoom;if(!d.$slideEl){if(e&&e.target){d.$slideEl=Ze(e.target).closest(`.${t.params.slideClass}`)}if(!d.$slideEl){if(t.params.virtual&&t.params.virtual.enabled&&t.virtual){d.$slideEl=t.$wrapperEl.children(`.${t.params.slideActiveClass}`)}else{d.$slideEl=t.slides.eq(t.activeIndex)}}d.$imageEl=d.$slideEl.find(`.${n.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0);d.$imageWrapEl=d.$imageEl.parent(`.${n.containerClass}`)}if(!d.$imageEl||d.$imageEl.length===0||!d.$imageWrapEl||d.$imageWrapEl.length===0)return;if(t.params.cssMode){t.wrapperEl.style.overflow="hidden";t.wrapperEl.style.touchAction="none"}d.$slideEl.addClass(`${n.zoomedSlideClass}`);let i;let s;let u;let c;let l;let f;let p;let v;let g;let m;let y;let _;let b;let E;let S;let w;let T;let C;if(typeof h.touchesStart.x==="undefined"&&e){i=e.type==="touchend"?e.changedTouches[0].pageX:e.pageX;s=e.type==="touchend"?e.changedTouches[0].pageY:e.pageY}else{i=h.touchesStart.x;s=h.touchesStart.y}r.scale=d.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio;a=d.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio;if(e){T=d.$slideEl[0].offsetWidth;C=d.$slideEl[0].offsetHeight;u=d.$slideEl.offset().left+o.scrollX;c=d.$slideEl.offset().top+o.scrollY;l=u+T/2-i;f=c+C/2-s;g=d.$imageEl[0].offsetWidth;m=d.$imageEl[0].offsetHeight;y=g*r.scale;_=m*r.scale;b=Math.min(T/2-y/2,0);E=Math.min(C/2-_/2,0);S=-b;w=-E;p=l*r.scale;v=f*r.scale;if(p<b){p=b}if(p>S){p=S}if(v<E){v=E}if(v>w){v=w}}else{p=0;v=0}d.$imageWrapEl.transition(300).transform(`translate3d(${p}px, ${v}px,0)`);d.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${r.scale})`)}function C(){const e=t.zoom;const r=t.params.zoom;if(!d.$slideEl){if(t.params.virtual&&t.params.virtual.enabled&&t.virtual){d.$slideEl=t.$wrapperEl.children(`.${t.params.slideActiveClass}`)}else{d.$slideEl=t.slides.eq(t.activeIndex)}d.$imageEl=d.$slideEl.find(`.${r.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0);d.$imageWrapEl=d.$imageEl.parent(`.${r.containerClass}`)}if(!d.$imageEl||d.$imageEl.length===0||!d.$imageWrapEl||d.$imageWrapEl.length===0)return;if(t.params.cssMode){t.wrapperEl.style.overflow="";t.wrapperEl.style.touchAction=""}e.scale=1;a=1;d.$imageWrapEl.transition(300).transform("translate3d(0,0,0)");d.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)");d.$slideEl.removeClass(`${r.zoomedSlideClass}`);d.$slideEl=undefined}function A(e){const r=t.zoom;if(r.scale&&r.scale!==1){C()}else{T(e)}}function R(){const e=t.support;const r=t.touchEvents.start==="touchstart"&&e.passiveListener&&t.params.passiveListeners?{passive:true,capture:false}:false;const n=e.passiveListener?{passive:false,capture:true}:true;return{passiveListener:r,activeListenerWithCapture:n}}function I(){return`.${t.params.slideClass}`}function k(e){const{passiveListener:r}=R();const n=I();t.$wrapperEl[e]("gesturestart",n,m,r);t.$wrapperEl[e]("gesturechange",n,y,r);t.$wrapperEl[e]("gestureend",n,_,r)}function O(){if(c)return;c=true;k("on")}function P(){if(!c)return;c=false;k("off")}function M(){const e=t.zoom;if(e.enabled)return;e.enabled=true;const r=t.support;const{passiveListener:n,activeListenerWithCapture:i}=R();const o=I();if(r.gestures){t.$wrapperEl.on(t.touchEvents.start,O,n);t.$wrapperEl.on(t.touchEvents.end,P,n)}else if(t.touchEvents.start==="touchstart"){t.$wrapperEl.on(t.touchEvents.start,o,m,n);t.$wrapperEl.on(t.touchEvents.move,o,y,i);t.$wrapperEl.on(t.touchEvents.end,o,_,n);if(t.touchEvents.cancel){t.$wrapperEl.on(t.touchEvents.cancel,o,_,n)}}t.$wrapperEl.on(t.touchEvents.move,`.${t.params.zoom.containerClass}`,E,i)}function x(){const e=t.zoom;if(!e.enabled)return;const r=t.support;e.enabled=false;const{passiveListener:n,activeListenerWithCapture:i}=R();const o=I();if(r.gestures){t.$wrapperEl.off(t.touchEvents.start,O,n);t.$wrapperEl.off(t.touchEvents.end,P,n)}else if(t.touchEvents.start==="touchstart"){t.$wrapperEl.off(t.touchEvents.start,o,m,n);t.$wrapperEl.off(t.touchEvents.move,o,y,i);t.$wrapperEl.off(t.touchEvents.end,o,_,n);if(t.touchEvents.cancel){t.$wrapperEl.off(t.touchEvents.cancel,o,_,n)}}t.$wrapperEl.off(t.touchEvents.move,`.${t.params.zoom.containerClass}`,E,i)}n("init",(()=>{if(t.params.zoom.enabled){M()}}));n("destroy",(()=>{x()}));n("touchStart",((e,r)=>{if(!t.zoom.enabled)return;b(r)}));n("touchEnd",((e,r)=>{if(!t.zoom.enabled)return;S(r)}));n("doubleTap",((e,r)=>{if(!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle){A(r)}}));n("transitionEnd",(()=>{if(t.zoom.enabled&&t.params.zoom.enabled){w()}}));n("slideChange",(()=>{if(t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode){w()}}));Object.assign(t.zoom,{enable:M,disable:x,in:T,out:C,toggle:A})}function zr(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;r({lazy:{checkInView:false,enabled:false,loadPrevNext:false,loadPrevNextAmount:1,loadOnTransitionStart:false,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}});t.lazy={};let o=false;let a=false;function s(e,r){if(r===void 0){r=true}const n=t.params.lazy;if(typeof e==="undefined")return;if(t.slides.length===0)return;const o=t.virtual&&t.params.virtual.enabled;const a=o?t.$wrapperEl.children(`.${t.params.slideClass}[data-swiper-slide-index="${e}"]`):t.slides.eq(e);const u=a.find(`.${n.elementClass}:not(.${n.loadedClass}):not(.${n.loadingClass})`);if(a.hasClass(n.elementClass)&&!a.hasClass(n.loadedClass)&&!a.hasClass(n.loadingClass)){u.push(a[0])}if(u.length===0)return;u.each((e=>{const o=Ze(e);o.addClass(n.loadingClass);const u=o.attr("data-background");const c=o.attr("data-src");const l=o.attr("data-srcset");const f=o.attr("data-sizes");const d=o.parent("picture");t.loadImage(o[0],c||u,l,f,false,(()=>{if(typeof t==="undefined"||t===null||!t||t&&!t.params||t.destroyed)return;if(u){o.css("background-image",`url("${u}")`);o.removeAttr("data-background")}else{if(l){o.attr("srcset",l);o.removeAttr("data-srcset")}if(f){o.attr("sizes",f);o.removeAttr("data-sizes")}if(d.length){d.children("source").each((e=>{const t=Ze(e);if(t.attr("data-srcset")){t.attr("srcset",t.attr("data-srcset"));t.removeAttr("data-srcset")}}))}if(c){o.attr("src",c);o.removeAttr("data-src")}}o.addClass(n.loadedClass).removeClass(n.loadingClass);a.find(`.${n.preloaderClass}`).remove();if(t.params.loop&&r){const e=a.attr("data-swiper-slide-index");if(a.hasClass(t.params.slideDuplicateClass)){const r=t.$wrapperEl.children(`[data-swiper-slide-index="${e}"]:not(.${t.params.slideDuplicateClass})`);s(r.index(),false)}else{const r=t.$wrapperEl.children(`.${t.params.slideDuplicateClass}[data-swiper-slide-index="${e}"]`);s(r.index(),false)}}i("lazyImageReady",a[0],o[0]);if(t.params.autoHeight){t.updateAutoHeight()}}));i("lazyImageLoad",a[0],o[0])}))}function c(){const{$wrapperEl:e,params:r,slides:n,activeIndex:i}=t;const o=t.virtual&&r.virtual.enabled;const u=r.lazy;let c=r.slidesPerView;if(c==="auto"){c=0}function l(t){if(o){if(e.children(`.${r.slideClass}[data-swiper-slide-index="${t}"]`).length){return true}}else if(n[t])return true;return false}function f(e){if(o){return Ze(e).attr("data-swiper-slide-index")}return Ze(e).index()}if(!a)a=true;if(t.params.watchSlidesProgress){e.children(`.${r.slideVisibleClass}`).each((e=>{const t=o?Ze(e).attr("data-swiper-slide-index"):Ze(e).index();s(t)}))}else if(c>1){for(let e=i;e<i+c;e+=1){if(l(e))s(e)}}else{s(i)}if(u.loadPrevNext){if(c>1||u.loadPrevNextAmount&&u.loadPrevNextAmount>1){const e=u.loadPrevNextAmount;const t=Math.ceil(c);const r=Math.min(i+t+Math.max(e,t),n.length);const o=Math.max(i-Math.max(t,e),0);for(let e=i+t;e<r;e+=1){if(l(e))s(e)}for(let e=o;e<i;e+=1){if(l(e))s(e)}}else{const t=e.children(`.${r.slideNextClass}`);if(t.length>0)s(f(t));const n=e.children(`.${r.slidePrevClass}`);if(n.length>0)s(f(n))}}}function l(){const e=u();if(!t||t.destroyed)return;const r=t.params.lazy.scrollingElement?Ze(t.params.lazy.scrollingElement):Ze(e);const n=r[0]===e;const i=n?e.innerWidth:r[0].offsetWidth;const a=n?e.innerHeight:r[0].offsetHeight;const s=t.$el.offset();const{rtlTranslate:f}=t;let d=false;if(f)s.left-=t.$el[0].scrollLeft;const h=[[s.left,s.top],[s.left+t.width,s.top],[s.left,s.top+t.height],[s.left+t.width,s.top+t.height]];for(let e=0;e<h.length;e+=1){const t=h[e];if(t[0]>=0&&t[0]<=i&&t[1]>=0&&t[1]<=a){if(t[0]===0&&t[1]===0)continue;d=true}}const p=t.touchEvents.start==="touchstart"&&t.support.passiveListener&&t.params.passiveListeners?{passive:true,capture:false}:false;if(d){c();r.off("scroll",l,p)}else if(!o){o=true;r.on("scroll",l,p)}}n("beforeInit",(()=>{if(t.params.lazy.enabled&&t.params.preloadImages){t.params.preloadImages=false}}));n("init",(()=>{if(t.params.lazy.enabled){if(t.params.lazy.checkInView){l()}else{c()}}}));n("scroll",(()=>{if(t.params.freeMode&&t.params.freeMode.enabled&&!t.params.freeMode.sticky){c()}}));n("scrollbarDragMove resize _freeModeNoMomentumRelease",(()=>{if(t.params.lazy.enabled){if(t.params.lazy.checkInView){l()}else{c()}}}));n("transitionStart",(()=>{if(t.params.lazy.enabled){if(t.params.lazy.loadOnTransitionStart||!t.params.lazy.loadOnTransitionStart&&!a){if(t.params.lazy.checkInView){l()}else{c()}}}}));n("transitionEnd",(()=>{if(t.params.lazy.enabled&&!t.params.lazy.loadOnTransitionStart){if(t.params.lazy.checkInView){l()}else{c()}}}));n("slideChange",(()=>{const{lazy:e,cssMode:r,watchSlidesProgress:n,touchReleaseOnEdges:i,resistanceRatio:o}=t.params;if(e.enabled&&(r||n&&(i||o===0))){c()}}));n("destroy",(()=>{if(!t.$el)return;t.$el.find(`.${t.params.lazy.loadingClass}`).removeClass(t.params.lazy.loadingClass)}));Object.assign(t.lazy,{load:c,loadInSlide:s})}function Gr(e){let{swiper:t,extendParams:r,on:n}=e;r({controller:{control:undefined,inverse:false,by:"slide"}});t.controller={control:undefined};function i(e,t){const r=function e(){let t;let r;let n;return(e,i)=>{r=-1;t=e.length;while(t-r>1){n=t+r>>1;if(e[n]<=i){r=n}else{t=n}}return t}}();this.x=e;this.y=t;this.lastIndex=e.length-1;let n;let i;this.interpolate=function e(t){if(!t)return 0;i=r(this.x,t);n=i-1;return(t-this.x[n])*(this.y[i]-this.y[n])/(this.x[i]-this.x[n])+this.y[n]};return this}function o(e){if(!t.controller.spline){t.controller.spline=t.params.loop?new i(t.slidesGrid,e.slidesGrid):new i(t.snapGrid,e.snapGrid)}}function a(e,r){const n=t.controller.control;let i;let a;const s=t.constructor;function u(e){const r=t.rtlTranslate?-t.translate:t.translate;if(t.params.controller.by==="slide"){o(e);a=-t.controller.spline.interpolate(-r)}if(!a||t.params.controller.by==="container"){i=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate());a=(r-t.minTranslate())*i+e.minTranslate()}if(t.params.controller.inverse){a=e.maxTranslate()-a}e.updateProgress(a);e.setTranslate(a,t);e.updateActiveIndex();e.updateSlidesClasses()}if(Array.isArray(n)){for(let e=0;e<n.length;e+=1){if(n[e]!==r&&n[e]instanceof s){u(n[e])}}}else if(n instanceof s&&r!==n){u(n)}}function s(e,r){const n=t.constructor;const i=t.controller.control;let o;function a(r){r.setTransition(e,t);if(e!==0){r.transitionStart();if(r.params.autoHeight){Qe((()=>{r.updateAutoHeight()}))}r.$wrapperEl.transitionEnd((()=>{if(!i)return;if(r.params.loop&&t.params.controller.by==="slide"){r.loopFix()}r.transitionEnd()}))}}if(Array.isArray(i)){for(o=0;o<i.length;o+=1){if(i[o]!==r&&i[o]instanceof n){a(i[o])}}}else if(i instanceof n&&r!==i){a(i)}}function u(){if(!t.controller.control)return;if(t.controller.spline){t.controller.spline=undefined;delete t.controller.spline}}n("beforeInit",(()=>{t.controller.control=t.params.controller.control}));n("update",(()=>{u()}));n("resize",(()=>{u()}));n("observerUpdate",(()=>{u()}));n("setTranslate",((e,r,n)=>{if(!t.controller.control)return;t.controller.setTranslate(r,n)}));n("setTransition",((e,r,n)=>{if(!t.controller.control)return;t.controller.setTransition(r,n)}));Object.assign(t.controller,{setTranslate:a,setTransition:s})}function Yr(e){let{swiper:t,extendParams:r,on:n}=e;r({a11y:{enabled:true,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}});let i=null;function o(e){const t=i;if(t.length===0)return;t.html("");t.html(e)}function a(e){if(e===void 0){e=16}const t=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(e).replace(/x/g,t)}function s(e){e.attr("tabIndex","0")}function u(e){e.attr("tabIndex","-1")}function c(e,t){e.attr("role",t)}function l(e,t){e.attr("aria-roledescription",t)}function f(e,t){e.attr("aria-controls",t)}function d(e,t){e.attr("aria-label",t)}function h(e,t){e.attr("id",t)}function p(e,t){e.attr("aria-live",t)}function v(e){e.attr("aria-disabled",true)}function g(e){e.attr("aria-disabled",false)}function m(e){if(e.keyCode!==13&&e.keyCode!==32)return;const r=t.params.a11y;const n=Ze(e.target);if(t.navigation&&t.navigation.$nextEl&&n.is(t.navigation.$nextEl)){if(!(t.isEnd&&!t.params.loop)){t.slideNext()}if(t.isEnd){o(r.lastSlideMessage)}else{o(r.nextSlideMessage)}}if(t.navigation&&t.navigation.$prevEl&&n.is(t.navigation.$prevEl)){if(!(t.isBeginning&&!t.params.loop)){t.slidePrev()}if(t.isBeginning){o(r.firstSlideMessage)}else{o(r.prevSlideMessage)}}if(t.pagination&&n.is(Br(t.params.pagination.bulletClass))){n[0].click()}}function y(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:e,$prevEl:r}=t.navigation;if(r&&r.length>0){if(t.isBeginning){v(r);u(r)}else{g(r);s(r)}}if(e&&e.length>0){if(t.isEnd){v(e);u(e)}else{g(e);s(e)}}}function _(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function b(){return _()&&t.params.pagination.clickable}function E(){const e=t.params.a11y;if(!_())return;t.pagination.bullets.each((r=>{const n=Ze(r);if(t.params.pagination.clickable){s(n);if(!t.params.pagination.renderBullet){c(n,"button");d(n,e.paginationBulletMessage.replace(/\{\{index\}\}/,n.index()+1))}}if(n.is(`.${t.params.pagination.bulletActiveClass}`)){n.attr("aria-current","true")}else{n.removeAttr("aria-current")}}))}const S=(e,t,r)=>{s(e);if(e[0].tagName!=="BUTTON"){c(e,"button");e.on("keydown",m)}d(e,r);f(e,t)};const w=e=>{const r=e.target.closest(`.${t.params.slideClass}`);if(!r||!t.slides.includes(r))return;const n=t.slides.indexOf(r)===t.activeIndex;const i=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(r);if(n||i)return;if(t.isHorizontal()){t.el.scrollLeft=0}else{t.el.scrollTop=0}t.slideTo(t.slides.indexOf(r),0)};const T=()=>{const e=t.params.a11y;if(e.itemRoleDescriptionMessage){l(Ze(t.slides),e.itemRoleDescriptionMessage)}if(e.slideRole){c(Ze(t.slides),e.slideRole)}const r=t.params.loop?t.slides.filter((e=>!e.classList.contains(t.params.slideDuplicateClass))).length:t.slides.length;if(e.slideLabelMessage){t.slides.each(((n,i)=>{const o=Ze(n);const a=t.params.loop?parseInt(o.attr("data-swiper-slide-index"),10):i;const s=e.slideLabelMessage.replace(/\{\{index\}\}/,a+1).replace(/\{\{slidesLength\}\}/,r);d(o,s)}))}};const C=()=>{const e=t.params.a11y;t.$el.append(i);const r=t.$el;if(e.containerRoleDescriptionMessage){l(r,e.containerRoleDescriptionMessage)}if(e.containerMessage){d(r,e.containerMessage)}const n=t.$wrapperEl;const o=e.id||n.attr("id")||`swiper-wrapper-${a(16)}`;const s=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";h(n,o);p(n,s);T();let u;let c;if(t.navigation&&t.navigation.$nextEl){u=t.navigation.$nextEl}if(t.navigation&&t.navigation.$prevEl){c=t.navigation.$prevEl}if(u&&u.length){S(u,o,e.nextSlideMessage)}if(c&&c.length){S(c,o,e.prevSlideMessage)}if(b()){t.pagination.$el.on("keydown",Br(t.params.pagination.bulletClass),m)}t.$el.on("focus",w,true)};function A(){if(i&&i.length>0)i.remove();let e;let r;if(t.navigation&&t.navigation.$nextEl){e=t.navigation.$nextEl}if(t.navigation&&t.navigation.$prevEl){r=t.navigation.$prevEl}if(e){e.off("keydown",m)}if(r){r.off("keydown",m)}if(b()){t.pagination.$el.off("keydown",Br(t.params.pagination.bulletClass),m)}t.$el.off("focus",w,true)}n("beforeInit",(()=>{i=Ze(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}));n("afterInit",(()=>{if(!t.params.a11y.enabled)return;C()}));n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{if(!t.params.a11y.enabled)return;T()}));n("fromEdge toEdge afterInit lock unlock",(()=>{if(!t.params.a11y.enabled)return;y()}));n("paginationUpdate",(()=>{if(!t.params.a11y.enabled)return;E()}));n("destroy",(()=>{if(!t.params.a11y.enabled)return;A()}))}function Kr(e){let{swiper:t,extendParams:r,on:n}=e;r({history:{enabled:false,root:"",replaceState:false,key:"slides",keepQuery:false}});let i=false;let o={};const a=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"");const s=e=>{const t=u();let r;if(e){r=new URL(e)}else{r=t.location}const n=r.pathname.slice(1).split("/").filter((e=>e!==""));const i=n.length;const o=n[i-2];const a=n[i-1];return{key:o,value:a}};const c=(e,r)=>{const n=u();if(!i||!t.params.history.enabled)return;let o;if(t.params.url){o=new URL(t.params.url)}else{o=n.location}const s=t.slides.eq(r);let c=a(s.attr("data-history"));if(t.params.history.root.length>0){let r=t.params.history.root;if(r[r.length-1]==="/")r=r.slice(0,r.length-1);c=`${r}/${e}/${c}`}else if(!o.pathname.includes(e)){c=`${e}/${c}`}if(t.params.history.keepQuery){c+=o.search}const l=n.history.state;if(l&&l.value===c){return}if(t.params.history.replaceState){n.history.replaceState({value:c},null,c)}else{n.history.pushState({value:c},null,c)}};const l=(e,r,n)=>{if(r){for(let i=0,o=t.slides.length;i<o;i+=1){const o=t.slides.eq(i);const s=a(o.attr("data-history"));if(s===r&&!o.hasClass(t.params.slideDuplicateClass)){const r=o.index();t.slideTo(r,e,n)}}}else{t.slideTo(0,e,n)}};const f=()=>{o=s(t.params.url);l(t.params.speed,o.value,false)};const d=()=>{const e=u();if(!t.params.history)return;if(!e.history||!e.history.pushState){t.params.history.enabled=false;t.params.hashNavigation.enabled=true;return}i=true;o=s(t.params.url);if(!o.key&&!o.value)return;l(0,o.value,t.params.runCallbacksOnInit);if(!t.params.history.replaceState){e.addEventListener("popstate",f)}};const h=()=>{const e=u();if(!t.params.history.replaceState){e.removeEventListener("popstate",f)}};n("init",(()=>{if(t.params.history.enabled){d()}}));n("destroy",(()=>{if(t.params.history.enabled){h()}}));n("transitionEnd _freeModeNoMomentumRelease",(()=>{if(i){c(t.params.history.key,t.activeIndex)}}));n("slideChange",(()=>{if(i&&t.params.cssMode){c(t.params.history.key,t.activeIndex)}}))}function qr(e){let{swiper:t,extendParams:r,emit:n,on:i}=e;let o=false;const s=a();const c=u();r({hashNavigation:{enabled:false,replaceState:false,watchState:false}});const l=()=>{n("hashChange");const e=s.location.hash.replace("#","");const r=t.slides.eq(t.activeIndex).attr("data-hash");if(e!==r){const r=t.$wrapperEl.children(`.${t.params.slideClass}[data-hash="${e}"]`).index();if(typeof r==="undefined")return;t.slideTo(r)}};const f=()=>{if(!o||!t.params.hashNavigation.enabled)return;if(t.params.hashNavigation.replaceState&&c.history&&c.history.replaceState){c.history.replaceState(null,null,`#${t.slides.eq(t.activeIndex).attr("data-hash")}`||"");n("hashSet")}else{const e=t.slides.eq(t.activeIndex);const r=e.attr("data-hash")||e.attr("data-history");s.location.hash=r||"";n("hashSet")}};const d=()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;o=true;const e=s.location.hash.replace("#","");if(e){const r=0;for(let n=0,i=t.slides.length;n<i;n+=1){const i=t.slides.eq(n);const o=i.attr("data-hash")||i.attr("data-history");if(o===e&&!i.hasClass(t.params.slideDuplicateClass)){const e=i.index();t.slideTo(e,r,t.params.runCallbacksOnInit,true)}}}if(t.params.hashNavigation.watchState){Ze(c).on("hashchange",l)}};const h=()=>{if(t.params.hashNavigation.watchState){Ze(c).off("hashchange",l)}};i("init",(()=>{if(t.params.hashNavigation.enabled){d()}}));i("destroy",(()=>{if(t.params.hashNavigation.enabled){h()}}));i("transitionEnd _freeModeNoMomentumRelease",(()=>{if(o){f()}}));i("slideChange",(()=>{if(o&&t.params.cssMode){f()}}))}function $r(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;let o;t.autoplay={running:false,paused:false};r({autoplay:{enabled:false,delay:3e3,waitForTransition:true,disableOnInteraction:true,stopOnLastSlide:false,reverseDirection:false,pauseOnMouseEnter:false}});function s(){if(!t.size){t.autoplay.running=false;t.autoplay.paused=false;return}const e=t.slides.eq(t.activeIndex);let r=t.params.autoplay.delay;if(e.attr("data-swiper-autoplay")){r=e.attr("data-swiper-autoplay")||t.params.autoplay.delay}clearTimeout(o);o=Qe((()=>{let e;if(t.params.autoplay.reverseDirection){if(t.params.loop){t.loopFix();e=t.slidePrev(t.params.speed,true,true);i("autoplay")}else if(!t.isBeginning){e=t.slidePrev(t.params.speed,true,true);i("autoplay")}else if(!t.params.autoplay.stopOnLastSlide){e=t.slideTo(t.slides.length-1,t.params.speed,true,true);i("autoplay")}else{c()}}else if(t.params.loop){t.loopFix();e=t.slideNext(t.params.speed,true,true);i("autoplay")}else if(!t.isEnd){e=t.slideNext(t.params.speed,true,true);i("autoplay")}else if(!t.params.autoplay.stopOnLastSlide){e=t.slideTo(0,t.params.speed,true,true);i("autoplay")}else{c()}if(t.params.cssMode&&t.autoplay.running)s();else if(e===false){s()}}),r)}function u(){if(typeof o!=="undefined")return false;if(t.autoplay.running)return false;t.autoplay.running=true;i("autoplayStart");s();return true}function c(){if(!t.autoplay.running)return false;if(typeof o==="undefined")return false;if(o){clearTimeout(o);o=undefined}t.autoplay.running=false;i("autoplayStop");return true}function l(e){if(!t.autoplay.running)return;if(t.autoplay.paused)return;if(o)clearTimeout(o);t.autoplay.paused=true;if(e===0||!t.params.autoplay.waitForTransition){t.autoplay.paused=false;s()}else{["transitionend","webkitTransitionEnd"].forEach((e=>{t.$wrapperEl[0].addEventListener(e,d)}))}}function f(){const e=a();if(e.visibilityState==="hidden"&&t.autoplay.running){l()}if(e.visibilityState==="visible"&&t.autoplay.paused){s();t.autoplay.paused=false}}function d(e){if(!t||t.destroyed||!t.$wrapperEl)return;if(e.target!==t.$wrapperEl[0])return;["transitionend","webkitTransitionEnd"].forEach((e=>{t.$wrapperEl[0].removeEventListener(e,d)}));t.autoplay.paused=false;if(!t.autoplay.running){c()}else{s()}}function h(){if(t.params.autoplay.disableOnInteraction){c()}else{i("autoplayPause");l()}["transitionend","webkitTransitionEnd"].forEach((e=>{t.$wrapperEl[0].removeEventListener(e,d)}))}function p(){if(t.params.autoplay.disableOnInteraction){return}t.autoplay.paused=false;i("autoplayResume");s()}function v(){if(t.params.autoplay.pauseOnMouseEnter){t.$el.on("mouseenter",h);t.$el.on("mouseleave",p)}}function g(){t.$el.off("mouseenter",h);t.$el.off("mouseleave",p)}n("init",(()=>{if(t.params.autoplay.enabled){u();const e=a();e.addEventListener("visibilitychange",f);v()}}));n("beforeTransitionStart",((e,r,n)=>{if(t.autoplay.running){if(n||!t.params.autoplay.disableOnInteraction){t.autoplay.pause(r)}else{c()}}}));n("sliderFirstMove",(()=>{if(t.autoplay.running){if(t.params.autoplay.disableOnInteraction){c()}else{l()}}}));n("touchEnd",(()=>{if(t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction){s()}}));n("destroy",(()=>{g();if(t.autoplay.running){c()}const e=a();e.removeEventListener("visibilitychange",f)}));Object.assign(t.autoplay,{pause:l,run:s,start:u,stop:c})}function Jr(e){let{swiper:t,extendParams:r,on:n}=e;r({thumbs:{swiper:null,multipleActiveThumbs:true,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=false;let o=false;t.thumbs={swiper:null};function a(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const r=e.clickedIndex;const n=e.clickedSlide;if(n&&Ze(n).hasClass(t.params.thumbs.slideThumbActiveClass))return;if(typeof r==="undefined"||r===null)return;let i;if(e.params.loop){i=parseInt(Ze(e.clickedSlide).attr("data-swiper-slide-index"),10)}else{i=r}if(t.params.loop){let e=t.activeIndex;if(t.slides.eq(e).hasClass(t.params.slideDuplicateClass)){t.loopFix();t._clientLeft=t.$wrapperEl[0].clientLeft;e=t.activeIndex}const r=t.slides.eq(e).prevAll(`[data-swiper-slide-index="${i}"]`).eq(0).index();const n=t.slides.eq(e).nextAll(`[data-swiper-slide-index="${i}"]`).eq(0).index();if(typeof r==="undefined")i=n;else if(typeof n==="undefined")i=r;else if(n-e<e-r)i=n;else i=r}t.slideTo(i)}function s(){const{thumbs:e}=t.params;if(i)return false;i=true;const r=t.constructor;if(e.swiper instanceof r){t.thumbs.swiper=e.swiper;Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:true,slideToClickedSlide:false});Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:true,slideToClickedSlide:false})}else if(nt(e.swiper)){const n=Object.assign({},e.swiper);Object.assign(n,{watchSlidesProgress:true,slideToClickedSlide:false});t.thumbs.swiper=new r(n);o=true}t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass);t.thumbs.swiper.on("tap",a);return true}function u(e){const r=t.thumbs.swiper;if(!r||r.destroyed)return;const n=r.params.slidesPerView==="auto"?r.slidesPerViewDynamic():r.params.slidesPerView;let i=1;const o=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides){i=t.params.slidesPerView}if(!t.params.thumbs.multipleActiveThumbs){i=1}i=Math.floor(i);r.slides.removeClass(o);if(r.params.loop||r.params.virtual&&r.params.virtual.enabled){for(let e=0;e<i;e+=1){r.$wrapperEl.children(`[data-swiper-slide-index="${t.realIndex+e}"]`).addClass(o)}}else{for(let e=0;e<i;e+=1){r.slides.eq(t.realIndex+e).addClass(o)}}const a=t.params.thumbs.autoScrollOffset;const s=a&&!r.params.loop;if(t.realIndex!==r.realIndex||s){let i=r.activeIndex;let o;let u;if(r.params.loop){if(r.slides.eq(i).hasClass(r.params.slideDuplicateClass)){r.loopFix();r._clientLeft=r.$wrapperEl[0].clientLeft;i=r.activeIndex}const e=r.slides.eq(i).prevAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index();const n=r.slides.eq(i).nextAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index();if(typeof e==="undefined"){o=n}else if(typeof n==="undefined"){o=e}else if(n-i===i-e){o=r.params.slidesPerGroup>1?n:i}else if(n-i<i-e){o=n}else{o=e}u=t.activeIndex>t.previousIndex?"next":"prev"}else{o=t.realIndex;u=o>t.previousIndex?"next":"prev"}if(s){o+=u==="next"?a:-1*a}if(r.visibleSlidesIndexes&&r.visibleSlidesIndexes.indexOf(o)<0){if(r.params.centeredSlides){if(o>i){o=o-Math.floor(n/2)+1}else{o=o+Math.floor(n/2)-1}}else if(o>i&&r.params.slidesPerGroup===1){}r.slideTo(o,e?0:undefined)}}}n("beforeInit",(()=>{const{thumbs:e}=t.params;if(!e||!e.swiper)return;s();u(true)}));n("slideChange update resize observerUpdate",(()=>{u()}));n("setTransition",((e,r)=>{const n=t.thumbs.swiper;if(!n||n.destroyed)return;n.setTransition(r)}));n("beforeDestroy",(()=>{const e=t.thumbs.swiper;if(!e||e.destroyed)return;if(o){e.destroy()}}));Object.assign(t.thumbs,{init:s,update:u})}function Zr(e){let{swiper:t,extendParams:r,emit:n,once:i}=e;r({freeMode:{enabled:false,momentum:true,momentumRatio:1,momentumBounce:true,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:false,minimumVelocity:.02}});function o(){const e=t.getTranslate();t.setTranslate(e);t.setTransition(0);t.touchEventsData.velocities.length=0;t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})}function a(){const{touchEventsData:e,touches:r}=t;if(e.velocities.length===0){e.velocities.push({position:r[t.isHorizontal()?"startX":"startY"],time:e.touchStartTime})}e.velocities.push({position:r[t.isHorizontal()?"currentX":"currentY"],time:et()})}function s(e){let{currentPos:r}=e;const{params:o,$wrapperEl:a,rtlTranslate:s,snapGrid:u,touchEventsData:c}=t;const l=et();const f=l-c.touchStartTime;if(r<-t.minTranslate()){t.slideTo(t.activeIndex);return}if(r>-t.maxTranslate()){if(t.slides.length<u.length){t.slideTo(u.length-1)}else{t.slideTo(t.slides.length-1)}return}if(o.freeMode.momentum){if(c.velocities.length>1){const e=c.velocities.pop();const r=c.velocities.pop();const n=e.position-r.position;const i=e.time-r.time;t.velocity=n/i;t.velocity/=2;if(Math.abs(t.velocity)<o.freeMode.minimumVelocity){t.velocity=0}if(i>150||et()-e.time>300){t.velocity=0}}else{t.velocity=0}t.velocity*=o.freeMode.momentumVelocityRatio;c.velocities.length=0;let e=1e3*o.freeMode.momentumRatio;const r=t.velocity*e;let l=t.translate+r;if(s)l=-l;let f=false;let d;const h=Math.abs(t.velocity)*20*o.freeMode.momentumBounceRatio;let p;if(l<t.maxTranslate()){if(o.freeMode.momentumBounce){if(l+t.maxTranslate()<-h){l=t.maxTranslate()-h}d=t.maxTranslate();f=true;c.allowMomentumBounce=true}else{l=t.maxTranslate()}if(o.loop&&o.centeredSlides)p=true}else if(l>t.minTranslate()){if(o.freeMode.momentumBounce){if(l-t.minTranslate()>h){l=t.minTranslate()+h}d=t.minTranslate();f=true;c.allowMomentumBounce=true}else{l=t.minTranslate()}if(o.loop&&o.centeredSlides)p=true}else if(o.freeMode.sticky){let e;for(let t=0;t<u.length;t+=1){if(u[t]>-l){e=t;break}}if(Math.abs(u[e]-l)<Math.abs(u[e-1]-l)||t.swipeDirection==="next"){l=u[e]}else{l=u[e-1]}l=-l}if(p){i("transitionEnd",(()=>{t.loopFix()}))}if(t.velocity!==0){if(s){e=Math.abs((-l-t.translate)/t.velocity)}else{e=Math.abs((l-t.translate)/t.velocity)}if(o.freeMode.sticky){const r=Math.abs((s?-l:l)-t.translate);const n=t.slidesSizesGrid[t.activeIndex];if(r<n){e=o.speed}else if(r<2*n){e=o.speed*1.5}else{e=o.speed*2.5}}}else if(o.freeMode.sticky){t.slideToClosest();return}if(o.freeMode.momentumBounce&&f){t.updateProgress(d);t.setTransition(e);t.setTranslate(l);t.transitionStart(true,t.swipeDirection);t.animating=true;a.transitionEnd((()=>{if(!t||t.destroyed||!c.allowMomentumBounce)return;n("momentumBounce");t.setTransition(o.speed);setTimeout((()=>{t.setTranslate(d);a.transitionEnd((()=>{if(!t||t.destroyed)return;t.transitionEnd()}))}),0)}))}else if(t.velocity){n("_freeModeNoMomentumRelease");t.updateProgress(l);t.setTransition(e);t.setTranslate(l);t.transitionStart(true,t.swipeDirection);if(!t.animating){t.animating=true;a.transitionEnd((()=>{if(!t||t.destroyed)return;t.transitionEnd()}))}}else{t.updateProgress(l)}t.updateActiveIndex();t.updateSlidesClasses()}else if(o.freeMode.sticky){t.slideToClosest();return}else if(o.freeMode){n("_freeModeNoMomentumRelease")}if(!o.freeMode.momentum||f>=o.longSwipesMs){t.updateProgress();t.updateActiveIndex();t.updateSlidesClasses()}}Object.assign(t,{freeMode:{onTouchStart:o,onTouchMove:a,onTouchEnd:s}})}function Xr(e){let{swiper:t,extendParams:r}=e;r({grid:{rows:1,fill:"column"}});let n;let i;let o;const a=e=>{const{slidesPerView:r}=t.params;const{rows:a,fill:s}=t.params.grid;i=n/a;o=Math.floor(e/a);if(Math.floor(e/a)===e/a){n=e}else{n=Math.ceil(e/a)*a}if(r!=="auto"&&s==="row"){n=Math.max(n,r*a)}};const s=(e,r,a,s)=>{const{slidesPerGroup:u,spaceBetween:c}=t.params;const{rows:l,fill:f}=t.params.grid;let d;let h;let p;if(f==="row"&&u>1){const t=Math.floor(e/(u*l));const i=e-l*u*t;const o=t===0?u:Math.min(Math.ceil((a-t*l*u)/l),u);p=Math.floor(i/o);h=i-p*o+t*u;d=h+p*n/l;r.css({"-webkit-order":d,order:d})}else if(f==="column"){h=Math.floor(e/l);p=e-h*l;if(h>o||h===o&&p===l-1){p+=1;if(p>=l){p=0;h+=1}}}else{p=Math.floor(e/i);h=e-p*i}r.css(s("margin-top"),p!==0?c&&`${c}px`:"")};const u=(e,r,i)=>{const{spaceBetween:o,centeredSlides:a,roundLengths:s}=t.params;const{rows:u}=t.params.grid;t.virtualSize=(e+o)*n;t.virtualSize=Math.ceil(t.virtualSize/u)-o;t.$wrapperEl.css({[i("width")]:`${t.virtualSize+o}px`});if(a){r.splice(0,r.length);const e=[];for(let n=0;n<r.length;n+=1){let i=r[n];if(s)i=Math.floor(i);if(r[n]<t.virtualSize+r[0])e.push(i)}r.push(...e)}};t.grid={initSlides:a,updateSlide:s,updateWrapperSize:u}}function Qr(e){const t=this;const{$wrapperEl:r,params:n}=t;if(n.loop){t.loopDestroy()}if(typeof e==="object"&&"length"in e){for(let t=0;t<e.length;t+=1){if(e[t])r.append(e[t])}}else{r.append(e)}if(n.loop){t.loopCreate()}if(!n.observer){t.update()}}function en(e){const t=this;const{params:r,$wrapperEl:n,activeIndex:i}=t;if(r.loop){t.loopDestroy()}let o=i+1;if(typeof e==="object"&&"length"in e){for(let t=0;t<e.length;t+=1){if(e[t])n.prepend(e[t])}o=i+e.length}else{n.prepend(e)}if(r.loop){t.loopCreate()}if(!r.observer){t.update()}t.slideTo(o,0,false)}function tn(e,t){const r=this;const{$wrapperEl:n,params:i,activeIndex:o}=r;let a=o;if(i.loop){a-=r.loopedSlides;r.loopDestroy();r.slides=n.children(`.${i.slideClass}`)}const s=r.slides.length;if(e<=0){r.prependSlide(t);return}if(e>=s){r.appendSlide(t);return}let u=a>e?a+1:a;const c=[];for(let t=s-1;t>=e;t-=1){const e=r.slides.eq(t);e.remove();c.unshift(e)}if(typeof t==="object"&&"length"in t){for(let e=0;e<t.length;e+=1){if(t[e])n.append(t[e])}u=a>e?a+t.length:a}else{n.append(t)}for(let e=0;e<c.length;e+=1){n.append(c[e])}if(i.loop){r.loopCreate()}if(!i.observer){r.update()}if(i.loop){r.slideTo(u+r.loopedSlides,0,false)}else{r.slideTo(u,0,false)}}function rn(e){const t=this;const{params:r,$wrapperEl:n,activeIndex:i}=t;let o=i;if(r.loop){o-=t.loopedSlides;t.loopDestroy();t.slides=n.children(`.${r.slideClass}`)}let a=o;let s;if(typeof e==="object"&&"length"in e){for(let r=0;r<e.length;r+=1){s=e[r];if(t.slides[s])t.slides.eq(s).remove();if(s<a)a-=1}a=Math.max(a,0)}else{s=e;if(t.slides[s])t.slides.eq(s).remove();if(s<a)a-=1;a=Math.max(a,0)}if(r.loop){t.loopCreate()}if(!r.observer){t.update()}if(r.loop){t.slideTo(a+t.loopedSlides,0,false)}else{t.slideTo(a,0,false)}}function nn(){const e=this;const t=[];for(let r=0;r<e.slides.length;r+=1){t.push(r)}e.removeSlide(t)}function on(e){let{swiper:t}=e;Object.assign(t,{appendSlide:Qr.bind(t),prependSlide:en.bind(t),addSlide:tn.bind(t),removeSlide:rn.bind(t),removeAllSlides:nn.bind(t)})}function an(e){const{effect:t,swiper:r,on:n,setTranslate:i,setTransition:o,overwriteParams:a,perspective:s,recreateShadows:u,getEffectParams:c}=e;n("beforeInit",(()=>{if(r.params.effect!==t)return;r.classNames.push(`${r.params.containerModifierClass}${t}`);if(s&&s()){r.classNames.push(`${r.params.containerModifierClass}3d`)}const e=a?a():{};Object.assign(r.params,e);Object.assign(r.originalParams,e)}));n("setTranslate",(()=>{if(r.params.effect!==t)return;i()}));n("setTransition",((e,n)=>{if(r.params.effect!==t)return;o(n)}));n("transitionEnd",(()=>{if(r.params.effect!==t)return;if(u){if(!c||!c().slideShadows)return;r.slides.each((e=>{const t=r.$(e);t.find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}));u()}}));let l;n("virtualUpdate",(()=>{if(r.params.effect!==t)return;if(!r.slides.length){l=true}requestAnimationFrame((()=>{if(l&&r.slides&&r.slides.length){i();l=false}}))}))}function sn(e,t){if(e.transformEl){return t.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"})}return t}function un(e){let{swiper:t,duration:r,transformEl:n,allSlides:i}=e;const{slides:o,activeIndex:a,$wrapperEl:s}=t;if(t.params.virtualTranslate&&r!==0){let e=false;let r;if(i){r=n?o.find(n):o}else{r=n?o.eq(a).find(n):o.eq(a)}r.transitionEnd((()=>{if(e)return;if(!t||t.destroyed)return;e=true;t.animating=false;const r=["webkitTransitionEnd","transitionend"];for(let e=0;e<r.length;e+=1){s.trigger(r[e])}}))}}function cn(e){let{swiper:t,extendParams:r,on:n}=e;r({fadeEffect:{crossFade:false,transformEl:null}});const i=()=>{const{slides:e}=t;const r=t.params.fadeEffect;for(let n=0;n<e.length;n+=1){const e=t.slides.eq(n);const i=e[0].swiperSlideOffset;let o=-i;if(!t.params.virtualTranslate)o-=t.translate;let a=0;if(!t.isHorizontal()){a=o;o=0}const s=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);const u=sn(r,e);u.css({opacity:s}).transform(`translate3d(${o}px, ${a}px, 0px)`)}};const o=e=>{const{transformEl:r}=t.params.fadeEffect;const n=r?t.slides.find(r):t.slides;n.transition(e);un({swiper:t,duration:e,transformEl:r,allSlides:true})};an({effect:"fade",swiper:t,on:n,setTranslate:i,setTransition:o,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:true,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function ln(e){let{swiper:t,extendParams:r,on:n}=e;r({cubeEffect:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:.94}});const i=(e,t,r)=>{let n=r?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top");let i=r?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");if(n.length===0){n=Ze(`<div class="swiper-slide-shadow-${r?"left":"top"}"></div>`);e.append(n)}if(i.length===0){i=Ze(`<div class="swiper-slide-shadow-${r?"right":"bottom"}"></div>`);e.append(i)}if(n.length)n[0].style.opacity=Math.max(-t,0);if(i.length)i[0].style.opacity=Math.max(t,0)};const o=()=>{const e=t.isHorizontal();t.slides.each((t=>{const r=Math.max(Math.min(t.progress,1),-1);i(Ze(t),r,e)}))};const a=()=>{const{$el:e,$wrapperEl:r,slides:n,width:o,height:a,rtlTranslate:s,size:u,browser:c}=t;const l=t.params.cubeEffect;const f=t.isHorizontal();const d=t.virtual&&t.params.virtual.enabled;let h=0;let p;if(l.shadow){if(f){p=r.find(".swiper-cube-shadow");if(p.length===0){p=Ze('<div class="swiper-cube-shadow"></div>');r.append(p)}p.css({height:`${o}px`})}else{p=e.find(".swiper-cube-shadow");if(p.length===0){p=Ze('<div class="swiper-cube-shadow"></div>');e.append(p)}}}for(let e=0;e<n.length;e+=1){const t=n.eq(e);let r=e;if(d){r=parseInt(t.attr("data-swiper-slide-index"),10)}let o=r*90;let a=Math.floor(o/360);if(s){o=-o;a=Math.floor(-o/360)}const c=Math.max(Math.min(t[0].progress,1),-1);let p=0;let v=0;let g=0;if(r%4===0){p=-a*4*u;g=0}else if((r-1)%4===0){p=0;g=-a*4*u}else if((r-2)%4===0){p=u+a*4*u;g=u}else if((r-3)%4===0){p=-u;g=3*u+u*4*a}if(s){p=-p}if(!f){v=p;p=0}const m=`rotateX(${f?0:-o}deg) rotateY(${f?o:0}deg) translate3d(${p}px, ${v}px, ${g}px)`;if(c<=1&&c>-1){h=r*90+c*90;if(s)h=-r*90-c*90}t.transform(m);if(l.slideShadows){i(t,c,f)}}r.css({"-webkit-transform-origin":`50% 50% -${u/2}px`,"transform-origin":`50% 50% -${u/2}px`});if(l.shadow){if(f){p.transform(`translate3d(0px, ${o/2+l.shadowOffset}px, ${-o/2}px) rotateX(90deg) rotateZ(0deg) scale(${l.shadowScale})`)}else{const e=Math.abs(h)-Math.floor(Math.abs(h)/90)*90;const t=1.5-(Math.sin(e*2*Math.PI/360)/2+Math.cos(e*2*Math.PI/360)/2);const r=l.shadowScale;const n=l.shadowScale/t;const i=l.shadowOffset;p.transform(`scale3d(${r}, 1, ${n}) translate3d(0px, ${a/2+i}px, ${-a/2/n}px) rotateX(-90deg)`)}}const v=c.isSafari||c.isWebView?-u/2:0;r.transform(`translate3d(0px,0,${v}px) rotateX(${t.isHorizontal()?0:h}deg) rotateY(${t.isHorizontal()?-h:0}deg)`);r[0].style.setProperty("--swiper-cube-translate-z",`${v}px`)};const s=e=>{const{$el:r,slides:n}=t;n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e);if(t.params.cubeEffect.shadow&&!t.isHorizontal()){r.find(".swiper-cube-shadow").transition(e)}};an({effect:"cube",swiper:t,on:n,setTranslate:a,setTransition:s,recreateShadows:o,getEffectParams:()=>t.params.cubeEffect,perspective:()=>true,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:true,resistanceRatio:0,spaceBetween:0,centeredSlides:false,virtualTranslate:true})})}function fn(e,t,r){const n=`swiper-slide-shadow${r?`-${r}`:""}`;const i=e.transformEl?t.find(e.transformEl):t;let o=i.children(`.${n}`);if(!o.length){o=Ze(`<div class="swiper-slide-shadow${r?`-${r}`:""}"></div>`);i.append(o)}return o}function dn(e){let{swiper:t,extendParams:r,on:n}=e;r({flipEffect:{slideShadows:true,limitRotation:true,transformEl:null}});const i=(e,r,n)=>{let i=t.isHorizontal()?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top");let o=t.isHorizontal()?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");if(i.length===0){i=fn(n,e,t.isHorizontal()?"left":"top")}if(o.length===0){o=fn(n,e,t.isHorizontal()?"right":"bottom")}if(i.length)i[0].style.opacity=Math.max(-r,0);if(o.length)o[0].style.opacity=Math.max(r,0)};const o=()=>{const e=t.params.flipEffect;t.slides.each((r=>{const n=Ze(r);let o=n[0].progress;if(t.params.flipEffect.limitRotation){o=Math.max(Math.min(r.progress,1),-1)}i(n,o,e)}))};const a=()=>{const{slides:e,rtlTranslate:r}=t;const n=t.params.flipEffect;for(let o=0;o<e.length;o+=1){const a=e.eq(o);let s=a[0].progress;if(t.params.flipEffect.limitRotation){s=Math.max(Math.min(a[0].progress,1),-1)}const u=a[0].swiperSlideOffset;const c=-180*s;let l=c;let f=0;let d=t.params.cssMode?-u-t.translate:-u;let h=0;if(!t.isHorizontal()){h=d;d=0;f=-l;l=0}else if(r){l=-l}a[0].style.zIndex=-Math.abs(Math.round(s))+e.length;if(n.slideShadows){i(a,s,n)}const p=`translate3d(${d}px, ${h}px, 0px) rotateX(${f}deg) rotateY(${l}deg)`;const v=sn(n,a);v.transform(p)}};const s=e=>{const{transformEl:r}=t.params.flipEffect;const n=r?t.slides.find(r):t.slides;n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e);un({swiper:t,duration:e,transformEl:r})};an({effect:"flip",swiper:t,on:n,setTranslate:a,setTransition:s,recreateShadows:o,getEffectParams:()=>t.params.flipEffect,perspective:()=>true,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:true,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function hn(e){let{swiper:t,extendParams:r,on:n}=e;r({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:true,transformEl:null}});const i=()=>{const{width:e,height:r,slides:n,slidesSizesGrid:i}=t;const o=t.params.coverflowEffect;const a=t.isHorizontal();const s=t.translate;const u=a?-s+e/2:-s+r/2;const c=a?o.rotate:-o.rotate;const l=o.depth;for(let e=0,t=n.length;e<t;e+=1){const t=n.eq(e);const r=i[e];const s=t[0].swiperSlideOffset;const f=(u-s-r/2)/r;const d=typeof o.modifier==="function"?o.modifier(f):f*o.modifier;let h=a?c*d:0;let p=a?0:c*d;let v=-l*Math.abs(d);let g=o.stretch;if(typeof g==="string"&&g.indexOf("%")!==-1){g=parseFloat(o.stretch)/100*r}let m=a?0:g*d;let y=a?g*d:0;let _=1-(1-o.scale)*Math.abs(d);if(Math.abs(y)<.001)y=0;if(Math.abs(m)<.001)m=0;if(Math.abs(v)<.001)v=0;if(Math.abs(h)<.001)h=0;if(Math.abs(p)<.001)p=0;if(Math.abs(_)<.001)_=0;const b=`translate3d(${y}px,${m}px,${v}px)  rotateX(${p}deg) rotateY(${h}deg) scale(${_})`;const E=sn(o,t);E.transform(b);t[0].style.zIndex=-Math.abs(Math.round(d))+1;if(o.slideShadows){let e=a?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top");let r=a?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");if(e.length===0){e=fn(o,t,a?"left":"top")}if(r.length===0){r=fn(o,t,a?"right":"bottom")}if(e.length)e[0].style.opacity=d>0?d:0;if(r.length)r[0].style.opacity=-d>0?-d:0}}};const o=e=>{const{transformEl:r}=t.params.coverflowEffect;const n=r?t.slides.find(r):t.slides;n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)};an({effect:"coverflow",swiper:t,on:n,setTranslate:i,setTransition:o,perspective:()=>true,overwriteParams:()=>({watchSlidesProgress:true})})}function pn(e){let{swiper:t,extendParams:r,on:n}=e;r({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:false,progressMultiplier:1,perspective:true,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const i=e=>{if(typeof e==="string")return e;return`${e}px`};const o=()=>{const{slides:e,$wrapperEl:r,slidesSizesGrid:n}=t;const o=t.params.creativeEffect;const{progressMultiplier:a}=o;const s=t.params.centeredSlides;if(s){const e=n[0]/2-t.params.slidesOffsetBefore||0;r.transform(`translateX(calc(50% - ${e}px))`)}for(let r=0;r<e.length;r+=1){const n=e.eq(r);const u=n[0].progress;const c=Math.min(Math.max(n[0].progress,-o.limitProgress),o.limitProgress);let l=c;if(!s){l=Math.min(Math.max(n[0].originalProgress,-o.limitProgress),o.limitProgress)}const f=n[0].swiperSlideOffset;const d=[t.params.cssMode?-f-t.translate:-f,0,0];const h=[0,0,0];let p=false;if(!t.isHorizontal()){d[1]=d[0];d[0]=0}let v={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};if(c<0){v=o.next;p=true}else if(c>0){v=o.prev;p=true}d.forEach(((e,t)=>{d[t]=`calc(${e}px + (${i(v.translate[t])} * ${Math.abs(c*a)}))`}));h.forEach(((e,t)=>{h[t]=v.rotate[t]*Math.abs(c*a)}));n[0].style.zIndex=-Math.abs(Math.round(u))+e.length;const g=d.join(", ");const m=`rotateX(${h[0]}deg) rotateY(${h[1]}deg) rotateZ(${h[2]}deg)`;const y=l<0?`scale(${1+(1-v.scale)*l*a})`:`scale(${1-(1-v.scale)*l*a})`;const _=l<0?1+(1-v.opacity)*l*a:1-(1-v.opacity)*l*a;const b=`translate3d(${g}) ${m} ${y}`;if(p&&v.shadow||!p){let e=n.children(".swiper-slide-shadow");if(e.length===0&&v.shadow){e=fn(o,n)}if(e.length){const t=o.shadowPerProgress?c*(1/o.limitProgress):c;e[0].style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const E=sn(o,n);E.transform(b).css({opacity:_});if(v.origin){E.css("transform-origin",v.origin)}}};const a=e=>{const{transformEl:r}=t.params.creativeEffect;const n=r?t.slides.find(r):t.slides;n.transition(e).find(".swiper-slide-shadow").transition(e);un({swiper:t,duration:e,transformEl:r,allSlides:true})};an({effect:"creative",swiper:t,on:n,setTranslate:o,setTransition:a,perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:true,virtualTranslate:!t.params.cssMode})})}function vn(e){let{swiper:t,extendParams:r,on:n}=e;r({cardsEffect:{slideShadows:true,transformEl:null,rotate:true}});const i=()=>{const{slides:e,activeIndex:r}=t;const n=t.params.cardsEffect;const{startTranslate:i,isTouched:o}=t.touchEventsData;const a=t.translate;for(let s=0;s<e.length;s+=1){const u=e.eq(s);const c=u[0].progress;const l=Math.min(Math.max(c,-4),4);let f=u[0].swiperSlideOffset;if(t.params.centeredSlides&&!t.params.cssMode){t.$wrapperEl.transform(`translateX(${t.minTranslate()}px)`)}if(t.params.centeredSlides&&t.params.cssMode){f-=e[0].swiperSlideOffset}let d=t.params.cssMode?-f-t.translate:-f;let h=0;const p=-100*Math.abs(l);let v=1;let g=-2*l;let m=8-Math.abs(l)*.75;const y=t.virtual&&t.params.virtual.enabled?t.virtual.from+s:s;const _=(y===r||y===r-1)&&l>0&&l<1&&(o||t.params.cssMode)&&a<i;const b=(y===r||y===r+1)&&l<0&&l>-1&&(o||t.params.cssMode)&&a>i;if(_||b){const e=(1-Math.abs((Math.abs(l)-.5)/.5))**.5;g+=-28*l*e;v+=-.5*e;m+=96*e;h=`${-25*e*Math.abs(l)}%`}if(l<0){d=`calc(${d}px + (${m*Math.abs(l)}%))`}else if(l>0){d=`calc(${d}px + (-${m*Math.abs(l)}%))`}else{d=`${d}px`}if(!t.isHorizontal()){const e=h;h=d;d=e}const E=l<0?`${1+(1-v)*l}`:`${1-(1-v)*l}`;const S=`\n        translate3d(${d}, ${h}, ${p}px)\n        rotateZ(${n.rotate?g:0}deg)\n        scale(${E})\n      `;if(n.slideShadows){let e=u.find(".swiper-slide-shadow");if(e.length===0){e=fn(n,u)}if(e.length)e[0].style.opacity=Math.min(Math.max((Math.abs(l)-.5)/.5,0),1)}u[0].style.zIndex=-Math.abs(Math.round(c))+e.length;const w=sn(n,u);w.transform(S)}};const o=e=>{const{transformEl:r}=t.params.cardsEffect;const n=r?t.slides.find(r):t.slides;n.transition(e).find(".swiper-slide-shadow").transition(e);un({swiper:t,duration:e,transformEl:r})};an({effect:"cards",swiper:t,on:n,setTranslate:i,setTransition:o,perspective:()=>true,overwriteParams:()=>({watchSlidesProgress:true,virtualTranslate:!t.params.cssMode})})}}};var t={};function r(n){var i=t[n];if(i!==undefined){return i.exports}var o=t[n]={exports:{}};e[n].call(o.exports,o,o.exports,r);return o.exports}(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;r.d(t,{a:t});return t}})();(()=>{var e=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;var t;r.t=function(n,i){if(i&1)n=this(n);if(i&8)return n;if(typeof n==="object"&&n){if(i&4&&n.__esModule)return n;if(i&16&&typeof n.then==="function")return n}var o=Object.create(null);r.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=i&2&&n;typeof s=="object"&&!~t.indexOf(s);s=e(s)){Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]))}a["default"]=()=>n;r.d(o,a);return o}})();(()=>{r.d=(e,t)=>{for(var n in t){if(r.o(t,n)&&!r.o(e,n)){Object.defineProperty(e,n,{enumerable:true,get:t[n]})}}}})();(()=>{r.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{r.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();var n={};(()=>{var e=n;Object.defineProperty(e,"X",{value:true});e.M=void 0;var t=r(91194);var i=r(38598);var o=r(62850);var a=r(14274);var s=r(3017);var u=r(98535);var c=r(98951);var l=T(r(88789));var f=r(33181);var d=r(25568);var h=r(50730);var p=r(83353);var v=r(54073);var g=r(80175);var m=r(38921);var y=r(31194);var _=r(51988);var b=r(66541);var E=T(r(45159));var S=r(12262);var w=r(22155);function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function R(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e){var t=k(e,"string");return"symbol"==typeof t?t:t+""}function k(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var O=void 0&&(void 0).__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};const P=new o.Log({module:"HwICS"});let M=e.M=function(){function e(){C(this,e)}return R(e,null,[{key:"checkBrowserSupport",value:async function e(t=false){var r,n;if(f.Utils.getBrowserInfo()===c.BrowserType.UNSUPPORTED){return false}const i=await l.default.checkSystemRequirements(t,"recvonly");if(i===true){P.info("checkBrowserSupport result","true");return true}P.warn("checkBrowserSupport error:",i===null||i===void 0?void 0:(r=i.getCode)===null||r===void 0?void 0:r.call(i),(i===null||i===void 0?void 0:(n=i.getMsg)===null||n===void 0?void 0:n.call(i))||(i===null||i===void 0?void 0:i.toString()));return false}},{key:"checkTransparentBgSupport",value:async function e(){return!!window.VideoFrame}},{key:"create",value:async function e(t){var r;const n=(0,a.createEntry)("create");await u.HwICS.destroy();const i=u.HwICS.dealInitParam({param:t,entry:n});(r=document.getElementById(t.containerId))===null||r===void 0?void 0:r.addEventListener("click",d.dealGlobalClick,{capture:true});if(!i){return}const o=await s.Machine2MachineVerification.onceCodeAuth({onceCode:t.onceCode||"",entry:n});if(!o){return}await u.HwICS.joinChatRoom(n);E.default.getInstance().clearCount(n)}},{key:"setConfig",value:async function e(t){const r=(0,a.createEntry)("setConfig");const n=i.ConfigManager.getConfig(S.ConfigKey.ENABLE_LOCAL_WAKEUP);i.ConfigManager.setConfig(t);if(t.enableLocalWakeup&&!n){await w.LocalWakeup.initWakeup({entry:r,language:y.LanguageManager.getLocalLangCode(r)===_.LanguageCode.EN_US?"en":"zh",wakeupCallback:h.ChatManager.wakeupCallback})}if(t.enableLocalWakeup===false&&n){await w.LocalWakeup.clearWakeup("setConfig")}}},{key:"setLogLevel",value:function e(t){return u.HwICS.setLogLevel(t)}},{key:"addEventListeners",value:function e(r){return t.EventManager.addEventListeners(r)}},{key:"destroy",value:function e(){return u.HwICS.destroy()}},{key:"getJobInfo",value:function e(){return u.HwICS.getJobInfo()}},{key:"startSpeak",value:async function t(){return e.startUserSpeak()}},{key:"stopSpeak",value:async function t(){return e.stopUserSpeak()}},{key:"startUserSpeak",value:async function e(){return h.ChatManager.startUserSpeak()}},{key:"stopUserSpeak",value:async function e(){return b.StreamAdapter.muteLocalAudio("sdk.stopUserSpeak")}},{key:"unmuteRemoteAudio",value:function e(){return b.StreamAdapter.unmuteRemoteAudio()}},{key:"muteRemoteAudio",value:function e(){return b.StreamAdapter.muteRemoteAudio()}},{key:"interruptSpeaking",value:function e(){return h.ChatManager.interruptSpeaking("SDK")}},{key:"sendTextQuestion",value:function e(t){return h.ChatManager.textQuestion({entry:"SDK",text:t.text})}},{key:"startChat",value:function e(t){return h.ChatManager.startChat({entry:"SDK",interactionMode:(t===null||t===void 0?void 0:t.interactionMode)||m.InteractionMode.AUDIO,wakeupType:t===null||t===void 0?void 0:t.wakeupType})}},{key:"stopChat",value:function e(){return h.ChatManager.stopChat({entry:"SDK"})}},{key:"activeInteractionMode",value:function e(){return g.PortalWssManager.getInstance().activeInteractionMode("SDK")}},{key:"interactionModeSwitch",value:function e(t){return h.ChatManager.interactionModeSwitch({entry:"SDK",interactionMode:t===null||t===void 0?void 0:t.interactionMode})}},{key:"getLanguageInfo",value:function e(){return y.LanguageManager.getLanguageInfo("SDK")}},{key:"changeLanguage",value:function e(t){return y.LanguageManager.setRemoteAndLocalLangCode({entry:"SDK",langCode:t===null||t===void 0?void 0:t.langCode})}},{key:"sendDrivenText",value:async function e(t){return h.ChatManager.sendDrivenText(t)}},{key:"startLocalWakeupRecord",value:async function e(){return w.LocalWakeup.startRecord()}},{key:"stopLocalWakeupRecord",value:async function e(){return w.LocalWakeup.stopRecord()}},{key:"initResourcePath",value:async function e(t){return w.LocalWakeup.initResourcePath(t)}}])}();M.version="3.2.0"||0;M.buildTime="202503101423"||0;O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"checkBrowserSupport",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"checkTransparentBgSupport",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"create",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"setConfig",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"setLogLevel",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"addEventListeners",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"destroy",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"getJobInfo",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"startSpeak",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"stopSpeak",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"startUserSpeak",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"stopUserSpeak",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"unmuteRemoteAudio",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"muteRemoteAudio",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"interruptSpeaking",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"sendTextQuestion",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"startChat",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"stopChat",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"activeInteractionMode",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"interactionModeSwitch",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"changeLanguage",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"sendDrivenText",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"startLocalWakeupRecord",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"stopLocalWakeupRecord",null);O([(0,a.printfDecorator)(P),(0,v.methodDecorator)(p.Arg1Map.HWICSUISDK_METHOD)],M,"initResourcePath",null);window.HwICSUiSdk=M})();var i=n.M;var o=n.X;export{i as HwICSUiSdk,o as __esModule};